[
   {
      "author_association" : "MEMBER",
      "body" : "I know, this comes up every timeÃ¢ÂÂsee for example https://github.com/bitcoin/bitcoin/pull/14476#issuecomment-430526327 Ã¢ÂÂwasn't the idea to not add more pure-utility RPC calls?\r\nWe really need a clear stance on this.",
      "created_at" : "2018-11-06T14:30:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#issuecomment-436271763",
      "id" : 436271763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14667",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNjI3MTc2Mw==",
      "updated_at" : "2018-11-06T14:55:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436271763",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14688](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14688.html) (Doc: update release notes for changes since 0.17.0 branch by harding)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-11-06T14:44:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#issuecomment-436276740",
      "id" : 436276740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14667",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNjI3Njc0MA==",
      "updated_at" : "2018-11-08T17:15:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436276740",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I created an issue to discuss a tool that could replace pure utility RPC calls: #14671",
      "created_at" : "2018-11-06T15:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#issuecomment-436291363",
      "id" : 436291363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14667",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNjI5MTM2Mw==",
      "updated_at" : "2018-11-06T15:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436291363",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r231426065"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231426065"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `request.params.empty()` instead of `request.params.size() < 1` :-)",
      "commit_id" : "9a55d5f9e3a92026c25d26a5c2fd531883ab3609",
      "created_at" : "2018-11-07T09:06:33Z",
      "diff_hunk" : "@@ -138,6 +139,64 @@ static UniValue createmultisig(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue deriveaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r231426065",
      "id" : 231426065,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTQyNjA2NQ==",
      "original_commit_id" : "4f6fa3172acc8d9a7fd243fa75336e29a7cc3a34",
      "original_position" : 14,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 172392258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667",
      "updated_at" : "2018-11-07T10:19:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231426065",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r231426262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231426262"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove this unused variable :-)",
      "commit_id" : "9a55d5f9e3a92026c25d26a5c2fd531883ab3609",
      "created_at" : "2018-11-07T09:07:10Z",
      "diff_hunk" : "@@ -138,6 +139,64 @@ static UniValue createmultisig(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue deriveaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)\n+        throw std::runtime_error(\n+            \"deriveaddress \\\"descriptor\\\"\\n\"\n+            \"\\nDerives the address corresponding to an output descriptor.\\n\"\n+            \"Examples of output descriptors are:\\n\"\n+            \"    pkh(<pubkey>)                        P2PKH outputs for the given pubkey\\n\"\n+            \"    wpkh(<pubkey>)                       Native segwit P2PKH outputs for the given pubkey\\n\"\n+            \"    sh(multi(<n>,<pubkey>,<pubkey>,...)) P2SH-multisig outputs for the given threshold and pubkeys\\n\"\n+            \"    raw(<hex script>)                    Outputs whose scriptPubKey equals the specified hex scripts\\n\"\n+            \"\\nIn the above, <pubkey> either refers to a fixed public key in hexadecimal notation, or to an xpub/xprv optionally followed by one\\n\"\n+            \"or more path elements separated by \\\"/\\\", where \\\"h\\\" represents a hardened child key.\\n\"\n+            \"For more information on output descriptors, see the documentation in the doc/descriptors.md file.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"descriptor\\\"                     (string, required) The descriptor\\n\"\n+            \"\\nResult:\\n\"\n+            \"(string) The derived address\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nNative segwit receive address\\n\"\n+            + HelpExampleCli(\"deriveaddress\", \"\\\"wpkh([d34db33f/84h/0h/0h]xpub6DJ2dNUysrn5Vt36jH2KLBT2i1auw1tTSSomg8PhqNiUtx8QX2SvC9nrHu81fT41fvDUnhMjEzQgXnQjKEu3oaqMSzhSrHMxyyoEAmUHQbY/0/0)\\\"\") +\n+            \"\"\n+        );\n+\n+    RPCTypeCheck(request.params, {UniValue::VSTR});\n+\n+    UniValue result(UniValue::VSTR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r231426262",
      "id" : 231426262,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTQyNjI2Mg==",
      "original_commit_id" : "4f6fa3172acc8d9a7fd243fa75336e29a7cc3a34",
      "original_position" : 38,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 172392494,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667",
      "updated_at" : "2018-11-07T10:19:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/231426262",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-11-08T19:29:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#issuecomment-437125900",
      "id" : 437125900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14667",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNzEyNTkwMA==",
      "updated_at" : "2018-11-08T19:29:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437125900",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r232125638"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232125638"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It would be easy enough to add support for picking a specific index from a ranged descriptor, is there a reason you chose to disallow it? Just add a second parameter which specifies the index.\r\nEDIT: thinking about it, it would be just as easy to not use a ranged descriptor if we're only using a single key, don't worry.",
      "commit_id" : "9a55d5f9e3a92026c25d26a5c2fd531883ab3609",
      "created_at" : "2018-11-09T02:20:06Z",
      "diff_hunk" : "@@ -138,6 +139,63 @@ static UniValue createmultisig(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue deriveaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.empty() || request.params.size() > 1)\n+        throw std::runtime_error(\n+            \"deriveaddress \\\"descriptor\\\"\\n\"\n+            \"\\nDerives the address corresponding to an output descriptor.\\n\"\n+            \"Examples of output descriptors are:\\n\"\n+            \"    pkh(<pubkey>)                        P2PKH outputs for the given pubkey\\n\"\n+            \"    wpkh(<pubkey>)                       Native segwit P2PKH outputs for the given pubkey\\n\"\n+            \"    sh(multi(<n>,<pubkey>,<pubkey>,...)) P2SH-multisig outputs for the given threshold and pubkeys\\n\"\n+            \"    raw(<hex script>)                    Outputs whose scriptPubKey equals the specified hex scripts\\n\"\n+            \"\\nIn the above, <pubkey> either refers to a fixed public key in hexadecimal notation, or to an xpub/xprv optionally followed by one\\n\"\n+            \"or more path elements separated by \\\"/\\\", where \\\"h\\\" represents a hardened child key.\\n\"\n+            \"For more information on output descriptors, see the documentation in the doc/descriptors.md file.\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"descriptor\\\"                     (string, required) The descriptor\\n\"\n+            \"\\nResult:\\n\"\n+            \"(string) The derived address\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nNative segwit receive address\\n\"\n+            + HelpExampleCli(\"deriveaddress\", \"\\\"wpkh([d34db33f/84h/0h/0h]xpub6DJ2dNUysrn5Vt36jH2KLBT2i1auw1tTSSomg8PhqNiUtx8QX2SvC9nrHu81fT41fvDUnhMjEzQgXnQjKEu3oaqMSzhSrHMxyyoEAmUHQbY/0/0)\\\"\") +\n+            \"\"\n+        );\n+\n+    RPCTypeCheck(request.params, {UniValue::VSTR});\n+\n+    const std::string desc_str = request.params[0].get_str();\n+\n+    FlatSigningProvider provider;\n+    auto desc = Parse(desc_str, provider);\n+    if (!desc) {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Invalid descriptor\"));\n+    }\n+    if (desc->IsRange()){\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, strprintf(\"Descriptor range not supported\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14667#discussion_r232125638",
      "id" : 232125638,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjEyNTYzOA==",
      "original_commit_id" : "9a55d5f9e3a92026c25d26a5c2fd531883ab3609",
      "original_position" : 46,
      "path" : "src/rpc/misc.cpp",
      "position" : 46,
      "pull_request_review_id" : 173253304,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14667",
      "updated_at" : "2018-11-09T03:18:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232125638",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   }
]
