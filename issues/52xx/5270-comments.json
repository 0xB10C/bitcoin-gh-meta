[
   {
      "body" : "Wow, thanks for catching this.\r\n\r\nI was convinced that AcceptBlockHeader called CheckBlockHeader.",
      "created_at" : "2014-11-13T10:33:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-62871377",
      "id" : 62871377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-13T10:33:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62871377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Hm, now that you mention it, AcceptBlock *does* call CheckBlock.  So maybe the call to CheckBlockHeader should be moved inside of AcceptBlockHeader?  (Doesn't matter for the functionality, but is maybe cleaner and more consistent with the rest.)  So far I understood it as \"check first, then accept to only update the state\" (not quite, but more or less).",
      "created_at" : "2014-11-13T10:49:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-62873375",
      "id" : 62873375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-13T10:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62873375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=3",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "body" : "Indeed, that seems like the right place for it. Functionally it shouldn't matter, but it's strange that AcceptBlockHeader would accept an invalid header...",
      "created_at" : "2014-11-13T10:57:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-62874224",
      "id" : 62874224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-13T10:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62874224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Updated accordingly.  Note that `AcceptBlock` now calls the PoW check twice:  Once via `CheckBlock` and once via `AcceptBlockHeader`.  I guess that doesn't hurt, though.",
      "created_at" : "2014-11-13T19:07:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-62947509",
      "id" : 62947509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-13T19:07:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62947509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=3",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "body" : "Regarding repeated calls, see #5163.",
      "created_at" : "2014-11-13T23:38:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-62987088",
      "id" : 62987088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-13T23:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62987088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8286077?v=3",
         "events_url" : "https://api.github.com/users/21E14/events{/privacy}",
         "followers_url" : "https://api.github.com/users/21E14/followers",
         "following_url" : "https://api.github.com/users/21E14/following{/other_user}",
         "gists_url" : "https://api.github.com/users/21E14/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/21E14",
         "id" : 8286077,
         "login" : "21E14",
         "organizations_url" : "https://api.github.com/users/21E14/orgs",
         "received_events_url" : "https://api.github.com/users/21E14/received_events",
         "repos_url" : "https://api.github.com/users/21E14/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/21E14/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/21E14/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/21E14"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5270#discussion_r20371654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5270"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20371654"
         }
      },
      "body" : "I think it's incorrect to call this one redundant. It's the other one that is...",
      "commit_id" : "57425a24255c5af439241d59ad5a878b7a3771a7",
      "created_at" : "2014-11-14T17:08:51Z",
      "diff_hunk" : "@@ -2351,6 +2351,12 @@ bool AcceptBlockHeader(const CBlockHeader& block, CValidationState& state, CBloc\n         return true;\n     }\n \n+    // Check that the header is valid (particularly PoW).  This is mostly",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#discussion_r20371654",
      "id" : 20371654,
      "original_commit_id" : "bfaf3f0c39954239726410546990a229af89b70d",
      "original_position" : 4,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5270",
      "updated_at" : "2014-11-20T07:29:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20371654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "untested ACK",
      "created_at" : "2014-11-14T17:09:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63096567",
      "id" : 63096567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-14T17:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63096567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK only commithash bfaf3f0c39954239726410546990a229af89b70d (+/- the semi-invalid comment): http://bitcoin.ninja/TheBlueMatt-5270.txt",
      "created_at" : "2014-11-19T01:21:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63577243",
      "id" : 63577243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-19T01:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63577243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I can completely remove the comment.  Do you like that better?  Or any suggestions on what to say there instead?",
      "created_at" : "2014-11-19T06:19:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63597422",
      "id" : 63597422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-19T06:19:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63597422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=3",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "body" : "Can you move the comment to the CheckBlockHeader() call in CheckBlock()?",
      "created_at" : "2014-11-19T10:27:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63619704",
      "id" : 63619704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-19T10:27:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63619704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Done.",
      "created_at" : "2014-11-20T07:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63770620",
      "id" : 63770620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-20T07:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63770620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4943644?v=3",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "body" : "utACK commithash 57425a24255c5af439241d59ad5a878b7a3771a7 https://dev.visucore.com/bitcoin/acks/5270\r\n",
      "created_at" : "2014-11-20T12:27:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5270#issuecomment-63800740",
      "id" : 63800740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5270",
      "updated_at" : "2014-11-20T12:27:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63800740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
