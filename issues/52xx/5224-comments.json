[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933791"
         }
      },
      "body" : "Maybe\r\n```c++\r\nif (pubkey.IsCompressed() != fCompressed) {\r\n```",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:28:57Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933791",
      "id" : 19933791,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 5,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933807"
         }
      },
      "body" : "s/doing/done\r\n",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:29:22Z",
      "diff_hunk" : "@@ -136,6 +136,12 @@ class CKey\n     //! Derive BIP32 child key.\n     bool Derive(CKey& keyChild, unsigned char ccChild[32], unsigned int nChild, const unsigned char cc[32]) const;\n \n+    /**\n+     * Verify thoroughly whether a private key and a public key match.\n+     * This is doing using a different mechanism than just regenerating it.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933807",
      "id" : 19933807,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 6,
      "path" : "src/key.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933867"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933867"
         }
      },
      "body" : "please use str.data() instead of &str[0]\r\n",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:31:02Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, 8);\n+    uint256 hash;\n+    CHash256().Write((unsigned char*)&str[0], str.size()).Write(rnd, sizeof(rnd)).Finalize((unsigned char*)&hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933867",
      "id" : 19933867,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 12,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933944"
         }
      },
      "body" : "s/8/sizeof(rnd)/ ? (as you use that below too)\r\n",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:32:43Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, 8);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19933944",
      "id" : 19933944,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 10,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19933944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934315"
         }
      },
      "body" : "fCompressed / fValid no longer set?",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:42:03Z",
      "diff_hunk" : "@@ -156,16 +170,10 @@ bool CKey::Load(CPrivKey &privkey, CPubKey &vchPubKey, bool fSkipCheck=false) {\n         return false;\n     key.GetSecretBytes(vch);\n #endif\n-    fCompressed = vchPubKey.IsCompressed();\n-    fValid = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934315",
      "id" : 19934315,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 26,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934803"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934803"
         }
      },
      "body" : "Done.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:51:00Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934803",
      "id" : 19934803,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 5,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934803",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934813"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934813"
         }
      },
      "body" : "Done doing the s/doing/done/.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:51:14Z",
      "diff_hunk" : "@@ -136,6 +136,12 @@ class CKey\n     //! Derive BIP32 child key.\n     bool Derive(CKey& keyChild, unsigned char ccChild[32], unsigned int nChild, const unsigned char cc[32]) const;\n \n+    /**\n+     * Verify thoroughly whether a private key and a public key match.\n+     * This is doing using a different mechanism than just regenerating it.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934813",
      "id" : 19934813,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 6,
      "path" : "src/key.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934820"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934820"
         }
      },
      "body" : "Done.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:51:22Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, 8);\n+    uint256 hash;\n+    CHash256().Write((unsigned char*)&str[0], str.size()).Write(rnd, sizeof(rnd)).Finalize((unsigned char*)&hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934820",
      "id" : 19934820,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 12,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934838"
         }
      },
      "body" : "Done.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:51:42Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if ((pubkey.size() == 33) != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, 8);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934838",
      "id" : 19934838,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 10,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934849"
         }
      },
      "body" : "Ugh. Thankfully the tests caught this...",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T09:51:58Z",
      "diff_hunk" : "@@ -156,16 +170,10 @@ bool CKey::Load(CPrivKey &privkey, CPubKey &vchPubKey, bool fSkipCheck=false) {\n         return false;\n     key.GetSecretBytes(vch);\n #endif\n-    fCompressed = vchPubKey.IsCompressed();\n-    fValid = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19934849",
      "id" : 19934849,
      "original_commit_id" : "2637ba2ec51289d53d72fefd2148f9c1dd3d4dd2",
      "original_position" : 26,
      "path" : "src/key.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19934849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967353"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967353"
         }
      },
      "body" : "What use has the \\n here ;)?",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T19:20:55Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967353",
      "id" : 19967353,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 9,
      "path" : "src/key.cpp",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967430"
         }
      },
      "body" : "Exactly as much as the 24 character before it.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T19:21:51Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967430",
      "id" : 19967430,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 9,
      "path" : "src/key.cpp",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967455"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967455"
         }
      },
      "body" : "As GetRandBytes() can fail and this is intended as an intensive check you should perhaps consider that.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T19:22:08Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, sizeof(rnd));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967455",
      "id" : 19967455,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 10,
      "path" : "src/key.cpp",
      "position" : 10,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967501"
         }
      },
      "body" : "Just asking, could (unsigned char*)str.data() be changed to just .c_str()? I guess no, because it's not unsigned ^^.",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-06T19:22:49Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, sizeof(rnd));\n+    uint256 hash;\n+    CHash256().Write((unsigned char*)str.data(), str.size()).Write(rnd, sizeof(rnd)).Finalize((unsigned char*)&hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r19967501",
      "id" : 19967501,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 12,
      "path" : "src/key.cpp",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/19967501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I'd vote this wait on #5220, though concept ACK 100%.",
      "created_at" : "2014-11-06T19:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62035698",
      "id" : 62035698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-06T19:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62035698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r20003643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20003643"
         }
      },
      "body" : "@diapolo Please don't suggest that. If you want the data (to be used with `.size()`), use `.data()`. .`c_str()` is if you want a null-terminated string.\r\n\r\n",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-07T10:35:07Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, sizeof(rnd));\n+    uint256 hash;\n+    CHash256().Write((unsigned char*)str.data(), str.size()).Write(rnd, sizeof(rnd)).Finalize((unsigned char*)&hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r20003643",
      "id" : 20003643,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 12,
      "path" : "src/key.cpp",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20003643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@TheBlueMatt What rationale to wait? This seems self-contained and a useful sanity check no matter what.\r\n",
      "created_at" : "2014-11-07T10:35:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62125198",
      "id" : 62125198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-07T10:35:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62125198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r20007769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20007769"
         }
      },
      "body" : "Huh - I remember changing `GetRandBytes` to never fail, but stop with an assertion instead. There is no way bitcoin can handle a failing RNG gracefully. Seems that never got merged?\r\n",
      "commit_id" : "f321d6bfff4dbbb4c52d0f175a27d54b287e81ff",
      "created_at" : "2014-11-07T12:32:16Z",
      "diff_hunk" : "@@ -123,6 +123,20 @@ bool CKey::Sign(const uint256 &hash, std::vector<unsigned char>& vchSig, bool lo\n #endif\n }\n \n+bool CKey::VerifyPubKey(const CPubKey& pubkey) const {\n+    if (pubkey.IsCompressed() != fCompressed) {\n+        return false;\n+    }\n+    unsigned char rnd[8];\n+    std::string str = \"Bitcoin key verification\\n\";\n+    GetRandBytes(rnd, sizeof(rnd));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#discussion_r20007769",
      "id" : 20007769,
      "original_commit_id" : "baf4dfede9a279ec488aaed35a4c9df61985bb13",
      "original_position" : 10,
      "path" : "src/key.cpp",
      "position" : 10,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5224",
      "updated_at" : "2014-11-23T09:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20007769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Do we want to also add something in init.cpp that generates a rnadom key, verifies, and bombs out if it fails? (so that broken code is more likely to fail at startup with an explicable error message?)\r\n\r\nNot just totaly hypotetical: right now fedora's openssl compiles, links, and starts but fails at runtime the first time something tries to actually use the EC code.",
      "created_at" : "2014-11-07T16:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62175001",
      "id" : 62175001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-07T16:56:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62175001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell see ECC_InitSanityCheck() in init.cpp. Currently it just tries to call EC_KEY_new_by_curve_name() and returns false if it fails, in which case we die. That could be expanded as you suggest.",
      "created_at" : "2014-11-07T17:00:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62175568",
      "id" : 62175568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-07T17:00:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62175568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@laanwj This just leaks even more shit via sidechannels...I'd assume OpenSSL's transform-priv-to-pub does too, but I'd prefer to not add to it. At least secp256k1 tries to not leak too much.",
      "created_at" : "2014-11-07T17:47:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62184190",
      "id" : 62184190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-07T17:47:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62184190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "The non-constant time ness in signing for openssl is the r*G multply and the computation of k^-1 (which is very not constant time),  but since we never publish that data it would be hard to make use of it. (E.g. you leak data about a random number, ...  which might be bad if you published the resulting signature, but you don't).   So, with this in mind it doesn't concern me much.   ",
      "created_at" : "2014-11-07T20:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62205870",
      "id" : 62205870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-07T20:20:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62205870",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell there already was an ECC sanity check as @theuni mentioned, but I've added a commit that does a key generation/verification in that check as well.",
      "created_at" : "2014-11-08T22:30:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-62281484",
      "id" : 62281484,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-08T22:30:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62281484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2014-11-19T14:41:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63649230",
      "id" : 63649230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T14:41:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63649230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It looks like CWallet::AddKeyPubKey also needs to call VerifyPubKey so that rpc imported and newly generated keys get tested too.",
      "created_at" : "2014-11-19T17:05:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63674954",
      "id" : 63674954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T17:05:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63674954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Do we want to apply the check to every key loaded at startup? That's probably a significant slowdown...",
      "created_at" : "2014-11-19T17:12:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63675978",
      "id" : 63675978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T17:13:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63675978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I think so, just once (e.g. not every unlock). The generation of the pubkey each time is already slow, doing this basically quadruples it.   Any idea how long it would take for 100k keys?",
      "created_at" : "2014-11-19T17:16:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63676731",
      "id" : 63676731,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T17:16:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63676731",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "For unecnrypted wallets we use a hash-based mechanism now; we used to re-derive the public key for every private key before, and apparently that was too slow (to @phantomcircuit, I believe).",
      "created_at" : "2014-11-19T17:21:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63677608",
      "id" : 63677608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T17:22:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63677608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Okay, well if that was too slow, verifying will be too slow.",
      "created_at" : "2014-11-19T17:28:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-63678834",
      "id" : 63678834,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-19T17:28:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63678834",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@sipa Where are we on this?  If putting it at AddKeyPubKey is too much of a perfomance concern, it could just be added at GenerateNewKey, importprivkey, and (maybe?) importwallet.",
      "created_at" : "2014-11-23T07:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-64109435",
      "id" : 64109435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-23T07:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64109435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell Done.",
      "created_at" : "2014-11-23T09:49:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-64112238",
      "id" : 64112238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-23T09:49:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64112238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2014-11-23T10:38:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-64113576",
      "id" : 64113576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-23T10:38:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64113576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2014-11-23T14:45:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5224#issuecomment-64120157",
      "id" : 64120157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5224",
      "updated_at" : "2014-11-23T14:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64120157",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
