[
   {
      "body" : "Refactored, after conversation with gmaxwell on #bitcoin-dev.\r\n\r\nDefault of whiteconnections is now 4 (if user isn't using whitelist feature at all, default is 0).\r\n\r\nNow acts to essentially reserve slots for exclusive use by whitelisted peers, against the given maxconnections limit, instead of increasing the maxconnections limit.\r\n\r\nWarning message given if whiteconnections value is so high that it will reserve all inbound slots, preventing any non-whitelisted peer from ever being able to connect.\r\n\r\nIf user has not given a maxconnections value, then as a special case it adds the value of whiteconnections to the default for maxconnections.  This is to avoid establishing a new default which would inadvertently reduce the number of incoming slots available for public (non-whitelisted) use.  With the popularity of SPV wallets these days, incoming slots on full nodes are a rather precious resource.\r\n\r\nThis whiteconnections feature is rather nice, especially for long-lived full nodes which reach their capacity of inbound connections.  Now, you don't have to restart your node whenever you restart your miner, just to free up a slot so that your miner can get in!\r\n",
      "created_at" : "2014-11-18T07:33:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-63432405",
      "id" : 63432405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2014-11-18T07:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63432405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5288#discussion_r20504680"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5288"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20504680"
         }
      },
      "body" : "Can you add a comment here saying that this number is the *reserved* number of connections for white connections?",
      "commit_id" : "910d9a84076a009621e4d01200a31c3cdb2123a8",
      "created_at" : "2014-11-18T13:34:56Z",
      "diff_hunk" : "@@ -122,6 +122,7 @@ extern uint64_t nLocalServices;\n extern uint64_t nLocalHostNonce;\n extern CAddrMan addrman;\n extern int nMaxConnections;\n+extern int nWhiteConnections;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#discussion_r20504680",
      "id" : 20504680,
      "original_commit_id" : "46a74678961747b57cba926fc84f525ce862d8c4",
      "original_position" : 4,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5288",
      "updated_at" : "2014-12-28T00:11:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20504680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Tested that whitelisted connections are restricted to the whitelisted reserved count, and that the implicit + 4 without specified -maxconnections works as intended.",
      "created_at" : "2014-11-18T13:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-63472172",
      "id" : 63472172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2014-11-18T13:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63472172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Thanks, sipa, I added a comment showing some of the theory of operation behind nMaxConnections and nWhiteConnections.\r\n",
      "created_at" : "2014-11-19T07:43:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-63603056",
      "id" : 63603056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2014-11-19T07:43:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63603056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Rebased against the latest, no changes were necessary :)\r\n",
      "created_at" : "2014-12-28T00:09:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-68194228",
      "id" : 68194228,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2014-12-28T00:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68194228",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5288#discussion_r23922567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5288"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/23922567"
         }
      },
      "body" : "Could you update this to use our doxygen comment format.",
      "commit_id" : "910d9a84076a009621e4d01200a31c3cdb2123a8",
      "created_at" : "2015-02-02T12:57:44Z",
      "diff_hunk" : "@@ -123,7 +123,17 @@ extern bool fListen;\n extern uint64_t nLocalServices;\n extern uint64_t nLocalHostNonce;\n extern CAddrMan addrman;\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#discussion_r23922567",
      "id" : 23922567,
      "original_commit_id" : "910d9a84076a009621e4d01200a31c3cdb2123a8",
      "original_position" : 4,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5288",
      "updated_at" : "2015-02-02T12:57:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/23922567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Thanks, will update it.\r\n",
      "created_at" : "2015-02-09T20:52:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-73587616",
      "id" : 73587616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-02-09T20:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73587616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "utAck. Is the pending update keeping the merge up?",
      "created_at" : "2015-03-11T07:04:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-78214593",
      "id" : 78214593,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-03-11T07:04:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78214593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8286077?v=3",
         "events_url" : "https://api.github.com/users/21E14/events{/privacy}",
         "followers_url" : "https://api.github.com/users/21E14/followers",
         "following_url" : "https://api.github.com/users/21E14/following{/other_user}",
         "gists_url" : "https://api.github.com/users/21E14/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/21E14",
         "id" : 8286077,
         "login" : "21E14",
         "organizations_url" : "https://api.github.com/users/21E14/orgs",
         "received_events_url" : "https://api.github.com/users/21E14/received_events",
         "repos_url" : "https://api.github.com/users/21E14/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/21E14/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/21E14/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/21E14"
      }
   },
   {
      "body" : "Yikes!  Forgot about this.  Will update ASAP.\r\n",
      "created_at" : "2015-03-11T09:10:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-78227631",
      "id" : 78227631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-03-11T09:10:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78227631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "There, got it merged with latest master, and made the requested documentation cleanup changes!\r\n\r\nThe Travis build still fails for the \"no wallet\" case, but the same thing happens right now for the latest upstream master....\r\n",
      "created_at" : "2015-03-12T09:47:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-78449971",
      "id" : 78449971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-03-12T09:47:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78449971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "No code change, just rebased with latest master to pick up the Travis build fix.\r\n",
      "created_at" : "2015-03-12T18:09:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-78550869",
      "id" : 78550869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-03-12T18:09:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78550869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Thanks!",
      "created_at" : "2015-03-12T22:28:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5288#issuecomment-78658519",
      "id" : 78658519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5288",
      "updated_at" : "2015-03-12T22:28:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78658519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8286077?v=3",
         "events_url" : "https://api.github.com/users/21E14/events{/privacy}",
         "followers_url" : "https://api.github.com/users/21E14/followers",
         "following_url" : "https://api.github.com/users/21E14/following{/other_user}",
         "gists_url" : "https://api.github.com/users/21E14/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/21E14",
         "id" : 8286077,
         "login" : "21E14",
         "organizations_url" : "https://api.github.com/users/21E14/orgs",
         "received_events_url" : "https://api.github.com/users/21E14/received_events",
         "repos_url" : "https://api.github.com/users/21E14/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/21E14/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/21E14/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/21E14"
      }
   }
]
