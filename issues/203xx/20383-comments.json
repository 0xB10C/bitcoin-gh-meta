[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523154287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523154287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why?",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T18:42:39Z",
      "diff_hunk" : "@@ -831,11 +832,17 @@ TxMempoolInfo CTxMemPool::info(const GenTxid& gtxid) const\n \n TxMempoolInfo CTxMemPool::info(const uint256& txid) const { return info(GenTxid{false, txid}); }\n \n-void CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeDelta)\n+bool CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeDelta)\n {\n+    if (nFeeDelta == std::numeric_limits<CAmount>::min()) {\n+        return false;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523154287",
      "id" : 523154287,
      "line" : 839,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzE1NDI4Nw==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 839,
      "original_position" : 20,
      "original_start_line" : 837,
      "path" : "src/txmempool.cpp",
      "position" : 20,
      "pull_request_review_id" : 530317492,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : 837,
      "start_side" : "RIGHT",
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523154287",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19381 (Fix UBSan warnings triggered when loading corrupt mempool.dat files by rajarshimaitra)\n* #17786 (refactor: Nuke policy/fees->mempool circular dependencies by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-11-13T20:11:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#issuecomment-727007724",
      "id" : 727007724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20383",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNzAwNzcyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-13T20:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/727007724",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523248706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523248706"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This needs to be in the parent commit",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T21:45:30Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <uint256.h>\n+#include <util/overflow.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523248706",
      "id" : 523248706,
      "line" : 28,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI0ODcwNg==",
      "original_commit_id" : "6ab2080bd83479d40c55e0d872e6336d479ad80f",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : 4,
      "pull_request_review_id" : 530435531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523248706",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250052"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250052"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe a bit more verbosity here would be good.",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T21:48:52Z",
      "diff_hunk" : "@@ -472,7 +472,9 @@ static RPCHelpMan prioritisetransaction()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Priority is no longer supported, dummy argument to prioritisetransaction must be 0.\");\n     }\n \n-    EnsureMemPool(request.context).PrioritiseTransaction(hash, nAmount);\n+    if (!EnsureMemPool(request.context).PrioritiseTransaction(hash, nAmount)) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"PrioritiseTransaction failed.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250052",
      "id" : 523250052,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI1MDA1Mg==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 476,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 530437253,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250052",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should be literally impossible to hit based on invalid data...?\r\n\r\nAFAICT, the only possibility is if the user manages to call `prioritisetransaction` RPC before it's loaded the transaction in question",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T21:50:55Z",
      "diff_hunk" : "@@ -5081,7 +5081,9 @@ bool LoadMempool(CTxMemPool& pool)\n \n             CAmount amountdelta = nFeeDelta;\n             if (amountdelta) {\n-                pool.PrioritiseTransaction(tx->GetHash(), amountdelta);\n+                if (!pool.PrioritiseTransaction(tx->GetHash(), amountdelta)) {\n+                    LogPrintf(\"PrioritiseTransaction(...) failed. Invalid fee delta?\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250885",
      "id" : 523250885,
      "line" : 5085,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI1MDg4NQ==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 5085,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 530438308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250885",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Otherwise the following invalid integer negation will take place:\r\n\r\n```\r\nutil/moneystr.cpp:16:34: runtime error: negation of -9223372036854775808 cannot be represented in type 'CAmount' (aka 'long'); cast to an unsigned type to negate this value to itself\r\n    #0 0x55b386a14eac in FormatMoney[abi:cxx11](long const&) src/util/moneystr.cpp:16:34\r\n    #1 0x55b3861962f3 in CTxMemPool::PrioritiseTransaction(uint256 const&, long const&) src/txmempool.cpp:861:77\r\n```\r\n\r\n`FormatMoney(CAmount n)` is not defined for `n == std::numeric_limits<CAmount>::min()`.\r\n\r\nThe negation of `std::numeric_limits<CAmount>::min()` (-9223372036854775808) cannot be represented in the type `CAmount (int64_t)`.\r\n\r\nTo reproduce:\r\n\r\n```\r\n$ git checkout master\r\n$ make -C src/ bitcoind\r\n$ xxd -p -r > mempool-invalid-negation.dat << \"EOF\"\r\n0100000000000000002e000000005d2d000d020000000000000000000000\r\n200000000000000000000080fc0000002d\r\nEOF\r\n$ cp mempool-invalid-negation.dat ~/.bitcoin/regtest/mempool.dat\r\n$ UBSAN_OPTIONS=\"print_stacktrace=1:halt_on_error=1:report_error_type=1\" src/bitcoind -regtest\r\nâ¦\r\nutil/moneystr.cpp:16:34: runtime error: negation of -9223372036854775808 cannot be represented in type 'CAmount' (aka 'long'); cast to an unsigned type to negate this value to itself\r\nâ¦\r\n```",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T21:50:56Z",
      "diff_hunk" : "@@ -831,11 +832,17 @@ TxMempoolInfo CTxMemPool::info(const GenTxid& gtxid) const\n \n TxMempoolInfo CTxMemPool::info(const uint256& txid) const { return info(GenTxid{false, txid}); }\n \n-void CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeDelta)\n+bool CTxMemPool::PrioritiseTransaction(const uint256& hash, const CAmount& nFeeDelta)\n {\n+    if (nFeeDelta == std::numeric_limits<CAmount>::min()) {\n+        return false;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523250890",
      "id" : 523250890,
      "in_reply_to_id" : 523154287,
      "line" : 839,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI1MDg5MA==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 839,
      "original_position" : 20,
      "original_start_line" : 837,
      "path" : "src/txmempool.cpp",
      "position" : 20,
      "pull_request_review_id" : 530438319,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : 837,
      "start_side" : "RIGHT",
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523250890",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523260712"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523260712"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is possible, but don't take my word for. Take my PoC for it! :)\r\n\r\nProof of concept:\r\n\r\n```\r\n$ git checkout master\r\n$ make -C src/ bitcoind\r\n$ xxd -p -r > mempool-signed-integer-overflow.dat << \"EOF\"\r\n01000000000000003f2d3f3f21f800000000000000000000000000000000\r\n6d697464657363656e64616e00000001000000ec000000003d6a6c000000\r\n000000000000ec9bf601000000000000000000ec9b0001000000000001ff\r\nfffef900000001000000ec0000000000ec9b000001000000000101000100\r\n00000001000000ec000000003d6a6a000000000000000020ec9b000000fa\r\n00\r\nEOF\r\n$ cp mempool-signed-integer-overflow.dat ~/.bitcoin/regtest/mempool.dat\r\n$ UBSAN_OPTIONS=\"print_stacktrace=1:halt_on_error=1:report_error_type=1\" src/bitcoind -regtest\r\nâ¦\r\ntxmempool.cpp:839:15: runtime error: signed integer overflow: -7211388903327006720 + -7211353718954917888 cannot be represented in type 'long'\r\n    #0 0x556807f763ec in CTxMemPool::PrioritiseTransaction(uint256 const&, long const&) src/txmempool.cpp:839:15\r\n    #1 0x556807ff3c61 in LoadMempool(CTxMemPool&) src/validation.cpp:5084:22\r\nâ¦\r\n```",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T22:12:01Z",
      "diff_hunk" : "@@ -5081,7 +5081,9 @@ bool LoadMempool(CTxMemPool& pool)\n \n             CAmount amountdelta = nFeeDelta;\n             if (amountdelta) {\n-                pool.PrioritiseTransaction(tx->GetHash(), amountdelta);\n+                if (!pool.PrioritiseTransaction(tx->GetHash(), amountdelta)) {\n+                    LogPrintf(\"PrioritiseTransaction(...) failed. Invalid fee delta?\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523260712",
      "id" : 523260712,
      "in_reply_to_id" : 523250885,
      "line" : 5085,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2MDcxMg==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 5085,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 6,
      "pull_request_review_id" : 530450582,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523260712",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523261363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523261363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point. Now fixed.",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T22:14:03Z",
      "diff_hunk" : "@@ -25,6 +25,7 @@\n #include <test/util/setup_common.h>\n #include <txmempool.h>\n #include <uint256.h>\n+#include <util/overflow.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523261363",
      "id" : 523261363,
      "in_reply_to_id" : 523248706,
      "line" : 28,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2MTM2Mw==",
      "original_commit_id" : "6ab2080bd83479d40c55e0d872e6336d479ad80f",
      "original_line" : 28,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : 4,
      "pull_request_review_id" : 530451439,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:22:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523261363",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523264921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523264921"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Now using a slightly more verbose error message which hints that an invalid `fee_delta` argument is the most likely cause. Let me know if you have any other suggestion on wording.",
      "commit_id" : "2c61f90f047097fe372beb8bc8b4d779c66cd505",
      "created_at" : "2020-11-13T22:24:28Z",
      "diff_hunk" : "@@ -472,7 +472,9 @@ static RPCHelpMan prioritisetransaction()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"Priority is no longer supported, dummy argument to prioritisetransaction must be 0.\");\n     }\n \n-    EnsureMemPool(request.context).PrioritiseTransaction(hash, nAmount);\n+    if (!EnsureMemPool(request.context).PrioritiseTransaction(hash, nAmount)) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"PrioritiseTransaction failed.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20383#discussion_r523264921",
      "id" : 523264921,
      "in_reply_to_id" : 523250052,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI2NDkyMQ==",
      "original_commit_id" : "38c331b124329a7fa08ac8d53adfc29a0d1d4ccf",
      "original_line" : 476,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 530455923,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20383",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-11-13T22:24:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/523264921",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
