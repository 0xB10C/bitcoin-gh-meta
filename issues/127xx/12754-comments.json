[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ZMQ_HEARTBEAT_* look promising, can you test with those in your test setup?",
      "created_at" : "2018-03-28T19:32:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12754#issuecomment-377008424",
      "id" : 377008424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12754",
      "updated_at" : "2018-03-28T19:32:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377008424",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ZMQ is itself unreliable. I'm not sure this is a Core issue.",
      "created_at" : "2018-03-28T20:00:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12754#issuecomment-377016849",
      "id" : 377016849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12754",
      "updated_at" : "2018-03-28T20:00:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377016849",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@bitkevin Do you have any more info on this problem? Is it caused by a middle box? Does it only happen when running with a particular node topology? Have you tried tuning TCP keepalive, or anything like that, on your host(s) to remedy the problem? Did you try the ZMQ_HEARTBEAT_* options https://github.com/zeromq/libzmq/blob/master/doc/zmq_setsockopt.txt ?\r\n\r\nI tried running a regtest node as a publisher with `./src/qt/bitcoin-qt -regtest -txindex -datadir=/tmp/node1 -zmqpubhashblock=tcp://127.0.0.1:28332 &` and `python3 contrib/zmq/zmq_sub.py` as a subscriber so that I could easily control block generation. Then I watched my loopback interface with WireShark. I generated one block, saw the packets, and then did nothing and did not see any packets go either way around the 30 minute mark with my system config. After 45 minutes of doing nothing and seeing no packet traffic for that TCP port, I generated a block and my subscriber got the message as expected from my Bitcoin node. I am using libzmq v4.2.5, if it matters.\r\n\r\nAre you able to reproduce the issue using the same tools from the bitcoin repo that I used in my test?",
      "created_at" : "2018-07-05T04:26:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12754#issuecomment-402603088",
      "id" : 402603088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12754",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMjYwMzA4OA==",
      "updated_at" : "2018-07-05T04:26:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402603088",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6440430?v=4",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "node_id" : "MDQ6VXNlcjY0NDA0MzA=",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   }
]
