[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176665494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176665494"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This behavior may be fine, but this will silently turn `\"foo\"` into `strUser == strWhitelist == \"foo\"`.",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-23T08:29:59Z",
      "diff_hunk" : "@@ -223,6 +248,13 @@ static bool InitRPCAuthentication()\n         LogPrintf(\"Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcuser for rpcauth auth generation.\\n\");\n         strRPCUserColonPass = gArgs.GetArg(\"-rpcuser\", \"\") + \":\" + gArgs.GetArg(\"-rpcpassword\", \"\");\n     }\n+\n+    for (const std::string& strRPCWhitelist : gArgs.GetArgs(\"-rpcwhitelist\")) {\n+        std::string strUser = strRPCWhitelist.substr(0, strRPCWhitelist.find(':'));\n+        std::string strWhitelist = strRPCWhitelist.substr(strRPCWhitelist.find(':') + 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176665494",
      "id" : 176665494,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 57,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 106409368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176665494",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. This is very welcome. My block explorer only rely on `sendrawtransaction`.\r\nWould like a way to have my block explorer restrict itself at runtime to make the life of my users easier, but this might come later.",
      "created_at" : "2018-03-23T09:36:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375594638",
      "id" : 375594638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T09:36:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375594638",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2018-03-23T12:58:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375657069",
      "id" : 375657069,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T12:58:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375657069",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@RHavar you may be interested?",
      "created_at" : "2018-03-23T12:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375657230",
      "id" : 375657230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T12:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375657230",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.",
      "created_at" : "2018-03-23T15:08:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375696178",
      "id" : 375696178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T15:08:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375696178",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/33541170?v=4",
         "events_url" : "https://api.github.com/users/randolf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/randolf/followers",
         "following_url" : "https://api.github.com/users/randolf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/randolf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/randolf",
         "id" : 33541170,
         "login" : "randolf",
         "organizations_url" : "https://api.github.com/users/randolf/orgs",
         "received_events_url" : "https://api.github.com/users/randolf/received_events",
         "repos_url" : "https://api.github.com/users/randolf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/randolf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/randolf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/randolf"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@instagibbs  To be honest, I don't see it being that useful for me  (but I don't have any objections to it either)\r\n\r\nThe main advantage I can see from this change is that you could use the same bitcoin-core instance for multiple purposes, like where one only requires access to the bitcoin-related features, and the other might need wallet access. \r\n\r\nThat's probably more interesting for consumer-level users, who are running core on their own computer. For more commercial users, we'd just use different instances of bitcoin-core itself. \r\n\r\n--\r\n\r\nThe PRC permission feature I'm more interested in is a lot more high-level; like applying spending limits. What I would like to do is be able to store say 300 BTC in my wallet, but never allow it drop below 250 BTC (by a particular RPC user). This way I could have only 50 BTC of \"risk\" (e.g. in case my service was hacked) but could benefit from having 300 BTC worth of coins (so coin-selection can do a much better job)",
      "created_at" : "2018-03-23T15:21:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375700636",
      "id" : 375700636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T15:21:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375700636",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176778422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176778422"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "New error, should have a test.",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-23T15:47:58Z",
      "diff_hunk" : "@@ -184,15 +186,38 @@ static bool HTTPReq_JSONRPC(HTTPRequest* req, const std::string &)\n         // singleton request\n         if (valRequest.isObject()) {\n             jreq.parse(valRequest);\n-\n+            if (whitelistedRPC.count(jreq.authUser) && !whitelistedRPC[jreq.authUser].count(jreq.strMethod)) {\n+                LogPrintf(\"RPC User %s not allowed to call method %s\\n\", jreq.authUser, jreq.strMethod);\n+                req->WriteHeader(\"WWW-Authenticate\", WWW_AUTH_HEADER_DATA);\n+                req->WriteReply(HTTP_UNAUTHORIZED);\n+                return false;\n+            }\n             UniValue result = tableRPC.execute(jreq);\n \n             // Send reply\n             strReply = JSONRPCReply(result, NullUniValue, jreq.id);\n \n         // array of requests\n-        } else if (valRequest.isArray())\n+        } else if (valRequest.isArray()) {\n+            if (whitelistedRPC.count(jreq.authUser)) {\n+                for (unsigned int reqIdx = 0; reqIdx < valRequest.size(); reqIdx++) {\n+                    if (!valRequest[reqIdx].isObject()) {\n+                        throw JSONRPCError(RPC_INVALID_REQUEST, \"Invalid Request object\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176778422",
      "id" : 176778422,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 31,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 106544594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176778422",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@RHavar this prevents privkey dumps, as a first step at least",
      "created_at" : "2018-03-23T15:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375710123",
      "id" : 375710123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-23T15:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375710123",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176781213"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176781213"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`rpc_whitelist`?",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-23T15:56:18Z",
      "diff_hunk" : "@@ -63,6 +63,8 @@ class HTTPRPCTimerInterface : public RPCTimerInterface\n static std::string strRPCUserColonPass;\n /* Stored RPC timer interface (for unregistration) */\n static std::unique_ptr<HTTPRPCTimerInterface> httpRPCTimerInterface;\n+/* RPC Auth Whitelist */\n+static std::map<std::string, std::set<std::string>> whitelistedRPC;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176781213",
      "id" : 176781213,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 5,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 106544594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176781213",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176781409"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176781409"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree, it should check for correct format.",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-23T15:56:52Z",
      "diff_hunk" : "@@ -223,6 +248,13 @@ static bool InitRPCAuthentication()\n         LogPrintf(\"Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to use cookie-based auth, or may be replaced with rpcauth. Please see share/rpcuser for rpcauth auth generation.\\n\");\n         strRPCUserColonPass = gArgs.GetArg(\"-rpcuser\", \"\") + \":\" + gArgs.GetArg(\"-rpcpassword\", \"\");\n     }\n+\n+    for (const std::string& strRPCWhitelist : gArgs.GetArgs(\"-rpcwhitelist\")) {\n+        std::string strUser = strRPCWhitelist.substr(0, strRPCWhitelist.find(':'));\n+        std::string strWhitelist = strRPCWhitelist.substr(strRPCWhitelist.find(':') + 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176781409",
      "id" : 176781409,
      "in_reply_to_id" : 176665494,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 57,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 106544594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176781409",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-03-25T13:41:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#issuecomment-375971459",
      "id" : 375971459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12763",
      "updated_at" : "2018-03-25T13:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375971459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176941097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176941097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why has that to be here?",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-25T13:50:34Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@\n \n #include <string>\n #include <map>\n+#include <set>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176941097",
      "id" : 176941097,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 4,
      "path" : "src/httprpc.h",
      "position" : null,
      "pull_request_review_id" : 106730664,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176941097",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176970781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176970781"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think the 403 Forbidden status is more appropriate. See https://stackoverflow.com/a/6937030.",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-26T03:00:07Z",
      "diff_hunk" : "@@ -184,15 +186,38 @@ static bool HTTPReq_JSONRPC(HTTPRequest* req, const std::string &)\n         // singleton request\n         if (valRequest.isObject()) {\n             jreq.parse(valRequest);\n-\n+            if (whitelistedRPC.count(jreq.authUser) && !whitelistedRPC[jreq.authUser].count(jreq.strMethod)) {\n+                LogPrintf(\"RPC User %s not allowed to call method %s\\n\", jreq.authUser, jreq.strMethod);\n+                req->WriteHeader(\"WWW-Authenticate\", WWW_AUTH_HEADER_DATA);\n+                req->WriteReply(HTTP_UNAUTHORIZED);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r176970781",
      "id" : 176970781,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 17,
      "path" : "src/httprpc.cpp",
      "position" : null,
      "pull_request_review_id" : 106761729,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176970781",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r177258950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177258950"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wasn't sure, was just trying to follow local style. Not sure that string or map need to be there either?",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-26T22:50:50Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@\n \n #include <string>\n #include <map>\n+#include <set>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r177258950",
      "id" : 177258950,
      "in_reply_to_id" : 176941097,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 4,
      "path" : "src/httprpc.h",
      "position" : null,
      "pull_request_review_id" : 107100861,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177258950",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r177264920"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177264920"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "None needs to be there. If you want to remove, do it in a different commit.",
      "commit_id" : "86b143fad6f4bc4d3cd226617e48b686be0c8603",
      "created_at" : "2018-03-26T23:24:14Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@\n \n #include <string>\n #include <map>\n+#include <set>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12763#discussion_r177264920",
      "id" : 177264920,
      "in_reply_to_id" : 176941097,
      "original_commit_id" : "788b174c33896065065d1ab376d6451b0f7575cd",
      "original_position" : 4,
      "path" : "src/httprpc.h",
      "position" : null,
      "pull_request_review_id" : 107107384,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12763",
      "updated_at" : "2018-03-26T23:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177264920",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
