[
   {
      "author_association" : "MEMBER",
      "body" : "Really nice! Let's get rid of Boost\r\n\r\nStrong concept ACK",
      "created_at" : "2018-03-21T07:12:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-374849738",
      "id" : 374849738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T07:12:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374849738",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Another concept ACK\r\n\r\nSome nits:\r\n* Could you run clang-format against your patch, there are some formatting inconsistencies:\r\n`git diff -U0 --no-color bitcoin/master | contrib/devtools/clang-format-diff.py -i -p1`\r\n* It looks like `GetNegatedArgs` / `IsArgNegated` are exposed for testing purposes only. I would be in favor of removing those for the sake of simplicity - seems testing can be covered from the existing `GetBoolArg` interface.",
      "created_at" : "2018-03-21T07:40:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-374854247",
      "id" : 374854247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T07:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374854247",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I saw the use of `GetNegatedArgs` / `IsNegatedArgs` in your other PRs. IMO best to make each PR minimal / independent and rebase as needed.",
      "created_at" : "2018-03-21T08:05:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-374859198",
      "id" : 374859198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T08:05:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374859198",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "https://www.reddit.com/r/btc/comments/5wwznc/please_read_our_frequently_asked_questions_faq/?utm_source=reddit-android\n",
      "created_at" : "2018-03-21T15:32:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-374980866",
      "id" : 374980866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T15:32:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374980866",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/34297730?v=4",
         "events_url" : "https://api.github.com/users/ilike2bottom40/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ilike2bottom40/followers",
         "following_url" : "https://api.github.com/users/ilike2bottom40/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ilike2bottom40/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ilike2bottom40",
         "id" : 34297730,
         "login" : "ilike2bottom40",
         "organizations_url" : "https://api.github.com/users/ilike2bottom40/orgs",
         "received_events_url" : "https://api.github.com/users/ilike2bottom40/received_events",
         "repos_url" : "https://api.github.com/users/ilike2bottom40/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ilike2bottom40/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ilike2bottom40/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ilike2bottom40"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "One comment: config_file_iterator is able to parse sections: http://www.boost.org/doc/libs/1_66_0/doc/html/program_options/overview.html#id-1.3.31.5.10.2 . That feature isn't currently used in bitcoin but is required for #11862.\r\n\r\nHow much work would it be to enhance this PR to support INI-like config sections?\r\n\r\ncourtesy ping @ajtowns",
      "created_at" : "2018-03-21T16:23:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-375003995",
      "id" : 375003995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T16:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375003995",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12744#discussion_r176166616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12744"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176166616"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Current syntax seems to be described here:\r\n\r\nhttp://www.boost.org/doc/libs/1_66_0/doc/html/program_options/overview.html#id-1.3.31.5.10.2\r\n\r\nI wonder if for backwards compatibility or convenience the new implementation should be extended to support `#` comments.",
      "commit_id" : "78bc52bf863fd0f212a9a29adb1c99651cc4a0eb",
      "created_at" : "2018-03-21T17:17:25Z",
      "diff_hunk" : "@@ -662,26 +661,46 @@ fs::path GetConfigFile(const std::string& confPath)\n     return AbsPathForConfigVal(fs::path(confPath), false);\n }\n \n+inline bool not_space(int c) { return !std::isspace(c); }\n+\n void ArgsManager::ReadConfigFile(const std::string& confPath)\n {\n-    fs::ifstream streamConfig(GetConfigFile(confPath));\n-    if (!streamConfig.good())\n+    fs::ifstream config_file(GetConfigFile(confPath));\n+    if (!config_file.good())\n         return; // No bitcoin.conf file is OK\n \n     {\n+        // left and right trim for strings\n+        auto ltrim = [](std::string &s) { s.erase(s.begin(), std::find_if(s.begin(), s.end(), not_space)); };\n+        auto rtrim = [](std::string &s) { s.erase(std::find_if(s.rbegin(), s.rend(), not_space).base(), s.end()); };\n+\n         LOCK(cs_args);\n-        std::set<std::string> setOptions;\n-        setOptions.insert(\"*\");\n+        std::string line;\n+        while (std::getline(config_file, line)) {\n+            size_t eqpos = line.find('=');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#discussion_r176166616",
      "id" : 176166616,
      "original_commit_id" : "78bc52bf863fd0f212a9a29adb1c99651cc4a0eb",
      "original_position" : 32,
      "path" : "src/util.cpp",
      "position" : 144,
      "pull_request_review_id" : 105822787,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12744",
      "updated_at" : "2018-03-21T17:20:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176166616",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery Seems pretty easy to add sections, INI format is literally just:\r\n\r\n```\r\nfoo = 'a global option'\r\nbar = 'another option'\r\n\r\n[Section One]\r\nmax-file-count = 100\r\n\r\n[Section Two]\r\nmax-file-count = 150\r\n```\r\n\r\nThe option parser needs to be updated to be section-aware anyway, as right now it stuffs everything in a global namespace.\r\n\r\nI looked at how Python checks their INI parser (configparser module) and this needs to be updated to handle comments and quoting. I will add a test case. Basically it should be able to parse this file correctly: https://github.com/python/cpython/blob/master/Lib/test/cfgparser.2",
      "created_at" : "2018-03-21T23:47:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12744#issuecomment-375132334",
      "id" : 375132334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12744",
      "updated_at" : "2018-03-21T23:47:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375132334",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   }
]
