{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "I was asked to split this out from #12689 in this comment: https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175260794\r\n\r\nThis fixes unintuitive behavior in the option parser when calling `GetBoolArg()` when the option value is a string. Right now the code calls `atoi()` on the option value, which will always return 0 if the user supplies a non-integer value like \"false\" or \"true\". The change here makes option values \"0\" and \"false\" be false, and any other value (including the empty string) will be true.\r\n\r\nThe original motivation for this change was that I wanted a way to suppress logging to the debug log file. By trying to parse `-debuglogfile` as a boolean, the values `-nodebuglogfile` and `-debuglogfile=0` can be used to detect that the debug log file should not be used. For this to work, an invocation like `-debuglogfile=foo.log` needs to be boolean parsed as true.\r\n\r\nWhile testing that code, I discovered that `ResendWalletTransactionsTest` inadvertently passes \"false\" to a boolean flag:\r\n\r\n```python\r\nclass ResendWalletTransactionsTest(BitcoinTestFramework):\r\n    def set_test_params(self):\r\n        self.num_nodes = 1\r\n        self.extra_args = [['--walletbroadcast=false']]\r\n```\r\nSince there is code in Bitcoin that relies on this behavior it's reasonable to assume that there are users who have set values to \"false\" in their configs, and we should continue to support it. The change lets me use the boolean option parsing for the debug log flag while still being backwards compatible with the `walletbroadcast=false` behavior. It also has the nice (but unintended) side effect that users can use strings like `-walletbroadcast=true` and it will do what they probably expect it to do.\r\n\r\nI've added option parser tests for this change.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12713/comments",
   "created_at" : "2018-03-18T02:43:34Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12713/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/12713",
   "id" : 306208259,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 241832923,
         "name" : "Utils/log/libs",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12713/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 12713,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/12713.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12713",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/12713.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12713"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Fix unintuitive boolean option parsing behavior",
   "updated_at" : "2018-03-18T02:44:16Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12713",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
      "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/eklitzke/followers",
      "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/eklitzke",
      "id" : 2734,
      "login" : "eklitzke",
      "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
      "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
      "repos_url" : "https://api.github.com/users/eklitzke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/eklitzke"
   }
}
