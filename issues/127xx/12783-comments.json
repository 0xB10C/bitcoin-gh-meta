[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "#5804",
      "created_at" : "2018-03-26T05:43:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#issuecomment-376052517",
      "id" : 376052517,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12783",
      "updated_at" : "2018-03-26T05:43:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376052517",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005187"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005187"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a difference in using `NSObject *activityId`?",
      "commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "created_at" : "2018-03-26T07:57:10Z",
      "diff_hunk" : "@@ -0,0 +1,35 @@\n+#include \"macos_appnap.h\"\n+\n+#include <AvailabilityMacros.h>\n+#include <Foundation/NSProcessInfo.h>\n+#include <Foundation/Foundation.h>\n+\n+class CAppNapInhibitorInt\n+{\n+public:\n+    id<NSObject> activityId;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005187",
      "id" : 177005187,
      "original_commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "original_position" : 10,
      "path" : "src/support/macos_appnap.mm",
      "position" : 10,
      "pull_request_review_id" : 106801787,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783",
      "updated_at" : "2018-03-26T07:57:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005187",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005267"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005267"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: code styling, use brackets {}",
      "commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "created_at" : "2018-03-26T07:57:31Z",
      "diff_hunk" : "@@ -0,0 +1,35 @@\n+#include \"macos_appnap.h\"\n+\n+#include <AvailabilityMacros.h>\n+#include <Foundation/NSProcessInfo.h>\n+#include <Foundation/Foundation.h>\n+\n+class CAppNapInhibitorInt\n+{\n+public:\n+    id<NSObject> activityId;\n+};\n+\n+CAppNapInhibitor::CAppNapInhibitor(const char* strReason) : priv(new CAppNapInhibitorInt)\n+{\n+#if defined(MAC_OS_X_VERSION_MAX_ALLOWED) &&  MAC_OS_X_VERSION_MAX_ALLOWED >= 1090\n+    const NSActivityOptions activityOptions =\n+    (NSActivityUserInitiatedAllowingIdleSystemSleep |\n+     NSActivityLatencyCritical) &\n+    ~(NSActivitySuddenTerminationDisabled |\n+      NSActivityAutomaticTerminationDisabled);\n+\n+    if ([[NSProcessInfo processInfo] respondsToSelector:@selector(beginActivityWithOptions:reason:)])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005267",
      "id" : 177005267,
      "original_commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "original_position" : 22,
      "path" : "src/support/macos_appnap.mm",
      "position" : 22,
      "pull_request_review_id" : 106801888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783",
      "updated_at" : "2018-03-26T07:57:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005267",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005637"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005637"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since we are only holding a `NSObject` pointer, is this deallocation really required or could it even be messing with the autorelease pool?",
      "commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "created_at" : "2018-03-26T07:59:10Z",
      "diff_hunk" : "@@ -0,0 +1,35 @@\n+#include \"macos_appnap.h\"\n+\n+#include <AvailabilityMacros.h>\n+#include <Foundation/NSProcessInfo.h>\n+#include <Foundation/Foundation.h>\n+\n+class CAppNapInhibitorInt\n+{\n+public:\n+    id<NSObject> activityId;\n+};\n+\n+CAppNapInhibitor::CAppNapInhibitor(const char* strReason) : priv(new CAppNapInhibitorInt)\n+{\n+#if defined(MAC_OS_X_VERSION_MAX_ALLOWED) &&  MAC_OS_X_VERSION_MAX_ALLOWED >= 1090\n+    const NSActivityOptions activityOptions =\n+    (NSActivityUserInitiatedAllowingIdleSystemSleep |\n+     NSActivityLatencyCritical) &\n+    ~(NSActivitySuddenTerminationDisabled |\n+      NSActivityAutomaticTerminationDisabled);\n+\n+    if ([[NSProcessInfo processInfo] respondsToSelector:@selector(beginActivityWithOptions:reason:)])\n+        priv->activityId = [[NSProcessInfo processInfo ] beginActivityWithOptions: activityOptions reason:@(strReason)];\n+#endif\n+}\n+\n+CAppNapInhibitor::~CAppNapInhibitor()\n+{\n+#if defined(MAC_OS_X_VERSION_MAX_ALLOWED) &&  MAC_OS_X_VERSION_MAX_ALLOWED >= 1090\n+    if ([[NSProcessInfo processInfo] respondsToSelector:@selector(endActivity:)])\n+        [[NSProcessInfo processInfo] endActivity:priv->activityId];\n+#endif\n+    delete priv;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#discussion_r177005637",
      "id" : 177005637,
      "original_commit_id" : "e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "original_position" : 33,
      "path" : "src/support/macos_appnap.mm",
      "position" : 33,
      "pull_request_review_id" : 106802315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12783",
      "updated_at" : "2018-03-26T07:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177005637",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK e41bb4a4568e08fe75ab8af7de7db1a2684cd989",
      "created_at" : "2018-03-26T07:59:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#issuecomment-376078819",
      "id" : 376078819,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12783",
      "updated_at" : "2018-03-26T07:59:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376078819",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Will review later. Good question regarding which macOS version to support. The release notes state [10.8+](https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes.md#compatibility), but I wonder how true that is. Apple pushes macOS updates quite aggressively and the lack of VM's make downgrades impractical. So unless any of the active devs here still runs an older version, I don't think it's realistic to support anything but the current macOS release and maybe one earlier version .",
      "created_at" : "2018-03-27T08:36:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#issuecomment-376442663",
      "id" : 376442663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12783",
      "updated_at" : "2018-03-27T08:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376442663",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We do currently support 10.8+ and I have VMs for all OSX versions from 10.5 upwards. I do test the RC regularly in 10.8 till 10.x VMs.",
      "created_at" : "2018-03-27T08:41:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#issuecomment-376444097",
      "id" : 376444097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12783",
      "updated_at" : "2018-03-27T08:41:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376444097",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli ok, that's great to know. Any hints for setting up a 10.8 VM on an iMac?",
      "created_at" : "2018-03-27T09:00:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12783#issuecomment-376449654",
      "id" : 376449654,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12783",
      "updated_at" : "2018-03-27T09:00:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376449654",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
