[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12704#discussion_r175006888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175006888"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should you check the character `*psz` is less than 128?",
      "commit_id" : "29d357b32f90fe58f6e164792a140466de551031",
      "created_at" : "2018-03-16T06:33:29Z",
      "diff_hunk" : "@@ -31,11 +41,9 @@ bool DecodeBase58(const char* psz, std::vector<unsigned char>& vch)\n     // Process the characters.\n     while (*psz && !isspace(*psz)) {\n         // Decode base58 character\n-        const char* ch = strchr(pszBase58, *psz);\n-        if (ch == nullptr)\n+        int carry = mapBase58[(uint8_t)*psz];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12704#discussion_r175006888",
      "id" : 175006888,
      "original_commit_id" : "7b4e3cb175ede18051ba9bb7363ae9e39605c947",
      "original_position" : 23,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_review_id" : 104465309,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12704",
      "updated_at" : "2018-03-16T09:23:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175006888",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Have you measured performance improvement?",
      "created_at" : "2018-03-16T07:39:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12704#issuecomment-373629165",
      "id" : 373629165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12704",
      "updated_at" : "2018-03-16T07:39:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373629165",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12704#discussion_r175015019"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175015019"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oops...I was thought size of `mapBase58` is 256, thanks",
      "commit_id" : "29d357b32f90fe58f6e164792a140466de551031",
      "created_at" : "2018-03-16T07:40:51Z",
      "diff_hunk" : "@@ -31,11 +41,9 @@ bool DecodeBase58(const char* psz, std::vector<unsigned char>& vch)\n     // Process the characters.\n     while (*psz && !isspace(*psz)) {\n         // Decode base58 character\n-        const char* ch = strchr(pszBase58, *psz);\n-        if (ch == nullptr)\n+        int carry = mapBase58[(uint8_t)*psz];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12704#discussion_r175015019",
      "id" : 175015019,
      "in_reply_to_id" : 175006888,
      "original_commit_id" : "7b4e3cb175ede18051ba9bb7363ae9e39605c947",
      "original_position" : 23,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_review_id" : 104474943,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12704",
      "updated_at" : "2018-03-16T09:23:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175015019",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/514951?v=4",
         "events_url" : "https://api.github.com/users/bitkevin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitkevin/followers",
         "following_url" : "https://api.github.com/users/bitkevin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitkevin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitkevin",
         "id" : 514951,
         "login" : "bitkevin",
         "organizations_url" : "https://api.github.com/users/bitkevin/orgs",
         "received_events_url" : "https://api.github.com/users/bitkevin/received_events",
         "repos_url" : "https://api.github.com/users/bitkevin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitkevin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitkevin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitkevin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Have you measured performance improvement?\r\n\r\nPerformance improvement is about 40%. 1,000,000 rounds, it's about `450ms` vs `250ms`.\r\n\r\n```\r\nuint64_t getCurrentTime() {\r\n  struct timeval tv;\r\n  gettimeofday(&tv, NULL);\r\n  return tv.tv_sec * 1000 + tv.tv_usec / 1000;\r\n}\r\n\r\nconst std::string b58Str(\"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy\");\r\nsize_t len = b58Str.length();\r\n\r\nuint64_t cnt;\r\n\r\ncnt = 0;\r\nuint64_t t1 = getCurrentTime();\r\nfor (size_t j = 0; j < 1000000; j++) {\r\n  for (size_t i = 0; i < len; i++) {\r\n    const char *ch = strchr(pszBase58, b58Str[i]);\r\n    cnt += ch - pszBase58;\r\n  }\r\n}\r\nuint64_t t2 = getCurrentTime();\r\nprintf(\"%lld\\n\", t2 - t1);\r\n\r\ncnt = 0;\r\nuint64_t t3 = getCurrentTime();\r\nfor (size_t j = 0; j < 1000000; j++) {\r\n  for (size_t i = 0; i < len; i++) {\r\n    cnt += mapBase58[(uint8_t)b58Str[i]];\r\n  }\r\n}\r\nuint64_t t4 = getCurrentTime();\r\nprintf(\"%lld\\n\", t4 - t3);\r\n```\r\n\r\n",
      "created_at" : "2018-03-16T08:09:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12704#issuecomment-373635705",
      "id" : 373635705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12704",
      "updated_at" : "2018-03-16T08:09:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373635705",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/514951?v=4",
         "events_url" : "https://api.github.com/users/bitkevin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitkevin/followers",
         "following_url" : "https://api.github.com/users/bitkevin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitkevin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitkevin",
         "id" : 514951,
         "login" : "bitkevin",
         "organizations_url" : "https://api.github.com/users/bitkevin/orgs",
         "received_events_url" : "https://api.github.com/users/bitkevin/received_events",
         "repos_url" : "https://api.github.com/users/bitkevin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitkevin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitkevin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitkevin"
      }
   }
]
