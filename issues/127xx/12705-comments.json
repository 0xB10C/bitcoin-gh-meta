[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175074368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175074368"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Importmulti private key support\",\r\n\r\nAlso fix `default=true` to be consistent with most of the code.",
      "commit_id" : "32e70abc909d7197b2ff1ae719a51cfdc61b965d",
      "created_at" : "2018-03-16T12:30:34Z",
      "diff_hunk" : "@@ -1132,7 +1132,7 @@ UniValue importmulti(const JSONRPCRequest& mainRequest)\n             \"  ]\\n\"\n             \"2. options                 (json, optional)\\n\"\n             \"  {\\n\"\n-            \"     \\\"rescan\\\": <false>,         (boolean, optional, default: true) Stating if should rescan the blockchain after all imports\\n\"\n+            \"     \\\"rescan\\\": <bool>,          (boolean, optional, default: true) Whether a rescan of the blockchain after all imports should be executed\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175074368",
      "id" : 175074368,
      "original_commit_id" : "1f9e8da2a9ede0023a255602f273d8c8ea660042",
      "original_position" : 5,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 135,
      "pull_request_review_id" : 104547350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705",
      "updated_at" : "2018-03-16T12:37:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175074368",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075100"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] [rpc] Move private key import functionality out of importprivkey\",\r\n\r\nRemove this scope?",
      "commit_id" : "32e70abc909d7197b2ff1ae719a51cfdc61b965d",
      "created_at" : "2018-03-16T12:32:34Z",
      "diff_hunk" : "@@ -88,6 +88,38 @@ bool GetWalletAddressesForKey(CWallet * const pwallet, const CKeyID &keyid, std:\n     return fLabelFound;\n }\n \n+bool ImportPrivateKey(CWallet * const pwallet, const UniValue& privkey, const std::string& label = \"\", const int64_t timestamp = 1)\n+{\n+    CKey key = DecodeSecret(privkey.get_str());\n+    if (!key.IsValid()) throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid private key encoding\");\n+\n+    CPubKey pubkey = key.GetPubKey();\n+    assert(key.VerifyPubKey(pubkey));\n+    CKeyID address = pubkey.GetID();\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075100",
      "id" : 175075100,
      "original_commit_id" : "1bfac83da76ff058126bea74421974eac380626e",
      "original_position" : 12,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 12,
      "pull_request_review_id" : 104547350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705",
      "updated_at" : "2018-03-16T12:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075100",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075217"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] [rpc] Move private key import functionality out of importprivkey\",\r\n\r\nNit, move throw to new line.",
      "commit_id" : "32e70abc909d7197b2ff1ae719a51cfdc61b965d",
      "created_at" : "2018-03-16T12:33:02Z",
      "diff_hunk" : "@@ -88,6 +88,38 @@ bool GetWalletAddressesForKey(CWallet * const pwallet, const CKeyID &keyid, std:\n     return fLabelFound;\n }\n \n+bool ImportPrivateKey(CWallet * const pwallet, const UniValue& privkey, const std::string& label = \"\", const int64_t timestamp = 1)\n+{\n+    CKey key = DecodeSecret(privkey.get_str());\n+    if (!key.IsValid()) throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid private key encoding\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075217",
      "id" : 175075217,
      "original_commit_id" : "1bfac83da76ff058126bea74421974eac380626e",
      "original_position" : 7,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 7,
      "pull_request_review_id" : 104547350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705",
      "updated_at" : "2018-03-16T12:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075217",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075607"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] [rpc] Move private key import functionality out of importprivkey\",\r\n\r\n`static bool ...`?",
      "commit_id" : "32e70abc909d7197b2ff1ae719a51cfdc61b965d",
      "created_at" : "2018-03-16T12:34:25Z",
      "diff_hunk" : "@@ -88,6 +88,38 @@ bool GetWalletAddressesForKey(CWallet * const pwallet, const CKeyID &keyid, std:\n     return fLabelFound;\n }\n \n+bool ImportPrivateKey(CWallet * const pwallet, const UniValue& privkey, const std::string& label = \"\", const int64_t timestamp = 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175075607",
      "id" : 175075607,
      "original_commit_id" : "1bfac83da76ff058126bea74421974eac380626e",
      "original_position" : 4,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 4,
      "pull_request_review_id" : 104547350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705",
      "updated_at" : "2018-03-16T12:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175075607",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175076159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175076159"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] [rpc] Add privkey support to importmulti\",\r\n\r\nNit, `UniValue result(UniValue::VOBJ);`",
      "commit_id" : "32e70abc909d7197b2ff1ae719a51cfdc61b965d",
      "created_at" : "2018-03-16T12:37:04Z",
      "diff_hunk" : "@@ -814,6 +814,20 @@ UniValue ProcessImport(CWallet * const pwallet, const UniValue& data, const int6\n         const bool watchOnly = data.exists(\"watchonly\") ? data[\"watchonly\"].get_bool() : false;\n         const std::string& label = data.exists(\"label\") && !internal ? data[\"label\"].get_str() : \"\";\n \n+        if (data.exists(\"privkey\")) {\n+            const UniValue& privkey = data[\"privkey\"];\n+            if (data.exists(\"scriptPubKey\"))           throw JSONRPCError(RPC_INVALID_PARAMETER, \"Must provide either a privkey or a scriptPubKey\");\n+            if (strRedeemScript != \"\")                 throw JSONRPCError(RPC_INVALID_PARAMETER, \"Redeem script not supported for privkey import\");\n+            if (pubKeys.size() > 0 || keys.size() > 0) throw JSONRPCError(RPC_INVALID_PARAMETER, \"Keys/pubkeys not supported for privkey import\");\n+            if (watchOnly)                             throw JSONRPCError(RPC_INVALID_PARAMETER, \"Privkeys cannot be imported watch-only\");\n+            if (!ImportPrivateKey(pwallet, privkey, label, timestamp)) {\n+                throw JSONRPCError(RPC_WALLET_ERROR, \"The wallet already contains the given private key\");\n+            }\n+            UniValue result = UniValue(UniValue::VOBJ);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12705#discussion_r175076159",
      "id" : 175076159,
      "original_commit_id" : "472afcce620330e124871bf63b7e6e3e133fe8d6",
      "original_position" : 30,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 114,
      "pull_request_review_id" : 104547350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12705",
      "updated_at" : "2018-03-16T12:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175076159",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
