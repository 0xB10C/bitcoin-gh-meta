{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Subset of #12379 now that parts of that PR have been merged.\r\n\r\n#12362 was only observed when running the functional tests locally because:\r\n\r\n- by defatul libc logs to `/dev/tty` instead of stderr\r\n- the functional tests only check for substring inclusion in stderr when we're expecting bitcoind to fail.\r\n\r\nThis PR tightens our checking of stderr and will cause tests to fail if there is any unexpected message in stderr:\r\n\r\n- commit *Write stdout/stderr to datadir instead of temp file* writes stderr to a file in the datadir instead of a temporary file. This helps with debugging in the case of failure.\r\n- commit *Use LIBC_FATAL_STDERR=1 in tests* ensures that libc failures are logged to stderr instead of the terminal.\r\ncommit *Assert that bitcoind stdout is empty on shutdown* asserts that stderr is empty on bitcoind shutdown.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12755/comments",
   "created_at" : "2018-03-22T13:52:58Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12755/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/12755",
   "id" : 307652640,
   "labels" : [
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12755/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 12755,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/12755.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12755",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/12755.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12755"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "[tests] Better stderr testing",
   "updated_at" : "2018-03-23T07:35:34Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12755",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
