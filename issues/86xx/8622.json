{
   "assignee" : null,
   "assignees" : [],
   "body" : "This code causes no almost no functional difference to bitcoin. The only functional difference is that is nRelevantServices includes the NODE_WITNESS flag then this will also be used in the selection of nodes to connect to. However, since nRelevantServices is used to disconnect nodes upon connection then these nodes would have been immediately disconnected anyway so this pull simply avoid the connection followed by immediate connection.\r\n\r\nThe purpose of the pull is also to help make the code more readable by making variable names fit their function. \r\n\r\n1. The first commit moves the debug message for version number to before the disconnect logic so that the debug.log will show the version of nodes connected to, however briefly. This seems reasonable given that a version message is received - it now ensures it is logged.\r\n2. The second commit uses nRelevantServices, replacing nServicesExpected when deciding whether to disconnect a node. (TODO: double-check was the previous & ~ actually did) Functionally this should be the same as nServicesExpected is ANDed with nRelevantServices (until the next commit at least).\r\n4. The third commit changed nServicesExpected so that it is what is in the address database, thereby making the variable function closer to the variable name.\r\n6. The fourth commit removes the constant REQUIRED_SERVICES (which equalled NODE_NETWORK) and instead uses nRelevantServices (which also equals NODE_NETWORK). Thsi brings the connection logic in-line with the disconnection logic. nRelevantServices, when SegWit activates can also include NODE_SEGWIT resulting in connections still being made to non-segwit nodes but then immediately being disconnected when the disconnect logic finds they do not offer segwit. (Although, perhaps this functionality is desired so that they are being polled to determine if they eventually provide SegWit? - if so, this commit should be excluded from this pull).",
   "closed_at" : "2016-08-29T05:40:50Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   },
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8622/comments",
   "created_at" : "2016-08-29T05:31:56Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8622/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/8622",
   "id" : 173699228,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8622/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 8622,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/8622.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8622",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/8622.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8622"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "[WIP] Clarify variable names",
   "updated_at" : "2016-08-29T05:40:50Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8622",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   }
}
