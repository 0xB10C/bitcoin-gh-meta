[
   {
      "body" : "This is indeed a nice idea.\r\nutACK.",
      "created_at" : "2016-08-29T11:40:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-243101062",
      "id" : 243101062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-08-29T11:40:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243101062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "At the risk of it being blatantly obvious, this would especially allow nodes with default settings during IBD to sync faster, yes?\r\n\r\nconcept ACK",
      "created_at" : "2016-08-29T14:38:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-243143404",
      "id" : 243143404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-08-29T14:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243143404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "> At the risk of it being blatantly obvious, this would especially allow nodes with default settings during IBD to sync faster, yes?\r\n\r\nIndeed!",
      "created_at" : "2016-08-29T15:13:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-243154336",
      "id" : 243154336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-08-29T15:13:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243154336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK.",
      "created_at" : "2016-09-03T09:22:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-244536507",
      "id" : 244536507,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-03T09:22:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244536507",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "At the risk of appearing stupid, how does this help nodes with default settings sync faster during IBD?\r\n\r\n...coincache helps to validate blocks..?",
      "created_at" : "2016-09-15T15:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-247354294",
      "id" : 247354294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-15T15:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247354294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Because during IBD, the mempool is nearly empty. With this patch, all that\nunused mempool space (300 Mbyte by default currently) will be used for the\nchainstate cache, which is the bottleneck for block validation during IBD.\n",
      "created_at" : "2016-09-15T15:07:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-247355905",
      "id" : 247355905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-15T15:07:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247355905",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/8610/commits/8b85edee37df75c443dd5bfe33eca44e964482d8",
      "created_at" : "2016-09-15T15:12:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-247357336",
      "id" : 247357336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-15T15:12:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247357336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@sipa do you have any concern that this gives outside peers some control over when your coinsviewcache is flushed?  That seems not ideal to me, at least until we are smarter about flushing it.\r\n\r\nI had previously imagined doing this by setting the mempool limit low initially and then increasing it to the desired setting after IBD was finished.  But I'm not sure I succeeded in having the code architected to make that possible.",
      "created_at" : "2016-09-15T16:22:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-247377621",
      "id" : 247377621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-15T16:22:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247377621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos I think that's already a concern, but I'm not sure this patch worsens it significantly. External peers can cause an increase in memory usage of the cache or the mempool, but the latter is already harder anyway.",
      "created_at" : "2016-09-19T10:47:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-247962089",
      "id" : 247962089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-09-19T10:47:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247962089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r79915084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/79915084"
         }
      },
      "body" : "This is confusing to me - maybe \"Using $cache_only_size for UTXO set (+ up to $mempool_size from mempool)\"",
      "commit_id" : "27562efde135360caae90bc2692aeed7f3fa0ab1",
      "created_at" : "2016-09-21T19:37:00Z",
      "diff_hunk" : "@@ -1277,11 +1277,11 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n     int64_t nCoinDBCache = std::min(nTotalCache / 2, (nTotalCache / 4) + (1 << 23)); // use 25%-50% of the remainder for disk cache\n     nCoinDBCache = std::min(nCoinDBCache, nMaxCoinsDBCache << 20); // cap total coins db cache\n     nTotalCache -= nCoinDBCache;\n-    nCoinCacheUsage = nTotalCache; // the rest goes to in-memory cache\n+    nCoinCachePlusMempoolUsage = nMempoolSizeMax + nTotalCache; // the rest goes to in-memory cache\n     LogPrintf(\"Cache configuration:\\n\");\n     LogPrintf(\"* Using %.1fMiB for block index database\\n\", nBlockTreeDBCache * (1.0 / 1024 / 1024));\n     LogPrintf(\"* Using %.1fMiB for chain state database\\n\", nCoinDBCache * (1.0 / 1024 / 1024));\n-    LogPrintf(\"* Using %.1fMiB for in-memory UTXO set\\n\", nCoinCacheUsage * (1.0 / 1024 / 1024));\n+    LogPrintf(\"* Using %.1fMiB for UTXO set (shared with mempool)\\n\", nCoinCachePlusMempoolUsage * (1.0 / 1024 / 1024));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r79915084",
      "id" : 79915084,
      "original_commit_id" : "8b85edee37df75c443dd5bfe33eca44e964482d8",
      "original_position" : 10,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1026380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610",
      "updated_at" : "2016-10-03T00:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/79915084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r81481742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81481742"
         }
      },
      "body" : "Done.",
      "commit_id" : "27562efde135360caae90bc2692aeed7f3fa0ab1",
      "created_at" : "2016-10-03T00:23:59Z",
      "diff_hunk" : "@@ -1277,11 +1277,11 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n     int64_t nCoinDBCache = std::min(nTotalCache / 2, (nTotalCache / 4) + (1 << 23)); // use 25%-50% of the remainder for disk cache\n     nCoinDBCache = std::min(nCoinDBCache, nMaxCoinsDBCache << 20); // cap total coins db cache\n     nTotalCache -= nCoinDBCache;\n-    nCoinCacheUsage = nTotalCache; // the rest goes to in-memory cache\n+    nCoinCachePlusMempoolUsage = nMempoolSizeMax + nTotalCache; // the rest goes to in-memory cache\n     LogPrintf(\"Cache configuration:\\n\");\n     LogPrintf(\"* Using %.1fMiB for block index database\\n\", nBlockTreeDBCache * (1.0 / 1024 / 1024));\n     LogPrintf(\"* Using %.1fMiB for chain state database\\n\", nCoinDBCache * (1.0 / 1024 / 1024));\n-    LogPrintf(\"* Using %.1fMiB for in-memory UTXO set\\n\", nCoinCacheUsage * (1.0 / 1024 / 1024));\n+    LogPrintf(\"* Using %.1fMiB for UTXO set (shared with mempool)\\n\", nCoinCachePlusMempoolUsage * (1.0 / 1024 / 1024));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r81481742",
      "id" : 81481742,
      "original_commit_id" : "8b85edee37df75c443dd5bfe33eca44e964482d8",
      "original_position" : 10,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 2459089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610",
      "updated_at" : "2016-10-03T00:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81481742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Seeing a roughly 30% decrease in time to reindex to 270'000 with this change.\r\n\r\n#### Master -reindex-chainstate\r\n08:04:43 Cache configuration:\r\n08:04:43 * Using 2.0MiB for block index database\r\n08:04:43 * Using 8.0MiB for chain state database\r\n08:04:43 * Using 290.0MiB for in-memory UTXO set\r\n\r\n08:04:45 UpdateTip: height=0 cache=0.0MiB(0tx)\r\n08:08:09 UpdateTip: height=200000 cache=172.9MiB(553629tx)\r\n08:12:52 UpdateTip: height=230000 cache=274.9MiB(668943tx)\r\n08:19:08 UpdateTip: height=260488 cache=239.4MiB(318281tx)\r\n08:19:08 UpdateTip: height=260489 cache=239.4MiB(318525tx)\r\n08:22:11 UpdateTip: height=270000 cache=31.7MiB(8943tx)\r\n#### 1046s\r\n\r\n#### #8610 -reindex-chainstate\r\n\r\n07:50:16 Cache configuration:\r\n07:50:16 * Using 2.0MiB for block index database\r\n07:50:16 * Using 8.0MiB for chain state database\r\n07:50:16 * Using 290.0MiB for UTXO set (plus up to 286.1MiB of unused mempool space)\r\n...\r\n07:50:18 UpdateTip: height=0 cache=0.0MiB(0tx)\r\n07:53:33 UpdateTip: height=200000 cache=356.1MiB(1336689tx)\r\n07:56:58 UpdateTip: height=230000 cache=575.5MiB(1900937tx)\r\n08:01:02 UpdateTip: height=260488 cache=576.1MiB(1324684tx)\r\n08:01:11 UpdateTip: height=260489 cache=16.0MiB(0tx)\r\n08:02:32 UpdateTip: height=270000 cache=486.6MiB(972452tx)\r\n#### 734s",
      "created_at" : "2016-11-07T08:26:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-258773492",
      "id" : 258773492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-11-07T08:26:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/258773492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r89658164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/89658164"
         }
      },
      "body" : "I wonder if it would be better to call `LimitMempoolSize` right before this?   During a reorg the mempool size isn't limited until the end, so theoretically `FlushStateToDisk` could get called and have its effective cache size reduced below the expected minimum.  @sdaftuar Is there any harm in calling an extra `LimitMempoolSize` in the middle of a reorg other than possible inefficiencies of what you're evicting?",
      "commit_id" : "27562efde135360caae90bc2692aeed7f3fa0ab1",
      "created_at" : "2016-11-25T21:30:55Z",
      "diff_hunk" : "@@ -2553,6 +2553,7 @@ enum FlushStateMode {\n  * or always and in all cases if we're in prune mode and are deleting files.\n  */\n bool static FlushStateToDisk(CValidationState &state, FlushStateMode mode) {\n+    size_t cacheSize = mempool.DynamicMemoryUsage();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#discussion_r89658164",
      "id" : 89658164,
      "original_commit_id" : "27562efde135360caae90bc2692aeed7f3fa0ab1",
      "original_position" : 13,
      "path" : "src/main.cpp",
      "position" : 13,
      "pull_request_review_id" : 10203229,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8610",
      "updated_at" : "2016-11-25T21:30:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/89658164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "utACK modulo suggestion about calling LimitMempoolSize in FSTD.  \r\nHowever if we decide there are downsides to that suggestion, I'm fine with leaving it out.\r\n",
      "created_at" : "2016-11-25T21:31:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8610#issuecomment-263024449",
      "id" : 263024449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8610",
      "updated_at" : "2016-11-25T21:31:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263024449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   }
]
