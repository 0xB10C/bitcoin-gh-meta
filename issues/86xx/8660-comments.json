[
   {
      "body" : "It's not overly complicated to maintain this index outside of `bitcoind`,   IMHO,  that is where it should be.   Perhaps `indexd` or some other service.\r\nConcept NACK",
      "created_at" : "2016-09-04T05:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244585017",
      "id" : 244585017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-04T05:23:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244585017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "NACK. Txouts are not associated with addresses at all.",
      "created_at" : "2016-09-04T05:24:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244585044",
      "id" : 244585044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-04T05:24:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244585044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr They are, but this association is not useful for 99.9% `bitcoind` users. And it slows down the normal work used by 100% of `bitcoind` users. So NACK.\r\n\r\nIf people need this, please contribute some description/work using the external indexing solution into `contrib/`.",
      "created_at" : "2016-09-04T06:47:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244587264",
      "id" : 244587264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-04T06:47:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244587264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Concept ACK from me.\r\n@paveljanik The feature is off by default so it shouldn't slow down anything for normal users.\r\nOT: If indexes are really considered so bad then `-txindex` should be removed.",
      "created_at" : "2016-09-04T12:26:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244600717",
      "id" : 244600717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-04T12:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244600717",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8660#discussion_r77459023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/77459023"
         }
      },
      "body" : "We don't use bash anymore in /rpc-tests",
      "commit_id" : "673efd7483459bc1c065dd82449402d76ac1a6df",
      "created_at" : "2016-09-04T21:29:21Z",
      "diff_hunk" : "@@ -0,0 +1,163 @@\n+#!/usr/bin/env bash",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#discussion_r77459023",
      "id" : 77459023,
      "original_commit_id" : "673efd7483459bc1c065dd82449402d76ac1a6df",
      "original_position" : 1,
      "path" : "qa/rpc-tests/txoutsbyaddress.sh",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8660",
      "updated_at" : "2016-09-04T21:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/77459023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "The inspiration for this PR is to try and make it easier to build a fully validating wallet that does not use significantly more resources then a full node itself.\r\n\r\nIt seems that most (all?) current solutions for building a wallet either involve added trust (SPV or centralized API services) or added resource requirements (bitcore.io needs 8GB RAM and 200GB disk space)\r\n\r\nThats the rationale (which I probably should have stated at the outset) anyway. The last time I was trying to make a demo it was easier just to use the blockcypher API, or maybe there are projects that I missed that fill this gap?",
      "created_at" : "2016-09-04T22:25:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244632194",
      "id" : 244632194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-04T22:25:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244632194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42459?v=3",
         "events_url" : "https://api.github.com/users/djpnewton/events{/privacy}",
         "followers_url" : "https://api.github.com/users/djpnewton/followers",
         "following_url" : "https://api.github.com/users/djpnewton/following{/other_user}",
         "gists_url" : "https://api.github.com/users/djpnewton/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/djpnewton",
         "id" : 42459,
         "login" : "djpnewton",
         "organizations_url" : "https://api.github.com/users/djpnewton/orgs",
         "received_events_url" : "https://api.github.com/users/djpnewton/received_events",
         "repos_url" : "https://api.github.com/users/djpnewton/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/djpnewton/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/djpnewton/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/djpnewton"
      }
   },
   {
      "body" : "If the RPC was by script (as the internals seem to be) instead of by address, it might make sense.",
      "created_at" : "2016-09-05T01:30:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244641363",
      "id" : 244641363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-05T01:30:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244641363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> If people need this, please contribute some description/work using the external indexing solution into contrib/.\r\n\r\n\r\n> OT: If indexes are really considered so bad then -txindex should be removed.\r\n\r\nIMHO,  that is where `txindex` should be,  at least then it might easy to extend to things like this without adding 1000 SLOC.",
      "created_at" : "2016-09-05T01:59:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244643813",
      "id" : 244643813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-05T02:00:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244643813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@luke-jr the RPC accepts both hex encoded script or addresses",
      "created_at" : "2016-09-05T03:28:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244651551",
      "id" : 244651551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-05T03:28:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244651551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42459?v=3",
         "events_url" : "https://api.github.com/users/djpnewton/events{/privacy}",
         "followers_url" : "https://api.github.com/users/djpnewton/followers",
         "following_url" : "https://api.github.com/users/djpnewton/following{/other_user}",
         "gists_url" : "https://api.github.com/users/djpnewton/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/djpnewton",
         "id" : 42459,
         "login" : "djpnewton",
         "organizations_url" : "https://api.github.com/users/djpnewton/orgs",
         "received_events_url" : "https://api.github.com/users/djpnewton/received_events",
         "repos_url" : "https://api.github.com/users/djpnewton/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/djpnewton/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/djpnewton/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/djpnewton"
      }
   },
   {
      "body" : "> The inspiration for this PR is to try and make it easier to build a fully validating wallet that does not use significantly more resources then a full node itself.\r\n\r\n> It seems that most (all?) current solutions for building a wallet either involve added trust (SPV or centralized API services) or added resource requirements (bitcore.io needs 8GB RAM and 200GB disk space)\r\n\r\nThese are good point!\r\n\r\nSome thoughts:\r\n1) If we would add something like this, it should be more modular. Have a look at https://github.com/bitcoin/bitcoin/pull/8501/files, there you can see how just a handful of lines in `init.cpp` can add core features over a flexible modular approach. It also simplifies rebases.\r\n\r\n2) Was it considered to add the index outside of bitcoin-core? I guess using ZMQ notifications together with REST (or RPC) would work. What would be the downsides or advantages of the \"external\" approach?",
      "created_at" : "2016-09-05T07:54:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244681319",
      "id" : 244681319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-05T07:54:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244681319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> Was it considered to add the index outside of bitcoin-core? I guess using ZMQ notifications together with REST (or RPC) would work. What would be the downsides or advantages of the \"external\" approach?\r\n\r\nAs someone who does this approach,   the only difficulties is ensuring that you handle orphans and forks properly.\r\nThey do happen enough and cause issues,  so you need to be prepared for the floor to fall out between RPC calls.\r\nSimple enough code,  but battle testing it can take a while and would probably be important to have examples for in `contrib/` for beginners.\r\nAs far as the db requirements go,  you just need to be able to rollback data for re-orgs.\r\n\r\n\r\n",
      "created_at" : "2016-09-05T08:22:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8660#issuecomment-244686846",
      "id" : 244686846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8660",
      "updated_at" : "2016-09-05T08:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/244686846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   }
]
