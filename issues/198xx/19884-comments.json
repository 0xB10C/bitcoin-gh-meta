[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift I'm sorry this took so long. Ready for review.",
      "created_at" : "2020-09-05T17:23:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-687638781",
      "id" : 687638781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzYzODc4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T17:23:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687638781",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@n-thumann Thank you, for the prompt review.",
      "created_at" : "2020-09-05T17:24:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-687638879",
      "id" : 687638879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzYzODg3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T17:24:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687638879",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483972811"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483972811"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit:\r\n\r\n```suggestion\r\n        const bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\r\n```",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T17:52:08Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483972811",
      "id" : 483972811,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3MjgxMQ==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1848,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483069579,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483972811",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483973013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483973013"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Personally I find `if-else` logic easier to read if starting with the truthy case. In this specific case: starting with the `if (dnsseed) {` case and handle the `!dnsseed` case in the `else` block :)",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T17:54:47Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&\n+            ((GetTime() - nStart > 60) || !dnsseed)) {\n+            if (!dnsseed) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483973013",
      "id" : 483973013,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3MzAxMw==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1851,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483069736,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483973013",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483973781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483973781"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be outside the scope of this PR, but ISTM`GetTime()` is deprecated; see `src/util/time.h`.",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T18:02:41Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&\n+            ((GetTime() - nStart > 60) || !dnsseed)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483973781",
      "id" : 483973781,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3Mzc4MQ==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1850,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483070228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483973781",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        if (addrman.empty() &&\r\n```",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T18:06:39Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974114",
      "id" : 483974114,
      "line" : 1849,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3NDExNA==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1849,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 27,
      "pull_request_review_id" : 483070228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974114",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974410"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks for the catch.",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T18:10:23Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974410",
      "id" : 483974410,
      "in_reply_to_id" : 483972811,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3NDQxMA==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1848,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483070623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974410",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974433"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T18:10:31Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&\n+            ((GetTime() - nStart > 60) || !dnsseed)) {\n+            if (!dnsseed) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483974433",
      "id" : 483974433,
      "in_reply_to_id" : 483973013,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3NDQzMw==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1851,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483070623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483974433",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dhruv I saw you removed the `done` logic: are you sure that `!addrman.empty()` is _guaranteed_ after `addrman.Add(convertSeed6(Params().FixedSeeds()), local);`? AFAICT that condition must be hold for the new code to be equivalent to the old code.",
      "created_at" : "2020-09-05T18:49:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-687647828",
      "id" : 687647828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzY0NzgyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T18:51:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687647828",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483995432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483995432"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "no member named `empty` in `CAddrMan`. \r\n\r\nHappy to create one if that's what you are suggesting.",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T22:23:47Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483995432",
      "id" : 483995432,
      "in_reply_to_id" : 483974114,
      "line" : 1849,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk5NTQzMg==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1849,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 27,
      "pull_request_review_id" : 483098330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483995432",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483997224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997224"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed.",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-05T22:49:02Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&\n+            ((GetTime() - nStart > 60) || !dnsseed)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r483997224",
      "id" : 483997224,
      "in_reply_to_id" : 483973781,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk5NzIyNA==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1850,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483098330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T00:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997224",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @dhruv I saw you removed the `done` logic: are you sure that `!addrman.empty()` is _guaranteed_ after `addrman.Add(convertSeed6(Params().FixedSeeds()), local);`? AFAICT that condition must be hold for the new code to be equivalent to the old code.\r\n\r\n@practicalswift Thank you for catching that. I overlooked the implication of the `static` qualifier on `done` and mistakenly thought the code was redundant. It is now added back in.\r\n\r\nIt seems that the `done` logic is used to make sure that `addrman.Add(convertSeed6(Params().FixedSeeds()), local);` gets called no more than once regardless of the outcome. When I followed the code in `CAddrMan`, it seems that the invocation just adds the fixed seeds to the address tables so long as the seeds are well-formed. So invoking the deterministic function more than once is unnecessary. I'm new around here, so I'm hoping you can confirm my understanding.",
      "created_at" : "2020-09-06T00:37:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-687681036",
      "id" : 687681036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzY4MTAzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T00:37:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687681036",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Appveyor has [passed](https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/35050140) on `e7de5b5`, Github is just not reflecting it.",
      "created_at" : "2020-09-07T05:38:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-688047889",
      "id" : 688047889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODA0Nzg4OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T05:38:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688047889",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486430763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486430763"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, you are right. Probably out of scope to create it unless you want to.",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-10T15:22:37Z",
      "diff_hunk" : "@@ -1841,19 +1841,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         if (interruptNet)\n             return;\n \n-        // Add seed nodes if DNS seeds are all down (an infrastructure attack?).\n-        // Note that we only do this if we started with an empty peers.dat,\n-        // (in which case we will query DNS seeds immediately) *and* the DNS\n-        // seeds have not returned any results.\n-        if (addrman.size() == 0 && (GetTime() - nStart > 60)) {\n-            static bool done = false;\n-            if (!done) {\n+        // If we started with an empty peers.dat, we will query DNS seeds immediately.\n+        // Here we allow 60 seconds for the DNS seeds to return results. If they do not\n+        // return any results, or if they were disabled with -dnsseed=0, we add\n+        // the fixed seeds.\n+        bool dnsseed = gArgs.GetBoolArg(\"-dnsseed\", DEFAULT_DNSSEED);\n+        if (addrman.size() == 0 &&",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486430763",
      "id" : 486430763,
      "in_reply_to_id" : 483974114,
      "line" : 1849,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQzMDc2Mw==",
      "original_commit_id" : "bcbd637bcfe45d94fbe27688a35d071e6bcd8411",
      "original_line" : 1849,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 27,
      "pull_request_review_id" : 486050804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-10T15:22:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486430763",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486438754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486438754"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: clang format while touching this\r\n```diff\r\n-    int64_t nNextFeeler = PoissonNextSend(nStart.count()*1000*1000, FEELER_INTERVAL);\r\n-    while (!interruptNet)\r\n-    {\r\n+    int64_t nNextFeeler = PoissonNextSend(nStart.count() * 1000 * 1000, FEELER_INTERVAL);\r\n+    while (!interruptNet) {\r\n```",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-10T15:33:31Z",
      "diff_hunk" : "@@ -1826,10 +1826,10 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n     }\n \n     // Initiate network connections\n-    int64_t nStart = GetTime();\n+    auto nStart = GetTime<std::chrono::seconds>();\n \n     // Minimum time before next feeler connection (in microseconds).\n-    int64_t nNextFeeler = PoissonNextSend(nStart*1000*1000, FEELER_INTERVAL);\n+    int64_t nNextFeeler = PoissonNextSend(nStart.count()*1000*1000, FEELER_INTERVAL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486438754",
      "id" : 486438754,
      "line" : 1832,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQzODc1NA==",
      "original_commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "original_line" : 1832,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 9,
      "pull_request_review_id" : 486061184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-10T18:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486438754",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486528823"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486528823"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n                '0 addresses found from DNS seeds', \"Adding fixed seed nodes as DNS doesn't seem to be available.\"],\r\n```",
      "commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "created_at" : "2020-09-10T17:54:54Z",
      "diff_hunk" : "@@ -138,11 +139,36 @@ def test_networkactive(self):\n             self.start_node(0, extra_args=['-nonetworkactive=1'])\n         self.stop_node(0)\n \n+    def test_seed_peers(self):\n+        self.log.info('Test seed peers')\n+        default_data_dir = self.nodes[0].datadir\n+\n+        # No peers.dat exists and -dnsseed=1\n+        # We expect the node will use DNS Seeds, but Regtest mode has 0 DNS seeds\n+        # So after 60 seconds, the node should fallback to fixed seeds (this is a slow test)\n+        assert not os.path.exists(os.path.join(default_data_dir, \"peers.dat\"))\n+        start = time.time()\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Loaded 0 addresses from peers.dat',\n+                '0 addresses found from DNS seeds', 'Adding fixed seed nodes as DNS doesn\\'t seem to be available.'],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#discussion_r486528823",
      "id" : 486528823,
      "line" : 152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUyODgyMw==",
      "original_commit_id" : "e7de5b53e7b4433d41b519ca04d4c3aad0b6e186",
      "original_line" : 152,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "test/functional/feature_config_args.py",
      "position" : 22,
      "pull_request_review_id" : 486061184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19884",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-10T18:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/486528823",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If `peers.dat` is empty and `-dnsseed=0`\r\n\r\nIs this a use case worth optimising for? The linked issue doesn't really provide a reason why this use case is worthwhile, as far as I can see, just that the filer thought it was surprising.\r\n\r\nThe only case I can see where you'd want to set `-dnsseed=0` is if you somehow don't have DNS despite being connected to the real internet, or if you're really worried about privacy. But if you're really worried about privacy, connecting to fixed seeds is probably worse than doing a dns query, and if you were doing something clever, like triggering an outbound/inbound connection to your own node, losing the 60 second delay might also drop privacy.",
      "created_at" : "2020-09-10T23:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690783125",
      "id" : 690783125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDc4MzEyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-10T23:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690783125",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this a use case worth optimising for? The linked issue doesn't really provide a reason why this use case is worthwhile, as far as I can see, just that the filer thought it was surprising.\r\n\r\nFair question, @ajtowns. Let's page @practicalswift and see if he can shed light on his original use case.",
      "created_at" : "2020-09-11T04:20:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690864559",
      "id" : 690864559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDg2NDU1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T04:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690864559",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/856960?v=4",
         "events_url" : "https://api.github.com/users/dhruv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dhruv/followers",
         "following_url" : "https://api.github.com/users/dhruv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dhruv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dhruv",
         "id" : 856960,
         "login" : "dhruv",
         "node_id" : "MDQ6VXNlcjg1Njk2MA==",
         "organizations_url" : "https://api.github.com/users/dhruv/orgs",
         "received_events_url" : "https://api.github.com/users/dhruv/received_events",
         "repos_url" : "https://api.github.com/users/dhruv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dhruv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dhruv"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The only case I can see where you'd want to set `-dnsseed=0` is if you somehow don't have DNS despite being connected to the real internet, or if you're really worried about privacy. But if you're really worried about privacy, connecting to fixed seeds is probably worse than doing a dns query, and if you were doing something clever, like triggering an outbound/inbound connection to your own node, losing the 60 second delay might also drop privacy.\r\n\r\nThere are multiple important use cases for `-dnsseed=0`:\r\n* You don't want to use clearnet at all (`-dnsseed=0 -onlynet=onion -listen=0`)\r\n* You don't want to broadcast to the DNS seed operators (or anyone listening on the path to those DNS seed operators) that you're starting a new node (`-dnsseed=0 -listen=0`)\r\n* You want to test how Bitcoin Core behaves if the DNS seeds are unavailable\r\n\r\nI hope you're not advocating the removal of `-dnsseed=0` :)\r\n\r\n> Is this a use case worth optimising for? The linked issue doesn't really provide a reason why this use case is worthwhile, as far as I can see, just that the filer thought it was surprising.\r\n\r\nI'm not sure I would call removal of a 60 second sleep an optimization. To me it is clearly a bug fix :)\r\n\r\nAlso, please note that the behaviour is unchanged if `-dnsseed=0` is not set.\r\n\r\nThe only effect of this change is that users of `-dnsseed=0` won't have to wait an extra 60 seconds for their node to start.\r\n\r\nGiven the above clarification: do your skepticism to this bug fix remain? :)",
      "created_at" : "2020-09-11T06:01:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690894217",
      "id" : 690894217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDg5NDIxNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T06:05:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690894217",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> You don't want to use clearnet at all (-dnsseed=0 -onlynet=onion -listen=0)\r\n\r\nFWIW, if you use `-proxy`, DNS seeding happens over the proxy (which in the case of Tor means the exit node will do the resolving for you).",
      "created_at" : "2020-09-11T06:16:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690899470",
      "id" : 690899470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDg5OTQ3MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T06:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690899470",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > You don't want to use clearnet at all (-dnsseed=0 -onlynet=onion -listen=0)\r\n> \r\n> FWIW, if you use `-proxy`, DNS seeding happens over the proxy (which in the case of Tor means the exit node will do the resolving for you).\r\n\r\nYes I know, but then you'll have to trust the exit node operator not to tamper with the DNS responses :)\r\n\r\n`-dnsseed=0 -onlynet=onion -listen=0` avoids that.",
      "created_at" : "2020-09-11T06:21:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690901032",
      "id" : 690901032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDkwMTAzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T06:21:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690901032",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Of course, and I'm not commenting on the validity of the use case in general. Just that \"You don't want to use clearnet at all\" on its own is not a reason to use -dnsseed=0.",
      "created_at" : "2020-09-11T06:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690901769",
      "id" : 690901769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDkwMTc2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T06:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690901769",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Of course, and I'm not commenting on the validity of the use case in general. Just that \"You don't want to use clearnet at all\" on its own is not a reason to use -dnsseed=0.\r\n\r\nFair point. I should have written \"You don't want to use clearnet at all and you don't trust exit node operators\" :)",
      "created_at" : "2020-09-11T06:25:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690902428",
      "id" : 690902428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDkwMjQyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T06:25:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690902428",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> FWIW, if you use `-proxy`, DNS seeding happens over the proxy (which in the case of Tor means the exit node will do the resolving for you).\r\n\r\nBy \"DNS seeding\" you're in this context referring to the \"establish `ADDR_FETCH` connections via proxy to seed nodes\"-logic, right?\r\n\r\nAFAICT we've never supported sending actual DNS queries to the DNS seed nodes via proxy.\r\n\r\nFrom the `SetNameProxy` documentation: _\"SOCKS5's support for UDP-over-SOCKS5 has been considered, but no SOCK5 server in common use (most notably Tor) actually implements UDP support, and a DNS resolver is beyond the scope of this project.\"_",
      "created_at" : "2020-09-11T09:07:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19884#issuecomment-690972388",
      "id" : 690972388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19884",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MDk3MjM4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-11T09:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/690972388",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
