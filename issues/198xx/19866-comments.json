[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483413754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483413754"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: \r\n- copyright header\r\n- redundant empty lines here\r\n- also i think we want this file under `src/util`",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T06:29:04Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+\n+\n+#ifndef BITCOIN_TRACE_H",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483413754",
      "id" : 483413754,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQxMzc1NA==",
      "original_commit_id" : "1b4286c6ac2bad95d546e3c12eb4f3b3f5a80160",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/trace.h",
      "position" : null,
      "pull_request_review_id" : 482390242,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T15:03:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483413754",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483414033"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483414033"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why create a span just to take its data field?",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T06:29:50Z",
      "diff_hunk" : "@@ -3890,6 +3891,12 @@ bool PeerLogicValidation::ProcessMessages(CNode* pfrom, std::atomic<bool>& inter\n     }\n     CNetMessage& msg(msgs.front());\n \n+    TRACE4(PeerLogicValidation, ProcessMessages,\n+           pfrom->addr.ToString().c_str(),\n+           msg.m_command.c_str(),\n+           MakeUCharSpan(msg.m_recv).data(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483414033",
      "id" : 483414033,
      "line" : 3897,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQxNDAzMw==",
      "original_commit_id" : "1b4286c6ac2bad95d546e3c12eb4f3b3f5a80160",
      "original_line" : 3897,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 15,
      "pull_request_review_id" : 482390588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T15:03:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483414033",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, thanks for working on this, I think this is a great way to have more visibility into internal metrics (for diagnosing issues, and statistics), without intrusive changes, or having to hand-roll all kind of custom tooling.",
      "created_at" : "2020-09-04T06:37:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-686945746",
      "id" : 686945746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Njk0NTc0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T06:37:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686945746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: more tooling for allowing visibility into internals for power users is good. I don't think this Linux only improvement removes the need for #19509 at all: I would use both in different contexts :)",
      "created_at" : "2020-09-04T06:53:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-686952856",
      "id" : 686952856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Njk1Mjg1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T09:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686952856",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19865 (scripted-diff: Restore AssertLockHeld after #19668, remove LockAssertion by ryanofsky)\n* #19673 (Move cs_vSend into SocketSendData and resolve RecordBytesSent lock inconsistency by troygiorshev)\n* #19509 (Per-Peer Message Logging by troygiorshev)\n* #19064 (refactor: Cleanup thread ctor calls by hebasto)\n* #17785 (p2p: Unify Send and Receive protocol versions by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-09-04T08:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687005177",
      "id" : 687005177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzAwNTE3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T04:00:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687005177",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483652414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483652414"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Think I copied this over from the peer logging PR and didn't simplify. Will fix.",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T14:31:29Z",
      "diff_hunk" : "@@ -3890,6 +3891,12 @@ bool PeerLogicValidation::ProcessMessages(CNode* pfrom, std::atomic<bool>& inter\n     }\n     CNetMessage& msg(msgs.front());\n \n+    TRACE4(PeerLogicValidation, ProcessMessages,\n+           pfrom->addr.ToString().c_str(),\n+           msg.m_command.c_str(),\n+           MakeUCharSpan(msg.m_recv).data(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483652414",
      "id" : 483652414,
      "in_reply_to_id" : 483414033,
      "line" : 3897,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1MjQxNA==",
      "original_commit_id" : "1b4286c6ac2bad95d546e3c12eb4f3b3f5a80160",
      "original_line" : 3897,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 15,
      "pull_request_review_id" : 482701101,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T15:03:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483652414",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will review/test.",
      "created_at" : "2020-09-04T14:53:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687197225",
      "id" : 687197225,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzE5NzIyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T14:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687197225",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonatack thanks! you need `systemtap-sdt-dev` if you're on debian-like which I still need to add to the build. This just provides the sdt header file.",
      "created_at" : "2020-09-04T14:54:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687199010",
      "id" : 687199010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzE5OTAxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T14:54:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687199010",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @jonatack thanks! you need `systemtap-sdt-dev` if you're on debian-like which I still need to add to the build. This just provides the sdt header file.\r\n\r\nThanks for the heads-up! which probably saved me some time even though you mentioned it in the PR description. Done: `sudo apt install systemtap-sdt-dev`",
      "created_at" : "2020-09-04T14:58:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687201538",
      "id" : 687201538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzIwMTUzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T14:58:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687201538",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483767263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483767263"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`ENABLE_TRACING` is probably intended be provided a configure option (e.g. `--enable-ebpf`) later on?",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T17:44:15Z",
      "diff_hunk" : "@@ -0,0 +1,29 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_TRACE_H\n+#define BITCOIN_UTIL_TRACE_H\n+\n+#if /* !defined(ENABLE_TRACING) || */ defined(WIN32)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483767263",
      "id" : 483767263,
      "line" : 8,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2NzI2Mw==",
      "original_commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/trace.h",
      "position" : 8,
      "pull_request_review_id" : 482842592,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T17:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483767263",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483768868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483768868"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "correct. I think having runtime probes would be neat to have in release builds, then you could tap into them in production. This shouldn't be a problem since traces are basically no-ops if there are no probes attached. This is what linux does of course. perhaps it would be a thing you could explicitly disable if you wanted to, or if configure couldn't find the sdt header.",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T17:48:15Z",
      "diff_hunk" : "@@ -0,0 +1,29 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_TRACE_H\n+#define BITCOIN_UTIL_TRACE_H\n+\n+#if /* !defined(ENABLE_TRACING) || */ defined(WIN32)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483768868",
      "id" : 483768868,
      "in_reply_to_id" : 483767263,
      "line" : 8,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc2ODg2OA==",
      "original_commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/trace.h",
      "position" : 8,
      "pull_request_review_id" : 482844641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T17:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483768868",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483770317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483770317"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "although it's not technically a no-op if the macro arg does some amount of work, like serializing an ip address to a string. so trace invocations shouldn't try to serialize anything or do heavy work. you can always write parsers on the bpf side.",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T17:51:47Z",
      "diff_hunk" : "@@ -0,0 +1,29 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_TRACE_H\n+#define BITCOIN_UTIL_TRACE_H\n+\n+#if /* !defined(ENABLE_TRACING) || */ defined(WIN32)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483770317",
      "id" : 483770317,
      "in_reply_to_id" : 483767263,
      "line" : 8,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc3MDMxNw==",
      "original_commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/trace.h",
      "position" : 8,
      "pull_request_review_id" : 482846511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T17:52:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483770317",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483774808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483774808"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> correct. I think having runtime probes would be neat to have in release builds,\r\n\r\nAgree, I'm fine with enabling it by default when the prerequisites are installed (and the platform is Linux),\r\n\r\n> although it's not technically a no-op if the macro arg does some amount of work,\r\n\r\nYes, this is something to be careful with. The `LogPrintf`macro avoids this by evaluating its arguments only when debugging is enabled.\r\nBut I think in most cases it's not a problem, we'll only want to trace values that are readily available anyway.",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T18:02:12Z",
      "diff_hunk" : "@@ -0,0 +1,29 @@\n+// Copyright (c) 2020 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_TRACE_H\n+#define BITCOIN_UTIL_TRACE_H\n+\n+#if /* !defined(ENABLE_TRACING) || */ defined(WIN32)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483774808",
      "id" : 483774808,
      "in_reply_to_id" : 483767263,
      "line" : 8,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc3NDgwOA==",
      "original_commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/trace.h",
      "position" : 8,
      "pull_request_review_id" : 482852392,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T18:03:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483774808",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Could list the probe points in gdb:\r\n```\r\n(gdb) info probes\r\nType Provider            Name            Where              Semaphore Object                                     \r\nstap CChainState         ConnectBlock    0x0000000000294636           /â¦/bitcoin/src/bitcoind \r\nstap CConnman            PushMessage     0x000000000009ab40           /â¦/bitcoin/src/bitcoind \r\nstap PeerLogicValidation ProcessMessages 0x00000000000d1387           /â¦/bitcoin/bitcoin/src/bitcoind \r\n```\r\n\r\n> $ sudo bpftrace netmsg.bt -o nettrace.txt -c \"./src/bitcoind -datadir=/run/bitcoin \"\r\n\r\nIs it really necessary to run this as root?\r\nI read @eklitzke's [blog post](https://eklitzke.org/how-sytemtap-userspace-probes-work) back in the day and he doesn't use it there. But it looks like he uses a different tool, `stap` instead of `bpftrace`.\r\n\r\nEdit: yes it is necessary to run `bpftrace` as root,because it uses some privileged kernel functionality. It's probably not necessary to run bitcoind as root though.",
      "created_at" : "2020-09-04T18:21:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687308403",
      "id" : 687308403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMwODQwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T18:31:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687308403",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm trying the first example, but it complains about a missing function `buf`. Any idea? Maybe too old bptrace version?\r\n```\r\n# uname -r\r\n5.4.0-42-generic\r\n# bpftrace --version\r\nbpftrace v0.9.4\r\n# bpftrace -p $(cat ~user/.bitcoin/bitcoind.pid) ../network-messages.bt \r\n../network-messages.bt:13:11-14: ERROR: Unknown function: buf\r\n  $data = buf(arg1,arg2);\r\n          ~~~\r\n```",
      "created_at" : "2020-09-04T18:41:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687317120",
      "id" : 687317120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMxNzEyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T18:41:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687317120",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "\"Wladimir J. van der Laan\" <notifications@github.com> writes:\n\n> I'm trying the first example, but it complains about a missing function `buf`. Any idea? Maybe too old bptrace version?\n\nyeah buf is a new thing from bpftrace 0.11 and bcc 0.16.0, you can just\nremove that if you're testing.\n\nbpftrace is a pretty high level thing, you can write lower level bpf\nprograms with bcc, I haven't tried that yet but it looks like its more\npowerful. bpftrace is great for simple stuff though.\n",
      "created_at" : "2020-09-04T18:58:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687324727",
      "id" : 687324727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMyNDcyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T18:58:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687324727",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Edit: yes it is necessary to run bpftrace as root,because it uses some privileged kernel functionality. It's probably not necessary to run bitcoind as root though.\r\n\r\nright, you can run bitcoin without root and then attach to it with bpftrace afterwards.",
      "created_at" : "2020-09-04T19:04:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687327650",
      "id" : 687327650,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMyNzY1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T19:04:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687327650",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could list the probe points in gdb\r\n\r\nI wasn't sure how we should name the probes, right now I just have the mapped to class::method but perhaps they could be more abstract like `validation:connect_block`, `net:push_message`, `net:process_message` ?",
      "created_at" : "2020-09-04T19:08:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687329421",
      "id" : 687329421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMyOTQyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T19:08:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687329421",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> yeah buf is a new thing from bpftrace 0.11 and bcc 0.16.0, you can just remove that if you're testing.\r\n\r\nGood to know! I've built bpftrace [from git](https://github.com/iovisor/bpftrace) and it works now (which is version `bpftrace v0.11.0`, a lot newer!), thanks.\r\n\r\n> I wasn't sure how we should name the probes, right now I just have the mapped to class::method but perhaps they could be more abstract like validation:connect_block, net:push_message, net:process_message ?\r\n\r\nI think I prefer that. It has the probe point name describe more accurately the action taken and data that is traced.\r\nWe'll want to list and document these at some point.\r\n\r\n> Other ideas: tracepoints for lock contention, threads, what else?\r\n\r\n I think these would be good to have too:\r\n\r\n- Peer connected\r\n- Peer disconnected\r\n\r\nBTW: is it possible to do binary logging with `bpftrace` or `bcc`? (e.g. to provide a similar output to #19509). Or is it always text?\r\n",
      "created_at" : "2020-09-04T19:24:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687336319",
      "id" : 687336319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzMzNjMxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-04T20:01:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687336319",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483810283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483810283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we'll want to add the peer id as well here (same for outgoing)",
      "commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "created_at" : "2020-09-04T19:30:19Z",
      "diff_hunk" : "@@ -3890,6 +3891,12 @@ bool PeerLogicValidation::ProcessMessages(CNode* pfrom, std::atomic<bool>& inter\n     }\n     CNetMessage& msg(msgs.front());\n \n+    TRACE4(PeerLogicValidation, ProcessMessages,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483810283",
      "id" : 483810283,
      "line" : 3894,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgxMDI4Mw==",
      "original_commit_id" : "629d119f90d7a302415ffc8089524a3dc0a50893",
      "original_line" : 3894,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 12,
      "pull_request_review_id" : 482897499,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19866",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-04T19:30:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483810283",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For some extra inspiration with regard to tracepoints, we might want to look at the [statoshi diff](https://github.com/jlopp/statoshi/compare/1b90a7b61a37d450bbe5b485dcc9b8c591567e0d..28b88353a78ae19e3c5379bbda6b72f4fef65a8c).\r\n(I think we can convert most of the statsd use to tracepoints, or sets of two tracepoints in the case of timing ones)",
      "created_at" : "2020-09-05T12:13:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19866#issuecomment-687602059",
      "id" : 687602059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19866",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzYwMjA1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-05T12:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687602059",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
