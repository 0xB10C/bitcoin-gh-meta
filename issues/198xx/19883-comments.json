[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483969092"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483969092"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why does this matter?",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-05T17:09:17Z",
      "diff_hunk" : "@@ -113,6 +132,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                             {RPCResult::Type::STR, \"subver\", \"The string version\"},\n                             {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                             {RPCResult::Type::BOOL, \"addnode\", \"Whether connection was due to addnode/-connect or if it was an automatic/inbound connection\"},\n+                            {RPCResult::Type::NUM, \"conn_type\", \"Connection type between 0 and 5:\\n\" + ConnTypeList()},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483969092",
      "id" : 483969092,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk2OTA5Mg==",
      "original_commit_id" : "0d24183e715919b0fa9fe188d1382668565b15ca",
      "original_line" : 135,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483067261,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483969092",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483970038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483970038"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To be sure I'm understanding, the suggestion is to drop \"between 0 and 5\"?",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-05T17:19:44Z",
      "diff_hunk" : "@@ -113,6 +132,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                             {RPCResult::Type::STR, \"subver\", \"The string version\"},\n                             {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                             {RPCResult::Type::BOOL, \"addnode\", \"Whether connection was due to addnode/-connect or if it was an automatic/inbound connection\"},\n+                            {RPCResult::Type::NUM, \"conn_type\", \"Connection type between 0 and 5:\\n\" + ConnTypeList()},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483970038",
      "id" : 483970038,
      "in_reply_to_id" : 483969092,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3MDAzOA==",
      "original_commit_id" : "0d24183e715919b0fa9fe188d1382668565b15ca",
      "original_line" : 135,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483067915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483970038",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483971285"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483971285"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, I'm asking why is this is needed.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-05T17:34:43Z",
      "diff_hunk" : "@@ -113,6 +132,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                             {RPCResult::Type::STR, \"subver\", \"The string version\"},\n                             {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                             {RPCResult::Type::BOOL, \"addnode\", \"Whether connection was due to addnode/-connect or if it was an automatic/inbound connection\"},\n+                            {RPCResult::Type::NUM, \"conn_type\", \"Connection type between 0 and 5:\\n\" + ConnTypeList()},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483971285",
      "id" : 483971285,
      "in_reply_to_id" : 483969092,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3MTI4NQ==",
      "original_commit_id" : "0d24183e715919b0fa9fe188d1382668565b15ca",
      "original_line" : 135,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483068674,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483971285",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483971730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483971730"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's explained in the PR description.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-05T17:39:45Z",
      "diff_hunk" : "@@ -113,6 +132,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                             {RPCResult::Type::STR, \"subver\", \"The string version\"},\n                             {RPCResult::Type::BOOL, \"inbound\", \"Inbound (true) or Outbound (false)\"},\n                             {RPCResult::Type::BOOL, \"addnode\", \"Whether connection was due to addnode/-connect or if it was an automatic/inbound connection\"},\n+                            {RPCResult::Type::NUM, \"conn_type\", \"Connection type between 0 and 5:\\n\" + ConnTypeList()},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r483971730",
      "id" : 483971730,
      "in_reply_to_id" : 483969092,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk3MTczMA==",
      "original_commit_id" : "0d24183e715919b0fa9fe188d1382668565b15ca",
      "original_line" : 135,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483068932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483971730",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm not sure if it's good idea to return enum's `int` value. If the enum is changed/refactored clients get broken. IMO string is fine and enough.\r\n\r\nIf a string was returned, changing the string name would be a breaking change, and string names are likely to be bike-shed or changed. OTOH there is no reason why the enum integer values would ever have to change. The `enum class` itself can separate the `int` values from the rest with no need for extra methods; it can remain stable even if the enum element naming or order is otherwise changed. And the integer is the easiest data for API clients to parse, bounds check and use as an index into a data structure.",
      "created_at" : "2020-09-06T10:40:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-687752722",
      "id" : 687752722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzc1MjcyMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T09:56:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687752722",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is not safe. If you shuffle the enum then this returns bad values.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T10:52:52Z",
      "diff_hunk" : "@@ -193,6 +214,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n         obj.pushKV(\"subver\", stats.cleanSubVer);\n         obj.pushKV(\"inbound\", stats.fInbound);\n         obj.pushKV(\"addnode\", stats.m_manual_connection);\n+        obj.pushKV(\"conn_type\", stats.m_conn_type);\n+        obj.pushKV(\"conn_type_name\", std::get<1>(CONN_TYPES.at(stats.m_conn_type)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054237",
      "id" : 484054237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1NDIzNw==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 218,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483132542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054237",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054253"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this is complicated and fragile. This assumes `0` to be `ConnectionType::INBOUND` and if the enum is changed then this brakes.\r\n",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T10:53:10Z",
      "diff_hunk" : "@@ -29,6 +29,25 @@\n \n #include <univalue.h>\n \n+static const std::vector<std::tuple<int, const std::string, const std::string>> CONN_TYPES{\n+    std::make_tuple(0, \"inbound\", \"initiated by the peer\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054253",
      "id" : 484054253,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1NDI1Mw==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 33,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483132542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054253",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Of course, the robust thing to do would be to use boolean fields like `inbound` and `addnode` for peer characteristics.",
      "created_at" : "2020-09-06T10:53:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-687755611",
      "id" : 687755611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzc1NTYxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T10:53:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687755611",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054683"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should be changed neither lightly nor frequently, if at all, and here the changes to be made are in one method only.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T10:57:38Z",
      "diff_hunk" : "@@ -29,6 +29,25 @@\n \n #include <univalue.h>\n \n+static const std::vector<std::tuple<int, const std::string, const std::string>> CONN_TYPES{\n+    std::make_tuple(0, \"inbound\", \"initiated by the peer\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054683",
      "id" : 484054683,
      "in_reply_to_id" : 484054253,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1NDY4Mw==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 33,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483132849,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054683",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054803"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054803"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm confused, why would the enum be shuffled? If the enum is not stable, it shouldn't be exposed via the API.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T10:59:02Z",
      "diff_hunk" : "@@ -193,6 +214,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n         obj.pushKV(\"subver\", stats.cleanSubVer);\n         obj.pushKV(\"inbound\", stats.fInbound);\n         obj.pushKV(\"addnode\", stats.m_manual_connection);\n+        obj.pushKV(\"conn_type\", stats.m_conn_type);\n+        obj.pushKV(\"conn_type_name\", std::get<1>(CONN_TYPES.at(stats.m_conn_type)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484054803",
      "id" : 484054803,
      "in_reply_to_id" : 484054237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1NDgwMw==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 218,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483132936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484054803",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484058159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484058159"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Dropped this field.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T11:33:16Z",
      "diff_hunk" : "@@ -193,6 +214,8 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n         obj.pushKV(\"subver\", stats.cleanSubVer);\n         obj.pushKV(\"inbound\", stats.fInbound);\n         obj.pushKV(\"addnode\", stats.m_manual_connection);\n+        obj.pushKV(\"conn_type\", stats.m_conn_type);\n+        obj.pushKV(\"conn_type_name\", std::get<1>(CONN_TYPES.at(stats.m_conn_type)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484058159",
      "id" : 484058159,
      "in_reply_to_id" : 484054237,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1ODE1OQ==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 218,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483135192,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484058159",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484058188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484058188"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed this. Thanks for the feedback.",
      "commit_id" : "bd2aa75c3346bdca82451cebdc3b6703fba695d9",
      "created_at" : "2020-09-06T11:33:33Z",
      "diff_hunk" : "@@ -29,6 +29,25 @@\n \n #include <univalue.h>\n \n+static const std::vector<std::tuple<int, const std::string, const std::string>> CONN_TYPES{\n+    std::make_tuple(0, \"inbound\", \"initiated by the peer\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#discussion_r484058188",
      "id" : 484058188,
      "in_reply_to_id" : 484054253,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1ODE4OA==",
      "original_commit_id" : "515e30d1a4d668773beef19aced4b73307d14a9a",
      "original_line" : 33,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483135210,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19883",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-06T11:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484058188",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think nobody cares about the `int` value\r\n\r\nExactly -- no one caring about the `int` value is an advantage. The enum class `int` values can remain stable for the API even if people want to change the enum element naming or order.\r\n\r\n> Sending `int` and have this documented is fine too (but the redundant `string` is then unnecessary) \r\n\r\nThanks for reviewing and making this better, @promag. Dropped the string field and put the doc directly in RPCHelpMan.",
      "created_at" : "2020-09-06T11:46:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-687767072",
      "id" : 687767072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzc2NzA3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T18:47:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687767072",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I prefer #19725. We shouldn't leak our internal enum indexes out to a public API (since that locks us into a specific implementation)",
      "created_at" : "2020-09-07T09:57:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688214492",
      "id" : 688214492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODIxNDQ5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T09:57:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688214492",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> since that locks us into a specific implementation\n\nIf the ConnectionType enum were to be abandoned for a hypothetical different implementation, it would just require adding a method to serialise the ids. For now that's not needed.",
      "created_at" : "2020-09-07T10:10:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688222315",
      "id" : 688222315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODIyMjMxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T10:10:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688222315",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery I've made that point too, but you can also assume that ATM the mapping function used is the identity function.",
      "created_at" : "2020-09-07T10:12:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688223424",
      "id" : 688223424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODIyMzQyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-07T10:12:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688223424",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "this PR isn't quite a replacement for #19725 because it doesn't include the deprecation of `getpeerinfo.addnode`, or the logging improvement in `net_processing`.\r\n\r\nI think the proposal of adding `conn_type` as an integer id is a reasonable proposal, but wanted to clarify the differences for reviewers. I'm personally -0 because I think a string suffices. ",
      "created_at" : "2020-09-08T04:22:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688609431",
      "id" : 688609431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODYwOTQzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T04:22:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688609431",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the proposal of adding conn_type as an integer id is a reasonable proposal, but wanted to clarify the differences for reviewers. I'm personally -0 because I think a string suffices.\r\n\r\nI agree here that a string suffices. I don't think it's wise to expose the enumeration IDs on the JSON-RPC interface, as they are an internal implementation detail, and for better or worse (no real enum type) the common way is to use strings as enumerators in JSON.",
      "created_at" : "2020-09-08T07:36:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688680739",
      "id" : 688680739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODY4MDczOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T07:36:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688680739",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "By any objective technical criteria, ersatz long-format string ids in the place of integer ones seem a substantially worse choice\r\n\r\n- code\r\n- complexity\r\n- robustness\r\n- API stability\r\n- API flexibility for clients\r\n- memory\r\n- speed\r\n- network bandwidth\r\n- maintainability\r\n\r\nin every way maybe an order of magnitude worse.\r\n\r\n[JSON-RPC](https://www.jsonrpc.org/) expects integer ids.\r\n\r\nAn API client can bounds check an integer id, then call a vector element with it.\r\n\r\nWith a long format string, the client has to match against every possible expected value first in order to error check the value.\r\n\r\nThis is a lean, clean implementation that adds 2 lines to `net.{h,cpp}` versus 30.\r\n\r\nOverall, I think it's objectively multiple times better for both Bitcoin Core and for clients of the RPC.\r\n\r\nAlso, this unbundles #19725 which adds extraneous logging refactoring and a controversial deprecation into the same PR. Just unbundling it adds value before considering the order of magnitude technical improvement.\r\n",
      "created_at" : "2020-09-08T09:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688744746",
      "id" : 688744746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODc0NDc0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T09:49:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688744746",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The ids can be serialised via a separate method, but that doesn't seem needed here and would just be added complexity for no gain. The enum itself can separate the order and naming from the id values.",
      "created_at" : "2020-09-08T09:33:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688746631",
      "id" : 688746631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODc0NjYzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T09:33:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688746631",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> this PR isn't quite a replacement for #19725 because it doesn't include the deprecation of `getpeerinfo.addnode`, or the logging improvement in `net_processing`.\r\n\r\nYes, it's not intended to replace the logging refactoring or the deprecation. I'm -0.9 on both for the reasons I've stated in that PR.",
      "created_at" : "2020-09-08T09:48:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-688755114",
      "id" : 688755114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4ODc1NTExNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-08T09:48:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/688755114",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If a string was returned, changing the string name would be a breaking change, and string names are likely to be bike-shed or changed. OTOH there is no reason why the enum integer values would ever have to change\r\n\r\nThe addition to getpeerinfo and the logging change is for helping humans understand what's going on, not for interoperability (there's no standard and different behaviours within the existing specs are perfectly reasonably), nor for command and control (there's no way for other programs to act on the connection type info), so no, changing the string names isn't a breaking change. There are obvious reasons why enum values change: if an entry is removed, or if the entries are rearranged. Yes, you can hardcode the values to prevent that, but there's no reason to do so: this isn't a standard, it's an aid for debugging problems with your node.\r\n\r\n> This is a small, focused, simple, performant alternative\r\n\r\ngetpeerinfo isn't a performance critical call, outputting strings via it isn't performance critical (both since all the numbers are encoded as strings anyway -- it's json; and since we're already decoding services to an array of strings via servicenames), and even if none of that were true, you should be providing benchmarks if claiming a performance improvement.\r\n\r\n> JSON-RPC expects integer ids.\r\n\r\nI don't know where this is coming from, but it's not even literally true: [\"id - The request id. This can be of any type.\"](https://www.jsonrpc.org/specification_v1) and [\"id .. MUST contain a String, Number, or NULL value if included\"](https://www.jsonrpc.org/specification)",
      "created_at" : "2020-09-19T07:13:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-695176599",
      "id" : 695176599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NTE3NjU5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-19T07:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695176599",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is precedent for string values for enumerated types too already: the transaction types in `listtransactions` (\"receive\", \"send\", \"generate\", \"immature\", ...), and the branch types in `getchaintips` come to mind.",
      "created_at" : "2020-09-19T07:33:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19883#issuecomment-695178387",
      "id" : 695178387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19883",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NTE3ODM4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-19T07:33:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695178387",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
