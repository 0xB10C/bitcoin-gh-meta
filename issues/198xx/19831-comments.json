[
   {
      "author_association" : "NONE",
      "body" : "Concept ACK\r\n\r\nWould it make sense to be more explicit about what could go wrong (since it'll always be the case that the heuristic matches either `iswitness=False` or `iswitness=True`)?\r\n\r\nFor example:\r\n\r\n        # The heuristic produces an absurd result with a negative output value\r\n        heuristic = self.nodes[0].decoderawtransaction(hexstring=TX_HEURISTIC) \r\n        assert heuristic['vout'][0]['value'] < 0\r\n\r\n        # The heuristic produces the same absurd result as iswitness=False\r\n        non_witness = self.nodes[0].decoderawtransaction(hexstring=TX_HEURISTIC, iswitness=False)\r\n        assert_equal(heuristic['txid'], non_witness['txid'])\r\n\r\n        # Specifying iswitness=True produces a reasonable result\r\n        witness = self.nodes[0].decoderawtransaction(hexstring=TX_HEURISTIC, iswitness=True)\r\n        assert witness['vout'][0]['value'] > 0",
      "created_at" : "2020-09-01T07:17:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19831#issuecomment-684508131",
      "id" : 684508131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19831",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDUwODEzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T07:17:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684508131",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4276679?v=4",
         "events_url" : "https://api.github.com/users/robot-dreams/events{/privacy}",
         "followers_url" : "https://api.github.com/users/robot-dreams/followers",
         "following_url" : "https://api.github.com/users/robot-dreams/following{/other_user}",
         "gists_url" : "https://api.github.com/users/robot-dreams/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/robot-dreams",
         "id" : 4276679,
         "login" : "robot-dreams",
         "node_id" : "MDQ6VXNlcjQyNzY2Nzk=",
         "organizations_url" : "https://api.github.com/users/robot-dreams/orgs",
         "received_events_url" : "https://api.github.com/users/robot-dreams/received_events",
         "repos_url" : "https://api.github.com/users/robot-dreams/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/robot-dreams/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/robot-dreams/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/robot-dreams"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">     `assert heuristic['vout'][0]['value'] < 0`\r\n\r\nThe amount doesn't have to be negative. I've modified the tx, so that the amount is positive.",
      "created_at" : "2020-10-13T12:19:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19831#issuecomment-707700528",
      "id" : 707700528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19831",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzcwMDUyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T12:19:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707700528",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm a bit confused by this. Is this something that should be able to fail, or a bug that needs to be corrected in the heuristic?",
      "created_at" : "2020-11-23T15:31:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19831#issuecomment-732235048",
      "id" : 732235048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19831",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMjIzNTA0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-23T15:31:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/732235048",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20892 (tests: Run both descriptor and legacy tests within a single test invocation by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-01-09T12:51:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19831#issuecomment-757154253",
      "id" : 757154253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19831",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NzE1NDI1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-09T12:51:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/757154253",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
