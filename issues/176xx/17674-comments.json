[
   {
      "author_association" : "MEMBER",
      "body" : "Fails as expected for the two ASAN jobs in Travis:\r\n\r\n```\r\nmake[3]: *** [test/amount_tests.cpp.test] Error 1\r\nMakefile:14006: recipe for target 'test/amount_tests.cpp.test' failed\r\n=================================================================\r\n==25881==ERROR: AddressSanitizer: initialization-order-fiasco on address 0x55e6e8811540 at pc 0x55e6e3f3e333 bp 0x7fff60848af0 sp 0x7fff60848ae8\r\nREAD of size 8 at 0x55e6e8811540 thread T0\r\n    #0 0x55e6e3f3e332 in CSHA256::Finalize(unsigned char*) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/crypto/sha256.cpp:667:25\r\n    #1 0x55e6e3e63905 in SeedEvents(CSHA512&) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/random.cpp:462:19\r\n    #2 0x55e6e3e62dd3 in SeedSlow(CSHA512&) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/random.cpp:482:5\r\n    #3 0x55e6e3e634cf in SeedStartup(CSHA512&, (anonymous namespace)::RNGState&) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/random.cpp:527:5\r\n    #4 0x55e6e3e5fddc in ProcRand(unsigned char*, int, RNGLevel) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/random.cpp:571:9\r\n    #5 0x55e6e3e5fba1 in GetRandBytes(unsigned char*, int) /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/random.cpp:576:59\r\n    #6 0x55e6e2682563 in (anonymous namespace)::CSignatureCache::CSignatureCache() /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/script/sigcache.cpp:34:9\r\n    #7 0x55e6e2682563 in __cxx_global_var_init.11 /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/script/sigcache.cpp:67\r\n    #8 0x55e6e2682563 in _GLOBAL__sub_I_sigcache.cpp /home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/script/sigcache.cpp\r\n    #9 0x55e6e44a2e1c in __libc_csu_init (/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/test/test_bitcoin+0x4911e1c)\r\n    #10 0x7fe2b094eb27 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21b27)\r\n    #11 0x55e6e2698bd9 in _start (/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/test/test_bitcoin+0x2b07bd9)\r\n0x55e6e8811540 is located 96 bytes inside of global variable 'events_hasher' defined in 'random.cpp:456:16' (0x55e6e88114e0) of size 104\r\n  registered at:\r\n    #0 0x55e6e26aa5de in __asan_register_globals (/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/test/test_bitcoin+0x2b195de)\r\n    #1 0x55e6e3e652bb in asan.module_ctor (/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/src/test/test_bitcoin+0x42d42bb)\r\n```",
      "created_at" : "2019-12-05T11:24:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17674#issuecomment-562088862",
      "id" : 562088862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17674",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjA4ODg2Mg==",
      "updated_at" : "2019-12-05T11:24:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562088862",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK!\r\n\r\nDoes this pass with  #17670 or are there other initialization order fiasco in the code?",
      "created_at" : "2019-12-05T11:29:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17674#issuecomment-562090408",
      "id" : 562090408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17674",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjA5MDQwOA==",
      "updated_at" : "2019-12-05T11:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562090408",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Travis passes with #17670, so this is the only fiasco in our code :)  ",
      "created_at" : "2019-12-05T11:31:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17674#issuecomment-562090833",
      "id" : 562090833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17674",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjA5MDgzMw==",
      "updated_at" : "2019-12-05T14:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562090833",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 1f9d5af4f197e7cc0469a0bb25dcbc51dfa537f4, got\r\n```\r\n==3770==ERROR: AddressSanitizer: initialization-order-fiasco on address 0x0001058f70a0 at pc 0x000105542404 bp 0x7ffeeb534ef0 sp 0x7ffeeb534ee8\r\nREAD of size 8 at 0x0001058f70a0 thread T0\r\n    #0 0x105542403 in CSHA256::Finalize(unsigned char*) sha256.cpp:667\r\n    #1 0x105433ca0 in SeedEvents(CSHA512&) random.cpp:462\r\n    #2 0x1054300f6 in ProcRand(unsigned char*, int, RNGLevel) random.cpp:482\r\n    #3 0x10542f99a in GetRandBytes(unsigned char*, int) random.cpp:576\r\n    #4 0x104bfcce5 in _GLOBAL__sub_I_sigcache.cpp sigcache.cpp:34\r\n```\r\n\r\nProbably rebase with #17670 to have CI green.",
      "created_at" : "2019-12-05T14:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17674#issuecomment-562152591",
      "id" : 562152591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17674",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjE1MjU5MQ==",
      "updated_at" : "2019-12-05T14:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562152591",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
