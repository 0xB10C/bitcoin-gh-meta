[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nThe quoted discussion mentions that a maximum 31 IP:s fit in a single DNS response packet over UDP. Would it make sense to go with a `nMaxIPs` of `31` instead of the `32`?",
      "created_at" : "2019-11-25T21:26:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17602#issuecomment-558347205",
      "id" : 558347205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17602",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODM0NzIwNQ==",
      "updated_at" : "2019-11-25T21:26:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558347205",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The quoted discussion mentions that a maximum 31 IP:s fit in a single DNS response packet over UDP. Would it make sense to go with a `nMaxIPs` of `31` instead of the `32`?\r\n\r\nI actually don't remember how I calculated that or if I even calculated it correctly... Someone should verify... :eyes: @EthanHeilman\r\n\r\n___Update___: Ah, so we have 512 bytes to spend, and the DNS response should look something like:\r\nHeader = 96 bits\r\nQuery = 32 bits (assuming \".\" as question)\r\nAnswer = ( 96 bits + 32 bits ) * numIPv4 + ( 96 bits + 128 bits ) * numIPv6\r\n\r\nNote that this assumes we use DNS packet compression in the Answer section, no Authority or Additional sections, and \".\" as the question (empty QNAME).\r\n\r\nSo in this case we can get 31 IPv4 addresses at the most, or 17 IPv6 addresses (with some room to spare).\r\n\r\nThis is just a rough calculation, we have yet to decide whether it is even a good reference point or not.\r\n\r\nReference: https://www2.cs.duke.edu/courses/fall16/compsci356/DNS/DNS-primer.pdf",
      "created_at" : "2019-11-26T17:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17602#issuecomment-558739567",
      "id" : 558739567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17602",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODczOTU2Nw==",
      "updated_at" : "2019-11-26T18:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558739567",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   }
]
