[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Fix #13217; this is an alternative to #13674\r\n> Fix #17495\r\n> \r\n> As a side effect, this PR makes `bitcoin-qt` shutdown routine more streamlined.\r\n> \r\n> Refs:\r\n> \r\n> * #10504\r\n> * #17145\r\n\r\nCould you update this with a description of what this PR does? Useful information to include: \r\n\r\n- details about how behavior changed, what behavior was before and after this change\r\n- a short description of the code changes, what was wrong with the old code, and how the commits relate to each other\r\n- how this compares to the alternative pr\r\n\r\nIt's great to link to other issues and pull requests in a PR description for extra details, but it shouldn't be necessary to open multiple other issues just to have a basic understanding of what a PR does and what motivated it",
      "created_at" : "2019-12-03T21:49:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561372419",
      "id" : 561372419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTM3MjQxOQ==",
      "updated_at" : "2019-12-03T21:49:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561372419",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16883](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16883.html) (WIP: Qt: add QML based mobile GUI by icota)\n* [#16432](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16432.html) (qt: Add privacy to the Overview page by hebasto)\n* [#16224](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16224.html) (gui: Bilingual GUI error messages by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-12-04T00:10:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561414905",
      "id" : 561414905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTQxNDkwNQ==",
      "updated_at" : "2019-12-04T00:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561414905",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Calling `waitfornewblock` in the GUI console returns immediately.  ",
      "created_at" : "2019-12-04T01:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561429073",
      "id" : 561429073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTQyOTA3Mw==",
      "updated_at" : "2019-12-04T01:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561429073",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Calling `waitfornewblock` in the GUI console returns immediately.\r\n\r\nI have observed such behavior on `regtest` only once, and cannot reproduce anymore.\r\n\r\nCould you provide steps to reproduce an issue reliably?",
      "created_at" : "2019-12-04T03:51:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561464902",
      "id" : 561464902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTQ2NDkwMg==",
      "updated_at" : "2019-12-04T04:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561464902",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky \r\n\r\nOP has been updated.",
      "created_at" : "2019-12-04T10:12:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561570312",
      "id" : 561570312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTU3MDMxMg==",
      "updated_at" : "2019-12-04T10:12:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561570312",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto actually it's unrelated to this change. Just noticed that `waitfornewblock` returns immediately in the GUI console because `IsRPCRunning` is false unless you start with `-server`.",
      "created_at" : "2019-12-04T14:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-561662724",
      "id" : 561662724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTY2MjcyNA==",
      "updated_at" : "2019-12-04T14:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561662724",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The folllowing still hangs:\r\n - `bitcoin-qt -regtest -server`\r\n - open gui console\r\n - run `waitfornewblock`\r\n - try to quit\r\n\r\nAre you able to reproduce?",
      "created_at" : "2019-12-15T21:23:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-565848190",
      "id" : 565848190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTg0ODE5MA==",
      "updated_at" : "2019-12-15T21:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565848190",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag \r\n\r\n> The folllowing still hangs:\r\n> \r\n>     * `bitcoin-qt -regtest -server`\r\n> \r\n>     * open gui console\r\n> \r\n>     * run `waitfornewblock`\r\n> \r\n>     * try to quit\r\n\r\nThis requires a forced interruption of the RPC thread. It seems a bit out of the scope of this PR, as it solves the blocking of the GUI thread only.\r\n\r\nIn your example `bitcoin-qt` literally \"waits for new block\", which is unreachable in `regtest` after quit is initiated  ;)\r\nBut this PR works on `mainnet` and `testnet`: `bitcoin-qt` quits just after a new block arrives.\r\n\r\nMaybe, to mention in OP that #17495 is fixed, is wrong, no?",
      "created_at" : "2019-12-16T08:06:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17659#issuecomment-565950262",
      "id" : 565950262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17659",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTk1MDI2Mg==",
      "updated_at" : "2019-12-16T08:07:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565950262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
