[
   {
      "body" : "I've never seen the first error message (that on screenshot 1), it that really a OS dialog? Looks a little weird.\r\nIs your PC uo to date in terms of Windows updates? You have XP SP3 and all recent security and Visual C++ Runtime updates installed?",
      "created_at" : "2013-01-10T12:50:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12094088",
      "id" : 12094088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-10T12:50:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12094088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Dialog is produced by dwwin.exe (DrWatson) crash reporter, file scanned just to make sure it is clean:\r\n\r\nhttps://www.virustotal.com/file/92e5974dfd91acebf5d8bd5f14361c0afd7528ef6503d1d8a8c26e64c115a0cb/analysis/1357828251/\r\n\r\nAll OS patches found here already applied:\r\n\r\nhttp://www.microsoft.com/en-us/download/windows-xp.aspx?q=windows%20xp&fs=applicableproducts~%255eWindows%3bapplicableproducts~%255e%2522Windows%252fWindows%2520XP%2522%3bproducttype~%2522Security%2520Patch%2522&p=1&r=10&t=463&s=availabledate~Descending\r\n\r\n---\r\n\r\nTest run number 2:\r\n\r\nThe same behaviour as 1st run, this time without Visual C++ runtime error. Bitcoin-qt started and shutdown by me like\r\n10 times after running from few up to 15 minutes = OSS GUI Client error seems to appear on random. Over time,\r\ndebug.log file becomes ruined. Linked bellow is last one, created on upgrade start and not touched until test finished:\r\n\r\nhttp://www.sendspace.com/file/4rzxwp\r\n\r\nReindexing slowdowns at exactly the same blockchain heights as previously. Test aborted at around 5k blocks to\r\ngo. I will run one more test, this time not touching bitcoin-qt at all, to see if it can finish reindexing without user interference and hopefully get uncorrupted debug.log file.",
      "created_at" : "2013-01-10T14:52:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12099821",
      "id" : 12099821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-10T21:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12099821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   },
   {
      "body" : "How much RAM has your machine?",
      "created_at" : "2013-01-10T15:41:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12102733",
      "id" : 12102733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-10T15:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12102733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "You didn't finish the test plan-- I only see the new version of bitcoin running in your debug.log files, the last step in the test plan is to make sure downgrading works properly.\r\n\r\nThe idea behind forking the test plan and then actually editing it as you test is to treat it as a checklist, so testers don't accidentally forget to test something that needs testing.\r\n\r\nAlso: did all of the crashes happen at shutdown?\r\n",
      "created_at" : "2013-01-10T17:21:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12107941",
      "id" : 12107941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-10T17:21:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12107941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Test run number 3:\r\n\r\nUpgrade\r\n    Note how much disk space is being used by the bitcoin data directory. = 5,9 GB\r\n    Run the new bitcoind/Bitcoin-Qt binary. = Done\r\nEXPECT (all tests except for FAT32 filesystem):\r\n    blktree/ subdirectory created in bitcoin data directory = Yes\r\n    small (less than 1GB) increase in disk space usage = No, datadir size almost doubled (check first post)\r\n    startup takes longer than ususual (blocks are re-indexed) = Yes\r\n    but startup does not take hours (blocks are not re-downloaded) = Completed after 4 hours 25 min\r\n\r\nLog file:\r\n\r\nhttp://www.sendspace.com/file/x6aaw6\r\n\r\nDowngrade\r\n    Shut down the new bitcoind/Bitcoin-Qt, wait for it to completely exit = Done\r\n    Run the old version of bitcoind/Bitcoin-Qt = Done\r\nEXPECT:\r\n    Quick startup = Same speed as before this test\r\n    Old version is synchronized to blockchain from where it last exited = Yes\r\n\r\nLog file:\r\n\r\nhttp://www.sendspace.com/file/le4g9i\r\n\r\n---\r\n\r\nOlder version of bitcoin-qt ruined debug.log file created by newer version, hence two files uploaded, one for each\r\nphase. In this test run, I let newer bitcoin-qt version complete reindexing without interfering with it in any way. Once\r\nreindexing of older blocks and syncing with newer ones was completed, shutdown of newer bitcoin-qt resulted in no\r\nerror message.\r\n\r\n@ Diapolo - Machine has 2 GB RAM, more specs in my first post here\r\n@ Gavin - OSS GUI Client crashes happen randomly on user-initiated shutdown before reindexing is completed. Visual C++ crash happened just once in all 3 runs, while bitcoin-qt was reindexing.",
      "created_at" : "2013-01-10T21:17:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12119149",
      "id" : 12119149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-10T21:41:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12119149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   },
   {
      "body" : "Perhaps we have a problem when aborting -reindex then? I'll try a -reindex later...\r\n\r\n@gavinandresen I also got a MSVC++ Runtime error message, while the -reindex was running. That was with an own build... restarting the client without -reindex just leads to the same crash. Will need to start an IBD I guess.",
      "created_at" : "2013-01-11T18:46:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12157777",
      "id" : 12157777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-11T19:34:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12157777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Regarding datadir size, new version of client creates /blocks subdirectory, copies existing blockchain and index files\r\nthere - or it just creates dummy files of same size, can't tell - and never deletes them, hence size of datadir almost\r\ndoubling after full reindex.",
      "created_at" : "2013-01-14T18:33:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2164#issuecomment-12232545",
      "id" : 12232545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2164",
      "updated_at" : "2013-01-14T18:35:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12232545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   }
]
