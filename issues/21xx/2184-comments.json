[
   {
      "body" : "Nice!\r\n\r\nIt's a huge pull request though; will take some time to look at it.\r\n\r\nBTW: seems there is a merge problem?\r\n",
      "created_at" : "2013-01-16T20:22:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-12338010",
      "id" : 12338010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-01-16T20:22:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12338010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2671912"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2671912"
         }
      },
      "body" : "Not needed anymore.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:37:43Z",
      "diff_hunk" : "@@ -793,88 +867,13 @@ bool AppInit2()\n         return false;\n     }\n \n-    // ********************************************************* Step 8: load wallet\n+    // ********************************************************* Step 8: load wallets\n+    \n+    uiInterface.InitMessage(_(\"Loading wallets...\"));\n+    printf(\"Loading wallets...\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2671912",
      "id" : 2671912,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 125,
      "path" : "src/init.cpp",
      "position" : 118,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2671912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2671933"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2671933"
         }
      },
      "body" : "This seems unrelated to Qt wallets?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:39:16Z",
      "diff_hunk" : "@@ -1931,7 +1931,14 @@ void StartNode(void* parg)\n         printf(\"Error; NewThread(ThreadDumpAddress) failed\\n\");\n \n     // Generate coins in the background\n-    GenerateBitcoins(GetBoolArg(\"-gen\", false), pwalletMain);\n+    try",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2671933",
      "id" : 2671933,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2671933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672145"
         }
      },
      "body" : "name.isEmpty() would be more Qt style :).",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:50:53Z",
      "diff_hunk" : "@@ -228,10 +228,18 @@ int main(int argc, char *argv[])\n                     splash.finish(&window);\n \n                 ClientModel clientModel(&optionsModel);\n-                WalletModel walletModel(pwalletMain, &optionsModel);\n-\n                 window.setClientModel(&clientModel);\n-                window.setWalletModel(&walletModel);\n+                window.setWalletManager(pWalletManager);\n+                \n+                // Create wallet models for each wallet and add it.\n+                BOOST_FOREACH(const wallet_map::value_type& item, pWalletManager->GetWalletMap())\n+                {\n+                    QString name(item.first.c_str());\n+                    if (name == \"\") name = \"~Default\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672145",
      "id" : 2672145,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 14,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 14,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672156"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672156"
         }
      },
      "body" : "Orphan tabs / spaces.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:51:24Z",
      "diff_hunk" : "@@ -250,7 +258,7 @@ int main(int argc, char *argv[])\n \n                 window.hide();\n                 window.setClientModel(0);\n-                window.setWalletModel(0);\n+                                ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672156",
      "id" : 2672156,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 27,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 27,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672228"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672228"
         }
      },
      "body" : "Is this related to Qt wallets?\r\n@gavinandresen Should take a look at this changes. I thought we still are after 10.5 compatibility.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:54:23Z",
      "diff_hunk" : "@@ -22,10 +22,10 @@ UI_DIR = build\n \n # use: qmake \"RELEASE=1\"\n contains(RELEASE, 1) {\n-    # Mac: compile for maximum compatibility (10.5, 32-bit)\n-    macx:QMAKE_CXXFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n-    macx:QMAKE_CFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n-    macx:QMAKE_OBJECTIVE_CFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n+    # Mac: compile for compatibility and performance (10.6, 64-bit)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672228",
      "id" : 2672228,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 8,
      "path" : "bitcoin-qt.pro",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672228",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672249"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672249"
         }
      },
      "body" : "Why do you think it's better to pass unit instead of that query here?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:55:29Z",
      "diff_hunk" : "@@ -697,100 +746,55 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n     *payFee = (retval == QMessageBox::Yes);\n }\n \n-void BitcoinGUI::incomingTransaction(const QModelIndex& parent, int start, int /*end*/)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-    // Prevent balloon-spam when initial block download is in progress\n-    if(!walletModel || !clientModel || clientModel->inInitialBlockDownload())\n-        return;\n-\n-    TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n-\n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n-\n-    // On new transaction, make an info balloon\n+   // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\"\n                 \"Type: %3\\n\"\n                 \"Address: %4\\n\")\n                   .arg(date)\n-                  .arg(BitcoinUnits::formatWithUnit(walletModel->getOptionsModel()->getDisplayUnit(), amount, true))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672249",
      "id" : 2672249,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 325,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 336,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672272"
         }
      },
      "body" : "QString::fromStdString(GetDataDir().string()) seems safer.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:56:41Z",
      "diff_hunk" : "@@ -697,100 +746,55 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n     *payFee = (retval == QMessageBox::Yes);\n }\n \n-void BitcoinGUI::incomingTransaction(const QModelIndex& parent, int start, int /*end*/)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-    // Prevent balloon-spam when initial block download is in progress\n-    if(!walletModel || !clientModel || clientModel->inInitialBlockDownload())\n-        return;\n-\n-    TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n-\n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n-\n-    // On new transaction, make an info balloon\n+   // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\"\n                 \"Type: %3\\n\"\n                 \"Address: %4\\n\")\n                   .arg(date)\n-                  .arg(BitcoinUnits::formatWithUnit(walletModel->getOptionsModel()->getDisplayUnit(), amount, true))\n+                  .arg(BitcoinUnits::formatWithUnit(unit, amount, true))\n                   .arg(type)\n                   .arg(address), CClientUIInterface::MSG_INFORMATION);\n }\n \n-void BitcoinGUI::gotoOverviewPage()\n+void BitcoinGUI::loadWallet()\n {\n-    overviewAction->setChecked(true);\n-    centralWidget->setCurrentWidget(overviewPage);\n+    if (!clientModel || !walletManager) return;\n \n-    exportAction->setEnabled(false);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-}\n+    QString dataDir = GetDataDir().string().c_str();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672272",
      "id" : 2672272,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 341,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672291"
         }
      },
      "body" : "You should use the .message() function for this IMHO.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T20:57:42Z",
      "diff_hunk" : "@@ -697,100 +746,55 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n     *payFee = (retval == QMessageBox::Yes);\n }\n \n-void BitcoinGUI::incomingTransaction(const QModelIndex& parent, int start, int /*end*/)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-    // Prevent balloon-spam when initial block download is in progress\n-    if(!walletModel || !clientModel || clientModel->inInitialBlockDownload())\n-        return;\n-\n-    TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n-\n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n-\n-    // On new transaction, make an info balloon\n+   // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\"\n                 \"Type: %3\\n\"\n                 \"Address: %4\\n\")\n                   .arg(date)\n-                  .arg(BitcoinUnits::formatWithUnit(walletModel->getOptionsModel()->getDisplayUnit(), amount, true))\n+                  .arg(BitcoinUnits::formatWithUnit(unit, amount, true))\n                   .arg(type)\n                   .arg(address), CClientUIInterface::MSG_INFORMATION);\n }\n \n-void BitcoinGUI::gotoOverviewPage()\n+void BitcoinGUI::loadWallet()\n {\n-    overviewAction->setChecked(true);\n-    centralWidget->setCurrentWidget(overviewPage);\n+    if (!clientModel || !walletManager) return;\n \n-    exportAction->setEnabled(false);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-}\n+    QString dataDir = GetDataDir().string().c_str();\n+    QString walletFile = QFileDialog::getOpenFileName(this,\n+        tr(\"Load Wallet\"), dataDir, tr(\"Wallet Files (*.dat)\"));\n \n-void BitcoinGUI::gotoHistoryPage()\n-{\n-    historyAction->setChecked(true);\n-    centralWidget->setCurrentWidget(transactionsPage);\n-\n-    exportAction->setEnabled(true);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-    connect(exportAction, SIGNAL(triggered()), transactionView, SLOT(exportClicked()));\n-}\n+    if (walletFile == \"\") return;\n \n-void BitcoinGUI::gotoAddressBookPage()\n-{\n-    addressBookAction->setChecked(true);\n-    centralWidget->setCurrentWidget(addressBookPage);\n-\n-    exportAction->setEnabled(true);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-    connect(exportAction, SIGNAL(triggered()), addressBookPage, SLOT(exportClicked()));\n-}\n-\n-void BitcoinGUI::gotoReceiveCoinsPage()\n-{\n-    receiveCoinsAction->setChecked(true);\n-    centralWidget->setCurrentWidget(receiveCoinsPage);\n-\n-    exportAction->setEnabled(true);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-    connect(exportAction, SIGNAL(triggered()), receiveCoinsPage, SLOT(exportClicked()));\n-}\n-\n-void BitcoinGUI::gotoSendCoinsPage()\n-{\n-    sendCoinsAction->setChecked(true);\n-    centralWidget->setCurrentWidget(sendCoinsPage);\n-\n-    exportAction->setEnabled(false);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n+    std::ostringstream err;\n+    std::string walletName;\n+    if (!walletManager->LoadWalletFromFile(walletFile.toStdString(), walletName, err))\n+    {\n+        QMessageBox errBox;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672291",
      "id" : 2672291,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 387,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 398,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672639"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672639"
         }
      },
      "body" : "Just my opinion perhaps, but when reading through, I find these returns hard to catch and would prefer a newline with indentation.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:14:45Z",
      "diff_hunk" : "@@ -374,40 +397,31 @@ void BitcoinGUI::setClientModel(ClientModel *clientModel)\n \n         // Receive and report messages from network/worker thread\n         connect(clientModel, SIGNAL(message(QString,QString,unsigned int)), this, SLOT(message(QString,QString,unsigned int)));\n-\n-        overviewPage->setClientModel(clientModel);\n-        rpcConsole->setClientModel(clientModel);\n-        addressBookPage->setOptionsModel(clientModel->getOptionsModel());\n-        receiveCoinsPage->setOptionsModel(clientModel->getOptionsModel());\n+        \n+        walletStack->setClientModel(clientModel);\n     }\n }\n \n void BitcoinGUI::setWalletModel(WalletModel *walletModel)\n {\n-    this->walletModel = walletModel;\n-    if(walletModel)\n-    {\n-        // Receive and report messages from wallet thread\n-        connect(walletModel, SIGNAL(message(QString,QString,unsigned int)), this, SLOT(message(QString,QString,unsigned int)));\n-\n-        // Put transaction list in tabs\n-        transactionView->setModel(walletModel);\n-        overviewPage->setWalletModel(walletModel);\n-        addressBookPage->setModel(walletModel->getAddressTableModel());\n-        receiveCoinsPage->setModel(walletModel->getAddressTableModel());\n-        sendCoinsPage->setModel(walletModel);\n-        signVerifyMessageDialog->setModel(walletModel);\n-\n-        setEncryptionStatus(walletModel->getEncryptionStatus());\n-        connect(walletModel, SIGNAL(encryptionStatusChanged(int)), this, SLOT(setEncryptionStatus(int)));\n-\n-        // Balloon pop-up for new transaction\n-        connect(walletModel->getTransactionTableModel(), SIGNAL(rowsInserted(QModelIndex,int,int)),\n-                this, SLOT(incomingTransaction(QModelIndex,int,int)));\n-\n-        // Ask for passphrase if needed\n-        connect(walletModel, SIGNAL(requireUnlock()), this, SLOT(unlockWallet()));\n-    }\n+    walletView->setWalletModel(walletModel);\n+    return;\n+}\n+\n+bool BitcoinGUI::addWallet(const QString& name, WalletModel *walletModel)\n+{\n+    if (!walletStack->addWalletView(name, walletModel)) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672639",
      "id" : 2672639,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 220,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672698"
         }
      },
      "body" : ".isEmpty()",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:18:01Z",
      "diff_hunk" : "@@ -697,100 +746,55 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n     *payFee = (retval == QMessageBox::Yes);\n }\n \n-void BitcoinGUI::incomingTransaction(const QModelIndex& parent, int start, int /*end*/)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-    // Prevent balloon-spam when initial block download is in progress\n-    if(!walletModel || !clientModel || clientModel->inInitialBlockDownload())\n-        return;\n-\n-    TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n-\n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n-\n-    // On new transaction, make an info balloon\n+   // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\"\n                 \"Type: %3\\n\"\n                 \"Address: %4\\n\")\n                   .arg(date)\n-                  .arg(BitcoinUnits::formatWithUnit(walletModel->getOptionsModel()->getDisplayUnit(), amount, true))\n+                  .arg(BitcoinUnits::formatWithUnit(unit, amount, true))\n                   .arg(type)\n                   .arg(address), CClientUIInterface::MSG_INFORMATION);\n }\n \n-void BitcoinGUI::gotoOverviewPage()\n+void BitcoinGUI::loadWallet()\n {\n-    overviewAction->setChecked(true);\n-    centralWidget->setCurrentWidget(overviewPage);\n+    if (!clientModel || !walletManager) return;\n \n-    exportAction->setEnabled(false);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-}\n+    QString dataDir = GetDataDir().string().c_str();\n+    QString walletFile = QFileDialog::getOpenFileName(this,\n+        tr(\"Load Wallet\"), dataDir, tr(\"Wallet Files (*.dat)\"));\n \n-void BitcoinGUI::gotoHistoryPage()\n-{\n-    historyAction->setChecked(true);\n-    centralWidget->setCurrentWidget(transactionsPage);\n-\n-    exportAction->setEnabled(true);\n-    disconnect(exportAction, SIGNAL(triggered()), 0, 0);\n-    connect(exportAction, SIGNAL(triggered()), transactionView, SLOT(exportClicked()));\n-}\n+    if (walletFile == \"\") return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672698",
      "id" : 2672698,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 354,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672721"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672721"
         }
      },
      "body" : "Unrelated change.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:19:23Z",
      "diff_hunk" : "@@ -77,12 +77,10 @@ bool CCryptoKeyStore::Lock()\n {\n     if (!SetCrypted())\n         return false;\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672721",
      "id" : 2672721,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 4,
      "path" : "src/keystore.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672811"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672811"
         }
      },
      "body" : "What if gui is undefined?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:23:27Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672811",
      "id" : 2672811,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 46,
      "path" : "src/qt/walletstack.h",
      "position" : 46,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672815"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672815"
         }
      },
      "body" : "Same question as above.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:23:39Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }\n+    \n+    void setClientModel(ClientModel *clientModel) { this->clientModel = clientModel; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672815",
      "id" : 2672815,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 48,
      "path" : "src/qt/walletstack.h",
      "position" : 48,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672866"
         }
      },
      "body" : "No problem right? It would just set the gui field to 0. What else would you expect to do here?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:26:10Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672866",
      "id" : 2672866,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 46,
      "path" : "src/qt/walletstack.h",
      "position" : 46,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672909"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672909"
         }
      },
      "body" : "No problem either. In the implementation methods it's checking for clientModel to be 0 before using it, as it should. Am I missing something?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:28:35Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }\n+    \n+    void setClientModel(ClientModel *clientModel) { this->clientModel = clientModel; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2672909",
      "id" : 2672909,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 48,
      "path" : "src/qt/walletstack.h",
      "position" : 48,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2672909",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673094"
         }
      },
      "body" : "No, I did :). No problem then! It was just a (too) quick review.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:40:29Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }\n+    \n+    void setClientModel(ClientModel *clientModel) { this->clientModel = clientModel; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673094",
      "id" : 2673094,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 48,
      "path" : "src/qt/walletstack.h",
      "position" : 48,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673104"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673104"
         }
      },
      "body" : "You are correct.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:41:13Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+/*\n+ * Qt4 bitcoin GUI.\n+ *\n+ * W.J. van der Laan 2011-2012\n+ * The Bitcoin Developers 2011-2013\n+ */\n+#ifndef WALLETSTACK_H\n+#define WALLETSTACK_H\n+\n+#include <QStackedWidget>\n+#include <QMap>\n+#include <boost/shared_ptr.hpp>\n+\n+class BitcoinGUI;\n+class TransactionTableModel;\n+class ClientModel;\n+class WalletModel;\n+class WalletView;\n+class TransactionView;\n+class OverviewPage;\n+class AddressBookPage;\n+class SendCoinsDialog;\n+class SignVerifyMessageDialog;\n+class Notificator;\n+class RPCConsole;\n+\n+class CWalletManager;\n+\n+QT_BEGIN_NAMESPACE\n+class QLabel;\n+class QModelIndex;\n+QT_END_NAMESPACE\n+\n+/*\n+ WalletWidget class. This class represents the wallet view of the app. It takes the place of centralWidget.\n+ It was added to support multiple wallet functionality. It communicates with both the client and the\n+ wallet models to give the user an up-to-date view of the current core state.\n+ */\n+class WalletStack : public QStackedWidget\n+{\n+    Q_OBJECT\n+public:\n+    explicit WalletStack(QWidget *parent = 0);\n+    ~WalletStack();\n+\n+    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673104",
      "id" : 2673104,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 46,
      "path" : "src/qt/walletstack.h",
      "position" : 46,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673104",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673168"
         }
      },
      "body" : "What is your vision for these?",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-16T21:44:52Z",
      "diff_hunk" : "@@ -1804,3 +1831,362 @@ void CWallet::ListLockedCoins(std::vector<COutPoint>& vOutpts)\n     }\n }\n \n+// TODO: Remove these functions",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2673168",
      "id" : 2673168,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 47,
      "path" : "src/wallet.cpp",
      "position" : 39,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2673168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676871"
         }
      },
      "body" : "Sorry, this was a holdover from one of the last commits of the bitcoind multiwallet and it was too much of a pain to do a clean rebase and fix it all.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-17T05:21:54Z",
      "diff_hunk" : "@@ -1931,7 +1931,14 @@ void StartNode(void* parg)\n         printf(\"Error; NewThread(ThreadDumpAddress) failed\\n\");\n \n     // Generate coins in the background\n-    GenerateBitcoins(GetBoolArg(\"-gen\", false), pwalletMain);\n+    try",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676871",
      "id" : 2676871,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676873"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676873"
         }
      },
      "body" : "Yeah, it's interesting having to code in two completely different styles - having two entirely separate classes of containers. But at least it's easy to convert between them. :)",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-17T05:23:35Z",
      "diff_hunk" : "@@ -228,10 +228,18 @@ int main(int argc, char *argv[])\n                     splash.finish(&window);\n \n                 ClientModel clientModel(&optionsModel);\n-                WalletModel walletModel(pwalletMain, &optionsModel);\n-\n                 window.setClientModel(&clientModel);\n-                window.setWalletModel(&walletModel);\n+                window.setWalletManager(pWalletManager);\n+                \n+                // Create wallet models for each wallet and add it.\n+                BOOST_FOREACH(const wallet_map::value_type& item, pWalletManager->GetWalletMap())\n+                {\n+                    QString name(item.first.c_str());\n+                    if (name == \"\") name = \"~Default\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676873",
      "id" : 2676873,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 14,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 14,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676873",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676876"
         }
      },
      "body" : "this is so that the gui controller can make comparisons and perform arithmetic without having to worry about formatting - for instance, determining whether it is positive or negative. However, if the only comparison it needs to make is whether it's positive or negative, an alternative is to use an extra parameter to specify the sign.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-17T05:24:55Z",
      "diff_hunk" : "@@ -697,100 +746,55 @@ void BitcoinGUI::askFee(qint64 nFeeRequired, bool *payFee)\n     *payFee = (retval == QMessageBox::Yes);\n }\n \n-void BitcoinGUI::incomingTransaction(const QModelIndex& parent, int start, int /*end*/)\n+void BitcoinGUI::incomingTransaction(const QString& date, int unit, qint64 amount, const QString& type, const QString& address)\n {\n-    // Prevent balloon-spam when initial block download is in progress\n-    if(!walletModel || !clientModel || clientModel->inInitialBlockDownload())\n-        return;\n-\n-    TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n-\n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n-\n-    // On new transaction, make an info balloon\n+   // On new transaction, make an info balloon\n     message((amount)<0 ? tr(\"Sent transaction\") : tr(\"Incoming transaction\"),\n              tr(\"Date: %1\\n\"\n                 \"Amount: %2\\n\"\n                 \"Type: %3\\n\"\n                 \"Address: %4\\n\")\n                   .arg(date)\n-                  .arg(BitcoinUnits::formatWithUnit(walletModel->getOptionsModel()->getDisplayUnit(), amount, true))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676876",
      "id" : 2676876,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 325,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 336,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676968"
         }
      },
      "body" : "Well, this section definitely needs to be cleaned up a LOT. But ultimately I envision a registration API, where the wallet can operate entirely as a service without having to know a thing about the UI. Apps that make use of it will query it for status (balance, history, contact info, accounts, etc...), ask the wallet manager to create new wallets or load existing wallets from different locations or save them to different locations, ask it to send transactions on its behalf, and subscribe callback handlers to be alerted when things happen.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-17T05:41:53Z",
      "diff_hunk" : "@@ -1804,3 +1831,362 @@ void CWallet::ListLockedCoins(std::vector<COutPoint>& vOutpts)\n     }\n }\n \n+// TODO: Remove these functions",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2676968",
      "id" : 2676968,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 47,
      "path" : "src/wallet.cpp",
      "position" : 39,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2676968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "The merge is actually not that horrible...",
      "created_at" : "2013-01-17T05:48:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-12355424",
      "id" : 12355424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-01-17T07:39:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12355424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2704968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2704968"
         }
      },
      "body" : "Once I finish merging the original multiwallet with bitcoin/bitcoin master, I'll merge this all in as well cleanly.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-19T06:47:29Z",
      "diff_hunk" : "@@ -1931,7 +1931,14 @@ void StartNode(void* parg)\n         printf(\"Error; NewThread(ThreadDumpAddress) failed\\n\");\n \n     // Generate coins in the background\n-    GenerateBitcoins(GetBoolArg(\"-gen\", false), pwalletMain);\n+    try",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2704968",
      "id" : 2704968,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2704968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2704969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2704969"
         }
      },
      "body" : "I added this because of build issues I was having on Mountain Lion.",
      "commit_id" : "18ad19fbde0688645f52e26ae545da2849d7c9b4",
      "created_at" : "2013-01-19T06:48:42Z",
      "diff_hunk" : "@@ -22,10 +22,10 @@ UI_DIR = build\n \n # use: qmake \"RELEASE=1\"\n contains(RELEASE, 1) {\n-    # Mac: compile for maximum compatibility (10.5, 32-bit)\n-    macx:QMAKE_CXXFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n-    macx:QMAKE_CFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n-    macx:QMAKE_OBJECTIVE_CFLAGS += -mmacosx-version-min=10.5 -arch i386 -isysroot /Developer/SDKs/MacOSX10.5.sdk\n+    # Mac: compile for compatibility and performance (10.6, 64-bit)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#discussion_r2704969",
      "id" : 2704969,
      "original_commit_id" : "3393032282cafe54418c2f91be6cf70ec950ba12",
      "original_position" : 8,
      "path" : "bitcoin-qt.pro",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2184",
      "updated_at" : "2013-09-16T21:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2704969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/227637f431b1994d0d87b66993129fd4a1e0a0e1 for binaries and test log.",
      "created_at" : "2013-01-24T02:59:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-12634817",
      "id" : 12634817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-01-24T02:59:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12634817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/18ad19fbde0688645f52e26ae545da2849d7c9b4 for test log.\n\nThis pull does not merge cleanly onto current master\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-09-16T21:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-24548230",
      "id" : 24548230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-09-16T21:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24548230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Needs a rebase to keep up with autotools.",
      "created_at" : "2013-09-17T06:06:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-24565969",
      "id" : 24565969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-09-17T06:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24565969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Actually, I accidentally pushed this - I am no longer supporting this branch and will close the pull request.",
      "created_at" : "2013-09-17T08:35:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2184#issuecomment-24571959",
      "id" : 24571959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2184",
      "updated_at" : "2013-09-17T08:35:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24571959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   }
]
