[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6103#discussion_r29596655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29596655"
         }
      },
      "body" : "This entire file needs to be retabbed.",
      "commit_id" : "77ecbe3e0187e52a00255349328d6457508eb8d0",
      "created_at" : "2015-05-04T16:01:02Z",
      "diff_hunk" : "@@ -0,0 +1,175 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2014 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"zmqports.h\"\n+\n+#if ENABLE_ZMQ\n+#include <zmq.h>\n+#endif\n+\n+#include \"primitives/block.h\"\n+#include \"primitives/transaction.h\"\n+#include \"version.h\"\n+#include \"streams.h\"\n+#include \"util.h\"\n+#include \"netbase.h\"\n+#include \"ui_interface.h\"\n+#include \"json/json_spirit_value.h\"\n+\n+using namespace json_spirit;\n+using namespace std;\n+\n+// Global state\n+bool fZMQPub = false;\n+\n+#if ENABLE_ZMQ\n+\n+// ZMQ related file scope variables\n+static void *zmqContext;\n+static void *zmqPubSocket;\n+\n+// Internal utility functions\n+static void ZMQPublishBlock(const CBlock &blk);\n+static void ZMQPublishTransaction(const CTransaction &tx);\n+\n+static void zmqError(const char *str)\n+{\n+  LogPrint(\"ZMQ error: %s, errno=%s\\n\", str, zmq_strerror(errno));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6103#discussion_r29596655",
      "id" : 29596655,
      "original_commit_id" : "77ecbe3e0187e52a00255349328d6457508eb8d0",
      "original_position" : 39,
      "path" : "src/zmqports.cpp",
      "position" : 39,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6103",
      "updated_at" : "2015-05-04T16:01:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29596655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Are you planning on supplying an RPC/regression test for this?",
      "created_at" : "2015-05-04T16:07:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6103#issuecomment-98767292",
      "id" : 98767292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6103",
      "updated_at" : "2015-05-04T16:07:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/98767292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "That work was in previous PR. I can't see a use case where this is useful. Maybe @jmcorgan have something to say about that, otherwise I would remove this RPC call.",
      "created_at" : "2015-05-04T16:10:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6103#issuecomment-98768493",
      "id" : 98768493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6103",
      "updated_at" : "2015-05-04T16:18:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/98768493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6103#discussion_r29597688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29597688"
         }
      },
      "body" : "As mentioned in one of the previous PRs, block acceptance is really not interesting or useful. It does not mean the block is part of the best chain, or even that it is valid. Use the NotifyBlockTip signal place, which indicates a new tip of the best chain was accepted.",
      "commit_id" : "77ecbe3e0187e52a00255349328d6457508eb8d0",
      "created_at" : "2015-05-04T16:13:07Z",
      "diff_hunk" : "@@ -95,6 +97,12 @@ class CClientUIInterface\n \n     /** New block has been accepted */\n     boost::signals2::signal<void (const uint256& hash)> NotifyBlockTip;\n+\n+    /** New block has been accepted */\n+    boost::signals2::signal<void (const CBlock& block)> NotifyAcceptBlock;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6103#discussion_r29597688",
      "id" : 29597688,
      "original_commit_id" : "77ecbe3e0187e52a00255349328d6457508eb8d0",
      "original_position" : 15,
      "path" : "src/ui_interface.h",
      "position" : 15,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6103",
      "updated_at" : "2015-05-04T16:13:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/29597688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "As far as I know, no RPC tests for ZMQ support have yet been PR'd.\r\n\r\nI think there might be some confusion here.  When I say RPC tests, I mean the Python regression tests that live qa/rpc-tests tree.  They're pretty much only called RPC tests because of history and the primary way they interface with bitcoind.  They exercise and verify many large bits of functionality and are always useful!  Case in point, when REST support was originally added, it had some pretty serious bugs that weren't caught because there was no RPC test.  See PR #5379 for an example of how RPC tests for the REST interface were implemented.\r\n\r\nI suppose RPC tests could be PR'd separately, but I bet this will go in faster and with more enthusiasm if tests are added.",
      "created_at" : "2015-05-04T16:22:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6103#issuecomment-98771316",
      "id" : 98771316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6103",
      "updated_at" : "2015-05-04T16:22:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/98771316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   }
]
