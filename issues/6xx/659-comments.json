[
   {
      "body" : "This sounds like a regression; if tor is used it should disable listening, and should not even know its own external IP address, let alone broadcast to others.\r\n\r\nCan you check whether the proxy is used at all?\r\n",
      "created_at" : "2011-11-23T20:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2854588",
      "id" : 2854588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-23T20:47:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2854588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I can see by netstat that the proxy is used. There are connections opened by bitcoin, from localhost:X to localhost:9050.",
      "created_at" : "2011-11-23T22:32:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2855876",
      "id" : 2855876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-23T22:32:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2855876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1171801?v=3",
         "events_url" : "https://api.github.com/users/EhVedadoOAnonimato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EhVedadoOAnonimato/followers",
         "following_url" : "https://api.github.com/users/EhVedadoOAnonimato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EhVedadoOAnonimato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EhVedadoOAnonimato",
         "id" : 1171801,
         "login" : "EhVedadoOAnonimato",
         "organizations_url" : "https://api.github.com/users/EhVedadoOAnonimato/orgs",
         "received_events_url" : "https://api.github.com/users/EhVedadoOAnonimato/received_events",
         "repos_url" : "https://api.github.com/users/EhVedadoOAnonimato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EhVedadoOAnonimato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EhVedadoOAnonimato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EhVedadoOAnonimato"
      }
   },
   {
      "body" : "It should not be assumed all SOCKS proxies are TOR, thus disable listening.\r\nFor example, I might want to setup a SSH tunnel between bitcoind and remote external server using both SOCKS proxy and port forwarding from server.",
      "created_at" : "2011-11-24T03:59:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2858070",
      "id" : 2858070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-24T03:59:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2858070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/663217?v=3",
         "events_url" : "https://api.github.com/users/iongchun/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iongchun/followers",
         "following_url" : "https://api.github.com/users/iongchun/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iongchun/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iongchun",
         "id" : 663217,
         "login" : "iongchun",
         "organizations_url" : "https://api.github.com/users/iongchun/orgs",
         "received_events_url" : "https://api.github.com/users/iongchun/received_events",
         "repos_url" : "https://api.github.com/users/iongchun/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iongchun/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iongchun/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iongchun"
      }
   },
   {
      "body" : "Well it makes no sense to listen on the local IP address if a proxy is used, tor or not -- you have delegated network access to that remote host. Someone using an anonymous non-TOR SOCKS proxy will still not want to leak his iP address, it is a serious leak.\r\n\r\nIn ancient times I've done something with SOCKS proxies, and I know SOCKS5 supports a \"bind\" call to be able to listen on a the proxy host. This is what ideally should be used in these kind of cases, but I also know 0% of the programs actually implementing a socks proxy support it.\r\n\r\nSo the second-best thing is to disable listening (by default -- one may enable it in specific cases) when a proxy is used. BTW if you set your TOR port to the default of 9050 it will automatically regard it as TOR. Did you change the port? that might explain the regression:\r\n\r\n    bool fTOR = (fUseProxy && addrProxy.port == htons(9050));\r\n\r\nIMO this should be an explicit option in the UI, and not some heuristic based on the port.\r\n\r\nAnyway, for now you can try if `--nolisten` command line option solves the problem.\r\n",
      "created_at" : "2011-11-24T06:19:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2858723",
      "id" : 2858723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-24T08:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2858723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I can't try the -nolisten switch right now, will do it as soon as I can.\r\n\r\nMy Tor is on 9050, as by default.\r\n\r\nAm I the only one having this problem?",
      "created_at" : "2011-11-24T08:22:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2859459",
      "id" : 2859459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-24T08:22:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2859459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1171801?v=3",
         "events_url" : "https://api.github.com/users/EhVedadoOAnonimato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EhVedadoOAnonimato/followers",
         "following_url" : "https://api.github.com/users/EhVedadoOAnonimato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EhVedadoOAnonimato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EhVedadoOAnonimato",
         "id" : 1171801,
         "login" : "EhVedadoOAnonimato",
         "organizations_url" : "https://api.github.com/users/EhVedadoOAnonimato/orgs",
         "received_events_url" : "https://api.github.com/users/EhVedadoOAnonimato/received_events",
         "repos_url" : "https://api.github.com/users/EhVedadoOAnonimato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EhVedadoOAnonimato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EhVedadoOAnonimato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EhVedadoOAnonimato"
      }
   },
   {
      "body" : "I also use TOR, but never notice the listening port, because my node is behind firewall, and never connected from outside ;)\r\nI just check the source, notice that in init.cpp, fUseProxy and addrProxy is checked before it is initialized, I guess this is the bug.",
      "created_at" : "2011-11-24T09:27:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2860471",
      "id" : 2860471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-24T09:27:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2860471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/663217?v=3",
         "events_url" : "https://api.github.com/users/iongchun/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iongchun/followers",
         "following_url" : "https://api.github.com/users/iongchun/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iongchun/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iongchun",
         "id" : 663217,
         "login" : "iongchun",
         "organizations_url" : "https://api.github.com/users/iongchun/orgs",
         "received_events_url" : "https://api.github.com/users/iongchun/received_events",
         "repos_url" : "https://api.github.com/users/iongchun/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iongchun/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iongchun/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iongchun"
      }
   },
   {
      "body" : "(oops, github was a bit trigger happy)\r\n\r\nYes this could be the problem, the value of fUseProxy is only \"final\" after LoadWallet and the command line option `-proxy` have been parsed (in that order).\r\n\r\n`fTOR` however is given a value *before* either the fUseProxy or the proxy port has been assigned. I am not sure how this can ever have worked. \r\n\r\nSee this pull request: https://github.com/bitcoin/bitcoin/pull/663\r\nOr here: https://github.com/laanwj/bitcoin/tree/torcheckfix\r\n\r\nCan you test this?\r\n",
      "created_at" : "2011-11-24T18:48:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2868180",
      "id" : 2868180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-24T18:48:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2868180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "You do notice fNoListen is used before assigned, right? ;)\r\nI would suggest move the \"-proxy\" parsing before fTOR and fNoListen initializtion.\r\n",
      "created_at" : "2011-11-25T03:41:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2871057",
      "id" : 2871057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-25T03:41:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2871057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/663217?v=3",
         "events_url" : "https://api.github.com/users/iongchun/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iongchun/followers",
         "following_url" : "https://api.github.com/users/iongchun/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iongchun/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iongchun",
         "id" : 663217,
         "login" : "iongchun",
         "organizations_url" : "https://api.github.com/users/iongchun/orgs",
         "received_events_url" : "https://api.github.com/users/iongchun/received_events",
         "repos_url" : "https://api.github.com/users/iongchun/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iongchun/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iongchun/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iongchun"
      }
   },
   {
      "body" : "Huh good catch :)\r\n\r\nBut that wouldn't work either -- fUseProxy is also set by LoadWallet, so it can only be parsed after that, as the command-line option should take precedence over what is set in the UI.\r\n\r\nAnything using fUseProxy must happen after LoadWallet.\r\n\r\nThis is more annoying than I thought... we need to be really sure to fix this without introducing a new regression\r\n",
      "created_at" : "2011-11-25T04:07:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2871153",
      "id" : 2871153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-25T04:10:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2871153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "BTW, despite this bug, I do not see why EhVedadoOAnonimato have connections on the listening port,\r\nsince proxy should still be used, and IRC server only see IP of the proxy.\r\nMaybe your Bitcoin node is also a TOR exit, EhVedadoOAnonimato? Or do you have UPnP enabled and in use?\r\n\r\nAnd I think fHaveUPnP should also not be set when fNoListen is false.\r\n\r\n",
      "created_at" : "2011-11-25T04:20:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2871210",
      "id" : 2871210,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-25T04:20:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2871210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/663217?v=3",
         "events_url" : "https://api.github.com/users/iongchun/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iongchun/followers",
         "following_url" : "https://api.github.com/users/iongchun/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iongchun/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iongchun",
         "id" : 663217,
         "login" : "iongchun",
         "organizations_url" : "https://api.github.com/users/iongchun/orgs",
         "received_events_url" : "https://api.github.com/users/iongchun/received_events",
         "repos_url" : "https://api.github.com/users/iongchun/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iongchun/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iongchun/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iongchun"
      }
   },
   {
      "body" : "Wow... storing settings in the wallet... I always wonder why my proxy setting is not in bitcoin.conf.",
      "created_at" : "2011-11-25T08:29:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2872328",
      "id" : 2872328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-25T08:29:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2872328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/663217?v=3",
         "events_url" : "https://api.github.com/users/iongchun/events{/privacy}",
         "followers_url" : "https://api.github.com/users/iongchun/followers",
         "following_url" : "https://api.github.com/users/iongchun/following{/other_user}",
         "gists_url" : "https://api.github.com/users/iongchun/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/iongchun",
         "id" : 663217,
         "login" : "iongchun",
         "organizations_url" : "https://api.github.com/users/iongchun/orgs",
         "received_events_url" : "https://api.github.com/users/iongchun/received_events",
         "repos_url" : "https://api.github.com/users/iongchun/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/iongchun/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/iongchun/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/iongchun"
      }
   },
   {
      "body" : "Yeah it's and it's one of the things complicating multi-wallet support\r\n\r\nAll the UI-configured settings are written into the wallet. The .conf is never written, only read.",
      "created_at" : "2011-11-25T09:05:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2872584",
      "id" : 2872584,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-27T15:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2872584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok, let's see what really happens in init.cpp, proxy-wallet related. Current order of events:\r\n\r\n1. `fTOR` set based on `fUseProxy` and `addrProxy.port` (precondition: fUseProxy and addrProxy have their final value !!not met!!, postcondition: fTor has its final value)\r\n2. `fNoListen` is set based on `GetBoolArg(\"-nolisten\")` and `fTOR` (precondition: fTor has its final value, postcondition: fNoListen has its final value)\r\n3. if `fNoListen` is not set, `BindListenPort` is called (precondition: fNoListen has its final value)\r\n4. `LoadWallet` loads wallet (postcondition: `fUseProxy` and `addrProxy` have an initial value)\r\n5. `fUseProxy` and `addrProxy` are parsed from `mapArgs[\"-proxy\"]` (postcondition: `fUseProxy` and `addrProxy` have their final value)\r\n6. Network thread is started (`StartNode`) (precondition: all network settings have their final value)\r\n\r\nSo we have to try to reorder this in a sensible order. Constraint: Binding to a port happens early because \"Bind to the port early so we can tell if another instance is already running.\".\r\n",
      "created_at" : "2011-11-27T15:44:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2888216",
      "id" : 2888216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-27T15:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Well from what I can see we have to drop the binding port early to see if another instance is running.  I dont think it is a big deal as we now have nice locks in .bitcoin, whereas (IIRC) those weren't there when the order of BindListenPort was written by satoshi, but maybe gavin can confirm that.",
      "created_at" : "2011-11-27T22:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2890578",
      "id" : 2890578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-27T22:10:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2890578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I agree,  we already stopped using port binding as a locking mechanism when\n-nolisten was introduced.",
      "created_at" : "2011-11-28T17:45:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-2903617",
      "id" : 2903617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-11-28T17:45:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2903617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'm sorry for not having reported back.\r\n\r\nI confirm that the -nolisten switch seems to fix the issue. At least when I add it, there are no incoming connections and bitcoin is not listening on 8333.\r\n\r\n@Iongshun, concerning the incoming connections, when I first installed bitcoin (there's a while), I manually configured my router to redirect connections on 8333 to my machine, so that explains how people could reach me. That doesn't explain how they knew there was a bitcoin running on my IP though. Or do bitcoin nodes store IPs of nodes they see once and keep trying to connect to it for a long time? Because than perhaps my Android phone is to blame: I have the BitcoinJ based app on it, and I run it behind the same router (so, the same IP), without Tor...",
      "created_at" : "2011-12-05T22:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-3024570",
      "id" : 3024570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-12-05T22:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3024570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1171801?v=3",
         "events_url" : "https://api.github.com/users/EhVedadoOAnonimato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EhVedadoOAnonimato/followers",
         "following_url" : "https://api.github.com/users/EhVedadoOAnonimato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EhVedadoOAnonimato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EhVedadoOAnonimato",
         "id" : 1171801,
         "login" : "EhVedadoOAnonimato",
         "organizations_url" : "https://api.github.com/users/EhVedadoOAnonimato/orgs",
         "received_events_url" : "https://api.github.com/users/EhVedadoOAnonimato/received_events",
         "repos_url" : "https://api.github.com/users/EhVedadoOAnonimato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EhVedadoOAnonimato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EhVedadoOAnonimato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EhVedadoOAnonimato"
      }
   },
   {
      "body" : "Yes all nodes keep a list of known-good ips to try and exchange those with each other.\n\nEhVedadoOAnonimato <reply@reply.github.com> wrote:\n\n>I'm sorry for not having reported back.\n>\n>I confirm that the -nolisten switch seems to fix the issue. At least\n>when I add it, there are no incoming connections and bitcoin is not\n>listening on 8333.\n>\n>@Iongshun, concerning the incoming connections, when I first installed\n>bitcoin (there's a while), I manually configured my router to redirect\n>connections on 8333 to my machine, so that explains how people could\n>reach me. That doesn't explain how they knew there was a bitcoin\n>running on my IP though. Or do bitcoin nodes store IPs of nodes they\n>see once and keep trying to connect to it for a long time? Because than\n>perhaps my Android phone is to blame: I have the BitcoinJ based app on\n>it, and I run it behind the same router (so, the same IP), without\n>Tor...\n>\n>--- \n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/issues/659#issuecomment-3024570",
      "created_at" : "2011-12-05T22:41:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/659#issuecomment-3024753",
      "id" : 3024753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/659",
      "updated_at" : "2011-12-05T22:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3024753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
