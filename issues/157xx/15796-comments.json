[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15778](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15778.html) ([wallet] Move maxtxfee from node to wallet by jnewbery)\n* [#15777](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15777.html) ([docs] Add doxygen comments for keypool classes by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-04-11T17:59:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15796#issuecomment-482227923",
      "id" : 482227923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MjIyNzkyMw==",
      "updated_at" : "2019-04-11T17:59:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/482227923",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "secp unit test failure, reported here in one build: https://github.com/bitcoin-core/secp256k1/issues/610\r\n\r\nrestarted.",
      "created_at" : "2019-04-12T21:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15796#issuecomment-482730720",
      "id" : 482730720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MjczMDcyMA==",
      "updated_at" : "2019-04-12T21:35:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/482730720",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the whole `CReserveKey` cycle needs to be rethought. It's too easy to accidentally not mark a key as used (eg https://github.com/bitcoin/bitcoin/pull/15557#discussion_r271956393). I'm not sure whether this change is an improvement. It removes the possibility of a key being re-used, but it does mean that if `CreateTranasction` fails after reserving a key (eg here https://github.com/bitcoin/bitcoin/blob/2a191b48463adc64dfb6187fccb7742c795dee60/src/wallet/wallet.cpp#L2835 or here https://github.com/bitcoin/bitcoin/blob/2a191b48463adc64dfb6187fccb7742c795dee60/src/wallet/wallet.cpp#L2894 or even here: https://github.com/bitcoin/bitcoin/blob/2a191b48463adc64dfb6187fccb7742c795dee60/src/wallet/rpcwallet.cpp#L340) then the keypool key will be burned instead of returned.\r\n\r\nI don't know whether that could cause problems for users or client applications. For example a client that tries to create a transaction, hits an error, retries in a loop and burns many keypool keys.",
      "created_at" : "2019-04-15T15:16:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15796#issuecomment-483294976",
      "id" : 483294976,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzI5NDk3Ng==",
      "updated_at" : "2019-04-15T15:16:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483294976",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Granted this is an extremely timid change, but you can make more keys. You cannot make more privacy when this fails.\r\n\r\nI'll let others chime in before I try to nibble at the edges and make sure these `return false` situations are handled explicitly.",
      "created_at" : "2019-04-15T15:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15796#issuecomment-483298385",
      "id" : 483298385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzI5ODM4NQ==",
      "updated_at" : "2019-04-15T15:24:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483298385",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Granted this is an extremely timid change, but you can make more keys. You cannot make more privacy when this fails.\r\n\r\nYep. To be clear, I'm not NACKing this. Just trying to figure out what the least bad option is.",
      "created_at" : "2019-04-15T15:30:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15796#issuecomment-483300780",
      "id" : 483300780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15796",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzMwMDc4MA==",
      "updated_at" : "2019-04-15T15:30:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483300780",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
