[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14856](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14856.html) (net: remove more CConnman globals (theuni) by dongcarl)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-04-01T19:19:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478710368",
      "id" : 478710368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODcxMDM2OA==",
      "updated_at" : "2019-04-01T19:19:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478710368",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MishraShivendra I would love to review this, would you be able to do the following:\r\n1. Remove the copyright notices (we're licensed MIT)\r\n2. Break the changes up into smaller, more digestible commits?",
      "created_at" : "2019-04-01T19:36:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478716148",
      "id" : 478716148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODcxNjE0OA==",
      "updated_at" : "2019-04-01T19:36:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478716148",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@dongcarl\r\nThanks.\r\nSure. Let me close this pull request and do three separate commits for those bullet points.",
      "created_at" : "2019-04-02T02:13:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478816157",
      "id" : 478816157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODgxNjE1Nw==",
      "updated_at" : "2019-04-02T02:14:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478816157",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8533116?v=4",
         "events_url" : "https://api.github.com/users/MishraShivendra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MishraShivendra/followers",
         "following_url" : "https://api.github.com/users/MishraShivendra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MishraShivendra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MishraShivendra",
         "id" : 8533116,
         "login" : "MishraShivendra",
         "node_id" : "MDQ6VXNlcjg1MzMxMTY=",
         "organizations_url" : "https://api.github.com/users/MishraShivendra/orgs",
         "received_events_url" : "https://api.github.com/users/MishraShivendra/received_events",
         "repos_url" : "https://api.github.com/users/MishraShivendra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MishraShivendra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MishraShivendra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MishraShivendra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No need to close the PR; you can overwrite it by force pushing.",
      "created_at" : "2019-04-02T02:20:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478817460",
      "id" : 478817460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODgxNzQ2MA==",
      "updated_at" : "2019-04-02T02:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478817460",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15717#discussion_r271172008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15717"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271172008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This looks a bit dangerous: should be `;` and not `,` right? :-)",
      "commit_id" : "0667cfc11b7c32e48f361d61031e1d53f121e119",
      "created_at" : "2019-04-02T07:51:29Z",
      "diff_hunk" : "@@ -0,0 +1,102 @@\n+#include \"natmap_wrapper.h\"\n+\n+NatMap::NatMap(in_addr_t* alternateGWAddr)\n+{\n+\tin_addr_t gateway = {0};\n+\tif(alternateGWAddr) {\n+\t\tmemcpy(&gateway, alternateGWAddr, sizeof(gateway));\n+\t}\n+\tm_State = InitNatPmp( &m_NatPmpObj, \n+\t\t\t      alternateGWAddr?1:0, \n+\t\t\t      gateway);\n+}\n+\n+int NatMap::IsGood(void) const\n+{\n+\treturn m_State;\n+}\n+\n+NatMap::~NatMap()\n+{\n+\tint returnCode = CloseNatPmp(&m_NatPmpObj);\n+\tLogPrint( BCLog::NET, \"NAT-PMP: Closed Connection to gateway [%s]\",GetErrMsg(returnCode));\t\n+}\n+\n+int NatMap::GetPublicAddress(std::string& publicAddressOut)\n+{\n+\tint returnCode = SendPublicAddressRequest(&m_NatPmpObj);\n+\tif(returnCode<0) {\n+\t\treturn returnCode;\n+\t}\n+\n+\n+\tfd_set fds;\n+\tnatpmpresp_t response;\n+\tTimeValType timeout;\n+\tshort retryCount = 0;\n+\tdo {\n+\t\tFD_ZERO(&fds);\n+\t\tFD_SET(m_NatPmpObj.s, &fds);\n+\t\tGetNatPmpRequestTimeout(&m_NatPmpObj, &timeout);\n+\t\treturnCode = select(FD_SETSIZE, &fds, NULL, NULL, &timeout);\n+\t\tif(returnCode<0) {\n+\t\t\treturn returnCode;\n+\t\t}\n+\t\treturnCode = ReadNatPmpResponseOrRetry(&m_NatPmpObj, &response);\n+\t\tretryCount++;\n+\t} while(returnCode==NATPMP_TRYAGAIN);\n+\t\n+\tif(returnCode<0) {\n+\t\treturn returnCode;\n+\t}\n+\tpublicAddressOut = std::string(inet_ntoa(response.pnu.publicaddress.addr));\n+\treturn 0;\n+}\n+\n+int NatMap::SendMapReq(int protocol, uint16_t privatePort, \n+\t\t       uint16_t& publicPortOut, uint32_t& lifeTimeOut)\n+{\n+\tint returnCode = SendNewPortMappingRequest(&m_NatPmpObj, protocol,\n+\t\t\t\t\t\t   privatePort, publicPortOut,\n+\t\t\t\t\t\t   lifeTimeOut);\n+\tif(returnCode < 0) {\n+\t\treturn returnCode;\n+\t}\n+\n+\tfd_set fds;\n+\tTimeValType timeout;\n+\tnatpmpresp_t response;\n+\tshort retryCount = 0;\n+\tdo {\n+\t\tFD_ZERO(&fds);\n+\t\tFD_SET(m_NatPmpObj.s, &fds);\n+\t\tGetNatPmpRequestTimeout(&m_NatPmpObj, &timeout);\n+\t\treturnCode = select(FD_SETSIZE, &fds, NULL, NULL, &timeout);\n+\t\tif(returnCode<0) {\n+\t\t\treturn NATMAP_ERR_SELECT;\n+\t\t}\n+\t\treturnCode = ReadNatPmpResponseOrRetry(&m_NatPmpObj, &response);\n+\t\tretryCount++;\n+\t}while(returnCode==NATPMP_TRYAGAIN);\n+\t\n+\tif(returnCode<0) {\n+\t\treturn returnCode;\n+\t}\n+\n+\tpublicPortOut = response.pnu.newportmapping.mappedpublicport,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#discussion_r271172008",
      "id" : 271172008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTE3MjAwOA==",
      "original_commit_id" : "37a4b3c5ddcb986326364cf7042814cd15c8c486",
      "original_position" : 86,
      "path" : "src/natpmp/natmap_wrapper.cpp",
      "position" : null,
      "pull_request_review_id" : 221496163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15717",
      "updated_at" : "2019-04-13T10:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271172008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift This is code copied from another project; unless we're going to submit improvements upstream, nits here are pointless.",
      "created_at" : "2019-04-02T08:09:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478890599",
      "id" : 478890599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODg5MDU5OQ==",
      "updated_at" : "2019-04-02T08:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478890599",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MishraShivendra Can you clarify which files/directories that are meant to be left as-is (with flaws reported upstream) and which files/directories that are not? :-)",
      "created_at" : "2019-04-02T08:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478892784",
      "id" : 478892784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODg5Mjc4NA==",
      "updated_at" : "2019-04-02T08:18:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478892784",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift It's literally in the PR description, and also obvious from the code (it's copyright someone else...)",
      "created_at" : "2019-04-02T08:20:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478894087",
      "id" : 478894087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODg5NDA4Nw==",
      "updated_at" : "2019-04-02T08:24:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478894087",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa The reason that I'm asking explicitly is that I noticed that some files added to this repo were not identical to the corresponding files in the repo that appears to be the upstream.\r\n\r\n@MishraShivendra What is the correct upstream repo the files were copied from?",
      "created_at" : "2019-04-02T08:47:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-478903368",
      "id" : 478903368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODkwMzM2OA==",
      "updated_at" : "2019-04-02T08:51:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478903368",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@practicalswift Thanks for reviewing the changes. Those files were taken from [here]( https://github.com/getlantern/libnatpmp). I've taken just the files needed. A few headers were merged together and useless code was removed. A few other error codes were also added. Please see diff between corresponding .c and .h files. Would push suggested changes in a while.\r\n\r\n> @practicalswift This is code copied from another project; unless we're going to submit improvements upstream, nits here are pointless.\r\n\r\n@sipa I think we can fix/modify based on our need. Those files are already way too customized for upstream.\r\n\r\n@dongcarl Removing license headers will lead to writing implementation of our own. Not sure if that would be a good idea. Any input? ",
      "created_at" : "2019-04-02T15:35:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479055317",
      "id" : 479055317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA1NTMxNw==",
      "updated_at" : "2019-04-02T16:37:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479055317",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8533116?v=4",
         "events_url" : "https://api.github.com/users/MishraShivendra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MishraShivendra/followers",
         "following_url" : "https://api.github.com/users/MishraShivendra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MishraShivendra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MishraShivendra",
         "id" : 8533116,
         "login" : "MishraShivendra",
         "node_id" : "MDQ6VXNlcjg1MzMxMTY=",
         "organizations_url" : "https://api.github.com/users/MishraShivendra/orgs",
         "received_events_url" : "https://api.github.com/users/MishraShivendra/received_events",
         "repos_url" : "https://api.github.com/users/MishraShivendra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MishraShivendra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MishraShivendra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MishraShivendra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "travis linter complains; either this needs the expected include guards, or to be excluded from the lints\r\n```\r\nsrc/natpmp/gateway.h seems to be missing the expected include guard:\r\n  #ifndef BITCOIN_NATPMP_GATEWAY_H\r\n  #define BITCOIN_NATPMP_GATEWAY_H\r\n  ...\r\n  #endif // BITCOIN_NATPMP_GATEWAY_H\r\nsrc/natpmp/natmap_wrapper.h seems to be missing the expected include guard:\r\n  #ifndef BITCOIN_NATPMP_NATMAP_WRAPPER_H\r\n  #define BITCOIN_NATPMP_NATMAP_WRAPPER_H\r\n  ...\r\n  #endif // BITCOIN_NATPMP_NATMAP_WRAPPER_H\r\nsrc/natpmp/natpmp.h seems to be missing the expected include guard:\r\n  #ifndef BITCOIN_NATPMP_NATPMP_H\r\n  #define BITCOIN_NATPMP_NATPMP_H\r\n  ...\r\n  #endif // BITCOIN_NATPMP_NATPMP_H\r\n^---- failure generated from test/lint/lint-include-guards.sh\r\n```\r\n\r\n> Remove the copyright notices (we're licensed MIT)\r\n\r\nI don't think this is allowed, at least the 3-clause BSD license has more restrictions than the MIT one.",
      "created_at" : "2019-04-02T16:54:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479092169",
      "id" : 479092169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA5MjE2OQ==",
      "updated_at" : "2019-04-02T16:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479092169",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, we discussed the license issue on IRC.\r\n\r\nThe conclusion was that it's probably best to mention the differing license for the files in `contrib/debian/copyright` (per file), so that people can see this in one glance without having to view the individual source files, but apart from that it's acceptable to include them. 3BSD versus MIT is close enough, and is not expected to cause problems.",
      "created_at" : "2019-04-02T17:07:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479098246",
      "id" : 479098246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA5ODI0Ng==",
      "updated_at" : "2019-04-02T17:07:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479098246",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~Also, I believe the upstream is really [here](http://miniupnp.free.fr/files/), I'm not sure if there's a diff between what you copied and what's available upstream, so checking would be great!~~\r\n\r\nI was wrong, see comment here: https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479113678",
      "created_at" : "2019-04-02T17:09:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479099057",
      "id" : 479099057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA5OTA1Nw==",
      "updated_at" : "2019-04-02T17:42:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479099057",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  I believe the upstream is really here\r\n\r\nThey link to https://github.com/miniupnp/miniupnp in their footer",
      "created_at" : "2019-04-02T17:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479105453",
      "id" : 479105453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTEwNTQ1Mw==",
      "updated_at" : "2019-04-02T17:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479105453",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm sorry about the confusion, https://github.com/miniupnp/libnatpmp is indeed the repo that's being updated.",
      "created_at" : "2019-04-02T17:41:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-479113678",
      "id" : 479113678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTExMzY3OA==",
      "updated_at" : "2019-04-02T17:41:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479113678",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MishraShivendra It seems that Travis is failing. Could you take a look at the errors there?\r\n\r\nAside from that, please rearrange your commits so they look something like this:\r\n1. A commit copying in the newest libnatpmp code\r\n2. A commit integrating libnatpmp with bitcoin's build system\r\n3. One or more commits integrating libnatpmp with bitcoin's codebase\r\n\r\nObviously there might be some mixing of 2 and 3, but at the very least 1 should be a separate commit.",
      "created_at" : "2019-04-09T18:32:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-481376732",
      "id" : 481376732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTM3NjczMg==",
      "updated_at" : "2019-04-09T18:32:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481376732",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There's no excuse to subtree this. It should be a normal shared library dependency.",
      "created_at" : "2019-04-09T19:02:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-481393239",
      "id" : 481393239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTM5MzIzOQ==",
      "updated_at" : "2019-04-09T19:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481393239",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK in any case, thanks for picking this up.",
      "created_at" : "2019-04-10T14:03:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-481704481",
      "id" : 481704481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTcwNDQ4MQ==",
      "updated_at" : "2019-04-10T14:03:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481704481",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@dongcarl @laanwj Thanks for those input and clarification. \r\n\r\n> It seems that Travis is failing. Could you take a look at the errors there?\r\n\r\nChanges already in progress on a private branch. I'll push them shortly.\r\n\r\n> There's no excuse to subtree this. It should be a normal shared library dependency.\r\n\r\n@luke-jr \r\nI believe it was already discussed in #12288 . Not sure if we need a separate shared library for these changes.?  I'm including 2 files from libnatpmp though. \r\n",
      "created_at" : "2019-04-10T15:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-481738585",
      "id" : 481738585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTczODU4NQ==",
      "updated_at" : "2019-04-10T15:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481738585",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8533116?v=4",
         "events_url" : "https://api.github.com/users/MishraShivendra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MishraShivendra/followers",
         "following_url" : "https://api.github.com/users/MishraShivendra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MishraShivendra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MishraShivendra",
         "id" : 8533116,
         "login" : "MishraShivendra",
         "node_id" : "MDQ6VXNlcjg1MzMxMTY=",
         "organizations_url" : "https://api.github.com/users/MishraShivendra/orgs",
         "received_events_url" : "https://api.github.com/users/MishraShivendra/received_events",
         "repos_url" : "https://api.github.com/users/MishraShivendra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MishraShivendra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MishraShivendra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MishraShivendra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is already a separate shared library.",
      "created_at" : "2019-04-10T15:55:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-481750400",
      "id" : 481750400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTc1MDQwMA==",
      "updated_at" : "2019-04-10T15:55:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481750400",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@dongcarl \r\nTravis-ci build seems to be inconsistent. The above PR build seems to fail but mainline of my forked repo passes: [Travis-Ci-Master-Build](https://travis-ci.org/MishraShivendra/bitcoin/builds/519644709).\r\nCan someone please restart the PR build?\r\n\r\n@practicalswift The current commit includes most of the changes you suggested. Can you please take a look?\r\n\r\n@luke-jr Can you please point me to it. I couldn't find any place where we already build one. Did you mean upnp shared lib?",
      "created_at" : "2019-04-14T05:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-482921942",
      "id" : 482921942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MjkyMTk0Mg==",
      "updated_at" : "2019-04-14T06:50:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/482921942",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8533116?v=4",
         "events_url" : "https://api.github.com/users/MishraShivendra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MishraShivendra/followers",
         "following_url" : "https://api.github.com/users/MishraShivendra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MishraShivendra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MishraShivendra",
         "id" : 8533116,
         "login" : "MishraShivendra",
         "node_id" : "MDQ6VXNlcjg1MzMxMTY=",
         "organizations_url" : "https://api.github.com/users/MishraShivendra/orgs",
         "received_events_url" : "https://api.github.com/users/MishraShivendra/received_events",
         "repos_url" : "https://api.github.com/users/MishraShivendra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MishraShivendra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MishraShivendra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MishraShivendra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MishraShivendra Sure! In light of previous comments -- do you want me to review all the files or just a subset? In the latter case, what subset? :-)",
      "created_at" : "2019-04-14T13:21:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-482975043",
      "id" : 482975043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4Mjk3NTA0Mw==",
      "updated_at" : "2019-04-14T13:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/482975043",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "A quick look at everything, please.  \r\nTo shed some light on the changes:\r\n[These (first commit)](https://github.com/bitcoin/bitcoin/pull/15717/commits/5293339e4dddc84ca5a219e9b8ca4130b00ef1d8) are the file belong to libnatpmp and [this diff](https://gist.github.com/MishraShivendra/472143f3829cea1026e9fc1714586a85) shows the changes I've introduced in upstream. \r\n[Second commit](https://github.com/bitcoin/bitcoin/pull/15717/commits/0667cfc11b7c32e48f361d61031e1d53f121e119) introduces integration changes. [net.cpp](https://github.com/bitcoin/bitcoin/pull/15717/files#diff-9a82240fe7dfe86564178691cc57f2f1) includes changes to start/stop/renew the port mapping. RenewPortMapping() is a detached thread to periodically renew the port mapping. Feel free to raise any questions :)",
      "created_at" : "2019-04-14T15:38:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-483001218",
      "id" : 483001218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzAwMTIxOA==",
      "updated_at" : "2019-04-14T15:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483001218",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/8533116?v=4",
         "events_url" : "https://api.github.com/users/MishraShivendra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MishraShivendra/followers",
         "following_url" : "https://api.github.com/users/MishraShivendra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MishraShivendra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MishraShivendra",
         "id" : 8533116,
         "login" : "MishraShivendra",
         "node_id" : "MDQ6VXNlcjg1MzMxMTY=",
         "organizations_url" : "https://api.github.com/users/MishraShivendra/orgs",
         "received_events_url" : "https://api.github.com/users/MishraShivendra/received_events",
         "repos_url" : "https://api.github.com/users/MishraShivendra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MishraShivendra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MishraShivendra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MishraShivendra"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MishaShivendra It's installed with the user's OS.",
      "created_at" : "2019-04-14T19:40:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15717#issuecomment-483048670",
      "id" : 483048670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15717",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzA0ODY3MA==",
      "updated_at" : "2019-04-14T19:40:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483048670",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
