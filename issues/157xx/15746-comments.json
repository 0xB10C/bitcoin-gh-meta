[
   {
      "author_association" : "MEMBER",
      "body" : "This bugfix can not be tested, because none of our RPCs accept nested dictionaries. However, the following diff might help:\r\n\r\n```diff\r\ndiff --git a/src/wallet/rpcdump.cpp b/src/wallet/rpcdump.cpp\r\nindex 9c5dae3623..81d282ceca 100644\r\n--- a/src/wallet/rpcdump.cpp\r\n+++ b/src/wallet/rpcdump.cpp\r\n@@ -1377,7 +1377,7 @@ UniValue importmulti(const JSONRPCRequest& mainRequest)\r\n                                             {\"pubKey\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"\"},\r\n                                         }\r\n                                     },\r\n-                                    {\"keys\", RPCArg::Type::ARR, /* default */ \"empty array\", \"Array of strings giving private keys to import. The corresponding public keys must occur in the output or redeemscript.\",\r\n+                                    {\"keys\", RPCArg::Type::OBJ, /* default */ \"empty array\", \"Array of strings giving private keys to import. The corresponding public keys must occur in the output or redeemscript.\",\r\n                                         {\r\n                                             {\"key\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"\"},\r\n                                         }\r\n```\r\n\r\nWith the above diff, before and after my bugfix:\r\n\r\n```diff\r\ndiff --git a/importmulti b/importmulti\r\nindex 7a79198..d2eb7e7 100644\r\n--- a/importmulti\r\n+++ b/importmulti\r\n@@ -25,7 +25,7 @@ Arguments:\r\n            \"pubKey\",                                                (string)\r\n            ...\r\n          ],\r\n-         {                                                          (json object, optional, default=empty array) Array of strings giving private keys to import. The corresponding public keys must occur in the output or redeemscript.\r\n+         \"keys\": {                                                  (json object, optional, default=empty array) Array of strings giving private keys to import. The corresponding public keys must occur in the output or redeemscript.\r\n            \"key\": \"str\",                                            (string)\r\n          },\r\n          \"range\": n or [n,n],                                       (numeric or array) If a ranged descriptor is used, this specifies the end or the range (in the form [begin,end]) to import\r\n",
      "created_at" : "2019-04-04T15:03:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15746#issuecomment-479935109",
      "id" : 479935109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTkzNTEwOQ==",
      "updated_at" : "2019-04-04T15:03:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479935109",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Aha, thanks -- this looks exactly like the problem I was seeing with \"range\", which _was_ a nested dictionary at the time of my last rebase, even though it didn't exist in 0.17, and is a nested array on master.\r\n\r\nKudos for finding the problem despite the repro being missing. :-)",
      "created_at" : "2019-04-04T23:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15746#issuecomment-480094714",
      "id" : 480094714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDA5NDcxNA==",
      "updated_at" : "2019-04-04T23:08:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480094714",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/458997?v=4",
         "events_url" : "https://api.github.com/users/gwillen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gwillen/followers",
         "following_url" : "https://api.github.com/users/gwillen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gwillen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gwillen",
         "id" : 458997,
         "login" : "gwillen",
         "node_id" : "MDQ6VXNlcjQ1ODk5Nw==",
         "organizations_url" : "https://api.github.com/users/gwillen/orgs",
         "received_events_url" : "https://api.github.com/users/gwillen/received_events",
         "repos_url" : "https://api.github.com/users/gwillen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gwillen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gwillen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK",
      "created_at" : "2019-04-04T23:09:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15746#issuecomment-480094959",
      "id" : 480094959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDA5NDk1OQ==",
      "updated_at" : "2019-04-04T23:09:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480094959",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/458997?v=4",
         "events_url" : "https://api.github.com/users/gwillen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gwillen/followers",
         "following_url" : "https://api.github.com/users/gwillen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gwillen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gwillen",
         "id" : 458997,
         "login" : "gwillen",
         "node_id" : "MDQ6VXNlcjQ1ODk5Nw==",
         "organizations_url" : "https://api.github.com/users/gwillen/orgs",
         "received_events_url" : "https://api.github.com/users/gwillen/received_events",
         "repos_url" : "https://api.github.com/users/gwillen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gwillen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gwillen"
      }
   }
]
