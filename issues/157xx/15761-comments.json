[
   {
      "author_association" : "MEMBER",
      "body" : "No opposition to having this, but wouldn't `bitcoin-wallet-tool` be the designated place for this?",
      "created_at" : "2019-04-06T07:11:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480480966",
      "id" : 480480966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDQ4MDk2Ng==",
      "updated_at" : "2019-04-06T07:11:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480480966",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> No opposition to having this, but wouldn't `bitcoin-wallet-tool` be the designated place for this?\r\n\r\nI'm not really a fan of putting things that users might actually use and want to use in a place that is less accessible. `bitcoin-wallet-tool` is command line only and many users won't know how to use it. With an RPC, most users will be able to use it since there is a RPC console in the GUI.",
      "created_at" : "2019-04-06T15:51:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480514693",
      "id" : 480514693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUxNDY5Mw==",
      "updated_at" : "2019-04-06T15:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480514693",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Use the upgradewallet RPC in order to upgrade a non-HD wallet to HD\");\r\n```",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:19:21Z",
      "diff_hunk" : "@@ -3797,7 +3797,7 @@ UniValue sethdseed(const JSONRPCRequest& request)\n \n     // Do not do anything to non-HD wallets\n     if (!pwallet->CanSupportFeature(FEATURE_HD)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Start with -upgradewallet in order to upgrade a non-HD wallet to HD\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Use the upgradewallet command in order to upgrade a non-HD wallet to HD\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800660",
      "id" : 272800660,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMDY2MA==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 14,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223546850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800660",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800667"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800667"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nstatic UniValue upgradewallet(const JSONRPCRequest& request)\r\n```",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:19:33Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800667",
      "id" : 272800667,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMDY2Nw==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 22,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223546850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800667",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could use a const object that is in scope even when no help was not requested? That way checking the arguments could be done through the HelpMan in the future. See for example `const RPCHelpMan help{\"sendmany\",` for what I mean.",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:21:48Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 1)\n+        throw std::runtime_error(\n+            RPCHelpMan{\"upgradewallet\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800740",
      "id" : 272800740,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMDc0MA==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 33,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223546850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800740",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800829"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This fails to compile.\r\n\r\nMind to make a move-only of the upgrade code into a standalone member function, that is merely called by the RPC instead of moving the whole wallet logic into the rpc file?",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:24:49Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 1)\n+        throw std::runtime_error(\n+            RPCHelpMan{\"upgradewallet\",\n+                \"\\nUpgrade the wallet. Upgrades to the latest version if no version number is specified\\n\"\n+                \"New keys may be generated and a new wallet backup will need to be made.\" +\n+                    HelpRequiringPassphrase(pwallet) + \"\\n\",\n+                {\n+                    {\"version\", RPCArg::Type::NUM, /* default */ strprintf(\"%d\", FEATURE_LATEST), \"The version number to upgrade to. Default is the latest wallet version\"}\n+                },\n+                RPCResults{},\n+                RPCExamples{\n+                    HelpExampleCli(\"upgradewallet\", \"169900\")\n+                    + HelpExampleRpc(\"upgradewallet\", \"169900\")\n+                }\n+            }.ToString());\n+\n+    RPCTypeCheck(request.params, {UniValue::VNUM}, true);\n+\n+    auto locked_chain = pwallet->chain().lock();\n+    LOCK(pwallet->cs_wallet);\n+\n+    EnsureWalletIsUnlocked(pwallet);\n+\n+    int version = FEATURE_LATEST;\n+    if (!request.params[0].isNull()) {\n+        version = request.params[0].get_int();\n+    }\n+\n+    int prev_version = pwallet->GetVersion();\n+    if (version < prev_version) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot downgrade wallet\");\n+    } else if (version == prev_version) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is already upgraded\");\n+    }\n+\n+    pwallet->SetMaxVersion(version);\n+\n+    pwallet->WalletLogPrintf(\"Performing wallet upgrade to %i\\n\", version);\n+\n+    // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n+    if (!pwallet->CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use the upgradewallet command.\");\n+    }\n+\n+    pwallet->SetMinVersion(version); // permanently upgrade the wallet after making sure we can upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272800829",
      "id" : 272800829,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMDgyOQ==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 75,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223546850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272800829",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Related: #13044",
      "created_at" : "2019-04-06T16:26:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480517346",
      "id" : 480517346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUxNzM0Ng==",
      "updated_at" : "2019-04-06T16:26:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480517346",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801797"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:56:33Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 1)\n+        throw std::runtime_error(\n+            RPCHelpMan{\"upgradewallet\",\n+                \"\\nUpgrade the wallet. Upgrades to the latest version if no version number is specified\\n\"\n+                \"New keys may be generated and a new wallet backup will need to be made.\" +\n+                    HelpRequiringPassphrase(pwallet) + \"\\n\",\n+                {\n+                    {\"version\", RPCArg::Type::NUM, /* default */ strprintf(\"%d\", FEATURE_LATEST), \"The version number to upgrade to. Default is the latest wallet version\"}\n+                },\n+                RPCResults{},\n+                RPCExamples{\n+                    HelpExampleCli(\"upgradewallet\", \"169900\")\n+                    + HelpExampleRpc(\"upgradewallet\", \"169900\")\n+                }\n+            }.ToString());\n+\n+    RPCTypeCheck(request.params, {UniValue::VNUM}, true);\n+\n+    auto locked_chain = pwallet->chain().lock();\n+    LOCK(pwallet->cs_wallet);\n+\n+    EnsureWalletIsUnlocked(pwallet);\n+\n+    int version = FEATURE_LATEST;\n+    if (!request.params[0].isNull()) {\n+        version = request.params[0].get_int();\n+    }\n+\n+    int prev_version = pwallet->GetVersion();\n+    if (version < prev_version) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot downgrade wallet\");\n+    } else if (version == prev_version) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet is already upgraded\");\n+    }\n+\n+    pwallet->SetMaxVersion(version);\n+\n+    pwallet->WalletLogPrintf(\"Performing wallet upgrade to %i\\n\", version);\n+\n+    // Do not upgrade versions to any version between HD_SPLIT and FEATURE_PRE_SPLIT_KEYPOOL unless already supporting HD_SPLIT\n+    if (!pwallet->CanSupportFeature(FEATURE_HD_SPLIT) && version >= FEATURE_HD_SPLIT && version < FEATURE_PRE_SPLIT_KEYPOOL) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot upgrade a non HD split wallet without upgrading to support pre split keypool. Please use the upgradewallet command.\");\n+    }\n+\n+    pwallet->SetMinVersion(version); // permanently upgrade the wallet after making sure we can upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801797",
      "id" : 272801797,
      "in_reply_to_id" : 272800829,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMTc5Nw==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 75,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223548199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801797",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801801"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:56:38Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)\n+{\n+    std::shared_ptr<CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n+    CWallet* const pwallet = wallet.get();\n+\n+    if (!EnsureWalletIsAvailable(pwallet, request.fHelp)) {\n+        return NullUniValue;\n+    }\n+\n+    if (request.fHelp || request.params.size() > 1)\n+        throw std::runtime_error(\n+            RPCHelpMan{\"upgradewallet\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801801",
      "id" : 272801801,
      "in_reply_to_id" : 272800740,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMTgwMQ==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 33,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223548203,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801801",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801804"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:56:42Z",
      "diff_hunk" : "@@ -4018,6 +4018,92 @@ UniValue walletcreatefundedpsbt(const JSONRPCRequest& request)\n     return result;\n }\n \n+UniValue upgradewallet(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801804",
      "id" : 272801804,
      "in_reply_to_id" : 272800667,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMTgwNA==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 22,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223548207,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801804",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801807"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "65e296dcc66cac1eac32e9a9052be747742caad7",
      "created_at" : "2019-04-06T16:56:46Z",
      "diff_hunk" : "@@ -3797,7 +3797,7 @@ UniValue sethdseed(const JSONRPCRequest& request)\n \n     // Do not do anything to non-HD wallets\n     if (!pwallet->CanSupportFeature(FEATURE_HD)) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Start with -upgradewallet in order to upgrade a non-HD wallet to HD\");\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot set a HD seed on a non-HD wallet. Use the upgradewallet command in order to upgrade a non-HD wallet to HD\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#discussion_r272801807",
      "id" : 272801807,
      "in_reply_to_id" : 272800660,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MjgwMTgwNw==",
      "original_commit_id" : "0612304818b477f91a8c2daf56d7a9f7e4588fe2",
      "original_position" : 14,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 223548214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15761",
      "updated_at" : "2019-04-06T16:56:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/272801807",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15741](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15741.html) (Batch write imported stuff in importmulti by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-04-06T17:26:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480521997",
      "id" : 480521997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUyMTk5Nw==",
      "updated_at" : "2019-04-09T17:39:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480521997",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK although I agree with @laanwj that a utility function that does not require access to the chainstate or P2P rightly lives in the wallet tool.\r\n\r\n>  I'm not really a fan of putting things that users might actually use and want to use in a place that is less accessible [...] With an RPC, most users will be able to use it since there is a RPC console in the GUI.\r\n\r\nI'd disagree that RPC is accessible to users who aren't able to use the command line. We shouldn't encourage users to type commands into the debug command window if they're not able to use the command line. Besides, `upgradewallet` is currently command line only, so moving it to the wallet tool maintains exactly the same level of accessibility.",
      "created_at" : "2019-04-06T18:48:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480528308",
      "id" : 480528308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUyODMwOA==",
      "updated_at" : "2019-04-06T18:48:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480528308",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this something that we'd like to be accessible to wallets why they're loaded? If so, it needs to be an RPC (and possibly also in the wallet tool). ",
      "created_at" : "2019-04-06T19:04:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480529447",
      "id" : 480529447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUyOTQ0Nw==",
      "updated_at" : "2019-04-06T19:04:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480529447",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is this something that we'd like to be accessible to wallets why they're loaded?\r\n\r\nI would like it to be.",
      "created_at" : "2019-04-06T20:04:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480533618",
      "id" : 480533618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDUzMzYxOA==",
      "updated_at" : "2019-04-06T20:04:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480533618",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is this something that we'd like to be accessible to wallets while they're loaded?\r\n\r\nThis seems to me to potentially add complexity in future. I could imagine there may be some potential upgrade actions that would conflict badly when executed on a running wallet. Why not keep it simple and only allow upgrade when the wallet is not running?\r\n\r\nEDIT: to be clear, I'm not NACKing this. I think an `upgradewallet` RPC is certainly an improvement over the command line option, and doesn't preclude also adding it to the wallet tool. I just think that the offline wallet tool would be an even better place for it.",
      "created_at" : "2019-04-07T20:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480626179",
      "id" : 480626179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDYyNjE3OQ==",
      "updated_at" : "2019-04-07T23:08:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480626179",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK removing the `-upgradewallet` argument.\r\n\r\nWhy not add `upgrade` option to `loadwallet` RPC?",
      "created_at" : "2019-04-08T14:25:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-480853986",
      "id" : 480853986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDg1Mzk4Ng==",
      "updated_at" : "2019-04-08T14:25:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480853986",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Why not add `upgrade` option to `loadwallet` RPC?\r\n\r\nI think it makes more sense to have upgrading be separate from loading.",
      "created_at" : "2019-04-09T14:34:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-481278120",
      "id" : 481278120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTI3ODEyMA==",
      "updated_at" : "2019-04-09T14:34:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481278120",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think it makes more sense to have upgrading be separate from loading.\r\n\r\nCan you justify that? Upgrading wallets is something that most users will very rarely (if ever) have to do. What's the benefit to adding the flexibility to upgrade wallets during runtime? The downsides seem pretty obvious to me (potential increased complexity and having to reason about interactions with other wallet operations) so I'd like to understand what you're weighing that against.",
      "created_at" : "2019-04-09T14:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15761#issuecomment-481283456",
      "id" : 481283456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15761",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTI4MzQ1Ng==",
      "updated_at" : "2019-04-09T14:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481283456",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
