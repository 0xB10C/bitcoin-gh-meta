[
   {
      "author_association" : "MEMBER",
      "body" : "@huahuayu Please don't tag multiple people just to draw attention to your issue.",
      "created_at" : "2019-04-04T09:26:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15745#issuecomment-479821972",
      "id" : 479821972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15745",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTgyMTk3Mg==",
      "updated_at" : "2019-04-04T09:26:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479821972",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is a circular relationship of sorts between the config file and the data dir. The configuration file can specify a data directory (using `-datadir`), while the default configuration file `bitcoin.conf` is *in* the data directory.\r\n\r\nThis potential circularity is broken by ignoring `-datadir` in the default configuration file, so when `-conf` is driven by the data directory. \r\n\r\nHowever, when `-conf` is specified on the command line it should be possible to set a `-datadir` in that configuration file and have it be used. The purpose of this is to be able to have the configuration file in a read-only directory, e.g. `/etc/bitcoin.conf`, specifying where the read/write data is.\r\n\r\nI've tested this and with master this seems to work as expected:\r\n```bash\r\n$ mkdir /tmp/conf /tmp/datadir\r\n$ echo \"datadir=/tmp/datadir\" > /tmp/conf/test1.conf\r\n$ src/bitcoind --conf=/tmp/conf/test1.conf -printtoconsole\r\n2019-04-04T11:00:28Z Bitcoin Core version v0.18.99.0-79c345a0114c9a83fd40e01150519373c017b130 (release build)\r\n2019-04-04T11:00:28Z Default data directory /home/.../.bitcoin\r\n2019-04-04T11:00:28Z Using data directory /tmp/datadir\r\n2019-04-04T11:00:28Z Config file: /tmp/conf/test1.conf\r\n...\r\n```\r\n",
      "created_at" : "2019-04-04T11:05:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15745#issuecomment-479852569",
      "id" : 479852569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15745",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTg1MjU2OQ==",
      "updated_at" : "2019-04-04T11:06:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479852569",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Same for 0.17.1. Cannot reproduct this.\r\n```\r\n$ mkdir /tmp/conf /tmp/datadir\r\n$ echo \"datadir=/tmp/datadir\" > /tmp/conf/test1.conf\r\n$ src/bitcoind --conf=/tmp/conf/test1.conf -printtoconsole\r\n2019-04-04T11:34:53Z Bitcoin Core version v0.17.1.0-6cf81b01b48e871a35072dd08e7735c3ba42528c (release build)\r\n2019-04-04T11:34:53Z InitParameterInteraction: parameter interaction: -whitelistforcerelay=1 -> setting -whitelistrelay=1\r\n2019-04-04T11:34:53Z Assuming ancestors of block 0000000000000000002e63058c023a9a1de233554f28c7b21380b6c9003f36a8 have valid signatures.\r\n2019-04-04T11:34:53Z Setting nMinimumChainWork=0000000000000000000000000000000000000000028822fef1c230963535a90d\r\n2019-04-04T11:34:53Z Using the 'standard' SHA256 implementation\r\n2019-04-04T11:34:53Z Default data directory /home/.../.bitcoin\r\n2019-04-04T11:34:53Z Using data directory /tmp/datadir\r\n2019-04-04T11:34:53Z Using config file /tmp/conf/test1.conf\r\n```",
      "created_at" : "2019-04-04T11:35:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15745#issuecomment-479861204",
      "id" : 479861204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15745",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTg2MTIwNA==",
      "updated_at" : "2019-04-04T11:35:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479861204",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
