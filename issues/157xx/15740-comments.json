[
   {
      "author_association" : "NONE",
      "body" : "HWI supplies descriptors that include the non-canonical descriptor with the h for hardened and are converted when ran through getdescriptorinfo\r\n\r\nIt would be nice if getdescriptorinfo would not change what is provided to it and provides a checksum for what was the input",
      "created_at" : "2019-05-06T17:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15740#issuecomment-489699710",
      "id" : 489699710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4OTY5OTcxMA==",
      "updated_at" : "2019-05-06T17:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489699710",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/12241959?v=4",
         "events_url" : "https://api.github.com/users/myveryown/events{/privacy}",
         "followers_url" : "https://api.github.com/users/myveryown/followers",
         "following_url" : "https://api.github.com/users/myveryown/following{/other_user}",
         "gists_url" : "https://api.github.com/users/myveryown/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/myveryown",
         "id" : 12241959,
         "login" : "myveryown",
         "node_id" : "MDQ6VXNlcjEyMjQxOTU5",
         "organizations_url" : "https://api.github.com/users/myveryown/orgs",
         "received_events_url" : "https://api.github.com/users/myveryown/received_events",
         "repos_url" : "https://api.github.com/users/myveryown/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/myveryown/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/myveryown/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/myveryown"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I was working with @myveryown earlier today on debugging a difficulty using descriptors and I found it very unintuitive that this command returns not just an obvious checksum (which is appreciated) but also converts `h` to `'` in origin info in a way that's not immediately obvious:\r\n\r\n```bash\r\n$ bitcoin-cli getdescriptorinfo \"wpkh([f6bb4c63/0h/0h/30h]028429a37c3f09c8c5cc1fab58df32d1a7da7616c748a40eeb1aae1d64acb9c5cc)\" | jq -r .descriptor\r\nwpkh([f6bb4c63/0'/0'/30']028429a37c3f09c8c5cc1fab58df32d1a7da7616c748a40eeb1aae1d64acb9c5cc)#5wdxpxcx\r\n```\r\n\r\nIt wasn't until @gwillen pointed out this substitution of `h` with `'` that I realized what was going wrong with my attempts to troubleshoot @myveryown's problem.  I'm in agreement with the OP on both points:\r\n\r\n1. getdescriptorinfo should provide a way to get the checksum for a non-canonical descriptor\r\n2. Paths using hardened derivation should preferentially be indicated by an `h` rather than a `'`\r\n\r\nI think the output should probably look something like this:\r\n\r\n```text\r\n$ bitcoin-cli getdescriptorinfo \"wpkh([f6bb4c63/0h/0h/30h]028429a37c3f09c8c5cc1fab58df32d1a7da7616c748a40eeb1aae1d64acb9c5cc)\"\r\n{\r\n  \"descriptor\": \"wpkh([f6bb4c63/0h/0h/30h]028429a37c3f09c8c5cc1fab58df32d1a7da7616c748a40eeb1aae1d64acb9c5cc)#vk9vfu0h\"\r\n  \"normalized\": \"wpkh([f6bb4c63/0'/0'/30']028429a37c3f09c8c5cc1fab58df32d1a7da7616c748a40eeb1aae1d64acb9c5cc)#5wdxpxcx\",\r\n  \"isrange\": false,\r\n  \"issolvable\": true,\r\n  \"hasprivatekeys\": false\r\n}\r\n```\r\n\r\n(Instead of \"canonical\", I use \"normalized\" because it has the same number of letters as \"descriptor\" and so aligns well in fixed-width displays.  Also canonical seems more ambiguous than normalized in this context.)",
      "created_at" : "2019-05-06T17:57:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15740#issuecomment-489714275",
      "id" : 489714275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4OTcxNDI3NQ==",
      "updated_at" : "2019-05-06T17:57:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489714275",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/61096?v=4",
         "events_url" : "https://api.github.com/users/harding/events{/privacy}",
         "followers_url" : "https://api.github.com/users/harding/followers",
         "following_url" : "https://api.github.com/users/harding/following{/other_user}",
         "gists_url" : "https://api.github.com/users/harding/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/harding",
         "id" : 61096,
         "login" : "harding",
         "node_id" : "MDQ6VXNlcjYxMDk2",
         "organizations_url" : "https://api.github.com/users/harding/orgs",
         "received_events_url" : "https://api.github.com/users/harding/received_events",
         "repos_url" : "https://api.github.com/users/harding/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/harding/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/harding/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/harding"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm going to take a crack at this today -- I'm going to both switch the default marker to \"h\", and have getaddressinfo return the same descriptor provided, rather than alter it. Then people can bikeshed the result. ;-)\r\n\r\n(EDIT: Oh, I like @harding 's suggestion of providing both the as-given descriptor and the normalized descriptor, will do.)",
      "created_at" : "2019-05-06T18:26:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/15740#issuecomment-489724528",
      "id" : 489724528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4OTcyNDUyOA==",
      "updated_at" : "2019-05-06T18:27:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489724528",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/458997?v=4",
         "events_url" : "https://api.github.com/users/gwillen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gwillen/followers",
         "following_url" : "https://api.github.com/users/gwillen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gwillen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gwillen",
         "id" : 458997,
         "login" : "gwillen",
         "node_id" : "MDQ6VXNlcjQ1ODk5Nw==",
         "organizations_url" : "https://api.github.com/users/gwillen/orgs",
         "received_events_url" : "https://api.github.com/users/gwillen/received_events",
         "repos_url" : "https://api.github.com/users/gwillen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gwillen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gwillen"
      }
   }
]
