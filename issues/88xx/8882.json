{
   "assignee" : null,
   "assignees" : [],
   "body" : "Sorry for the code churn in this test; this is another attempt to resolve the test failure reported in #8842.\r\n\r\nIn #8854 I added a sync_with_ping() with the idea of making sure that we'd processed all the block announcements from the node before continuing in the test; however that is insufficient for making sure that the node had actually tried sending all the block announcements it's going to eventually send.  My guess is that the test failures are happening in situations where the block announcements from the generate(101) call don't finish arriving until after the sync_with_ping(), throwing off the later tests.\r\n\r\nSo I replaced the sync_with_ping with an explicit check that the node's tip has been announced, before continuing on with the test.  Hopefully this resolves the lingering issues.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8882/comments",
   "created_at" : "2016-10-04T19:56:20Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8882/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/8882",
   "id" : 180988993,
   "labels" : [
      {
         "color" : "d4c5f9",
         "name" : "Tests",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8882/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 8882,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/8882.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8882",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/8882.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8882"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "[qa] Another attempt to fix race condition in p2p-compactblocks.py",
   "updated_at" : "2016-10-05T00:33:49Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8882",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
      "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sdaftuar/followers",
      "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sdaftuar",
      "id" : 7463573,
      "login" : "sdaftuar",
      "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
      "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
      "repos_url" : "https://api.github.com/users/sdaftuar/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sdaftuar"
   }
}
