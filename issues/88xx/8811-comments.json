[
   {
      "body" : "This is useful because a lot of features add new arguments to an existing call. For example #8751.\r\n\r\nCurrently the user of the API has to explicitly specify defaults for the intermediate arguments. With named arguments this would no longer be necessary.\r\n\r\nIt could also help clean up the API for calls that already have a lot of optional arguments such as `sendtoaddress`, or at least make it easier to use them.",
      "created_at" : "2016-09-26T15:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-249606511",
      "id" : 249606511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-09-26T15:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249606511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r81468409"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81468409"
         }
      },
      "body" : "In the OP you are linking to the \"JSON-RPC 2.0 Specification\", which states\r\n>jsonrpc\r\n    A String specifying the version of the JSON-RPC protocol. MUST be exactly \"2.0\".\r\n\r\nCan you explain why you keep this at 1.1?",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-10-02T11:06:48Z",
      "diff_hunk" : "@@ -132,14 +136,16 @@ def _request(self, method, path, postdata):\n             self.__conn.request(method, path, postdata, headers)\n             return self._get_response()\n \n-    def __call__(self, *args):\n+    def __call__(self, *args, **argsn):\n         AuthServiceProxy.__id_count += 1\n \n         log.debug(\"-%s-> %s %s\"%(AuthServiceProxy.__id_count, self._service_name,\n                                  json.dumps(args, default=EncodeDecimal, ensure_ascii=self.ensure_ascii)))\n+        if args and argsn:\n+            raise ValueError('Cannot handle both named and positional arguments')\n         postdata = json.dumps({'version': '1.1',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r81468409",
      "id" : 81468409,
      "original_commit_id" : "a6b42764588492b8510838acf45470c467532c7d",
      "original_position" : 25,
      "path" : "qa/rpc-tests/test_framework/authproxy.py",
      "position" : 12,
      "pull_request_review_id" : 2447580,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81468409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "The only alternative I see would be to only accept one object as first positional argument for all methods, but this will likely never happen, so Concept ACK.",
      "created_at" : "2016-10-02T11:16:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-250966251",
      "id" : 250966251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-10-02T11:16:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/250966251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r81468561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81468561"
         }
      },
      "body" : "May make sense to change it to that (even irrespective of this pull) however I'm not sure that we support the entire 2.0 standard, so that may involve other changes too.",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-10-02T11:20:40Z",
      "diff_hunk" : "@@ -132,14 +136,16 @@ def _request(self, method, path, postdata):\n             self.__conn.request(method, path, postdata, headers)\n             return self._get_response()\n \n-    def __call__(self, *args):\n+    def __call__(self, *args, **argsn):\n         AuthServiceProxy.__id_count += 1\n \n         log.debug(\"-%s-> %s %s\"%(AuthServiceProxy.__id_count, self._service_name,\n                                  json.dumps(args, default=EncodeDecimal, ensure_ascii=self.ensure_ascii)))\n+        if args and argsn:\n+            raise ValueError('Cannot handle both named and positional arguments')\n         postdata = json.dumps({'version': '1.1',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r81468561",
      "id" : 81468561,
      "original_commit_id" : "a6b42764588492b8510838acf45470c467532c7d",
      "original_position" : 25,
      "path" : "qa/rpc-tests/test_framework/authproxy.py",
      "position" : 12,
      "pull_request_review_id" : 2447712,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/81468561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK. I think this is very useful.\r\nACK to extend it to `bitcoin-cli`, to the other rpc tables and to the RPC value conversions table.\r\n\r\nAfter this, we should update the documents (and RPC help examples) to slowly move away from recommending fixed position arguments.",
      "created_at" : "2016-10-10T10:32:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-252582482",
      "id" : 252582482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-10-10T10:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252582482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Rebased to get rid of the univalue change",
      "created_at" : "2016-10-10T14:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-252630068",
      "id" : 252630068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-10-10T14:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/252630068",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Needed rebase, rebased",
      "created_at" : "2016-10-25T14:58:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-256060105",
      "id" : 256060105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-10-25T14:58:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256060105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85943516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85943516"
         }
      },
      "body" : "after this loop `hole` should be reset to 0, otherwise holes will be repeated for every subsequent entry?",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-01T14:50:17Z",
      "diff_hunk" : "@@ -418,6 +419,47 @@ std::string JSONRPCExecBatch(const UniValue& vReq)\n     return ret.write() + \"\\n\";\n }\n \n+/**\n+ * Process named arguments into a vector of positional arguments, based on the\n+ * passed-in specification for the RPC call's arguments.\n+ */\n+static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, const std::vector<std::string>& argNames)\n+{\n+    JSONRPCRequest out = in;\n+    out.params = UniValue(UniValue::VARR);\n+    // Build a map of parameters, and remove ones that have been processed, so that we can throw a focused error if\n+    // there is an unknown one.\n+    const std::vector<std::string>& keys = in.params.getKeys();\n+    const std::vector<UniValue>& values = in.params.getValues();\n+    std::unordered_map<std::string, const UniValue*> argsIn;\n+    for (size_t i=0; i<keys.size(); ++i) {\n+        argsIn[keys[i]] = &values[i];\n+    }\n+    // Process expected parameters.\n+    int hole = 0;\n+    for (const std::string &argName: argNames) {\n+        auto fr = argsIn.find(argName);\n+        if (fr != argsIn.end()) {\n+            for (int i = 0; i < hole; ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85943516",
      "id" : 85943516,
      "original_commit_id" : "0e2825c3779883b2d20d689575cbe4c061d7a92c",
      "original_position" : 65,
      "path" : "src/rpc/server.cpp",
      "position" : 65,
      "pull_request_review_id" : 6627633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85943516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85943871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85943871"
         }
      },
      "body" : "what does fr stand for?",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-01T14:52:09Z",
      "diff_hunk" : "@@ -418,6 +419,47 @@ std::string JSONRPCExecBatch(const UniValue& vReq)\n     return ret.write() + \"\\n\";\n }\n \n+/**\n+ * Process named arguments into a vector of positional arguments, based on the\n+ * passed-in specification for the RPC call's arguments.\n+ */\n+static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, const std::vector<std::string>& argNames)\n+{\n+    JSONRPCRequest out = in;\n+    out.params = UniValue(UniValue::VARR);\n+    // Build a map of parameters, and remove ones that have been processed, so that we can throw a focused error if\n+    // there is an unknown one.\n+    const std::vector<std::string>& keys = in.params.getKeys();\n+    const std::vector<UniValue>& values = in.params.getValues();\n+    std::unordered_map<std::string, const UniValue*> argsIn;\n+    for (size_t i=0; i<keys.size(); ++i) {\n+        argsIn[keys[i]] = &values[i];\n+    }\n+    // Process expected parameters.\n+    int hole = 0;\n+    for (const std::string &argName: argNames) {\n+        auto fr = argsIn.find(argName);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85943871",
      "id" : 85943871,
      "original_commit_id" : "0e2825c3779883b2d20d689575cbe4c061d7a92c",
      "original_position" : 63,
      "path" : "src/rpc/server.cpp",
      "position" : 63,
      "pull_request_review_id" : 6627633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85943871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85944558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85944558"
         }
      },
      "body" : "may want to add test of [exist, hole, exist, exist] to catch gap repeat error",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-01T14:55:37Z",
      "diff_hunk" : "@@ -0,0 +1,53 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from decimal import Decimal\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.authproxy import JSONRPCException\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_jsonrpc,\n+    assert_is_hex_string,\n+    assert_is_hash_string,\n+    start_nodes,\n+    connect_nodes_bi,\n+)\n+\n+\n+class NamedArgumentTest(BitcoinTestFramework):\n+    \"\"\"\n+    Test named arguments on RPC calls.\n+    \"\"\"\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir)\n+        self.is_network_split = False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        h = node.help(command='getinfo')\n+        assert(h.startswith('getinfo\\n'))\n+\n+        assert_raises_jsonrpc(-8, node.help, random='getinfo')\n+\n+        h = node.getblockhash(index=0)\n+        node.getblock(hash=h)\n+\n+        assert_equal(node.echo(), [])\n+        assert_equal(node.echo(arg0=0,arg9=9), [0] + [None]*8 + [9])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r85944558",
      "id" : 85944558,
      "original_commit_id" : "e4aa9b3bf140d95e4abcf002a5c703340f390a82",
      "original_position" : 46,
      "path" : "qa/rpc-tests/rpcnamedargs.py",
      "position" : 46,
      "pull_request_review_id" : 6627633,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85944558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "Concept ACK, needs rebase",
      "created_at" : "2016-11-08T13:37:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-259137932",
      "id" : 259137932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-08T13:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/259137932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5617245?v=3",
         "events_url" : "https://api.github.com/users/afk11/events{/privacy}",
         "followers_url" : "https://api.github.com/users/afk11/followers",
         "following_url" : "https://api.github.com/users/afk11/following{/other_user}",
         "gists_url" : "https://api.github.com/users/afk11/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/afk11",
         "id" : 5617245,
         "login" : "afk11",
         "organizations_url" : "https://api.github.com/users/afk11/orgs",
         "received_events_url" : "https://api.github.com/users/afk11/received_events",
         "repos_url" : "https://api.github.com/users/afk11/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/afk11/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/afk11/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/afk11"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87845118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87845118"
         }
      },
      "body" : "find returnvalue?  Just a guess.",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-14T17:05:31Z",
      "diff_hunk" : "@@ -418,6 +419,47 @@ std::string JSONRPCExecBatch(const UniValue& vReq)\n     return ret.write() + \"\\n\";\n }\n \n+/**\n+ * Process named arguments into a vector of positional arguments, based on the\n+ * passed-in specification for the RPC call's arguments.\n+ */\n+static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, const std::vector<std::string>& argNames)\n+{\n+    JSONRPCRequest out = in;\n+    out.params = UniValue(UniValue::VARR);\n+    // Build a map of parameters, and remove ones that have been processed, so that we can throw a focused error if\n+    // there is an unknown one.\n+    const std::vector<std::string>& keys = in.params.getKeys();\n+    const std::vector<UniValue>& values = in.params.getValues();\n+    std::unordered_map<std::string, const UniValue*> argsIn;\n+    for (size_t i=0; i<keys.size(); ++i) {\n+        argsIn[keys[i]] = &values[i];\n+    }\n+    // Process expected parameters.\n+    int hole = 0;\n+    for (const std::string &argName: argNames) {\n+        auto fr = argsIn.find(argName);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87845118",
      "id" : 87845118,
      "original_commit_id" : "0e2825c3779883b2d20d689575cbe4c061d7a92c",
      "original_position" : 63,
      "path" : "src/rpc/server.cpp",
      "position" : 63,
      "pull_request_review_id" : 8439765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87845118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7504522?v=3",
         "events_url" : "https://api.github.com/users/mrbandrews/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrbandrews/followers",
         "following_url" : "https://api.github.com/users/mrbandrews/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrbandrews/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrbandrews",
         "id" : 7504522,
         "login" : "mrbandrews",
         "organizations_url" : "https://api.github.com/users/mrbandrews/orgs",
         "received_events_url" : "https://api.github.com/users/mrbandrews/received_events",
         "repos_url" : "https://api.github.com/users/mrbandrews/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrbandrews/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrbandrews/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrbandrews"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87845478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87845478"
         }
      },
      "body" : "I added the test: \r\nassert_equal(node.echo(arg0=0,arg3=3,arg9=9), [0] + [None]*2 + [3] + [None]*5 + [9])\r\nVerified that with the code as is it fails, but with instagibbs fix of hole=0 it succeeds. \r\n",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-14T17:07:18Z",
      "diff_hunk" : "@@ -0,0 +1,53 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2016 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from decimal import Decimal\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.authproxy import JSONRPCException\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_jsonrpc,\n+    assert_is_hex_string,\n+    assert_is_hash_string,\n+    start_nodes,\n+    connect_nodes_bi,\n+)\n+\n+\n+class NamedArgumentTest(BitcoinTestFramework):\n+    \"\"\"\n+    Test named arguments on RPC calls.\n+    \"\"\"\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir)\n+        self.is_network_split = False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        h = node.help(command='getinfo')\n+        assert(h.startswith('getinfo\\n'))\n+\n+        assert_raises_jsonrpc(-8, node.help, random='getinfo')\n+\n+        h = node.getblockhash(index=0)\n+        node.getblock(hash=h)\n+\n+        assert_equal(node.echo(), [])\n+        assert_equal(node.echo(arg0=0,arg9=9), [0] + [None]*8 + [9])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87845478",
      "id" : 87845478,
      "original_commit_id" : "e4aa9b3bf140d95e4abcf002a5c703340f390a82",
      "original_position" : 46,
      "path" : "qa/rpc-tests/rpcnamedargs.py",
      "position" : 46,
      "pull_request_review_id" : 8440121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87845478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7504522?v=3",
         "events_url" : "https://api.github.com/users/mrbandrews/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrbandrews/followers",
         "following_url" : "https://api.github.com/users/mrbandrews/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrbandrews/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrbandrews",
         "id" : 7504522,
         "login" : "mrbandrews",
         "organizations_url" : "https://api.github.com/users/mrbandrews/orgs",
         "received_events_url" : "https://api.github.com/users/mrbandrews/received_events",
         "repos_url" : "https://api.github.com/users/mrbandrews/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrbandrews/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrbandrews/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrbandrews"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87977216"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87977216"
         }
      },
      "body" : "Yes, good catch, thanks!",
      "commit_id" : "3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-15T09:31:00Z",
      "diff_hunk" : "@@ -418,6 +419,47 @@ std::string JSONRPCExecBatch(const UniValue& vReq)\n     return ret.write() + \"\\n\";\n }\n \n+/**\n+ * Process named arguments into a vector of positional arguments, based on the\n+ * passed-in specification for the RPC call's arguments.\n+ */\n+static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, const std::vector<std::string>& argNames)\n+{\n+    JSONRPCRequest out = in;\n+    out.params = UniValue(UniValue::VARR);\n+    // Build a map of parameters, and remove ones that have been processed, so that we can throw a focused error if\n+    // there is an unknown one.\n+    const std::vector<std::string>& keys = in.params.getKeys();\n+    const std::vector<UniValue>& values = in.params.getValues();\n+    std::unordered_map<std::string, const UniValue*> argsIn;\n+    for (size_t i=0; i<keys.size(); ++i) {\n+        argsIn[keys[i]] = &values[i];\n+    }\n+    // Process expected parameters.\n+    int hole = 0;\n+    for (const std::string &argName: argNames) {\n+        auto fr = argsIn.find(argName);\n+        if (fr != argsIn.end()) {\n+            for (int i = 0; i < hole; ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#discussion_r87977216",
      "id" : 87977216,
      "original_commit_id" : "0e2825c3779883b2d20d689575cbe4c061d7a92c",
      "original_position" : 65,
      "path" : "src/rpc/server.cpp",
      "position" : 65,
      "pull_request_review_id" : 8564754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8811",
      "updated_at" : "2016-11-15T09:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/87977216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased, added @instagibbs' test and fix.",
      "created_at" : "2016-11-15T09:31:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-260591308",
      "id" : 260591308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-15T09:31:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260591308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2016-11-15T14:03:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-260649057",
      "id" : 260649057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-15T14:03:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260649057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7504522?v=3",
         "events_url" : "https://api.github.com/users/mrbandrews/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrbandrews/followers",
         "following_url" : "https://api.github.com/users/mrbandrews/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrbandrews/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrbandrews",
         "id" : 7504522,
         "login" : "mrbandrews",
         "organizations_url" : "https://api.github.com/users/mrbandrews/orgs",
         "received_events_url" : "https://api.github.com/users/mrbandrews/received_events",
         "repos_url" : "https://api.github.com/users/mrbandrews/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrbandrews/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrbandrews/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrbandrews"
      }
   },
   {
      "body" : "Concept ACK!\r\n\r\nDo you intend to include the echo command in the final merge?",
      "created_at" : "2016-11-15T18:12:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-260720295",
      "id" : 260720295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-15T18:12:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260720295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I've had use for it two times in testing - here and in #7783. Also I fathom it's somewhat useful for users when testing JSON RPC libraries. So my preference would be to keep it.",
      "created_at" : "2016-11-16T06:54:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-260868584",
      "id" : 260868584,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-16T06:54:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260868584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/8811/commits/3c7647ea7814f7d3f0304bb4b39274c748a88900",
      "created_at" : "2016-11-18T00:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8811#issuecomment-261409874",
      "id" : 261409874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8811",
      "updated_at" : "2016-11-18T00:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261409874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   }
]
