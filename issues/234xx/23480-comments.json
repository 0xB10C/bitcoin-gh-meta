[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23480#discussion_r747288559"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23480"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747288559"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think saying `tweaked key` could be confusing unless you know what's going on under the hood of taproot. Maybe something like `output key` would be better",
      "commit_id" : "252a9b832a196f00b383cd4c220e11eb38ad8f85",
      "created_at" : "2021-11-11T08:17:58Z",
      "diff_hunk" : "@@ -73,6 +73,7 @@ Descriptors consist of several types of expressions. The top level expression is\n - `tr(KEY)` or `tr(KEY,TREE)` (top level only): P2TR output with the specified key as internal key, and optionally a tree of script paths.\n - `addr(ADDR)` (top level only): the script which ADDR expands to.\n - `raw(HEX)` (top level only): the script whose hex encoding is HEX.\n+- `rawtr(KEY)` (top level only): P2TR output with the specified key as tweaked key.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23480#discussion_r747288559",
      "id" : 747288559,
      "line" : 76,
      "node_id" : "PRRC_kwDOABII584sirfv",
      "original_commit_id" : "252a9b832a196f00b383cd4c220e11eb38ad8f85",
      "original_line" : 76,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 4,
      "pull_request_review_id" : 803518657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23480",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747288559/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T08:17:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747288559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@apoelstra @real-or-random @jonasnick @sanket1729 Perhaps the documentation here needs some disclaimer at least about the potential pitfalls of using it directly to construct a wallet. It's not intended for that purpose, only for things like representing otherwise incomplete knowledge in e.g. inference, but adding it to the descriptor language does make it available for all purposes. Can you help think about examples/pitfalls that could be listed?",
      "created_at" : "2021-11-11T17:39:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23480#issuecomment-966492957",
      "id" : 966492957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23480",
      "node_id" : "IC_kwDOABII5845m4Md",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/966492957/reactions"
      },
      "updated_at" : "2021-11-11T17:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/966492957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23480#discussion_r747741109"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23480"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747741109"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree.",
      "commit_id" : "252a9b832a196f00b383cd4c220e11eb38ad8f85",
      "created_at" : "2021-11-11T18:51:54Z",
      "diff_hunk" : "@@ -73,6 +73,7 @@ Descriptors consist of several types of expressions. The top level expression is\n - `tr(KEY)` or `tr(KEY,TREE)` (top level only): P2TR output with the specified key as internal key, and optionally a tree of script paths.\n - `addr(ADDR)` (top level only): the script which ADDR expands to.\n - `raw(HEX)` (top level only): the script whose hex encoding is HEX.\n+- `rawtr(KEY)` (top level only): P2TR output with the specified key as tweaked key.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23480#discussion_r747741109",
      "id" : 747741109,
      "in_reply_to_id" : 747288559,
      "line" : 76,
      "node_id" : "PRRC_kwDOABII584skZ-1",
      "original_commit_id" : "252a9b832a196f00b383cd4c220e11eb38ad8f85",
      "original_line" : 76,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/descriptors.md",
      "position" : 4,
      "pull_request_review_id" : 804117657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23480",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747741109/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-11T18:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/747741109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Agreed that the documentation needs a disclaimer. The two drawbacks that I can think of.\r\n\r\n1) This one is listed in the BIP 341: If people directly use output keys in aggregation using proofs of knowledge.(https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#cite_ref-22-0)\r\n2) In future protocol constructions, it might be desirable to prove that there is no script path given TxOut/ScriptPubKey/Address. This is not possible when using rawtr(), but is possible with tr() by revealing the internal key.\r\n\r\nSome more points for discussion:\r\n\r\n- Can we separate descriptors into two types in the spec itself? So, we can have `addr`, `raw`, `rawtr` into the infer-only category. The rest into another category that we can sign. In the infer only category, we can restrict the KEY expression to be a concrete public key without any BIP32 derivations or wildcards.\r\n\r\n- Correct me if I am wrong if the only use of inferred descriptors is that I can give it another party for watching a particular txout for me without revealing/knowing how the txout was constructed. So, assuming we disallow signing `rawtr()` (to encourage the usage of `tr` ) is there is any use of `rawtr()` over `raw()`?  ",
      "created_at" : "2021-11-12T13:30:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23480#issuecomment-967120006",
      "id" : 967120006,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23480",
      "node_id" : "IC_kwDOABII5845pRSG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967120006/reactions"
      },
      "updated_at" : "2021-11-12T13:30:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967120006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6881849?v=4",
         "events_url" : "https://api.github.com/users/sanket1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sanket1729/followers",
         "following_url" : "https://api.github.com/users/sanket1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sanket1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sanket1729",
         "id" : 6881849,
         "login" : "sanket1729",
         "node_id" : "MDQ6VXNlcjY4ODE4NDk=",
         "organizations_url" : "https://api.github.com/users/sanket1729/orgs",
         "received_events_url" : "https://api.github.com/users/sanket1729/received_events",
         "repos_url" : "https://api.github.com/users/sanket1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sanket1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sanket1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sanket1729"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The only pitfall I see is the one mentioned by @sanket1729 : `rawtr()` is potentially incomplete information because there could always be another way to spend that you don't know about... But that's exactly its feature, so I guess it's fine. Anyway, I think if you do \"raw\" stuff, you should be know what you're doing. ",
      "created_at" : "2021-11-12T14:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23480#issuecomment-967152556",
      "id" : 967152556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23480",
      "node_id" : "IC_kwDOABII5845pZOs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967152556/reactions"
      },
      "updated_at" : "2021-11-12T14:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/967152556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   }
]
