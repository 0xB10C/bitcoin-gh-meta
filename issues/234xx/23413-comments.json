[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23226](https://github.com/bitcoin/bitcoin/pull/23226) (c++20: Opt-in to modeling view and borrowed_range for Span by theuni)\n* [#22558](https://github.com/bitcoin/bitcoin/pull/22558) (psbt: Taproot fields for PSBT by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n* [#17034](https://github.com/bitcoin/bitcoin/pull/17034) ([BIP 174] PSBT version, proprietary, and xpub fields by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-01T21:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#issuecomment-956588653",
      "id" : 956588653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23413",
      "node_id" : "IC_kwDOABII5845BGJt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956588653/reactions"
      },
      "updated_at" : "2021-11-01T21:04:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/956588653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r740939270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740939270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is missing the `(T*, T*)` or `(It, It)` deduction. See (1) in https://en.cppreference.com/w/cpp/container/span/deduction_guides",
      "commit_id" : "a9526cf2d6af69cf0dde3e4ac6bada0202548acc",
      "created_at" : "2021-11-02T10:51:03Z",
      "diff_hunk" : "@@ -217,13 +217,17 @@ class Span\n     template <typename O> friend class Span;\n };\n \n-// MakeSpan helps constructing a Span of the right type automatically.\n-/** MakeSpan for arrays: */\n-template <typename A, int N> Span<A> constexpr MakeSpan(A (&a)[N]) { return Span<A>(a, N); }\n-/** MakeSpan for temporaries / rvalue references, only supporting const output. */\n-template <typename V> constexpr auto MakeSpan(V&& v SPAN_ATTR_LIFETIMEBOUND) -> typename std::enable_if<!std::is_lvalue_reference<V>::value, Span<const typename std::remove_pointer<decltype(v.data())>::type>>::type { return std::forward<V>(v); }\n-/** MakeSpan for (lvalue) references, supporting mutable output. */\n-template <typename V> constexpr auto MakeSpan(V& v SPAN_ATTR_LIFETIMEBOUND) -> Span<typename std::remove_pointer<decltype(v.data())>::type> { return v; }\n+// Deduction guides for Span\n+// For the pointer/size based constructor:\n+template <typename T> Span(T*, size_t) -> Span<T>;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r740939270",
      "id" : 740939270,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sKdYG",
      "original_commit_id" : "94176a0c70264c633f1bb2d733ebce09877c04fe",
      "original_line" : 222,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/span.h",
      "position" : null,
      "pull_request_review_id" : 795168989,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740939270/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-02T11:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740939270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r740955533"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740955533"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why is this needed?",
      "commit_id" : "a9526cf2d6af69cf0dde3e4ac6bada0202548acc",
      "created_at" : "2021-11-02T11:13:31Z",
      "diff_hunk" : "@@ -217,13 +217,17 @@ class Span\n     template <typename O> friend class Span;\n };\n \n-// MakeSpan helps constructing a Span of the right type automatically.\n-/** MakeSpan for arrays: */\n-template <typename A, int N> Span<A> constexpr MakeSpan(A (&a)[N]) { return Span<A>(a, N); }\n-/** MakeSpan for temporaries / rvalue references, only supporting const output. */\n-template <typename V> constexpr auto MakeSpan(V&& v SPAN_ATTR_LIFETIMEBOUND) -> typename std::enable_if<!std::is_lvalue_reference<V>::value, Span<const typename std::remove_pointer<decltype(v.data())>::type>>::type { return std::forward<V>(v); }\n-/** MakeSpan for (lvalue) references, supporting mutable output. */\n-template <typename V> constexpr auto MakeSpan(V& v SPAN_ATTR_LIFETIMEBOUND) -> Span<typename std::remove_pointer<decltype(v.data())>::type> { return v; }\n+// Deduction guides for Span\n+// For the pointer/size based constructor:\n+template <typename T> Span(T*, size_t) -> Span<T>;\n+// For the array constructor:\n+template <typename T, std::size_t N> Span(T (&)[N]) -> Span<T>;\n+// For the temporaries/rvalue references constructor, only supporting const output.\n+template <typename T> Span(T&&) -> Span<std::enable_if_t<!std::is_lvalue_reference_v<T>, const std::remove_pointer_t<decltype(std::declval<T&&>().data())>>>;\n+// For (lvalue) references, supporting mutable output.\n+template <typename T> Span(T&) -> Span<std::remove_pointer_t<decltype(std::declval<T&>().data())>>;\n+// For the copy constructor\n+template <typename T> Span(const Span<T>&) -> Span<T>;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r740955533",
      "id" : 740955533,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sKhWN",
      "original_commit_id" : "94176a0c70264c633f1bb2d733ebce09877c04fe",
      "original_line" : 230,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/span.h",
      "position" : null,
      "pull_request_review_id" : 795168989,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740955533/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-02T11:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740955533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r741082769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741082769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is not, after reading more about deductions.",
      "commit_id" : "a9526cf2d6af69cf0dde3e4ac6bada0202548acc",
      "created_at" : "2021-11-02T13:58:19Z",
      "diff_hunk" : "@@ -217,13 +217,17 @@ class Span\n     template <typename O> friend class Span;\n };\n \n-// MakeSpan helps constructing a Span of the right type automatically.\n-/** MakeSpan for arrays: */\n-template <typename A, int N> Span<A> constexpr MakeSpan(A (&a)[N]) { return Span<A>(a, N); }\n-/** MakeSpan for temporaries / rvalue references, only supporting const output. */\n-template <typename V> constexpr auto MakeSpan(V&& v SPAN_ATTR_LIFETIMEBOUND) -> typename std::enable_if<!std::is_lvalue_reference<V>::value, Span<const typename std::remove_pointer<decltype(v.data())>::type>>::type { return std::forward<V>(v); }\n-/** MakeSpan for (lvalue) references, supporting mutable output. */\n-template <typename V> constexpr auto MakeSpan(V& v SPAN_ATTR_LIFETIMEBOUND) -> Span<typename std::remove_pointer<decltype(v.data())>::type> { return v; }\n+// Deduction guides for Span\n+// For the pointer/size based constructor:\n+template <typename T> Span(T*, size_t) -> Span<T>;\n+// For the array constructor:\n+template <typename T, std::size_t N> Span(T (&)[N]) -> Span<T>;\n+// For the temporaries/rvalue references constructor, only supporting const output.\n+template <typename T> Span(T&&) -> Span<std::enable_if_t<!std::is_lvalue_reference_v<T>, const std::remove_pointer_t<decltype(std::declval<T&&>().data())>>>;\n+// For (lvalue) references, supporting mutable output.\n+template <typename T> Span(T&) -> Span<std::remove_pointer_t<decltype(std::declval<T&>().data())>>;\n+// For the copy constructor\n+template <typename T> Span(const Span<T>&) -> Span<T>;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r741082769",
      "id" : 741082769,
      "in_reply_to_id" : 740955533,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sLAaR",
      "original_commit_id" : "94176a0c70264c633f1bb2d733ebce09877c04fe",
      "original_line" : 230,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/span.h",
      "position" : null,
      "pull_request_review_id" : 795367758,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741082769/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-02T13:58:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741082769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r741104405"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741104405"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed, fixed.",
      "commit_id" : "a9526cf2d6af69cf0dde3e4ac6bada0202548acc",
      "created_at" : "2021-11-02T14:20:45Z",
      "diff_hunk" : "@@ -217,13 +217,17 @@ class Span\n     template <typename O> friend class Span;\n };\n \n-// MakeSpan helps constructing a Span of the right type automatically.\n-/** MakeSpan for arrays: */\n-template <typename A, int N> Span<A> constexpr MakeSpan(A (&a)[N]) { return Span<A>(a, N); }\n-/** MakeSpan for temporaries / rvalue references, only supporting const output. */\n-template <typename V> constexpr auto MakeSpan(V&& v SPAN_ATTR_LIFETIMEBOUND) -> typename std::enable_if<!std::is_lvalue_reference<V>::value, Span<const typename std::remove_pointer<decltype(v.data())>::type>>::type { return std::forward<V>(v); }\n-/** MakeSpan for (lvalue) references, supporting mutable output. */\n-template <typename V> constexpr auto MakeSpan(V& v SPAN_ATTR_LIFETIMEBOUND) -> Span<typename std::remove_pointer<decltype(v.data())>::type> { return v; }\n+// Deduction guides for Span\n+// For the pointer/size based constructor:\n+template <typename T> Span(T*, size_t) -> Span<T>;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#discussion_r741104405",
      "id" : 741104405,
      "in_reply_to_id" : 740939270,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584sLFsV",
      "original_commit_id" : "94176a0c70264c633f1bb2d733ebce09877c04fe",
      "original_line" : 222,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/span.h",
      "position" : null,
      "pull_request_review_id" : 795429217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23413",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741104405/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-02T14:20:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741104405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks, @MarcoFalke! I've incorporated your suggested changes, plus a few additional simplifications in a second commit.",
      "created_at" : "2021-11-02T14:21:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23413#issuecomment-957683249",
      "id" : 957683249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23413",
      "node_id" : "IC_kwDOABII5845FRYx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957683249/reactions"
      },
      "updated_at" : "2021-11-02T14:21:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/957683249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
