[
   {
      "author_association" : "MEMBER",
      "body" : "Not sure if this is worth doing... maxtxfee to me is more of a sanity check against insane fee creation.\r\n\r\nThere are two ways of quickly generating transactions with RPC:\r\n* `sendtoaddress` or `sandmany` (no fee control)\r\n\r\nor:\r\n* `createrawtransaction [] {\"address\":<amount>}`\r\n* `fundrawtransaction <hex> <options>` (can define feerate, etc.)\r\n* (can check fee)\r\n* `signrawtransaction <hex>`\r\n* `sendrawtransaction <hex>`",
      "created_at" : "2018-12-11T19:03:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446321437",
      "id" : 446321437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMyMTQzNw==",
      "updated_at" : "2018-12-11T19:03:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446321437",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "The problem with those methods is that you only have control of the feerate, but not the absolute amount of fees. However sometimes you want to make a payment, but only if you can do at a certain price (otherwise you'd rather wait, consolidate first or lower the feerate)",
      "created_at" : "2018-12-11T19:09:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446323619",
      "id" : 446323619,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMyMzYxOQ==",
      "updated_at" : "2018-12-11T19:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446323619",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I see your use case... which eventually is an edge case. It is solvable with a simple logic:\r\n* `createrawtransaction [] {\"address\":<amount>}`\r\n* `fundrawtransaction <hex> <options>`\r\n* check absolute fee (will be returned `fundrawtransaction`)\r\n* Eventually check amount of inputs (`decoderawtransaction(<hex>)[vin].size()`)\r\n* \"Execute\" (sign/send) transaction or wait and do steps again",
      "created_at" : "2018-12-11T19:18:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446326626",
      "id" : 446326626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMyNjYyNg==",
      "updated_at" : "2018-12-11T19:18:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446326626",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonasschnelli I agree it's possible to manually check the fee before broadcasting, but on account of there already being a `maxtxfee` setting, it would obviously be easier for a caller to use that.\r\n\r\nBut the real advantage of using the `maxtxfee` is that now the wallet is aware of our constraints, and can make an effort to work under them. ",
      "created_at" : "2018-12-11T19:30:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446330862",
      "id" : 446330862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMzMDg2Mg==",
      "updated_at" : "2018-12-11T19:30:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446330862",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The constraint you where describing seems to be on a per-transaction basis.\r\n\r\nI don't think using a global `maxtxfee` for a such use-case is wise.\r\nSince the usecase you describe if per transaction and per wallet basis, `maxtxfee` is global and will have affect on all wallets and all transactions.\r\n\r\nAlso, in general, users got really confused with absolute fees versus feerates.\r\nI think it's our duty to make people aware that transactions have different sizes (depending on the amount of inputs) and absolute fees is in general a flawed concept.",
      "created_at" : "2018-12-11T19:33:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446332174",
      "id" : 446332174,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMzMjE3NA==",
      "updated_at" : "2018-12-11T19:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446332174",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yeah, on a per-transaction basis would be ideal. I just imagine it's a lot more work to add.",
      "created_at" : "2018-12-11T19:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446333856",
      "id" : 446333856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjMzMzg1Ng==",
      "updated_at" : "2018-12-11T19:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446333856",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> and can make an effort to work under them.\r\n\r\nAFAICK it already tries to minimize the fee/input set. So when it hits that `-maxtxfee` check it's kind of pointless doing backtracking.",
      "created_at" : "2018-12-12T15:49:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446635818",
      "id" : 446635818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjYzNTgxOA==",
      "updated_at" : "2018-12-12T15:49:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446635818",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@promag I don't believe that's how the algorithm works at all. I believe it first it prioritizes creating transactions with no-change, and then failing that prioritizes minimizing the change output as opposed to minimizing the fees or input set.",
      "created_at" : "2018-12-12T17:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14927#issuecomment-446677548",
      "id" : 446677548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjY3NzU0OA==",
      "updated_at" : "2018-12-12T17:44:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446677548",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/36307021?v=4",
         "events_url" : "https://api.github.com/users/madeken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/madeken/followers",
         "following_url" : "https://api.github.com/users/madeken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/madeken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/madeken",
         "id" : 36307021,
         "login" : "madeken",
         "node_id" : "MDQ6VXNlcjM2MzA3MDIx",
         "organizations_url" : "https://api.github.com/users/madeken/orgs",
         "received_events_url" : "https://api.github.com/users/madeken/received_events",
         "repos_url" : "https://api.github.com/users/madeken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/madeken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/madeken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/madeken"
      }
   }
]
