[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23171](https://github.com/bitcoin/bitcoin/pull/23171) (qa: test descriptors with mixed xpubs and const pubkeys by darosior)\n* [#22260](https://github.com/bitcoin/bitcoin/pull/22260) (Make bech32m the default, except where needed. Update GUI checkbox. by Sjors)\n* [#19602](https://github.com/bitcoin/bitcoin/pull/19602) (wallet: Migrate legacy wallets to descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-08-30T22:28:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-908748127",
      "id" : 908748127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5842KmVf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908748127/reactions"
      },
      "updated_at" : "2021-10-05T17:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/908748127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Strong concept ACK!\r\n\r\nGlad this is getting a fix.  As discussed in 17190 and OP, there's more improvements that can come after this.\r\n",
      "created_at" : "2021-09-01T05:48:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-909916556",
      "id" : 909916556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5842PDmM",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-01T05:48:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909916556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept and Approach ACK. I plan on updating the test and docs introduced in #22067 to take advantage of this in a follow up PR. So I will try to do a more thorough review and testing of this after that is merged and I start on the followup based on this branch. (or if it looks like this will get merged first I will do that earlier)",
      "created_at" : "2021-09-03T19:10:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-912752496",
      "id" : 912752496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5842Z39w",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-03T19:10:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912752496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Note that the path specifier is different from what was proposed. It uses angle brackets and the semicolon because these are unused characters available in the character set and I wanted to avoid conflicts with characters already in use in descriptors.\r\n\r\n`{0,1}` seems more readable and would at least be a subset of [BIP 88](https://github.com/bitcoin/bips/blob/master/bip-0088.mediawiki). The conflict is with taproot descriptors, which use `{` and `,` for nesting the scripts.\r\n\r\nAs an example `tr([00000000/1']xpub/{0,1}/*,{pk([00000000/2']xpub/{0,1}/*),pk([00000000/3']xpub/{0,1}/*)})` doesn't look terrible to me. How much does it really complicate the parsing code? They're always either inside `()` of a descriptor function like `pkh()` or within `[]` of an origin (if we even allow that).\r\n\r\nAllowing a mix of hardened and unhardened like `<0;1h>` seems unnecessary to me and might make alternative implementations more complicated (though perhaps it's trivial; I haven't tried).",
      "created_at" : "2021-09-29T09:36:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-930013431",
      "id" : 930013431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5843buD3",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T09:36:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930013431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The conflict is with taproot descriptors, which use `{` and `,` for nesting the scripts.\r\n\r\nThe conflict is actually with the `,` in a variety of descriptors. The particular issue I had run into was using `,` in a `multi()` descriptor. Since `,` is used to separate the components of `multi()`, the parser would look for the next `,` for the next item to parse. If we use `,` for the multipath specifier, then it would run into that and parse too little. The parser could be changed to not do that, but that was more work than to just use unused characters. `{` did not cause any issues, but to make it easier for other implementations which may be parsing differently, I decided to go with a different character as well.",
      "created_at" : "2021-09-29T17:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-930374136",
      "id" : 930374136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5843dGH4",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T17:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930374136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm doing some more review/testing of this PR, but when I checkout this PR and rebase to master, I get build error:\r\n```bash\r\nwallet/rpcwallet.cpp:3387:45: error: no viable conversion from 'std::pair<std::unique_ptr<Descriptor>, std::unique_ptr<Descriptor> >' to 'std::unique_ptr<Descriptor>'\r\n  std::unique_ptr<Descriptor> desc = Parse(desc_str, desc_out, error, true);\r\n```",
      "created_at" : "2021-10-18T19:09:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22838#issuecomment-946080177",
      "id" : 946080177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22838",
      "node_id" : "IC_kwDOABII5844ZAmx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/946080177/reactions"
      },
      "updated_at" : "2021-10-18T19:09:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/946080177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   }
]
