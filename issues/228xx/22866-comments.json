[
   {
      "author_association" : "MEMBER",
      "body" : "See also #16719 (gRPC)",
      "created_at" : "2021-09-14T09:05:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22866#issuecomment-918960017",
      "id" : 918960017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22866",
      "node_id" : "IC_kwDOABII5842xjeR",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-14T09:05:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918960017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Example encoding of `createrawtransaction` body:\r\n\r\nJSON:\r\n\r\n```python\r\n\"{'txid':'b4cc287e58f87cdae59417329f710f3ecd75a4ee1d2872b7248f50977c8493f3','vout':1,'scriptPubKey':'a914b10c9df5f7edf436c697f02f1efdba4cf399615187','redeemScript':'512103debedc17b3df2badbcdd86d5feb4562b86fe182e5998abd8bcd4f122c6155b1b21027e940bb73ab8732bfdf7f9216ecefca5b94d6df834e77e108f68e66f126044c052ae'}\"\r\n```\r\n\r\nCBOR:\r\n\r\n```python\r\nb'\\xa4dtxid\\x98 \\x0b\\x0c\\x02\\x07\\x05\\x0f\\x07\\r\\x0e\\t\\x01\\x03\\t\\x07\\x00\\x03\\x0c\\x07\\n\\x0e\\x01\\x02\\x07\\x0b\\x02\\x08\\x05\\t\\x07\\x08\\t\\x0fdvout\\x01lscriptPubKey\\x97\\n\\x01\\x0b\\x00\\t\\x0f\\x0f\\x0e\\x0f\\x03\\x0c\\t\\x0f\\x02\\x01\\x0f\\x0b\\x04\\x0f\\t\\x06\\x05\\x08lredeemScript\\x98G\\x05\\x02\\x00\\r\\x0b\\r\\x01\\x0b\\r\\x02\\n\\x0b\\r\\x08\\r\\x0f\\x0b\\x05\\x02\\x08\\x0f\\x01\\x02\\x05\\t\\n\\r\\x0b\\r\\x0f\\x02\\x0c\\x01\\x05\\x01\\x02\\x00\\x07\\t\\x00\\x0b\\x03\\x0b\\x07\\x02\\x0f\\x0f\\x0f\\x02\\x06\\x0c\\x0f\\n\\x0b\\x04\\x06\\x0f\\x03\\x0e\\x07\\x01\\x08\\x06\\x0e\\x06\\x01\\x06\\x04\\x0c\\x05\\n'\r\n```\r\n\r\n- JSON length: 308\r\n- CBOR length: 169\r\n\r\nCBOR serialization with [cbor2](https://github.com/agronholm/cbor2) python library\r\n\r\ntest script:\r\n\r\n```python\r\nimport cbor2\r\n\r\ntx={'txid': 'b4cc287e58f87cdae59417329f710f3ecd75a4ee1d2872b7248f50977c8493f3', 'vout': 1, 'scriptPubKey': 'a914b10c9df5f7edf436c697f02f1efdba4cf399615187', 'redeemScript': '512103debedc17b3df2badbcdd86d5feb4562b86fe182e5998abd8bcd4f122c6155b1b21027e940bb73ab8732bfdf7f9216ecefca5b94d6df834e77e108f68e66f126044c052ae'}\r\n# naive JSON, no compression\r\ntxjson=\"{'txid':'b4cc287e58f87cdae59417329f710f3ecd75a4ee1d2872b7248f50977c8493f3','vout':1,'scriptPubKey':'a914b10c9df5f7edf436c697f02f1efdba4cf399615187','redeemScript':'512103debedc17b3df2badbcdd86d5feb4562b86fe182e5998abd8bcd4f122c6155b1b21027e940bb73ab8732bfdf7f9216ecefca5b94d6df834e77e108f68e66f126044c052ae'}\"\r\n# decode hex values to bytes\r\ntxid=b\"\".join([int(x, 16).to_bytes(1, 'little') for x in 'b4cc287e58f87cdae59417329f710f3ecd75a4ee1d2872b7248f50977c8493f3'[::2]])\r\nscriptPubKey=b\"\".join([int(x, 16).to_bytes(1, 'little') for x in 'a914b10c9df5f7edf436c697f02f1efdba4cf399615187'[::2]])\r\nredeemScript=b\"\".join([int(x, 16).to_bytes(1, 'little') for x in '512103debedc17b3df2badbcdd86d5feb4562b86fe182e5998abd8bcd4f122c6155b1b21027e940bb73ab8732bfdf7f9216ecefca5b94d6df834e77e108f68e66f126044c052ae'[::2]])\r\n# encode to CBOR binary string\r\ntxcbor=cbor2.dumps({\"txid\": txid, \"vout\": 1, \"scriptPubKey\": scriptPubKey, \"redeemScript\": redeemScript})\r\njson_len = len(txjson)\r\ncbor_len = len(txcbor)\r\n```",
      "created_at" : "2021-09-14T19:50:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22866#issuecomment-919464563",
      "id" : 919464563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22866",
      "node_id" : "IC_kwDOABII5842zepz",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-14T19:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919464563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/80422284?v=4",
         "events_url" : "https://api.github.com/users/GeneFerneau/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GeneFerneau/followers",
         "following_url" : "https://api.github.com/users/GeneFerneau/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GeneFerneau/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GeneFerneau",
         "id" : 80422284,
         "login" : "GeneFerneau",
         "node_id" : "MDQ6VXNlcjgwNDIyMjg0",
         "organizations_url" : "https://api.github.com/users/GeneFerneau/orgs",
         "received_events_url" : "https://api.github.com/users/GeneFerneau/received_events",
         "repos_url" : "https://api.github.com/users/GeneFerneau/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GeneFerneau/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GeneFerneau/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GeneFerneau"
      }
   }
]
