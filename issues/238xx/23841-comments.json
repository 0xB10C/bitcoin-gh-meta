[
   {
      "author_association" : "MEMBER",
      "body" : "Nice catch.\n\nCScript::ParseScript shouldn't be consensus-critical though.",
      "created_at" : "2021-12-22T17:25:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-999744608",
      "id" : 999744608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII5847luRg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999744608/reactions"
      },
      "updated_at" : "2021-12-22T17:25:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999744608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some discussion from IRC:\r\n```\r\n12:21 <MarcoFalke> jamesob: Integer overflow inside atoi is UB or at least unspecified behavior, last time I checked\r\n12:22 <MarcoFalke> That is: Parsing 999999999999 can give you any value (it doesn't have to be 0 or max or 999999999999 mod max)\r\n12:23 <MarcoFalke> jamesob: It is also not used in consensus code, so this is not a consensus change\r\n12:24 <jamesob> this is not consensus? https://github.com/bitcoin/bitcoin/pull/20452/files#diff-1db27ed1bfbf61ea0fe64447413ef9f24238be710e7ca4ae9c7bc7a5c994eca0L72-R72\r\n12:26 <jamesob> so here's the tricky thing: our atoi64 wasn't actually using atoi, but strtoll - for which oveflow behavior is well defined: \"The strtol() function returns the result of the conversion, unless the value would underflow or overflow. If an underflow occurs, strtol() returns LONG_MIN. If an overflow occurs, strtol() returns LONG_MAX.\"\r\n12:26 <jamesob> (\"The strtoll() function works just like the strtol() function but returns a long long integer value.\")\r\n12:28 <MarcoFalke> Yeah, not consensus. Could be used by bitcoin-util or some RPC function.\r\n12:29 <jamesob> Phew\r\n```",
      "created_at" : "2021-12-22T17:29:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-999747601",
      "id" : 999747601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII5847lvAR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999747601/reactions"
      },
      "updated_at" : "2021-12-22T17:29:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999747601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Indeed good catch, I wasn't aware it is safe and saturating to produce an overflow. Still, an explicit error would be better than silent saturation. See also https://github.com/bitcoin/bitcoin/pull/17385/files#diff-19427b0dd1a791adc728c82e88f267751ba4f1c751e19262cac03cccd2822216R509",
      "created_at" : "2021-12-22T17:36:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-999751569",
      "id" : 999751569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII5847lv-R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999751569/reactions"
      },
      "updated_at" : "2021-12-22T17:36:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999751569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've pushed a change that restores compatibility by introducing a new function, `LocaleIndependentAtoi64`. This is specifically not a template specialization of its more generic cousin because the under-/overflow behavior differs (as was the case previously with our `atoi64` implementation). A compile error is rendered if someone attempts to use the generic version with `int64_t` types.\r\n\r\nI've also added tests for `GetIntArg` that assert the saturation behavior.\r\n\r\nWhen this is merged I'll make a follow-up issue to surface InitErrors instead of saturating, which would be a good first issue I think.",
      "created_at" : "2021-12-22T19:25:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-999811680",
      "id" : 999811680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII5847l-pg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999811680/reactions"
      },
      "updated_at" : "2021-12-22T19:25:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/999811680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17783](https://github.com/bitcoin/bitcoin/pull/17783) (util: Fix -norpcwhitelist, -norpcallowip, and similar corner case behavior by ryanofsky)\n* [#17581](https://github.com/bitcoin/bitcoin/pull/17581) (refactor: Remove settings merge reverse precedence code by ryanofsky)\n* [#17580](https://github.com/bitcoin/bitcoin/pull/17580) (refactor: Add ALLOW_LIST flags and enforce usage in CheckArgFlags by ryanofsky)\n* [#17493](https://github.com/bitcoin/bitcoin/pull/17493) (util: Forbid ambiguous multiple assignments in config file by ryanofsky)\n* [#16545](https://github.com/bitcoin/bitcoin/pull/16545) (refactor: Implement missing error checking for ArgsManager flags by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-12-23T07:03:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-1000089423",
      "id" : 1000089423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII5847nCdP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1000089423/reactions"
      },
      "updated_at" : "2021-12-31T07:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1000089423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If you want this merged, please make sure that each commit compiles and passes all tests. Otherwise it will break git bisect.",
      "created_at" : "2022-01-03T14:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#issuecomment-1004149191",
      "id" : 1004149191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23841",
      "node_id" : "IC_kwDOABII58472hnH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004149191/reactions"
      },
      "updated_at" : "2022-01-03T14:59:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004149191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23841#discussion_r777885142"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23841"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/777885142"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How is this different from the line preceding it?",
      "commit_id" : "c0be750b20ba17340b35ac209d2e7faff7e43d15",
      "created_at" : "2022-01-04T07:59:34Z",
      "diff_hunk" : "@@ -140,9 +141,12 @@ BOOST_AUTO_TEST_CASE(intarg)\n     BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 11), 11);\n     BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 0), 0);\n \n-    ResetArgs(\"-foo -bar\");\n-    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 11), 0);\n-    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-bar\", 11), 0);\n+    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 0), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#discussion_r777885142",
      "id" : 777885142,
      "line" : 144,
      "node_id" : "PRRC_kwDOABII584uXZXW",
      "original_commit_id" : "c0be750b20ba17340b35ac209d2e7faff7e43d15",
      "original_line" : 144,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/test/getarg_tests.cpp",
      "position" : 15,
      "pull_request_review_id" : 843281537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23841",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/777885142/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-04T08:02:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/777885142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23841#discussion_r778284453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23841"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/778284453"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, this looks like a mistaken edit.",
      "commit_id" : "ac1a5b113ccdace4d7f04e2e8c4089e397b5c0b4",
      "created_at" : "2022-01-04T18:03:43Z",
      "diff_hunk" : "@@ -140,9 +141,12 @@ BOOST_AUTO_TEST_CASE(intarg)\n     BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 11), 11);\n     BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 0), 0);\n \n-    ResetArgs(\"-foo -bar\");\n-    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 11), 0);\n-    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-bar\", 11), 0);\n+    BOOST_CHECK_EQUAL(m_local_args.GetIntArg(\"-foo\", 0), 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23841#discussion_r778284453",
      "id" : 778284453,
      "in_reply_to_id" : 777885142,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584uY62l",
      "original_commit_id" : "c0be750b20ba17340b35ac209d2e7faff7e43d15",
      "original_line" : 144,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/test/getarg_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 843857178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23841",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/778284453/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-04T18:03:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/778284453",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   }
]
