[
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 154307c10b0d3c0e7dfbe463de7d040b2eb97c74 -> c4476a5ea787e3722d8c1e5fed5f0c6e2a554327 ([pr23897.01](https://github.com/hebasto/bitcoin/commits/pr23897.01) -> [pr23897.02](https://github.com/hebasto/bitcoin/commits/pr23897.02)) on top of the merged #23683.",
      "created_at" : "2022-01-03T14:47:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1004142158",
      "id" : 1004142158,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII58472f5O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004142158/reactions"
      },
      "updated_at" : "2022-01-03T14:47:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004142158",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25073](https://github.com/bitcoin/bitcoin/pull/25073) (test: Cleanup miner_tests by MarcoFalke)\n* [#24567](https://github.com/bitcoin/bitcoin/pull/24567) (Enforce BIP 68 from genesis by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-01-03T15:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1004152066",
      "id" : 1004152066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII58472iUC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004152066/reactions"
      },
      "updated_at" : "2022-10-06T18:14:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1004152066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-19T15:01:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1016552290",
      "id" : 1016552290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII5848l1ti",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016552290/reactions"
      },
      "updated_at" : "2022-01-19T15:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016552290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased c4476a5ea787e3722d8c1e5fed5f0c6e2a554327 -> 220475bdbca0598c6f5158e870b89ff9503a7258 ([pr23897.02](https://github.com/hebasto/bitcoin/commits/pr23897.02) -> [pr23897.03](https://github.com/hebasto/bitcoin/commits/pr23897.03)) on top of the merged #23976.",
      "created_at" : "2022-01-19T21:53:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1016901169",
      "id" : 1016901169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII5848nK4x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016901169/reactions"
      },
      "updated_at" : "2022-01-19T21:53:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1016901169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792573355"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573355"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It would be nice to remove the raw pointers while we're changing the interface anyway. I think a better interface is to have `CalculateLockPoints()` return a `std::optional<LockPoints>` which encodes the same information as the bool.",
      "commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "created_at" : "2022-01-26T12:08:36Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792573355",
      "id" : 792573355,
      "line" : 219,
      "node_id" : "PRRC_kwDOABII584vPbWr",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 219,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 9,
      "pull_request_review_id" : 863454325,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573355/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T12:20:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573355",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792573702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573702"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can be replaced with a `LogPrintf` and `return std::nullopt`. Also seems like this log could be improved by adding the transaction id and/or prevout that is missing.",
      "commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "created_at" : "2022-01-26T12:09:03Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)\n+{\n+    assert(tip);\n+    assert(lp);\n+\n+    CBlockIndex index;\n+    index.pprev = tip;\n+    // CheckSequenceLocks() uses active_chainstate.m_chain.Height()+1 to evaluate\n+    // height based locks because when SequenceLocks() is called within\n+    // ConnectBlock(), the height of the block *being*\n+    // evaluated is what is used.\n+    // Thus if we want to know if a transaction can be part of the\n+    // *next* block, we need to use one more than active_chainstate.m_chain.Height()\n+    index.nHeight = tip->nHeight + 1;\n+\n+    std::vector<int> prevheights;\n+    prevheights.resize(tx.vin.size());\n+    for (size_t txinIndex = 0; txinIndex < tx.vin.size(); ++txinIndex) {\n+        const CTxIn& txin = tx.vin[txinIndex];\n+        Coin coin;\n+        if (!coins_view.GetCoin(txin.prevout, coin)) {\n+            return error(\"%s: Missing input\", __func__);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792573702",
      "id" : 792573702,
      "line" : 240,
      "node_id" : "PRRC_kwDOABII584vPbcG",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 240,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 30,
      "pull_request_review_id" : 863454325,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T12:20:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792573702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792574579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792574579"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same here, would be nice to remove the raw pointer and make this parameter a `const LockPoints& lp`. It doesn't make sense to allow a nullptr `lp` to be passed in anymore, since we can't check sequence locks on empty lockpoints anyway.",
      "commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "created_at" : "2022-01-26T12:10:21Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)\n+{\n+    assert(tip);\n+    assert(lp);\n+\n+    CBlockIndex index;\n+    index.pprev = tip;\n+    // CheckSequenceLocks() uses active_chainstate.m_chain.Height()+1 to evaluate\n+    // height based locks because when SequenceLocks() is called within\n+    // ConnectBlock(), the height of the block *being*\n+    // evaluated is what is used.\n+    // Thus if we want to know if a transaction can be part of the\n+    // *next* block, we need to use one more than active_chainstate.m_chain.Height()\n+    index.nHeight = tip->nHeight + 1;\n+\n+    std::vector<int> prevheights;\n+    prevheights.resize(tx.vin.size());\n+    for (size_t txinIndex = 0; txinIndex < tx.vin.size(); ++txinIndex) {\n+        const CTxIn& txin = tx.vin[txinIndex];\n+        Coin coin;\n+        if (!coins_view.GetCoin(txin.prevout, coin)) {\n+            return error(\"%s: Missing input\", __func__);\n+        }\n+        if (coin.nHeight == MEMPOOL_HEIGHT) {\n+            // Assume all mempool transaction confirm in the next block\n+            prevheights[txinIndex] = tip->nHeight + 1;\n+        } else {\n+            prevheights[txinIndex] = coin.nHeight;\n+        }\n+    }\n+\n+    const std::pair<int, int64_t> lock_pair{CalculateSequenceLocks(tx, flags, prevheights, index)};\n+    lp->height = lock_pair.first;\n+    lp->time = lock_pair.second;\n+    // Also store the hash of the block with the highest height of\n+    // all the blocks which have sequence locked prevouts.\n+    // This hash needs to still be on the chain\n+    // for these LockPoint calculations to be valid\n+    // Note: It is impossible to correctly calculate a maxInputBlock\n+    // if any of the sequence locked inputs depend on unconfirmed txs,\n+    // except in the special case where the relative lock time/height\n+    // is 0, which is equivalent to no sequence lock. Since we assume\n+    // input height of tip+1 for mempool txs and test the resulting\n+    // lock_pair from CalculateSequenceLocks against tip+1.  We know\n+    // EvaluateSequenceLocks will fail if there was a non-zero sequence\n+    // lock on a mempool input, so we can use the return value of\n+    // CheckSequenceLocks to indicate the LockPoints validity\n+    int max_input_height{0};\n+    for (const int height : prevheights) {\n+        // Can ignore mempool inputs since we'll fail if they had non-zero locks\n+        if (height != tip->nHeight + 1) {\n+            max_input_height = std::max(max_input_height, height);\n+        }\n+    }\n+    lp->maxInputBlock = tip->GetAncestor(max_input_height);\n+\n+    return true;\n+}\n+\n bool CheckSequenceLocks(CBlockIndex* tip,\n-                        const CCoinsView& coins_view,\n-                        const CTransaction& tx,\n-                        int flags,\n-                        LockPoints* lp,\n-                        bool useExistingLockPoints)\n+                        const LockPoints* lp)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792574579",
      "id" : 792574579,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII584vPbpz",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 279,
      "original_position" : 74,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 74,
      "pull_request_review_id" : 863454325,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792574579/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T12:20:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792574579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792578100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792578100"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note that we do have a bit of a behavior change here: we now update the mempool entry LockPoints even if we're going to remove the entry later. I'm not sure if this is desirable.\r\n\r\nI suggest adding documentation as well, e.g. \"If the cached LockPoints are now invalid, recalculate them and update the mempool entry before calling `CheckSequenceLocks()`.",
      "commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "created_at" : "2022-01-26T12:15:23Z",
      "diff_hunk" : "@@ -365,18 +377,13 @@ void CChainState::MaybeUpdateMempoolForReorg(\n         LockPoints lp = it->GetLockPoints();\n         const bool validLP{TestLockPointValidity(m_chain, lp)};\n         CCoinsViewMemPool view_mempool(&CoinsTip(), *m_mempool);\n-        // CheckSequenceLocks checks if the transaction will be final in the next block to be\n-        // created on top of the new chain. We use useExistingLockPoints=false so that, instead of\n-        // using the information in lp (which might now refer to a block that no longer exists in\n-        // the chain), it will update lp to contain LockPoints relevant to the new chain.\n-        if (!CheckSequenceLocks(m_chain.Tip(), view_mempool, tx, flags, &lp, validLP)) {\n-            // If CheckSequenceLocks fails, remove the tx and don't depend on the LockPoints.\n-            return true;\n-        } else if (!validLP) {\n-            // If CheckSequenceLocks succeeded, it also updated the LockPoints.\n-            // Now update the mempool entry lockpoints as well.\n+        if (!validLP) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r792578100",
      "id" : 792578100,
      "line" : 380,
      "node_id" : "PRRC_kwDOABII584vPcg0",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 380,
      "original_position" : 153,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 153,
      "pull_request_review_id" : 863454325,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792578100/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T12:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792578100",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-14T16:37:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1067041024",
      "id" : 1067041024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII584_mcEA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067041024/reactions"
      },
      "updated_at" : "2022-03-14T16:37:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067041024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 220475bdbca0598c6f5158e870b89ff9503a7258 -> aa8f68b2352dd37cae59867276b38127d7041685 ([pr23897.03](https://github.com/hebasto/bitcoin/commits/pr23897.03) -> [pr23897.04](https://github.com/hebasto/bitcoin/commits/pr23897.04)):\r\n- rebased\r\n- addressed @glozow's comments\r\n\r\n\r\nAlso the PR description has been updated.",
      "created_at" : "2022-04-19T16:06:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1102831191",
      "id" : 1102831191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585Bu95X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1102831191/reactions"
      },
      "updated_at" : "2022-04-19T16:06:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1102831191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853248533"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248533"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1102831191).",
      "commit_id" : "aa8f68b2352dd37cae59867276b38127d7041685",
      "created_at" : "2022-04-19T16:06:53Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853248533",
      "id" : 853248533,
      "in_reply_to_id" : 792573355,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584y24oV",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 219,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 945961661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248533/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T16:06:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853248890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1102831191).",
      "commit_id" : "aa8f68b2352dd37cae59867276b38127d7041685",
      "created_at" : "2022-04-19T16:07:12Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)\n+{\n+    assert(tip);\n+    assert(lp);\n+\n+    CBlockIndex index;\n+    index.pprev = tip;\n+    // CheckSequenceLocks() uses active_chainstate.m_chain.Height()+1 to evaluate\n+    // height based locks because when SequenceLocks() is called within\n+    // ConnectBlock(), the height of the block *being*\n+    // evaluated is what is used.\n+    // Thus if we want to know if a transaction can be part of the\n+    // *next* block, we need to use one more than active_chainstate.m_chain.Height()\n+    index.nHeight = tip->nHeight + 1;\n+\n+    std::vector<int> prevheights;\n+    prevheights.resize(tx.vin.size());\n+    for (size_t txinIndex = 0; txinIndex < tx.vin.size(); ++txinIndex) {\n+        const CTxIn& txin = tx.vin[txinIndex];\n+        Coin coin;\n+        if (!coins_view.GetCoin(txin.prevout, coin)) {\n+            return error(\"%s: Missing input\", __func__);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853248890",
      "id" : 853248890,
      "in_reply_to_id" : 792573702,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584y24t6",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 240,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 945962159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248890/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T16:07:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853248890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853249200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853249200"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1102831191).",
      "commit_id" : "aa8f68b2352dd37cae59867276b38127d7041685",
      "created_at" : "2022-04-19T16:07:30Z",
      "diff_hunk" : "@@ -211,14 +211,75 @@ bool CheckFinalTx(const CBlockIndex* active_chain_tip, const CTransaction &tx, i\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+bool CalculateLockPoints(\n+    CBlockIndex* tip,\n+    const CCoinsView& coins_view,\n+    const CTransaction& tx,\n+    int flags,\n+    LockPoints* lp)\n+{\n+    assert(tip);\n+    assert(lp);\n+\n+    CBlockIndex index;\n+    index.pprev = tip;\n+    // CheckSequenceLocks() uses active_chainstate.m_chain.Height()+1 to evaluate\n+    // height based locks because when SequenceLocks() is called within\n+    // ConnectBlock(), the height of the block *being*\n+    // evaluated is what is used.\n+    // Thus if we want to know if a transaction can be part of the\n+    // *next* block, we need to use one more than active_chainstate.m_chain.Height()\n+    index.nHeight = tip->nHeight + 1;\n+\n+    std::vector<int> prevheights;\n+    prevheights.resize(tx.vin.size());\n+    for (size_t txinIndex = 0; txinIndex < tx.vin.size(); ++txinIndex) {\n+        const CTxIn& txin = tx.vin[txinIndex];\n+        Coin coin;\n+        if (!coins_view.GetCoin(txin.prevout, coin)) {\n+            return error(\"%s: Missing input\", __func__);\n+        }\n+        if (coin.nHeight == MEMPOOL_HEIGHT) {\n+            // Assume all mempool transaction confirm in the next block\n+            prevheights[txinIndex] = tip->nHeight + 1;\n+        } else {\n+            prevheights[txinIndex] = coin.nHeight;\n+        }\n+    }\n+\n+    const std::pair<int, int64_t> lock_pair{CalculateSequenceLocks(tx, flags, prevheights, index)};\n+    lp->height = lock_pair.first;\n+    lp->time = lock_pair.second;\n+    // Also store the hash of the block with the highest height of\n+    // all the blocks which have sequence locked prevouts.\n+    // This hash needs to still be on the chain\n+    // for these LockPoint calculations to be valid\n+    // Note: It is impossible to correctly calculate a maxInputBlock\n+    // if any of the sequence locked inputs depend on unconfirmed txs,\n+    // except in the special case where the relative lock time/height\n+    // is 0, which is equivalent to no sequence lock. Since we assume\n+    // input height of tip+1 for mempool txs and test the resulting\n+    // lock_pair from CalculateSequenceLocks against tip+1.  We know\n+    // EvaluateSequenceLocks will fail if there was a non-zero sequence\n+    // lock on a mempool input, so we can use the return value of\n+    // CheckSequenceLocks to indicate the LockPoints validity\n+    int max_input_height{0};\n+    for (const int height : prevheights) {\n+        // Can ignore mempool inputs since we'll fail if they had non-zero locks\n+        if (height != tip->nHeight + 1) {\n+            max_input_height = std::max(max_input_height, height);\n+        }\n+    }\n+    lp->maxInputBlock = tip->GetAncestor(max_input_height);\n+\n+    return true;\n+}\n+\n bool CheckSequenceLocks(CBlockIndex* tip,\n-                        const CCoinsView& coins_view,\n-                        const CTransaction& tx,\n-                        int flags,\n-                        LockPoints* lp,\n-                        bool useExistingLockPoints)\n+                        const LockPoints* lp)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853249200",
      "id" : 853249200,
      "in_reply_to_id" : 792574579,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584y24yw",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 279,
      "original_position" : 74,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 945962568,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853249200/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T16:07:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853249200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853250889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853250889"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Note that we do have a bit of a behavior change here...\r\n\r\nThank you!\r\n\r\nThe current behavior has been preserved in the recent [update](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1102831191).",
      "commit_id" : "aa8f68b2352dd37cae59867276b38127d7041685",
      "created_at" : "2022-04-19T16:09:21Z",
      "diff_hunk" : "@@ -365,18 +377,13 @@ void CChainState::MaybeUpdateMempoolForReorg(\n         LockPoints lp = it->GetLockPoints();\n         const bool validLP{TestLockPointValidity(m_chain, lp)};\n         CCoinsViewMemPool view_mempool(&CoinsTip(), *m_mempool);\n-        // CheckSequenceLocks checks if the transaction will be final in the next block to be\n-        // created on top of the new chain. We use useExistingLockPoints=false so that, instead of\n-        // using the information in lp (which might now refer to a block that no longer exists in\n-        // the chain), it will update lp to contain LockPoints relevant to the new chain.\n-        if (!CheckSequenceLocks(m_chain.Tip(), view_mempool, tx, flags, &lp, validLP)) {\n-            // If CheckSequenceLocks fails, remove the tx and don't depend on the LockPoints.\n-            return true;\n-        } else if (!validLP) {\n-            // If CheckSequenceLocks succeeded, it also updated the LockPoints.\n-            // Now update the mempool entry lockpoints as well.\n+        if (!validLP) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r853250889",
      "id" : 853250889,
      "in_reply_to_id" : 792578100,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584y25NJ",
      "original_commit_id" : "220475bdbca0598c6f5158e870b89ff9503a7258",
      "original_line" : 380,
      "original_position" : 153,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 945965000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853250889/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-19T16:09:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/853250889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-05-06T10:56:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1119493952",
      "id" : 1119493952,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585Cuh9A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1119493952/reactions"
      },
      "updated_at" : "2022-05-06T10:56:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1119493952",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased aa8f68b2352dd37cae59867276b38127d7041685 -> 5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479 ([pr23897.04](https://github.com/hebasto/bitcoin/commits/pr23897.04) -> [pr23897.05](https://github.com/hebasto/bitcoin/commits/pr23897.05)) due to conflict with #24804.",
      "created_at" : "2022-05-28T12:35:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1140252600",
      "id" : 1140252600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585D9t-4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140252600/reactions"
      },
      "updated_at" : "2022-05-28T12:35:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140252600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926451573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926451573"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in fc31aa12b9599f3a23c22fd65b3eaa73dbb05d81:\r\n\r\nShould document that this returns std::nullopt if there is an error, i.e., if inputs cannot be found in the `coins_view`",
      "commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "created_at" : "2022-07-21T09:18:35Z",
      "diff_hunk" : "@@ -289,6 +289,24 @@ PackageMempoolAcceptResult ProcessNewPackage(CChainState& active_chainstate, CTx\n  */\n bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction& tx) EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n+/**\n+ * Calculate LockPoints required to check if transaction will be BIP68 final in the next block to be created on top of tip.\n+ * @param[in]   tip             Chain tip to check tx sequence locks against. For example,\n+ *                              the tip of the current active chain.\n+ * @param[in]   coins_view      Any CCoinsView that provides access to the relevant coins for\n+ *                              checking sequence locks. For example, it can be a CCoinsViewCache\n+ *                              that isn't connected to anything but contains all the relevant\n+ *                              coins, or a CCoinsViewMemPool that is connected to the\n+ *                              mempool and chainstate UTXO set. In the latter case, the caller is\n+ *                              responsible for holding the appropriate locks to ensure that\n+ *                              calls to GetCoin() return correct coins.\n+ *\n+ * @returns The resulting height and time calculated and the hash of the block needed for calculation.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926451573",
      "id" : 926451573,
      "line" : 304,
      "node_id" : "PRRC_kwDOABII5843OId1",
      "original_commit_id" : "fc31aa12b9599f3a23c22fd65b3eaa73dbb05d81",
      "original_line" : 304,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 16,
      "pull_request_review_id" : 1046211677,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926451573/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T09:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926451573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926480577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926480577"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To me, this suggests `tip` should be a reference instead of a pointer?",
      "commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "created_at" : "2022-07-21T09:48:56Z",
      "diff_hunk" : "@@ -185,11 +185,67 @@ bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction&\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+std::optional<LockPoints> CalculateLockPointsAtTip(CBlockIndex* tip,\n+                                                   const CCoinsView& coins_view,\n+                                                   const CTransaction& tx)\n+{\n+    assert(tip);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926480577",
      "id" : 926480577,
      "line" : 192,
      "node_id" : "PRRC_kwDOABII5843OPjB",
      "original_commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "original_line" : 192,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 8,
      "pull_request_review_id" : 1046211677,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926480577/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T09:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926480577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926486212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926486212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in 5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479\r\n\r\n```suggestion\r\n * @param[in]   lp              LockPoints containing the height and time at which this transaction is final.\r\n```",
      "commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "created_at" : "2022-07-21T09:54:51Z",
      "diff_hunk" : "@@ -300,17 +300,26 @@ bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction&\n  *                              mempool and chainstate UTXO set. In the latter case, the caller is\n  *                              responsible for holding the appropriate locks to ensure that\n  *                              calls to GetCoin() return correct coins.\n+ *\n+ * @returns The resulting height and time calculated and the hash of the block needed for calculation.\n+ */\n+std::optional<LockPoints> CalculateLockPointsAtTip(CBlockIndex* tip,\n+                                                   const CCoinsView& coins_view,\n+                                                   const CTransaction& tx);\n+\n+/**\n+ * Check if transaction will be BIP68 final in the next block to be created on top of tip.\n+ * @param[in]   tip             Chain tip to check tx sequence locks against. For example,\n+ *                              the tip of the current active chain.\n+ * @param[in]   lp              Relative locktime constraints (BIP68).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926486212",
      "id" : 926486212,
      "line" : 314,
      "node_id" : "PRRC_kwDOABII5843OQ7E",
      "original_commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "original_line" : 314,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 24,
      "pull_request_review_id" : 1046211677,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926486212/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T09:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926486212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926505198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926505198"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`CChain::Tip()` is been passed as an argument, and it could be a `nullptr`.",
      "commit_id" : "803869954e0e3bc32279dac71cf40a0614b79566",
      "created_at" : "2022-07-21T10:15:37Z",
      "diff_hunk" : "@@ -185,11 +185,67 @@ bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction&\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+std::optional<LockPoints> CalculateLockPointsAtTip(CBlockIndex* tip,\n+                                                   const CCoinsView& coins_view,\n+                                                   const CTransaction& tx)\n+{\n+    assert(tip);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926505198",
      "id" : 926505198,
      "in_reply_to_id" : 926480577,
      "line" : 192,
      "node_id" : "PRRC_kwDOABII5843OVju",
      "original_commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "original_line" : 192,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 8,
      "pull_request_review_id" : 1046287279,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926505198/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T10:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926505198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479 -> 803869954e0e3bc32279dac71cf40a0614b79566 ([pr23897.05](https://github.com/hebasto/bitcoin/commits/pr23897.05) -> [pr23897.06](https://github.com/hebasto/bitcoin/commits/pr23897.06), [diff](https://github.com/hebasto/bitcoin/compare/pr23897.05..pr23897.06)):\r\n\r\n- addressed @glozow's comments",
      "created_at" : "2022-07-21T10:20:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1191310762",
      "id" : 1191310762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585HAfWq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191310762/reactions"
      },
      "updated_at" : "2022-07-21T10:20:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191310762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926510270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1191310762).",
      "commit_id" : "803869954e0e3bc32279dac71cf40a0614b79566",
      "created_at" : "2022-07-21T10:21:25Z",
      "diff_hunk" : "@@ -289,6 +289,24 @@ PackageMempoolAcceptResult ProcessNewPackage(CChainState& active_chainstate, CTx\n  */\n bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction& tx) EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n+/**\n+ * Calculate LockPoints required to check if transaction will be BIP68 final in the next block to be created on top of tip.\n+ * @param[in]   tip             Chain tip to check tx sequence locks against. For example,\n+ *                              the tip of the current active chain.\n+ * @param[in]   coins_view      Any CCoinsView that provides access to the relevant coins for\n+ *                              checking sequence locks. For example, it can be a CCoinsViewCache\n+ *                              that isn't connected to anything but contains all the relevant\n+ *                              coins, or a CCoinsViewMemPool that is connected to the\n+ *                              mempool and chainstate UTXO set. In the latter case, the caller is\n+ *                              responsible for holding the appropriate locks to ensure that\n+ *                              calls to GetCoin() return correct coins.\n+ *\n+ * @returns The resulting height and time calculated and the hash of the block needed for calculation.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926510270",
      "id" : 926510270,
      "in_reply_to_id" : 926451573,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843OWy-",
      "original_commit_id" : "fc31aa12b9599f3a23c22fd65b3eaa73dbb05d81",
      "original_line" : 304,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1046294369,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510270/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T10:21:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926510401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510401"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1191310762).",
      "commit_id" : "803869954e0e3bc32279dac71cf40a0614b79566",
      "created_at" : "2022-07-21T10:21:34Z",
      "diff_hunk" : "@@ -300,17 +300,26 @@ bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction&\n  *                              mempool and chainstate UTXO set. In the latter case, the caller is\n  *                              responsible for holding the appropriate locks to ensure that\n  *                              calls to GetCoin() return correct coins.\n+ *\n+ * @returns The resulting height and time calculated and the hash of the block needed for calculation.\n+ */\n+std::optional<LockPoints> CalculateLockPointsAtTip(CBlockIndex* tip,\n+                                                   const CCoinsView& coins_view,\n+                                                   const CTransaction& tx);\n+\n+/**\n+ * Check if transaction will be BIP68 final in the next block to be created on top of tip.\n+ * @param[in]   tip             Chain tip to check tx sequence locks against. For example,\n+ *                              the tip of the current active chain.\n+ * @param[in]   lp              Relative locktime constraints (BIP68).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926510401",
      "id" : 926510401,
      "in_reply_to_id" : 926486212,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843OW1B",
      "original_commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "original_line" : 314,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1046294555,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510401/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T10:21:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926510401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926516947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926516947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry I should have said the *parameter* `tip`, as in, if a function expects a non-nullptr tip, then perhaps it should take a reference instead of a pointer. But I think I get what you mean, that `CChain::Tip()` returns a pointer and that's passed around pretty frequently in the codebase.",
      "commit_id" : "803869954e0e3bc32279dac71cf40a0614b79566",
      "created_at" : "2022-07-21T10:29:16Z",
      "diff_hunk" : "@@ -185,11 +185,67 @@ bool CheckFinalTxAtTip(const CBlockIndex* active_chain_tip, const CTransaction&\n     return IsFinalTx(tx, nBlockHeight, nBlockTime);\n }\n \n+std::optional<LockPoints> CalculateLockPointsAtTip(CBlockIndex* tip,\n+                                                   const CCoinsView& coins_view,\n+                                                   const CTransaction& tx)\n+{\n+    assert(tip);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926516947",
      "id" : 926516947,
      "in_reply_to_id" : 926480577,
      "line" : 192,
      "node_id" : "PRRC_kwDOABII5843OYbT",
      "original_commit_id" : "5a6ce8cca31b3105cb8e96cd3e5e6c0da0fb3479",
      "original_line" : 192,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 8,
      "pull_request_review_id" : 1046303744,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23897",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926516947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-21T10:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926516947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 803869954e0e3bc32279dac71cf40a0614b79566\r\n\r\nOnly changes are doc updates, for https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926451573 and https://github.com/bitcoin/bitcoin/pull/23897#discussion_r926486212",
      "created_at" : "2022-07-21T10:32:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1191321712",
      "id" : 1191321712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585HAiBw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191321712/reactions"
      },
      "updated_at" : "2022-07-21T10:32:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191321712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> No objection if you want to move-only some stuff out of a function and then call the newly created function in place.\r\n\r\nfwiw this is >50% move-only.",
      "created_at" : "2022-07-21T10:52:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1191339115",
      "id" : 1191339115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585HAmRr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191339115/reactions"
      },
      "updated_at" : "2022-07-21T10:52:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191339115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-12T07:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1212811635",
      "id" : 1212811635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585ISglz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212811635/reactions"
      },
      "updated_at" : "2022-08-12T07:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212811635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 803869954e0e3bc32279dac71cf40a0614b79566 -> 32e3fc173410641569bc4df805d5431cf0013d74 ([pr23897.06](https://github.com/hebasto/bitcoin/commits/pr23897.06) -> [pr23897.07](https://github.com/hebasto/bitcoin/commits/pr23897.07)) due to the conflict with #25677.",
      "created_at" : "2022-08-16T12:21:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1216562147",
      "id" : 1216562147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585Ig0Pj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1216562147/reactions"
      },
      "updated_at" : "2022-08-16T12:21:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1216562147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-10T12:29:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1273241329",
      "id" : 1273241329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585L5B7x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273241329/reactions"
      },
      "updated_at" : "2022-10-10T12:29:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273241329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased 32e3fc173410641569bc4df805d5431cf0013d74 -> bebaddb0767b9c52507e8d50a18510b592c14778 ([pr23897.07](https://github.com/hebasto/bitcoin/commits/pr23897.07) -> [pr23897.08](https://github.com/hebasto/bitcoin/commits/pr23897.08)) due to the conflict with #25073.",
      "created_at" : "2022-10-10T12:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23897#issuecomment-1273255219",
      "id" : 1273255219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23897",
      "node_id" : "IC_kwDOABII585L5FUz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273255219/reactions"
      },
      "updated_at" : "2022-10-10T12:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273255219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
