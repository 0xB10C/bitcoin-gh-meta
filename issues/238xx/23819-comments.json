[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cc @laanwj @0xB10C ",
      "created_at" : "2021-12-19T21:09:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-997461690",
      "id" : 997461690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII5847dA66",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997461690/reactions"
      },
      "updated_at" : "2021-12-19T21:09:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997461690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, will review in the next days.\r\n\r\nref: https://github.com/bitcoin/bitcoin/pull/23724\r\n",
      "created_at" : "2021-12-20T11:48:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-997853461",
      "id" : 997853461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII5847egkV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997853461/reactions"
      },
      "updated_at" : "2021-12-20T11:48:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997853461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On Sat, Jan 01, 2022 at 01:55:29PM -0800, Sebastian Falbesoner wrote:\n>Not related to the tracepoint overhead, but maybe still worth mentioning: note that in the PR branch, `block.GetHash()` is still called more than once in `CChainState::ConnectBlock`, as there is another invocation at the very start:\n>https://github.com/bitcoin/bitcoin/blob/a1e04e10799791a728cce4430808517598c8742c/src/validation.cpp#L1869\n>(As far as I know, we enforce compiling with assertions on, i.e. NDEBUG never being set)\n\ngreat catch. I've moved the blockHash variable to above the assert, so we shave off ~16,000 instructions now.\n",
      "created_at" : "2022-01-04T17:04:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-1005005488",
      "id" : 1005005488,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII58475yqw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1005005488/reactions"
      },
      "updated_at" : "2022-01-04T17:04:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1005005488",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On Tue, Jan 04, 2022 at 10:57:28AM -0800, Sebastian Falbesoner wrote:\n>Slightly off-topic, but could you elaborate how exactly you measure the number of saved instructions (and on which architecture)? Do you statically analyse the compiled binary or do it dynamically via `perf` or alike?\n\nSee https://github.com/bitcoin/bitcoin/pull/23724#issuecomment-996919963 for the method\nand https://github.com/bitcoin/bitcoin/pull/23724#issuecomment-997455210 for where I determined that GetHash hits 8000 instructions.\n",
      "created_at" : "2022-01-04T19:05:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-1005092495",
      "id" : 1005092495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII58476H6P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1005092495/reactions"
      },
      "updated_at" : "2022-01-04T19:05:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1005092495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On Tue, Jan 11, 2022 at 03:11:55PM -0800, Luke Dashjr wrote:\n>I'm surprised we're not caching block hashes like we do for transactions, though?\n\nWhere is it cached for transactions? I see `CMutableTransaction::GetHash` but it looks roughly the same as `CBlockHeader::GetHash`.\n",
      "created_at" : "2022-01-12T00:55:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-1010520083",
      "id" : 1010520083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII5848O1AT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010520083/reactions"
      },
      "updated_at" : "2022-01-12T00:55:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010520083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Check `CTransaction`",
      "created_at" : "2022-01-12T01:02:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-1010524300",
      "id" : 1010524300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII5848O2CM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010524300/reactions"
      },
      "updated_at" : "2022-01-12T01:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010524300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On Tue, Jan 11, 2022 at 05:03:06PM -0800, Luke Dashjr wrote:\n>Check `CTransaction`\n\ngotcha, I see ComputeHash in the constructor. Yes it looks like CBlockHeader doesn't have caching, I'm guessing because it's a mutable thing?\n",
      "created_at" : "2022-01-12T02:39:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23819#issuecomment-1010573148",
      "id" : 1010573148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23819",
      "node_id" : "IC_kwDOABII5848PB9c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010573148/reactions"
      },
      "updated_at" : "2022-01-12T02:39:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1010573148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   }
]
