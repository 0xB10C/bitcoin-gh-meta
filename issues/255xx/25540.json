{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "As reported in https://github.com/bitcoin/bitcoin/pull/24860#discussion_r893109311, the current code to construct a `miniscript::Node` could cause a blowup on large fuzzer inputs. This is because the duplicate key check is redundantly done at parsing time, since we will recursively create miniscript nodes and the constructor will unconditionally look for duplicate across this node's keys and all its sub-nodes'.\r\nTo avoid wasteful computation, and prevent the blowup on some fuzzer inputs, only perform the check for duplicate keys once when parsing.\r\n\r\nWe iterated on different approaches, and eventually settled on passing a dummy argument to the constructor. Albeit less elegant, all other approaches required getting rid of `std::make_shared` and adding an allocation *per node created*.\r\n\r\nAs per the commit authorship, this change was entirely authored by Pieter Wuille.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540/comments",
   "created_at" : "2022-07-04T13:19:15Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/25540",
   "id" : 1293166815,
   "labels" : [
      {
         "color" : "e9f76c",
         "default" : false,
         "description" : "",
         "id" : 1482182044,
         "name" : "Descriptors",
         "node_id" : "MDU6TGFiZWwxNDgyMTgyMDQ0",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 38,
      "created_at" : "2021-09-14T08:27:02Z",
      "creator" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/54",
      "id" : 7150037,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/54/labels",
      "node_id" : "MI_kwDOABII584AbRnV",
      "number" : 54,
      "open_issues" : 11,
      "state" : "open",
      "title" : "24.0",
      "updated_at" : "2022-07-04T13:23:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/54"
   },
   "node_id" : "PR_kwDOABII5846zE2Y",
   "number" : 25540,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/25540.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25540",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/25540.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25540"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540/timeline",
   "title" : "miniscript: Permit delaying duplicate key check in `miniscript::Node` construction",
   "updated_at" : "2022-07-04T19:22:30Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25540",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
      "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
      "followers_url" : "https://api.github.com/users/darosior/followers",
      "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/darosior",
      "id" : 22457751,
      "login" : "darosior",
      "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
      "organizations_url" : "https://api.github.com/users/darosior/orgs",
      "received_events_url" : "https://api.github.com/users/darosior/received_events",
      "repos_url" : "https://api.github.com/users/darosior/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/darosior"
   }
}
