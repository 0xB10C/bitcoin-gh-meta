[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25487](https://github.com/bitcoin/bitcoin/pull/25487) ([kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` by dongcarl)\n* [#24007](https://github.com/bitcoin/bitcoin/pull/24007) ([mempool] allow tx replacement by smaller witness by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-09T12:08:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#issuecomment-1179532618",
      "id" : 1179532618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25577",
      "node_id" : "IC_kwDOABII585GTj1K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179532618/reactions"
      },
      "updated_at" : "2022-07-16T02:18:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179532618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922693646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693646"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should have backward compatibility for now",
      "commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "created_at" : "2022-07-16T15:48:19Z",
      "diff_hunk" : "@@ -143,19 +149,30 @@ static RPCHelpMan testmempoolaccept()\n                                    \"Array must contain between 1 and \" + ToString(MAX_PACKAGE_COUNT) + \" transactions.\");\n             }\n \n-            const CFeeRate max_raw_tx_fee_rate = request.params[1].isNull() ?\n-                                                     DEFAULT_MAX_RAW_TX_FEE_RATE :\n-                                                     CFeeRate(AmountFromValue(request.params[1]));\n+            CFeeRate max_raw_tx_fee_rate = DEFAULT_MAX_RAW_TX_FEE_RATE;\n+\n+            if (!request.params[1].isNull()) {\n+                const UniValue& options = request.params[1];\n+                RPCTypeCheckObj(options,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922693646",
      "id" : 922693646,
      "line" : 156,
      "node_id" : "PRRC_kwDOABII5842_zAO",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 156,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 28,
      "pull_request_review_id" : 1041005237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693646/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-16T15:55:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922693934"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693934"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably better to just have a constexpr noop `MemPoolBypass`",
      "commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "created_at" : "2022-07-16T15:50:59Z",
      "diff_hunk" : "@@ -518,18 +516,16 @@ class MemPoolAccept\n         // Private ctor to avoid exposing details to clients and allowing the possibility of\n         // mixing up the order of the arguments. Use static functions above instead.\n         ATMPArgs(const CChainParams& chainparams,\n-                 int64_t accept_time,\n-                 bool bypass_limits,\n+                 const int64_t accept_time,\n+                 const std::optional<MemPoolBypass>& mempool_bypass,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922693934",
      "id" : 922693934,
      "line" : 520,
      "node_id" : "PRRC_kwDOABII5842_zEu",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 520,
      "original_position" : 96,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 96,
      "pull_request_review_id" : 1041005237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693934/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-16T15:55:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922693934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922694316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922694316"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer limiting this to designated initializers, or otherwise explicit assignment.",
      "commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "created_at" : "2022-07-16T15:55:25Z",
      "diff_hunk" : "@@ -230,6 +230,24 @@ struct PackageMempoolAcceptResult\n         : m_tx_results{ {wtxid, result} } {}\n };\n \n+/**\n+ * Criteria for bypassing mempool checks.\n+ */\n+struct MemPoolBypass {\n+    //! When true, run validation checks but don't submit to mempool.\n+    bool m_test_accept{false};\n+\n+    //! When true, don't enforce mempool fee and capacity limits.\n+    //! This is used to indicate that mempool limiting based on feerate should be bypassed.\n+    //! This does not prevent mempool from accepting the transaction.\n+    bool m_bypass_limits{false};\n+\n+    MemPoolBypass() {}\n+\n+    MemPoolBypass(bool test_accept, bool bypass_limits) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922694316",
      "id" : 922694316,
      "line" : 247,
      "node_id" : "PRRC_kwDOABII5842_zKs",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 247,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 18,
      "pull_request_review_id" : 1041005237,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922694316/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-16T15:55:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922694316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922700660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922700660"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I originally used only C++ 20 designated initializers in this PR, but it crashes on one (and only one) CI check (error C7555 on a Windows machine, if I remember correctly).\r\n\r\nSomething like:\r\n`error C7555: use of designated initializers requires at least '/std:c++20'`",
      "commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "created_at" : "2022-07-16T17:05:30Z",
      "diff_hunk" : "@@ -230,6 +230,24 @@ struct PackageMempoolAcceptResult\n         : m_tx_results{ {wtxid, result} } {}\n };\n \n+/**\n+ * Criteria for bypassing mempool checks.\n+ */\n+struct MemPoolBypass {\n+    //! When true, run validation checks but don't submit to mempool.\n+    bool m_test_accept{false};\n+\n+    //! When true, don't enforce mempool fee and capacity limits.\n+    //! This is used to indicate that mempool limiting based on feerate should be bypassed.\n+    //! This does not prevent mempool from accepting the transaction.\n+    bool m_bypass_limits{false};\n+\n+    MemPoolBypass() {}\n+\n+    MemPoolBypass(bool test_accept, bool bypass_limits) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922700660",
      "id" : 922700660,
      "in_reply_to_id" : 922694316,
      "line" : 247,
      "node_id" : "PRRC_kwDOABII5842_0t0",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 247,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 18,
      "pull_request_review_id" : 1041011028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922700660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-16T17:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922700660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922703661"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922703661"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We now use C++20 on that CI, so they should work fine.",
      "commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "created_at" : "2022-07-16T17:39:35Z",
      "diff_hunk" : "@@ -230,6 +230,24 @@ struct PackageMempoolAcceptResult\n         : m_tx_results{ {wtxid, result} } {}\n };\n \n+/**\n+ * Criteria for bypassing mempool checks.\n+ */\n+struct MemPoolBypass {\n+    //! When true, run validation checks but don't submit to mempool.\n+    bool m_test_accept{false};\n+\n+    //! When true, don't enforce mempool fee and capacity limits.\n+    //! This is used to indicate that mempool limiting based on feerate should be bypassed.\n+    //! This does not prevent mempool from accepting the transaction.\n+    bool m_bypass_limits{false};\n+\n+    MemPoolBypass() {}\n+\n+    MemPoolBypass(bool test_accept, bool bypass_limits) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922703661",
      "id" : 922703661,
      "in_reply_to_id" : 922694316,
      "line" : 247,
      "node_id" : "PRRC_kwDOABII5842_1ct",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 247,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 18,
      "pull_request_review_id" : 1041013589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922703661/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-16T17:39:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922703661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769260"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in https://github.com/bitcoin/bitcoin/pull/25577/commits/618a7920d1bcbf25c67ed15b5f8c43afbcbbf323.",
      "commit_id" : "151c4d2ab7958bd16f02f3ea45fe503ff74eb859",
      "created_at" : "2022-07-17T04:46:04Z",
      "diff_hunk" : "@@ -143,19 +149,30 @@ static RPCHelpMan testmempoolaccept()\n                                    \"Array must contain between 1 and \" + ToString(MAX_PACKAGE_COUNT) + \" transactions.\");\n             }\n \n-            const CFeeRate max_raw_tx_fee_rate = request.params[1].isNull() ?\n-                                                     DEFAULT_MAX_RAW_TX_FEE_RATE :\n-                                                     CFeeRate(AmountFromValue(request.params[1]));\n+            CFeeRate max_raw_tx_fee_rate = DEFAULT_MAX_RAW_TX_FEE_RATE;\n+\n+            if (!request.params[1].isNull()) {\n+                const UniValue& options = request.params[1];\n+                RPCTypeCheckObj(options,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769260",
      "id" : 922769260,
      "in_reply_to_id" : 922693646,
      "line" : 158,
      "node_id" : "PRRC_kwDOABII5843AFds",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 158,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 28,
      "pull_request_review_id" : 1041069275,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769260/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-17T04:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769336"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769336"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in https://github.com/bitcoin/bitcoin/pull/25577/commits/30555e7608ed4e7bb6f5dc6d0eddd1722119e6e1.",
      "commit_id" : "151c4d2ab7958bd16f02f3ea45fe503ff74eb859",
      "created_at" : "2022-07-17T04:46:54Z",
      "diff_hunk" : "@@ -230,6 +230,24 @@ struct PackageMempoolAcceptResult\n         : m_tx_results{ {wtxid, result} } {}\n };\n \n+/**\n+ * Criteria for bypassing mempool checks.\n+ */\n+struct MemPoolBypass {\n+    //! When true, run validation checks but don't submit to mempool.\n+    bool m_test_accept{false};\n+\n+    //! When true, don't enforce mempool fee and capacity limits.\n+    //! This is used to indicate that mempool limiting based on feerate should be bypassed.\n+    //! This does not prevent mempool from accepting the transaction.\n+    bool m_bypass_limits{false};\n+\n+    MemPoolBypass() {}\n+\n+    MemPoolBypass(bool test_accept, bool bypass_limits) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769336",
      "id" : 922769336,
      "in_reply_to_id" : 922694316,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843AFe4",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 247,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1041069324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769336/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-17T04:46:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr Thanks for the review. https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922693646 and https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922694316 have been addressed in the new push.",
      "created_at" : "2022-07-17T04:50:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#issuecomment-1186397321",
      "id" : 1186397321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25577",
      "node_id" : "IC_kwDOABII585GtvyJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186397321/reactions"
      },
      "updated_at" : "2022-07-17T04:50:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186397321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769636"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could you elaborate more ? I donÂ´t see how `constexpr` fits in this case.",
      "commit_id" : "151c4d2ab7958bd16f02f3ea45fe503ff74eb859",
      "created_at" : "2022-07-17T04:51:49Z",
      "diff_hunk" : "@@ -518,18 +516,16 @@ class MemPoolAccept\n         // Private ctor to avoid exposing details to clients and allowing the possibility of\n         // mixing up the order of the arguments. Use static functions above instead.\n         ATMPArgs(const CChainParams& chainparams,\n-                 int64_t accept_time,\n-                 bool bypass_limits,\n+                 const int64_t accept_time,\n+                 const std::optional<MemPoolBypass>& mempool_bypass,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769636",
      "id" : 922769636,
      "in_reply_to_id" : 922693934,
      "line" : 520,
      "node_id" : "PRRC_kwDOABII5843AFjk",
      "original_commit_id" : "26ee1a47e4bafe8faf60e16c987504d7d1b71c29",
      "original_line" : 520,
      "original_position" : 96,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 96,
      "pull_request_review_id" : 1041069559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-17T04:51:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769881"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Replacing the option is fine. Only need to tolerate the old param type.\r\n\r\nMight need to pull in 09964963a1f7748fc1abc9471cbae8dab1061eb1",
      "commit_id" : "151c4d2ab7958bd16f02f3ea45fe503ff74eb859",
      "created_at" : "2022-07-17T04:55:21Z",
      "diff_hunk" : "@@ -98,7 +98,15 @@ static RPCHelpMan testmempoolaccept()\n                 },\n             },\n             {\"maxfeerate\", RPCArg::Type::AMOUNT, RPCArg::Default{FormatMoney(DEFAULT_MAX_RAW_TX_FEE_RATE.GetFeePerK())},\n-             \"Reject transactions whose fee rate is higher than the specified value, expressed in \" + CURRENCY_UNIT + \"/kvB\\n\"},\n+             \"(deprecated. Use \\\"options\\\" instead) Reject transactions whose fee rate is higher than the specified value, expressed in \" + CURRENCY_UNIT + \"/kvB\\n\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25577#discussion_r922769881",
      "id" : 922769881,
      "line" : 101,
      "node_id" : "PRRC_kwDOABII5843AFnZ",
      "original_commit_id" : "151c4d2ab7958bd16f02f3ea45fe503ff74eb859",
      "original_line" : 101,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/mempool.cpp",
      "position" : 5,
      "pull_request_review_id" : 1041069723,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25577",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769881/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-17T04:55:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922769881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
