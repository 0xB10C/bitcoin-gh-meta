[
   {
      "author_association" : "NONE",
      "body" : "I have tested the PR the command `./bitcoin-cli -signet verifychain 4 1000`  returns true , does it requires tests to be written ? ",
      "created_at" : "2022-07-09T03:31:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1179470404",
      "id" : 1179470404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GTUpE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179470404/reactions"
      },
      "updated_at" : "2022-07-09T03:31:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179470404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In the future the RPC can probably be extended with a \"warnings\" and \"error\" field, but this patch lgtm.",
      "created_at" : "2022-07-11T08:29:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180113435",
      "id" : 1180113435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GVxob",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180113435/reactions"
      },
      "updated_at" : "2022-07-11T08:29:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180113435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "You mean changing the RPC return response prior adding objects for warning and error, \r\n\r\n```\r\nstatic RPCHelpMan verifychain()\r\nif warning then (display Warning)\r\nif error then  (display Error)\r\nor else return response \r\n```\r\n\r\nIt might require to or add new fields in the RPC?\r\n\r\nThis might mean that changing the way return is responding in RPC?",
      "created_at" : "2022-07-11T08:55:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180138300",
      "id" : 1180138300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GV3s8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180138300/reactions"
      },
      "updated_at" : "2022-07-11T09:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180138300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Note that this doesn't only affect the `verifychain` RPC, but is also called as part of the startup (with the default level 3), which prevent the node from starting if validation fails.\r\nI think because of that, the current strategy is to only return an error if we are sure something is invalid, but permit the application to start with just a warning in the debug log if we couldn't complete all checks. If only the RPC was affected, it would be ok to just return an error if we weren't able to do all the checks we asked for.",
      "created_at" : "2022-07-11T14:50:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1180508441",
      "id" : 1180508441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GXSEZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180508441/reactions"
      },
      "updated_at" : "2022-07-11T14:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180508441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> verifychain\r\n\r\nThe above methods aborts, the code does produce assertion and thus abort, are you suggesting that it should rather identify for the user to simply ignore or warn the user that there is an issue with the verification of the chain, since we are starting up?\r\n\r\nI was thinking to simply ignore the assertion or probably by pass the assertion by catching it some way rather abort() and probably it will help for the better and cleaner user inspection.",
      "created_at" : "2022-07-12T13:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1181750127",
      "id" : 1181750127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GcBNv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181750127/reactions"
      },
      "updated_at" : "2022-07-12T13:19:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181750127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> are you suggesting that it should rather identify for the user to simply ignore or warn the user that there is an issue with the verification of the chain, since we are starting up?\r\n\r\nThis PR reduces the number of checks that are being made when there is not sufficient ccache memory, so that the assertion can't hit anymore (assertions can't be ignored in general).\r\nWhat I was talking about is what `VerifyDB()` should do if it didn't completely verify the blocks at the levels required (but also didn't encounter an actual error), and I explained why I think it is ok to give a warning in the debug log.",
      "created_at" : "2022-07-12T13:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1181772789",
      "id" : 1181772789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GcGv1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181772789/reactions"
      },
      "updated_at" : "2022-07-12T13:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181772789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Right, so it should be taken care by default or by input, as in this there is an input , so that means a user is always triggering the output. \r\n\r\nNow, this is my suggestion, that we should perhaps make this part of the default startup and should throw some debut output and continue with the startup process.?\r\n\r\nWhat do you think? @mzumsande ",
      "created_at" : "2022-07-14T09:35:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1184222135",
      "id" : 1184222135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Glcu3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184222135/reactions"
      },
      "updated_at" : "2022-07-14T09:35:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184222135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Now, this is my suggestion, that we should perhaps make this part of the default startup and should throw some debut output and continue with the startup process.?\r\n\r\nNot sure I understand. `VerifyDB()` is already part of the default startup, and this PR adds a debug log entry if we skip some L3 checks because if our ccache is insufficient.",
      "created_at" : "2022-07-14T18:14:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1184755716",
      "id" : 1184755716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GnfAE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184755716/reactions"
      },
      "updated_at" : "2022-07-14T18:14:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1184755716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I was under the assumption that you are talking about VerifyDB() handling the checks like the above on its own on the startup, rather the rpc doing the check !",
      "created_at" : "2022-07-15T10:57:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1185430823",
      "id" : 1185430823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585GqD0n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185430823/reactions"
      },
      "updated_at" : "2022-07-15T10:57:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1185430823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/89117846?v=4",
         "events_url" : "https://api.github.com/users/saranshisatgit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saranshisatgit/followers",
         "following_url" : "https://api.github.com/users/saranshisatgit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saranshisatgit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saranshisatgit",
         "id" : 89117846,
         "login" : "saranshisatgit",
         "node_id" : "MDQ6VXNlcjg5MTE3ODQ2",
         "organizations_url" : "https://api.github.com/users/saranshisatgit/orgs",
         "received_events_url" : "https://api.github.com/users/saranshisatgit/received_events",
         "repos_url" : "https://api.github.com/users/saranshisatgit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saranshisatgit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saranshisatgit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saranshisatgit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16545](https://github.com/bitcoin/bitcoin/pull/16545) (refactor: Implement missing error checking for ArgsManager flags by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-09-23T10:59:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1256070464",
      "id" : 1256070464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585K3h1A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1256070464/reactions"
      },
      "updated_at" : "2022-09-23T10:59:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1256070464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985851229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe put `Skipped verification of...` on it's own line:\r\n```bash\r\n2022-10-03T14:00:20Z Verifying last 6 blocks at level 4\r\n2022-10-03T14:00:20Z [0%]...[16%]...[25%]...[33%]...[41%]...[50%]...VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\r\n2022-10-03T14:00:20Z [DONE].\r\n```",
      "commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "created_at" : "2022-10-03T14:26:41Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985851229",
      "id" : 985851229,
      "line" : 4002,
      "node_id" : "PRRC_kwDOABII5846wuVd",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4002,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1128499704,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-03T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985851229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985930346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we can just put each of `[x%]` on it's own line. This would avoid breaking logging of other threads running at the same time, simplify the code, and also allow to see the timestamps over time.",
      "commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "created_at" : "2022-10-03T15:22:10Z",
      "diff_hunk" : "@@ -3975,30 +3976,36 @@ bool CVerifyDB::VerifyDB(\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n         size_t curr_coins_usage = coins.DynamicMemoryUsage() + chainstate.CoinsTip().DynamicMemoryUsage();\n \n-        if (nCheckLevel >= 3 && curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n-            assert(coins.GetBestBlock() == pindex->GetBlockHash());\n-            DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n-            if (res == DISCONNECT_FAILED) {\n-                return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n-            }\n-            if (res == DISCONNECT_UNCLEAN) {\n-                nGoodTransactions = 0;\n-                pindexFailure = pindex;\n+        if (nCheckLevel >= 3) {\n+            if (curr_coins_usage <= chainstate.m_coinstip_cache_size_bytes) {\n+                assert(coins.GetBestBlock() == pindex->GetBlockHash());\n+                DisconnectResult res = chainstate.DisconnectBlock(block, pindex, coins);\n+                if (res == DISCONNECT_FAILED) {\n+                    return error(\"VerifyDB(): *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());\n+                }\n+                if (res == DISCONNECT_UNCLEAN) {\n+                    nGoodTransactions = 0;\n+                    pindexFailure = pindex;\n+                } else {\n+                    nGoodTransactions += block.vtx.size();\n+                }\n             } else {\n-                nGoodTransactions += block.vtx.size();\n+                skipped_l3_checks = true;\n             }\n         }\n         if (ShutdownRequested()) return true;\n     }\n     if (pindexFailure) {\n         return error(\"VerifyDB(): *** coin database inconsistencies found (last %i blocks, %i good transactions before that)\\n\", chainstate.m_chain.Height() - pindexFailure->nHeight + 1, nGoodTransactions);\n     }\n-\n+    if (skipped_l3_checks) {\n+        LogPrintf(\"VerifyDB(): Skipped verification of level >=3 (insufficient database cache size). Consider increasing -dbcache.\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#discussion_r985930346",
      "id" : 985930346,
      "in_reply_to_id" : 985851229,
      "line" : 4002,
      "node_id" : "PRRC_kwDOABII5846xBpq",
      "original_commit_id" : "b7adbca2061e5a88130f61e2744885ab97340d5c",
      "original_line" : 4002,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 46,
      "pull_request_review_id" : 1128592235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25574",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-03T15:22:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/985930346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Happy to incorporate the suggestions from above here (no need for a follow-up).",
      "created_at" : "2022-10-03T17:48:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25574#issuecomment-1265815195",
      "id" : 1265815195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25574",
      "node_id" : "IC_kwDOABII585Lcs6b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265815195/reactions"
      },
      "updated_at" : "2022-10-03T17:48:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265815195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
