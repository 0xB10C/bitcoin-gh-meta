{
   "assignee" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
      "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MeshCollider/followers",
      "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MeshCollider",
      "id" : 3211283,
      "login" : "MeshCollider",
      "node_id" : "MDQ6VXNlcjMyMTEyODM=",
      "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
      "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
      "repos_url" : "https://api.github.com/users/MeshCollider/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MeshCollider"
   },
   "assignees" : [
      {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   ],
   "author_association" : "NONE",
   "body" : "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nGeneral bitcoin questions and/or support requests are best directed to the Bitcoin StackExchange at https://bitcoin.stackexchange.com.\r\n\r\nFor reporting security issues, please read instructions at https://bitcoincore.org/en/contact/.\r\n\r\nIf the node is \"stuck\" during sync or giving \"block checksum mismatch\" errors, please ensure your hardware is stable by running memtest and observe CPU temperature with a load-test tool such as linpack before creating an issue! -->\r\n\r\n<!-- Describe the issue -->\r\nHave two wallets used by this instance of bitcoind. The default wallet has balance 0.02861762.\r\nInitially reported balance is correct but after unloading the wallet and then loading it again, the balance is wrong. Neither of the wallets have the reported balance.\r\n<!--- What behavior did you expect? -->\r\nI expected the balance to be the same as initially reported.\r\n```\r\nbtc@ubuntu:~$ bitcoin-cli  -getinfo\r\n{\r\n  \"version\": 170100,\r\n  \"protocolversion\": 70015,\r\n  \"walletversion\": 159900,\r\n  \"balance\": 0.02861762,\r\n...\r\n\r\nbtc@ubuntu:~$ bitcoin-cli  loadwallet wallet2\r\nbtc@ubuntu:~$ bitcoin-cli unloadwallet \"\"\r\nbtc@ubuntu:~$ bitcoin-cli loadwallet \"\"\r\nbtc@ubuntu:~$ bitcoin-cli unloadwallet wallet2\r\nbtc@ubuntu:~$ bitcoin-cli  -getinfo\r\n{\r\n  \"version\": 170100,\r\n  \"protocolversion\": 70015,\r\n  \"walletversion\": 159900,\r\n  \"balance\": 0.01012607,\r\n...\r\n```\r\nThe balance 0.01012607 is wrong and I have no idea where that number came from.\r\nRestarting the process results in correct balance again.\r\n<!--- What was the actual behavior (provide screenshots if the issue is GUI-related)? -->\r\n\r\n<!--- How reliably can you reproduce the issue, what are the steps to do so? -->\r\n\r\n<!-- What version of Bitcoin Core are you using, where did you get it (website, self-compiled, etc)? -->\r\nubuntu package for bionic\r\n<!-- What type of machine are you observing the error on (OS/CPU and disk type)? -->\r\n\r\n<!-- For the GUI-related issue on Linux provide names and versions of a distro, a desktop environment and a graphical shell (if relevant). -->\r\n\r\n<!-- Any extra information that might be useful in the debugging process. -->\r\n<!--- This is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred. -->\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15591/comments",
   "created_at" : "2019-03-13T12:34:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15591/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/15591",
   "id" : 420475823,
   "labels" : [
      {
         "color" : "08a781",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15591/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 159,
      "created_at" : "2018-05-03T15:34:54Z",
      "creator" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/35",
      "id" : 3318051,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/35/labels",
      "node_id" : "MDk6TWlsZXN0b25lMzMxODA1MQ==",
      "number" : 35,
      "open_issues" : 4,
      "state" : "open",
      "title" : "0.18.0",
      "updated_at" : "2019-03-22T20:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/35"
   },
   "node_id" : "MDU6SXNzdWU0MjA0NzU4MjM=",
   "number" : 15591,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "balance wrong after unloading wallet and loading it again",
   "updated_at" : "2019-03-22T20:24:03Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15591",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/2773867?v=4",
      "events_url" : "https://api.github.com/users/benwilliams/events{/privacy}",
      "followers_url" : "https://api.github.com/users/benwilliams/followers",
      "following_url" : "https://api.github.com/users/benwilliams/following{/other_user}",
      "gists_url" : "https://api.github.com/users/benwilliams/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/benwilliams",
      "id" : 2773867,
      "login" : "benwilliams",
      "node_id" : "MDQ6VXNlcjI3NzM4Njc=",
      "organizations_url" : "https://api.github.com/users/benwilliams/orgs",
      "received_events_url" : "https://api.github.com/users/benwilliams/received_events",
      "repos_url" : "https://api.github.com/users/benwilliams/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/benwilliams/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/benwilliams/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/benwilliams"
   }
}
