[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15590#discussion_r265116055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15590"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/265116055"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could remove the default case and move the assert after the switch, so that the compiler will issue a warning when the assert could be hit",
      "commit_id" : "db0894c26ce8abde9f5a0f1174c7c95389b8ebb4",
      "created_at" : "2019-03-13T13:07:31Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+\n+static const std::string ADDRESS_TYPE_STRING_BASE58 = \"legacy\";\n+static const std::string ADDRESS_TYPE_STRING_BECH32 = \"bech32\";\n+\n+Optional<AddressType> ParseAddressType(const std::string& type)\n+{\n+    if (type == ADDRESS_TYPE_STRING_BASE58) {\n+        return AddressType::BASE58;\n+    } else if (type == ADDRESS_TYPE_STRING_BECH32) {\n+        return AddressType::BECH32;\n+    }\n+    return nullopt;\n+}\n+\n+const std::string& FormatAddressType(AddressType type)\n+{\n+    switch (type) {\n+    case AddressType::BASE58: return ADDRESS_TYPE_STRING_BASE58;\n+    case AddressType::BECH32: return ADDRESS_TYPE_STRING_BECH32;\n+    default: assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15590#discussion_r265116055",
      "id" : 265116055,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NTExNjA1NQ==",
      "original_commit_id" : "3d63978d58b5f95c4e0bda5936cd399866169bc3",
      "original_position" : 25,
      "path" : "src/addresstype.cpp",
      "position" : null,
      "pull_request_review_id" : 213937066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15590",
      "updated_at" : "2019-05-14T18:42:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/265116055",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15590#discussion_r265492299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15590"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/265492299"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The compiler throws plenty of warnings even if I remove the `assert`:\r\n<img width=\"749\" alt=\"Schermafbeelding 2019-03-14 om 10 54 05\" src=\"https://user-images.githubusercontent.com/10217/54347597-95b80c00-4647-11e9-89fa-6aad4c77a4e5.png\">",
      "commit_id" : "db0894c26ce8abde9f5a0f1174c7c95389b8ebb4",
      "created_at" : "2019-03-14T09:57:25Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+\n+static const std::string ADDRESS_TYPE_STRING_BASE58 = \"legacy\";\n+static const std::string ADDRESS_TYPE_STRING_BECH32 = \"bech32\";\n+\n+Optional<AddressType> ParseAddressType(const std::string& type)\n+{\n+    if (type == ADDRESS_TYPE_STRING_BASE58) {\n+        return AddressType::BASE58;\n+    } else if (type == ADDRESS_TYPE_STRING_BECH32) {\n+        return AddressType::BECH32;\n+    }\n+    return nullopt;\n+}\n+\n+const std::string& FormatAddressType(AddressType type)\n+{\n+    switch (type) {\n+    case AddressType::BASE58: return ADDRESS_TYPE_STRING_BASE58;\n+    case AddressType::BECH32: return ADDRESS_TYPE_STRING_BECH32;\n+    default: assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15590#discussion_r265492299",
      "id" : 265492299,
      "in_reply_to_id" : 265116055,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2NTQ5MjI5OQ==",
      "original_commit_id" : "3d63978d58b5f95c4e0bda5936cd399866169bc3",
      "original_position" : 25,
      "path" : "src/addresstype.cpp",
      "position" : null,
      "pull_request_review_id" : 214410355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15590",
      "updated_at" : "2019-05-14T18:42:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/265492299",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The `IsSegWit()` check mentioned in the description can be found here, but I'll hold off on a PR for now: https://github.com/Sjors/bitcoin/compare/2019/03/descriptor-address-type...Sjors:2019/03/descriptor-is-segwit",
      "created_at" : "2019-03-14T10:21:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15590#issuecomment-472789620",
      "id" : 472789620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15590",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3Mjc4OTYyMA==",
      "updated_at" : "2019-03-14T10:21:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/472789620",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think this makes sense. The address type is a property of a scriptPubKey, not of a descriptor (in particular, it's not well defined for `combo` descriptors).\n\nYou can already determine the address type of a scriptPubKey using ExtractDestination().",
      "created_at" : "2019-03-16T22:03:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15590#issuecomment-473596344",
      "id" : 473596344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15590",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3MzU5NjM0NA==",
      "updated_at" : "2019-03-16T22:03:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/473596344",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
