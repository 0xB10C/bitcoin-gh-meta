[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nCould introduce an usage of `static_check_equal(â¦, â¦)` too to make it technically in use? :)",
      "created_at" : "2020-07-15T21:29:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-659022681",
      "id" : 659022681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTAyMjY4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-16T00:11:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659022681",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point -- maybe we want to permit passing in an optional string so it matches existing static assert API?",
      "created_at" : "2020-07-15T22:24:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-659045818",
      "id" : 659045818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1OTA0NTgxOA==",
      "updated_at" : "2020-07-15T22:24:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/659045818",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19531#discussion_r455515505"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19531"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/455515505"
         }
      },
      "author_association" : "MEMBER",
      "body" : "clang-format suggestion\r\n```suggestion\r\n#define static_check_equal(s1, s2) static_check_equal_struct<decltype(s1), decltype(s2), s1, s2>()\r\n```",
      "commit_id" : "92fe0ba5806fe7dcfb594aa41754cbe0932525a0",
      "created_at" : "2020-07-16T05:18:04Z",
      "diff_hunk" : "@@ -56,4 +56,16 @@ T get_pure_r_value(T&& val)\n /** Identity function. Abort if the value compares equal to zero */\n #define Assert(val) [&]() -> decltype(get_pure_r_value(val))& { auto& check = (val); assert(#val && check); return check; }()\n \n+/** Helper for static_check_equal, no type inference **/\n+template <typename T1, typename T2, T1 value_1, T2 value_2>\n+struct static_check_equal_struct {\n+    static_check_equal_struct() {\n+        static_assert(value_1 == value_2, \"Equality check failed, value_1 != value_2.\");\n+    }\n+};\n+\n+/** Check if the template arguments are equal at compile time. Compiler error prints values if\n+ * failure. **/\n+#define static_check_equal(s1,s2) static_check_equal_struct<decltype(s1),decltype(s2),s1,s2>()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#discussion_r455515505",
      "id" : 455515505,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUxNTUwNQ==",
      "original_commit_id" : "92fe0ba5806fe7dcfb594aa41754cbe0932525a0",
      "original_line" : 69,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/util/check.h",
      "position" : 14,
      "pull_request_review_id" : 449513210,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19531",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-16T05:22:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/455515505",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2020-07-26T20:17:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-664035072",
      "id" : 664035072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NDAzNTA3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-26T20:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/664035072",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n(but it'd be nice to have one example use at least in the PR?)\r\n\r\n> Perhaps place it somewhere that is always included to avoid the need to add #include <util/check.h> in the file where you want to use it.\r\n\r\nDunno. Generally I like having independent things in different files and being explicit about it, instead of having \"hotspots\".\r\nBut then I don't know how often this is going to be used.",
      "created_at" : "2020-08-06T12:39:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-669902011",
      "id" : 669902011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2OTkwMjAxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-06T12:39:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669902011",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd been kinda stuck figuring out how to pass the message to the static_assert because the message param has to be a literal string and string literals are forbidden for templates until later c++. But I realized it's not a problem to just ignore the message string as long as we have it in the source, it will be visible in the callsite error. And then I got stuck figuring out how to make it support common binary predicates without too much repetition when std::less and co aren't constexpr till after c++14. But I realized I can just pass the operator directly in the macro.\r\n\r\n\r\nThus the updates, which have support for ==, !=, >, <, >=, <= and message or no message.\r\n\r\nI also added an example of where this is handy -- reviewers may wish to test by compiling this branch and tweaking the arguments +/- 1 to see that it fails, and removing the message.",
      "created_at" : "2020-08-06T18:17:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-670095059",
      "id" : 670095059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3MDA5NTA1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-06T18:17:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/670095059",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20138 (net: Assume that SetCommonVersion is called at most once per peer by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-13T06:28:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-707520382",
      "id" : 707520382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzUyMDM4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T06:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707520382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "review ACK 8047fed26dd5077dacd490b35e481c77cb00722a",
      "created_at" : "2020-10-13T11:36:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19531#issuecomment-707680345",
      "id" : 707680345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19531",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNzY4MDM0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-13T11:36:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707680345",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
