[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458720969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458720969"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you can leave this line as a code comment instead of logging it.\r\n\r\nFor the logging in general, would you mind prefixing the decimal values with 0? e.g. s/.15/0.15/\r\n\r\nThis is personal taste, so feel free to ignore, but I think it's unnecessarily verbose to add \"that\" after \"Test...\"",
      "commit_id" : "bde69204598f16bf14181541caa534d4730c4a72",
      "created_at" : "2020-07-22T11:23:11Z",
      "diff_hunk" : "@@ -88,24 +88,22 @@ def test_feefilter(self):\n \n         conn = self.nodes[0].add_p2p_connection(TestP2PConn())\n \n-        # Test that invs are received by test connection for all txs at\n-        # feerate of .2 sat/byte\n+        self.log.info(\"Test that txs paying .2 sat/byte are being received by test connection\")\n         node1.settxfee(Decimal(\"0.00000200\"))\n         txids = [node1.sendtoaddress(node1.getnewaddress(), 1) for x in range(3)]\n         assert allInvsMatch(txids, conn)\n         conn.clear_invs()\n \n-        # Set a filter of .15 sat/byte on test connection\n+        self.log.info(\"Set a fee filter of .15 sat/byte on test connection\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458720969",
      "id" : 458720969,
      "line" : 95,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcyMDk2OQ==",
      "original_commit_id" : "9a8dc4e2b5eaeb1971534993170a278c6ce970bb",
      "original_line" : 97,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 62,
      "pull_request_review_id" : 453225003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-22T11:29:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458720969",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458722394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458722394"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could inline this with a lambda?",
      "commit_id" : "bde69204598f16bf14181541caa534d4730c4a72",
      "created_at" : "2020-07-22T11:26:05Z",
      "diff_hunk" : "@@ -48,6 +37,12 @@ def on_inv(self, message):\n             if (i.type == MSG_TX):\n                 self.txinvs.append(hashToHex(i.hash))\n \n+    def wait_for_invs(self, test_framework, invs_expected):\n+        def invs_match():\n+            return sorted(invs_expected) == sorted(self.txinvs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458722394",
      "id" : 458722394,
      "line" : 42,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcyMjM5NA==",
      "original_commit_id" : "8f93aaf016d51d98b4c1d3eb678f8d7c597ce7f7",
      "original_line" : 42,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 31,
      "pull_request_review_id" : 453225003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-22T11:29:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458722394",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458722945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458722945"
         }
      },
      "author_association" : "MEMBER",
      "body" : "perhaps call this `assert_invs_match` or `wait_for_invs_to_match`",
      "commit_id" : "bde69204598f16bf14181541caa534d4730c4a72",
      "created_at" : "2020-07-22T11:27:20Z",
      "diff_hunk" : "@@ -48,6 +37,12 @@ def on_inv(self, message):\n             if (i.type == MSG_TX):\n                 self.txinvs.append(hashToHex(i.hash))\n \n+    def wait_for_invs(self, test_framework, invs_expected):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458722945",
      "id" : 458722945,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcyMjk0NQ==",
      "original_commit_id" : "8f93aaf016d51d98b4c1d3eb678f8d7c597ce7f7",
      "original_line" : 40,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 29,
      "pull_request_review_id" : 453225003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-22T11:29:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458722945",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458723228"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458723228"
         }
      },
      "author_association" : "MEMBER",
      "body" : "could just inline this arg with the others and put the comment above line 59",
      "commit_id" : "bde69204598f16bf14181541caa534d4730c4a72",
      "created_at" : "2020-07-22T11:27:59Z",
      "diff_hunk" : "@@ -57,6 +57,9 @@ def set_test_params(self):\n         # rounding down 3 places, leading to stranded transactions.\n         # See issue #16499\n         self.extra_args = [[\"-minrelaytxfee=0.00000100\", \"-mintxfee=0.00000100\"]] * self.num_nodes\n+        # whitelist all peers to speed up tx relay / mempool sync\n+        for args in self.extra_args:\n+            args.append(\"-whitelist=noban@127.0.0.1\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19564#discussion_r458723228",
      "id" : 458723228,
      "line" : 62,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcyMzIyOA==",
      "original_commit_id" : "bde69204598f16bf14181541caa534d4730c4a72",
      "original_line" : 62,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/p2p_feefilter.py",
      "position" : 44,
      "pull_request_review_id" : 453225003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19564",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-22T11:29:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458723228",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
