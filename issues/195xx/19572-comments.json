[
   {
      "author_association" : "MEMBER",
      "body" : "fixed bug(was pushing to verbose list of transactions)\r\n\r\nlooking at another racey looking failure:\r\n```\r\n    assert_equal((payment_txid_2, \"A\", seq_num), seq.receive_sequence())\r\n  File \"/home/travis/build/bitcoin/bitcoin/ci/scratch/build/bitcoin-arm-linux-gnueabihf/test/functional/test_framework/util.py\", line 49, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(('1ac086d8f16212a6bab2bceee95742ff09e9477928c2e09e931a57c382d7b09b', 'A', 4) == ('1ac086d8f16212a6bab2bceee95742ff09e9477928c2e09e931a57c382d7b09b', 'A', 5))\r\n```\r\nedit: Pushed fix(I hope) for that.",
      "created_at" : "2020-07-23T15:57:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-663088680",
      "id" : 663088680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzA4ODY4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-23T18:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663088680",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19544 (refactor: Add GetBool to rpc/util by fjahr)\n* #19520 (Rename signal TransactionRemovedFromMempool to better describe behavior by instagibbs)\n* #19507 (Expand functional zmq transaction tests by instagibbs)\n* #19476 (rpc: Add mempoolchanges by promag)\n* #18354 (Use shared pointers only in validation interface by bvbfan)\n* #18309 (zmq: Add support to listen on multiple interfaces by n-thumann)\n* #16365 (Log RPC parameters (arguments) if -debug=rpcparams by LarryRuane)\n* #15719 (Wallet passive startup by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-23T16:57:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-663119211",
      "id" : 663119211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzExOTIxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-23T16:57:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663119211",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459761022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19572"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459761022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "951507c4d1152ceab2a930fb16fdac05504f0056\r\n\r\noops ð good catch.",
      "commit_id" : "dc413fbd8d79199f3c0725395ee2512b8211d6de",
      "created_at" : "2020-07-23T22:23:00Z",
      "diff_hunk" : "@@ -147,8 +147,8 @@ def test_reorg(self):\n         self.nodes[0].generatetoaddress(1, ADDRESS_BCRT1_UNSPENDABLE)\n         assert_equal(self.nodes[0].getbestblockhash(), hashblock.receive().hex())\n \n-        # Generate 2 blocks in nodes[1]\n-        self.nodes[1].generatetoaddress(2, ADDRESS_BCRT1_UNSPENDABLE)\n+        # Generate 2 blocks in nodes[1] to a different address to ensure split\n+        self.nodes[1].generatetoaddress(2, ADDRESS_BCRT1_P2WSH_OP_TRUE)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459761022",
      "id" : 459761022,
      "line" : 169,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc2MTAyMg==",
      "original_commit_id" : "951507c4d1152ceab2a930fb16fdac05504f0056",
      "original_line" : 151,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/interface_zmq.py",
      "position" : 48,
      "pull_request_review_id" : 454535546,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19572",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-23T22:37:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459761022",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459763375"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19572"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459763375"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`EXCLUSIVE_LOCKS_REQUIRED(cs)` instead?",
      "commit_id" : "dc413fbd8d79199f3c0725395ee2512b8211d6de",
      "created_at" : "2020-07-23T22:29:18Z",
      "diff_hunk" : "@@ -725,6 +731,17 @@ class CTxMemPool\n         return (m_unbroadcast_txids.count(txid) != 0);\n     }\n \n+    /** Guards this internal counter for external reporting */\n+    uint32_t GetAndIncrementSequence() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459763375",
      "id" : 459763375,
      "line" : 735,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc2MzM3NQ==",
      "original_commit_id" : "dc413fbd8d79199f3c0725395ee2512b8211d6de",
      "original_line" : 735,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 18,
      "pull_request_review_id" : 454535546,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19572",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-23T22:37:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459763375",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "From conversations with people who use the notifications already they\nseemed more keen to a solution like this that doesn't require long polling\nsupport. Also it makes wumpus less upset to just improve a current\nnotification system ð¤¯\n\nThat's said they're not necessarily in competition.\n\nOn Thu, Jul 23, 2020, 6:37 PM JoÃ£o Barbosa <notifications@github.com> wrote:\n\n> *@promag* commented on this pull request.\n>\n> I still think #19476 <https://github.com/bitcoin/bitcoin/pull/19476>\n> makes life easier for the client in regards to fault tolerance and\n> simplicity. With this PR, the client still has to bake its state from RPC\n> and ZMQ.\n>\n> I think you could extract CValidationInterface changes to a different PR.\n> ------------------------------\n>\n> In test/functional/interface_zmq.py\n> <https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459761022>:\n>\n> > @@ -147,8 +147,8 @@ def test_reorg(self):\n>\n>          self.nodes[0].generatetoaddress(1, ADDRESS_BCRT1_UNSPENDABLE)\n>\n>          assert_equal(self.nodes[0].getbestblockhash(), hashblock.receive().hex())\n>\n>\n>\n> -        # Generate 2 blocks in nodes[1]\n>\n> -        self.nodes[1].generatetoaddress(2, ADDRESS_BCRT1_UNSPENDABLE)\n>\n> +        # Generate 2 blocks in nodes[1] to a different address to ensure split\n>\n> +        self.nodes[1].generatetoaddress(2, ADDRESS_BCRT1_P2WSH_OP_TRUE)\n>\n>\n> 951507c\n> <https://github.com/bitcoin/bitcoin/commit/951507c4d1152ceab2a930fb16fdac05504f0056>\n>\n> oops ð good catch.\n> ------------------------------\n>\n> In src/txmempool.h\n> <https://github.com/bitcoin/bitcoin/pull/19572#discussion_r459763375>:\n>\n> > @@ -725,6 +731,17 @@ class CTxMemPool\n>\n>          return (m_unbroadcast_txids.count(txid) != 0);\n>\n>      }\n>\n>\n>\n> +    /** Guards this internal counter for external reporting */\n>\n> +    uint32_t GetAndIncrementSequence() const {\n>\n>\n> EXCLUSIVE_LOCKS_REQUIRED(cs) instead?\n>\n> â\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/19572#pullrequestreview-454535546>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABMAFU6BN2AS2HWUGITFY7LR5C3UFANCNFSM4PF2HZKQ>\n> .\n>\n",
      "created_at" : "2020-07-23T22:57:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-663271486",
      "id" : 663271486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzI3MTQ4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-23T22:57:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663271486",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> That's said they're not necessarily in competition.\r\n\r\nI wasn't suggesting otherwise ð ",
      "created_at" : "2020-07-26T10:53:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19572#issuecomment-663972915",
      "id" : 663972915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19572",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2Mzk3MjkxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-26T10:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663972915",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
