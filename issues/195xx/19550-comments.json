[
   {
      "author_association" : "NONE",
      "body" : " Please send me your phoneÂ \n    Il domenica 19 luglio 2020, 00:25:55 CEST, Fabian Jahr <notifications@github.com> ha scritto:  \n \n \nAs I was playing with indices a I was missing an RPC that gives information about the active indices in the node. I think this can be helpful for many users, especially since there are some new index candidates coming up (#14053, #18000) that can give a quick overview without the user having to parse the logs.\n\nFeature summary:\n   \n   - Adds new RPC listindices (placed in Util section)\n   - That RPC only lists the actively running indices\n   - For each index it gives the name, whether it is synced and up to which block height it is synced\n\nYou can view, comment on, or merge this pull request online at:\n\nÂ Â https://github.com/bitcoin/bitcoin/pull/19550\n\nCommit Summary\n   \n   - rpc: Add listindices\n\nFile Changes\n   \n   -  M src/index/base.cpp (9) \n   -  M src/index/base.h (9) \n   -  M src/rpc/misc.cpp (46) \n   -  M test/functional/rpc_misc.py (10) \n\nPatch Links:\n   \n   - https://github.com/bitcoin/bitcoin/pull/19550.patch\n   - https://github.com/bitcoin/bitcoin/pull/19550.diff\n\nâ\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or unsubscribe.\n  ",
      "created_at" : "2020-07-18T22:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19550#issuecomment-660551379",
      "id" : 660551379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19550",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDU1MTM3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-18T22:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660551379",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/68447044?v=4",
         "events_url" : "https://api.github.com/users/davidinvest1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davidinvest1/followers",
         "following_url" : "https://api.github.com/users/davidinvest1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davidinvest1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davidinvest1",
         "id" : 68447044,
         "login" : "davidinvest1",
         "node_id" : "MDQ6VXNlcjY4NDQ3MDQ0",
         "organizations_url" : "https://api.github.com/users/davidinvest1/orgs",
         "received_events_url" : "https://api.github.com/users/davidinvest1/received_events",
         "repos_url" : "https://api.github.com/users/davidinvest1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davidinvest1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davidinvest1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davidinvest1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19528 (rpc: Assert that RPCArg names are equal to CRPCCommand ones (misc) by MarcoFalke)\n* #19461 (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* #19460 (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* #19160 (multiprocess: Add basic spawn and IPC support by ryanofsky)\n* #18531 (rpc: Assert that RPCArg names are equal to CRPCCommand ones by MarcoFalke)\n* #16365 (Log RPC parameters (arguments) if -debug=rpcparams by LarryRuane)\n* #10102 ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-19T03:50:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19550#issuecomment-660581791",
      "id" : 660581791,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19550",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDU4MTc5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-19T03:50:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660581791",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19550#discussion_r456859175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19550"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456859175"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: sort",
      "commit_id" : "6b7d72dc724827bf909b8f2ab560c7aa4182f643",
      "created_at" : "2020-07-19T04:48:30Z",
      "diff_hunk" : "@@ -4,6 +4,8 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include <httpserver.h>\n+#include <index/txindex.h>\n+#include <index/blockfilterindex.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19550#discussion_r456859175",
      "id" : 456859175,
      "line" : 8,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg1OTE3NQ==",
      "original_commit_id" : "6b7d72dc724827bf909b8f2ab560c7aa4182f643",
      "original_line" : 8,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/misc.cpp",
      "position" : 5,
      "pull_request_review_id" : 451098467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19550",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-19T04:58:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456859175",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19550#discussion_r456859351"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19550"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456859351"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure it makes sense to do so here, but ISTM returning a JSON object is generally the preferred RPC result.",
      "commit_id" : "6b7d72dc724827bf909b8f2ab560c7aa4182f643",
      "created_at" : "2020-07-19T04:51:01Z",
      "diff_hunk" : "@@ -597,6 +599,49 @@ static UniValue echo(const JSONRPCRequest& request)\n     return request.params;\n }\n \n+void AddSummary(IndexSummary&& summary, UniValue& results)\n+{\n+    UniValue entry(UniValue::VOBJ);\n+    entry.pushKV(\"name\", summary.name);\n+    entry.pushKV(\"synced\", summary.synced);\n+    entry.pushKV(\"best_block_height\", summary.best_block_height);\n+    results.push_back(entry);\n+}\n+\n+static UniValue listindices(const JSONRPCRequest& request)\n+{\n+            RPCHelpMan{\"listindices\",\n+                \"\\nReturns the available indices and their status.\\n\",\n+                {},\n+                RPCResult{\n+                    RPCResult::Type::ARR, \"\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19550#discussion_r456859351",
      "id" : 456859351,
      "line" : 617,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg1OTM1MQ==",
      "original_commit_id" : "6b7d72dc724827bf909b8f2ab560c7aa4182f643",
      "original_line" : 617,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/rpc/misc.cpp",
      "position" : 28,
      "pull_request_review_id" : 451098467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19550",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-19T04:58:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/456859351",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
