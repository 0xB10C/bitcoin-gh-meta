[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-07-19T16:25:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660671704",
      "id" : 660671704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDY3MTcwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-19T16:25:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660671704",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept/approach ACK.",
      "created_at" : "2020-07-19T16:57:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660675922",
      "id" : 660675922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDY3NTkyMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-19T16:57:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660675922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK on this PR.\r\n\r\nlite approach NACK on \"Making the mempool optional for a \"blocksonly\" operation mode\", it should be in it's own flag as there are some other reasons to keep a mempool around even in blocksonly.",
      "created_at" : "2020-07-19T17:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660679408",
      "id" : 660679408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDY3OTQwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-19T17:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660679408",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19473 (net: Add -networkactive option by hebasto)\n* #19306 (refactor: Replace RecursiveMutex with Mutex in CTxMemPool by hebasto)\n* #19271 (validation: Warm coins cache during prevalidation to connect blocks faster by andrewtoth)\n* #19101 (refactor: remove ::vpwallets and related global variables by ryanofsky)\n* #19099 (refactor: Move wallet methods out of chain.h and node.h by ryanofsky)\n* #19098 (test: Remove duplicate NodeContext hacks by ryanofsky)\n* #19064 (refactor: Cleanup thread ctor calls by hebasto)\n* #18731 (refactor: Make CCheckQueue RAII-styled by hebasto)\n* #18710 (Add local thread pool to CCheckQueue by hebasto)\n* #18637 (coins: allow cache resize after init by jamesob)\n* #18354 (Use shared pointers only in validation interface by bvbfan)\n* #18044 (Use wtxid for transaction relay by sdaftuar)\n* #15719 (Wallet passive startup by ryanofsky)\n* #15367 (feature: Added ability for users to add a startup command by benthecarman)\n* #12677 (RPC: Add ancestor{count,size,fees} to listunspent output by luke-jr)\n* #10443 (Add fee_est tool for debugging fee estimation code by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-20T00:02:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660731029",
      "id" : 660731029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDczMTAyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-21T04:05:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660731029",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-07-20T07:16:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660849582",
      "id" : 660849582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDg0OTU4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-20T07:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660849582",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-07-20T10:51:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-660954582",
      "id" : 660954582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDk1NDU4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-20T10:51:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660954582",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r457724631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457724631"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In fact I think you can do better than returning an UNKNOWN state if you check that all parents are part of coin cache and transaction doesn't explicitly signal you can return a FINAL state ?",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-20T22:21:29Z",
      "diff_hunk" : "@@ -18,16 +19,16 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If this transaction is not in our mempool, then we can't be sure\n     // we will know about all its inputs.\n-    if (!pool.exists(tx.GetHash())) {\n+    if (!pool || !pool->exists(tx.GetHash())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r457724631",
      "id" : 457724631,
      "line" : 22,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzcyNDYzMQ==",
      "original_commit_id" : "fad153aff300d310dcd65539bbcaafbf00fbd167",
      "original_line" : 22,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : 18,
      "pull_request_review_id" : 451999587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-20T22:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457724631",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ... empty mempool to test correctness of your transactions wrt to policy (testmempoolaccept)\r\n\r\nI don't modify `testmempoolaccept` behavior in this refactoring pull at all. If you think it should change, I suggest opening a separate behavior-changing pull reqeust. Though, with an empty mempool, a lot of the benefits of `testmempoolaccept` will be lost. So if the behavior is changed, I recommend that users will have to opt-in to the less-useful empty-mempool behavior.\r\n\r\n> In fact I think you can do better than returning an UNKNOWN state if you check that all parents are part of coin cache and transaction doesn't explicitly signal you can return a FINAL state ?\r\n\r\nThis function is only called by the wallet and I think it is not feasible to operate a wallet without a mempool, so accommodating that use case seems a bit overkill. Regardless, I suggest to handle this in a separate pull request from this refactor.",
      "created_at" : "2020-07-21T07:34:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-661688687",
      "id" : 661688687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MTY4ODY4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-21T07:34:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/661688687",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458102776"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458102776"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not make this a pointer now if the idea is to eventually make mempool optional?",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-21T13:38:06Z",
      "diff_hunk" : "@@ -680,7 +680,7 @@ static void CleanupBlockRevFiles()\n     }\n }\n \n-static void ThreadImport(ChainstateManager& chainman, std::vector<fs::path> vImportFiles)\n+static void ThreadImport(ChainstateManager& chainman, CTxMemPool& mempool, std::vector<fs::path> vImportFiles)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458102776",
      "id" : 458102776,
      "line" : 683,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEwMjc3Ng==",
      "original_commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "original_line" : 683,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 34,
      "pull_request_review_id" : 452465189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-21T14:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458102776",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458113702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458113702"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It seems like a slightly odd interface for other components to be passing a mempool reference to a validation method. I think ideally, this would be part of a public interface for validation, which would hold its own mempool reference. For now, this is an improvement over having a mempool global.",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-21T13:52:48Z",
      "diff_hunk" : "@@ -161,11 +160,11 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n /** Ensures we have a genesis block in the block tree, possibly writing one to disk. */\n bool LoadGenesisBlock(const CChainParams& chainparams);\n /** Unload database information */\n-void UnloadBlockIndex();\n+void UnloadBlockIndex(CTxMemPool& mempool);\n /** Run an instance of the script checking thread */\n void ThreadScriptCheck(int worker_num);\n /** Retrieve a transaction (from memory pool, or from disk, if possible) */\n-bool GetTransaction(const uint256& hash, CTransactionRef& tx, const Consensus::Params& params, uint256& hashBlock, const CBlockIndex* const blockIndex = nullptr);\n+bool GetTransaction(const CTxMemPool& mempool, const uint256& hash, CTransactionRef& tx, const Consensus::Params& params, uint256& hashBlock, const CBlockIndex* const blockIndex = nullptr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458113702",
      "id" : 458113702,
      "line" : 167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExMzcwMg==",
      "original_commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "original_line" : 167,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 18,
      "pull_request_review_id" : 452465189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-21T14:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458113702",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458115142"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458115142"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's odd that we'd be fetching a mempool reference for a function that never needs a mempool (gettxoutproof always refers to transactions that are confirmed in the chain, not in the mempool). Presumably this will be removed at some point in the future when the `GetTransaction()` interface is cleaned up, or when mempool becomes optional? Would it be worth having a comment here for now?",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-21T13:54:42Z",
      "diff_hunk" : "@@ -238,6 +240,8 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\n                 RPCExamples{\"\"},\n             }.Check(request);\n \n+    const CTxMemPool& mempool = EnsureMemPool(request.context);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458115142",
      "id" : 458115142,
      "line" : 243,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExNTE0Mg==",
      "original_commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "original_line" : 243,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 22,
      "pull_request_review_id" : 452465189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-21T14:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458115142",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't modify testmempoolaccept behavior in this refactoring pull at all.\r\n\r\nI was aware of this PR not changing behavior , my comment was more an opinion on whether or not we should tight `blocksonly` and `withoutmempool` features under same flag in future works.",
      "created_at" : "2020-07-21T14:31:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-661897357",
      "id" : 661897357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MTg5NzM1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-21T14:31:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/661897357",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458514881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458514881"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fad153aff300d310dcd65539bbcaafbf00fbd167\r\nCould this function differ from https://github.com/bitcoin/bitcoin/blob/fad153aff300d310dcd65539bbcaafbf00fbd167/src/policy/rbf.cpp#L42\r\nby name, not only by signature?",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-22T03:39:21Z",
      "diff_hunk" : "@@ -5,9 +5,10 @@\n #include <policy/rbf.h>\n #include <util/rbf.h>\n \n-RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n+namespace {\n+RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool* const pool) NO_THREAD_SAFETY_ANALYSIS",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r458514881",
      "id" : 458514881,
      "line" : 9,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxNDg4MQ==",
      "original_commit_id" : "fad153aff300d310dcd65539bbcaafbf00fbd167",
      "original_line" : 9,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : 6,
      "pull_request_review_id" : 452972576,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-22T04:06:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458514881",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-22T20:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#issuecomment-662673007",
      "id" : 662673007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19556",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MjY3MzAwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-22T20:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/662673007",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r459301115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459301115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fa571a9d36fe6f54ff15e5bc9b14df6317fdf53d\r\n\r\nATM the caller has the mempool so this looks file to me.",
      "commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "created_at" : "2020-07-23T08:46:27Z",
      "diff_hunk" : "@@ -680,7 +680,7 @@ static void CleanupBlockRevFiles()\n     }\n }\n \n-static void ThreadImport(ChainstateManager& chainman, std::vector<fs::path> vImportFiles)\n+static void ThreadImport(ChainstateManager& chainman, CTxMemPool& mempool, std::vector<fs::path> vImportFiles)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19556#discussion_r459301115",
      "id" : 459301115,
      "in_reply_to_id" : 458102776,
      "line" : 683,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTMwMTExNQ==",
      "original_commit_id" : "faab5976a6b168178137675342e94cc4bfbf4595",
      "original_line" : 683,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 34,
      "pull_request_review_id" : 453939965,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19556",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-23T08:46:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459301115",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
