{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This is part of the coinstats index project tracked in #18000 \r\n\r\nWhile the review of the new UTXO set hash algorithm (MuHash) takes longer recently #19328 was merged which added the possibility to run `gettxoutsetinfo` with a specific hash type. As the first type it added `hash_type=none` which skips the hashing of the UTXO set altogether. This alone did not make `gettxoutsetinfo` much faster but it allows the use of an index for the remaining coin statistics even before a new hashing algorithm has been added. Credit to Sjors for the idea to take this intermediate step.\r\n\r\nFeatures summary:\r\n- Users can start their node with the option `-coinstatsindex` which syncs the index in the background\r\n- After the index is synced the user can  use `gettxoutsetinfo` with `hash_type=none` and will get the response instantly out of the index\r\n- The user can specify a height or block hash when calling `gettxoutsetinfo` to see coin statistics at a specific block height\r\n\r\nTo be discussed:\r\n- An open question is how the UTXO set hash should be added after this is already merged. The hash could be added into the existing index which would need to resync or somehow be migrated. I don't think there is precedent for updating an existing index since BaseIndex was introduced so I would be interested in people's thoughts. Alternatively, there could be an additional separate index for the UTXO set hash. While this is more modular and I could find a way to manage code duplication it does still seem wasteful to have two indices syncing separately for the same RPC.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19521/comments",
   "created_at" : "2020-07-14T23:58:39Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19521/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/19521",
   "id" : 656967146,
   "labels" : [
      {
         "color" : "fbca04",
         "default" : false,
         "description" : null,
         "id" : 97470796,
         "name" : "UTXO Db and Indexes",
         "node_id" : "MDU6TGFiZWw5NzQ3MDc5Ng==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19521/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDQ5MTcwMTYx",
   "number" : 19521,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/19521.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19521",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/19521.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19521"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Coinstats Index (without UTXO set hash)",
   "updated_at" : "2020-07-14T23:59:28Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19521",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
      "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fjahr/followers",
      "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fjahr",
      "id" : 1322187,
      "login" : "fjahr",
      "node_id" : "MDQ6VXNlcjEzMjIxODc=",
      "organizations_url" : "https://api.github.com/users/fjahr/orgs",
      "received_events_url" : "https://api.github.com/users/fjahr/received_events",
      "repos_url" : "https://api.github.com/users/fjahr/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fjahr"
   }
}
