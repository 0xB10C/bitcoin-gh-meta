[
   {
      "author_association" : "MEMBER",
      "body" : "Testing your branch @ 13a4a092dbeb3ec9a99398450941f4066dc92fcf:\r\n```bash\r\nshasum -a 256 Xcode_12.2.xip\r\n28d352f8c14a43d9b8a082ac6338dc173cb153f964c6e8fb6ba389e5be528bd0  Xcode_12.2.xip\r\n....\r\ncontrib/macdeploy/gen-sdk Xcode.app\r\nFound Xcode (version: 12.2, build id: 12B45b)\r\nFound MacOSX SDK (version: 11.0, build id: 20A2408)\r\nCreating output .tar.gz file...\r\nAdding MacOSX SDK 11.0 files...\r\nAdding libc++ headers...\r\nDone! Find the resulting gzipped tarball at:\r\nXcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz\r\n...\r\nshasum -a 256 Xcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz \r\na396dd24f61fb55a6d3ec98b8b58fc0b04cdb6b2695039869d04105f885e0867  Xcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz\r\n```",
      "created_at" : "2022-03-11T15:55:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065242440",
      "id" : 1065242440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_fk9I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065242440/reactions"
      },
      "updated_at" : "2022-03-11T15:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065242440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Testing your branch @ [13a4a09](https://github.com/bitcoin/bitcoin/commit/13a4a092dbeb3ec9a99398450941f4066dc92fcf):\r\n\r\nHow did you extract the xip file? Via `xip -x` or `apple-sdk-tools/extract_xcode.py` ?\r\n\r\nEdit: I tried to unpack the xip file using both methods and despite the extracted folders have different timestamps (`xip -x` keeps the timestamps from the archive, the cpio method ruins them), the updated gen-sdk script produced the same hash for me.\r\n\r\nWill investigate further ...",
      "created_at" : "2022-03-11T16:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065271058",
      "id" : 1065271058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_fr8S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065271058/reactions"
      },
      "updated_at" : "2022-03-11T17:12:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065271058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems the default TAR format has changed [from GNU to PAX in Python 3.8](https://docs.python.org/3/library/tarfile.html#tarfile.DEFAULT_FORMAT).\r\n\r\nThis is addressed by change in 140f8e7831fc191f4981c4e681f501ef744a6129 which sets the GNU format explicitly. ",
      "created_at" : "2022-03-11T17:12:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065314151",
      "id" : 1065314151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_f2dn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065314151/reactions"
      },
      "updated_at" : "2022-03-12T11:46:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065314151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Argh, found another culprit - https://bugs.python.org/issue18819 (fixed via https://github.com/python/cpython/pull/18080)\r\n\r\nPython 3.8 and older use ASCII string `0000000\\x00` for devmajor/devminor to indicate the entry is not a device. Python 3.9 and newer use the binary string `\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00` (to match the original TAR behaviour) ð­ \r\n\r\nThis might be fixed by monkey-patching the `tarfile.TarInfo._create_header` function.",
      "created_at" : "2022-03-11T18:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065392126",
      "id" : 1065392126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_gJf-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065392126/reactions"
      },
      "updated_at" : "2022-03-12T11:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065392126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This might be fixed by monkey-patching the `tarfile.TarInfo._create_header` function.\r\n\r\nI monkey-patched the Python bug in ba30a5407e065e9d6dd037351e83f56a43f38f19.\r\n\r\nThe new deterministic hash should be `e7ca56bc8804d16624fad68be2e71647747d6629cacaaa3de5fbfa7f444e9eae`,\r\n\r\nI was able to reproduce this hash on:\r\n- [x] Linux with Python 3.9 where the SDK was extracted via `apple-sdk-tools/extract_xcode.py`\r\n- [x] macOS with Python 3.8 where the SDK was extracted via `xip -x`",
      "created_at" : "2022-03-12T11:38:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065867518",
      "id" : 1065867518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_h9j-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065867518/reactions"
      },
      "updated_at" : "2022-03-12T12:31:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065867518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-03-12T13:32:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065884143",
      "id" : 1065884143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_iBnv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065884143/reactions"
      },
      "updated_at" : "2022-03-12T13:32:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065884143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The new deterministic hash should be e7ca56bc8804d16624fad68be2e71647747d6629cacaaa3de5fbfa7f444e9eae,\r\n\r\nNice. I'm now getting a matching hash.\r\n```bash\r\nâ  SDK ./contrib/macdeploy/gen-sdk Xcode.app                                     \r\nFound Xcode (version: 12.2, build id: 12B45b)\r\nFound MacOSX SDK (version: 11.0, build id: 20A2408)\r\nCreating output .tar.gz file...\r\nAdding MacOSX SDK 11.0 files...\r\nAdding libc++ headers...\r\nDone! Find the resulting gzipped tarball at:\r\nXcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz\r\nâ  SDK shasum -a 256 Xcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz\r\ne7ca56bc8804d16624fad68be2e71647747d6629cacaaa3de5fbfa7f444e9eae  Xcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz\r\n```",
      "created_at" : "2022-03-12T20:33:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24534#issuecomment-1065958101",
      "id" : 1065958101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24534",
      "node_id" : "IC_kwDOABII584_iTrV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065958101/reactions"
      },
      "updated_at" : "2022-03-12T20:33:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1065958101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
