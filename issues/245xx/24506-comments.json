[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-03-08T17:30:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062025483",
      "id" : 1062025483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_TTkL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062025483/reactions"
      },
      "updated_at" : "2022-03-08T17:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062025483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-03-08T17:39:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062034283",
      "id" : 1062034283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_TVtr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062034283/reactions"
      },
      "updated_at" : "2022-03-08T17:39:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062034283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-03-08T18:29:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062079021",
      "id" : 1062079021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_Tgot",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062079021/reactions"
      },
      "updated_at" : "2022-03-08T18:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062079021",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11212268?v=4",
         "events_url" : "https://api.github.com/users/gruve-p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gruve-p/followers",
         "following_url" : "https://api.github.com/users/gruve-p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gruve-p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gruve-p",
         "id" : 11212268,
         "login" : "gruve-p",
         "node_id" : "MDQ6VXNlcjExMjEyMjY4",
         "organizations_url" : "https://api.github.com/users/gruve-p/orgs",
         "received_events_url" : "https://api.github.com/users/gruve-p/received_events",
         "repos_url" : "https://api.github.com/users/gruve-p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gruve-p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gruve-p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gruve-p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I may be out of the loop, but I would have expected macOS binaries to bundle both archs together in the same download? So-called \"universal binaries\"...\r\n\r\nDo those require two separate signatures still?",
      "created_at" : "2022-03-08T18:44:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062090868",
      "id" : 1062090868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_Tjh0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062090868/reactions"
      },
      "updated_at" : "2022-03-08T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062090868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I may be out of the loop, but I would have expected macOS binaries to bundle both archs together in the same download? So-called \"universal binaries\"...\r\n> \r\n> Do those require two separate signatures still?\r\n\r\nWe don't currently create universal binaries. Even so, there would still need to be two separate detached signatures as the universal binaries are ostensibly just the binaries for each arch cat'd together (with some extra headers). So there will be a signature for each of the internal arch specific binaries.",
      "created_at" : "2022-03-08T18:48:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062093809",
      "id" : 1062093809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_TkPx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062093809/reactions"
      },
      "updated_at" : "2022-03-08T18:48:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062093809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think we shouldn't force users to download \"fat\"/universal binaries, which are appr. 2 times bigger, when actually the only arch is used.",
      "created_at" : "2022-03-08T18:54:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062098493",
      "id" : 1062098493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_TlY9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062098493/reactions"
      },
      "updated_at" : "2022-03-08T18:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062098493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24506#discussion_r822445274"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24506"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822445274"
         }
      },
      "author_association" : "MEMBER",
      "body" : "When I test this PR it's grabbing `executable` rather than `x86_64` or `arm64`.\r\n\r\n```suggestion\r\nARCH=$(file ${BINARY} | cut -d \" \" -f 5)\r\n```\r\n\r\n With the above change I instead get:\r\n```bash\r\nCode signature created\r\nCreated signature-osx-arm64.tar.gz\r\n....\r\nCode signature created\r\nCreated signature-osx-x86_64.tar.gz\r\n```\r\n\r\n`file` output for either binary:\r\n```bash\r\nfile dist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt \r\ndist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt: Mach-O 64-bit executable arm64\r\n...\r\nfile dist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt\r\ndist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt: Mach-O 64-bit executable x86_64\r\n```",
      "commit_id" : "8f8c4114529f047d37b5ce472b418156568ee14f",
      "created_at" : "2022-03-09T09:24:58Z",
      "diff_hunk" : "@@ -8,9 +8,11 @@ set -e\n \n ROOTDIR=dist\n BUNDLE=\"${ROOTDIR}/Bitcoin-Qt.app\"\n+BINARY=\"${BUNDLE}/Contents/MacOS/Bitcoin-Qt\"\n SIGNAPPLE=signapple\n TEMPDIR=sign.temp\n-OUT=signature-osx.tar.gz\n+ARCH=$(file ${BINARY} | cut -d \" \" -f 4)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#discussion_r822445274",
      "id" : 822445274,
      "line" : 14,
      "node_id" : "PRRC_kwDOABII584xBYTa",
      "original_commit_id" : "8f8c4114529f047d37b5ce472b418156568ee14f",
      "original_line" : 14,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : 8,
      "pull_request_review_id" : 904079216,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24506",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822445274/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-09T09:25:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822445274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\n> I think we shouldn't force users to download \"fat\"/universal binaries, which are appr. 2 times bigger, when actually the only arch is used.\r\n\r\nAgree. If we can, I'd prefer to stick to one OS/architecture pair per download,. It makes things simpler for us in several ways, and if we're worried users have difficulty picking the right file we could implement detection on the download website. And last but not least it seems Apple is really committed to this ARM thing so any work on fat binaries is wasted in a slightly longer timeframe.",
      "created_at" : "2022-03-09T10:49:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#issuecomment-1062793473",
      "id" : 1062793473,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24506",
      "node_id" : "IC_kwDOABII584_WPEB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062793473/reactions"
      },
      "updated_at" : "2022-03-09T10:49:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1062793473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24506#discussion_r822525743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24506"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822525743"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe we can use `awk` to get the last element?\r\n\r\n`ARCH=$(file ${BINARY} | awk '{print $NF}')`",
      "commit_id" : "8f8c4114529f047d37b5ce472b418156568ee14f",
      "created_at" : "2022-03-09T10:55:06Z",
      "diff_hunk" : "@@ -8,9 +8,11 @@ set -e\n \n ROOTDIR=dist\n BUNDLE=\"${ROOTDIR}/Bitcoin-Qt.app\"\n+BINARY=\"${BUNDLE}/Contents/MacOS/Bitcoin-Qt\"\n SIGNAPPLE=signapple\n TEMPDIR=sign.temp\n-OUT=signature-osx.tar.gz\n+ARCH=$(file ${BINARY} | cut -d \" \" -f 4)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24506#discussion_r822525743",
      "id" : 822525743,
      "in_reply_to_id" : 822445274,
      "line" : 14,
      "node_id" : "PRRC_kwDOABII584xBr8v",
      "original_commit_id" : "8f8c4114529f047d37b5ce472b418156568ee14f",
      "original_line" : 14,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : 8,
      "pull_request_review_id" : 904188852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24506",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822525743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-09T10:55:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/822525743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "node_id" : "MDQ6VXNlcjQyMjAx",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   }
]
