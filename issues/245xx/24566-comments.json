[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Looking at the MacOS failure (https://cirrus-ci.com/task/4873523561758720): Oh ok, `AC_PATH_TOOL` sets the absolute path. This may be a real difference, and I suspect it is in this case...",
      "created_at" : "2022-03-14T19:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067192611",
      "id" : 1067192611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_nBEj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067192611/reactions"
      },
      "updated_at" : "2022-03-14T19:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067192611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Guix build hashes have been added to the PR description.",
      "created_at" : "2022-03-14T20:48:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067272061",
      "id" : 1067272061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_nUd9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067272061/reactions"
      },
      "updated_at" : "2022-03-14T20:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067272061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24566#discussion_r826636523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/826636523"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, this seems to be a good idea anyway. :+1:",
      "commit_id" : "a010e086ea8621ebd531fffd585b12bb0cd7761c",
      "created_at" : "2022-03-15T07:04:55Z",
      "diff_hunk" : "@@ -1863,6 +1861,7 @@ AC_SUBST(BITCOIN_WALLET_TOOL_NAME)\n AC_SUBST(BITCOIN_MP_NODE_NAME)\n AC_SUBST(BITCOIN_MP_GUI_NAME)\n \n+AC_SUBST(PATH)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#discussion_r826636523",
      "id" : 826636523,
      "line" : 1864,
      "node_id" : "PRRC_kwDOABII584xRXjr",
      "original_commit_id" : "a010e086ea8621ebd531fffd585b12bb0cd7761c",
      "original_line" : 1864,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 13,
      "pull_request_review_id" : 909734968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24566",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 2,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/826636523/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-15T07:05:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/826636523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Looking at the MacOS failure\r\n\r\nFixed.",
      "created_at" : "2022-03-15T07:27:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067654634",
      "id" : 1067654634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_ox3q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067654634/reactions"
      },
      "updated_at" : "2022-03-15T07:27:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067654634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK -- this works in [bitcoin-core/secp256k1#1088](https://github.com/bitcoin-core/secp256k1/pull/1088) and has solved a real compilation issue (related to emscripten/wasm)\r\n\r\nOn a second thought, I'm not sure. The real compilation issue was solved by the `AR` part in the mentioned PR, not by the `STRIP`/`RANLIB` part that has been ported here.  \r\n\r\nI don't know much about the history of the configure file here but from looking at it, it seems that the general idea is to always use absolute path, i.e., always call the `AC_PATH_` version of the macros, which then does not rely on the value of `$PATH`, and thus does not need an `AC_SUBST(PATH)` as in this PR. \r\n\r\nBut I wonder why `AC_SUBST(PATH)` should be required at all. I mean, why would be `PATH` be different configure vs make? Wouldn't this mean that configure is (internally) changing the `PATH`? But I don't see where. Possibly relevant observation: The failure here is in an external script (`install-sh`). A very related PR was https://github.com/bitcoin/bitcoin/pull/19565, there the failure was again in an external script (`libtool`)\r\n\r\nMaybe it's better to leave the code as is and stick to `AC_PATH_` version. But it's still interesting to know why `PATH` is different in configure vs make in the first place. Not sure if it's worth digging here but understanding this may help make the build system less fragile (and make some of `AC_PATH_` calls redundant).",
      "created_at" : "2022-03-15T09:23:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067746074",
      "id" : 1067746074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_pIMa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067746074/reactions"
      },
      "updated_at" : "2022-03-15T09:23:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067746074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I mean, why would be `PATH` be different configure vs make? Wouldn't this mean that configure is (internally) changing the `PATH`? But I don't see where.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/28bdaa3f7697eef6c3d97e952228ce92e5d18aae/depends/config.site.in#L81",
      "created_at" : "2022-03-15T10:15:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067800277",
      "id" : 1067800277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_pVbV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067800277/reactions"
      },
      "updated_at" : "2022-03-15T10:15:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067800277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh I see! Yeah, I guess my naive thinking then is: if config.site sets `PATH`, so configure runs with a certain `PATH`,  then it makes a lot of sense that make runs with the same `PATH`. And this will follow the principle of least surprise. But I think you and the other regular contributors here can judge better if substituting `PATH` will have unintended effects for the rest of build system (and if it was a deliberate decision not to do this by now). *edit:* If we want to substitute `PATH`, then it's probably possible to get rid of more redundant checks, e.g., the mentioned dsymutil, and this will remove a potential source of those build issues. (We hit https://github.com/bitcoin/bitcoin/pull/19565 in the past and who knows which other tool we'll need to `AC_PATH_` check for tomorrow.)\r\n\r\nSorry for starting this discussion without even a concrete build problem... ",
      "created_at" : "2022-03-15T10:51:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24566#issuecomment-1067840118",
      "id" : 1067840118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24566",
      "node_id" : "IC_kwDOABII584_pfJ2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067840118/reactions"
      },
      "updated_at" : "2022-03-15T10:55:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067840118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   }
]
