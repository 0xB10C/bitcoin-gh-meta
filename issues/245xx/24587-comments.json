[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828263631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828263631"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: add trailing comma\r\n```suggestion\r\n    getnewdestination,\r\n```",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T17:15:54Z",
      "diff_hunk" : "@@ -18,15 +18,23 @@\n     assert_equal,\n )\n from test_framework.wallet_util import bytes_to_wif\n+from test_framework.wallet import (\n+    MiniWallet,\n+    address_to_scriptpubkey,\n+    getnewdestination",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828263631",
      "id" : 828263631,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXkzP",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 24,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912005942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828263631/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T17:25:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828263631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828271861"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828271861"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think descriptor wallets don't support `addmultisigaddress`, so shouldn't this check for bdb?",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T17:24:22Z",
      "diff_hunk" : "@@ -37,57 +45,61 @@ def get_keys(self):\n             k.generate()\n             self.pub.append(k.get_pubkey().get_bytes().hex())\n             self.priv.append(bytes_to_wif(k.get_bytes(), k.is_compressed))\n-        self.final = node2.getnewaddress()\n+        self.final = getnewdestination()[2]\n \n     def run_test(self):\n         node0, node1, node2 = self.nodes\n+        self.wallet=MiniWallet(test_node=node0)\n \n-        self.check_addmultisigaddress_errors()\n+        if self.is_wallet_compiled():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828271861",
      "id" : 828271861,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXmz1",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 54,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912005942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828271861/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T17:25:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828271861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828272277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828272277"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this check still needed if you adjust the checks below to check for bdb instead?",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T17:24:48Z",
      "diff_hunk" : "@@ -18,15 +18,23 @@\n     assert_equal,\n )\n from test_framework.wallet_util import bytes_to_wif\n+from test_framework.wallet import (\n+    MiniWallet,\n+    address_to_scriptpubkey,\n+    getnewdestination\n+)\n \n class RpcCreateMultiSigTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         self.supports_cli = False\n+        if self.is_wallet_compiled():\n+            self.requires_wallet = True\n \n     def skip_test_if_missing_module(self):\n-        self.skip_if_no_wallet()\n+        if self.is_wallet_compiled() and not self.options.descriptors:\n+            self.skip_if_no_bdb()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828272277",
      "id" : 828272277,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXm6V",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 37,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912005942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828272277/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T17:25:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828272277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828311306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828311306"
         }
      },
      "author_association" : "NONE",
      "body" : "done",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:11:41Z",
      "diff_hunk" : "@@ -18,15 +18,23 @@\n     assert_equal,\n )\n from test_framework.wallet_util import bytes_to_wif\n+from test_framework.wallet import (\n+    MiniWallet,\n+    address_to_scriptpubkey,\n+    getnewdestination",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828311306",
      "id" : 828311306,
      "in_reply_to_id" : 828263631,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXwcK",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 24,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912071821,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828311306/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828311306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/21211904?v=4",
         "events_url" : "https://api.github.com/users/ayush933/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ayush933/followers",
         "following_url" : "https://api.github.com/users/ayush933/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ayush933/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ayush933",
         "id" : 21211904,
         "login" : "ayush933",
         "node_id" : "MDQ6VXNlcjIxMjExOTA0",
         "organizations_url" : "https://api.github.com/users/ayush933/orgs",
         "received_events_url" : "https://api.github.com/users/ayush933/received_events",
         "repos_url" : "https://api.github.com/users/ayush933/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ayush933/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ayush933/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ayush933"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828312521"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828312521"
         }
      },
      "author_association" : "NONE",
      "body" : "Changed the checks to check for bdb instead. Removed this check.",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:13:19Z",
      "diff_hunk" : "@@ -18,15 +18,23 @@\n     assert_equal,\n )\n from test_framework.wallet_util import bytes_to_wif\n+from test_framework.wallet import (\n+    MiniWallet,\n+    address_to_scriptpubkey,\n+    getnewdestination\n+)\n \n class RpcCreateMultiSigTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         self.supports_cli = False\n+        if self.is_wallet_compiled():\n+            self.requires_wallet = True\n \n     def skip_test_if_missing_module(self):\n-        self.skip_if_no_wallet()\n+        if self.is_wallet_compiled() and not self.options.descriptors:\n+            self.skip_if_no_bdb()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828312521",
      "id" : 828312521,
      "in_reply_to_id" : 828272277,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXwvJ",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 37,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912073561,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828312521/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:13:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828312521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/21211904?v=4",
         "events_url" : "https://api.github.com/users/ayush933/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ayush933/followers",
         "following_url" : "https://api.github.com/users/ayush933/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ayush933/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ayush933",
         "id" : 21211904,
         "login" : "ayush933",
         "node_id" : "MDQ6VXNlcjIxMjExOTA0",
         "organizations_url" : "https://api.github.com/users/ayush933/orgs",
         "received_events_url" : "https://api.github.com/users/ayush933/received_events",
         "repos_url" : "https://api.github.com/users/ayush933/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ayush933/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ayush933/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ayush933"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828313551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828313551"
         }
      },
      "author_association" : "NONE",
      "body" : "Changed to check for bdb instead.",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:14:39Z",
      "diff_hunk" : "@@ -37,57 +45,61 @@ def get_keys(self):\n             k.generate()\n             self.pub.append(k.get_pubkey().get_bytes().hex())\n             self.priv.append(bytes_to_wif(k.get_bytes(), k.is_compressed))\n-        self.final = node2.getnewaddress()\n+        self.final = getnewdestination()[2]\n \n     def run_test(self):\n         node0, node1, node2 = self.nodes\n+        self.wallet=MiniWallet(test_node=node0)\n \n-        self.check_addmultisigaddress_errors()\n+        if self.is_wallet_compiled():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828313551",
      "id" : 828313551,
      "in_reply_to_id" : 828271861,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584xXw_P",
      "original_commit_id" : "aba008256bc79b0374af5afb97c9a4d5d3ba10d9",
      "original_line" : 54,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : null,
      "pull_request_review_id" : 912074982,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828313551/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828313551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/21211904?v=4",
         "events_url" : "https://api.github.com/users/ayush933/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ayush933/followers",
         "following_url" : "https://api.github.com/users/ayush933/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ayush933/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ayush933",
         "id" : 21211904,
         "login" : "ayush933",
         "node_id" : "MDQ6VXNlcjIxMjExOTA0",
         "organizations_url" : "https://api.github.com/users/ayush933/orgs",
         "received_events_url" : "https://api.github.com/users/ayush933/received_events",
         "repos_url" : "https://api.github.com/users/ayush933/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ayush933/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ayush933/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ayush933"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828330931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828330931"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this needed? IIRC this will only import the coinbase keys, but they aren't needed?",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:36:26Z",
      "diff_hunk" : "@@ -18,15 +18,19 @@\n     assert_equal,\n )\n from test_framework.wallet_util import bytes_to_wif\n+from test_framework.wallet import (\n+    MiniWallet,\n+    address_to_scriptpubkey,\n+    getnewdestination,\n+)\n \n class RpcCreateMultiSigTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         self.supports_cli = False\n-\n-    def skip_test_if_missing_module(self):\n-        self.skip_if_no_wallet()\n+        if self.is_bdb_compiled():\n+            self.requires_wallet = True",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828330931",
      "id" : 828330931,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII584xX1Oz",
      "original_commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "original_line" : 33,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : 19,
      "pull_request_review_id" : 912099033,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828330931/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828330931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828339687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828339687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you can remove the if-else and just unconditionally use `validateaddress` for simplicity. ",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:47:05Z",
      "diff_hunk" : "@@ -164,17 +160,23 @@ def do_multisig(self):\n         if self.output_type == 'bech32':\n             assert madd[0:4] == \"bcrt\"  # actually a bech32 address\n \n-        # compare against addmultisigaddress\n-        msigw = wmulti.addmultisigaddress(self.nsigs, self.pub, None, self.output_type)\n-        maddw = msigw[\"address\"]\n-        mredeemw = msigw[\"redeemScript\"]\n-        assert_equal(desc, drop_origins(msigw['descriptor']))\n-        # addmultisigiaddress and createmultisig work the same\n-        assert maddw == madd\n-        assert mredeemw == mredeem\n-\n-        txid = node0.sendtoaddress(madd, 40)\n-\n+        if self.is_bdb_compiled():\n+            # compare against addmultisigaddress\n+            msigw = wmulti.addmultisigaddress(self.nsigs, self.pub, None, self.output_type)\n+            maddw = msigw[\"address\"]\n+            mredeemw = msigw[\"redeemScript\"]\n+            assert_equal(desc, drop_origins(msigw['descriptor']))\n+            # addmultisigiaddress and createmultisig work the same\n+            assert maddw == madd\n+            assert mredeemw == mredeem\n+            wmulti.unloadwallet()\n+\n+        if self.output_type == \"bech32\":\n+            spk = bytes.fromhex(node0.validateaddress(madd)[\"scriptPubKey\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828339687",
      "id" : 828339687,
      "line" : 175,
      "node_id" : "PRRC_kwDOABII584xX3Xn",
      "original_commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "original_line" : 175,
      "original_position" : 177,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : 177,
      "pull_request_review_id" : 912099033,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828339687/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828339687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828340885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828340885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a reason why this check fails? IIUC the multisig addresses are still added to the bdb wallets as watch-only, so the watchonly balance should still match up (considering also the MiniWallet balance)",
      "commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "created_at" : "2022-03-16T18:48:32Z",
      "diff_hunk" : "@@ -119,33 +127,21 @@ def check_addmultisigaddress_errors(self):\n         pubs = [self.nodes[1].getaddressinfo(addr)[\"pubkey\"] for addr in addresses]\n         assert_raises_rpc_error(-5, \"Bech32m multisig addresses cannot be created with legacy wallets\", self.nodes[0].addmultisigaddress, 2, pubs, \"\", \"bech32m\")\n \n-    def checkbalances(self):\n-        node0, node1, node2 = self.nodes\n-        self.generate(node0, COINBASE_MATURITY)\n-\n-        bal0 = node0.getbalance()\n-        bal1 = node1.getbalance()\n-        bal2 = node2.getbalance()\n-\n-        height = node0.getblockchaininfo()[\"blocks\"]\n-        assert 150 < height < 350\n-        total = 149 * 50 + (height - 149 - 100) * 25\n-        assert bal1 == 0\n-        assert bal2 == self.moved\n-        assert bal0 + bal1 + bal2 == total",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24587#discussion_r828340885",
      "id" : 828340885,
      "line" : 135,
      "node_id" : "PRRC_kwDOABII584xX3qV",
      "original_commit_id" : "33560b1d2a214bb00a1b9b06edf9d44bd2d800cc",
      "original_line" : 135,
      "original_position" : 121,
      "original_start_line" : null,
      "path" : "test/functional/rpc_createmultisig.py",
      "position" : 121,
      "pull_request_review_id" : 912099033,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24587",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828340885/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-16T18:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/828340885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
