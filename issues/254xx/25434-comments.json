[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25038](https://github.com/bitcoin/bitcoin/pull/25038) (BIP125-based Package RBF by glozow)\n* [#24836](https://github.com/bitcoin/bitcoin/pull/24836) (add RPC (-regtest only) for testing package policy by glozow)\n* [#24513](https://github.com/bitcoin/bitcoin/pull/24513) (CChainState -> Chainstate by jamesob)\n* [#23897](https://github.com/bitcoin/bitcoin/pull/23897) (refactor: Move calculation logic out from `CheckSequenceLocksAtTip()` by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-06-21T04:46:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25434#issuecomment-1161262465",
      "id" : 1161262465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25434",
      "node_id" : "IC_kwDOABII585FN3WB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161262465/reactions"
      },
      "updated_at" : "2022-06-24T03:08:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161262465",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for picking this up. I just realized I probably should have left a comment summarizing what work needs to be done. Not sure if you saw https://github.com/bitcoin/bitcoin/pull/21413#issuecomment-827228002? We'll want to add (1) an option to override relative timelocks between transactions passed in, (2) a param for what MTP/height to mock, either for the whole thing or at each transaction. This would also require more tests, i.e. utilizing the new options to ensure it works beyond not breaking things.",
      "created_at" : "2022-06-21T08:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25434#issuecomment-1161426723",
      "id" : 1161426723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25434",
      "node_id" : "IC_kwDOABII585FOfcj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161426723/reactions"
      },
      "updated_at" : "2022-06-21T08:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161426723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This greatly increases the scope.\r\n\r\nIt might be better to break down each option into a specific PR.\r\n\r\nHow could `testmempoolaccept` simulate a specific block height, for example?",
      "created_at" : "2022-06-21T16:25:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25434#issuecomment-1161980569",
      "id" : 1161980569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25434",
      "node_id" : "IC_kwDOABII585FQmqZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161980569/reactions"
      },
      "updated_at" : "2022-06-21T16:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1161980569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ariard  If I understand correctly, are you suggesting the parameter schemes below?\r\n\r\n```c++\r\n{\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\r\n    {\r\n        {\"maxfeerate\", RPCArg::Type::AMOUNT, RPCArg::Default{...},\"...\"},\r\n        {\"bypass_relative_timelocks\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_absolute_timelocks\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_feerate_accuracy\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_csv_execution\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_cltv_execution\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n    },\r\n     \"\\\"options\\\"\"\r\n},\r\n```\r\nor\r\n\r\n```c++\r\n{\"options\", RPCArg::Type::OBJ, RPCArg::Optional::OMITTED_NAMED_ARG, \"\",\r\n    {\r\n        {\"maxfeerate\", RPCArg::Type::AMOUNT, RPCArg::Default{...},\"...\"},\r\n        {\"mock_mtp\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"mock_height\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_feerate_accuracy\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_csv_execution\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n        {\"bypass_cltv_execution\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"...\"},\r\n    },\r\n    \"\\\"options\\\"\"\r\n},\r\n```",
      "created_at" : "2022-06-28T14:55:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25434#issuecomment-1168833308",
      "id" : 1168833308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25434",
      "node_id" : "IC_kwDOABII585Fqvsc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168833308/reactions"
      },
      "updated_at" : "2022-06-28T14:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168833308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@w0xlt \r\n\r\nActually a combination of both. The first one + \"mock_mtp / mock_height\". \r\nIt sounds a lot of flexibility but I think that's what you're aiming for to verify Lightning HTLC-timeout.",
      "created_at" : "2022-06-29T01:08:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25434#issuecomment-1169430111",
      "id" : 1169430111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25434",
      "node_id" : "IC_kwDOABII585FtBZf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169430111/reactions"
      },
      "updated_at" : "2022-06-29T01:08:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1169430111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   }
]
