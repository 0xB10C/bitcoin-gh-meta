[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24455](https://github.com/bitcoin/bitcoin/pull/24455) (refactor: Split ArgsManager out of util/system by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-05-02T00:42:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-488521662",
      "id" : 488521662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4ODUyMTY2Mg==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488521662/reactions"
      },
      "updated_at" : "2022-04-10T22:09:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488521662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-05-18T10:23:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-493666091",
      "id" : 493666091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MzY2NjA5MQ==",
      "updated_at" : "2019-05-18T10:23:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493666091",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Travis compile error in https://travis-ci.org/bitcoin/bitcoin/jobs/620388014#L3988 seems to be due to a clang bug with macros and raw strings: https://reviews.llvm.org/D39279\r\n\r\n```\r\nqt/test/optiontests.cpp:56:100: warning: missing terminating '\"' character [-Winvalid-pp-token]\r\n)\", \"std::string(std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()).c_str()\", \"R\\\"({\r\n                                                                                                   ^\r\nqt/test/optiontests.cpp:56:100: error: expected expression\r\n```\r\n\r\nMaybe can work around by adding parentheses, otherwise could declare temp variable.\r\n\r\n---\r\n\r\nOther travis error https://travis-ci.org/bitcoin/bitcoin/jobs/620388019#L2929 seems like a qsettings int value gets stringified on mac (doesn't happen on linux):\r\n\r\nActual: `\"dbcache\": \"600\",`\r\nExpected: `\"dbcache\": 600,`\r\n\r\nIt would probably be good to fix this by adding an explicit type argument to [`ToSetting`](https://github.com/ryanofsky/bitcoin/blob/955f7c00a161d6477172fa9760d1b2b5626d1761/src/qt/optionsmodel.cpp#L31-L40) instead of trying to guess the setting type from the variant type\r\n\r\n---\r\n\r\nRebased 0ab41dd770c1f13983df528b111cfc8a51fe016a -> 955f7c00a161d6477172fa9760d1b2b5626d1761 ([`pr/qtset.4`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.4) -> [`pr/qtset.5`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.5)) after #15934 merge\r\nRebased 955f7c00a161d6477172fa9760d1b2b5626d1761 -> 821268f1b8fedd3082c7e4872c2c03c35bc6f431 ([`pr/qtset.5`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.5) -> [`pr/qtset.6`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.6), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.5-rebase..pr/qtset.6)) due to conflicts with #17473, #17696, #17453, and #18914 and with attempted fixes for travis errors above\r\nUpdated 821268f1b8fedd3082c7e4872c2c03c35bc6f431 -> dc4da098498b910690b5ec3520c6d5446f08daf7 ([`pr/qtset.6`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.6) -> [`pr/qtset.7`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.7), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.6..pr/qtset.7)) with travis and appveyor fixes for https://travis-ci.org/github/bitcoin/bitcoin/jobs/694791815#L2411 and https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/33325125#L55\r\nRebased dc4da098498b910690b5ec3520c6d5446f08daf7 -> ccd6331bec926edee571045dc0f5b4d88a089244 ([`pr/qtset.7`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.7) -> [`pr/qtset.8`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.8), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.7-rebase..pr/qtset.8)) due to conflict with #19233, on updated base pr #15935 pr/rwset.11\r\nRebased ccd6331bec926edee571045dc0f5b4d88a089244 -> 196f6661fc1938f862b6a2897e3ec66a25162698 ([`pr/qtset.8`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.8) -> [`pr/qtset.9`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.9), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.8-rebase..pr/qtset.9)) on top of #15934 pr/rwset.13\r\nRebased 196f6661fc1938f862b6a2897e3ec66a25162698 -> 1b216f0ae333ccbe95be7c66967ec8c3d1765c1c ([`pr/qtset.9`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.9) -> [`pr/qtset.10`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.10), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.9-rebase..pr/qtset.10)) after #19412 to fix TSAN feature_block timeout https://travis-ci.org/github/bitcoin/bitcoin/jobs/703174898\r\nRebased 1b216f0ae333ccbe95be7c66967ec8c3d1765c1c -> 9ad8ee9e41eb7660bb5f2e6c482171cd2ef9848d ([`pr/qtset.10`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.10) -> [`pr/qtset.11`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.11), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.10-rebase..pr/qtset.11)) on top of #15935 pr/rwset.14\r\nRebased 9ad8ee9e41eb7660bb5f2e6c482171cd2ef9848d -> 8aa59dbd667883836fcdaad284fcd7f1fc1b4a7f ([`pr/qtset.11`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.11) -> [`pr/qtset.12`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.12), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.11-rebase..pr/qtset.12)) after #15935 merge\r\nRebased 8aa59dbd667883836fcdaad284fcd7f1fc1b4a7f -> 6634f860f1ff57dffc1c608f427398e95914b5dc ([`pr/qtset.12`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.12) -> [`pr/qtset.13`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.13), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.12-rebase..pr/qtset.13)) due to conflict with https://github.com/bitcoin-core/gui/pull/35\r\nUpdated 6634f860f1ff57dffc1c608f427398e95914b5dc -> 1dd17b4f0ae97a756b4afd3fc5560dc86da92f17 ([`pr/qtset.13`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.13) -> [`pr/qtset.14`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.14), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.13..pr/qtset.14)) fixing missing #include and silent conflict with #15937\r\nUpdated 1dd17b4f0ae97a756b4afd3fc5560dc86da92f17 -> 15f341691b801caf10d353cd84206b1397711071 ([`pr/qtset.14`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.14) -> [`pr/qtset.15`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.15), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.14..pr/qtset.15)) fixing unit test error\r\nRebased 15f341691b801caf10d353cd84206b1397711071 -> 66ab29d052e0fdb4e5771908f2a46fa753d0ecb1 ([`pr/qtset.15`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.15) -> [`pr/qtset.16`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.16), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.15-rebase..pr/qtset.16)) due to conflicts with #18077, #20494, and #21531\r\nRebased 66ab29d052e0fdb4e5771908f2a46fa753d0ecb1 -> 9d4ff45ce5704a1e29bc328eb2d46d28c0f411e5 ([`pr/qtset.16`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.16) -> [`pr/qtset.17`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.17), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.16-rebase..pr/qtset.17)) due to conflicts with #21727 and #21850 (silent)\r\nRebased 9d4ff45ce5704a1e29bc328eb2d46d28c0f411e5 -> 46cef157aa50e1a5e25bfc8fc034a1151be57c93 ([`pr/qtset.17`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.17) -> [`pr/qtset.18`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.18), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.17-rebase..pr/qtset.18)) due to conflict with bitcoin-core/gui#313\r\nUpdated 46cef157aa50e1a5e25bfc8fc034a1151be57c93 -> ca1c704ac2dd6ba8cec4b2c42912211449d1aab9 ([`pr/qtset.18`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.18) -> [`pr/qtset.19`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.19), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.18..pr/qtset.19)) with a compile fix to fix the same conflict\r\nRebased ca1c704ac2dd6ba8cec4b2c42912211449d1aab9 -> c026213dda41e834b9883760d4d6b313c12eb683 ([`pr/qtset.19`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.19) -> [`pr/qtset.20`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.20), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.19-rebase..pr/qtset.20)) due to conflict with bitcoin-core/gui#4\r\nRebased c026213dda41e834b9883760d4d6b313c12eb683 -> 73b31c13d0ad6c6447a7ef43f275a163bf1a9c94 ([`pr/qtset.20`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.20) -> [`pr/qtset.21`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.21), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.20-rebase..pr/qtset.21)) due to conflict with bitcoin-core/gui#390\r\nRebased 73b31c13d0ad6c6447a7ef43f275a163bf1a9c94 -> 17fcdf51ab570eb55b46a7c44a2a631739462612 ([`pr/qtset.21`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.21) -> [`pr/qtset.22`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.22), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.21-rebase..pr/qtset.22)) due to conflict with #22219\r\n",
      "created_at" : "2019-12-04T02:31:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-561447787",
      "id" : 561447787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MTQ0Nzc4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-16T20:05:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561447787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-10T14:38:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-642053427",
      "id" : 642053427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MjA1MzQyNw==",
      "updated_at" : "2020-06-10T14:38:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642053427",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-21T10:25:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-647109165",
      "id" : 647109165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzEwOTE2NQ==",
      "updated_at" : "2020-06-21T10:25:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647109165",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-11T08:36:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-657016080",
      "id" : 657016080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzAxNjA4MA==",
      "updated_at" : "2020-07-11T08:36:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657016080",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-23T17:03:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-663121900",
      "id" : 663121900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MzEyMTkwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-23T17:03:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663121900",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-11-19T18:44:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-730565331",
      "id" : 730565331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDU2NTMzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730565331",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-05-05T15:51:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-832805640",
      "id" : 832805640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMjgwNTY0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-05T15:51:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/832805640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-05-26T14:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-848801024",
      "id" : 848801024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0ODgwMTAyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-26T14:08:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/848801024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-06-09T07:49:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-857471176",
      "id" : 857471176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1NzQ3MTE3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-09T07:49:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/857471176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-08-12T00:42:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-897259544",
      "id" : 897259544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5841exgY",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-12T00:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897259544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-16T01:21:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-920501946",
      "id" : 920501946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII58423b66",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-16T01:21:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920501946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-29T10:53:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-930066840",
      "id" : 930066840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843b7GY",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T10:53:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/930066840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 17fcdf51ab570eb55b46a7c44a2a631739462612 -> ec7cc41c00ca93a8bbf92ec13101358f7472cd84 ([`pr/qtset.22`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.22) -> [`pr/qtset.23`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.23), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.22-rebase..pr/qtset.23)) due to conflict with bitcoin-core/gui#416",
      "created_at" : "2021-09-30T18:20:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-931557508",
      "id" : 931557508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843hnCE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931557508/reactions"
      },
      "updated_at" : "2021-09-30T18:20:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931557508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\n",
      "created_at" : "2021-10-01T02:04:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-931835796",
      "id" : 931835796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843iq-U",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931835796/reactions"
      },
      "updated_at" : "2021-10-01T02:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931835796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-10-04T11:56:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-933410897",
      "id" : 933410897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843orhR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933410897/reactions"
      },
      "updated_at" : "2021-10-04T11:56:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933410897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased ec7cc41c00ca93a8bbf92ec13101358f7472cd84 -> 4acc7fcbbcc63a25ac1e5368141dc9612a73c0d1 ([`pr/qtset.23`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.23) -> [`pr/qtset.24`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.24), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.23-rebase..pr/qtset.24)) due to conflict with #20452",
      "created_at" : "2021-10-04T15:12:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-933583483",
      "id" : 933583483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843pVp7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933583483/reactions"
      },
      "updated_at" : "2021-10-04T15:12:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933583483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r721510711"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721510711"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this needed, given that no version was released with this setting?",
      "commit_id" : "4acc7fcbbcc63a25ac1e5368141dc9612a73c0d1",
      "created_at" : "2021-10-04T16:08:20Z",
      "diff_hunk" : "@@ -606,4 +625,41 @@ void OptionsModel::checkAndMigrate()\n     if (settings.contains(\"addrSeparateProxyTor\") && settings.value(\"addrSeparateProxyTor\").toString().endsWith(\"%2\")) {\n         settings.setValue(\"addrSeparateProxyTor\", GetDefaultProxyAddress());\n     }\n+\n+    // Migrate and delete legacy GUI settings that have now moved to <datadir>/settings.json.\n+    auto migrate_setting = [&](OptionID option, const QString& qt_name, const std::string& name) {\n+        if (!settings.contains(qt_name)) return;\n+        QVariant value = settings.value(qt_name);\n+        if (node().getPersistentSetting(name).isNull()) {\n+            if (option == ProxyIP) {\n+                ProxySetting parsed = ParseProxyString(value.toString());\n+                setOption(ProxyIP, parsed.ip);\n+                setOption(ProxyPort, parsed.port);\n+            } else if (option == ProxyIPTor) {\n+                ProxySetting parsed = ParseProxyString(value.toString());\n+                setOption(ProxyIPTor, parsed.ip);\n+                setOption(ProxyPortTor, parsed.port);\n+            } else {\n+                setOption(option, value);\n+            }\n+        }\n+        settings.remove(qt_name);\n+    };\n+\n+    migrate_setting(DatabaseCache, \"nDatabaseCache\", \"dbcache\");\n+    migrate_setting(ThreadsScriptVerif, \"nThreadsScriptVerif\", \"par\");\n+#ifdef ENABLE_WALLET\n+    migrate_setting(SpendZeroConfChange, \"bSpendZeroConfChange\", \"spendzeroconfchange\");\n+    migrate_setting(ExternalSignerPath, \"external_signer_path\", \"signer\");\n+#endif\n+    migrate_setting(MapPortUPnP, \"fUseUPnP\", \"upnp\");\n+    migrate_setting(MapPortNatpmp, \"fUseNatpmp\", \"natpmp\");\n+    migrate_setting(Listen, \"fListen\", \"listen\");\n+    migrate_setting(Server, \"server\", \"server\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r721510711",
      "id" : 721510711,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII584rAWE3",
      "original_commit_id" : "4acc7fcbbcc63a25ac1e5368141dc9612a73c0d1",
      "original_line" : 658,
      "original_position" : 803,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 803,
      "pull_request_review_id" : 770498004,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721510711/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-04T16:08:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721510711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tried on Fedora and it doesn't work as expected.\r\n\r\n```\r\n[prayank@fedora bin]$ ./bitcoin-qt\r\nQSocketNotifier: Can only be used with threads started with QThread\r\nSegmentation fault (core dumped)\r\n```\r\n\r\nI have `txindex=1` in bitcoin.conf, not a pruned node which works fine with `bitcoind`. It created a settings file on first launch of `bitcoin-qt` which failed with error that `txindex` doesn't work with pruning. Tried running with `prune=0` and it still doesn't work.\r\n\r\nI expect `bitcoin-qt` should use prune=0 by default if nothing is mentioned in config and also fix this segfault error.",
      "created_at" : "2021-10-04T19:17:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-933779768",
      "id" : 933779768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843qFk4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933779768/reactions"
      },
      "updated_at" : "2021-10-04T19:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933779768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r721918616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721918616"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this needed, given that no version was released with this setting?\r\n\r\nNot strictly needed, but it would be strange to remove this because removing it would treat this setting differently than all the other settings, it causes no harm, it is one line of code, removing it would introduce strange behaviors trying to revert and test this PR, and removing it would introduce a bug in the PR if there is any release before this PR is merged.",
      "commit_id" : "6e1c1ea20b8cf0bb6c24c81cda92e79dc14c31d5",
      "created_at" : "2021-10-05T06:15:26Z",
      "diff_hunk" : "@@ -606,4 +625,41 @@ void OptionsModel::checkAndMigrate()\n     if (settings.contains(\"addrSeparateProxyTor\") && settings.value(\"addrSeparateProxyTor\").toString().endsWith(\"%2\")) {\n         settings.setValue(\"addrSeparateProxyTor\", GetDefaultProxyAddress());\n     }\n+\n+    // Migrate and delete legacy GUI settings that have now moved to <datadir>/settings.json.\n+    auto migrate_setting = [&](OptionID option, const QString& qt_name, const std::string& name) {\n+        if (!settings.contains(qt_name)) return;\n+        QVariant value = settings.value(qt_name);\n+        if (node().getPersistentSetting(name).isNull()) {\n+            if (option == ProxyIP) {\n+                ProxySetting parsed = ParseProxyString(value.toString());\n+                setOption(ProxyIP, parsed.ip);\n+                setOption(ProxyPort, parsed.port);\n+            } else if (option == ProxyIPTor) {\n+                ProxySetting parsed = ParseProxyString(value.toString());\n+                setOption(ProxyIPTor, parsed.ip);\n+                setOption(ProxyPortTor, parsed.port);\n+            } else {\n+                setOption(option, value);\n+            }\n+        }\n+        settings.remove(qt_name);\n+    };\n+\n+    migrate_setting(DatabaseCache, \"nDatabaseCache\", \"dbcache\");\n+    migrate_setting(ThreadsScriptVerif, \"nThreadsScriptVerif\", \"par\");\n+#ifdef ENABLE_WALLET\n+    migrate_setting(SpendZeroConfChange, \"bSpendZeroConfChange\", \"spendzeroconfchange\");\n+    migrate_setting(ExternalSignerPath, \"external_signer_path\", \"signer\");\n+#endif\n+    migrate_setting(MapPortUPnP, \"fUseUPnP\", \"upnp\");\n+    migrate_setting(MapPortNatpmp, \"fUseNatpmp\", \"natpmp\");\n+    migrate_setting(Listen, \"fListen\", \"listen\");\n+    migrate_setting(Server, \"server\", \"server\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r721918616",
      "id" : 721918616,
      "in_reply_to_id" : 721510711,
      "line" : 658,
      "node_id" : "PRRC_kwDOABII584rB5qY",
      "original_commit_id" : "4acc7fcbbcc63a25ac1e5368141dc9612a73c0d1",
      "original_line" : 658,
      "original_position" : 803,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 803,
      "pull_request_review_id" : 771015359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721918616/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T06:31:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721918616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-10-05T08:19:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-934177749",
      "id" : 934177749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843rmvV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934177749/reactions"
      },
      "updated_at" : "2021-10-05T08:19:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934177749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 6e1c1ea20b8cf0bb6c24c81cda92e79dc14c31d5 -> a4111bdc448af8f2b5a7126164fb7e5bb6c7f2b0 ([`pr/qtset.25`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.25) -> [`pr/qtset.26`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.26), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.25-rebase..pr/qtset.26)) due to conflict with #22951",
      "created_at" : "2021-10-05T16:16:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-934557457",
      "id" : 934557457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843tDcR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934557457/reactions"
      },
      "updated_at" : "2021-10-05T16:16:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934557457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for rebase. It compiled successfully on Fedora. I have few questions based on steps that I followed:\r\n\r\n1. `bitcoin-qt` had prune option unchecked in GUI. Relaunched `bitcoin-qt` with a data directory that has pruned node. Everything works fine and it automatically checked the prune option. Although GB mentioned in GUI was incorrect. I had saved prune=1024 in `bitcoin.conf` and GUI had 2 GB.\r\n\r\n2. `bitcoin-qt` had prune option checked in GUI from 1. Used data directory that has all blocks saved on disk. Everything works fine and it automatically unchecked the prune option in GUI.\r\n\r\n3. I wanted to check what happens if qt and bitcoin.conf are different. Restarted `bitcoin-qt` with data directory used in 1. Unchecked the prune option manually in GUI. This saved `\"prune\": 0` in `settings.json`. While `bitcoin.conf` for 1 still has `prune=1024`, started bitcoin-qt and I see this error:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/136512056-5aed1a32-df6f-4362-b9c5-44316c8a0df0.png)\r\n\r\n4. Saved below things in `settings.json` for non-pruned node:\r\n    ```\r\n    {\r\n        \"prune\": 1024,\r\n        \"wallet\": [\r\n        ]\r\n       }\r\n    ```\r\n    `bitcoin.conf` had `txindex=1`\r\n\r\nand this is the error I get:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/136512913-86b75d70-0508-42d8-b14f-722272847a99.png)\r\n\r\n5. There is one more case which I wanted to reproduce but couldn't and also don't want to risk deleting my blocks for non-pruned node which is explained in https://github.com/bitcoin-core/gui/issues/245\r\n",
      "created_at" : "2021-10-08T07:09:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-938400093",
      "id" : 938400093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII58437tld",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938400093/reactions"
      },
      "updated_at" : "2021-10-08T07:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/938400093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the testing! In summary, I think all behavior described is expected (and improves on current behavior, even if could be improved more later).\r\n\r\n> 1. `bitcoin-qt` had prune option unchecked in GUI. Relaunched `bitcoin-qt` with a data directory that has pruned node. Everything works fine and it automatically checked the prune option. Although GB mentioned in GUI was incorrect. I had saved prune=1024 in `bitcoin.conf` and GUI had 2 GB.\r\n\r\nThe GUI prune setting is a whole number of GB so it's easier to change and understand than if it were MiB, and to avoid mistakes editing large numbers. 1024MiB is rounded up to 2GB in the display, even though 1024MiB should still be the effective pruning size until the user changes it again. The idea behind rounding up is that it would be bad if node used more disk space than the displayed amount, but ok if it's using less space than the displayed amount.\r\n\r\n> 2. `bitcoin-qt` had prune option checked in GUI from 1. Used data directory that has all blocks saved on disk. Everything works fine and it automatically unchecked the prune option in GUI.\r\n\r\nNice test. It's good to have confirmation that `bitcoin.conf` still takes precedence over `QSettings` so upgrading does not cause changed settings to be used. (Implementation note: the precedence for settings sources is `settings.json` > `bitcoin.conf` > `QSettings`)\r\n\r\n> 3. I wanted to check what happens if qt and bitcoin.conf are different. Restarted `bitcoin-qt` with data directory used in 1. Unchecked the prune option manually in GUI. This saved `\"prune\": 0` in `settings.json`. While `bitcoin.conf` for 1 still has `prune=1024`, started bitcoin-qt and I see this error: [Do you want to rebuild the block database now?]\r\n\r\nIdeally this would be shown as a question not an error, but the benefit of this PR is that when you uncheck the pruning option it now actually disables pruning. Disabling pruning does require reindexing, which is why it asks to reindex.\r\n\r\nSpeaking more generally, the idea behind settings precedence is that `settings.json` is intended to hold live, dynamic settings chosen by the user, and `bitcoin.conf` is supposed to hold static settings chosen by the packager or installer (who can disable live settings with `nosettings=1`). The cases where different settings sources provide different values are intended to be well defined, but also rare. There should be few use cases that require controlling the same setting from different places. In the most common cases, GUI users should not need any `bitcoin.conf` file at all. GUI users should have better options than creating a text file, learning a configuration syntax, and restarting their node to apply settings. Also, ideally more settings will be able to be applied live without restarts, and there will be a `config` RPC method to get and set arbitrary `settings.json` settings.\r\n\r\n> 4. Saved below things in `settings.json` for non-pruned node:\r\n>    ```\r\n>    {\r\n>        \"prune\": 1024,\r\n>        \"wallet\": [\r\n>        ]\r\n>       }\r\n>    ```\r\n>\r\n>    `bitcoin.conf` had `txindex=1`\r\n> \r\n> and this is the error I get: [Prune mode is incompatible with -txindex]\r\n\r\nThis is another good test, and I think it is straightforward that if you enable pruning and enable txindex you will see this error. Ideally this could show options for disabling pruning or disabling txindex, though.\r\n\r\n> 5. There is one more case which I wanted to reproduce but couldn't and also don't want to risk deleting my blocks for non-pruned node which is explained in [Pruning should be based on bitcoin.confÂ bitcoin-core/gui#245](https://github.com/bitcoin-core/gui/issues/245)\r\n\r\nI don't think there should be any direct interaction between this PR and what's described in [#245](https://github.com/bitcoin-core/gui/issues/245). With this PR the node will still prune if you enable pruning in the GUI, and still not prune if you disable pruning in the GUI. The other issue [#245](https://github.com/bitcoin-core/gui/issues/245) seems like it is requesting that the node avoids pruning even if pruning was requested, which does not make sense to me even though I agree we should have safeguards to prevent pruning from happening unintentionally. If you can describe in more detail how [#245](https://github.com/bitcoin-core/gui/issues/245) happened (how pruning got enabled in the GUI), maybe we could add some safeguard to prevent this.",
      "created_at" : "2021-10-08T19:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-939072224",
      "id" : 939072224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843-Rrg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939072224/reactions"
      },
      "updated_at" : "2021-10-08T19:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939072224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If you can describe in more detail how [#245](https://github.com/bitcoin-core/gui/issues/245) happened (how pruning got enabled in the GUI), maybe we could add some safeguard to prevent this.\r\n\r\nMaybe the GUI should have an extra prompt at startup if pruning is changing from disabled to enabled and blocks exist. In the opposite case we already have \"You need to rebuild the database using -reindex to go back to unpruned mode.  [...] Do you want to rebuild the block database now?\". In this case GUI could prompt \"Pruning setting has changed from disabled to enabled, which may discard previously downloaded blocks. Are you sure you want to enable pruning?\" Buttons could be [Enable pruning] [Disable pruning] [Abort].\" If this is a good idea to implement, probably it should be a separate GUI-only PR.",
      "created_at" : "2021-10-08T19:59:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-939084280",
      "id" : 939084280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843-Un4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939084280/reactions"
      },
      "updated_at" : "2021-10-08T20:00:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939084280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If you can describe in more detail how #245 happened (how pruning got enabled in the GUI)\r\n\r\nIt was enabled when I first installed Bitcoin Core. Did not use GUI for months with non-pruned data directory. Never had issues with CLI. So restarting bitcoin-qt after a long time unaware of settings being different, it deleted all my blocks without any prompt.\r\n\r\n> In this case GUI could prompt \"Pruning setting has changed from disabled to enabled, which may discard previously downloaded blocks. Are you sure you want to enable pruning?\" Buttons could be [Enable pruning] [Disable pruning] [Abort].\" If this is a good idea to implement, probably it should be a separate GUI-only PR.\r\n\r\nAgree",
      "created_at" : "2021-10-09T00:59:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-939195436",
      "id" : 939195436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5843-vws",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939195436/reactions"
      },
      "updated_at" : "2021-10-09T00:59:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/939195436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-15T17:27:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-969140586",
      "id" : 969140586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5845w-lq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969140586/reactions"
      },
      "updated_at" : "2021-11-15T17:27:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969140586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased a4111bdc448af8f2b5a7126164fb7e5bb6c7f2b0 -> 32ef6cfa521b8a0615de3259d7b81383608ab8f3 ([`pr/qtset.26`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.26) -> [`pr/qtset.27`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.27), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.26-rebase..pr/qtset.27)) due to conflict with #23004.\r\n",
      "created_at" : "2021-11-29T22:41:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-982089338",
      "id" : 982089338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5846iX56",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/982089338/reactions"
      },
      "updated_at" : "2021-11-29T22:42:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/982089338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "reACK https://github.com/bitcoin/bitcoin/commit/32ef6cfa521b8a0615de3259d7b81383608ab8f3\r\n\r\nOne user had some issues with prune settings today: https://bitcoin.stackexchange.com/questions/110994/bitcoin-core-just-deleted-my-350-gb-of-blockchain-data/",
      "created_at" : "2021-11-29T23:25:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-982126282",
      "id" : 982126282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5846ig7K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/982126282/reactions"
      },
      "updated_at" : "2021-11-29T23:25:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/982126282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-09T17:15:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1008338564",
      "id" : 1008338564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848GgaE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008338564/reactions"
      },
      "updated_at" : "2022-01-09T17:15:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008338564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 32ef6cfa521b8a0615de3259d7b81383608ab8f3 -> 91d3b48508440a16818ee9606bf5bbdca82edf8a ([`pr/qtset.27`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.27) -> [`pr/qtset.28`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.28), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.27-rebase..pr/qtset.28)) due to conflict with bitcoin-core/gui#441",
      "created_at" : "2022-01-10T16:42:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1009093949",
      "id" : 1009093949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848JY09",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009093949/reactions"
      },
      "updated_at" : "2022-01-10T16:42:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009093949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-01-12T20:16:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1011415476",
      "id" : 1011415476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848SPm0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1011415476/reactions"
      },
      "updated_at" : "2022-01-12T20:16:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1011415476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I was expecting to see `natpmp` instead of `fUseNatpmp`.\r\n\r\nThanks for the review, and good catch. I think this was a bug introduced during a rebase. I also fixed a similar problem with `-lang` flag / `language` setting, and split off a separate commit introducing the OptionsModel getOption/setOption methods to make the individual settings changes easier to see.\r\n\r\nUpdated 91d3b48508440a16818ee9606bf5bbdca82edf8a -> 79a0399c696b8212c11c868e1f45f9887aa71993 ([`pr/qtset.28`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.28) -> [`pr/qtset.29`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.29), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.28..pr/qtset.29)) fixing natpmp and language bugs and splitting the commit",
      "created_at" : "2022-01-13T22:50:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1012587863",
      "id" : 1012587863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848Wt1X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012587863/reactions"
      },
      "updated_at" : "2022-01-13T22:50:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012587863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Testing 79a0399c696b8212c11c868e1f45f9887aa71993\r\n\r\nOpening `settings.json` with a fresh Bitcoin-qt (I have some wallets in the directory).\r\n\r\n> \r\n> {\r\n>     \"wallet\": [\r\n>      \"1\",\r\n>      \"2\",\r\n>      \"Config\",\r\n>      \"1.6.22\"\r\n>     ]\r\n>    }\r\n\r\nOpen Bitcoin-qt, through the GUI set prune to 4GB.  Close Bitcoin-qt.  Open `settings.json` again:\r\n\r\n> {\r\n>     \"prune\": 3814,\r\n>     \"upnp\": false,\r\n>     \"wallet\": [\r\n>      \"1\",\r\n>      \"2\",\r\n>      \"Config\",\r\n>      \"1.6.22\"\r\n>     ]\r\n>    }\r\n\r\nUpnP is included because it is by default unselected in the GUI? I think that makes sense.\r\n\r\nI create a `bitcoin.conf` and set `blockfilterindex=1`.  I get an alert:\r\n\r\n> \r\nError: basic block filter index best block of the index goes beyond pruned data. Please disable the index or reindex (which will download the whole blockchain again)\r\n\r\nThis makes sense.  So I run `bitcoin-qt -reindex`\r\n\r\nHowever, I open `settings.json`, and it doesn't show blockfilterindex:\r\n\r\n> \r\n> {\r\n>     \"prune\": 3814,\r\n>     \"upnp\": false,\r\n>     \"wallet\": [\r\n>      \"1\",\r\n>      \"2\",\r\n>      \"Config\",\r\n>      \"1.6.22\"\r\n>     ]\r\n>    }\r\n\r\nAnd I open `bitcoin.conf` and it doesn't show any other settings besides `blockfilterindex=1`\r\n",
      "created_at" : "2022-01-14T04:49:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1012773648",
      "id" : 1012773648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848XbMQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012773648/reactions"
      },
      "updated_at" : "2022-01-14T04:49:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1012773648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rspigler, all of that behavior except the upnp part is working as designed. The goal of the PR is for bitcoin-qt and bitcoind to share the same dynamic settings, and to store those settings in the settings.json file instead of QT settings storage. The software will _never_ write or change bitcoin.conf because bitcoin.conf is for static settings, rather than dynamic ones. The ultimate goal (which is not fully realized here, but would be with a `bitcoin-cli settings` command) is that nobody should ever need to create or edit a `bitcoin.conf` file to change any setting. `bitcoin.conf` would be a way for distributions and packages to set configuration defaults, and for advanced users to be able switch between complicated configurations, or to track their configurations in git, or generate their configurations with deployment tools like docker, ansible, or nix. But everyday users would not know or care about `bitcoin.conf` and would just use the gui or command line to change settings dynamically (CLI would look like `bitcoin-cli settings set prune 4000`) with immediate feedback about invalid values, and not have to worry about creating a text file, or dealing with a configuration syntax, or stopping and restarting bitcoin to make sure the file is parsed and their settings are valid.\r\n\r\nHebasto, it appears there's another bug with natpmp/upnp settings, and I think I see what it is: the `OptionsModel::getOption` method is still returning `settings.value(\"fUseUPnP\")` and `settings.value(\"fUseNatpmp\")` for these settings instead of `ToQVariant(node().getPersistentSetting(\"upnp\"), DEFAULT_UPNP)` and `ToQVariant(node().getPersistentSetting(\"natpmp\"), DEFAULT_NATPMP)`. There may be additional bugs around these settings as well. The implementation of the nat settings changed a lot after this PR was opened, and while I rebased it and fixed explicit conflicts, I never really went through the implementation updating all the upnp/natpmp references that needed to be updated or tested this feature.",
      "created_at" : "2022-01-14T14:01:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1013142512",
      "id" : 1013142512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII5848Y1Pw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013142512/reactions"
      },
      "updated_at" : "2022-01-14T14:01:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1013142512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I have removed the VPN on my device. I hope it helps. ",
      "created_at" : "2022-03-07T00:04:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1060069784",
      "id" : 1060069784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII584_L2GY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060069784/reactions"
      },
      "updated_at" : "2022-03-07T00:04:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1060069784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/100084680?v=4",
         "events_url" : "https://api.github.com/users/ClaraBara22/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ClaraBara22/followers",
         "following_url" : "https://api.github.com/users/ClaraBara22/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ClaraBara22/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ClaraBara22",
         "id" : 100084680,
         "login" : "ClaraBara22",
         "node_id" : "U_kgDOBfcryA",
         "organizations_url" : "https://api.github.com/users/ClaraBara22/orgs",
         "received_events_url" : "https://api.github.com/users/ClaraBara22/received_events",
         "repos_url" : "https://api.github.com/users/ClaraBara22/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ClaraBara22/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ClaraBara22/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ClaraBara22"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-09T17:08:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1063156658",
      "id" : 1063156658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII584_Xnuy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063156658/reactions"
      },
      "updated_at" : "2022-03-09T17:08:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1063156658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 7eb8fa3daf702d4f609ae0532dcfb61e4d26a173 -> 52438b033718afae375cea86ca349db3a878aef4 ([`pr/qtset.30`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.30) -> [`pr/qtset.31`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.31), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.30..pr/qtset.31)) switching some default literals to constants",
      "created_at" : "2022-03-16T21:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1069651999",
      "id" : 1069651999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII584_wZgf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1069651999/reactions"
      },
      "updated_at" : "2022-03-16T21:27:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1069651999",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "FWIW, this PR (52438b033718afae375cea86ca349db3a878aef4) fixes the bitcoin-core/gui#567 regression.",
      "created_at" : "2022-03-23T11:59:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1076293409",
      "id" : 1076293409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585AJu8h",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076293409/reactions"
      },
      "updated_at" : "2022-03-23T11:59:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076293409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-03-23T12:20:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1076312880",
      "id" : 1076312880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585AJzsw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076312880/reactions"
      },
      "updated_at" : "2022-03-23T12:20:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076312880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-03-23T13:39:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1076387217",
      "id" : 1076387217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585AKF2R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076387217/reactions"
      },
      "updated_at" : "2022-03-23T13:39:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076387217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> FWIW, this PR ([52438b0](https://github.com/bitcoin/bitcoin/commit/52438b033718afae375cea86ca349db3a878aef4)) fixes the [bitcoin-core/gui#567](https://github.com/bitcoin-core/gui/issues/567) regression.\r\n\r\nI could be wrong, but I'm guessing this PR only partially fixes https://github.com/bitcoin-core/gui/issues/567. It should prevent the bug if someone disables listening with this PR applied, and then restarts bitcoin-qt. But I'm guessing if they turn off listening without this PR, then restart with this PR applied, the same \"Cannot set -listen=0 together with -listenonion=1\" error will happen, because migrate_settings code apply the setting too late after the InitParameterInteraction code has already run, but before the AppInitParameterInteraction code runs and triggers the error. But the bug should be more temporary and go away after the next restart after the setting is migrated.",
      "created_at" : "2022-03-23T15:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1076486677",
      "id" : 1076486677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585AKeIV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076486677/reactions"
      },
      "updated_at" : "2022-03-23T15:24:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076486677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 52438b033718afae375cea86ca349db3a878aef4 -> b81c22a2880a797ea86d9b793c58aa49c67b9cda ([`pr/qtset.31`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.31) -> [`pr/qtset.32`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.32), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.31-rebase..pr/qtset.32)) due to conflict with bitcoin-core/gui#568. Also cleaned up messy previous conflict resolution with #17696. No change in behavior except for a minor bugfix when the -prune command line option is given and the intro dialog is shown. In previous version of this PR, the intro dialog prune value would only be written to settings.json and not take precedence over the command line value. Now it takes precedence over the command line value.",
      "created_at" : "2022-03-23T20:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1076785187",
      "id" : 1076785187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585ALnAj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076785187/reactions"
      },
      "updated_at" : "2022-03-23T20:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076785187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-04T16:00:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1087736046",
      "id" : 1087736046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585A1Yju",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1087736046/reactions"
      },
      "updated_at" : "2022-04-04T16:00:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1087736046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842669457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842669457"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\nfiles), and the GUI settings will now be used if bitcoind is started\r\nsubsequently, rather than ignored.\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T11:19:10Z",
      "diff_hunk" : "@@ -0,0 +1,8 @@\n+GUI changes\n+-----------\n+\n+Configuration changes made in the bitcoin GUI (such as the pruning setting,\n+proxy settings, UPNP preferences) are now saved to <datadir>/settings.json file\n+rather than to the Qt settings backend (windows registry or unix desktop config\n+files), and the GUI settings will now be used if bitcoind is started in\n+subsequently, rather than ignored.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842669457",
      "id" : 842669457,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yOh2R",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : 7,
      "path" : "doc/release-notes-15936.md",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842669457/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842669457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842680598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842680598"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `LocaleIndependentAtoi()`'s argument is `const std::string&`, no need to get the C-string:\r\n\r\n```suggestion\r\n    return LocaleIndependentAtoi<int>(value.get_str());\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T11:34:06Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842680598",
      "id" : 842680598,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yOkkW",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 41,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842680598/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842680598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842713069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842713069"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`get_str()` will throw if the value is not a string (`typ != VSTR`). I think it is strange to return `\"\"` for a boolean false value and throw for a boolean true. Will also throw for integers.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T12:14:34Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842713069",
      "id" : 842713069,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yOsft",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 58,
      "original_position" : 33,
      "original_start_line" : 45,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842713069/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842713069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842716913"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842716913"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    return QVariant::fromValue(value.get_str());\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T12:19:16Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842716913",
      "id" : 842716913,
      "line" : 68,
      "node_id" : "PRRC_kwDOABII584yOtbx",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 68,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 52,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842716913/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842716913",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842723350"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842723350"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it not possible to use `variant.Type()` and ditch the second argument to this function `QVariant::Type type`?",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T12:26:36Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert QSettings QVariant value to bitcoin setting.\n+static util::SettingsValue ToSetting(const QVariant& variant, QVariant::Type type, const util::SettingsValue& fallback = {})\n+{\n+    if (!variant.isValid()) return fallback;\n+    if (type == QVariant::Bool) return variant.toBool();\n+    if (type == QVariant::Int) return variant.toInt();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842723350",
      "id" : 842723350,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yOvAW",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 66,
      "original_position" : 50,
      "original_start_line" : 62,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842723350/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842723350",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842726459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842726459"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here is the reverse of the above false->empty-string conversion. This code converts empty string to boolean false. This looks strange. Maybe in some cases we would like to keep the empty string as an empty string?",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-05T12:29:55Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert QSettings QVariant value to bitcoin setting.\n+static util::SettingsValue ToSetting(const QVariant& variant, QVariant::Type type, const util::SettingsValue& fallback = {})\n+{\n+    if (!variant.isValid()) return fallback;\n+    if (type == QVariant::Bool) return variant.toBool();\n+    if (type == QVariant::Int) return variant.toInt();\n+    std::string str = variant.toString().toStdString();\n+    if (str.empty()) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842726459",
      "id" : 842726459,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yOvw7",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 68,
      "original_position" : 52,
      "original_start_line" : 67,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842726459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/842726459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased b81c22a2880a797ea86d9b793c58aa49c67b9cda -> 8d50aba09faafa2329751a30d5ce6f63afdc52d0 ([`pr/qtset.32`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.32) -> [`pr/qtset.33`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.33), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.32-rebase..pr/qtset.33)) fixing conflict and test failure after bitcoin-core/gui#569",
      "created_at" : "2022-04-05T20:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1089288250",
      "id" : 1089288250,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585A7Tg6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1089288250/reactions"
      },
      "updated_at" : "2022-04-05T20:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1089288250",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://api.cirrus-ci.com/v1/task/6080882288099328/logs/ci.log:\r\n```\r\nFAIL: qt/test/test_bitcoin-qt\r\n=============================\r\n\r\nQStandardPaths: XDG_RUNTIME_DIR not set, defaulting to '/tmp/runtime-root'\r\n********* Start testing of AppTests *********\r\nConfig: Using QtTest library 5.15.3, Qt 5.15.3 (x86_64-little_endian-lp64 static release build; by Clang 8.0.0 (tags/RELEASE_800/final)), ubuntu 18.04\r\nPASS   : AppTests::initTestCase()\r\nQINFO  : AppTests::appTests() Backing up GUI settings to \"/tmp/test_common_Bitcoin Core/95f88467c15a125c7116b7e203b7386cf60ef5f9ce394165bee770ab2655162d/regtest/guisettings.ini.bak\"\r\nQDEBUG : AppTests::appTests() requestInitialize : Requesting initialize\r\nQDEBUG : AppTests::appTests() Running initialization in thread\r\nQDEBUG : AppTests::appTests() initializeResult : Initialization result:  true\r\nQINFO  : AppTests::appTests() Platform customization: \"other\"\r\nQWARN  : AppTests::appTests() This plugin does not support propagateSizeHints()\r\nQWARN  : AppTests::appTests() This plugin does not support raise()\r\nQWARN  : AppTests::appTests() This plugin does not support grabbing the keyboard\r\nQWARN  : AppTests::appTests() This plugin does not support propagateSizeHints()\r\nQDEBUG : AppTests::appTests() requestShutdown : Requesting shutdown\r\nQDEBUG : AppTests::appTests() Running Shutdown in thread\r\nQDEBUG : AppTests::appTests() Shutdown finished\r\nPASS   : AppTests::appTests()\r\nPASS   : AppTests::cleanupTestCase()\r\nTotals: 3 passed, 0 failed, 0 skipped, 0 blacklisted, 522ms\r\n********* Finished testing of AppTests *********\r\n********* Start testing of OptionTests *********\r\nConfig: Using QtTest library 5.15.3, Qt 5.15.3 (x86_64-little_endian-lp64 static release build; by Clang 8.0.0 (tags/RELEASE_800/final)), ubuntu 18.04\r\nPASS   : OptionTests::initTestCase()\r\nFAIL!  : OptionTests::migrateSettings() Caught unhandled exception\r\n   Loc: [qtestcase.cpp(1939)]\r\nTotals: 1 passed, 1 failed, 0 skipped, 0 blacklisted, 7ms\r\n********* Finished testing of OptionTests *********\r\nterminating with uncaught exception of type std::__1::__fs::filesystem::filesystem_error: filesystem error: in create_directory: Not a directory [/root/.bitcoin/regtest]\r\nFAIL qt/test/test_bitcoin-qt (exit status: 134)\r\n```",
      "created_at" : "2022-04-06T07:33:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1089924788",
      "id" : 1089924788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585A9u60",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1089924788/reactions"
      },
      "updated_at" : "2022-04-06T07:33:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1089924788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks! I think the errors should be fixed by the last push.\r\n\r\nUpdated 8d50aba09faafa2329751a30d5ce6f63afdc52d0 -> 73d7e74aa3201158a7f33daf07fc23a370d2b4b9 ([`pr/qtset.33`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.33) -> [`pr/qtset.34`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.34), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.33..pr/qtset.34)) to fix create_directory errors after OptionsTest caused by OptionsTest clearing the -datadir option set by BasicTestingSetup (https://cirrus-ci.com/task/4954982381256704?logs=ci#L3402, https://cirrus-ci.com/task/5377194846322688?logs=ci#L2727, https://cirrus-ci.com/task/4814244892901376?logs=ci#L3122, https://cirrus-ci.com/task/5236457357967360?logs=ci#L4040, https://cirrus-ci.com/task/4673507404546048?logs=ci#L3145, https://cirrus-ci.com/task/4954982381256704?logs=ci#L3402, https://cirrus-ci.com/task/6080882288099328?logs=ci#L2910)",
      "created_at" : "2022-04-06T20:22:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1090744615",
      "id" : 1090744615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585BA3En",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090744615/reactions"
      },
      "updated_at" : "2022-04-06T20:22:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090744615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845068946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845068946"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "style:\r\n```suggestion\r\nbool OptionsModel::setData(const QModelIndex& index, const QVariant& value, int role)\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T12:22:32Z",
      "diff_hunk" : "@@ -265,322 +256,337 @@ int OptionsModel::rowCount(const QModelIndex & parent) const\n     return OptionIDRowCount;\n }\n \n-struct ProxySetting {\n-    bool is_set;\n-    QString ip;\n-    QString port;\n-};\n-\n-static ProxySetting GetProxySetting(QSettings &settings, const QString &name)\n+static ProxySetting ParseProxyString(const QString& proxy)\n {\n     static const ProxySetting default_val = {false, DEFAULT_GUI_PROXY_HOST, QString(\"%1\").arg(DEFAULT_GUI_PROXY_PORT)};\n     // Handle the case that the setting is not set at all\n-    if (!settings.contains(name)) {\n+    if (proxy.isEmpty()) {\n         return default_val;\n     }\n     // contains IP at index 0 and port at index 1\n-    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(settings.value(name).toString(), \":\");\n+    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(proxy, \":\");\n     if (ip_port.size() == 2) {\n         return {true, ip_port.at(0), ip_port.at(1)};\n     } else { // Invalid: return default\n         return default_val;\n     }\n }\n \n-static void SetProxySetting(QSettings &settings, const QString &name, const ProxySetting &ip_port)\n+static QString ProxyString(bool is_set, QString ip, QString port)\n {\n-    settings.setValue(name, QString{ip_port.ip + QLatin1Char(':') + ip_port.port});\n+    return is_set ? ip + \":\" + port : QString{\"\"};\n }\n \n static const QString GetDefaultProxyAddress()\n {\n     return QString(\"%1:%2\").arg(DEFAULT_GUI_PROXY_HOST).arg(DEFAULT_GUI_PROXY_PORT);\n }\n \n-void OptionsModel::SetPruneEnabled(bool prune, bool force)\n+void OptionsModel::SetPruneTargetGB(int prune_target_gb)\n {\n-    QSettings settings;\n-    settings.setValue(\"bPrune\", prune);\n-    const int64_t prune_target_mib = PruneGBtoMiB(settings.value(\"nPruneSize\").toInt());\n-    std::string prune_val = prune ? ToString(prune_target_mib) : \"0\";\n-    if (force) {\n-        gArgs.ForceSetArg(\"-prune\", prune_val);\n-        return;\n-    }\n-    if (!gArgs.SoftSetArg(\"-prune\", prune_val)) {\n-        addOverriddenOption(\"-prune\");\n+    const bool prune = prune_target_gb > 0;\n+    const util::SettingsValue cur_value = node().getPersistentSetting(\"prune\");\n+    const util::SettingsValue new_value = PruneSetting(prune, prune_target_gb);\n+\n+    // Force setting to take effect. It is still safe to change the value at\n+    // this point because this function is only called after the intro screen is\n+    // shown, before the node starts.\n+    node().forceSetting(\"prune\", new_value);\n+    m_prune_size_gb = PruneSizeGB(new_value);\n+\n+    // Update settings.json if value configured in intro screen is different\n+    // from saved value. Avoid writing settings.json if bitcoin.conf value\n+    // doesn't need to be overridden.\n+    if (PruneEnabled(cur_value) != PruneEnabled(new_value) ||\n+        PruneSizeGB(cur_value) != PruneSizeGB(new_value)) {\n+        // Call updateSetting() instead of setOption() to avoid setting\n+        // RestartRequired flag\n+        node().updateSetting(\"prune\", new_value);\n     }\n }\n \n-void OptionsModel::SetPruneTargetGB(int prune_target_gb, bool force)\n+// read QSettings values and return them\n+QVariant OptionsModel::data(const QModelIndex & index, int role) const\n {\n-    const bool prune = prune_target_gb > 0;\n-    if (prune) {\n-        QSettings settings;\n-        settings.setValue(\"nPruneSize\", prune_target_gb);\n+    if(role == Qt::EditRole)\n+    {\n+        return getOption(OptionID(index.row()));\n     }\n-    SetPruneEnabled(prune, force);\n+    return QVariant();\n }\n \n-// read QSettings values and return them\n-QVariant OptionsModel::data(const QModelIndex & index, int role) const\n+// write QSettings values\n+bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, int role)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845068946",
      "id" : 845068946,
      "line" : 329,
      "node_id" : "PRRC_kwDOABII584yXrqS",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 329,
      "original_position" : 346,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 356,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845068946/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845068946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845099650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845099650"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "style:\r\n```suggestion\r\n    bool setOption(OptionID option, const QVariant& value);\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T12:54:05Z",
      "diff_hunk" : "@@ -79,6 +79,8 @@ class OptionsModel : public QAbstractListModel\n     int rowCount(const QModelIndex & parent = QModelIndex()) const override;\n     QVariant data(const QModelIndex & index, int role = Qt::DisplayRole) const override;\n     bool setData(const QModelIndex & index, const QVariant & value, int role = Qt::EditRole) override;\n+    QVariant getOption(OptionID option) const;\n+    bool setOption(OptionID option, const QVariant &value);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845099650",
      "id" : 845099650,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yXzKC",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 83,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.h",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845099650/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845099650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845113214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845113214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`node()` would assert if the node is not created. This adds an implicit ordering dependency of these methods in `src/qt/bitcoin.cpp`:\r\n\r\n```cpp\r\n    app.createNode(*init);\r\n    app.createOptionsModel(gArgs.GetBoolArg(\"-resetguisettings\", false));\r\n```\r\n\r\nNot so nice, but I guess it is ok. It will crash immediately if the order if violated, can't remain unnoticed if somebody bricks it in the future.\r\n\r\nPS what about calling `createNode()` at the beginning of `createOptionsModel()`? The above is actually the only place where either method is called (ignoring tests).\r\n    ",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T13:07:16Z",
      "diff_hunk" : "@@ -259,7 +259,7 @@ void BitcoinApplication::createPaymentServer()\n \n void BitcoinApplication::createOptionsModel(bool resetSettings)\n {\n-    optionsModel = new OptionsModel(this, resetSettings);\n+    optionsModel = new OptionsModel(node(), this, resetSettings);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845113214",
      "id" : 845113214,
      "line" : 262,
      "node_id" : "PRRC_kwDOABII584yX2d-",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 262,
      "original_position" : 5,
      "original_start_line" : 260,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 5,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845113214/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 260,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845113214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845114077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845114077"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this comment is not correct anymore? The settings are no more in `QSettings`, right?",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T13:08:10Z",
      "diff_hunk" : "@@ -632,6 +632,7 @@ int GuiMain(int argc, char* argv[])\n     app.parameterSetup();\n     GUIUtil::LogQtInfo();\n     // Load GUI settings from QSettings",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845114077",
      "id" : 845114077,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yX2rd",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 634,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845114077/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845114077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845177487"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845177487"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "equivalent, but shorter/simpler:\r\n```suggestion\r\n    m_splash = new SplashScreen(networkStyle);\r\n    m_splash->setNode(node());\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T14:04:14Z",
      "diff_hunk" : "@@ -278,7 +278,9 @@ void BitcoinApplication::createWindow(const NetworkStyle *networkStyle)\n void BitcoinApplication::createSplashScreen(const NetworkStyle *networkStyle)\n {\n     assert(!m_splash);\n+    assert(m_node);\n     m_splash = new SplashScreen(networkStyle);\n+    m_splash->setNode(*m_node);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845177487",
      "id" : 845177487,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yYGKP",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 283,
      "original_position" : 15,
      "original_start_line" : 281,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845177487/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T14:42:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845177487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845213418"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845213418"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "style, here and elsewhere, it *must* be without spaces for some automated tool to pick it up:\r\n```suggestion\r\n        /*ignore_nonpersistent=*/true, /*get_chain_name=*/false);\r\n```",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T14:36:12Z",
      "diff_hunk" : "@@ -592,6 +592,13 @@ bool ArgsManager::WriteSettingsFile(std::vector<std::string>* errors) const\n     return true;\n }\n \n+util::SettingsValue ArgsManager::GetPersistentSetting(const std::string& name) const\n+{\n+    LOCK(cs_args);\n+    return util::GetSetting(m_settings, m_network, name, !UseDefaultSection(\"-\" + name),\n+        /* ignore_nonpersistent = */ true, /* get_chain_name= */ false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845213418",
      "id" : 845213418,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yYO7q",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 599,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 931692550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845213418/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T14:42:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845213418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for review vasild! I'll respond and push an update soon.\r\n\r\nI'm also looking into new MacOS test failure https://cirrus-ci.com/task/5754532419338240. Using cirrus's nice \"Re-run with Terminal Accessâ\" access feature I was able to get the following stack trace:\r\n\r\n```sh\r\nfind . -name test_bitcoin-qt\r\nlldb -- ci/scratch/out/x86_64-apple-darwin/bin/test_bitcoin-qt\r\n(lldb) run\r\n(lldb) bt\r\n* thread #1, name = 'b-test', queue = 'com.apple.main-thread', stop reason = hit program assert\r\n    frame #0: 0x00007ff819f6800e libsystem_kernel.dylib`__pthread_kill + 10\r\n    frame #1: 0x00007ff819f9e1ff libsystem_pthread.dylib`pthread_kill + 263\r\n    frame #2: 0x00007ff819ee9d24 libsystem_c.dylib`abort + 123\r\n    frame #3: 0x00007ff819ee90cb libsystem_c.dylib`__assert_rtn + 314\r\n  * frame #4: 0x00000001007db0c1 test_bitcoin-qt`fsbridge::AbsPathJoin(fs::path const&, fs::path const&) (.cold.1) at fs.cpp:39:5 [opt]\r\n    frame #5: 0x0000000100518efa test_bitcoin-qt`fsbridge::AbsPathJoin(base=0x0000000100e137d8, path=<unavailable>) at fs.cpp:39:5 [opt]\r\n    frame #6: 0x0000000100534734 test_bitcoin-qt`ArgsManager::GetSettingsPath(this=<unavailable>, filepath=0x00007ff7bfefd740, temp=false) const at system.cpp:536:21 [opt]\r\n    frame #7: 0x00000001005348e3 test_bitcoin-qt`ArgsManager::WriteSettingsFile(this=0x0000000100e13688, errors=0x0000000000000000) const at system.cpp:578:10 [opt]\r\n    frame #8: 0x00000001002627cf test_bitcoin-qt`node::(anonymous namespace)::NodeImpl::updateSetting(this=<unavailable>, name=\"dbcache\", value=0x00007ff7bfefd920) at interfaces.cpp:135:15 [opt]\r\n    frame #9: 0x000000010007b941 test_bitcoin-qt`OptionsModel::setOption(this=0x00007ff7bfefdc68, option=<unavailable>, value=0x00007ff7bfefda20) at optionsmodel.cpp:564:20 [opt]\r\n    frame #10: 0x000000010007f662 test_bitcoin-qt`OptionsModel::checkAndMigrate(this=0x00007ff7bfefdac0, option=DatabaseCache, qt_name=0x00007ff7bfefda90, name=\"dbcache\")::$_1::operator()(OptionsModel::OptionID, QString const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const at optionsmodel.cpp:661:17 [opt]\r\n    frame #11: 0x00000001000783e6 test_bitcoin-qt`OptionsModel::checkAndMigrate(this=0x00007ff7bfefdc68) at optionsmodel.cpp:667:5 [opt]\r\n    frame #12: 0x0000000100074bc6 test_bitcoin-qt`OptionsModel::Init(this=0x00007ff7bfefdc68, resetSettings=<unavailable>) at optionsmodel.cpp:134:5 [opt]\r\n    frame #13: 0x000000010007449d test_bitcoin-qt`OptionsModel::OptionsModel(this=0x00007ff7bfefdc68, node=0x00006000000084b0, parent=<unavailable>, resetSettings=<unavailable>) at optionsmodel.cpp:110:5 [opt]\r\n    frame #14: 0x000000010000e0cc test_bitcoin-qt`OptionTests::migrateSettings(this=0x00007ff7bfefe9b0) at optiontests.cpp:50:18 [opt]\r\n    frame #15: 0x000000010218eda0 QtCore`QMetaMethod::invoke(QObject*, Qt::ConnectionType, QGenericReturnArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument, QGenericArgument) const + 1472\r\n    frame #16: 0x0000000101769ff3 QtTest`___lldb_unnamed_symbol12$$QtTest + 819\r\n    frame #17: 0x000000010176ac02 QtTest`___lldb_unnamed_symbol14$$QtTest + 914\r\n    frame #18: 0x000000010176bacb QtTest`___lldb_unnamed_symbol17$$QtTest + 971\r\n    frame #19: 0x000000010176c027 QtTest`QTest::qRun() + 263\r\n    frame #20: 0x000000010176bcf4 QtTest`QTest::qExec(QObject*, int, char**) + 20\r\n    frame #21: 0x000000010001e282 test_bitcoin-qt`main(argc=<unavailable>, argv=<unavailable>) at test_main.cpp:94:9 [opt]\r\n    frame #22: 0x000000010140951e dyld`start + 462\r\n```",
      "created_at" : "2022-04-07T16:18:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1091947456",
      "id" : 1091947456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585BFcvA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091947456/reactions"
      },
      "updated_at" : "2022-04-07T16:18:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1091947456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845353862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845353862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Add OptionsModel getOption/setOption methods\" (87c655ab07b2bddf50bfdc3fcceabd3ef46e436a)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845068946\r\n\r\n> style:\r\n\r\nThis line is actually just moving and I didn't change it. Would prefer not to change it here to avoid interfering with `git diff --color-moved`",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T16:35:11Z",
      "diff_hunk" : "@@ -265,322 +256,337 @@ int OptionsModel::rowCount(const QModelIndex & parent) const\n     return OptionIDRowCount;\n }\n \n-struct ProxySetting {\n-    bool is_set;\n-    QString ip;\n-    QString port;\n-};\n-\n-static ProxySetting GetProxySetting(QSettings &settings, const QString &name)\n+static ProxySetting ParseProxyString(const QString& proxy)\n {\n     static const ProxySetting default_val = {false, DEFAULT_GUI_PROXY_HOST, QString(\"%1\").arg(DEFAULT_GUI_PROXY_PORT)};\n     // Handle the case that the setting is not set at all\n-    if (!settings.contains(name)) {\n+    if (proxy.isEmpty()) {\n         return default_val;\n     }\n     // contains IP at index 0 and port at index 1\n-    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(settings.value(name).toString(), \":\");\n+    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(proxy, \":\");\n     if (ip_port.size() == 2) {\n         return {true, ip_port.at(0), ip_port.at(1)};\n     } else { // Invalid: return default\n         return default_val;\n     }\n }\n \n-static void SetProxySetting(QSettings &settings, const QString &name, const ProxySetting &ip_port)\n+static QString ProxyString(bool is_set, QString ip, QString port)\n {\n-    settings.setValue(name, QString{ip_port.ip + QLatin1Char(':') + ip_port.port});\n+    return is_set ? ip + \":\" + port : QString{\"\"};\n }\n \n static const QString GetDefaultProxyAddress()\n {\n     return QString(\"%1:%2\").arg(DEFAULT_GUI_PROXY_HOST).arg(DEFAULT_GUI_PROXY_PORT);\n }\n \n-void OptionsModel::SetPruneEnabled(bool prune, bool force)\n+void OptionsModel::SetPruneTargetGB(int prune_target_gb)\n {\n-    QSettings settings;\n-    settings.setValue(\"bPrune\", prune);\n-    const int64_t prune_target_mib = PruneGBtoMiB(settings.value(\"nPruneSize\").toInt());\n-    std::string prune_val = prune ? ToString(prune_target_mib) : \"0\";\n-    if (force) {\n-        gArgs.ForceSetArg(\"-prune\", prune_val);\n-        return;\n-    }\n-    if (!gArgs.SoftSetArg(\"-prune\", prune_val)) {\n-        addOverriddenOption(\"-prune\");\n+    const bool prune = prune_target_gb > 0;\n+    const util::SettingsValue cur_value = node().getPersistentSetting(\"prune\");\n+    const util::SettingsValue new_value = PruneSetting(prune, prune_target_gb);\n+\n+    // Force setting to take effect. It is still safe to change the value at\n+    // this point because this function is only called after the intro screen is\n+    // shown, before the node starts.\n+    node().forceSetting(\"prune\", new_value);\n+    m_prune_size_gb = PruneSizeGB(new_value);\n+\n+    // Update settings.json if value configured in intro screen is different\n+    // from saved value. Avoid writing settings.json if bitcoin.conf value\n+    // doesn't need to be overridden.\n+    if (PruneEnabled(cur_value) != PruneEnabled(new_value) ||\n+        PruneSizeGB(cur_value) != PruneSizeGB(new_value)) {\n+        // Call updateSetting() instead of setOption() to avoid setting\n+        // RestartRequired flag\n+        node().updateSetting(\"prune\", new_value);\n     }\n }\n \n-void OptionsModel::SetPruneTargetGB(int prune_target_gb, bool force)\n+// read QSettings values and return them\n+QVariant OptionsModel::data(const QModelIndex & index, int role) const\n {\n-    const bool prune = prune_target_gb > 0;\n-    if (prune) {\n-        QSettings settings;\n-        settings.setValue(\"nPruneSize\", prune_target_gb);\n+    if(role == Qt::EditRole)\n+    {\n+        return getOption(OptionID(index.row()));\n     }\n-    SetPruneEnabled(prune, force);\n+    return QVariant();\n }\n \n-// read QSettings values and return them\n-QVariant OptionsModel::data(const QModelIndex & index, int role) const\n+// write QSettings values\n+bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, int role)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845353862",
      "id" : 845353862,
      "in_reply_to_id" : 845068946,
      "line" : 329,
      "node_id" : "PRRC_kwDOABII584yYxOG",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 329,
      "original_position" : 346,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 356,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845353862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845353862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845357067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845357067"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Add OptionsModel getOption/setOption methods\" (87c655ab07b2bddf50bfdc3fcceabd3ef46e436a)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845099650\r\n\r\n> style:\r\n\r\nThanks, updated",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T16:38:58Z",
      "diff_hunk" : "@@ -79,6 +79,8 @@ class OptionsModel : public QAbstractListModel\n     int rowCount(const QModelIndex & parent = QModelIndex()) const override;\n     QVariant data(const QModelIndex & index, int role = Qt::DisplayRole) const override;\n     bool setData(const QModelIndex & index, const QVariant & value, int role = Qt::EditRole) override;\n+    QVariant getOption(OptionID option) const;\n+    bool setOption(OptionID option, const QVariant &value);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845357067",
      "id" : 845357067,
      "in_reply_to_id" : 845099650,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yYyAL",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 83,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.h",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845357067/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845357067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845368254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368254"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Pass interfaces::Node references to OptionsModel constructor\" (ae9a0987317e23d54c72d82787ef9690a2736595)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845113214\r\n\r\n> `node()` would assert if the node is not created.\r\n\r\nIt doesn't seem like a problem to me that `app.createOptionsModel()` and `app.createSpashScreen()` methods will fail if `app.createNode()` is not called before them. These are just normal function preconditions which are checked by asserts. If it is a problem, it's not a new one: the existing `app.createWindow()` and `app.baseInitialize()` functions both fail in exactly the same way as app.createOptionsModel() does if m_node is null.\r\n\r\nIf you have ideas about how to clean up this code generally, I'd be happy to review a PR. But I wouldn't want to make `createOptionsModel` a special case here different from the other create methods.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T16:51:54Z",
      "diff_hunk" : "@@ -259,7 +259,7 @@ void BitcoinApplication::createPaymentServer()\n \n void BitcoinApplication::createOptionsModel(bool resetSettings)\n {\n-    optionsModel = new OptionsModel(this, resetSettings);\n+    optionsModel = new OptionsModel(node(), this, resetSettings);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845368254",
      "id" : 845368254,
      "in_reply_to_id" : 845113214,
      "line" : 262,
      "node_id" : "PRRC_kwDOABII584yY0u-",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 262,
      "original_position" : 5,
      "original_start_line" : 260,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 5,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368254/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 260,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845368884"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368884"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Pass interfaces::Node references to OptionsModel constructor\" (ae9a0987317e23d54c72d82787ef9690a2736595)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845177487\r\n\r\n> equivalent, but shorter/simpler:\r\n\r\nThanks! Updated this",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T16:52:34Z",
      "diff_hunk" : "@@ -278,7 +278,9 @@ void BitcoinApplication::createWindow(const NetworkStyle *networkStyle)\n void BitcoinApplication::createSplashScreen(const NetworkStyle *networkStyle)\n {\n     assert(!m_splash);\n+    assert(m_node);\n     m_splash = new SplashScreen(networkStyle);\n+    m_splash->setNode(*m_node);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845368884",
      "id" : 845368884,
      "in_reply_to_id" : 845177487,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yY040",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 283,
      "original_position" : 15,
      "original_start_line" : 281,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368884/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845368884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845369718"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845369718"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Pass interfaces::Node references to OptionsModel constructor\" (ae9a0987317e23d54c72d82787ef9690a2736595)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845114077\r\n\r\n> I think this comment is not correct anymore? The settings are no more in `QSettings`, right?\r\n\r\nExpanded comment in later commit. GUI-only settings are still stored in QSettings, but shared bitcoind/bitcoin-qt settings will come from ArgsManager after this.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T16:53:29Z",
      "diff_hunk" : "@@ -632,6 +632,7 @@ int GuiMain(int argc, char* argv[])\n     app.parameterSetup();\n     GUIUtil::LogQtInfo();\n     // Load GUI settings from QSettings",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845369718",
      "id" : 845369718,
      "in_reply_to_id" : 845114077,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yY1F2",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 634,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845369718/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845369718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412201"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412201"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"settings: Add update/getPersistent/isIgnored methods\" (ea8c5cb67ac2aef7b24a4d5765edaca2fa84207a)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845213418\r\n\r\n> style, here and elsewhere, it _must_ be without spaces for some automated tool to pick it up:\r\n\r\nThanks, updated new & changed lines",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T17:44:55Z",
      "diff_hunk" : "@@ -592,6 +592,13 @@ bool ArgsManager::WriteSettingsFile(std::vector<std::string>* errors) const\n     return true;\n }\n \n+util::SettingsValue ArgsManager::GetPersistentSetting(const std::string& name) const\n+{\n+    LOCK(cs_args);\n+    return util::GetSetting(m_settings, m_network, name, !UseDefaultSection(\"-\" + name),\n+        /* ignore_nonpersistent = */ true, /* get_chain_name= */ false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412201",
      "id" : 845412201,
      "in_reply_to_id" : 845213418,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yY_dp",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 599,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/util/system.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412201/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412486"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842669457\r\n\r\n> nit:\r\n\r\nThanks, updated",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T17:45:14Z",
      "diff_hunk" : "@@ -0,0 +1,8 @@\n+GUI changes\n+-----------\n+\n+Configuration changes made in the bitcoin GUI (such as the pruning setting,\n+proxy settings, UPNP preferences) are now saved to <datadir>/settings.json file\n+rather than to the Qt settings backend (windows registry or unix desktop config\n+files), and the GUI settings will now be used if bitcoind is started in\n+subsequently, rather than ignored.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412486",
      "id" : 845412486,
      "in_reply_to_id" : 842669457,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yY_iG",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 8,
      "original_position" : 8,
      "original_start_line" : 7,
      "path" : "doc/release-notes-15936.md",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412486/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412788"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412788"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842680598\r\n\r\n> The `LocaleIndependentAtoi()`'s argument is `const std::string&`, no need to get the C-string:\r\n\r\nThanks, updated",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T17:45:37Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845412788",
      "id" : 845412788,
      "in_reply_to_id" : 842680598,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yY_m0",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 41,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412788/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845412788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845422060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845422060"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842713069\r\n\r\n> `get_str()` will throw if the value is not a string (`typ != VSTR`). I think it is strange to return `\"\"` for a boolean false value and throw for a boolean true. Will also throw for integers.\r\n\r\nAdded comment. In general, I want this function to throw if an setting is saved with the wrong type, because our code should write to `settings.json` file with proper types, and wrong types are an indication of a corrupt or invalid settings file.\r\n\r\nThe `isNull()` and `isFalse()` cases are special just because `ArgsManager` treats them as special. Null values are used by `ArgsManager` to indicate unspecified settings values. False settings are settings that have been specified, but explicitly negated. There are some settings that don't make sense to negate, which is why we have `DISALLOW_NEGATION` flag, but the general approach is allow negations, and treat a negated `-nolist` as `[]`, treat `-nostring` as `\"\"`, `-noint` as `0`, `-nobool` as `false`.\r\n\r\nThe `ToQString` method is used for `-proxy` `-onion` and `-lang` settings and returning empty string for these does make sense when they are negated. For example, if no `-lang` value was specified you might want to use operating system language for translation, where if `-nolang` were specified you might want to disable translation.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T17:56:48Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845422060",
      "id" : 845422060,
      "in_reply_to_id" : 842713069,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yZB3s",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 58,
      "original_position" : 33,
      "original_start_line" : 45,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845422060/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845422060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845435090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845435090"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842716913\r\n\r\nUsing `QVariant::fromValue` instead of `QString::fromStdString` would make this less clear, I think. Or I am not seeing the benefit. `fromValue` is a template method that doesn't have clearly documented behavior, while `fromStdString` is clearly documented to accept the UTF8 strings that `get_str` returns, and is already very commonly used in our Qt code.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T18:09:31Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845435090",
      "id" : 845435090,
      "in_reply_to_id" : 842716913,
      "line" : 68,
      "node_id" : "PRRC_kwDOABII584yZFDS",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 68,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 52,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845435090/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845435090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845438949"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845438949"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842723350\r\n\r\n> Is it not possible to use `variant.Type()` and ditch the second argument to this function `QVariant::Type type`?\r\n\r\nI want to make sure settings are written to `settings.json` with correct types. I rearranged the functions and expanded the comment to make the design goals more clear.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T18:14:33Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert QSettings QVariant value to bitcoin setting.\n+static util::SettingsValue ToSetting(const QVariant& variant, QVariant::Type type, const util::SettingsValue& fallback = {})\n+{\n+    if (!variant.isValid()) return fallback;\n+    if (type == QVariant::Bool) return variant.toBool();\n+    if (type == QVariant::Int) return variant.toInt();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845438949",
      "id" : 845438949,
      "in_reply_to_id" : 842723350,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yZF_l",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 66,
      "original_position" : 50,
      "original_start_line" : 62,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845438949/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845438949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845440071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845440071"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Unify bitcoin-qt and bitcoind persistent settings\" (8d50aba09faafa2329751a30d5ce6f63afdc52d0)\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/15936#discussion_r842726459\r\n\r\n> Here is the reverse of the above false->empty-string conversion. This code converts empty string to boolean false. This looks strange. Maybe in some cases we would like to keep the empty string as an empty string?\r\n\r\nYou're right this was just strange, and I don't know what motivated it. This was only used for the `ExternalSignerPath` option which was a `QLineEdit` string and the `Language` option which was `QValueComboBox` also always set string values. There would no reason in either case to turn empty strings into booleans.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-07T18:15:42Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert QSettings QVariant value to bitcoin setting.\n+static util::SettingsValue ToSetting(const QVariant& variant, QVariant::Type type, const util::SettingsValue& fallback = {})\n+{\n+    if (!variant.isValid()) return fallback;\n+    if (type == QVariant::Bool) return variant.toBool();\n+    if (type == QVariant::Int) return variant.toInt();\n+    std::string str = variant.toString().toStdString();\n+    if (str.empty()) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r845440071",
      "id" : 845440071,
      "in_reply_to_id" : 842726459,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584yZGRH",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 68,
      "original_position" : 52,
      "original_start_line" : 67,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 935375578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845440071/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-07T21:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/845440071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846010862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846010862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "this is the same as:\r\n```suggestion\r\n    m_prune_size_gb = prune_target_gb;\r\n```\r\nsince `new_value` is derived from `prune_target_gb`. I think there is no point to convert the GB (`prune_target_gb`) to MB (`new_value`) only to convert back to GB for `m_prune_size_gb`?",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T11:19:56Z",
      "diff_hunk" : "@@ -265,322 +266,337 @@ int OptionsModel::rowCount(const QModelIndex & parent) const\n     return OptionIDRowCount;\n }\n \n-struct ProxySetting {\n-    bool is_set;\n-    QString ip;\n-    QString port;\n-};\n-\n-static ProxySetting GetProxySetting(QSettings &settings, const QString &name)\n+static ProxySetting ParseProxyString(const QString& proxy)\n {\n     static const ProxySetting default_val = {false, DEFAULT_GUI_PROXY_HOST, QString(\"%1\").arg(DEFAULT_GUI_PROXY_PORT)};\n     // Handle the case that the setting is not set at all\n-    if (!settings.contains(name)) {\n+    if (proxy.isEmpty()) {\n         return default_val;\n     }\n     // contains IP at index 0 and port at index 1\n-    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(settings.value(name).toString(), \":\");\n+    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(proxy, \":\");\n     if (ip_port.size() == 2) {\n         return {true, ip_port.at(0), ip_port.at(1)};\n     } else { // Invalid: return default\n         return default_val;\n     }\n }\n \n-static void SetProxySetting(QSettings &settings, const QString &name, const ProxySetting &ip_port)\n+static QString ProxyString(bool is_set, QString ip, QString port)\n {\n-    settings.setValue(name, QString{ip_port.ip + QLatin1Char(':') + ip_port.port});\n+    return is_set ? ip + \":\" + port : QString{\"\"};\n }\n \n static const QString GetDefaultProxyAddress()\n {\n     return QString(\"%1:%2\").arg(DEFAULT_GUI_PROXY_HOST).arg(DEFAULT_GUI_PROXY_PORT);\n }\n \n-void OptionsModel::SetPruneEnabled(bool prune, bool force)\n+void OptionsModel::SetPruneTargetGB(int prune_target_gb)\n {\n-    QSettings settings;\n-    settings.setValue(\"bPrune\", prune);\n-    const int64_t prune_target_mib = PruneGBtoMiB(settings.value(\"nPruneSize\").toInt());\n-    std::string prune_val = prune ? ToString(prune_target_mib) : \"0\";\n-    if (force) {\n-        gArgs.ForceSetArg(\"-prune\", prune_val);\n-        return;\n-    }\n-    if (!gArgs.SoftSetArg(\"-prune\", prune_val)) {\n-        addOverriddenOption(\"-prune\");\n+    const bool prune = prune_target_gb > 0;\n+    const util::SettingsValue cur_value = node().getPersistentSetting(\"prune\");\n+    const util::SettingsValue new_value = PruneSetting(prune, prune_target_gb);\n+\n+    // Force setting to take effect. It is still safe to change the value at\n+    // this point because this function is only called after the intro screen is\n+    // shown, before the node starts.\n+    node().forceSetting(\"prune\", new_value);\n+    m_prune_size_gb = PruneSizeGB(new_value);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846010862",
      "id" : 846010862,
      "line" : 305,
      "node_id" : "PRRC_kwDOABII584ybRnu",
      "original_commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "original_line" : 305,
      "original_position" : 324,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 324,
      "pull_request_review_id" : 936298972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846010862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-08T13:37:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846010862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846095972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846095972"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This, in isolation, is (wrongly) ignoring the fact that values in [2, 550) are not allowed (`MIN_DISK_SPACE_FOR_BLOCK_FILES` -- 550 MiB). `init.cpp` would refuse to start with such a value.\r\n\r\nIn context, this is only called with values entered in the GUI which is accepting integer GB only, so it is impossible to enter e.g. 100 MiB. Or it could come from `settings.json` where the value is stored in MiB and the user may have edited it (they are not supposed to). I think it is ok because even if <550 is entered in `settings.json` the startup would gracefully fail with the proper message from `init.cpp`.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T13:10:32Z",
      "diff_hunk" : "@@ -19,18 +19,103 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert QVariant value to bitcoin setting of specified type. Type is\n+//! explicitly required to make sure values written to settings.json are always\n+//! written with the right type, regardless of how the options dialog code sets\n+//! the QVariant.\n+static util::SettingsValue ToSetting(const QVariant& variant, QVariant::Type type)\n+{\n+    assert(type == QVariant::Bool || type == QVariant::Int || type == QVariant::String);\n+    if (!variant.isValid()) return {};\n+    if (type == QVariant::Bool) return variant.toBool();\n+    if (type == QVariant::Int) return variant.toInt();\n+    return variant.toString().toStdString();\n+}\n+\n+//! Convert bitcoin setting to QVariant. This is used to interpret values from\n+//! settings.json, which have JSON types, and values from bitcoin.conf, which\n+//! are untyped strings. The return value is not guaranteed to have any\n+//! particular type, so if a specific type is required, ToQString() or ToInt()\n+//! methods below should be used instead of this.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QString. The setting must already be a string, or\n+//! it must be negated or unset. If it has another type like integer, bool,\n+//! array, or object, this will raise an exception.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback; // If string setting is unset, fall back to default.\n+    if (value.isFalse()) return \"\";      // If string setting is negated, treat it like \"\".\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to integer. The setting must already be an integer\n+//! or integer string, or it must be negated or unset. If it has another type,\n+//! this will raise an exception.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback; // If int setting is unset, fall back to default.\n+    if (value.isFalse()) return 0;       // If int setting is negated, treat it like 0.\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str());\n+}\n+\n+//! Get pruning enabled value to show in GUI from bitcoin -prune setting.\n+static bool PruneEnabled(const util::SettingsValue& prune_setting)\n+{\n+    // -prune=1 setting is manual pruning mode, so disabled for purposes of the gui\n+    return ToInt(prune_setting) > 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846095972",
      "id" : 846095972,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII584ybmZk",
      "original_commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "original_line" : 86,
      "original_position" : 70,
      "original_start_line" : 82,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 70,
      "pull_request_review_id" : 936298972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846095972/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 82,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-08T13:37:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846095972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846126392"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126392"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, leave it as is then.\r\n\r\nI mentioned it because this function has a return type `QVariant` and now it returns `QString`. This, I guess, implicitly calls the `QVariant(const QString &string)` contructor. Where is `QString::fromStdString()` documented? Is the constructor `QVariant(const QString &string)` documented too? I do not see any comments in Qt headers.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T13:44:08Z",
      "diff_hunk" : "@@ -19,18 +19,93 @@\n #include <txdb.h>       // for -dbcache defaults\n #include <util/string.h>\n #include <validation.h> // For DEFAULT_SCRIPTCHECK_THREADS\n+#include <wallet/wallet.h> // For DEFAULT_SPEND_ZEROCONF_CHANGE\n \n #include <QDebug>\n #include <QLatin1Char>\n #include <QSettings>\n #include <QStringList>\n \n+#include <univalue.h>\n+\n const char *DEFAULT_GUI_PROXY_HOST = \"127.0.0.1\";\n \n static const QString GetDefaultProxyAddress();\n \n-OptionsModel::OptionsModel(QObject *parent, bool resetSettings) :\n-    QAbstractListModel(parent)\n+//! Convert bitcoin settings value to integer.\n+static int ToInt(const util::SettingsValue& value, int fallback = 0)\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return LocaleIndependentAtoi<int>(value.get_str().c_str());\n+}\n+\n+//! Convert bitcoin settings value to QString.\n+static QString ToQString(const util::SettingsValue& value, const QString& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isFalse()) return \"\";\n+    return QString::fromStdString(value.get_str());\n+}\n+\n+//! Convert bitcoin setting to QVariant.\n+static QVariant ToQVariant(const util::SettingsValue& value, const QVariant& fallback = {})\n+{\n+    if (value.isNull()) return fallback;\n+    if (value.isBool()) return value.get_bool();\n+    if (value.isNum()) return value.get_int();\n+    return QString::fromStdString(value.get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846126392",
      "id" : 846126392,
      "in_reply_to_id" : 842716913,
      "line" : 68,
      "node_id" : "PRRC_kwDOABII584ybt04",
      "original_commit_id" : "b81c22a2880a797ea86d9b793c58aa49c67b9cda",
      "original_line" : 68,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 52,
      "pull_request_review_id" : 936462575,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126392/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-08T13:44:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846126955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126955"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T13:44:41Z",
      "diff_hunk" : "@@ -265,322 +256,337 @@ int OptionsModel::rowCount(const QModelIndex & parent) const\n     return OptionIDRowCount;\n }\n \n-struct ProxySetting {\n-    bool is_set;\n-    QString ip;\n-    QString port;\n-};\n-\n-static ProxySetting GetProxySetting(QSettings &settings, const QString &name)\n+static ProxySetting ParseProxyString(const QString& proxy)\n {\n     static const ProxySetting default_val = {false, DEFAULT_GUI_PROXY_HOST, QString(\"%1\").arg(DEFAULT_GUI_PROXY_PORT)};\n     // Handle the case that the setting is not set at all\n-    if (!settings.contains(name)) {\n+    if (proxy.isEmpty()) {\n         return default_val;\n     }\n     // contains IP at index 0 and port at index 1\n-    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(settings.value(name).toString(), \":\");\n+    QStringList ip_port = GUIUtil::SplitSkipEmptyParts(proxy, \":\");\n     if (ip_port.size() == 2) {\n         return {true, ip_port.at(0), ip_port.at(1)};\n     } else { // Invalid: return default\n         return default_val;\n     }\n }\n \n-static void SetProxySetting(QSettings &settings, const QString &name, const ProxySetting &ip_port)\n+static QString ProxyString(bool is_set, QString ip, QString port)\n {\n-    settings.setValue(name, QString{ip_port.ip + QLatin1Char(':') + ip_port.port});\n+    return is_set ? ip + \":\" + port : QString{\"\"};\n }\n \n static const QString GetDefaultProxyAddress()\n {\n     return QString(\"%1:%2\").arg(DEFAULT_GUI_PROXY_HOST).arg(DEFAULT_GUI_PROXY_PORT);\n }\n \n-void OptionsModel::SetPruneEnabled(bool prune, bool force)\n+void OptionsModel::SetPruneTargetGB(int prune_target_gb)\n {\n-    QSettings settings;\n-    settings.setValue(\"bPrune\", prune);\n-    const int64_t prune_target_mib = PruneGBtoMiB(settings.value(\"nPruneSize\").toInt());\n-    std::string prune_val = prune ? ToString(prune_target_mib) : \"0\";\n-    if (force) {\n-        gArgs.ForceSetArg(\"-prune\", prune_val);\n-        return;\n-    }\n-    if (!gArgs.SoftSetArg(\"-prune\", prune_val)) {\n-        addOverriddenOption(\"-prune\");\n+    const bool prune = prune_target_gb > 0;\n+    const util::SettingsValue cur_value = node().getPersistentSetting(\"prune\");\n+    const util::SettingsValue new_value = PruneSetting(prune, prune_target_gb);\n+\n+    // Force setting to take effect. It is still safe to change the value at\n+    // this point because this function is only called after the intro screen is\n+    // shown, before the node starts.\n+    node().forceSetting(\"prune\", new_value);\n+    m_prune_size_gb = PruneSizeGB(new_value);\n+\n+    // Update settings.json if value configured in intro screen is different\n+    // from saved value. Avoid writing settings.json if bitcoin.conf value\n+    // doesn't need to be overridden.\n+    if (PruneEnabled(cur_value) != PruneEnabled(new_value) ||\n+        PruneSizeGB(cur_value) != PruneSizeGB(new_value)) {\n+        // Call updateSetting() instead of setOption() to avoid setting\n+        // RestartRequired flag\n+        node().updateSetting(\"prune\", new_value);\n     }\n }\n \n-void OptionsModel::SetPruneTargetGB(int prune_target_gb, bool force)\n+// read QSettings values and return them\n+QVariant OptionsModel::data(const QModelIndex & index, int role) const\n {\n-    const bool prune = prune_target_gb > 0;\n-    if (prune) {\n-        QSettings settings;\n-        settings.setValue(\"nPruneSize\", prune_target_gb);\n+    if(role == Qt::EditRole)\n+    {\n+        return getOption(OptionID(index.row()));\n     }\n-    SetPruneEnabled(prune, force);\n+    return QVariant();\n }\n \n-// read QSettings values and return them\n-QVariant OptionsModel::data(const QModelIndex & index, int role) const\n+// write QSettings values\n+bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, int role)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846126955",
      "id" : 846126955,
      "in_reply_to_id" : 845068946,
      "line" : 329,
      "node_id" : "PRRC_kwDOABII584ybt9r",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 329,
      "original_position" : 346,
      "original_start_line" : null,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 356,
      "pull_request_review_id" : 936463378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126955/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-08T13:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846126955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846129996"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846129996"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, leave it as is for the purposes of this PR.\r\n\r\nThere was some subtle bug recently caused by some not-obvious dependency during startup, but the difference with this code here is that here we have an `assert()`, so it will not remain unnoticed.",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T13:47:55Z",
      "diff_hunk" : "@@ -259,7 +259,7 @@ void BitcoinApplication::createPaymentServer()\n \n void BitcoinApplication::createOptionsModel(bool resetSettings)\n {\n-    optionsModel = new OptionsModel(this, resetSettings);\n+    optionsModel = new OptionsModel(node(), this, resetSettings);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846129996",
      "id" : 846129996,
      "in_reply_to_id" : 845113214,
      "line" : 262,
      "node_id" : "PRRC_kwDOABII584ybutM",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 262,
      "original_position" : 5,
      "original_start_line" : 260,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 5,
      "pull_request_review_id" : 936467788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846129996/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 260,
      "start_side" : "RIGHT",
      "updated_at" : "2022-04-08T13:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846129996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846130295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846130295"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "88ead7707dea2e31ce1245daee7d23be3f72e041",
      "created_at" : "2022-04-08T13:48:12Z",
      "diff_hunk" : "@@ -632,6 +632,7 @@ int GuiMain(int argc, char* argv[])\n     app.parameterSetup();\n     GUIUtil::LogQtInfo();\n     // Load GUI settings from QSettings",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#discussion_r846130295",
      "id" : 846130295,
      "in_reply_to_id" : 845114077,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584ybux3",
      "original_commit_id" : "73d7e74aa3201158a7f33daf07fc23a370d2b4b9",
      "original_line" : 634,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/qt/bitcoin.cpp",
      "position" : null,
      "pull_request_review_id" : 936468198,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15936",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846130295/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-08T13:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/846130295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I updated this to drop all the ToSetting/ToQVariant/ToQString/ToInt functions. These were supposed to help make optionsmodel code simpler, but I think in practice I think they were only obfuscating it. They were also duplicating type conversion logic in ArgsManager, which I think is just better to expose directly.\r\n\r\nUpdated 1a8ac5bb1baf555003580db96d619f4a9c23089a -> 9b78c241e5e3af50eec732fb044183331fd0c756 ([`pr/qtset.36`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.36) -> [`pr/qtset.37`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.37), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.36..pr/qtset.37)) fixing missing univalue include.\r\nUpdated 9b78c241e5e3af50eec732fb044183331fd0c756 -> 7966254822e179798d6a375ac3183321ee541733 ([`pr/qtset.37`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.37) -> [`pr/qtset.38`](https://github.com/ryanofsky/bitcoin/commits/pr/qtset.38), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/qtset.37..pr/qtset.38)) dropping setting conversion functions and cleaning up implementation and tests in other small ways.",
      "created_at" : "2022-04-14T04:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15936#issuecomment-1098687435",
      "id" : 1098687435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15936",
      "node_id" : "IC_kwDOABII585BfKPL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098687435/reactions"
      },
      "updated_at" : "2022-04-14T04:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1098687435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
