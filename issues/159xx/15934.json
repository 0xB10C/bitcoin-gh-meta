{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This change makes it easier to add a new persistent settings source in followup #15935 without introducing new bugs and inconsistencies.\r\n\r\nThis PR does not change any behavior and has good test coverage through the util_SettingsMerge test added in #15869.\r\n\r\nRight now settings from different sources are partially merged when settings are parsed, and partially merged when settings are retrieved. The logic implemented merging during retrieval is repeated 5 places:\r\n\r\n- ArgsManagerHelper::GetArg\r\n- ArgsManagerHelper::GetNetBoolArg\r\n- ArgsManager::GetArgs\r\n- ArgsManager::IsArgNegated\r\n- ArgsManager::GetUnsuitableSectionOnlyArgs\r\n\r\nwhich makes it cumbersome introduce a new settings source. Inconsistencies between the 5 implementations are also responsible for some confusing and counterintuitive behaviors (documented in this PR but not changed for now):\r\n\r\n  - Ignored command line arguments (see ArgsManager::ParseParameters)\r\n  - Inconsistently ignored network-specific arguments (see GetSetting)\r\n  - Reappearing negated config arguments (see GetListSetting)\r\n\r\nAfter this change, merging of settings happens in one place: a new settings.h/settings.cpp file in code that has more comments and is less duplicative. It separates merging from parsing, using a data structure that holds complete representation of parsed config files and command line\r\noptions, instead of the current more abstract data structure that has negated values represented by placeholder map entries.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/comments",
   "created_at" : "2019-05-01T21:48:50Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/15934",
   "id" : 439339586,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      },
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 241832923,
         "name" : "Utils/log/libs",
         "node_id" : "MDU6TGFiZWwyNDE4MzI5MjM=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0Mjc1MTY3NTY2",
   "number" : 15934,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/15934.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15934",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/15934.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15934"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "WIP: Dedup settings merge code",
   "updated_at" : "2019-05-02T21:35:45Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
      "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ryanofsky/followers",
      "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ryanofsky",
      "id" : 7133040,
      "login" : "ryanofsky",
      "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
      "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
      "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
      "repos_url" : "https://api.github.com/users/ryanofsky/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ryanofsky"
   }
}
