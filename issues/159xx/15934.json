{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This PR does not change behavior. It's a refactoring-only change that makes it easier to add a new settings source. Before reviewing this, it probably makes sense to look at two simpler commits using it to add a persistent `-wallet` setting:\r\n\r\n* 70675c3e4975203ad6222ba2b00c83b4e4213793 from #15935 Ã¢ÂÂ _Add \\<datadir>/settings.json persistent settings storage_\r\n* 04c80c40df9fc6f4734ba238ea7f65607cf88089 from #15937 Ã¢ÂÂ _Add loadwallet and createwallet RPC load_on_startup options_\r\n\r\nThis change:\r\n\r\n- Makes it easier to add new settings sources that can get merged with existing sources (see 70675c3e4975203ad6222ba2b00c83b4e4213793 from #15935).\r\n- Separates parsing of settings from merging of settings, and deduplicates merging code so it doesn't happen five inconsistent ways in five different places ([GetArg](https://github.com/bitcoin/bitcoin/blob/c459c5f70176928adcee4935813a2dbe7f4dbd51/src/util/system.cpp#L221-L244), [GetNetBoolArg](https://github.com/bitcoin/bitcoin/blob/c459c5f70176928adcee4935813a2dbe7f4dbd51/src/util/system.cpp#L255-L261), [GetArgs](https://github.com/bitcoin/bitcoin/blob/c459c5f70176928adcee4935813a2dbe7f4dbd51/src/util/system.cpp#L460-L467), [IsArgNegated](https://github.com/bitcoin/bitcoin/blob/c459c5f70176928adcee4935813a2dbe7f4dbd51/src/util/system.cpp#L482-L491), [GetUnsuitableSectionOnlyArgs](https://github.com/bitcoin/bitcoin/blob/c459c5f70176928adcee4935813a2dbe7f4dbd51/src/util/system.cpp#L343-L352)) leading to strange and inconsistent semantics.\r\n- Documents and tests current strange merging behaviors, so they be cleaned up in the future if resulting code simplifications and UX improvements warrant loss of backwards compatibility. The newly documented behaviors are: command line [ignored arguments](https://github.com/ryanofsky/bitcoin/blob/1d543adae593bdbfd954e80ed61ac907db0c5a7b/src/util/system.cpp#L326-L330) and [more ignored arguments](https://github.com/ryanofsky/bitcoin/blob/1d543adae593bdbfd954e80ed61ac907db0c5a7b/src/util/system.cpp#L186-L191), and config file [reverse precedence](https://github.com/ryanofsky/bitcoin/blob/1d543adae593bdbfd954e80ed61ac907db0c5a7b/src/util/settings.cpp#L63-L67), [inconsistently applied top-level settings](https://github.com/ryanofsky/bitcoin/blob/1d543adae593bdbfd954e80ed61ac907db0c5a7b/src/util/settings.cpp#L57-L61), and [zombie values](https://github.com/ryanofsky/bitcoin/blob/1d543adae593bdbfd954e80ed61ac907db0c5a7b/src/util/settings.cpp#L100-L107).",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/comments",
   "created_at" : "2019-05-01T21:48:50Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/15934",
   "id" : 439339586,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      },
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 241832923,
         "name" : "Utils/log/libs",
         "node_id" : "MDU6TGFiZWwyNDE4MzI5MjM=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0Mjc1MTY3NTY2",
   "number" : 15934,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/15934.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15934",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/15934.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15934"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Dedup settings merge code",
   "updated_at" : "2019-05-21T23:12:52Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15934",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
      "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ryanofsky/followers",
      "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ryanofsky",
      "id" : 7133040,
      "login" : "ryanofsky",
      "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
      "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
      "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
      "repos_url" : "https://api.github.com/users/ryanofsky/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ryanofsky"
   }
}
