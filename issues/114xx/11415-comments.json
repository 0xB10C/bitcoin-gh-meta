[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11415#discussion_r142243684"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11415"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/142243684"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can we rename this variable `keys_or_addresses` (and the same in `addmultisigaddress`) so it's clear that these could be keys or addresses.",
      "commit_id" : "eb95b57eb9f7707ae8e112c8a82bae8991eabcb9",
      "created_at" : "2017-10-02T20:18:36Z",
      "diff_hunk" : "@@ -301,16 +284,37 @@ UniValue createmultisig(const JSONRPCRequest& request)\n             \"}\\n\"\n \n             \"\\nExamples:\\n\"\n-            \"\\nCreate a multisig address from 2 addresses\\n\"\n-            + HelpExampleCli(\"createmultisig\", \"2 \\\"[\\\\\\\"16sSauSf5pF2UkUwvKGq4qjNRzBZYqgEL5\\\\\\\",\\\\\\\"171sgjn4YtPu27adkKGrdDwzRTxnRkBfKV\\\\\\\"]\\\"\") +\n+            \"\\nCreate a multisig address from 2 public keys\\n\"\n+            + HelpExampleCli(\"createmultisig\", \"2 \\\"[\\\\\\\"03789ed0bb717d88f7d321a368d905e7430207ebbd82bd342cf11ae157a7ace5fd\\\\\\\",\\\\\\\"03dbc6764b8884a92e871274b87583e6d5c2a58819473e17e107ef3f6aa5a61626\\\\\\\"]\\\"\") +\n             \"\\nAs a json rpc call\\n\"\n-            + HelpExampleRpc(\"createmultisig\", \"2, \\\"[\\\\\\\"16sSauSf5pF2UkUwvKGq4qjNRzBZYqgEL5\\\\\\\",\\\\\\\"171sgjn4YtPu27adkKGrdDwzRTxnRkBfKV\\\\\\\"]\\\"\")\n+            + HelpExampleRpc(\"createmultisig\", \"2, \\\"[\\\\\\\"03789ed0bb717d88f7d321a368d905e7430207ebbd82bd342cf11ae157a7ace5fd\\\\\\\",\\\\\\\"03dbc6764b8884a92e871274b87583e6d5c2a58819473e17e107ef3f6aa5a61626\\\\\\\"]\\\"\")\n         ;\n         throw std::runtime_error(msg);\n     }\n \n+    int required = request.params[0].get_int();\n+\n+    // Get the public keys\n+    const UniValue& keys = request.params[1].get_array();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11415#discussion_r142243684",
      "id" : 142243684,
      "original_commit_id" : "eb95b57eb9f7707ae8e112c8a82bae8991eabcb9",
      "original_position" : 140,
      "path" : "src/rpc/misc.cpp",
      "position" : 140,
      "pull_request_review_id" : 66577958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11415",
      "updated_at" : "2017-10-02T20:28:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/142243684",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't love the `only_pubkeys` argument in `_createmultisig_getpubkeys()`. \r\n\r\nI don't really either. I was trying to avoid as much code duplication as possible, but I guess that can't really be avoided.\r\n\r\n> I'm also not a huge fan of passing the address/keys in as a UniValue reference. Is it possible to change `_createmultisig_getpubkeys()` and `_createmultisig_getaddr_pubkeys()` to both take a single string and return a single `CPubKey`? You could then do the iteration over the `UniValue keys_in` outside of the function.\r\n\r\nI'll try doing that.\r\n\r\n> but `addmultisigaddress` calls them the other way round. Is there a reason for that?\r\n\r\nNope.\r\n\r\n> it seems a little gratuitous to change the return type of `addmultisigaddress` (especially without hiding it behind a `-deprecatedrpc` argument). What was the reasoning for that? To not break the tests?\r\n\r\nThat was mostly to not break tests and also because I felt that `addmultisigaddress` should be the wallet version mirror of `createmultisig` so they both should have the same output. I suppose the original behavior could be hidden behind a `-deprecatedrpc` argument but I'm not sure how useful that is. The same information (and more) is being returned.",
      "created_at" : "2017-10-02T20:40:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11415#issuecomment-333658263",
      "id" : 333658263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11415",
      "updated_at" : "2017-10-02T20:40:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333658263",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  the original behavior could be hidden behind a -deprecatedrpc argument but I'm not sure how useful that is.\r\n\r\nThe only reason would be to not break clients that are expecting a string and now receive a JSON object when they upgrade to v0.16. Hiding behind the `-deprecatedrpc` argument give them breathing space to upgrade the client.\r\n\r\nI don't know if this would really be a problem for users, but worth considering.",
      "created_at" : "2017-10-02T20:53:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11415#issuecomment-333661952",
      "id" : 333661952,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11415",
      "updated_at" : "2017-10-02T20:53:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333661952",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The latest commit changes the loop to happen in the RPC call body and changes the two helper functions to take a single pubkey and string instead of vectors and UniValue. I have also put the old `addmultisigaddress` behavior behind `-deprecatedrpc`.",
      "created_at" : "2017-10-02T23:11:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11415#issuecomment-333691062",
      "id" : 333691062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11415",
      "updated_at" : "2017-10-02T23:11:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333691062",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
