[
   {
      "author_association" : "MEMBER",
      "body" : "This is part of #8755\r\n@TheBlueMatt ",
      "created_at" : "2017-09-29T21:45:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333246577",
      "id" : 333246577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-29T21:45:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333246577",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Strong Concept ACK. We do ML posts for new standardness rules, right? Probably doesn't matter given their lack of use.",
      "created_at" : "2017-09-29T21:48:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333246988",
      "id" : 333246988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-29T21:48:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333246988",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Any reason to support OP_CODESEPARATOR inside P2WSH?",
      "created_at" : "2017-09-29T22:18:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333252262",
      "id" : 333252262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-29T22:18:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333252262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd prefer we be consistent. Especially if OP_CODESEPARATOR has no meaning in SegWit transactions we should just make it nonstandard everywhere.\n\nOn September 29, 2017 6:18:36 PM EDT, Pieter Wuille <notifications@github.com> wrote:\n>Any reason to support OP_CODESEPARATOR inside P2WSH?\n>\n>-- \n>You are receiving this because you were mentioned.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333252262\n",
      "created_at" : "2017-09-29T22:27:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333253658",
      "id" : 333253658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-29T22:27:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333253658",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa I think @NicolasDorier has something that use CODESEPARATOR. I think it could make the size of some contracts smaller.\r\n\r\nThis is actually part of the attempt to fix the pre-segwit quadratic sighash problem. A variable `scriptCode` makes sighash caching more difficult. That's why I proposed to do it for pre-segwit only",
      "created_at" : "2017-09-30T05:33:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333285381",
      "id" : 333285381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-30T05:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333285381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<validation class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">Port Townsend Terminal<br><br>1301 Water St, Port Townsend, WA 98368<br>+1 206-464-6400 <a href=\"https://t.co/3LEHrXpu7y\">https://t.co/3LEHrXpu7y</a></p>&mdash; ahrlo jan ebio (@irieBrain) <a href=\"https://twitter.com/irieBrain/status/913990767797985280?ref_src=twsrc%5Etfw\">September 30, 2017</a></blockquote> <script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>",
      "created_at" : "2017-09-30T07:04:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333289335",
      "id" : 333289335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-09-30T07:04:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333289335",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8288478?v=4",
         "events_url" : "https://api.github.com/users/irieGhost/events{/privacy}",
         "followers_url" : "https://api.github.com/users/irieGhost/followers",
         "following_url" : "https://api.github.com/users/irieGhost/following{/other_user}",
         "gists_url" : "https://api.github.com/users/irieGhost/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/irieGhost",
         "id" : 8288478,
         "login" : "irieGhost",
         "organizations_url" : "https://api.github.com/users/irieGhost/orgs",
         "received_events_url" : "https://api.github.com/users/irieGhost/received_events",
         "repos_url" : "https://api.github.com/users/irieGhost/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/irieGhost/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/irieGhost/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/irieGhost"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\nAny reason to support OP_CODESEPARATOR inside P2WSH?\r\n```\r\n\r\nYES, I am using it for tumblebit, it saves 33 bytes per outputs. It allows you to sign a specific branch with one key instead of having separate public key per branch. Please do not do that until we have at least MAST.  (only if signing in MAST requires the scriptCode to depends on the executed branch)\r\n\r\nOP_CODESEPARATOR is very useful, I am coupling it with SIGHASH_NONE. (The only case where SIGHASH_NONE is not similar to giving your private key)",
      "created_at" : "2017-10-02T04:40:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333439463",
      "id" : 333439463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-10-02T04:46:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333439463",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just to explain my case here:\r\nImagine the following: Alice, expect Bob to publish a transaction satisfying the PAYMENT condition to get the preimage of <BOB_HASH>.\r\n\r\n```\r\nOP_DEPTH 3 EQUAL\r\nOP_IF\r\n    2 <ALICE_KEY_PAYMENT> <BOB_KEY_PAYMENT> MULTICHECKSIGVERIFY HASH160 <BOB_HASH> EQUAL\r\nOP_ELSE\r\n    <ALICE_KEY_REDEEM> CHECKSIG CLTV DROP\r\nOP_END\r\n```\r\n\r\nIf ALICE_KEY_PAYMENT == ALICE_KEY_REDEEM, this would be no good, as BOB could use Alice signature to satisfy the REDEEM condition, and get the money without revealing the pre image.\r\n\r\nNow you can save 33 bytes this way. (untested, but it get the idea of what I do for TB)\r\n\r\n```\r\n<ALICE_KEY>\r\nOP_DEPTH 3 EQUAL\r\nOP_IF\r\n    OP_SWAP <BOB_KEY_PAYMENT> CHECKSIGVERIFY HASH160 <BOB_HASH> EQUAL OP_CODESEP\r\nOP_ELSE\r\n     CLTV DROP\r\nOP_END\r\nCHECKSIG\r\n```\r\n\r\nNotice that Alice can just pass a SIGHASH_NONE signature for the first branch to Bob, so she does not have to know how bob will spend the txout, while still being sure she can get the preimage as soon as Bob try to cashout.\r\n\r\nConcept ACK for removing on non-segwit scripts, but it should be kept for segwit.\r\nUsing this trick, you can save quite a lot of data if there is lots of branches. (and also have more branches, since the scripts are limited to 512 bytes)",
      "created_at" : "2017-10-02T05:01:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11423#issuecomment-333441321",
      "id" : 333441321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11423",
      "updated_at" : "2017-10-02T05:07:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333441321",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   }
]
