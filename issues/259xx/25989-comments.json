[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-09-02T20:51:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#issuecomment-1235885738",
      "id" : 1235885738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
      "node_id" : "IC_kwDOABII585Jqh6q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235885738/reactions"
      },
      "updated_at" : "2022-09-02T20:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1235885738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If the networks i2p / cjdns are chosen via -onlynet but the user forgot to provide -i2psam / -cjdnsreachable, no outbound connections will be made - it would be nice to inform the user about that.\r\n\r\nIt's mentioned in the i2p doc that `i2psam` is required. Although I am not sure if everyone reads it.\r\n\r\n> The second commit adds CJDNS support to the debug-only addpeeraddress RPC allowing to add CJDNS addresses to addrman for testing and debug purposes. (if -cjdnsreachable=1)\r\n\r\nIs this commit related to first change in any way?",
      "created_at" : "2022-09-03T07:55:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#issuecomment-1236070514",
      "id" : 1236070514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
      "node_id" : "IC_kwDOABII585JrPBy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1236070514/reactions"
      },
      "updated_at" : "2022-09-03T07:57:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1236070514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24991](https://github.com/bitcoin/bitcoin/pull/24991) (init: allow startup with -onlynet=onion -listenonion=1 by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-09-03T14:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#issuecomment-1236137763",
      "id" : 1236137763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
      "node_id" : "IC_kwDOABII585Jrfcj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1236137763/reactions"
      },
      "updated_at" : "2022-09-03T14:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1236137763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25989#discussion_r962843460"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25989"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962843460"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: \"invalid\" looks unnecessary here and below:\r\n\r\n```suggestion\r\n        self.log.info(\"Test passing -onlynet=i2p without -i2psam raises expected init error\")\r\n```",
      "commit_id" : "b3576b7e594dc75a8100e231089f3f5985207bb7",
      "created_at" : "2022-09-05T12:15:01Z",
      "diff_hunk" : "@@ -332,6 +332,16 @@ def networks_dict(d):\n         msg = \"Error: Invalid -i2psam address or hostname: 'def:xyz'\"\n         self.nodes[1].assert_start_raises_init_error(expected_msg=msg)\n \n+        self.log.info(\"Test passing invalid -onlynet=i2p without -i2psam raises expected init error\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#discussion_r962843460",
      "id" : 962843460,
      "line" : 335,
      "node_id" : "PRRC_kwDOABII5845Y9NE",
      "original_commit_id" : "b3576b7e594dc75a8100e231089f3f5985207bb7",
      "original_line" : 335,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/feature_proxy.py",
      "position" : 4,
      "pull_request_review_id" : 1096361526,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25989",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962843460/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-05T12:16:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/962843460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The solution proposed here mimics existing behavior for -onlynet=onion and non-specified -onion/-proxy where we already abort with an InitError - if reviewers would prefer to just print a warning, please say so.\r\n\r\nThis approach is ok for me. But I slightly prefer a warning and it could set up `-i2psam` / `-cjdnsreachable` for me (like a \"`SoftSetBoolArg`\") if I chose one of them in `-onlynet`. Are there any malefits in doing so?",
      "created_at" : "2022-09-05T14:17:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#issuecomment-1237107297",
      "id" : 1237107297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
      "node_id" : "IC_kwDOABII585JvMJh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1237107297/reactions"
      },
      "updated_at" : "2022-09-05T14:17:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1237107297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this commit related to first change in any way?\r\n\r\nNot directly, it's a small and imo uncontroversial improvement to addpeeraddrress, which also deals with cjdns (and which might help to manually add manually cjdns peers to addrman if we can't find any, even if it's currently debug-only), so I thought might make sense to include here. If preferred, I could drop it.\r\n\r\n> This approach is ok for me. But I slightly prefer a warning \r\n\r\nI chose an error because of the existing behavior with `-onlynet=onion` and missing `-proxy`, and I don't really see a reason why a different approach for different privacy networks would make sense. That being said, I'd be fine with a warning too, but in that case we probably should also just warn in the `-onlynet=onion` case.\r\nI think it would be best to wait for the discussion in #24991 (which is more important than this PR and hopefully gets into 24.0, because it fixes a bug) and adapt this to PR to imitate whatever approach was chosen there.\r\n\r\n> (...) and it could set up `-i2psam` / `-cjdnsreachable` for me (like a \"`SoftSetBoolArg`\") if I chose one of them in `-onlynet`. Are there any malefits in doing so?\r\n\r\nI think that soft-setting `-i2psam` would entail guessing the i2p proxy (default \"127.0.0.1:7656\" but configurable), which seems not ideal to me.",
      "created_at" : "2022-09-06T17:59:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25989#issuecomment-1238482520",
      "id" : 1238482520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25989",
      "node_id" : "IC_kwDOABII585J0b5Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238482520/reactions"
      },
      "updated_at" : "2022-09-06T17:59:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1238482520",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
