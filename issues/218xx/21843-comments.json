[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625042438"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625042438"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe print the unrecognized string:\r\n```suggestion\r\n        throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Network not recognized: %s\", request.params[1].get_str());\r\n```",
      "commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "created_at" : "2021-05-03T12:10:40Z",
      "diff_hunk" : "@@ -875,8 +879,13 @@ static RPCHelpMan getnodeaddresses()\n     const int count{request.params[0].isNull() ? 1 : request.params[0].get_int()};\n     if (count < 0) throw JSONRPCError(RPC_INVALID_PARAMETER, \"Address count out of range\");\n \n+    const Network network{request.params[1].isNull() ? Network::NET_MAX : ParseNetwork(request.params[1].get_str())};\n+    if (network == NET_UNROUTABLE) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid network (not recognized)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625042438",
      "id" : 625042438,
      "line" : 884,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTA0MjQzOA==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 884,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 26,
      "pull_request_review_id" : 650293036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T12:20:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625042438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625043781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625043781"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "To designate \"not specified / any network\", maybe `std::optional` would fit better than using the special value `NET_MAX`? I plan to remove `NET_MAX` some day.",
      "commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "created_at" : "2021-05-03T12:13:34Z",
      "diff_hunk" : "@@ -716,13 +716,13 @@ friend class CAddrManTest;\n     }\n \n     //! Return a bunch of addresses, selected at random.\n-    std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct)\n+    std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct, Network net = Network::NET_MAX)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625043781",
      "id" : 625043781,
      "line" : 719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTA0Mzc4MQ==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 719,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 14,
      "pull_request_review_id" : 650293036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T12:20:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625043781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625045041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625045041"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The default value can be removed since all callers of this method always provide the argument.\r\n\r\n```suggestion\r\n    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct, Network net) EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n```",
      "commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "created_at" : "2021-05-03T12:16:12Z",
      "diff_hunk" : "@@ -279,7 +279,7 @@ friend class CAddrManTest;\n #endif\n \n     //! Select several addresses at once.\n-    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct, Network net = Network::NET_MAX) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625045041",
      "id" : 625045041,
      "line" : 282,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTA0NTA0MQ==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 282,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 5,
      "pull_request_review_id" : 650293036,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T12:20:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625045041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625048295"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625048295"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I was asking myself if `std::optional` would be better here. Thanks!",
      "commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "created_at" : "2021-05-03T12:22:48Z",
      "diff_hunk" : "@@ -716,13 +716,13 @@ friend class CAddrManTest;\n     }\n \n     //! Return a bunch of addresses, selected at random.\n-    std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct)\n+    std::vector<CAddress> GetAddr(size_t max_addresses, size_t max_pct, Network net = Network::NET_MAX)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625048295",
      "id" : 625048295,
      "in_reply_to_id" : 625043781,
      "line" : 719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTA0ODI5NQ==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 719,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : 14,
      "pull_request_review_id" : 650300712,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T12:22:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625048295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311317"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea! Done.",
      "commit_id" : "209d2a93a2e387d20fd7869da056be1adb3890ad",
      "created_at" : "2021-05-03T19:22:48Z",
      "diff_hunk" : "@@ -875,8 +879,13 @@ static RPCHelpMan getnodeaddresses()\n     const int count{request.params[0].isNull() ? 1 : request.params[0].get_int()};\n     if (count < 0) throw JSONRPCError(RPC_INVALID_PARAMETER, \"Address count out of range\");\n \n+    const Network network{request.params[1].isNull() ? Network::NET_MAX : ParseNetwork(request.params[1].get_str())};\n+    if (network == NET_UNROUTABLE) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid network (not recognized)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311317",
      "id" : 625311317,
      "in_reply_to_id" : 625042438,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTMxMTMxNw==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 884,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 650649499,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T19:22:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311617"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed! Done.",
      "commit_id" : "209d2a93a2e387d20fd7869da056be1adb3890ad",
      "created_at" : "2021-05-03T19:23:21Z",
      "diff_hunk" : "@@ -279,7 +279,7 @@ friend class CAddrManTest;\n #endif\n \n     //! Select several addresses at once.\n-    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct, Network net = Network::NET_MAX) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311617",
      "id" : 625311617,
      "in_reply_to_id" : 625045041,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTMxMTYxNw==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 282,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : null,
      "pull_request_review_id" : 650649885,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T19:23:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311691"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed! Done.",
      "commit_id" : "209d2a93a2e387d20fd7869da056be1adb3890ad",
      "created_at" : "2021-05-03T19:23:31Z",
      "diff_hunk" : "@@ -279,7 +279,7 @@ friend class CAddrManTest;\n #endif\n \n     //! Select several addresses at once.\n-    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct) EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    void GetAddr_(std::vector<CAddress> &vAddr, size_t max_addresses, size_t max_pct, Network net = Network::NET_MAX) EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#discussion_r625311691",
      "id" : 625311691,
      "in_reply_to_id" : 625045041,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNTMxMTY5MQ==",
      "original_commit_id" : "faa28f6eceb84f861766c1b7f1109f608333402f",
      "original_line" : 282,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/addrman.h",
      "position" : null,
      "pull_request_review_id" : 650649995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21843",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-03T19:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/625311691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the early feedback @vasild! Updated and ready for review.",
      "created_at" : "2021-05-03T23:00:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21843#issuecomment-831588071",
      "id" : 831588071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21843",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMTU4ODA3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-03T23:00:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831588071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
