[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#9384](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/9384.html) (CCoinsViewCache code cleanup & deduplication by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-05T11:54:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-538643385",
      "id" : 538643385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODY0MzM4NQ==",
      "updated_at" : "2019-10-15T21:07:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538643385",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be nice to test this on a Raspberry-like device. They tend to have low memory and slow storage. Unfortunately they generally also require pruning, and the way pruning currently works we flush the coin cache.\r\n\r\nFor example I have an Orange Pi chipping away at IBD this week; although it has 2 GB of RAM, because I'm pruning it to 5 GB, it never uses more than 230 MB.",
      "created_at" : "2019-10-06T13:51:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-538749228",
      "id" : 538749228,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODc0OTIyOA==",
      "updated_at" : "2019-10-06T13:51:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538749228",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> For example I have an Orange Pi chipping away at IBD this week; although it has 2 GB of RAM, because I'm pruning it to 5 GB, it never uses more than 230 MB.\r\n\r\nA 512 GB micro SD card should do the job, no?",
      "created_at" : "2019-10-07T17:05:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-539110266",
      "id" : 539110266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTExMDI2Ng==",
      "updated_at" : "2019-10-07T17:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539110266",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@TheBlueMatt You might be interested here given you commented in #16970.",
      "created_at" : "2019-10-08T15:38:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-539573426",
      "id" : 539573426,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTU3MzQyNg==",
      "updated_at" : "2019-10-08T15:39:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539573426",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r332743152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332743152"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be \"regardless\" :)",
      "commit_id" : "03cb535384eb6d2f4284524c33ab03371bd263e2",
      "created_at" : "2019-10-08T21:31:26Z",
      "diff_hunk" : "@@ -127,13 +127,72 @@ class CTxIn\n     std::string ToString() const;\n };\n \n+\n+/**\n+ * CAmount is an int64_t, which requires alignment of 8. This wrapper stores the data\n+ * in a memory array and packs/unpacks it whenever needed, regarldess of alignment.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r332743152",
      "id" : 332743152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjc0MzE1Mg==",
      "original_commit_id" : "d69050ecec1848a4e8521b3b4d84d7ba0f18ef14",
      "original_position" : 7,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 299062515,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060",
      "updated_at" : "2019-10-09T14:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332743152",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r332743291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332743291"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be `explicit`? :)",
      "commit_id" : "03cb535384eb6d2f4284524c33ab03371bd263e2",
      "created_at" : "2019-10-08T21:31:51Z",
      "diff_hunk" : "@@ -127,13 +127,72 @@ class CTxIn\n     std::string ToString() const;\n };\n \n+\n+/**\n+ * CAmount is an int64_t, which requires alignment of 8. This wrapper stores the data\n+ * in a memory array and packs/unpacks it whenever needed, regarldess of alignment.\n+ *\n+ * Since CAmount's size is know, the compiler should be able to optimize the std::memcpy away\n+ * in most cases.\n+ */\n+class PackableCAmount\n+{\n+    uint8_t m_data[sizeof(CAmount)];\n+\n+public:\n+    PackableCAmount(CAmount val) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r332743291",
      "id" : 332743291,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjc0MzI5MQ==",
      "original_commit_id" : "d69050ecec1848a4e8521b3b4d84d7ba0f18ef14",
      "original_position" : 17,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 299062685,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060",
      "updated_at" : "2019-10-09T14:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332743291",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> A 512 GB micro SD card should do the job, no?\r\n\r\nYep, works fine.",
      "created_at" : "2019-10-09T10:03:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-539932847",
      "id" : 539932847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTkzMjg0Nw==",
      "updated_at" : "2019-10-09T10:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539932847",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333029200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333029200"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should be \"known\".\r\n... And, uh, is that \"away\" or \"anyway\"?",
      "commit_id" : "03cb535384eb6d2f4284524c33ab03371bd263e2",
      "created_at" : "2019-10-09T13:59:16Z",
      "diff_hunk" : "@@ -127,13 +127,72 @@ class CTxIn\n     std::string ToString() const;\n };\n \n+\n+/**\n+ * CAmount is an int64_t, which requires alignment of 8. This wrapper stores the data\n+ * in a memory array and packs/unpacks it whenever needed, regarldess of alignment.\n+ *\n+ * Since CAmount's size is know, the compiler should be able to optimize the std::memcpy away",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333029200",
      "id" : 333029200,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzAyOTIwMA==",
      "original_commit_id" : "d69050ecec1848a4e8521b3b4d84d7ba0f18ef14",
      "original_position" : 9,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 299432268,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060",
      "updated_at" : "2019-10-09T14:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333029200",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please lets keep the discussion high level before pointing out any typos.",
      "created_at" : "2019-10-09T14:03:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-540015565",
      "id" : 540015565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDAxNTU2NQ==",
      "updated_at" : "2019-10-09T14:03:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540015565",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333051913"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333051913"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It should, I can add that easily by adding the assignment operator for CAmount. \r\n\r\nAlso theoretically the `operator CAmount()` should be explicit too, but changing that would mean that I'd have to change practically all usages of this class...",
      "commit_id" : "03cb535384eb6d2f4284524c33ab03371bd263e2",
      "created_at" : "2019-10-09T14:37:38Z",
      "diff_hunk" : "@@ -127,13 +127,72 @@ class CTxIn\n     std::string ToString() const;\n };\n \n+\n+/**\n+ * CAmount is an int64_t, which requires alignment of 8. This wrapper stores the data\n+ * in a memory array and packs/unpacks it whenever needed, regarldess of alignment.\n+ *\n+ * Since CAmount's size is know, the compiler should be able to optimize the std::memcpy away\n+ * in most cases.\n+ */\n+class PackableCAmount\n+{\n+    uint8_t m_data[sizeof(CAmount)];\n+\n+public:\n+    PackableCAmount(CAmount val) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333051913",
      "id" : 333051913,
      "in_reply_to_id" : 332743291,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzA1MTkxMw==",
      "original_commit_id" : "d69050ecec1848a4e8521b3b4d84d7ba0f18ef14",
      "original_position" : 17,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 299462128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060",
      "updated_at" : "2019-10-09T14:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333051913",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333060751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333060751"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed in 03cb535384eb6d2f4284524c33ab03371bd263e2, also it should be \"optimized away\" because the compiler can the function call away. See this: https://godbolt.org/z/6uP9_S",
      "commit_id" : "03cb535384eb6d2f4284524c33ab03371bd263e2",
      "created_at" : "2019-10-09T14:52:32Z",
      "diff_hunk" : "@@ -127,13 +127,72 @@ class CTxIn\n     std::string ToString() const;\n };\n \n+\n+/**\n+ * CAmount is an int64_t, which requires alignment of 8. This wrapper stores the data\n+ * in a memory array and packs/unpacks it whenever needed, regarldess of alignment.\n+ *\n+ * Since CAmount's size is know, the compiler should be able to optimize the std::memcpy away",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#discussion_r333060751",
      "id" : 333060751,
      "in_reply_to_id" : 333029200,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzA2MDc1MQ==",
      "original_commit_id" : "d69050ecec1848a4e8521b3b4d84d7ba0f18ef14",
      "original_position" : 9,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 299473557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17060",
      "updated_at" : "2019-10-09T14:52:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333060751",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag that's what the bitfield syntax `unsigned int dirty : 1;` does, it makes the flags take up the minimum possible space.\r\nOr maybe I'm misunderstanding what you're trying to accomplish.",
      "created_at" : "2019-10-12T07:41:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541297211",
      "id" : 541297211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTI5NzIxMQ==",
      "updated_at" : "2019-10-12T07:42:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541297211",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Would like to test this on my VM using a HDD.\r\nI'm not sure how to benchmark this - I've tried https://github.com/chaincodelabs/bitcoinperf but haven't succeeded. Any info/help would be appreciated.",
      "created_at" : "2019-10-12T13:26:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541324891",
      "id" : 541324891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTMyNDg5MQ==",
      "updated_at" : "2019-10-12T13:26:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541324891",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "bitcoinperf is a bit messy to set up. I think it requires docker. Is there any specific issue you ran into? I guess it might be better to report such upstream at https://github.com/chaincodelabs/bitcoinperf to not bloat this thread",
      "created_at" : "2019-10-12T13:30:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541325156",
      "id" : 541325156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTMyNTE1Ng==",
      "updated_at" : "2019-10-12T13:30:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541325156",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would like to test this on my VM using a HDD.\r\n> I'm not sure how to benchmark this - I've tried https://github.com/chaincodelabs/bitcoinperf but haven't succeeded. Any info/help would be appreciated.\r\n\r\nIn my benchmarks I deleted `debug.log`, ran `/usr/bin/time -v ./bitcoind -reindex-chainstate -stopatheight=594000 -printtoconsole=0 -dbcache=500`, then used a hand written script to convert the debug.log into gnuplot-readable data, then used gnuplot to create the graphs.\r\n\r\nIt would be awesome to have some kind of logger in bitcoind that can periodically log statistics into a file in an easily parseable data.",
      "created_at" : "2019-10-12T13:46:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541326478",
      "id" : 541326478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTMyNjQ3OA==",
      "updated_at" : "2019-10-12T13:46:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541326478",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There were a couple issues. Could you recommend anything else to test `-reindex-chainstate`? Should I simply run bitcoind and have linux count time ... ?\r\nOr maybe I'll look around things mentioned in this [stackexchange answer](https://unix.stackexchange.com/a/414770/334043).\r\n\r\np.s. thanks for the info @martinus. I'll figure something out with what you did and those tools mentioned in the link.",
      "created_at" : "2019-10-12T13:52:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541327005",
      "id" : 541327005,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTMyNzAwNQ==",
      "updated_at" : "2019-10-12T13:52:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541327005",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj I mean stuff like this:\r\n```\r\n        auto oldDirty = coin.dirty;\r\n        auto oldFresh = coin.fresh;\r\n```\r\ncould be\r\n```\r\n        auto old_cache = coin.cache;\r\n```\r\nwhere\r\n```\r\n    unsigned int cache : 2;   // DIRTY = 1,  FRESH = 2\r\n```",
      "created_at" : "2019-10-12T14:24:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-541329578",
      "id" : 541329578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTMyOTU3OA==",
      "updated_at" : "2019-10-12T14:24:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541329578",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The debug.log from first benchmark (master) got overwritten by the second benchmark, and I didn't make a script to do a graph from debug.log yet anyway, so I'm just gonna post the `/usr/bin/time -v`  results.\r\nThe improvement seems remarkable! I tested this on Ubuntu 16 VM running on a Seagate SSHD (also called bybrid) disk. It seems however the process used more CPU - not sure what's going on with those percentages though. Must be a VM bug.\r\n\r\n\r\n| First Header  | Second Header |time |max resident set size |\r\n| - | - |- |- |\r\n| 2019-09-more-compact-Coin  | dbcache=500  |2:20:09 |1673108 |\r\n| Master  | dbcache=500  |3:25:46 |1729412 |\r\n| Improvement  |    | 31,9% | 3,26%  |\r\n\r\n\r\n\r\n```\r\n\r\n\tCommand being timed: \"./bitcoindmaster -reindex-chainstate -stopatheight=325000 -printtoconsole=0 -dbcache=500\"\r\n\tUser time (seconds): 19760.08\r\n\tSystem time (seconds): 1031.02\r\n\tPercent of CPU this job got: 168%\r\n\tElapsed (wall clock) time (h:mm:ss or m:ss): 3:25:46\r\n\tAverage shared text size (kbytes): 0\r\n\tAverage unshared data size (kbytes): 0\r\n\tAverage stack size (kbytes): 0\r\n\tAverage total size (kbytes): 0\r\n\tMaximum resident set size (kbytes): 1729412\r\n\tAverage resident set size (kbytes): 0\r\n\tMajor (requiring I/O) page faults: 0\r\n\tMinor (reclaiming a frame) page faults: 2088592\r\n\tVoluntary context switches: 38379113\r\n\tInvoluntary context switches: 2185645\r\n\tSwaps: 0\r\n\tFile system inputs: 0\r\n\tFile system outputs: 0\r\n\tSocket messages sent: 0\r\n\tSocket messages received: 0\r\n\tSignals delivered: 0\r\n\tPage size (bytes): 4096\r\n\tExit status: 0\r\n```\r\n\r\n```\r\n\r\n\tCommand being timed: \"./bitcoindcoin -reindex-chainstate -stopatheight=325000 -printtoconsole=0 -dbcache=500\"\r\n\tUser time (seconds): 19004.87\r\n\tSystem time (seconds): 598.24\r\n\tPercent of CPU this job got: 233%\r\n\tElapsed (wall clock) time (h:mm:ss or m:ss): 2:20:09\r\n\tAverage shared text size (kbytes): 0\r\n\tAverage unshared data size (kbytes): 0\r\n\tAverage stack size (kbytes): 0\r\n\tAverage total size (kbytes): 0\r\n\tMaximum resident set size (kbytes): 1673108\r\n\tAverage resident set size (kbytes): 0\r\n\tMajor (requiring I/O) page faults: 0\r\n\tMinor (reclaiming a frame) page faults: 1737560\r\n\tVoluntary context switches: 17203875\r\n\tInvoluntary context switches: 2926137\r\n\tSwaps: 0\r\n\tFile system inputs: 0\r\n\tFile system outputs: 0\r\n\tSocket messages sent: 0\r\n\tSocket messages received: 0\r\n\tSignals delivered: 0\r\n\tPage size (bytes): 4096\r\n\tExit status: 0\r\n\r\n```",
      "created_at" : "2019-10-15T17:55:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-542331666",
      "id" : 542331666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjMzMTY2Ng==",
      "updated_at" : "2019-10-15T17:55:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542331666",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @GChuf for testing this! This are really nice results.\r\n\r\n> It seems however the process used more CPU\r\n\r\nI don't think so:\r\n* master had 19760.08 sec user + 1031.02 sec system = 20791.1 sec\r\n* 2019-09-more-compact-Coin had 19004.87 sec user + 598.24 sec system = 19603,11\r\n\r\nSo the branch used ~6% less CPU. Note that the percentage 233% is much higher than for master because it used that CPU in a much shorter timeframe.\r\n\r\nThe percentage is calculated 100*(user + system time) / elapsed. 233 percent means that on average 2.33 cores were running for this job.",
      "created_at" : "2019-10-15T19:05:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-542359379",
      "id" : 542359379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjM1OTM3OQ==",
      "updated_at" : "2019-10-15T20:06:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542359379",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The percentage is calculated 100*(user + system time) / elapsed. 233 percent means that on average 2.33 cores were running for this job.\r\n\r\nThanks for the explaination! The math works :)\r\nIf more testing is needed I'd be glad to help, but I think HDDs will show similar results to my SSHD and it's clear that the improvements are real.",
      "created_at" : "2019-10-16T17:40:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-542812785",
      "id" : 542812785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjgxMjc4NQ==",
      "updated_at" : "2019-10-16T17:40:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542812785",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK from me, seems like some great savings here. Though it'll be crucial to test this thoroughly across platforms. Will review in depth soon.",
      "created_at" : "2019-10-17T05:48:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543014001",
      "id" : 543014001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzAxNDAwMQ==",
      "updated_at" : "2019-10-17T05:48:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543014001",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I can also test it on windows. Does anyone have the windows executable for this already, to make my life easier? @martinus maybe? ",
      "created_at" : "2019-10-17T17:11:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543273045",
      "id" : 543273045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzI3MzA0NQ==",
      "updated_at" : "2019-10-17T17:11:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543273045",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "These are pretty impressive gains, so concept ACK.\r\n\r\nSome overall comments:\r\n* Since this is making the boundary between `Coin` and `CCoinsCacheEntry` a bit less clear, maybe it would be useful to either have a `Coin::AssignWithoutFlags` function, or even make `Coin::operator=` not touch the flags. That would avoid all the `oldX = ...; ...; ... = oldX` code, and make review easier.\r\n* The coding style guidelines for variables say to use snake_case in new code.\r\n\r\nI do want to review the prevector changes in more detail.",
      "created_at" : "2019-10-17T17:35:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543282296",
      "id" : 543282296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzI4MjI5Ng==",
      "updated_at" : "2019-10-17T17:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543282296",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I can also test it on windows. Does anyone have the windows executable for this already, to make my life easier? @martinus maybe?\r\n\r\nSorry, I build only in Linux, never tried to build in Windows\r\n\r\n>  Since this is making the boundary between `Coin` and `CCoinsCacheEntry` a bit less clear, maybe it would be useful to either have a `Coin::AssignWithoutFlags` function, or even make `Coin::operator=` not touch the flags. That would avoid all the `oldX = ...; ...; ... = oldX` code, and make review easier.\r\n\r\nI'm also unsure if it was everywhere necessary to backup and then restore the previous flags. Moving the flags into `Coin` only saves us 4bytes. I could also remove that change and do this in a separate PR.\r\n\r\n",
      "created_at" : "2019-10-17T17:43:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543285380",
      "id" : 543285380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzI4NTM4MA==",
      "updated_at" : "2019-10-17T17:43:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543285380",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@DrahtBot might have a windows build ready tomorrow",
      "created_at" : "2019-10-17T18:21:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543300465",
      "id" : 543300465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzMwMDQ2NQ==",
      "updated_at" : "2019-10-17T18:21:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543300465",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I have Gitian-built windows binaries of 03cb535384eb6d2f4284524c33ab03371bd263e2 here for those who are keen (@GChuf): https://send.firefox.com/download/c78ac103a4dabe86/#S70uxKCUua-baEeR0v029g",
      "created_at" : "2019-10-17T19:20:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543323173",
      "id" : 543323173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzMyMzE3Mw==",
      "updated_at" : "2019-10-17T19:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543323173",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @MarcoFalke & @dongcarl, will test on Win10 tomorrow/this weekend.",
      "created_at" : "2019-10-17T20:15:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543343451",
      "id" : 543343451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzM0MzQ1MQ==",
      "updated_at" : "2019-10-17T20:15:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543343451",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> A 512 GB micro SD card should do the job, no?\r\n\r\nYou'll find sdcards larger than 32GB to be rather terrible for anything aside from sequential write (4K video cameras). The main issue is the \"erase block size\" which is the minimum size of any erase. Every time you write anything to disk it could rewrite that size. 32GB is the smallest sdcard I've seen with 4MB erase block size. I've seen 128GB sdcard with 16MB. I'm guessing bigger has even larger erase blocks.\r\n\r\nThere are possible changes that could be done to Core to make it more flash friendly but it is not worthwhile as performance of that type of flash is abysmal while SATA/NVMe SSD controllers don't really need such optimizations.",
      "created_at" : "2019-10-18T00:28:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543424057",
      "id" : 543424057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzQyNDA1Nw==",
      "updated_at" : "2019-10-18T00:28:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543424057",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/93665?v=4",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "node_id" : "MDQ6VXNlcjkzNjY1",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Hm, getting the opposite of what I would expect in terms of benchmark results. For `/usr/bin/time -v ./src/bitcoind -reindex-chainstate -stopatheight=550000 -dbcache=4000 -connect=0` (run using a lightly modified version of [this script](https://github.com/chaincodelabs/bitcoinperf/blob/master/bin/run_remote_reindex.py)) across a number of different machines, I'm seeing this branch as reliably slower than master:\r\n\r\n```\r\nbench-ssd-2  master                               4:05:52    0.45  6283.55MB 204%\r\nbench-ssd-2  martinus/2019-09-more-compact-Coin   9:06:48    1.00  5927.98MB 347%\r\n\r\nbench-ssd-3  martinus/2019-09-more-compact-Coin   9:07:05    1.00  5914.48MB 346%\r\nbench-ssd-3  master                               2:59:52    0.33  6278.71MB 77%\r\n\r\nbench-ssd-4  master                               2:33:47    0.28  6257.46MB 89%\r\nbench-ssd-4  martinus/2019-09-more-compact-Coin   9:07:19    1.00  5834.16MB 346%\r\n\r\nbench-ssd-5  martinus/2019-09-more-compact-Coin   9:03:16    1.00  5963.10MB 349%\r\nbench-ssd-5  master                               3:58:48    0.44  6252.48MB 209%\r\n\r\nbench-hdd-4  master                               6:22:47    0.64  6263.75MB 36%\r\nbench-hdd-4  martinus/2019-09-more-compact-Coin   10:02:42   1.00  5908.06MB 314%\r\n\r\nbench-hdd-5  martinus/2019-09-more-compact-Coin   9:52:42    1.00  5889.18MB 320%\r\nbench-hdd-5  master                               6:54:05    0.70  6240.25MB 120%\r\n```\r\n\r\nSample machine specs:\r\n```\r\nHostname:            bench-ssd-2\r\nKernel:              Linux 4.9.0-8-amd64\r\nOS:                  Debian GNU/Linux 9\r\nRAM (GB):            7.71\r\nArchitecture:          x86_64\r\nCPU(s):                4\r\nThread(s) per core:    1\r\nCore(s) per socket:    4\r\nModel name:            Intel(R) Xeon(R) CPU E3-1220 v5 @ 3.00GHz\r\n```\r\n\r\nCan anyone think of an explanation for this? \r\n\r\n---\r\n\r\nAlso, FWIW, in your original PR description your graph and table show master as being faster than this branch but when I read it initially I'd assumed it was just a labeling error.",
      "created_at" : "2019-10-18T02:07:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543451649",
      "id" : 543451649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzQ1MTY0OQ==",
      "updated_at" : "2019-10-18T02:14:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543451649",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Can anyone think of an explanation for this?\r\n\r\nI really can't explain why the diffference is so huge. Maybe it has something to do with the Xeon CPU? Or there is still a bug in the code that manifests on that CPU. Do you have the `debug.log` files, or graphs of the progress? Maybe there it's visible at which point the difference occurs.\r\n\r\nI'm currently running a comparison on a very slow Intel Celeron N3050, 2GB of RAM, `-dbcache=500`, and external SSD. So far it seems the results are very close",
      "created_at" : "2019-10-18T16:03:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17060#issuecomment-543811585",
      "id" : 543811585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17060",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzgxMTU4NQ==",
      "updated_at" : "2019-10-18T16:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543811585",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   }
]
