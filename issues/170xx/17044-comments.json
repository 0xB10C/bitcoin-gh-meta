[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331693555"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331693555"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "loadblock, not loadpath",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-04T21:31:46Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331693555",
      "id" : 331693555,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTY5MzU1NQ==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 7,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297727588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331693555",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331693706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331693706"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "remove \"in\"",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-04T21:32:16Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which\n+loads a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts in available",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331693706",
      "id" : 331693706,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTY5MzcwNg==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 9,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297727588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331693706",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331700422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331700422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\r\n\r\nCan use https://docs.python.org/3/reference/compound_stmts.html#with instead?\r\n\r\nAnd the writing it like this, should make the test shorter in line count. https://github.com/bitcoin/bitcoin/blob/7b701fef58f627956d597817a1f9422edd890cdc/test/functional/test_framework/util.py#L306",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-04T22:00:11Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which\n+loads a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts in available\n+in contrib/linearize.\n+\"\"\"\n+\n+import os\n+import shutil\n+import urllib\n+\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    initialize_datadir,\n+)\n+from test_framework.util import assert_equal, wait_until\n+\n+\n+class LoadblockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.nodes[0].generate(100)\n+\n+        # parsing the url of our node to get settings for config file\n+        data_dir = self.nodes[0].datadir\n+        node_url = urllib.parse.urlparse(self.nodes[0].url)\n+        cfg_path = os.path.join(data_dir, \"linearize.cfg\")\n+        hashlist_path = os.path.join(data_dir, \"hashlist.txt\")\n+        bootstrap_file = os.path.join(self.options.tmpdir, \"bootstrap.dat\")\n+        genesis_block = self.nodes[0].getblockhash(0)\n+        block_dir = os.path.join(data_dir, \"regtest\", \"blocks\")\n+\n+        self.log.info(\"Create linearization config file\")\n+        cfg = open(cfg_path, \"a\", encoding=\"utf-8\")\n+        cfg.write(\"\"\"datadir={datadir}\n+rpcuser={user}\n+rpcpassword={password}\n+port={port}\n+host={host}\n+output_file={output_file}\n+max_height=100\n+netmagic=fabfb5da\n+input={block_dir}\n+genesis={genesis}\n+hashlist={hashlist}\"\"\".format(datadir=data_dir,\n+                              output_file=bootstrap_file,\n+                              user=node_url.username,\n+                              password=node_url.password,\n+                              port=node_url.port,\n+                              host=node_url.hostname,\n+                              hashlist=hashlist_path,\n+                              block_dir=block_dir,\n+                              genesis=genesis_block))\n+        cfg.close()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331700422",
      "id" : 331700422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTcwMDQyMg==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 62,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297736430,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331700422",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744028"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744028"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, that's much better, implemented that.",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-05T11:45:35Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which\n+loads a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts in available\n+in contrib/linearize.\n+\"\"\"\n+\n+import os\n+import shutil\n+import urllib\n+\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    initialize_datadir,\n+)\n+from test_framework.util import assert_equal, wait_until\n+\n+\n+class LoadblockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.nodes[0].generate(100)\n+\n+        # parsing the url of our node to get settings for config file\n+        data_dir = self.nodes[0].datadir\n+        node_url = urllib.parse.urlparse(self.nodes[0].url)\n+        cfg_path = os.path.join(data_dir, \"linearize.cfg\")\n+        hashlist_path = os.path.join(data_dir, \"hashlist.txt\")\n+        bootstrap_file = os.path.join(self.options.tmpdir, \"bootstrap.dat\")\n+        genesis_block = self.nodes[0].getblockhash(0)\n+        block_dir = os.path.join(data_dir, \"regtest\", \"blocks\")\n+\n+        self.log.info(\"Create linearization config file\")\n+        cfg = open(cfg_path, \"a\", encoding=\"utf-8\")\n+        cfg.write(\"\"\"datadir={datadir}\n+rpcuser={user}\n+rpcpassword={password}\n+port={port}\n+host={host}\n+output_file={output_file}\n+max_height=100\n+netmagic=fabfb5da\n+input={block_dir}\n+genesis={genesis}\n+hashlist={hashlist}\"\"\".format(datadir=data_dir,\n+                              output_file=bootstrap_file,\n+                              user=node_url.username,\n+                              password=node_url.password,\n+                              port=node_url.port,\n+                              host=node_url.hostname,\n+                              hashlist=hashlist_path,\n+                              block_dir=block_dir,\n+                              genesis=genesis_block))\n+        cfg.close()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744028",
      "id" : 331744028,
      "in_reply_to_id" : 331700422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc0NDAyOA==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 62,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297788307,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744028",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744033"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744033"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-05T11:45:46Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which\n+loads a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts in available",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744033",
      "id" : 331744033,
      "in_reply_to_id" : 331693706,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc0NDAzMw==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 9,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297788312,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744033",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744038"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-05T11:45:55Z",
      "diff_hunk" : "@@ -0,0 +1,87 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadpath which",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r331744038",
      "id" : 331744038,
      "in_reply_to_id" : 331693555,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTc0NDAzOA==",
      "original_commit_id" : "078d0a5924b4860a427aa6f22b6281b621e76f37",
      "original_position" : 7,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 297788317,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331744038",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r332138946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332138946"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What is the point of `blocksdir_path` (new empty blocks dir), when the whole datadir is cleaned?\r\n\r\nI'd even go further and not remove the whole datadir tree. Since that also deletes the debug log for debugging purposes.\r\n\r\nYou could spin up two nodes, and call `setnetworkactive(False)` on the second one. Then reboot the second one with the `-loadblock` arg here.",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-07T17:19:35Z",
      "diff_hunk" : "@@ -0,0 +1,82 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadblock which loads\n+a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts available\n+in contrib/linearize.\n+\"\"\"\n+\n+import os\n+import shutil\n+import urllib\n+\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    initialize_datadir,\n+)\n+from test_framework.util import assert_equal, wait_until\n+\n+\n+class LoadblockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.nodes[0].generate(100)\n+\n+        # parsing the url of our node to get settings for config file\n+        data_dir = self.nodes[0].datadir\n+        node_url = urllib.parse.urlparse(self.nodes[0].url)\n+        cfg_path = os.path.join(data_dir, \"linearize.cfg\")\n+        hashlist_path = os.path.join(data_dir, \"hashlist.txt\")\n+        bootstrap_file = os.path.join(self.options.tmpdir, \"bootstrap.dat\")\n+        genesis_block = self.nodes[0].getblockhash(0)\n+        block_dir = os.path.join(data_dir, \"regtest\", \"blocks\")\n+\n+        self.log.info(\"Create linearization config file\")\n+        with open(cfg_path, \"a\", encoding=\"utf-8\") as cfg:\n+            cfg.write(\"datadir={}\\n\".format(data_dir))\n+            cfg.write(\"rpcuser={}\\n\".format(node_url.username))\n+            cfg.write(\"rpcpassword={}\\n\".format(node_url.password))\n+            cfg.write(\"port={}\\n\".format(node_url.port))\n+            cfg.write(\"host={}\\n\".format(node_url.hostname))\n+            cfg.write(\"output_file={}\\n\".format(bootstrap_file))\n+            cfg.write(\"max_height=100\\n\")\n+            cfg.write(\"netmagic=fabfb5da\\n\")\n+            cfg.write(\"input={}\\n\".format(block_dir))\n+            cfg.write(\"genesis={}\\n\".format(genesis_block))\n+            cfg.write(\"hashlist={}\\n\".format(hashlist_path))\n+\n+        linearize_dir = os.path.join(self.config[\"environment\"][\"SRCDIR\"], \"contrib\", \"linearize\")\n+\n+        self.log.info(\"Run linearization of block hashes\")\n+        linearize_hashes_path = os.path.join(linearize_dir, \"linearize-hashes.py\")\n+        os.system(linearize_hashes_path + \" \" + cfg_path + \" > \" + hashlist_path)\n+\n+        self.log.info(\"Run linearization of block data\")\n+        linearize_data_path = os.path.join(linearize_dir, \"linearize-data.py\")\n+        os.system(linearize_data_path + \" \" + cfg_path)\n+\n+        self.log.info(\"Restart node with bootstrap file\")\n+        self.stop_node(0)\n+\n+        # use a new empty blocks dir to make sure blocks are loaded from bootstrap file\n+        shutil.rmtree(self.nodes[0].datadir)\n+        initialize_datadir(self.options.tmpdir, 0, self.chain)\n+        blocksdir_path = os.path.join(self.options.tmpdir, 'blocksdir')\n+        os.mkdir(blocksdir_path)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r332138946",
      "id" : 332138946,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjEzODk0Ng==",
      "original_commit_id" : "eeecdfa27a14df83c441cb4b04c0ae78a2ccbd2c",
      "original_position" : 72,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 298284367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:06:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332138946",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "end of an era ;p\r\n\r\nutACK\r\n",
      "created_at" : "2019-10-08T21:09:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#issuecomment-539705405",
      "id" : 539705405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTcwNTQwNQ==",
      "updated_at" : "2019-10-08T21:09:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539705405",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/494411?v=4",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "node_id" : "MDQ6VXNlcjQ5NDQxMQ==",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r332734872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332734872"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was weighing different options initially and thought using just one node might be more economical. But I did not think about the logs. I am now using a second node.",
      "commit_id" : "05fdea95e7ce33a6cd688b1bded19ccbe198b36f",
      "created_at" : "2019-10-08T21:09:48Z",
      "diff_hunk" : "@@ -0,0 +1,82 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test loadblock option\n+\n+Test the option to start a node with the option loadblock which loads\n+a serialized blockchain from a file (usually called bootstrap.dat).\n+To generate that file this test uses the helper scripts available\n+in contrib/linearize.\n+\"\"\"\n+\n+import os\n+import shutil\n+import urllib\n+\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    initialize_datadir,\n+)\n+from test_framework.util import assert_equal, wait_until\n+\n+\n+class LoadblockTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def run_test(self):\n+        self.nodes[0].generate(100)\n+\n+        # parsing the url of our node to get settings for config file\n+        data_dir = self.nodes[0].datadir\n+        node_url = urllib.parse.urlparse(self.nodes[0].url)\n+        cfg_path = os.path.join(data_dir, \"linearize.cfg\")\n+        hashlist_path = os.path.join(data_dir, \"hashlist.txt\")\n+        bootstrap_file = os.path.join(self.options.tmpdir, \"bootstrap.dat\")\n+        genesis_block = self.nodes[0].getblockhash(0)\n+        block_dir = os.path.join(data_dir, \"regtest\", \"blocks\")\n+\n+        self.log.info(\"Create linearization config file\")\n+        with open(cfg_path, \"a\", encoding=\"utf-8\") as cfg:\n+            cfg.write(\"datadir={}\\n\".format(data_dir))\n+            cfg.write(\"rpcuser={}\\n\".format(node_url.username))\n+            cfg.write(\"rpcpassword={}\\n\".format(node_url.password))\n+            cfg.write(\"port={}\\n\".format(node_url.port))\n+            cfg.write(\"host={}\\n\".format(node_url.hostname))\n+            cfg.write(\"output_file={}\\n\".format(bootstrap_file))\n+            cfg.write(\"max_height=100\\n\")\n+            cfg.write(\"netmagic=fabfb5da\\n\")\n+            cfg.write(\"input={}\\n\".format(block_dir))\n+            cfg.write(\"genesis={}\\n\".format(genesis_block))\n+            cfg.write(\"hashlist={}\\n\".format(hashlist_path))\n+\n+        linearize_dir = os.path.join(self.config[\"environment\"][\"SRCDIR\"], \"contrib\", \"linearize\")\n+\n+        self.log.info(\"Run linearization of block hashes\")\n+        linearize_hashes_path = os.path.join(linearize_dir, \"linearize-hashes.py\")\n+        os.system(linearize_hashes_path + \" \" + cfg_path + \" > \" + hashlist_path)\n+\n+        self.log.info(\"Run linearization of block data\")\n+        linearize_data_path = os.path.join(linearize_dir, \"linearize-data.py\")\n+        os.system(linearize_data_path + \" \" + cfg_path)\n+\n+        self.log.info(\"Restart node with bootstrap file\")\n+        self.stop_node(0)\n+\n+        # use a new empty blocks dir to make sure blocks are loaded from bootstrap file\n+        shutil.rmtree(self.nodes[0].datadir)\n+        initialize_datadir(self.options.tmpdir, 0, self.chain)\n+        blocksdir_path = os.path.join(self.options.tmpdir, 'blocksdir')\n+        os.mkdir(blocksdir_path)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17044#discussion_r332734872",
      "id" : 332734872,
      "in_reply_to_id" : 332138946,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjczNDg3Mg==",
      "original_commit_id" : "eeecdfa27a14df83c441cb4b04c0ae78a2ccbd2c",
      "original_position" : 72,
      "path" : "test/functional/feature_loadblock.py",
      "position" : null,
      "pull_request_review_id" : 299051759,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17044",
      "updated_at" : "2019-10-08T21:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332734872",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
