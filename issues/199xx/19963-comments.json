[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489433313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489433313"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: s/forward/forwards",
      "commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "created_at" : "2020-09-16T13:23:47Z",
      "diff_hunk" : "@@ -74,6 +73,10 @@ def run_test(self):\n \n         self.log.info('Check that the tx from forcerelay first_peer is relayed to others (ie.second_peer)')\n         with self.nodes[0].assert_debug_log([\"received getdata\"]):\n+            # NB: in practice, first_peer would never send us transactions since we're a blocksonly node.\n+            # But if first_peer runs a modified version of Bitcoin Core to bypass relay checks and forward",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489433313",
      "id" : 489433313,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQzMzMxMw==",
      "original_commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "original_line" : 77,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_blocksonly.py",
      "position" : 13,
      "pull_request_review_id" : 489619949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-16T13:36:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489433313",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489539109"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489539109"
         }
      },
      "author_association" : "NONE",
      "body" : "My thinking was that `forward` was going in pair with `bypass` (both infinitive), but I'm not a native speaker, I can definitely apply that.",
      "commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "created_at" : "2020-09-16T15:43:03Z",
      "diff_hunk" : "@@ -74,6 +73,10 @@ def run_test(self):\n \n         self.log.info('Check that the tx from forcerelay first_peer is relayed to others (ie.second_peer)')\n         with self.nodes[0].assert_debug_log([\"received getdata\"]):\n+            # NB: in practice, first_peer would never send us transactions since we're a blocksonly node.\n+            # But if first_peer runs a modified version of Bitcoin Core to bypass relay checks and forward",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489539109",
      "id" : 489539109,
      "in_reply_to_id" : 489433313,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTUzOTEwOQ==",
      "original_commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "original_line" : 77,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_blocksonly.py",
      "position" : 13,
      "pull_request_review_id" : 489760088,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-16T15:43:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489539109",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489544220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489544220"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah first_peer is running a modified version of Bitcoin Core to bypass relay checks. Once it has done that the first_peer forwards the transactions. But as I said I don't think we are fussy on grammar for comments on this project and I wouldn't want to put people like you off from adding comments in future! So feel free to leave it. We'll see if Gleb has more substantial suggestions.",
      "commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "created_at" : "2020-09-16T15:50:21Z",
      "diff_hunk" : "@@ -74,6 +73,10 @@ def run_test(self):\n \n         self.log.info('Check that the tx from forcerelay first_peer is relayed to others (ie.second_peer)')\n         with self.nodes[0].assert_debug_log([\"received getdata\"]):\n+            # NB: in practice, first_peer would never send us transactions since we're a blocksonly node.\n+            # But if first_peer runs a modified version of Bitcoin Core to bypass relay checks and forward",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19963#discussion_r489544220",
      "id" : 489544220,
      "in_reply_to_id" : 489433313,
      "line" : 77,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU0NDIyMA==",
      "original_commit_id" : "e483b06187635b209eef32fca7711e4e9999dc8d",
      "original_line" : 77,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_blocksonly.py",
      "position" : 13,
      "pull_request_review_id" : 489766814,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19963",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-16T15:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489544220",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "1. What's \"NB\"?\r\n2. This part of the test is confusing in the first place: it should have nothing to do with \"forcerelay\". It's about \"relay\" permission. It works just because \"forcerelay\" enables \"relay\" permission automatically. Can you modify this chunk of the test to talk about \"relay\"?\r\n3. I would prefer to expand the following description: \"first_peer would never send us transactions since we're a blocksonly node.\". Say that we tell them we don't need transactions, so Bitcoin Core node would adhere to this suggestion and not send us transactions. And normally we'd disconnect them (unless we enabled \"relay\" permission, see next)\r\n4. Also expand this: \"But if first_peer runs a modified version of Bitcoin Core to bypass relay checks\" -> something along the lines \"if, for some reason, first_peer decides to relay transactions to us, we should relay them forward per RELAY permission we assigned to first_peer\".",
      "created_at" : "2020-09-17T07:14:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19963#issuecomment-694018515",
      "id" : 694018515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19963",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NDAxODUxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-17T07:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/694018515",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   }
]
