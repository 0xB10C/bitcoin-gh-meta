[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19980#discussion_r491617006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19980"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/491617006"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@ryanofsky made this change in the context of https://github.com/bitcoin-core/gui/issues/95#issuecomment-694254368, where `m_database` can be null.",
      "commit_id" : "3fcb7cd9b629695206a72c75e7ca3f6a210b1d20",
      "created_at" : "2020-09-19T23:57:17Z",
      "diff_hunk" : "@@ -732,14 +732,11 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n      */\n     mutable RecursiveMutex cs_wallet;\n \n-    /** Get database handle used by this wallet. Ideally this function would\n-     * not be necessary.\n-     */\n-    WalletDatabase& GetDBHandle()\n+    WalletDatabase& GetDatabase() const override\n     {\n-        return *database;\n+        assert(static_cast<bool>(m_database));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19980#discussion_r491617006",
      "id" : 491617006,
      "line" : 737,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTYxNzAwNg==",
      "original_commit_id" : "a66278f44f1fa7ca6db2f768a57536bd56b7904a",
      "original_line" : 737,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 20,
      "pull_request_review_id" : 492162456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19980",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-20T00:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/491617006",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19876 (wallet: Fix wallet loading race during node start by fjahr)\n* #19865 (scripted-diff: Restore AssertLockHeld after #19668, remove LockAssertion by ryanofsky)\n* #18904 (Don't call lsn_reset in periodic flush by bvbfan)\n* #18842 (wallet: Mark replaced tx to not be in the mempool anymore by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-09-20T01:53:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19980#issuecomment-695478404",
      "id" : 695478404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19980",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NTQ3ODQwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-20T01:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/695478404",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
