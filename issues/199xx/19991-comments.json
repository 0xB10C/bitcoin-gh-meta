[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19064 (refactor: Cleanup thread ctor calls by hebasto)\n* #19043 (torcontrol: add -tortarget config by MDrollette)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-09-22T12:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696686472",
      "id" : 696686472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjY4NjQ3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-22T12:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696686472",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492716989"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492716989"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit. Why casting 0 to 0 , 0 is 0 in every byte-order? I like this to be a constant and not a hookable function. ",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-22T13:06:07Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492716989",
      "id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjcxNjk4OQ==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 493437265,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-22T13:07:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492716989",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nBeing able to differentiate between incoming Tor connections from normal localhost connections would be very useful\r\n\r\n",
      "created_at" : "2020-09-22T13:17:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696715003",
      "id" : 696715003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjcxNTAwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-22T13:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696715003",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492740957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492740957"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it guaranteed that `INADDR_ANY` will always be 0, on any operating system?",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-22T13:39:02Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492740957",
      "id" : 492740957,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0MDk1Nw==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 493469158,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-22T13:39:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492740957",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492810592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492810592"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "[rfc1122](https://tools.ietf.org/html/rfc1122#section-3.2.1.3) section-3.2.1.3 ",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-22T15:05:13Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492810592",
      "id" : 492810592,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjgxMDU5Mg==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 493561952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-22T15:05:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492810592",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK! Thank you for working on this.",
      "created_at" : "2020-09-22T15:05:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696781883",
      "id" : 696781883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5Njc4MTg4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-22T15:05:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696781883",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492989711"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492989711"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Why casting 0 to 0 , 0 is 0 in every byte-order?\r\n\r\nFirstly, https://www.man7.org/linux/man-pages/man7/ip.7.html:\r\n> `in_addr` should be assigned one of the `INADDR_*` values using `htonl`...\r\n\r\nSecondly, it is inconsistent to have `s_addr = INADDR_ANY` in a line, and `s_addr = htonl(INADDR_LOOPBACK)` in another one.",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-22T19:43:48Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492989711",
      "id" : 492989711,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk4OTcxMQ==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 493790559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-22T19:43:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492989711",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493306244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493306244"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yup i guess its just a generation thing, its a nit, but i always liked to some degree how the bitcoin client did network things different than expected, \r\nU will never know who wrote the example codes and how drunk or biased by a gun on there head they where at those times when the foundations  u all take for granted where coded. \r\nINADDR_LOOPBACK is a different case and hey what can u do if the constant is not in net order, i remember the rant of Hobbit when he bashed on Berkeley sockets implementation ( also on many other reasons) . Htonl() was one of the first predictable ways the :Gesseler had to go\". And if u bind to \"this host\" or maybe not makes a difference.\r\n\r\nI will not way in this more, made my point and u are in charge its now ur world, but please never trade readability for function. ",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-23T08:27:13Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493306244",
      "id" : 493306244,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMwNjI0NA==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 494420205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-23T08:27:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493306244",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493313890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493313890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@saibato Are you ok?",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-23T08:35:10Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493313890",
      "id" : 493313890,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMxMzg5MA==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 494426833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-23T08:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493313890",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493398119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493398119"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`htonl()` is the proper one even though the number is a palindrome. We had some discussion about that [here](https://github.com/bitcoin/bitcoin/pull/19628#discussion_r464156291) and [here](https://github.com/bitcoin/bitcoin/pull/19628#discussion_r473486793).",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-23T10:00:46Z",
      "diff_hunk" : "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493398119",
      "id" : 493398119,
      "in_reply_to_id" : 492716989,
      "line" : 2304,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM5ODExOQ==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 2304,
      "original_position" : 6,
      "original_start_line" : 2303,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 494496641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : 2303,
      "start_side" : "RIGHT",
      "updated_at" : "2020-09-23T10:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493398119",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493404738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493404738"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Signet not mentioned?",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-23T10:07:59Z",
      "diff_hunk" : "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493404738",
      "id" : 493404738,
      "line" : 454,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQwNDczOA==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 454,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 494502187,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-23T10:34:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493404738",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493432398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493432398"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this change -- to mention signet in help output for all relevant config options -- should be the part of another PR, no?",
      "commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "created_at" : "2020-09-23T10:38:09Z",
      "diff_hunk" : "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493432398",
      "id" : 493432398,
      "in_reply_to_id" : 493404738,
      "line" : 454,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQzMjM5OA==",
      "original_commit_id" : "6e05a443bbe7090a331281290f18bedea13bab0a",
      "original_line" : 454,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_review_id" : 494524359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-23T10:40:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493432398",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild\r\n>  - This will always open `127.0.0.1:8334`, even if the new option `-onionservicetargetport=` is not specified and the system does not use Tor in any way. I think this deserves a release notes mention.\r\n\r\nTarget port opening could be dependent on `-listenonion` option value. What do you think?\r\n\r\n>  - Binding to `127.0.0.1` would make it impossible (or hard) to run the Tor daemon on another host. What about changing to `-onionservicetarget=bind_address:port` without a default value - i.e. don't do the new bind unless `-onionservicetarget=` is specified? This would also allow to bind to an external address or to `0.0.0.0` (any).\r\n\r\nThis issue is addressed in #19043, IIUC.\r\n\r\n>  - Notice that if another peer manages to reach and connect to the new bind without tor, then we would mistakenly think it is an incoming tor connection.\r\n\r\nHmmm... Need to think about this.\r\n\r\n>  - I am just curious - what will happen if `-onionservicetargetport=8333` is specified?\r\n\r\nIt will still work but without strong distinction between Tor and clearnet, no?",
      "created_at" : "2020-09-23T10:48:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-697285952",
      "id" : 697285952,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NzI4NTk1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-23T10:48:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697285952",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
