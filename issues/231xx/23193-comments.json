[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Alternative solution:\r\n\r\nUse IP addresses for DNS seeds instead of domains and method used by nodes behind a proxy.\r\n\r\nNode -> IP address of seed node -> P2P message with address for several other nodes\r\n\r\nhttps://bitcoin.stackexchange.com/a/109535/",
      "created_at" : "2021-10-06T00:47:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23193#issuecomment-935165608",
      "id" : 935165608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23193",
      "node_id" : "IC_kwDOABII5843vX6o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935165608/reactions"
      },
      "updated_at" : "2021-10-06T00:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935165608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@prayank23 Were you able to reproduce the issue described? :)",
      "created_at" : "2021-10-06T09:10:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23193#issuecomment-935806407",
      "id" : 935806407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23193",
      "node_id" : "IC_kwDOABII5843x0XH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935806407/reactions"
      },
      "updated_at" : "2021-10-06T09:10:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935806407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I was not able to reproduce this issue with below config in Fedora although learnt something new when I was reading your comments in that PR:\r\n\r\n_/etc/resolv.conf_\r\n\r\n```\r\nnameserver 127.0.0.53\r\noptions edns0 trust-ad\r\nsearch localtest.me\r\n```\r\n\r\nAnd running command:\r\n\r\n```\r\n$ sudo RES_OPTIONS=\"options ndots:15\" LOCALDOMAIN=\"localtest.me\" bitcoind\r\n```\r\n\r\n```\r\n2021-10-06T09:43:51Z dnsseed thread start\r\n2021-10-06T09:43:51Z Loading addresses from DNS seed dnsseed.bitcoin.dashjr.org\r\n2021-10-06T09:43:51Z msghand thread start\r\n2021-10-06T09:43:51Z addcon thread start\r\n2021-10-06T09:43:51Z opencon thread start\r\n2021-10-06T09:43:51Z Loading addresses from DNS seed seed.bitcoin.sipa.be\r\n```\r\n\r\n```\r\n[prayank@fedora ~]$ nslookup test\r\nServer:\t\t127.0.0.53\r\nAddress:\t127.0.0.53#53\r\n\r\nNon-authoritative answer:\r\nName:\ttest.localtest.me\r\nAddress: 127.0.0.1\r\n\r\nnslookup seed.bitcoin.sipa.be\r\nServer:\t\t127.0.0.53\r\nAddress:\t127.0.0.53#53\r\n\r\nNon-authoritative answer:\r\nName:\tseed.bitcoin.sipa.be\r\nAddress: 114.246.97.39\r\n```\r\nhttps://pastebin.com/raw/adgvS3JC\r\n\r\nHowever I was assuming it happens in other networks or using different config and there are other issues with use of domains:\r\n\r\n1. Use of DNS servers as explained in https://voluntarymind.com/bitcoin/2021/\r\n2. One of the 9 domains getting hacked and pointing to malicious nodes for few hours\r\n3. DNS leaks if `onion` is used instead of `proxy`\r\n4. Few governments like to ask ISPs in their country to ban bitcoin related domains     \r\n\r\nSo I was thinking if we can use IPs instead of domains for bootstrapping. Maybe try on testnet for few months and see how things work.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2021-10-06T10:08:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23193#issuecomment-935897967",
      "id" : 935897967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23193",
      "node_id" : "IC_kwDOABII5843yKtv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935897967/reactions"
      },
      "updated_at" : "2021-10-06T10:16:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935897967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@prayank23 Did you get any valid addresses from those DNS seed lookups? Note that despite the log entry `2021-10-06T09:43:51Z Loading addresses from DNS seed seed.bitcoin.sipa.be` the actual DNS lookup may have been made against `seed.bitcoin.sipa.be.localtest.me` instead of `seed.bitcoin.sipa.be`. You'll have to look at the actual DNS traffic using something like `tcpdump -n 'port 53'` to be certain.",
      "created_at" : "2021-10-06T10:28:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23193#issuecomment-935927623",
      "id" : 935927623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23193",
      "node_id" : "IC_kwDOABII5843yR9H",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935927623/reactions"
      },
      "updated_at" : "2021-10-06T10:32:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935927623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tried `tcpdump -n 'port 53'`:\r\n\r\n```\r\n$ sudo tcpdump -n 'port 53'\r\ndropped privs to tcpdump\r\ntcpdump: verbose output suppressed, use -v[v]... for full protocol decode\r\nlistening on ens33, link-type EN10MB (Ethernet), snapshot length 262144 bytes\r\n16:15:37.086033 IP 192.168.170.134.39047 > 192.168.170.2.domain: 58619+ [1au] A? x9.seed.btc.petertodd.org. (54)\r\n16:15:37.086303 IP 192.168.170.134.50888 > 192.168.170.2.domain: 42718+ [1au] AAAA? x9.seed.btc.petertodd.org. (54)\r\n16:15:37.705798 IP 192.168.170.2.domain > 192.168.170.134.39047: 58619 24/0/1 CNAME x9.seed.btc.petertodd.net., A 147.219.148.106, A 46.8.179.222, A 193.198.34.24, A 3.112.7.115, A 34.139.129.19, A 128.199.212.225, A 78.21.167.8, \r\n```\r\nChecked one of the IP from results:\r\n\r\nhttps://bitnodes.io/nodes/78.21.167.8-8333/\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/136189801-d2dbf2dc-7537-4be4-8b2b-fd0bab6457af.png)\r\n",
      "created_at" : "2021-10-06T10:56:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/23193#issuecomment-935969136",
      "id" : 935969136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23193",
      "node_id" : "IC_kwDOABII5843ycFw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935969136/reactions"
      },
      "updated_at" : "2021-10-06T10:56:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935969136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
