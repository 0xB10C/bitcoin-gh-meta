{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "It's been 5 years since using LTO was first suggested for use when building Bitcoin Core, and it's time to revisit it again. Compilers, and their LTO implementations, have matured, and Bitcoin Core has come a long way in terms of pruning dependencies which may have proved troublesome (i.e Boost previously had issues when using LTO). We'll have even less Boost code after moving to `std::filesystem` (#20744).\r\n\r\nExperimenting with LTO came up on IRC last night:\r\n> sipa: jamesob: i'm interested in knowing whether \"-flto\" and/or \"-fdata-sections -ffunction-sections -Wl,--gc-sections\" are possible/beneficial with our current compiler suite; what would be a good way to have your test infrastructure benchmark things?\r\n\r\nSo this PR just adds the bare minimum to make it easier to configure, compile and perform some bench-marking using `-flto`. This PR doesn't do anything Guix / depends wise, however if we decide this is what we want to do, I'll expand the changes here.\r\n\r\nI had previously had a PR open to perform link time garbage collection (`-ffunction-sections -fdata-sections -Wl,--gc-sections`), in #18605, however moving straight to using LTO would be preferable.\r\n\r\nNote that our minimum required set of compilers, GCCC 8.1 and Clang 7, all support the `-flto` option.\r\n\r\nRelated #18579.\r\nPrevious discussion: #10616, #14277.\r\nPrevious related PRs: #10800 (`-flto`), #16791 (ThinLTO).",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152/comments",
   "created_at" : "2021-10-01T07:35:28Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/23152",
   "id" : 1013010594,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII584si6Si",
   "number" : 23152,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/23152.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23152",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/23152.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23152"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152/timeline",
   "title" : "build: add `--enable-lto` configuration option",
   "updated_at" : "2021-10-01T07:56:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23152",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
