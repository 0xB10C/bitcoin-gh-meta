{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This is part of the [assumeutxo project](https://github.com/bitcoin/bitcoin/projects/11) (parent PR: #15606) \r\n\r\n---\r\n\r\nWhen reconnecting the block index on startup, we have to account for the\r\nfact that assumed-valid blocks (per the snapshot chainstate) do not have\r\nnTx values. We can't exclude blocks from inclusion in\r\n`setBlockIndexCandidates` on this basis or we will trip over an empty\r\nset in an assertion later in startup.\r\n\r\nWe also have to ensure that blocks past the snapshot base block (i.e.\r\nthe end of the assumed-valid region of the chain) are not included in\r\nsetBlockIndexCandidates for the background validation chainstate.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174/comments",
   "created_at" : "2021-10-04T14:33:59Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/23174",
   "id" : 1015261643,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII584spOXp",
   "number" : 23174,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/23174.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23174",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/23174.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23174"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174/timeline",
   "title" : "validation: have LoadBlockIndex account for snapshot use",
   "updated_at" : "2021-10-04T14:33:59Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23174",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
      "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jamesob/followers",
      "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jamesob",
      "id" : 73197,
      "login" : "jamesob",
      "node_id" : "MDQ6VXNlcjczMTk3",
      "organizations_url" : "https://api.github.com/users/jamesob/orgs",
      "received_events_url" : "https://api.github.com/users/jamesob/received_events",
      "repos_url" : "https://api.github.com/users/jamesob/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jamesob"
   }
}
