[
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto Can you also link to #14058 from the PR description, as that is the issue #14072 was solving.",
      "created_at" : "2018-11-25T23:28:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14803#issuecomment-441483714",
      "id" : 441483714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14803",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTQ4MzcxNA==",
      "updated_at" : "2018-11-25T23:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441483714",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fanquake Done.",
      "created_at" : "2018-11-25T23:32:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14803#issuecomment-441483944",
      "id" : 441483944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14803",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTQ4Mzk0NA==",
      "updated_at" : "2018-11-25T23:32:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441483944",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nThanks for fighting UB (data race is UB) :-)",
      "created_at" : "2018-11-25T23:33:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14803#issuecomment-441483997",
      "id" : 441483997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14803",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTQ4Mzk5Nw==",
      "updated_at" : "2018-11-25T23:33:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441483997",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for working on this.\r\n\r\nSimply making the check flag atomic doesn't really seem correct to me-- why would we be checking the same block object twice concurrently?  Just making the test atomic prevents the that particular bit of UB but it doesn't mean that there isn't wasted work, or even the potential of a deadlock.\r\n\r\nCan someone please summarize how the same block can get checked in parallel and why it makes sense for that to happen? 14058 simply states the test fail with thread sanitizing enabled, but don't explain the sequence of events that lead to the race. I want to make sure that we're not bandaging over a structural flaw that should be fixed with a lock someplace or some other change.  ",
      "created_at" : "2018-11-26T02:01:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14803#issuecomment-441497316",
      "id" : 441497316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14803",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTQ5NzMxNg==",
      "updated_at" : "2018-11-26T02:03:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441497316",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#10785](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10785.html) (Serialization improvements by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-11-26T02:44:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14803#issuecomment-441503000",
      "id" : 441503000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14803",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MTUwMzAwMA==",
      "updated_at" : "2018-11-26T02:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441503000",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
