[
   {
      "author_association" : "MEMBER",
      "body" : "Is it even hypothetically possible for LOCKTIME_MEDIAN_TIME_PAST to be set on a genesis block?\r\n\r\nPrecedence is non-obvious in this case, so prefer adding parenthesis for clarity at least.",
      "created_at" : "2018-11-29T04:22:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442701580",
      "id" : 442701580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwMTU4MA==",
      "updated_at" : "2018-11-29T04:22:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442701580",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That's a good point. Is that the only case `ContextualCheckBlock` is called with `pindexPrev == nullptr`? (When block is the genesis block)",
      "created_at" : "2018-11-29T04:29:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442702526",
      "id" : 442702526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwMjUyNg==",
      "updated_at" : "2018-11-29T04:30:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442702526",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\n     const int nHeight = pindexPrev == nullptr ? 0 : pindexPrev->nHeight + 1;\r\n```",
      "created_at" : "2018-11-29T04:32:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442703043",
      "id" : 442703043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwMzA0Mw==",
      "updated_at" : "2018-11-29T04:32:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442703043",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, that pretty much proves it. It could change in the future, though, so I think the change is still warranted. It also plugs a static analyzer warning about null dereferencing, so there is that.",
      "created_at" : "2018-11-29T04:53:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442705991",
      "id" : 442705991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwNTk5MQ==",
      "updated_at" : "2018-11-29T04:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442705991",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If it changes in the future, your modification here is a security vulnerability, since the block must be checked with the *correct* min locktime.",
      "created_at" : "2018-11-29T04:57:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442706669",
      "id" : 442706669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwNjY2OQ==",
      "updated_at" : "2018-11-29T04:57:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442706669",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr I changed the approach and am now asserting that `pindexPrev` is non-null for the case where the lock time flags have `LOCKTIME_MEDIAN_TIME_PAST`. That seems more aligned with your reasoning, I think, and I agree makes more sense in this case.",
      "created_at" : "2018-11-29T05:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442707318",
      "id" : 442707318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwNzMxOA==",
      "updated_at" : "2018-11-29T05:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442707318",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I guess that looks okay, although I found the logic relatively hard to follow.",
      "created_at" : "2018-11-29T05:10:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14834#issuecomment-442708534",
      "id" : 442708534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14834",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MjcwODUzNA==",
      "updated_at" : "2018-11-29T05:10:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/442708534",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
