[
   {
      "author_association" : "MEMBER",
      "body" : "Possibly related to https://github.com/bitcoin/bitcoin/pull/12495?\r\n\r\n@RQ732P thanks for the report. Can you rerun this and watch the open file descriptor count and tell us how high it gets? E.g.\r\n```\r\n$ watch \"lsof -w -p $(pidof bitcoind) | awk 'BEGIN { fd=0; mem=0; } /ldb$/ { if (\\$4 == \\\"mem\\\") mem++; else fd++ } END { printf \\\"mem = %s, fd = %s\\n\\\", mem, fd}'\"\r\n```",
      "created_at" : "2018-12-04T17:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14870#issuecomment-444184224",
      "id" : 444184224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDE4NDIyNA==",
      "updated_at" : "2018-12-04T17:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444184224",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@RQ732P can you also post what file descriptors bitcoind has open after you see the error? E.g.\r\n```sh\r\nlsof -w -a -d ^mem -p $(pidof bitcoind)\r\n```",
      "created_at" : "2018-12-04T17:29:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14870#issuecomment-444185688",
      "id" : 444185688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDE4NTY4OA==",
      "updated_at" : "2018-12-04T17:29:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444185688",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "are we sure is it a bug? try to remove the option `-debug=leveldb`. I am asking, because I run bitcoind (mainnet, testnet and regtest) on macOS from years, and I never had a similar problem. But ok I have to try in `testnet` with `-debug=leveldb`. And while is synching is normal it's not accepting RPC calls.\r\n\r\nSo, is it crashing, like it is written in the title of this issue \"Bitcoind crashes with Too Many Files error\", or is it \"Stops accepting RCP calls\"?\r\n\r\n\"Crashing\" is not the same of \"Stops accepting RCP calls\"\r\n",
      "created_at" : "2018-12-04T23:28:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14870#issuecomment-444299340",
      "id" : 444299340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDI5OTM0MA==",
      "updated_at" : "2018-12-04T23:47:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444299340",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1006078?v=4",
         "events_url" : "https://api.github.com/users/isghe/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isghe/followers",
         "following_url" : "https://api.github.com/users/isghe/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isghe/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isghe",
         "id" : 1006078,
         "login" : "isghe",
         "node_id" : "MDQ6VXNlcjEwMDYwNzg=",
         "organizations_url" : "https://api.github.com/users/isghe/orgs",
         "received_events_url" : "https://api.github.com/users/isghe/received_events",
         "repos_url" : "https://api.github.com/users/isghe/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isghe/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isghe/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isghe"
      }
   }
]
