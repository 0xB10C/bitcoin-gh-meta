[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, I've also noticed considerable speedups with tmpfs as temp dir for the functional tests. Even on systems with fast SSD.\r\n\r\nAre you sure about the 8GB disk usage though?\r\nEdit: oh, with `--no-cleanup`, right; normally only the running tests take up space so the peak is much lower.",
      "created_at" : "2022-03-29T14:49:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24707#issuecomment-1081967777",
      "id" : 1081967777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24707",
      "node_id" : "IC_kwDOABII585AfYSh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081967777/reactions"
      },
      "updated_at" : "2022-03-29T15:11:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1081967777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK, I've also noticed considerable speedups with tmpfs as temp dir for the functional tests. Even on systems with fast SSD.\r\n> \r\n> Are you sure about the 8GB disk usage though? Edit: oh, with `--no-cleanup`, right; normally only the running tests take up space so the peak is much lower.\r\n\r\nRight. Just checked without `--no-cleanup`  and the max I saw the directory increase to was 3.5GB. So I think the 3.5GB recommendation in the commit itself should be pretty solid :)",
      "created_at" : "2022-03-29T15:26:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24707#issuecomment-1082015451",
      "id" : 1082015451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24707",
      "node_id" : "IC_kwDOABII585Afj7b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1082015451/reactions"
      },
      "updated_at" : "2022-03-29T15:26:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1082015451",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24707#discussion_r837661615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837661615"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This should be `--nocleanup`\r\n\r\n```suggestion\r\nA full test suite run with `--nocleanup` takes slightly over 8GB of disk space in total, so configuring above this seems unnecessary, however even smaller ramdisks have a great impact on test suite speed.\r\n```",
      "commit_id" : "17648493df478fa9316cc9ed66fe6bc1c2c820a4",
      "created_at" : "2022-03-29T16:11:31Z",
      "diff_hunk" : "@@ -107,6 +107,33 @@ how many jobs to run, append `--jobs=n`\n The individual tests and the test_runner harness have many command-line\n options. Run `test/functional/test_runner.py -h` to see them all.\n \n+#### Speed up test runs with a ramdisk\n+\n+If you have some available RAM on your system you can create a ramdisk to use as the `cache` and `tmp` directories for the functional tests in order to speed them up.\n+Speed-up amount varies on each system (and according to your ram speed and other variables), but a 2-3x speed-up is not uncommon.\n+\n+To create a 4GB ramdisk at `/mnt/tmp/`:\n+\n+```bash\n+sudo mkdir -p /mnt/tmp\n+sudo mount -t tmpfs -o size=4g tmpfs /mnt/tmp/\n+```\n+\n+Configure the size of the ramdisk using the `size=` option.\n+A full test suite run with `--no-cleanup` takes slightly over 8GB of disk space in total, so configuring above this seems unnecessary, however even smaller ramdisks have a great impact on test suite speed.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24707#discussion_r837661615",
      "id" : 837661615,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x7bOv",
      "original_commit_id" : "55ec083c8bed9d0e06522dc2efe7d700cca38cdf",
      "original_line" : 123,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/README.md",
      "position" : null,
      "pull_request_review_id" : 924888664,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24707",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837661615/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T16:12:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837661615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Concept ACK\r\n\r\nSame applies to macos in case we want to add this as well\r\n\r\n```\r\ndiskutil erasevolume HFS+ 'ramdisk' `hdiutil attach -nomount ram://8388608`\r\ntest/functional/test_runner.py  --cachedir=/Volumes/ramdisk/cache --tmpdir=/Volumes/ramdisk\r\n```\r\n",
      "created_at" : "2022-03-29T20:32:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24707#issuecomment-1082345818",
      "id" : 1082345818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24707",
      "node_id" : "IC_kwDOABII585Ag0la",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1082345818/reactions"
      },
      "updated_at" : "2022-03-29T20:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1082345818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/0x8664b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0x8664b2/followers",
         "following_url" : "https://api.github.com/users/0x8664b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0x8664b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0x8664b2",
         "id" : 91447896,
         "login" : "0x8664b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/0x8664b2/orgs",
         "received_events_url" : "https://api.github.com/users/0x8664b2/received_events",
         "repos_url" : "https://api.github.com/users/0x8664b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0x8664b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0x8664b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0x8664b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24707#discussion_r837934080"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837934080"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated (removed) as kind of irrelevant to the normal usage.",
      "commit_id" : "17648493df478fa9316cc9ed66fe6bc1c2c820a4",
      "created_at" : "2022-03-29T21:41:24Z",
      "diff_hunk" : "@@ -107,6 +107,33 @@ how many jobs to run, append `--jobs=n`\n The individual tests and the test_runner harness have many command-line\n options. Run `test/functional/test_runner.py -h` to see them all.\n \n+#### Speed up test runs with a ramdisk\n+\n+If you have some available RAM on your system you can create a ramdisk to use as the `cache` and `tmp` directories for the functional tests in order to speed them up.\n+Speed-up amount varies on each system (and according to your ram speed and other variables), but a 2-3x speed-up is not uncommon.\n+\n+To create a 4GB ramdisk at `/mnt/tmp/`:\n+\n+```bash\n+sudo mkdir -p /mnt/tmp\n+sudo mount -t tmpfs -o size=4g tmpfs /mnt/tmp/\n+```\n+\n+Configure the size of the ramdisk using the `size=` option.\n+A full test suite run with `--no-cleanup` takes slightly over 8GB of disk space in total, so configuring above this seems unnecessary, however even smaller ramdisks have a great impact on test suite speed.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24707#discussion_r837934080",
      "id" : 837934080,
      "in_reply_to_id" : 837661615,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584x8dwA",
      "original_commit_id" : "55ec083c8bed9d0e06522dc2efe7d700cca38cdf",
      "original_line" : 123,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/README.md",
      "position" : null,
      "pull_request_review_id" : 925269288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24707",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837934080/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-29T21:41:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/837934080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
