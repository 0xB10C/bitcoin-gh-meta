[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Looks more preferable than #24727.",
      "created_at" : "2022-04-01T12:27:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085836232",
      "id" : 1085836232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585AuIvI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085836232/reactions"
      },
      "updated_at" : "2022-04-01T12:27:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085836232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Approach ACK on using the debian patch.",
      "created_at" : "2022-04-01T12:34:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085843752",
      "id" : 1085843752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585AuKko",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085843752/reactions"
      },
      "updated_at" : "2022-04-01T12:34:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085843752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd normally consider this too hacky to be worth it, but as the patch is used by debian (which we've indirectly, through Ubuntu, already built with) there's good precedent and I'm reasonably convinced this is safe, and think it's ok to do instead of disabling AVX2 for the Windows build.\r\n\r\nEdit: I've updated https://gist.github.com/laanwj/95d97cd218d99c68c1437115e0db9394/archive/9ba4b193a27e970b8866ba22389c89d198783bc7.zip to add the asm for `_ZN14sha256d64_avx214Transform_8wayEPhPKh` for this branch (in addition to that of 22.0 and 23.0rc3). I have confirmed that there are no more `vmovdqa` instructions (they've become `vmovdqu`). Otherwise, the code seems to be he same.\r\n\r\nAssembly-checked ACK d6fae988eff78e28756d9b6219ec0239c420f51b",
      "created_at" : "2022-04-01T13:16:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085888784",
      "id" : 1085888784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585AuVkQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085888784/reactions"
      },
      "updated_at" : "2022-04-01T15:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085888784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Whoa, impressive and quick detective work @laanwj and @fanquake!\r\n\r\nThis makes sense for release, but this leaves us with a known miscompile when building for win from source with a modern compiler, no? So the only realistic way to get a safe exe other than msvc I guess is the official binary or a guix self-build.\r\n\r\nIf that's the case, I'd actually favor #24727.",
      "created_at" : "2022-04-01T14:11:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085952112",
      "id" : 1085952112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585AulBw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085952112/reactions"
      },
      "updated_at" : "2022-04-01T14:13:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085952112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> So the only realistic way to get a safe exe other than msvc I guess is the official binary or a guix self-build.\r\n\r\nOr a Debian or Fedora packaged cross-compiler. It was guix with the \"wrong\" compiler. Not sure about mingw-w64 own (non-cross) binaries though.",
      "created_at" : "2022-04-01T14:20:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085964308",
      "id" : 1085964308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585AuoAU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085964308/reactions"
      },
      "updated_at" : "2022-04-01T14:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085964308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > So the only realistic way to get a safe exe other than msvc I guess is the official binary or a guix self-build.\r\n> \r\n> Or a Debian or Fedora packaged cross-compiler. It was guix with the \"wrong\" compiler.\r\n\r\nRight, sorry, I meant that vanilla gcc is known-broken. Or am I misunderstanding?\r\n\r\nI guess if we're confident enough that most users will encounter a patched version via their distro it's not a concern.",
      "created_at" : "2022-04-01T14:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24736#issuecomment-1085971710",
      "id" : 1085971710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24736",
      "node_id" : "IC_kwDOABII585Aupz-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085971710/reactions"
      },
      "updated_at" : "2022-04-01T14:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1085971710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
