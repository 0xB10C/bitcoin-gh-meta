[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r886860219"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886860219"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    const auto count{request.params[2].isNull() ? 1 : request.params[2].getInt<int>()};\r\n```\r\n\r\ncan be written in a single line",
      "commit_id" : "35ae928611c59d44683455d2695edf753cddd275",
      "created_at" : "2022-06-01T14:14:16Z",
      "diff_hunk" : "@@ -539,10 +553,16 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 1;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r886860219",
      "id" : 886860219,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58403Gm7",
      "original_commit_id" : "ac3083bc32354d0488d90c5d7e7a41864cb26525",
      "original_line" : 558,
      "original_position" : 41,
      "original_start_line" : 556,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 992049984,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886860219/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-06-01T14:16:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886860219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r886863148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886863148"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Header count is invalid or out of acceptable range (1-2000): \" + ::ToString(count));\r\n```",
      "commit_id" : "35ae928611c59d44683455d2695edf753cddd275",
      "created_at" : "2022-06-01T14:16:45Z",
      "diff_hunk" : "@@ -539,10 +553,16 @@ static RPCHelpMan getblockheader()\n     if (!request.params[1].isNull())\n         fVerbose = request.params[1].get_bool();\n \n+    int count = 1;\n+    if (!request.params[2].isNull())\n+        count = request.params[2].get_int();\n+    if ((count <= 0) || (count > 2000))\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Header count is invalid or out of acceptable range (1-2000): \" + std::to_string(count));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r886863148",
      "id" : 886863148,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58403HUs",
      "original_commit_id" : "ac3083bc32354d0488d90c5d7e7a41864cb26525",
      "original_line" : 560,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 992049984,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886863148/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-01T14:16:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/886863148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
      "created_at" : "2022-06-01T15:57:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1143791921",
      "id" : 1143791921,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585ELOEx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143791921/reactions"
      },
      "updated_at" : "2022-06-01T15:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143791921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it makes sense to do count = 0 as a single entity, and >= 1 as an array, or otherwise make an additional as_array bool param to control the output type.\r\n\r\nOtherwise the \"type instability\" is difficult to deal with for downstream consumers of the API. E.g., consider the code for https://docs.rs/bitcoincore-rpc/latest/src/bitcoincore_rpc/client.rs.html#337-341 .",
      "created_at" : "2022-06-01T18:02:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1143965971",
      "id" : 1143965971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585EL4kT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143965971/reactions"
      },
      "updated_at" : "2022-06-01T18:02:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143965971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I think it makes sense to do count = 0 as a single entity, and >= 1 as an array, or otherwise make an additional as_array bool param to control the output type.\r\n> \r\n> Otherwise the \"type instability\" is difficult to deal with for downstream consumers of the API. E.g., consider the code for https://docs.rs/bitcoincore-rpc/latest/src/bitcoincore_rpc/client.rs.html#337-341 .\r\n\r\nThanks for the reply. Note that there is no regression impact because all preexisting functionality is intact. Ultimately, it is an optional parameter which can be ignored.\r\n\r\nTo me, `count = 0` is a bit counterintuitive. And as mentioned above, the REST call also interprets `count = 0` as invalid, assuming we are aiming to emulate an improved version of the REST functionality in RPC.\r\n\r\nFrom the old PR, it would appear that we are tending away from the unformatted (concatenated) output in new implementation. If this is indeed the case, then such an additional parameter does not make seem useful.\r\n\r\n@MarcoFalke Do you have any input on this? And are any further updates to the PR needed at this point? All CI checks have passed. Thanks.",
      "created_at" : "2022-06-01T18:54:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1144015767",
      "id" : 1144015767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585EMEuX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144015767/reactions"
      },
      "updated_at" : "2022-06-01T18:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144015767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/63422690?v=4",
         "events_url" : "https://api.github.com/users/natanleung/events{/privacy}",
         "followers_url" : "https://api.github.com/users/natanleung/followers",
         "following_url" : "https://api.github.com/users/natanleung/following{/other_user}",
         "gists_url" : "https://api.github.com/users/natanleung/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/natanleung",
         "id" : 63422690,
         "login" : "natanleung",
         "node_id" : "MDQ6VXNlcjYzNDIyNjkw",
         "organizations_url" : "https://api.github.com/users/natanleung/orgs",
         "received_events_url" : "https://api.github.com/users/natanleung/received_events",
         "repos_url" : "https://api.github.com/users/natanleung/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/natanleung/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/natanleung/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/natanleung"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What about:\r\n\r\n* null -> \"flat\" reply\r\n* int -> array reply",
      "created_at" : "2022-06-01T18:57:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1144018294",
      "id" : 1144018294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585EMFV2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144018294/reactions"
      },
      "updated_at" : "2022-06-01T18:57:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144018294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> What about:\r\n> \r\n> * null -> \"flat\" reply\r\n> * int -> array reply\r\n\r\n@JeremyRubin's suggestion has been implemented. I think I misunderstood the difference between `count = 0` and `count = 1` in terms of the \"type instability\". It makes sense to me now.\r\n\r\nAs you've denoted, this is now resolved such that:\r\n`count = 0` -> \"flat\" reply\r\n`count > 0` -> array reply\r\n\r\nLet me know if any other changes are still needed. Thanks.",
      "created_at" : "2022-06-01T19:39:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1144057167",
      "id" : 1144057167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585EMO1P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144057167/reactions"
      },
      "updated_at" : "2022-06-01T19:39:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144057167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/63422690?v=4",
         "events_url" : "https://api.github.com/users/natanleung/events{/privacy}",
         "followers_url" : "https://api.github.com/users/natanleung/followers",
         "following_url" : "https://api.github.com/users/natanleung/following{/other_user}",
         "gists_url" : "https://api.github.com/users/natanleung/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/natanleung",
         "id" : 63422690,
         "login" : "natanleung",
         "node_id" : "MDQ6VXNlcjYzNDIyNjkw",
         "organizations_url" : "https://api.github.com/users/natanleung/orgs",
         "received_events_url" : "https://api.github.com/users/natanleung/received_events",
         "repos_url" : "https://api.github.com/users/natanleung/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/natanleung/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/natanleung/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/natanleung"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah that makes sense. Null = flat works too. Idea isn't to concatenate anything, but rather to provide support for legacy behavior and something that matches the REST API. Since 0 is invalid in rest, all valid queries in JSON will match all valid rest queries, and legacy count=0 queries will return flat.\r\n\r\nIf we were to do a breaking API change, i'd say *always* return array :)",
      "created_at" : "2022-06-01T20:34:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1144107917",
      "id" : 1144107917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585EMbON",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144107917/reactions"
      },
      "updated_at" : "2022-06-01T20:34:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144107917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MarcoFalke I believe that we have finalized the design. I have also updated the description. Let me know if there is anything else that is needed for this PR. Thanks.",
      "created_at" : "2022-06-03T04:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#issuecomment-1145579888",
      "id" : 1145579888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25261",
      "node_id" : "IC_kwDOABII585ESClw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145579888/reactions"
      },
      "updated_at" : "2022-06-03T04:45:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1145579888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/63422690?v=4",
         "events_url" : "https://api.github.com/users/natanleung/events{/privacy}",
         "followers_url" : "https://api.github.com/users/natanleung/followers",
         "following_url" : "https://api.github.com/users/natanleung/following{/other_user}",
         "gists_url" : "https://api.github.com/users/natanleung/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/natanleung",
         "id" : 63422690,
         "login" : "natanleung",
         "node_id" : "MDQ6VXNlcjYzNDIyNjkw",
         "organizations_url" : "https://api.github.com/users/natanleung/orgs",
         "received_events_url" : "https://api.github.com/users/natanleung/received_events",
         "repos_url" : "https://api.github.com/users/natanleung/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/natanleung/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/natanleung/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/natanleung"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r900652557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652557"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think it's a good idea to duplicate the logic for each \"mode\".\r\n\r\nBetter to build a 1-item array, and return only `headers[0]` as a special case.",
      "commit_id" : "a2a73a23603b3600cbfb5e97ac56fa7f404ff157",
      "created_at" : "2022-06-18T01:41:11Z",
      "diff_hunk" : "@@ -552,15 +570,40 @@ static RPCHelpMan getblockheader()\n         throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n     }\n \n-    if (!fVerbose)\n+    if (count == 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r900652557",
      "id" : 900652557,
      "line" : 573,
      "node_id" : "PRRC_kwDOABII5841rt4N",
      "original_commit_id" : "a2a73a23603b3600cbfb5e97ac56fa7f404ff157",
      "original_line" : 573,
      "original_position" : 56,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 56,
      "pull_request_review_id" : 1011238315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652557/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-18T01:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r900652953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652953"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer restricting special case to `count=null`",
      "commit_id" : "a2a73a23603b3600cbfb5e97ac56fa7f404ff157",
      "created_at" : "2022-06-18T01:41:47Z",
      "diff_hunk" : "@@ -503,9 +503,10 @@ static RPCHelpMan getblockheader()\n                 {\n                     {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash\"},\n                     {\"verbose\", RPCArg::Type::BOOL, RPCArg::Default{true}, \"true for a json object, false for the hex-encoded data\"},\n+                    {\"count\", RPCArg::Type::NUM, RPCArg::Default{0}, \"Number of headers to get (maximum: 2000)\"},\n                 },\n                 {\n-                    RPCResult{\"for verbose = true\",\n+                    RPCResult{\"for verbose = true, count = 0\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25261#discussion_r900652953",
      "id" : 900652953,
      "line" : 509,
      "node_id" : "PRRC_kwDOABII5841rt-Z",
      "original_commit_id" : "a2a73a23603b3600cbfb5e97ac56fa7f404ff157",
      "original_line" : 509,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 1011238315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25261",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652953/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-18T01:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/900652953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
