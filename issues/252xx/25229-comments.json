[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I tried to reproduce this (Ubuntu 20.04.4 LTS) with a large wallet but could not see a memory leak (also not with valgrind).\r\nWhat I did see is that repeated calls to `listtransactions` would lead to a step up in the memory claimed by bitcoind (as seen by top or pmap) that would not be released by the OS (enhanced by the fact that the memory for the large RPC response was reserved twice, fixed in #25237)\r\nBut after ~5 calls to `listtransactions` the memory of bitcoind would not increase any further for me with more listtransactions calls.\r\n",
      "created_at" : "2022-05-29T18:35:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25229#issuecomment-1140502539",
      "id" : 1140502539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25229",
      "node_id" : "IC_kwDOABII585D-rAL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140502539/reactions"
      },
      "updated_at" : "2022-05-29T18:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140502539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "My application is querying `listtransactions \"*\" 100000000` about once every 1 minute to retrieve a list of all transactions. The request takes about 10 seconds. After each call there is an increase in the consumed memory. Sometimes memory clearing is observed but this is useless and after 2-3 hours `bitcoind` dies with a kill signal from the OS.\r\n\r\nI also additionally checked after 5 or more calls the memory also grows by 100+ MB.",
      "created_at" : "2022-05-29T21:28:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25229#issuecomment-1140527729",
      "id" : 1140527729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25229",
      "node_id" : "IC_kwDOABII585D-xJx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140527729/reactions"
      },
      "updated_at" : "2022-05-29T21:28:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140527729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/104611393?v=4",
         "events_url" : "https://api.github.com/users/CWDT250/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CWDT250/followers",
         "following_url" : "https://api.github.com/users/CWDT250/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CWDT250/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CWDT250",
         "id" : 104611393,
         "login" : "CWDT250",
         "node_id" : "U_kgDOBjw-QQ",
         "organizations_url" : "https://api.github.com/users/CWDT250/orgs",
         "received_events_url" : "https://api.github.com/users/CWDT250/received_events",
         "repos_url" : "https://api.github.com/users/CWDT250/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CWDT250/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CWDT250/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CWDT250"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Bitcoin Core 23.0\r\n\r\n@CWDT250 are you able to test the behaviour using a build of the master branch?",
      "created_at" : "2022-08-09T08:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25229#issuecomment-1209102244",
      "id" : 1209102244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25229",
      "node_id" : "IC_kwDOABII585IEW-k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209102244/reactions"
      },
      "updated_at" : "2022-08-09T08:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209102244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I could reproduce a memory increase in the system monitor, but not in massif.",
      "created_at" : "2022-08-10T08:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25229#issuecomment-1210370024",
      "id" : 1210370024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25229",
      "node_id" : "IC_kwDOABII585IJMfo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210370024/reactions"
      },
      "updated_at" : "2022-08-10T08:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210370024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
