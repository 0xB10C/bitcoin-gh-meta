[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20832 (rpc: Better error messages for invalid addresses by eilx2)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-01-05T22:05:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-754930797",
      "id" : 754930797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NDkzMDc5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-24T07:01:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754930797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552296627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552296627"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why forbid Bech32m for v0? Seems like it might be nice to (very slowly) migrate to Bech32m exclusively, and drop Bech32 someday?",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-06T00:52:33Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552296627",
      "id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjI5NjYyNw==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562255415,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552296627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552298542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552298542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's a bad idea to have multiple addresses valid for the same scriptPubKey. It only results in confusion when decoding/recoding doesn't roundtrip. v0 outputs use bech32, and I don't think this should ever change, for better or for worse.\r\n\r\nIt also worsens error detection to 29 bits (as every v0 output now has two valid checksums).",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-06T00:55:03Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552298542",
      "id" : 552298542,
      "in_reply_to_id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjI5ODU0Mg==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562256132,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552298542",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552315960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552315960"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Roundtrips (by uninvolved third parties) seem like strictly a bad thing IMO, but loss of error detection precision is a good reason. :/",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-06T01:40:14Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552315960",
      "id" : 552315960,
      "in_reply_to_id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjMxNTk2MA==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562269930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552315960",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "By implementing Bech32m, I found out that it is not obvious how to locate errors, because the `residue` was polymod^1, but now is either `polimod^1` or `polimod^0x2bc830a3`... I am tempted to try both and take the residue with the least errors. I think this should be specified in the bip.\r\nThat said by doing this, the `error patterns with failure probability` in the bip are probably different. As I think you assume in your table that the decoder knows it is decoding bech32m. Unsure if this is really changing things by a lot.\r\n\r\nThis is not the right place to comment for it, but did not found elsewhere.",
      "created_at" : "2021-01-06T12:40:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755277023",
      "id" : 755277023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTI3NzAyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T12:42:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755277023",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@NicolasDorier That isn't solved by sipa only allowing one polimod based on the witness version?",
      "created_at" : "2021-01-06T17:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755437272",
      "id" : 755437272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTQzNzI3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T17:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755437272",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr It's not, because the error may be one that affects the witness version symbol.\r\n\r\n@NicolasDorier Good point, I will elaborate on that.",
      "created_at" : "2021-01-06T17:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755444262",
      "id" : 755444262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTQ0NDI2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T17:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755444262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, Approach ACK. Skimmed code but will hopefully go through more thoroughly at a later date.\r\n\r\nhttps://bitcoin.stackexchange.com/questions/101117/what-problems-identified-with-bech32-addresses-have-been-resolved-with-the-updat",
      "created_at" : "2021-01-09T20:35:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-757363546",
      "id" : 757363546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NzM2MzU0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-09T20:35:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/757363546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559473212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559473212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit 6b28812881375311891e80c1d4e9df6aaa0b85d5\r\n\r\nPerhaps too unorthodox, but it would theoretically be possible to do\r\n```C++\r\n   BECH32 = 1, //...\r\n   BECH32M = 0x2bc830a3, // ...\r\n```\r\nand get rid of `EncodingConstant`. (But the amount of casting required is probably not worth it.)",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-18T10:44:38Z",
      "diff_hunk" : "@@ -14,16 +14,25 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>\n #include <vector>\n \n namespace bech32\n {\n \n-/** Encode a Bech32 string. If hrp contains uppercase characters, this will cause an assertion error. */\n-std::string Encode(const std::string& hrp, const std::vector<uint8_t>& values);\n+enum class Encoding {\n+    INVALID,\n \n-/** Decode a Bech32 string. Returns (hrp, data). Empty hrp means failure. */\n-std::pair<std::string, std::vector<uint8_t>> Decode(const std::string& str);\n+    BECH32,  //! Bech32 encoding as defined in BIP173\n+    BECH32M, //! Bech32m encoding as defined in bip-bech32m",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559473212",
      "id" : 559473212,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ3MzIxMg==",
      "original_commit_id" : "6b28812881375311891e80c1d4e9df6aaa0b85d5",
      "original_line" : 27,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570369959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559473212",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559812907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559812907"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I prefer not to do that just for encapsulation reason. Nothing outside of bech32.cpp should care or see the constants.",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-18T22:05:33Z",
      "diff_hunk" : "@@ -14,16 +14,25 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>\n #include <vector>\n \n namespace bech32\n {\n \n-/** Encode a Bech32 string. If hrp contains uppercase characters, this will cause an assertion error. */\n-std::string Encode(const std::string& hrp, const std::vector<uint8_t>& values);\n+enum class Encoding {\n+    INVALID,\n \n-/** Decode a Bech32 string. Returns (hrp, data). Empty hrp means failure. */\n-std::pair<std::string, std::vector<uint8_t>> Decode(const std::string& str);\n+    BECH32,  //! Bech32 encoding as defined in BIP173\n+    BECH32M, //! Bech32m encoding as defined in bip-bech32m",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559812907",
      "id" : 559812907,
      "in_reply_to_id" : 559473212,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTgxMjkwNw==",
      "original_commit_id" : "6b28812881375311891e80c1d4e9df6aaa0b85d5",
      "original_line" : 27,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570798121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559812907",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kallewoof Agree, a `struct` is definitely warranted here. Updated.",
      "created_at" : "2021-01-18T22:05:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-762490169",
      "id" : 762490169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MjQ5MDE2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-18T22:05:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762490169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559853231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559853231"
         }
      },
      "author_association" : "NONE",
      "body" : "Don't think this is needed anymore.",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-19T00:56:48Z",
      "diff_hunk" : "@@ -14,16 +14,35 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559853231",
      "id" : 559853231,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTg1MzIzMQ==",
      "original_commit_id" : "936322d351ad8ad2b0497bdb0651d5d969944f9f",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570840478,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T03:52:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559853231",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/77431338?v=4",
         "events_url" : "https://api.github.com/users/btcslade/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcslade/followers",
         "following_url" : "https://api.github.com/users/btcslade/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcslade/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcslade",
         "id" : 77431338,
         "login" : "btcslade",
         "node_id" : "MDQ6VXNlcjc3NDMxMzM4",
         "organizations_url" : "https://api.github.com/users/btcslade/orgs",
         "received_events_url" : "https://api.github.com/users/btcslade/received_events",
         "repos_url" : "https://api.github.com/users/btcslade/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcslade/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcslade/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcslade"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559901375"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559901375"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-19T04:06:50Z",
      "diff_hunk" : "@@ -14,16 +14,35 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559901375",
      "id" : 559901375,
      "in_reply_to_id" : 559853231,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTkwMTM3NQ==",
      "original_commit_id" : "936322d351ad8ad2b0497bdb0651d5d969944f9f",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570892259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-19T04:06:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559901375",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/20861/commits/2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-21T11:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-764586255",
      "id" : 764586255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDU4NjI1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T11:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764586255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11212268?v=4",
         "events_url" : "https://api.github.com/users/gruve-p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gruve-p/followers",
         "following_url" : "https://api.github.com/users/gruve-p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gruve-p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gruve-p",
         "id" : 11212268,
         "login" : "gruve-p",
         "node_id" : "MDQ6VXNlcjExMjEyMjY4",
         "organizations_url" : "https://api.github.com/users/gruve-p/orgs",
         "received_events_url" : "https://api.github.com/users/gruve-p/received_events",
         "repos_url" : "https://api.github.com/users/gruve-p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gruve-p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gruve-p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gruve-p"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-26T00:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-767205964",
      "id" : 767205964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NzIwNTk2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-26T00:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767205964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
