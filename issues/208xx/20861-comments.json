[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2021-01-05T22:05:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-754930797",
      "id" : 754930797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NDkzMDc5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-27T02:02:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754930797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552296627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552296627"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why forbid Bech32m for v0? Seems like it might be nice to (very slowly) migrate to Bech32m exclusively, and drop Bech32 someday?",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-06T00:52:33Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552296627",
      "id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjI5NjYyNw==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562255415,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552296627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552298542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552298542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's a bad idea to have multiple addresses valid for the same scriptPubKey. It only results in confusion when decoding/recoding doesn't roundtrip. v0 outputs use bech32, and I don't think this should ever change, for better or for worse.\r\n\r\nIt also worsens error detection to 29 bits (as every v0 output now has two valid checksums).",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-06T00:55:03Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552298542",
      "id" : 552298542,
      "in_reply_to_id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjI5ODU0Mg==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562256132,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552298542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552315960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552315960"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Roundtrips (by uninvolved third parties) seem like strictly a bad thing IMO, but loss of error detection precision is a good reason. :/",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-06T01:40:14Z",
      "diff_hunk" : "@@ -90,14 +90,21 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             return ScriptHash(hash);\n         }\n     }\n+    bech32::Encoding encoding;\n+    std::string hrp;\n+    std::vector<unsigned char> encdata;\n     data.clear();\n-    auto bech = bech32::Decode(str);\n-    if (bech.second.size() > 0 && bech.first == params.Bech32HRP()) {\n+    std::tie(encoding, hrp, encdata) = bech32::Decode(str);\n+    if ((encoding == bech32::Encoding::BECH32 || encoding == bech32::Encoding::BECH32M) &&\n+        encdata.size() > 0 && hrp == params.Bech32HRP()) {\n         // Bech32 decoding\n-        int version = bech.second[0]; // The first 5 bit symbol is the witness version (0-16)\n+        int version = encdata[0]; // The first 5 bit symbol is the witness version (0-16)\n+        if ((version == 0 && encoding != bech32::Encoding::BECH32) || (version != 0 && encoding != bech32::Encoding::BECH32M)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r552315960",
      "id" : 552315960,
      "in_reply_to_id" : 552296627,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjMxNTk2MA==",
      "original_commit_id" : "863a5c2eba77ca571813b33b9fa6237a9f3efbd7",
      "original_line" : 102,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/key_io.cpp",
      "position" : null,
      "pull_request_review_id" : 562269930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552315960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "By implementing Bech32m, I found out that it is not obvious how to locate errors, because the `residue` was polymod^1, but now is either `polimod^1` or `polimod^0x2bc830a3`... I am tempted to try both and take the residue with the least errors. I think this should be specified in the bip.\r\nThat said by doing this, the `error patterns with failure probability` in the bip are probably different. As I think you assume in your table that the decoder knows it is decoding bech32m. Unsure if this is really changing things by a lot.\r\n\r\nThis is not the right place to comment for it, but did not found elsewhere.",
      "created_at" : "2021-01-06T12:40:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755277023",
      "id" : 755277023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTI3NzAyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T12:42:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755277023",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@NicolasDorier That isn't solved by sipa only allowing one polimod based on the witness version?",
      "created_at" : "2021-01-06T17:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755437272",
      "id" : 755437272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTQzNzI3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T17:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755437272",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr It's not, because the error may be one that affects the witness version symbol.\r\n\r\n@NicolasDorier Good point, I will elaborate on that.",
      "created_at" : "2021-01-06T17:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-755444262",
      "id" : 755444262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTQ0NDI2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T17:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755444262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, Approach ACK. Skimmed code but will hopefully go through more thoroughly at a later date.\r\n\r\nhttps://bitcoin.stackexchange.com/questions/101117/what-problems-identified-with-bech32-addresses-have-been-resolved-with-the-updat",
      "created_at" : "2021-01-09T20:35:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-757363546",
      "id" : 757363546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NzM2MzU0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-09T20:35:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/757363546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559473212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559473212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit 6b28812881375311891e80c1d4e9df6aaa0b85d5\r\n\r\nPerhaps too unorthodox, but it would theoretically be possible to do\r\n```C++\r\n   BECH32 = 1, //...\r\n   BECH32M = 0x2bc830a3, // ...\r\n```\r\nand get rid of `EncodingConstant`. (But the amount of casting required is probably not worth it.)",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-18T10:44:38Z",
      "diff_hunk" : "@@ -14,16 +14,25 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>\n #include <vector>\n \n namespace bech32\n {\n \n-/** Encode a Bech32 string. If hrp contains uppercase characters, this will cause an assertion error. */\n-std::string Encode(const std::string& hrp, const std::vector<uint8_t>& values);\n+enum class Encoding {\n+    INVALID,\n \n-/** Decode a Bech32 string. Returns (hrp, data). Empty hrp means failure. */\n-std::pair<std::string, std::vector<uint8_t>> Decode(const std::string& str);\n+    BECH32,  //! Bech32 encoding as defined in BIP173\n+    BECH32M, //! Bech32m encoding as defined in bip-bech32m",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559473212",
      "id" : 559473212,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ3MzIxMg==",
      "original_commit_id" : "6b28812881375311891e80c1d4e9df6aaa0b85d5",
      "original_line" : 27,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570369959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559473212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559812907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559812907"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I prefer not to do that just for encapsulation reason. Nothing outside of bech32.cpp should care or see the constants.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-18T22:05:33Z",
      "diff_hunk" : "@@ -14,16 +14,25 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>\n #include <vector>\n \n namespace bech32\n {\n \n-/** Encode a Bech32 string. If hrp contains uppercase characters, this will cause an assertion error. */\n-std::string Encode(const std::string& hrp, const std::vector<uint8_t>& values);\n+enum class Encoding {\n+    INVALID,\n \n-/** Decode a Bech32 string. Returns (hrp, data). Empty hrp means failure. */\n-std::pair<std::string, std::vector<uint8_t>> Decode(const std::string& str);\n+    BECH32,  //! Bech32 encoding as defined in BIP173\n+    BECH32M, //! Bech32m encoding as defined in bip-bech32m",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559812907",
      "id" : 559812907,
      "in_reply_to_id" : 559473212,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTgxMjkwNw==",
      "original_commit_id" : "6b28812881375311891e80c1d4e9df6aaa0b85d5",
      "original_line" : 27,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570798121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559812907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kallewoof Agree, a `struct` is definitely warranted here. Updated.",
      "created_at" : "2021-01-18T22:05:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-762490169",
      "id" : 762490169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MjQ5MDE2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-18T22:05:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762490169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559853231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559853231"
         }
      },
      "author_association" : "NONE",
      "body" : "Don't think this is needed anymore.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-19T00:56:48Z",
      "diff_hunk" : "@@ -14,16 +14,35 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559853231",
      "id" : 559853231,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTg1MzIzMQ==",
      "original_commit_id" : "936322d351ad8ad2b0497bdb0651d5d969944f9f",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570840478,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559853231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/77431338?v=4",
         "events_url" : "https://api.github.com/users/btcslade/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcslade/followers",
         "following_url" : "https://api.github.com/users/btcslade/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcslade/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcslade",
         "id" : 77431338,
         "login" : "btcslade",
         "node_id" : "MDQ6VXNlcjc3NDMxMzM4",
         "organizations_url" : "https://api.github.com/users/btcslade/orgs",
         "received_events_url" : "https://api.github.com/users/btcslade/received_events",
         "repos_url" : "https://api.github.com/users/btcslade/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcslade/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcslade/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcslade"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559901375"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559901375"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-01-19T04:06:50Z",
      "diff_hunk" : "@@ -14,16 +14,35 @@\n \n #include <stdint.h>\n #include <string>\n+#include <tuple>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r559901375",
      "id" : 559901375,
      "in_reply_to_id" : 559853231,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTkwMTM3NQ==",
      "original_commit_id" : "936322d351ad8ad2b0497bdb0651d5d969944f9f",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.h",
      "position" : null,
      "pull_request_review_id" : 570892259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559901375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/20861/commits/2827cf86559a9310ca3fb8b19e03422586a21a2b",
      "created_at" : "2021-01-21T11:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-764586255",
      "id" : 764586255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NDU4NjI1NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-21T11:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764586255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11212268?v=4",
         "events_url" : "https://api.github.com/users/gruve-p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gruve-p/followers",
         "following_url" : "https://api.github.com/users/gruve-p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gruve-p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gruve-p",
         "id" : 11212268,
         "login" : "gruve-p",
         "node_id" : "MDQ6VXNlcjExMjEyMjY4",
         "organizations_url" : "https://api.github.com/users/gruve-p/orgs",
         "received_events_url" : "https://api.github.com/users/gruve-p/received_events",
         "repos_url" : "https://api.github.com/users/gruve-p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gruve-p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gruve-p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gruve-p"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-26T00:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-767205964",
      "id" : 767205964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NzIwNTk2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-26T00:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767205964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased now #20832 is merged.\r\n\r\nI've also addressed some comments on the BIP draft itself, see https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-January/018362.html.",
      "created_at" : "2021-01-27T00:23:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-767918296",
      "id" : 767918296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NzkxODI5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-27T00:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/767918296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re-ACK 3fee858",
      "created_at" : "2021-01-27T07:42:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-768099947",
      "id" : 768099947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2ODA5OTk0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-27T07:42:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/768099947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "BIP draft is now published as [BIP 350](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki).",
      "created_at" : "2021-02-03T23:22:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-772895907",
      "id" : 772895907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc3Mjg5NTkwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-03T23:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/772895907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571153401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571153401"
         }
      },
      "author_association" : "NONE",
      "body" : "Shouldn't `0x2bc830a3` be made a global constant value?",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-05T18:05:42Z",
      "diff_hunk" : "@@ -27,6 +30,12 @@ const int8_t CHARSET_REV[128] = {\n      1,  0,  3, 16, 11, 28, 12, 14,  6,  4,  2, -1, -1, -1, -1, -1\n };\n \n+/* Determine the final constant to use for the specified encoding. */\n+uint32_t EncodingConstant(Encoding encoding) {\n+    assert(encoding == Encoding::BECH32 || encoding == Encoding::BECH32M);\n+    return encoding == Encoding::BECH32 ? 1 : 0x2bc830a3;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571153401",
      "id" : 571153401,
      "line" : 36,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTE1MzQwMQ==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 36,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 23,
      "pull_request_review_id" : 584581812,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571153401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/372034?v=4",
         "events_url" : "https://api.github.com/users/dr-orlovsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dr-orlovsky/followers",
         "following_url" : "https://api.github.com/users/dr-orlovsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dr-orlovsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dr-orlovsky",
         "id" : 372034,
         "login" : "dr-orlovsky",
         "node_id" : "MDQ6VXNlcjM3MjAzNA==",
         "organizations_url" : "https://api.github.com/users/dr-orlovsky/orgs",
         "received_events_url" : "https://api.github.com/users/dr-orlovsky/received_events",
         "repos_url" : "https://api.github.com/users/dr-orlovsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dr-orlovsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dr-orlovsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dr-orlovsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571154527"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571154527"
         }
      },
      "author_association" : "NONE",
      "body" : "Why here `Encoding` is added as the last parameter why in https://github.com/bitcoin/bitcoin/pull/20861/files#diff-f146300624c06d2e08aadf500952294148a1785edd6ff2e8b50f13b2c08255edR152 it became first? Is there any reason behind API inconsistency?",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-05T18:07:44Z",
      "diff_hunk" : "@@ -111,21 +120,24 @@ data ExpandHRP(const std::string& hrp)\n }\n \n /** Verify a checksum. */\n-bool VerifyChecksum(const std::string& hrp, const data& values)\n+Encoding VerifyChecksum(const std::string& hrp, const data& values)\n {\n     // PolyMod computes what value to xor into the final values to make the checksum 0. However,\n     // if we required that the checksum was 0, it would be the case that appending a 0 to a valid\n     // list of values would result in a new valid list. For that reason, Bech32 requires the\n-    // resulting checksum to be 1 instead.\n-    return PolyMod(Cat(ExpandHRP(hrp), values)) == 1;\n+    // resulting checksum to be 1 instead. In Bech32m, this constant was amended.\n+    uint32_t check = PolyMod(Cat(ExpandHRP(hrp), values));\n+    if (check == EncodingConstant(Encoding::BECH32)) return Encoding::BECH32;\n+    if (check == EncodingConstant(Encoding::BECH32M)) return Encoding::BECH32M;\n+    return Encoding::INVALID;\n }\n \n /** Create a checksum. */\n-data CreateChecksum(const std::string& hrp, const data& values)\n+data CreateChecksum(const std::string& hrp, const data& values, Encoding encoding)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571154527",
      "id" : 571154527,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTE1NDUyNw==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 136,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : null,
      "pull_request_review_id" : 584581812,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571154527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/372034?v=4",
         "events_url" : "https://api.github.com/users/dr-orlovsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dr-orlovsky/followers",
         "following_url" : "https://api.github.com/users/dr-orlovsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dr-orlovsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dr-orlovsky",
         "id" : 372034,
         "login" : "dr-orlovsky",
         "node_id" : "MDQ6VXNlcjM3MjAzNA==",
         "organizations_url" : "https://api.github.com/users/dr-orlovsky/orgs",
         "received_events_url" : "https://api.github.com/users/dr-orlovsky/received_events",
         "repos_url" : "https://api.github.com/users/dr-orlovsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dr-orlovsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dr-orlovsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dr-orlovsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431168"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Won't this need to be backported to 0.21.1 with taproot activation?",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-06T12:43:36Z",
      "diff_hunk" : "@@ -46,3 +46,4 @@ BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n * [`BIP 325`](https://github.com/bitcoin/bips/blob/master/bip-0325.mediawiki): Signet test network is supported as of **v0.21.0** ([PR 18267](https://github.com/bitcoin/bitcoin/pull/18267)).\n * [`BIP 339`](https://github.com/bitcoin/bips/blob/master/bip-0339.mediawiki): Relay of transactions by wtxid is supported as of **v0.21.0** ([PR 18044](https://github.com/bitcoin/bitcoin/pull/18044)).\n * [`BIP 340`](https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki) [`341`](https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki) [`342`](https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki): Validation rules for Taproot (including Schnorr signatures and Tapscript leaves) are implemented as of **v0.21.0** ([PR 19953](https://github.com/bitcoin/bitcoin/pull/19953)), without mainnet activation.\n+* [`BIP 350`](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki): Addresses for native v1+ segregated Witness outputs use Bech32m instead of Bech32 as of **v22.0** ([PR 20861](https://github.com/bitcoin/bitcoin/pull/20861)).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431168",
      "id" : 571431168,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQzMTE2OA==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 53,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : 10,
      "pull_request_review_id" : 584881347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431311"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431311"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Couldn't this be signet as well?",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-06T12:45:30Z",
      "diff_hunk" : "@@ -486,7 +486,25 @@\n         }\n     ],\n     [\n-        \"bc1pw508d6qejxtdg4y5r3zarvary0c5xw7kw508d6qejxtdg4y5r3zarvary0c5xw7k7grplx\",\n+        \"tb1qqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesrxh6hy\",\n+        \"0020000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n+        {\n+            \"isPrivkey\": false,\n+            \"chain\": \"test\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431311",
      "id" : 571431311,
      "line" : 493,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQzMTMxMQ==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 493,
      "original_position" : 9,
      "original_start_line" : 489,
      "path" : "src/test/data/key_io_valid.json",
      "position" : 9,
      "pull_request_review_id" : 584881347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : 489,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431407"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ditto signet comment",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-06T12:46:07Z",
      "diff_hunk" : "@@ -513,20 +531,20 @@\n         }\n     ],\n     [\n-        \"tb1qqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesrxh6hy\",\n-        \"0020000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n+        \"tb1pqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesf3hn0c\",\n+        \"5120000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n         {\n             \"isPrivkey\": false,\n             \"chain\": \"test\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r571431407",
      "id" : 571431407,
      "line" : 547,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTQzMTQwNw==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 547,
      "original_position" : 55,
      "original_start_line" : 534,
      "path" : "src/test/data/key_io_valid.json",
      "position" : 64,
      "pull_request_review_id" : 584881347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : 543,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/571431407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r574754752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574754752"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IMO, no. There is no reason why it should be exported from this module.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-11T19:05:02Z",
      "diff_hunk" : "@@ -27,6 +30,12 @@ const int8_t CHARSET_REV[128] = {\n      1,  0,  3, 16, 11, 28, 12, 14,  6,  4,  2, -1, -1, -1, -1, -1\n };\n \n+/* Determine the final constant to use for the specified encoding. */\n+uint32_t EncodingConstant(Encoding encoding) {\n+    assert(encoding == Encoding::BECH32 || encoding == Encoding::BECH32M);\n+    return encoding == Encoding::BECH32 ? 1 : 0x2bc830a3;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r574754752",
      "id" : 574754752,
      "in_reply_to_id" : 571153401,
      "line" : 36,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDc1NDc1Mg==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 36,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 23,
      "pull_request_review_id" : 588892359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574754752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r574755263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574755263"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I have no opinion on that, but even if we do that, that's not part of this PR.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-11T19:05:50Z",
      "diff_hunk" : "@@ -46,3 +46,4 @@ BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n * [`BIP 325`](https://github.com/bitcoin/bips/blob/master/bip-0325.mediawiki): Signet test network is supported as of **v0.21.0** ([PR 18267](https://github.com/bitcoin/bitcoin/pull/18267)).\n * [`BIP 339`](https://github.com/bitcoin/bips/blob/master/bip-0339.mediawiki): Relay of transactions by wtxid is supported as of **v0.21.0** ([PR 18044](https://github.com/bitcoin/bitcoin/pull/18044)).\n * [`BIP 340`](https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki) [`341`](https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki) [`342`](https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki): Validation rules for Taproot (including Schnorr signatures and Tapscript leaves) are implemented as of **v0.21.0** ([PR 19953](https://github.com/bitcoin/bitcoin/pull/19953)), without mainnet activation.\n+* [`BIP 350`](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki): Addresses for native v1+ segregated Witness outputs use Bech32m instead of Bech32 as of **v22.0** ([PR 20861](https://github.com/bitcoin/bitcoin/pull/20861)).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r574755263",
      "id" : 574755263,
      "in_reply_to_id" : 571431168,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDc1NTI2Mw==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 53,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : 10,
      "pull_request_review_id" : 588892970,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/574755263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r577715636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577715636"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also note that if 0.21.1 contains Taproot activation logic, it won't contain any wallet support. Being able to send _to_ a Taproot address is probably worth back-porting, but that could also wait for 0.21.2.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-17T15:39:18Z",
      "diff_hunk" : "@@ -46,3 +46,4 @@ BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n * [`BIP 325`](https://github.com/bitcoin/bips/blob/master/bip-0325.mediawiki): Signet test network is supported as of **v0.21.0** ([PR 18267](https://github.com/bitcoin/bitcoin/pull/18267)).\n * [`BIP 339`](https://github.com/bitcoin/bips/blob/master/bip-0339.mediawiki): Relay of transactions by wtxid is supported as of **v0.21.0** ([PR 18044](https://github.com/bitcoin/bitcoin/pull/18044)).\n * [`BIP 340`](https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki) [`341`](https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki) [`342`](https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki): Validation rules for Taproot (including Schnorr signatures and Tapscript leaves) are implemented as of **v0.21.0** ([PR 19953](https://github.com/bitcoin/bitcoin/pull/19953)), without mainnet activation.\n+* [`BIP 350`](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki): Addresses for native v1+ segregated Witness outputs use Bech32m instead of Bech32 as of **v22.0** ([PR 20861](https://github.com/bitcoin/bitcoin/pull/20861)).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r577715636",
      "id" : 577715636,
      "in_reply_to_id" : 571431168,
      "line" : 53,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzcxNTYzNg==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 53,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : 10,
      "pull_request_review_id" : 592330806,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/577715636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000069"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a signet copy of this.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-17T22:49:21Z",
      "diff_hunk" : "@@ -486,7 +486,25 @@\n         }\n     ],\n     [\n-        \"bc1pw508d6qejxtdg4y5r3zarvary0c5xw7kw508d6qejxtdg4y5r3zarvary0c5xw7k7grplx\",\n+        \"tb1qqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesrxh6hy\",\n+        \"0020000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n+        {\n+            \"isPrivkey\": false,\n+            \"chain\": \"test\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000069",
      "id" : 578000069,
      "in_reply_to_id" : 571431311,
      "line" : 493,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODAwMDA2OQ==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 493,
      "original_position" : 9,
      "original_start_line" : 489,
      "path" : "src/test/data/key_io_valid.json",
      "position" : 9,
      "pull_request_review_id" : 592696501,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : 489,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-17T22:49:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000126"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000126"
         }
      },
      "author_association" : "MEMBER",
      "body" : "And this.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-17T22:49:29Z",
      "diff_hunk" : "@@ -513,20 +531,20 @@\n         }\n     ],\n     [\n-        \"tb1qqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesrxh6hy\",\n-        \"0020000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n+        \"tb1pqqqqp399et2xygdj5xreqhjjvcmzhxw4aywxecjdzew6hylgvsesf3hn0c\",\n+        \"5120000000c4a5cad46221b2a187905e5266362b99d5e91c6ce24d165dab93e86433\",\n         {\n             \"isPrivkey\": false,\n             \"chain\": \"test\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000126",
      "id" : 578000126,
      "in_reply_to_id" : 571431407,
      "line" : 547,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODAwMDEyNg==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 547,
      "original_position" : 55,
      "original_start_line" : 534,
      "path" : "src/test/data/key_io_valid.json",
      "position" : 64,
      "pull_request_review_id" : 592696571,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : 543,
      "start_side" : "RIGHT",
      "updated_at" : "2021-02-17T22:49:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000224"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-17T22:49:42Z",
      "diff_hunk" : "@@ -111,21 +120,24 @@ data ExpandHRP(const std::string& hrp)\n }\n \n /** Verify a checksum. */\n-bool VerifyChecksum(const std::string& hrp, const data& values)\n+Encoding VerifyChecksum(const std::string& hrp, const data& values)\n {\n     // PolyMod computes what value to xor into the final values to make the checksum 0. However,\n     // if we required that the checksum was 0, it would be the case that appending a 0 to a valid\n     // list of values would result in a new valid list. For that reason, Bech32 requires the\n-    // resulting checksum to be 1 instead.\n-    return PolyMod(Cat(ExpandHRP(hrp), values)) == 1;\n+    // resulting checksum to be 1 instead. In Bech32m, this constant was amended.\n+    uint32_t check = PolyMod(Cat(ExpandHRP(hrp), values));\n+    if (check == EncodingConstant(Encoding::BECH32)) return Encoding::BECH32;\n+    if (check == EncodingConstant(Encoding::BECH32M)) return Encoding::BECH32M;\n+    return Encoding::INVALID;\n }\n \n /** Create a checksum. */\n-data CreateChecksum(const std::string& hrp, const data& values)\n+data CreateChecksum(const std::string& hrp, const data& values, Encoding encoding)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#discussion_r578000224",
      "id" : 578000224,
      "in_reply_to_id" : 571154527,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODAwMDIyNA==",
      "original_commit_id" : "50769c8085110bd013d469840c2b04e069ab2fa5",
      "original_line" : 136,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : null,
      "pull_request_review_id" : 592696700,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20861",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-17T22:49:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/578000224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and addressed review comments.",
      "created_at" : "2021-02-17T22:49:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-780906248",
      "id" : 780906248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MDkwNjI0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-17T22:49:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780906248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK f15513d4184e637eda76eb23e0d6d47d7fb25075",
      "created_at" : "2021-02-18T01:31:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-780972516",
      "id" : 780972516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MDk3MjUxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-18T01:31:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/780972516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK f15513d4184e637eda76eb23e0d6d47d7fb25075\r\n\r\nI'm confused how `key_io_valid.json` and `key_io_invalid.json` are used. It doesn't seem to be referenced in any of the (functional) tests or CI scripts. If I use the suggested incantation in `gen_key_io_test_vectors.py` it fails at line 131 with `bech32_encode() missing 1 required positional argument: 'spec'`.\r\n\r\n",
      "created_at" : "2021-02-18T14:55:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-781399950",
      "id" : 781399950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MTM5OTk1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-18T14:55:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/781399950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Sjors The key_io_{in,}valid.json tests are executed in src/test/key_io_tests.cpp. I had no idea there was a script to automatically generate them, though. I've updated that now too and regenerated them using it.\r\n",
      "created_at" : "2021-02-19T22:39:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20861#issuecomment-782423094",
      "id" : 782423094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20861",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MjQyMzA5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-19T22:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782423094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
