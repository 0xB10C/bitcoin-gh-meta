[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20874 (test: Run mempool_limit.py even with wallet disabled by stackman27)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-01-07T19:52:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20876#issuecomment-756345460",
      "id" : 756345460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjM0NTQ2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T19:52:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756345460",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20876#discussion_r553825037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20876"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/553825037"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I just have a conceptual question here. Why would we wanna send tx when we know it's going to fail? for instance I ran this code to check for failure and success and got\r\n![markoPR2](https://user-images.githubusercontent.com/26356227/103995201-feda0f00-514c-11eb-87e5-180380da79d3.PNG). Is it to retrieve the error reason? If so, since `reject-reason` is a part of the `tx_info` object can't we just return the `reject-reason` rather than raising an exception?  \r\n",
      "commit_id" : "faabc26a61873b2cd0390a21df571fe53c893c11",
      "created_at" : "2021-01-08T09:11:29Z",
      "diff_hunk" : "@@ -71,9 +71,9 @@ def send_self_transfer(self, *, fee_rate=Decimal(\"0.003\"), from_node, utxo_to_sp\n         tx.wit.vtxinwit[0].scriptWitness.stack = [CScript([OP_TRUE])]\n         tx_hex = tx.serialize().hex()\n \n-        txid = from_node.sendrawtransaction(tx_hex)\n-        self._utxos.append({'txid': txid, 'vout': 0, 'value': send_value})\n-        tx_info = from_node.getmempoolentry(txid)\n+        tx_info = from_node.testmempoolaccept([tx_hex])[0]\n+        self._utxos.append({'txid': tx_info['txid'], 'vout': 0, 'value': send_value})\n+        from_node.sendrawtransaction(tx_hex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20876#discussion_r553825037",
      "id" : 553825037,
      "line" : 76,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzgyNTAzNw==",
      "original_commit_id" : "faabc26a61873b2cd0390a21df571fe53c893c11",
      "original_line" : 76,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/wallet.py",
      "position" : 9,
      "pull_request_review_id" : 564104713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20876",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-08T09:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/553825037",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/26356227?v=4",
         "events_url" : "https://api.github.com/users/stackman27/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stackman27/followers",
         "following_url" : "https://api.github.com/users/stackman27/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stackman27/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stackman27",
         "id" : 26356227,
         "login" : "stackman27",
         "node_id" : "MDQ6VXNlcjI2MzU2MjI3",
         "organizations_url" : "https://api.github.com/users/stackman27/orgs",
         "received_events_url" : "https://api.github.com/users/stackman27/received_events",
         "repos_url" : "https://api.github.com/users/stackman27/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stackman27/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stackman27/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stackman27"
      }
   }
]
