[
   {
      "body" : "I'd love to see this functionality in the mainstream client.\r\nDoes anybody know the history of the uint256 structure? I've never heard of that type of hash. I know it's used in signmessage and verifymessage but options for other hash types (possibly enumerated with another argument to sign/verify) might help more people trust the signatures.",
      "created_at" : "2012-10-25T05:11:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9766292",
      "id" : 9766292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T05:11:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9766292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2646555?v=3",
         "events_url" : "https://api.github.com/users/NaruFGT/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NaruFGT/followers",
         "following_url" : "https://api.github.com/users/NaruFGT/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NaruFGT/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NaruFGT",
         "id" : 2646555,
         "login" : "NaruFGT",
         "organizations_url" : "https://api.github.com/users/NaruFGT/orgs",
         "received_events_url" : "https://api.github.com/users/NaruFGT/received_events",
         "repos_url" : "https://api.github.com/users/NaruFGT/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NaruFGT/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NaruFGT/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NaruFGT"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1937579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1937579"
         }
      },
      "body" : "What happens, if someone tries to feed a >2GB file to this :)?",
      "commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "created_at" : "2012-10-25T06:33:34Z",
      "diff_hunk" : "@@ -1097,8 +1101,29 @@ Object CallRPC(const string& strMethod, const Array& params)\n     return reply;\n }\n \n-\n-\n+void HashFile(Value& value)\n+{\n+    // Read the file into RAM\n+    ifstream file(value.get_str().c_str(), ios::in | ios::binary | ios::ate);\n+    if (!file.is_open())\n+        throw runtime_error(string(\"Can't read input file \") + value.get_str());\n+    int size = file.tellg();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1937579",
      "id" : 1937579,
      "original_commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "original_position" : 30,
      "path" : "src/bitcoinrpc.cpp",
      "position" : 30,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957",
      "updated_at" : "2012-10-25T06:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1937579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1937592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1937592"
         }
      },
      "body" : "This seems like a fix unrelated to this pull, which is also part of another currently open pull.",
      "commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "created_at" : "2012-10-25T06:35:26Z",
      "diff_hunk" : "@@ -78,9 +78,12 @@ void Shutdown(void* parg)\n         StopNode();\n         {\n             LOCK(cs_main);\n-            pcoinsTip->Flush();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1937592",
      "id" : 1937592,
      "original_commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957",
      "updated_at" : "2012-10-25T06:35:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1937592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I'm not against this functionality per-ce, but I don't like to have it in the core. We already suffer from some feature bloat.\r\n\r\nI suggest implementing it as an external tool that hashes your file, then signs the resulting hash using the existing `signmessage` call. This keeps everything nice and contained.\r\n",
      "created_at" : "2012-10-25T06:39:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9767563",
      "id" : 9767563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T06:39:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9767563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "It's a core feature and would benefit many transactions, with a fix on file size limitation (loading the entire file into ram isn't good for performance and scalability) this feature really deserves a position in the main branch.\r\nAn external tool will lead to lack of addoption and frankly, this feature is far more critical in corperate and business enviroments than a message signature.\r\nFeature bloat is a problem but this isn't alot to maintain.",
      "created_at" : "2012-10-25T06:55:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9767817",
      "id" : 9767817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T06:55:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9767817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2646555?v=3",
         "events_url" : "https://api.github.com/users/NaruFGT/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NaruFGT/followers",
         "following_url" : "https://api.github.com/users/NaruFGT/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NaruFGT/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NaruFGT",
         "id" : 2646555,
         "login" : "NaruFGT",
         "organizations_url" : "https://api.github.com/users/NaruFGT/orgs",
         "received_events_url" : "https://api.github.com/users/NaruFGT/received_events",
         "repos_url" : "https://api.github.com/users/NaruFGT/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NaruFGT/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NaruFGT/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NaruFGT"
      }
   },
   {
      "body" : "It's easy to hash a file in a streaming fashion, you certainly don't need to read it into ram.\r\n\r\nAlso you don't need new RPC server calls for this. You can use the existing signmessage/verifymessage RPCs with the hash of the file (and maybe some added salt) as message. You could even generalize it to multiple files by signing a \"manifest\" (similar to how JAR files are signed). As an added bonus, you can choose any hash function you want to hash the files. This can all be implemented as client-only feature.\r\n\r\nWe have the mantra that everything that can be done outside the core, should be done outside the core. The discussion isn't about whether this feature deserves including or not!\r\n\r\n*an external tool will lead to lack of adoption* that depends on how you market it. If you think it will fly in \"corporate and business environments\" then my advice is to try to sell it for big $$$ :money_with_wings:\r\n\r\n\r\n",
      "created_at" : "2012-10-25T07:19:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9768187",
      "id" : 9768187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T07:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9768187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "\"Also you don't need new RPC server calls for this.\"\r\nWe actually do, I personally won't trust a hash of a hash. Overloading the signmessage/verifymessage to have an option would be fine, but the feature has to implement the signature hash as a direct hash of the file.\r\n\r\nThe signmessage/verifymessage can be done outside of the core as well. This feature needs to be included into the core because there needs to be a uniform RPC call defined that other bitcoin clients will adopt.\r\n\r\nI don't really know why an additional RPC call is met by a fear of the code maintanance overhead. This is pretty much just a wrapper function for signmessage. It's soo easy to maintain that I can't imagine the justification for NOT including it o.o If it was a security risk, or posed more maintainance, bloat, or other such problems I would understand, but on pius principle just isn't a valid reason to soo swiftly discount the inclusion.\r\n\r\nThis isn't controversial, why is it being made so?",
      "created_at" : "2012-10-25T08:36:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9769860",
      "id" : 9769860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T08:36:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9769860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2646555?v=3",
         "events_url" : "https://api.github.com/users/NaruFGT/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NaruFGT/followers",
         "following_url" : "https://api.github.com/users/NaruFGT/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NaruFGT/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NaruFGT",
         "id" : 2646555,
         "login" : "NaruFGT",
         "organizations_url" : "https://api.github.com/users/NaruFGT/orgs",
         "received_events_url" : "https://api.github.com/users/NaruFGT/received_events",
         "repos_url" : "https://api.github.com/users/NaruFGT/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NaruFGT/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NaruFGT/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NaruFGT"
      }
   },
   {
      "body" : "There is no security difference between using a hash, or using a hash of a hash (there's at most a 0.66 bit decrease in entropy, which makes brute-forcing a collision about 1.26 times faster on average). Given the fact that we're already using double-SHA256 for POW and blockids and txids, you should start worrying about Bitcoin's crypto in general then too.\r\n\r\n\r\n",
      "created_at" : "2012-10-25T08:43:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770048",
      "id" : 9770048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T08:43:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "sipa do you have details about the signmessage/verifymessage uint256 structure and the hash function?\r\n\r\nReally the point is that it's a messy implementation, and adds calculation overhead. It can and should be avoided, unless there's a reason we should use hash of a hash.",
      "created_at" : "2012-10-25T08:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770138",
      "id" : 9770138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T08:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2646555?v=3",
         "events_url" : "https://api.github.com/users/NaruFGT/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NaruFGT/followers",
         "following_url" : "https://api.github.com/users/NaruFGT/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NaruFGT/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NaruFGT",
         "id" : 2646555,
         "login" : "NaruFGT",
         "organizations_url" : "https://api.github.com/users/NaruFGT/orgs",
         "received_events_url" : "https://api.github.com/users/NaruFGT/received_events",
         "repos_url" : "https://api.github.com/users/NaruFGT/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NaruFGT/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NaruFGT/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NaruFGT"
      }
   },
   {
      "body" : "The hash function is double-SHA256(\"Bitcoin signed message: \" + message). The result of this is stored in a uint256 data type (and unsigned 256-bit integer). It is signed using ECDSA, encoded in a 65-byte structure that allows recovery of the public key. This 65-byte structure is then encoded in base64.",
      "created_at" : "2012-10-25T08:52:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770244",
      "id" : 9770244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T08:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "On 25 October 2012 18:36, NaruFGT <notifications@github.com> wrote:\r\n\r\n> \"Also you don't need new RPC server calls for this.\"\r\n> We actually do, I personally won't trust a hash of a hash. Overloading the\r\n> signmessage/verifymessage to have an option would be fine, but the feature\r\n> has to implement the signature hash as a direct hash of the file.\r\n>\r\n> The signmessage/verifymessage can be done outside of the core as well.\r\n> This feature needs to be included into the core because there needs to be a\r\n> uniform RPC call defined that other bitcoin clients will adopt.\r\n>\r\n> I don't really know why an additional RPC call is met by a fear of the\r\n> code maintanance overhead. This is pretty much just a wrapper function for\r\n> signmessage. It's soo easy to maintain that I can't imagine the\r\n> justification for NOT including it o.o If it was a security risk, or posed\r\n> more maintainance, bloat, or other such problems I would understand, but on\r\n> pius principle just isn't a valid reason to soo swiftly discount the\r\n> inclusion.\r\n>\r\n> This isn't controversial, why is it being made so?\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub<https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9769860>.\r\n>\r\n>\r\n\r\nWhen I saw all these message signing functions in the bitcoin client, the\r\nfirst thing I thought is \"What is this doing in here?\" If one wants to sign\r\nand authenticate message, well, there is PGP for just that.\r\n\r\nThe fact that there is anything of this kind in there seems like kruft.\r\nIMHO, it should be reduced or removed, not increased and expanded.\r\nIf anything could be added, it is a simple \"signhash\" RPC. Then all this\r\nmessage and digest signing can be removed from core.\r\n\r\nOr am I treading all over somone's barely healed toes?",
      "created_at" : "2012-10-25T09:00:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770468",
      "id" : 9770468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T09:00:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1581858?v=3",
         "events_url" : "https://api.github.com/users/robbak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/robbak/followers",
         "following_url" : "https://api.github.com/users/robbak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/robbak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/robbak",
         "id" : 1581858,
         "login" : "robbak",
         "organizations_url" : "https://api.github.com/users/robbak/orgs",
         "received_events_url" : "https://api.github.com/users/robbak/received_events",
         "repos_url" : "https://api.github.com/users/robbak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/robbak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/robbak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/robbak"
      }
   },
   {
      "body" : "In addition to that, the whole Merkle tree concept used throughout bitcoin is based on hashes of hashes (of hashes...). Also many code signing approaches rely on hashes of (groups of) hashes, such as the JAR signing I mentioned. Not trusting hashes of hashes is quite irrational. That's ok, we're all paranoid in our own way, but I do recommend learning somewhat more about how Bitcoin works before making judgements on relative security merits of different approaches.\r\n",
      "created_at" : "2012-10-25T09:02:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770535",
      "id" : 9770535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T09:02:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@robbak The reason for this method was having the ability to sign messages with keys corresponding to Bitcoin addresses, so one can prove ownership of coins, or prove being the sender of a transaction.\r\n\r\nI do agree it doesn't need to do more than what it can already - it just has to core functionality, other use cases can be implemented on top of it.",
      "created_at" : "2012-10-25T09:03:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770566",
      "id" : 9770566,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T09:03:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1938572"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1938572"
         }
      },
      "body" : "That was an oversight, I'll make this read chunks and hash as it goes.",
      "commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "created_at" : "2012-10-25T09:10:00Z",
      "diff_hunk" : "@@ -1097,8 +1101,29 @@ Object CallRPC(const string& strMethod, const Array& params)\n     return reply;\n }\n \n-\n-\n+void HashFile(Value& value)\n+{\n+    // Read the file into RAM\n+    ifstream file(value.get_str().c_str(), ios::in | ios::binary | ios::ate);\n+    if (!file.is_open())\n+        throw runtime_error(string(\"Can't read input file \") + value.get_str());\n+    int size = file.tellg();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1938572",
      "id" : 1938572,
      "original_commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "original_position" : 30,
      "path" : "src/bitcoinrpc.cpp",
      "position" : 30,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957",
      "updated_at" : "2012-10-25T09:10:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1938572",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/193603?v=3",
         "events_url" : "https://api.github.com/users/dparrish/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dparrish/followers",
         "following_url" : "https://api.github.com/users/dparrish/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dparrish/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dparrish",
         "id" : 193603,
         "login" : "dparrish",
         "organizations_url" : "https://api.github.com/users/dparrish/orgs",
         "received_events_url" : "https://api.github.com/users/dparrish/received_events",
         "repos_url" : "https://api.github.com/users/dparrish/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dparrish/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dparrish/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dparrish"
      }
   },
   {
      "body" : "This is why I asked if this was the best way! Discussion is good.\r\n\r\nI'd still really like to see a \"standardized\" way of signing files with my bitcoin key, but I agree the API doesn't really need to be any bigger than it is. How about keeping \"signfile\" and \"verifyfile\" as client-side calls that generate a hash of the file that's sent to the server for re-hashing and signing. I think *something* like this belongs in this client, as it's basically the reference implementation of bitcoin, there's not much point signing files in a different way in each different client.",
      "created_at" : "2012-10-25T09:13:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770839",
      "id" : 9770839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T09:13:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/193603?v=3",
         "events_url" : "https://api.github.com/users/dparrish/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dparrish/followers",
         "following_url" : "https://api.github.com/users/dparrish/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dparrish/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dparrish",
         "id" : 193603,
         "login" : "dparrish",
         "organizations_url" : "https://api.github.com/users/dparrish/orgs",
         "received_events_url" : "https://api.github.com/users/dparrish/received_events",
         "repos_url" : "https://api.github.com/users/dparrish/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dparrish/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dparrish/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dparrish"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1938612"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1938612"
         }
      },
      "body" : "Yes, that shouldn't be there. Whoops.",
      "commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "created_at" : "2012-10-25T09:14:39Z",
      "diff_hunk" : "@@ -78,9 +78,12 @@ void Shutdown(void* parg)\n         StopNode();\n         {\n             LOCK(cs_main);\n-            pcoinsTip->Flush();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#discussion_r1938612",
      "id" : 1938612,
      "original_commit_id" : "a7b0f3829e30d43632e2bf342631d011c6ddb270",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1957",
      "updated_at" : "2012-10-25T09:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1938612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/193603?v=3",
         "events_url" : "https://api.github.com/users/dparrish/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dparrish/followers",
         "following_url" : "https://api.github.com/users/dparrish/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dparrish/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dparrish",
         "id" : 193603,
         "login" : "dparrish",
         "organizations_url" : "https://api.github.com/users/dparrish/orgs",
         "received_events_url" : "https://api.github.com/users/dparrish/received_events",
         "repos_url" : "https://api.github.com/users/dparrish/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dparrish/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dparrish/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dparrish"
      }
   },
   {
      "body" : "\"It is signed using ECDSA, encoded in a 65-byte structure that allows recovery of the public key. This 65-byte structure is then encoded in base64.\"\r\nIn this case can a file signature be done in openssl simply using the address private key? That would be standard easy to adopt.",
      "created_at" : "2012-10-25T09:15:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9770890",
      "id" : 9770890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-25T09:15:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9770890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2646555?v=3",
         "events_url" : "https://api.github.com/users/NaruFGT/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NaruFGT/followers",
         "following_url" : "https://api.github.com/users/NaruFGT/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NaruFGT/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NaruFGT",
         "id" : 2646555,
         "login" : "NaruFGT",
         "organizations_url" : "https://api.github.com/users/NaruFGT/orgs",
         "received_events_url" : "https://api.github.com/users/NaruFGT/received_events",
         "repos_url" : "https://api.github.com/users/NaruFGT/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NaruFGT/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NaruFGT/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NaruFGT"
      }
   },
   {
      "body" : "@NaruFGT sorry, there are no standard encodings that have all necessary data for public key recovery from a signature, so we had to invent our own.",
      "created_at" : "2012-10-28T19:24:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9849312",
      "id" : 9849312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-28T19:24:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9849312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "NACK.\r\n\r\nI agred that this is feature-creep.\r\n\r\nI think this would be much better implemented as a little python or shell script shipped in the contrib/ directory that computed a hash for the file and then called signmessage.\r\n",
      "created_at" : "2012-10-29T19:58:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9883090",
      "id" : 9883090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-29T19:58:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9883090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/a7b0f3829e30d43632e2bf342631d011c6ddb270 for test log.\n\nThis pull does not merge cleanly onto current master",
      "created_at" : "2012-10-30T12:23:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-9903634",
      "id" : 9903634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-10-30T12:23:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9903634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "One explicit NAK, and two \"OK but not in core\" seeming NAKs.  Closing.\r\n\r\nPerhaps consider an external utility that does this; look a \"test_bitcoin\" for an example of a non-bitcoind binary that uses core bitcoin data structures.",
      "created_at" : "2012-11-16T02:30:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1957#issuecomment-10434566",
      "id" : 10434566,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1957",
      "updated_at" : "2012-11-16T02:30:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10434566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
