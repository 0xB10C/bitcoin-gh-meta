[
   {
      "body" : "The intended behavior is (we've discussed this before):\n\n- command line options temporarily override QSettings for that run (ie,\ncommand line takes precedence for effective settings, but do *not*\npermanently set the qsetting)\n- options GUI shows currently effective settings, no matter where it came\nfrom\n- when you change an option in the options gui and save, both the effective\nsetting and the qsetting change\n\n(in the above, command line can be read as bitcoin.conf; you can regard\nbitcoin.conf as a command line that will be passed for every invocation)\n\nI hope this clearly defines the intended behavior.",
      "created_at" : "2012-10-03T12:03:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1903#issuecomment-9103832",
      "id" : 9103832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1903",
      "updated_at" : "2012-10-03T12:03:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9103832",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I know we had talked about that ;), but I had some problems left, let me explain.\r\n\r\nWhat if I pass a proxy via -proxy, which is then displayed in favor of a possibly stored proxy value from QSettings and press ``OK`` (save), it will certainly overwrite the stored QSettings, is this behaviour okay for you? I was a little unsure, but now think that is fine ... at least it would be a massive headache to get a check in for this, as OK is always active.\r\n\r\nThe next heavy thing is when using -tor with -proxy, where the former overwrites the second. I then need to implement the same checks used in the core for Qt, which results in duplicated and nearly identical code. But I'm only starting to think about that part, so no hurry.\r\n\r\nAre you fine with updating all missing options to your proposed default behaviour? As I said at least the language setting is missing there.",
      "created_at" : "2012-10-03T17:22:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1903#issuecomment-9114516",
      "id" : 9114516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1903",
      "updated_at" : "2012-10-03T17:22:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9114516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I think the ideal solution would be to implement a \"dirty\" bit per setting so that only settings that are actually touched are written when \"OK\" is clicked. But in the meantime, the current behavior (clicking OK saves the currently viewed values to QSettings) is fine...\r\n\r\n**The next heavy thing is when using -tor with -proxy, where the former overwrites the second. I then need to implement the same checks used in the core for Qt, which results in duplicated and nearly identical code. **\r\n\r\nPlease don't duplicate any checks. That's extremely error-prone, especially in an area such as argument handling that changes all the time.\r\n\r\nI  don't understand why you'd need to. We only need the *currently effective* settings and can always query those from the core. No need to repeat any work.\r\n\r\nIf you don't find a way to do this without introducing ugly/duplicated code, better to not do it at all. There's enough other issues that need to be solved on our bug tracker...\r\n",
      "created_at" : "2012-10-03T18:32:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1903#issuecomment-9117000",
      "id" : 9117000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1903",
      "updated_at" : "2012-10-03T18:32:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9117000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
