[
   {
      "author_association" : "NONE",
      "body" : "~Travis tests should be re-run following the merge of #14300.~ Rebased this PR on #14300, so dependency isn't an issue.",
      "created_at" : "2018-09-24T03:15:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423869528",
      "id" : 423869528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg2OTUyOA==",
      "updated_at" : "2018-09-24T03:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423869528",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/577312?v=4",
         "events_url" : "https://api.github.com/users/JustinTArthur/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JustinTArthur/followers",
         "following_url" : "https://api.github.com/users/JustinTArthur/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JustinTArthur/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JustinTArthur",
         "id" : 577312,
         "login" : "JustinTArthur",
         "node_id" : "MDQ6VXNlcjU3NzMxMg==",
         "organizations_url" : "https://api.github.com/users/JustinTArthur/orgs",
         "received_events_url" : "https://api.github.com/users/JustinTArthur/received_events",
         "repos_url" : "https://api.github.com/users/JustinTArthur/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JustinTArthur/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JustinTArthur/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JustinTArthur"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #14318 (Relay ancestors of transactions by sdaftuar)\n* #14312 (tests: Remove unused testing code by practicalswift)\n* #14240 ([qa] Test inter-bucket privacy leakage by MarcoFalke)\n* #14220 (Transaction relay privacy bugfix by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-09-24T04:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423873642",
      "id" : 423873642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg3MzY0Mg==",
      "updated_at" : "2018-09-25T12:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423873642",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What an excellent first-time contribution! Thanks!\r\n\r\nThis is my favourite type of contribution: it not only fixes current code but also fixes **future** code by introducing a mechanism that helps us avoid introducing new instances of the same class of issue. Exactly the type of contribution that I was referring to in https://github.com/bitcoin/bitcoin/pull/14217#issuecomment-423812131:\r\n\r\n> Personally I'm much more excited to see a PR submitted which strengthens the long term security of the project in some form compared to when I see a PR submitted which implements some shiny new feature :-)\r\n\r\nIn addition to the above: `__slots__` is also an unambiguous improvement from a memory usage perspective.\r\n\r\nutACK 965c8ff9c7539719eb36bd46297358e33b571766",
      "created_at" : "2018-09-24T05:49:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423881690",
      "id" : 423881690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzg4MTY5MA==",
      "updated_at" : "2018-09-24T07:27:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423881690",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nThere's some suggestion in this thread: https://stackoverflow.com/questions/472000/usage-of-slots that using `__slots__` to constrain attribute creation is discouraged. However, I've searched for a few minutes and haven't been able to find a 'better' way to do it.",
      "created_at" : "2018-09-24T12:23:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423956439",
      "id" : 423956439,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzk1NjQzOQ==",
      "updated_at" : "2018-09-24T12:23:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423956439",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822066"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822066"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to demonstrate that this fails due to the correct reason: \"non-mandatory-script-verify-flag (Witness program was passed an empty witness)\"\r\n\r\nYou can achieve this with the `assert_debug_log` helper.",
      "commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "created_at" : "2018-09-24T12:47:19Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822066",
      "id" : 219822066,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgyMjA2Ng==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 11,
      "path" : "test/functional/p2p_segwit.py",
      "position" : 11,
      "pull_request_review_id" : 158085790,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-24T12:47:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822066",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822513"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same here: The reject reason is just the same as above, whereas it now should be \"mandatory-script-verify-flag-failed (Script evaluated without error but finished with a false/empty top stack element)\"",
      "commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "created_at" : "2018-09-24T12:49:00Z",
      "diff_hunk" : "@@ -771,8 +771,8 @@ def test_p2sh_witness(self):\n         # segwit-aware would also reject this for failing CLEANSTACK.\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)\n \n-        # Try to put the witness script in the script_sig, should also fail.\n-        spend_tx.vin[0].script_sig = CScript([p2wsh_pubkey, b'a'])\n+        # Try to put the witness script in the scriptSig, should also fail.\n+        spend_tx.vin[0].scriptSig = CScript([p2wsh_pubkey, b'a'])\n         spend_tx.rehash()\n         test_transaction_acceptance(self.nodes[0], self.test_node, spend_tx, with_witness=False, accepted=False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#discussion_r219822513",
      "id" : 219822513,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgyMjUxMw==",
      "original_commit_id" : "965c8ff9c7539719eb36bd46297358e33b571766",
      "original_position" : 18,
      "path" : "test/functional/p2p_segwit.py",
      "position" : 18,
      "pull_request_review_id" : 158086404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14305",
      "updated_at" : "2018-09-24T12:49:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219822513",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I guess this could also be implemented with a \"frozen\" decorator, which freezes the attributes after `__init__`.\r\n\r\nIt worries me that the tests just pass with or without this fix, which doesn't add much value to the fix. Would you mind changing the tests itself, such that they would fail without, but pass with the change. (See inline comments)",
      "created_at" : "2018-09-24T12:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14305#issuecomment-423964067",
      "id" : 423964067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14305",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzk2NDA2Nw==",
      "updated_at" : "2018-09-24T12:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423964067",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
