[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219877773"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219877773"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could keep the name `strHex` and `result` to minimize the diff?",
      "commit_id" : "dc95535d3977375d9b4b52cfb61150dd0c66bf31",
      "created_at" : "2018-09-24T15:20:24Z",
      "diff_hunk" : "@@ -193,14 +193,13 @@ bool DecodePSBT(PartiallySignedTransaction& psbt, const std::string& base64_tx,\n     return true;\n }\n \n-uint256 ParseHashStr(const std::string& strHex, const std::string& strName)\n+bool ParseHashStr(const std::string& strReq, uint256& v)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219877773",
      "id" : 219877773,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTg3Nzc3Mw==",
      "original_commit_id" : "c76c7ad47345bd7746e128d60365f9f66526aad5",
      "original_position" : 5,
      "path" : "src/core_read.cpp",
      "position" : 5,
      "pull_request_review_id" : 158156887,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307",
      "updated_at" : "2018-09-24T15:44:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219877773",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219886008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219886008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Redundant parentheses around `strReq.size() != 64` :-)",
      "commit_id" : "dc95535d3977375d9b4b52cfb61150dd0c66bf31",
      "created_at" : "2018-09-24T15:41:46Z",
      "diff_hunk" : "@@ -193,14 +193,13 @@ bool DecodePSBT(PartiallySignedTransaction& psbt, const std::string& base64_tx,\n     return true;\n }\n \n-uint256 ParseHashStr(const std::string& strHex, const std::string& strName)\n+bool ParseHashStr(const std::string& strReq, uint256& v)\n {\n-    if (!IsHex(strHex)) // Note: IsHex(\"\") is false\n-        throw std::runtime_error(strName + \" must be hexadecimal string (not '\" + strHex + \"')\");\n+    if (!IsHex(strReq) || (strReq.size() != 64))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219886008",
      "id" : 219886008,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTg4NjAwOA==",
      "original_commit_id" : "c76c7ad47345bd7746e128d60365f9f66526aad5",
      "original_position" : 9,
      "path" : "src/core_read.cpp",
      "position" : 9,
      "pull_request_review_id" : 158167409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307",
      "updated_at" : "2018-09-24T15:44:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219886008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219886678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219886678"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I know this is unchanged from the previous version, but could there be circumstances where this opens up for log file injection? Safer not to echo the input?",
      "commit_id" : "dc95535d3977375d9b4b52cfb61150dd0c66bf31",
      "created_at" : "2018-09-24T15:43:39Z",
      "diff_hunk" : "@@ -590,7 +590,10 @@ static void MutateTxSign(CMutableTransaction& tx, const std::string& flagStr)\n             if (!prevOut.checkObject(types))\n                 throw std::runtime_error(\"prevtxs internal object typecheck fail\");\n \n-            uint256 txid = ParseHashStr(prevOut[\"txid\"].get_str(), \"txid\");\n+            uint256 txid;\n+            if (!ParseHashStr(prevOut[\"txid\"].get_str(), txid)) {\n+                throw std::runtime_error(\"txid must be hexadecimal string (not '\" + prevOut[\"txid\"].get_str() + \"')\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219886678",
      "id" : 219886678,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTg4NjY3OA==",
      "original_commit_id" : "c76c7ad47345bd7746e128d60365f9f66526aad5",
      "original_position" : 7,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 7,
      "pull_request_review_id" : 158168277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307",
      "updated_at" : "2018-09-24T15:45:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219886678",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219887407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219887407"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I know this is unchanged from the previous version, but could there be circumstances where this opens up for log file injection? Safer not to echo the input?",
      "commit_id" : "dc95535d3977375d9b4b52cfb61150dd0c66bf31",
      "created_at" : "2018-09-24T15:45:47Z",
      "diff_hunk" : "@@ -247,7 +247,10 @@ static UniValue prioritisetransaction(const JSONRPCRequest& request)\n \n     LOCK(cs_main);\n \n-    uint256 hash = ParseHashStr(request.params[0].get_str(), \"txid\");\n+    uint256 hash;\n+    if (!ParseHashStr(request.params[0].get_str(), hash)) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"txid must be hexadecimal string (not '\" + request.params[0].get_str() + \"')\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14307#discussion_r219887407",
      "id" : 219887407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTg4NzQwNw==",
      "original_commit_id" : "dc95535d3977375d9b4b52cfb61150dd0c66bf31",
      "original_position" : 7,
      "path" : "src/rpc/mining.cpp",
      "position" : 7,
      "pull_request_review_id" : 158169228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14307",
      "updated_at" : "2018-09-24T15:45:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219887407",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
