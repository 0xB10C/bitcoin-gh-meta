[
   {
      "body" : "utACK I know this is a super old issue but I find the current docs astoundingly confusing, can we try for 15?",
      "created_at" : "2017-07-14T17:46:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315422455",
      "id" : 315422455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T17:46:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315422455",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@kallewoof I think you have experience with this call?\r\n\r\ndocumentation sounds reasonable, but I don't actually know how it's used.",
      "created_at" : "2017-07-14T17:54:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315424388",
      "id" : 315424388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T17:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315424388",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "The way the API is designed to be used is like this:\r\n\r\nLet's say I care about only rescanning of 10:\r\n\r\n```\r\nlet confsCareAbout = 10\r\nlet  hash = \"\"\r\nwhile (true) {\r\n     let res = exec(`bitcoin-cli listsinceblock ${hash} ${confsCareAbout)`)\r\n     process(res.transactions)\r\n     hash = res.lastblock;\r\n}\r\n```\r\n\r\nIt's a pretty sweet work flow for handling deposits. Just unfortunately listsinceblock is too buggy and ill-defined (I'll create some bug reports when I can).\r\n\r\n\r\nBut this PR fixes the docs, that makes it a bit clearer what it does. Most people when they read the docs think it's a filter, when it's not.\r\n\r\n\r\n ",
      "created_at" : "2017-07-14T18:00:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315426136",
      "id" : 315426136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T18:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315426136",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127515817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127515817"
         }
      },
      "body" : "Maybe add a note that transactions with fewer confirmations than this are still included in the response, only lastblock is changed by this argument.",
      "commit_id" : "52295ba2385447220f41c097e143dd1d3a8a47f6",
      "created_at" : "2017-07-14T18:05:52Z",
      "diff_hunk" : "@@ -1690,7 +1690,7 @@ UniValue listsinceblock(const JSONRPCRequest& request)\n             \"\\nGet all transactions in blocks since block [blockhash], or all transactions if omitted\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"blockhash\\\"            (string, optional) The block hash to list transactions since\\n\"\n-            \"2. target_confirmations:    (numeric, optional) The confirmations required, must be 1 or more\\n\"\n+            \"2. target_confirmations:    (numeric, optional, default=1) Return the nth block hash from the main chain. 1 would mean the bestblockhash (see lastblock in return value)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127515817",
      "id" : 127515817,
      "original_commit_id" : "4bb8fc1fc7173c9888af9141e1c97afea1c4e95e",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 50113992,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655",
      "updated_at" : "2017-07-14T23:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127515817",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "NACK as is\r\n\r\nThe documentation is very misleading.  But it needs to be made even more clear than this.\r\nPerhaps add \"Transactions with any number of confirmations in the range from blockhash to current tip (or the fork point if blockhash is not on current chain) will be returned.\" somewhere\r\n",
      "created_at" : "2017-07-14T18:10:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315428628",
      "id" : 315428628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T18:10:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315428628",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "> (or the fork point if blockhash is not on current chain)\r\n\r\nIs that what it actually does? o.0  If so thats ....bizarre and wtf.",
      "created_at" : "2017-07-14T18:17:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315430202",
      "id" : 315430202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T18:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315430202",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Yes, thats what it appears to have always done...docs need to be a shitload clearer here.",
      "created_at" : "2017-07-14T18:23:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315431747",
      "id" : 315431747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T18:23:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315431747",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Ah, thinking about it --  it makes a bit of sense. It would allow my sample loop to handle slightly longer reorgs. ",
      "created_at" : "2017-07-14T18:40:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315435883",
      "id" : 315435883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T18:40:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315435883",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "I pushed another stab at documenting it based on what @morcos  said, but it honestly makes no sense to me. I assume I'm misunderstanding.\r\n\r\nLet's imagine I have the blocks:\r\n```\r\n           /--> C \r\nA--->B\r\n           \\-->D -->E\r\n```\r\n\r\nWhere E is the main chain tip. And C is orphaned. \r\n\r\nSo you're saying if I call `listsinceblock C`, it's going to return me only transactions between  [B, C)   AKA transactions I've already processed, and are orphaned?).  The expected set of transactions it would return you is between [B, E).   \r\n",
      "created_at" : "2017-07-14T21:34:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315473441",
      "id" : 315473441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T21:34:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315473441",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Yes it will return between B and E",
      "created_at" : "2017-07-14T21:41:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315474776",
      "id" : 315474776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T21:41:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315474776",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Hm, so when you said:\r\n> Transactions with any number of confirmations in the range from blockhash to current tip (or the fork point if blockhash is not on current chain) will be returned.\r\n\r\nYou mean that just the `lastblock` returns $target_confirmations from the   (mainTip or convergencePoint) ?.\r\n\r\nBut this is independent to the transaction filtering stuff?",
      "created_at" : "2017-07-14T21:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315475408",
      "id" : 315475408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-14T21:45:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315475408",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127567373"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127567373"
         }
      },
      "body" : "No, the value returned is *always* the Nth-from-top block on the best chain.",
      "commit_id" : "52295ba2385447220f41c097e143dd1d3a8a47f6",
      "created_at" : "2017-07-14T23:32:48Z",
      "diff_hunk" : "@@ -1690,7 +1690,7 @@ UniValue listsinceblock(const JSONRPCRequest& request)\n             \"\\nGet all transactions in blocks since block [blockhash], or all transactions if omitted\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"blockhash\\\"            (string, optional) The block hash to list transactions since\\n\"\n-            \"2. target_confirmations:    (numeric, optional) The confirmations required, must be 1 or more\\n\"\n+            \"2. target_confirmations:    (numeric, optional, default=1) Return the nth block hash from the main chain. e.g. 1 would mean the bestblockhash, unless [blockhash] is not on the current chain, in which case it would return be the common ancestor block between it an the main chain). Note: this is not used as a filter, but only affects [lastblock] in the return value\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127567373",
      "id" : 127567373,
      "original_commit_id" : "8f71159cbdf6061e80d2f1b4ed4ca81e8b15de8b",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 50172504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655",
      "updated_at" : "2017-07-14T23:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127567373",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127567717"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127567717"
         }
      },
      "body" : "Yeah, that's what i thought >< ",
      "commit_id" : "52295ba2385447220f41c097e143dd1d3a8a47f6",
      "created_at" : "2017-07-14T23:36:57Z",
      "diff_hunk" : "@@ -1690,7 +1690,7 @@ UniValue listsinceblock(const JSONRPCRequest& request)\n             \"\\nGet all transactions in blocks since block [blockhash], or all transactions if omitted\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"blockhash\\\"            (string, optional) The block hash to list transactions since\\n\"\n-            \"2. target_confirmations:    (numeric, optional) The confirmations required, must be 1 or more\\n\"\n+            \"2. target_confirmations:    (numeric, optional, default=1) Return the nth block hash from the main chain. e.g. 1 would mean the bestblockhash, unless [blockhash] is not on the current chain, in which case it would return be the common ancestor block between it an the main chain). Note: this is not used as a filter, but only affects [lastblock] in the return value\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#discussion_r127567717",
      "id" : 127567717,
      "original_commit_id" : "8f71159cbdf6061e80d2f1b4ed4ca81e8b15de8b",
      "original_position" : 5,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 50172860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10655",
      "updated_at" : "2017-07-14T23:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127567717",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "`target_confirmations` seems to be handled in a very weird way right now. It only affects the returned last block, and does not actually affect the transactions being returned in any way. I would declare this a bug, personally. The only time the value is used is at https://github.com/bitcoin/bitcoin/blob/0d457c7b274a66d66d59725f5fe1ee1cef5b6391/src/wallet/rpcwallet.cpp#L1859 where\r\n```C++\r\n    CBlockIndex *pblockLast = chainActive[chainActive.Height() + 1 - target_confirms];\r\n```\r\ni.e. to determine the block hash of he last block.\r\n\r\nCorrect me if I'm wrong.",
      "created_at" : "2017-07-15T01:11:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315499412",
      "id" : 315499412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T01:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315499412",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "@kallewoof you are correct, but that behavior long predates the documentation for the function. I have no idea if anyone uses its previous behavior, but assuming people test things before putting them in production, best to fix the docs and leave the behavior IMO.",
      "created_at" : "2017-07-15T01:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315499589",
      "id" : 315499589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T01:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315499589",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt That makes sense to me.\r\n",
      "created_at" : "2017-07-15T01:20:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315499917",
      "id" : 315499917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T01:20:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315499917",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "I don't think the behavior is a bug at all, it was intentionally designed for use in a loop like I describe in an [earlier comment](https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315426136).\r\n\r\nIt's actually a really nice and simple way to handle deposits, and I know a few people who do it that way.  Note how it works really well if your depositor goes down, because you keep storing the hash you want to scan from.  Changing the behavior at this point would be totally unreasonable. \r\n\r\n\r\n(The only reason I don't handle deposits myself that way, is how it handles double spend (attempts) are weird and inconsistent, which make it very difficult to work with when you're showing unconfirmed stuff)",
      "created_at" : "2017-07-15T01:51:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315501558",
      "id" : 315501558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T01:52:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315501558",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "ACK 52295ba\r\n\r\nI think that language is clear and accurate\r\n\r\n(except I'm not sure about putting brackets around the argument names in the help text, is that something we do anywhere else?)\r\n",
      "created_at" : "2017-07-15T03:54:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315507286",
      "id" : 315507286,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T03:54:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315507286",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "> (except I'm not sure about putting brackets around the argument names in the help text, is that something we do anywhere else?)\r\n\r\nI just copied it from the original. It's a bit messy, but it's pretty clear and makes things a lot less ambiguous. ",
      "created_at" : "2017-07-15T03:57:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10655#issuecomment-315507428",
      "id" : 315507428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10655",
      "updated_at" : "2017-07-15T03:57:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315507428",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   }
]
