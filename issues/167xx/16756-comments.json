[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17335 (Add test for syncing blocks generated after invalidateblock. by TheBlueMatt)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-29T16:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526261271",
      "id" : 526261271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjI2MTI3MQ==",
      "updated_at" : "2020-02-11T22:26:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526261271",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "TSan build timing out with last output being:\r\n```\r\nRemaining jobs: [feature_block.py, p2p_permissions.py]\r\n```",
      "created_at" : "2019-08-30T17:38:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526687084",
      "id" : 526687084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjY4NzA4NA==",
      "updated_at" : "2019-08-30T17:38:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526687084",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, do you think this is caused by my changes? I didn't change the tests that timed out and the changes to `net` were meant to only expose the eviction helper functions for testing (that shouldn't be called in these tests because the code had no previous test coverage).",
      "created_at" : "2019-08-30T18:14:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526698298",
      "id" : 526698298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjY5ODI5OA==",
      "updated_at" : "2019-08-30T18:14:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526698298",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will review soon",
      "created_at" : "2019-08-30T18:18:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526699589",
      "id" : 526699589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjY5OTU4OQ==",
      "updated_at" : "2019-08-30T18:18:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526699589",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mzumsande I'll let someone else weigh in on that, I just didn't want to blow away that result in case it was interesting. Restarted that build.",
      "created_at" : "2019-08-30T18:22:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526700754",
      "id" : 526700754,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjcwMDc1NA==",
      "updated_at" : "2019-08-30T18:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526700754",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@instagibbs Thanks! It happened again, so it does seem to be caused by the changes here. Will look into it and try to reproduce.",
      "created_at" : "2019-08-30T19:05:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526714260",
      "id" : 526714260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjcxNDI2MA==",
      "updated_at" : "2019-08-30T19:05:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526714260",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nThanks for working on this!",
      "created_at" : "2019-08-30T19:12:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526716282",
      "id" : 526716282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjcxNjI4Mg==",
      "updated_at" : "2019-08-30T19:12:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526716282",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Found a few recent travis runs from merges where the TSan build timed out in the same way as here:\r\nhttps://travis-ci.org/bitcoin/bitcoin/builds/578612449\r\nhttps://travis-ci.org/bitcoin/bitcoin/builds/578444718\r\nhttps://travis-ci.org/bitcoin/bitcoin/builds/577975853",
      "created_at" : "2019-08-30T21:01:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-526748925",
      "id" : 526748925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjc0ODkyNQ==",
      "updated_at" : "2019-08-30T21:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526748925",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK 42a01bf1c15eeb625abdc8bbc0ef9a7852a2b1af",
      "created_at" : "2019-09-03T16:22:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-527533192",
      "id" : 527533192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzUzMzE5Mg==",
      "updated_at" : "2019-09-03T16:22:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527533192",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review!\r\nBy the way, the functional test will need a small update once #15759 is merged because of the 2 extra outbound connections:\r\n`self.extra_args = [['-maxconnections=32']]` instead of `30`",
      "created_at" : "2019-09-03T19:09:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-527597221",
      "id" : 527597221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzU5NzIyMQ==",
      "updated_at" : "2019-09-03T19:09:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527597221",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and adjusted maxconnections after the merge of #15759 as explained above.",
      "created_at" : "2019-09-07T21:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-529149843",
      "id" : 529149843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyOTE0OTg0Mw==",
      "updated_at" : "2019-09-07T21:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529149843",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The AppVeyor build failed - there seem to be intermittent failures with the new functional test. I can't reproduce so far, but will look into it.",
      "created_at" : "2019-09-07T23:09:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-529153912",
      "id" : 529153912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyOTE1MzkxMg==",
      "updated_at" : "2019-09-07T23:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/529153912",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think that my assumption that the artificially slowed down peers never have the lowest minimum ping can be wrong, leading to the intermittent failure. I changed the functional test to use `getpeerinfo` RPC to determine what the 8 nodes with the lowest minimum ping actually are. This should hopefully fix this issue.",
      "created_at" : "2019-09-17T01:08:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-532015992",
      "id" : 532015992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMjAxNTk5Mg==",
      "updated_at" : "2019-09-17T01:09:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/532015992",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : " I added those commits temporarily, because the AppVeyor build was failing and I couldn't reproduce this locally and wanted look at the debug.log, which AppVeyor currently doesnt' show due to #16894. I have removed the commits and fixed my mistake (not giving enough time for ping after adding a new peer).\r\nWill update the PR text as suggested.",
      "created_at" : "2019-09-18T17:03:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-532775969",
      "id" : 532775969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMjc3NTk2OQ==",
      "updated_at" : "2019-09-18T17:03:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/532775969",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, I figured the timing of my review wasn't ideal. Looking forward to reviewing this.",
      "created_at" : "2019-09-18T18:20:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-532805669",
      "id" : 532805669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMjgwNTY2OQ==",
      "updated_at" : "2019-09-18T18:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/532805669",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329357386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329357386"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be \"mechanism\" :)",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2019-09-29T15:09:27Z",
      "diff_hunk" : "@@ -0,0 +1,135 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.mininode import P2PInterface, P2PDataStore\n+from test_framework.util import assert_equal, wait_until\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.messages import CTransaction, FromHex, msg_pong, msg_tx\n+\n+import time\n+\n+\n+\"\"\" Test node eviction logic\n+\n+When the number of peers has reached the limit of maximum connections,\n+the next connecting inbound peer will trigger the eviction mechanis.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329357386",
      "id" : 329357386,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTM1NzM4Ng==",
      "original_commit_id" : "92a73f8af9352f7e30575ed7c52a77ebca694b36",
      "original_line" : 18,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/p2p_eviction.py",
      "position" : null,
      "pull_request_review_id" : 294688110,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2019-10-23T12:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329357386",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329357407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329357407"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be \"ordered\" :)",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2019-09-29T15:09:59Z",
      "diff_hunk" : "@@ -304,4 +305,60 @@ BOOST_AUTO_TEST_CASE(LocalAddress_BasicLifecycle)\n }\n \n \n+BOOST_AUTO_TEST_CASE(Peer_Eviction)\n+{\n+    std::vector<NodeEvictionCandidate> vCandidates, vTestCandidates;\n+    CService serv = CService(UtilBuildAddress(0x002, 0x001, 0x001, 0x001), 1000); // 2.1.1.1:1000\n+    CAddress addr = CAddress(serv, NODE_NETWORK);\n+\n+    // struct NodeEvictionCandidate members:\n+    // id, nTimeConnected, nMinPingUsecTime, nLastBlockTime, nLastTXTime, fRelevantServices, fRelayTxes, fBloomFilter, addr, nKeyedNetGroup, prefer_evict\n+    NodeEvictionCandidate c1 = {1, 10, 100, 1000, 10000, true, false, true, addr, 100000, false};\n+    NodeEvictionCandidate c2 = {2, 20, 200, 1000, 10000, false, false, false, addr, 200000, false};\n+    NodeEvictionCandidate c3 = {3, 30, 300, 1000, 10000, true, false, true, addr, 300000, false};\n+    NodeEvictionCandidate c4 = {4, 99, 400, 4000, 10000, true, true, true, addr, 400000, false};\n+    NodeEvictionCandidate c5 = {5, 50, 500, 1000, 20000, true, true, true, addr, 500000, false};\n+    vCandidates.push_back(c1);\n+    vCandidates.push_back(c2);\n+    vCandidates.push_back(c3);\n+    vCandidates.push_back(c4);\n+    vCandidates.push_back(c5);\n+\n+    // CompareNetGroupKeyed: erase nodes with largest nKeyedNetGroup\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, CompareNetGroupKeyed, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 1);\n+\n+    // ReverseCompareNodeMinPingTime: erase nodes with smallest nMinPingUsecTime\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, ReverseCompareNodeMinPingTime, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 5);\n+\n+    // ReverseCompareNodeTimeConnected: erase nodes with smallest nTimeConnected\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, ReverseCompareNodeTimeConnected, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 4);\n+\n+    // CompareNodeTXTime: erase node with largest nLastTXTime (c5)\n+    // in case of a tie, erase node that has fRelayTxes set (c4)\n+    // then erase node with fBloomFilter unset (c2)\n+    // remaining items are orderes by smallest time connected",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329357407",
      "id" : 329357407,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTM1NzQwNw==",
      "original_commit_id" : "92a73f8af9352f7e30575ed7c52a77ebca694b36",
      "original_line" : 348,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 294688132,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2019-10-23T12:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329357407",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329683447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329683447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, fixed both typos.",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2019-09-30T16:56:37Z",
      "diff_hunk" : "@@ -304,4 +305,60 @@ BOOST_AUTO_TEST_CASE(LocalAddress_BasicLifecycle)\n }\n \n \n+BOOST_AUTO_TEST_CASE(Peer_Eviction)\n+{\n+    std::vector<NodeEvictionCandidate> vCandidates, vTestCandidates;\n+    CService serv = CService(UtilBuildAddress(0x002, 0x001, 0x001, 0x001), 1000); // 2.1.1.1:1000\n+    CAddress addr = CAddress(serv, NODE_NETWORK);\n+\n+    // struct NodeEvictionCandidate members:\n+    // id, nTimeConnected, nMinPingUsecTime, nLastBlockTime, nLastTXTime, fRelevantServices, fRelayTxes, fBloomFilter, addr, nKeyedNetGroup, prefer_evict\n+    NodeEvictionCandidate c1 = {1, 10, 100, 1000, 10000, true, false, true, addr, 100000, false};\n+    NodeEvictionCandidate c2 = {2, 20, 200, 1000, 10000, false, false, false, addr, 200000, false};\n+    NodeEvictionCandidate c3 = {3, 30, 300, 1000, 10000, true, false, true, addr, 300000, false};\n+    NodeEvictionCandidate c4 = {4, 99, 400, 4000, 10000, true, true, true, addr, 400000, false};\n+    NodeEvictionCandidate c5 = {5, 50, 500, 1000, 20000, true, true, true, addr, 500000, false};\n+    vCandidates.push_back(c1);\n+    vCandidates.push_back(c2);\n+    vCandidates.push_back(c3);\n+    vCandidates.push_back(c4);\n+    vCandidates.push_back(c5);\n+\n+    // CompareNetGroupKeyed: erase nodes with largest nKeyedNetGroup\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, CompareNetGroupKeyed, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 1);\n+\n+    // ReverseCompareNodeMinPingTime: erase nodes with smallest nMinPingUsecTime\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, ReverseCompareNodeMinPingTime, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 5);\n+\n+    // ReverseCompareNodeTimeConnected: erase nodes with smallest nTimeConnected\n+    vTestCandidates = vCandidates;\n+    EraseLastKElements(vTestCandidates, ReverseCompareNodeTimeConnected, 4);\n+    BOOST_CHECK_EQUAL(vTestCandidates.size(), 1);\n+    BOOST_CHECK_EQUAL(vTestCandidates[0].id, 4);\n+\n+    // CompareNodeTXTime: erase node with largest nLastTXTime (c5)\n+    // in case of a tie, erase node that has fRelayTxes set (c4)\n+    // then erase node with fBloomFilter unset (c2)\n+    // remaining items are orderes by smallest time connected",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r329683447",
      "id" : 329683447,
      "in_reply_to_id" : 329357407,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyOTY4MzQ0Nw==",
      "original_commit_id" : "92a73f8af9352f7e30575ed7c52a77ebca694b36",
      "original_line" : 348,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 295115356,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2019-10-23T12:40:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/329683447",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but I dislike moving internal functionality to `net.h` just for testing.",
      "created_at" : "2019-10-03T05:24:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-537792263",
      "id" : 537792263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzc5MjI2Mw==",
      "updated_at" : "2019-10-03T05:24:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537792263",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't really see a practical way to avoid that.\r\nI haven't seen any discussions about this in this project, but did some research and the overall consensus on the internet seems to be that internal functionality should not be subject to unit tests (e.g. private members should not be made public just for that).\r\n\r\nSo would you or others advise that I should just drop the commit with the unit test?",
      "created_at" : "2019-10-03T17:10:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-538037704",
      "id" : 538037704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODAzNzcwNA==",
      "updated_at" : "2019-10-03T17:10:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538037704",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> So would you or others advise that I should just drop the commit with the unit test?\r\n\r\n@sdaftuar Any conceptual thoughts on this or this pull in general?",
      "created_at" : "2019-10-17T13:09:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-543167162",
      "id" : 543167162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzE2NzE2Mg==",
      "updated_at" : "2019-10-17T13:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543167162",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm a concept ACK on the p2p test -- that seems great!  However I don't really have an opinion either way on the unit test.",
      "created_at" : "2019-10-22T16:49:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-545053626",
      "id" : 545053626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTA1MzYyNg==",
      "updated_at" : "2019-10-22T16:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545053626",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mzumsande Can you split up the functional test, please?",
      "created_at" : "2019-10-22T17:22:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-545067016",
      "id" : 545067016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTA2NzAxNg==",
      "updated_at" : "2019-10-22T17:22:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545067016",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, I removed the unit test from this PR and edited the PR description accordingly. ",
      "created_at" : "2019-10-23T12:43:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-545425176",
      "id" : 545425176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTQyNTE3Ng==",
      "updated_at" : "2019-10-23T12:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545425176",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r426934352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426934352"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Although I understand how it works, this construction takes a little bit of cognitive effort.\r\n\r\nFine for this one, but I suggest using something explicit for the next PRs. Simple `i` would work here, and below, well, you'd have to introduce `i + N(4) + M(5)` or something, but I think it would be easier to comprehend.",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2020-05-18T22:51:55Z",
      "diff_hunk" : "@@ -0,0 +1,135 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.mininode import P2PInterface, P2PDataStore\n+from test_framework.util import assert_equal, wait_until\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.messages import CTransaction, FromHex, msg_pong, msg_tx\n+\n+import time\n+\n+\n+\"\"\" Test node eviction logic\n+\n+When the number of peers has reached the limit of maximum connections,\n+the next connecting inbound peer will trigger the eviction mechanism.\n+We cannot currently test the parts of the eviction logic that are based on\n+address/netgroup since in the current framework, all peers are connecting from\n+the same local address. See Issue #14210 for more info.\n+\n+Therefore, this test is limited to the remaining protection criteria:\n+1.) Protect 4 nodes having sent us a block most recently\n+2.) Protect 4 nodes having sent us a transaction most recently\n+3.) Protect 8 nodes with the smallest minimum ping\n+\"\"\"\n+\n+class SlowP2PDataStore(P2PDataStore):\n+    def on_ping(self, message):\n+        time.sleep(0.1)\n+        self.send_message(msg_pong(message.nonce))\n+\n+class SlowP2PInterface(P2PInterface):\n+    def on_ping(self, message):\n+        time.sleep(0.1)\n+        self.send_message(msg_pong(message.nonce))\n+\n+\n+class P2PEvict(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+        # The choice of maxconnections results in a maximum of 21 inbound connections\n+        # (32 - 10 outbound - 1 feeler). 20 inbounds peers are protected from eviction.\n+        self.extra_args = [['-maxconnections=32']]\n+\n+    def setup_network(self):\n+        self.setup_nodes()\n+\n+    def run_test(self):\n+        protected = set()\n+        node = self.nodes[0]\n+        node.generatetoaddress(101, node.get_deterministic_priv_key().address)\n+\n+        #The first 4 peers send us a block, protecting them from eviction\n+        for i in range(4):\n+            blockpeer = node.add_p2p_connection(SlowP2PDataStore())\n+            blockpeer.sync_with_ping(timeout=5)\n+            best_block = node.getbestblockhash()\n+            tip = int(best_block, 16)\n+            best_block_time = node.getblock(best_block)['time']\n+            block = create_block(tip, create_coinbase(node.getblockcount() + 1), best_block_time + 1)\n+            block.solve()\n+            blockpeer.send_blocks_and_test([block], node, success=True)\n+            protected.add(len(node.p2ps))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r426934352",
      "id" : 426934352,
      "line" : 66,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkzNDM1Mg==",
      "original_commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "original_line" : 66,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "test/functional/p2p_eviction.py",
      "position" : 66,
      "pull_request_review_id" : 413989556,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-18T22:51:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426934352",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "tested ACK a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2020-05-19T00:40:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-630507897",
      "id" : 630507897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDUwNzg5Nw==",
      "updated_at" : "2020-05-19T00:40:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630507897",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Open-Close to re-run ci. See https://github.com/bitcoin/bitcoin/issues/15847#issuecomment-487591130",
      "created_at" : "2020-05-19T15:55:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-630913829",
      "id" : 630913829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDkxMzgyOQ==",
      "updated_at" : "2020-05-19T15:55:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630913829",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427689277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427689277"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "After #18638 can this use `setmocktime` instead of `sleep`?",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2020-05-20T01:23:13Z",
      "diff_hunk" : "@@ -0,0 +1,135 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.mininode import P2PInterface, P2PDataStore\n+from test_framework.util import assert_equal, wait_until\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.messages import CTransaction, FromHex, msg_pong, msg_tx\n+\n+import time\n+\n+\n+\"\"\" Test node eviction logic\n+\n+When the number of peers has reached the limit of maximum connections,\n+the next connecting inbound peer will trigger the eviction mechanism.\n+We cannot currently test the parts of the eviction logic that are based on\n+address/netgroup since in the current framework, all peers are connecting from\n+the same local address. See Issue #14210 for more info.\n+\n+Therefore, this test is limited to the remaining protection criteria:\n+1.) Protect 4 nodes having sent us a block most recently\n+2.) Protect 4 nodes having sent us a transaction most recently\n+3.) Protect 8 nodes with the smallest minimum ping\n+\"\"\"\n+\n+class SlowP2PDataStore(P2PDataStore):\n+    def on_ping(self, message):\n+        time.sleep(0.1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427689277",
      "id" : 427689277,
      "line" : 31,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY4OTI3Nw==",
      "original_commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "test/functional/p2p_eviction.py",
      "position" : 31,
      "pull_request_review_id" : 414930217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-20T01:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427689277",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427692165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427692165"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think so. Logically this sleep should happen on the mininode side (of couple particular mininodes, not all).\r\nUsing mock time would sleep for *all* mininodes, but that doesn't satisfy the goal of the test.\r\n\r\nUnless the mininodes in the test are created in a very particular order, which would probably complicate things.",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2020-05-20T01:33:19Z",
      "diff_hunk" : "@@ -0,0 +1,135 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.mininode import P2PInterface, P2PDataStore\n+from test_framework.util import assert_equal, wait_until\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.messages import CTransaction, FromHex, msg_pong, msg_tx\n+\n+import time\n+\n+\n+\"\"\" Test node eviction logic\n+\n+When the number of peers has reached the limit of maximum connections,\n+the next connecting inbound peer will trigger the eviction mechanism.\n+We cannot currently test the parts of the eviction logic that are based on\n+address/netgroup since in the current framework, all peers are connecting from\n+the same local address. See Issue #14210 for more info.\n+\n+Therefore, this test is limited to the remaining protection criteria:\n+1.) Protect 4 nodes having sent us a block most recently\n+2.) Protect 4 nodes having sent us a transaction most recently\n+3.) Protect 8 nodes with the smallest minimum ping\n+\"\"\"\n+\n+class SlowP2PDataStore(P2PDataStore):\n+    def on_ping(self, message):\n+        time.sleep(0.1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427692165",
      "id" : 427692165,
      "in_reply_to_id" : 427689277,
      "line" : 31,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY5MjE2NQ==",
      "original_commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "test/functional/p2p_eviction.py",
      "position" : 31,
      "pull_request_review_id" : 414933354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-20T01:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427692165",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427693372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427693372"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, thanks for the info!",
      "commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "created_at" : "2020-05-20T01:37:52Z",
      "diff_hunk" : "@@ -0,0 +1,135 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.mininode import P2PInterface, P2PDataStore\n+from test_framework.util import assert_equal, wait_until\n+from test_framework.blocktools import create_block, create_coinbase\n+from test_framework.messages import CTransaction, FromHex, msg_pong, msg_tx\n+\n+import time\n+\n+\n+\"\"\" Test node eviction logic\n+\n+When the number of peers has reached the limit of maximum connections,\n+the next connecting inbound peer will trigger the eviction mechanism.\n+We cannot currently test the parts of the eviction logic that are based on\n+address/netgroup since in the current framework, all peers are connecting from\n+the same local address. See Issue #14210 for more info.\n+\n+Therefore, this test is limited to the remaining protection criteria:\n+1.) Protect 4 nodes having sent us a block most recently\n+2.) Protect 4 nodes having sent us a transaction most recently\n+3.) Protect 8 nodes with the smallest minimum ping\n+\"\"\"\n+\n+class SlowP2PDataStore(P2PDataStore):\n+    def on_ping(self, message):\n+        time.sleep(0.1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#discussion_r427693372",
      "id" : 427693372,
      "in_reply_to_id" : 427689277,
      "line" : 31,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY5MzM3Mg==",
      "original_commit_id" : "a0780c5ff6818a0a59afd7657bb98c4954ab06b3",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "test/functional/p2p_eviction.py",
      "position" : 31,
      "pull_request_review_id" : 414934706,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16756",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-20T01:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/427693372",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the reviews and the suggestions! @jonatack I'll take a close look/push an update early next week!",
      "created_at" : "2020-05-20T20:06:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16756#issuecomment-631697656",
      "id" : 631697656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16756",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTY5NzY1Ng==",
      "updated_at" : "2020-05-20T20:06:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631697656",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
