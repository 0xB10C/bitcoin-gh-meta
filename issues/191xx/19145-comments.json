[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19806 (validation: UTXO snapshot activation by jamesob)\n* #19521 (Coinstats Index (without UTXO set hash) by fjahr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-03T01:22:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-637898492",
      "id" : 637898492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzg5ODQ5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T11:12:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637898492",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Added another more extensive test, now ready for review.",
      "created_at" : "2020-06-04T13:32:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-638849647",
      "id" : 638849647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzODg0OTY0Nw==",
      "updated_at" : "2020-06-04T13:32:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/638849647",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. In the followup PR that adds a MuHash index, the RPC documentation should point out that this index can be used to dramatically speed up the RPC call when used with `muhash`. And that `muhash` and `none` will be more responsive than the default (or just change the default, and note that as a breaking change to anyone who uses the legacy hash).",
      "created_at" : "2020-06-09T12:55:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-641272589",
      "id" : 641272589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTI3MjU4OQ==",
      "updated_at" : "2020-06-09T12:58:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/641272589",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke I would like to hear your thoughts on 2109165e3b61d26a0496d5a1efd1c635a7f6a76a. I had it only in the test at first but put it into the framework because I think it could be useful for other tests as well and since it's just a method it does not affect the use of `P2PDataStore` in other tests. But the data it returns on each UTXO is kind of specific to my test.",
      "created_at" : "2020-06-11T23:08:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-642974787",
      "id" : 642974787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Mjk3NDc4Nw==",
      "updated_at" : "2020-06-11T23:08:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642974787",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seems fine to put it wherever you want, as long as reviewers are happy. I guess the decision mostly depends on whether this will be used by other tests.",
      "created_at" : "2020-06-11T23:22:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-642978673",
      "id" : 642978673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Mjk3ODY3Mw==",
      "updated_at" : "2020-06-11T23:22:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642978673",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-24T21:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-649086956",
      "id" : 649086956,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0OTA4Njk1Ng==",
      "updated_at" : "2020-06-24T21:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/649086956",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased",
      "created_at" : "2020-06-29T19:21:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-651310798",
      "id" : 651310798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTMxMDc5OA==",
      "updated_at" : "2020-06-29T19:21:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651310798",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed a merge issue and pulled in latest changes from dependency PRs.",
      "created_at" : "2020-06-30T14:26:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-651827590",
      "id" : 651827590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MTgyNzU5MA==",
      "updated_at" : "2020-06-30T14:26:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/651827590",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Removed some code dublication",
      "created_at" : "2020-07-05T11:46:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-653878504",
      "id" : 653878504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1Mzg3ODUwNA==",
      "updated_at" : "2020-07-05T11:46:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/653878504",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-06T13:12:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-654227890",
      "id" : 654227890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NDIyNzg5MA==",
      "updated_at" : "2020-07-06T13:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/654227890",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and made small style fix in rpc/util.cpp.",
      "created_at" : "2020-07-06T14:00:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-654257382",
      "id" : 654257382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NDI1NzM4Mg==",
      "updated_at" : "2020-07-06T14:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/654257382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-07-30T14:29:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-666400276",
      "id" : 666400276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NjQwMDI3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-30T14:29:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666400276",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-08-26T09:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-680755003",
      "id" : 680755003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4MDc1NTAwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-26T09:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680755003",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased after #19105 was merged.",
      "created_at" : "2020-09-02T11:39:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-685674442",
      "id" : 685674442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTY3NDQ0Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T11:39:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685674442",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529577405"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529577405"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should be alphabetical order?",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2020-11-24T14:16:29Z",
      "diff_hunk" : "@@ -397,6 +397,8 @@ crypto_libbitcoin_crypto_base_a_SOURCES = \\\n   crypto/hmac_sha512.h \\\n   crypto/poly1305.h \\\n   crypto/poly1305.cpp \\\n+  crypto/muhash.h \\\n+  crypto/muhash.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529577405",
      "id" : 529577405,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU3NzQwNQ==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 421,
      "original_position" : 5,
      "original_start_line" : 400,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 537533528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529577405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529760469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529760469"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Isn't this sort of a roundabout way to setup what seems to be the actual test, at lines 74-87? I'm not seeing why `conn = node.add_p2p_connection(P2PDataStore())` is necessary for what's being tested here, and if the method added in this PR `def estimate_utxo_set(self):` is needed.\r\n\r\nWould something like this do what you need:\r\n```python\r\ncoinbase_blocks = list(map(lambda block: node.getblock(block), node.generate(100)))\r\nspending = next(filter(lambda block: block[\"confirmations\"] == 100, coinbase_blocks))\r\ncoinbase_blocks.remove(spending)\r\n\r\ntx = node.gettransaction(spending[\"tx\"][0])\r\nvtx = FromHex(CTransaction(), tx[\"hex\"])\r\nvtx.rehash()\r\ntx1 = create_tx_with_script(vtx, 0, script_sig=b'\\x51', amount=25 * COIN)\r\ntx2 = create_tx_with_script(tx1, 0, script_sig=b'\\x51', amount=25 * COIN)\r\n\r\ntx1id = node.sendrawtransaction(hexstring=tx1.serialize().hex(), maxfeerate=0)['hex']\r\ntx2id = node.sendrawtransaction(hexstring=tx2.serialize().hex(), maxfeerate=0)['hex']\r\nnode.generateblock(output=node.getnewaddress(), transactions=[tx1id, tx2id])\r\n```\r\n and then you form `utxo_set` here from `coinbase_blocks`, and `tx`, `tx1`, `tx2` to calculate the MuHash of the set",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2020-11-24T17:40:22Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test UTXO set hash value calculation.\n+\n+Based on the UTXO set of a P2P connection serialize and calculate a hash\n+for the UTXO set and compare it with the actual node's hash.\n+\"\"\"\n+\n+from test_framework.blocktools import (\n+    create_block,\n+    create_coinbase,\n+    create_tx_with_script,\n+)\n+from test_framework.messages import (\n+    COIN,\n+)\n+from test_framework.p2p import P2PDataStore\n+from test_framework.muhash import MuHash3072\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+import hashlib\n+import struct\n+\n+class UTXOSetHashTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        conn = node.add_p2p_connection(P2PDataStore())\n+\n+        # Get tip information (Genesis) to build the next block.\n+        best_block_hash = node.getbestblockhash()\n+        tip = int(best_block_hash, 16)\n+        best_block = node.getblock(best_block_hash)\n+        height = best_block[\"height\"] + 1\n+        block_time = best_block[\"time\"] + 1\n+\n+        # Generate 100 blocks so the first coinbase is matured. We have to do\n+        # it in a way that conn knows about them so we use\n+        # send_blocks_and_test.\n+        for i in range(100):\n+            # Coinbases are anyone can spend.\n+            block = create_block(tip, create_coinbase(height), block_time)\n+            block.solve()\n+            conn.send_blocks_and_test([block], node, success=True)\n+\n+            tip = block.sha256\n+            best_block = block\n+            height += 1\n+            block_time += 1\n+\n+            # Save first block because we want to spend its coinbase.\n+            if i == 0:\n+                block1 = block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529760469",
      "id" : 529760469,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc2MDQ2OQ==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 59,
      "original_position" : 59,
      "original_start_line" : 34,
      "path" : "test/functional/feature_utxo_set_hash.py",
      "position" : null,
      "pull_request_review_id" : 537533528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529760469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529803891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529803891"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would this test be a little better if instead of forming the utxo set at the end, you maintained a running sum and added as blocks were mined, and then added/subtracted when UTXOs were spent and created in `tx1`, `tx2`?",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2020-11-24T18:50:27Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test UTXO set hash value calculation.\n+\n+Based on the UTXO set of a P2P connection serialize and calculate a hash\n+for the UTXO set and compare it with the actual node's hash.\n+\"\"\"\n+\n+from test_framework.blocktools import (\n+    create_block,\n+    create_coinbase,\n+    create_tx_with_script,\n+)\n+from test_framework.messages import (\n+    COIN,\n+)\n+from test_framework.p2p import P2PDataStore\n+from test_framework.muhash import MuHash3072\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+import hashlib\n+import struct\n+\n+class UTXOSetHashTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        conn = node.add_p2p_connection(P2PDataStore())\n+\n+        # Get tip information (Genesis) to build the next block.\n+        best_block_hash = node.getbestblockhash()\n+        tip = int(best_block_hash, 16)\n+        best_block = node.getblock(best_block_hash)\n+        height = best_block[\"height\"] + 1\n+        block_time = best_block[\"time\"] + 1\n+\n+        # Generate 100 blocks so the first coinbase is matured. We have to do\n+        # it in a way that conn knows about them so we use\n+        # send_blocks_and_test.\n+        for i in range(100):\n+            # Coinbases are anyone can spend.\n+            block = create_block(tip, create_coinbase(height), block_time)\n+            block.solve()\n+            conn.send_blocks_and_test([block], node, success=True)\n+\n+            tip = block.sha256\n+            best_block = block\n+            height += 1\n+            block_time += 1\n+\n+            # Save first block because we want to spend its coinbase.\n+            if i == 0:\n+                block1 = block\n+\n+        # Generate another block with one tx spending a coinbase and another\n+        # spending that tx's output.\n+        tx1 = create_tx_with_script(block1.vtx[0], 0, script_sig=b'\\x51', amount=25 * COIN)\n+        tx2 = create_tx_with_script(tx1, 0, script_sig=b'\\x51', amount=25 * COIN)\n+\n+        block2 = create_block(tip, create_coinbase(height), block_time)\n+        block2.vtx.extend([tx1, tx2])\n+        block2.hashMerkleRoot = block2.calc_merkle_root()\n+        block2.rehash()\n+        block2.solve()\n+\n+        conn.send_blocks_and_test([block2], node, success=True)\n+\n+        # Calculate the MuHash of the UTXO set estimate\n+        muhash = MuHash3072()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r529803891",
      "id" : 529803891,
      "line" : 48,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTgwMzg5MQ==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 48,
      "original_position" : 75,
      "original_start_line" : null,
      "path" : "test/functional/feature_utxo_set_hash.py",
      "position" : 48,
      "pull_request_review_id" : 537810550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/529803891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-07T17:13:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-756252659",
      "id" : 756252659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjI1MjY1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T17:13:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756252659",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556966308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556966308"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, this was part of a previous PR that this one is based on, so I don't want to touch this anymore.",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-14T00:30:08Z",
      "diff_hunk" : "@@ -397,6 +397,8 @@ crypto_libbitcoin_crypto_base_a_SOURCES = \\\n   crypto/hmac_sha512.h \\\n   crypto/poly1305.h \\\n   crypto/poly1305.cpp \\\n+  crypto/muhash.h \\\n+  crypto/muhash.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556966308",
      "id" : 556966308,
      "in_reply_to_id" : 529577405,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njk2NjMwOA==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 421,
      "original_position" : 5,
      "original_start_line" : 400,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 567765856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556966308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556967317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556967317"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It was and I did it because I thought there was a good chance that this code could be used for other tests as well and it also made some things a bit easier. But overall of course it adds complexity and I am lacking a specific example where it would be used so I have removed the P2P based implementation and simplified it in a similar way as you imagined, I think. Please check it out.",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-14T00:33:19Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test UTXO set hash value calculation.\n+\n+Based on the UTXO set of a P2P connection serialize and calculate a hash\n+for the UTXO set and compare it with the actual node's hash.\n+\"\"\"\n+\n+from test_framework.blocktools import (\n+    create_block,\n+    create_coinbase,\n+    create_tx_with_script,\n+)\n+from test_framework.messages import (\n+    COIN,\n+)\n+from test_framework.p2p import P2PDataStore\n+from test_framework.muhash import MuHash3072\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+import hashlib\n+import struct\n+\n+class UTXOSetHashTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        conn = node.add_p2p_connection(P2PDataStore())\n+\n+        # Get tip information (Genesis) to build the next block.\n+        best_block_hash = node.getbestblockhash()\n+        tip = int(best_block_hash, 16)\n+        best_block = node.getblock(best_block_hash)\n+        height = best_block[\"height\"] + 1\n+        block_time = best_block[\"time\"] + 1\n+\n+        # Generate 100 blocks so the first coinbase is matured. We have to do\n+        # it in a way that conn knows about them so we use\n+        # send_blocks_and_test.\n+        for i in range(100):\n+            # Coinbases are anyone can spend.\n+            block = create_block(tip, create_coinbase(height), block_time)\n+            block.solve()\n+            conn.send_blocks_and_test([block], node, success=True)\n+\n+            tip = block.sha256\n+            best_block = block\n+            height += 1\n+            block_time += 1\n+\n+            # Save first block because we want to spend its coinbase.\n+            if i == 0:\n+                block1 = block",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556967317",
      "id" : 556967317,
      "in_reply_to_id" : 529760469,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njk2NzMxNw==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 59,
      "original_position" : 59,
      "original_start_line" : 34,
      "path" : "test/functional/feature_utxo_set_hash.py",
      "position" : null,
      "pull_request_review_id" : 567767058,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556967317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556968008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556968008"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think so because we need to somehow keep track of what is really in the UTXO set and I think this would make test harder to follow if I did it this way. And I feel like this is more of the standard way of how we structure our tests.",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-14T00:35:36Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test UTXO set hash value calculation.\n+\n+Based on the UTXO set of a P2P connection serialize and calculate a hash\n+for the UTXO set and compare it with the actual node's hash.\n+\"\"\"\n+\n+from test_framework.blocktools import (\n+    create_block,\n+    create_coinbase,\n+    create_tx_with_script,\n+)\n+from test_framework.messages import (\n+    COIN,\n+)\n+from test_framework.p2p import P2PDataStore\n+from test_framework.muhash import MuHash3072\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import assert_equal\n+\n+import hashlib\n+import struct\n+\n+class UTXOSetHashTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        conn = node.add_p2p_connection(P2PDataStore())\n+\n+        # Get tip information (Genesis) to build the next block.\n+        best_block_hash = node.getbestblockhash()\n+        tip = int(best_block_hash, 16)\n+        best_block = node.getblock(best_block_hash)\n+        height = best_block[\"height\"] + 1\n+        block_time = best_block[\"time\"] + 1\n+\n+        # Generate 100 blocks so the first coinbase is matured. We have to do\n+        # it in a way that conn knows about them so we use\n+        # send_blocks_and_test.\n+        for i in range(100):\n+            # Coinbases are anyone can spend.\n+            block = create_block(tip, create_coinbase(height), block_time)\n+            block.solve()\n+            conn.send_blocks_and_test([block], node, success=True)\n+\n+            tip = block.sha256\n+            best_block = block\n+            height += 1\n+            block_time += 1\n+\n+            # Save first block because we want to spend its coinbase.\n+            if i == 0:\n+                block1 = block\n+\n+        # Generate another block with one tx spending a coinbase and another\n+        # spending that tx's output.\n+        tx1 = create_tx_with_script(block1.vtx[0], 0, script_sig=b'\\x51', amount=25 * COIN)\n+        tx2 = create_tx_with_script(tx1, 0, script_sig=b'\\x51', amount=25 * COIN)\n+\n+        block2 = create_block(tip, create_coinbase(height), block_time)\n+        block2.vtx.extend([tx1, tx2])\n+        block2.hashMerkleRoot = block2.calc_merkle_root()\n+        block2.rehash()\n+        block2.solve()\n+\n+        conn.send_blocks_and_test([block2], node, success=True)\n+\n+        # Calculate the MuHash of the UTXO set estimate\n+        muhash = MuHash3072()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r556968008",
      "id" : 556968008,
      "in_reply_to_id" : 529803891,
      "line" : 48,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njk2ODAwOA==",
      "original_commit_id" : "9a06f21e6b80711e6afe0eb445b07843ab691c86",
      "original_line" : 48,
      "original_position" : 75,
      "original_start_line" : null,
      "path" : "test/functional/feature_utxo_set_hash.py",
      "position" : 48,
      "pull_request_review_id" : 567767877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/556968008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and addressed feedback by @mjdietzx . Thanks for reviewing and sorry for the long wait, I was focussing on #19055 which is now merged and which makes this one my high prio. I also added a small refactor commit to improve encapsulation between `MuHash3072` and `Num3072`.",
      "created_at" : "2021-01-14T00:38:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-759847750",
      "id" : 759847750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1OTg0Nzc1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T00:38:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/759847750",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r557075154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557075154"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `CCoinsStats& stats`",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-14T06:48:03Z",
      "diff_hunk" : "@@ -24,31 +25,47 @@ static uint64_t GetBogoSize(const CScript& scriptPubKey)\n            scriptPubKey.size() /* scriptPubKey */;\n }\n \n-static void ApplyStats(CCoinsStats& stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+static void ApplyHash(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs, std::map<uint32_t, Coin>::const_iterator it)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r557075154",
      "id" : 557075154,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzA3NTE1NA==",
      "original_commit_id" : "62e0f39510324731753e0dcfe5cef177a9681b56",
      "original_line" : 28,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 567889155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557075154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/551068?v=4",
         "events_url" : "https://api.github.com/users/FelixWeis/events{/privacy}",
         "followers_url" : "https://api.github.com/users/FelixWeis/followers",
         "following_url" : "https://api.github.com/users/FelixWeis/following{/other_user}",
         "gists_url" : "https://api.github.com/users/FelixWeis/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/FelixWeis",
         "id" : 551068,
         "login" : "FelixWeis",
         "node_id" : "MDQ6VXNlcjU1MTA2OA==",
         "organizations_url" : "https://api.github.com/users/FelixWeis/orgs",
         "received_events_url" : "https://api.github.com/users/FelixWeis/received_events",
         "repos_url" : "https://api.github.com/users/FelixWeis/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/FelixWeis/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/FelixWeis/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/FelixWeis"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r557765138"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557765138"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-14T23:27:12Z",
      "diff_hunk" : "@@ -24,31 +25,47 @@ static uint64_t GetBogoSize(const CScript& scriptPubKey)\n            scriptPubKey.size() /* scriptPubKey */;\n }\n \n-static void ApplyStats(CCoinsStats& stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+static void ApplyHash(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs, std::map<uint32_t, Coin>::const_iterator it)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r557765138",
      "id" : 557765138,
      "in_reply_to_id" : 557075154,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc2NTEzOA==",
      "original_commit_id" : "62e0f39510324731753e0dcfe5cef177a9681b56",
      "original_line" : 28,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 568709005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T21:43:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557765138",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> There is a deterministic regtest blockchain for the test `rpc_getblockstats.py` which could (additionally) test the finalized hash against constants, especially in the future when one tests for correct rolling behaviour between blocks.\r\n\r\nThanks, that's a good point but I think this will be even more interesting when we get to the actual index when the RPC can give hashes for specific heights so I think I will leave this for one of the follow-ups of this one.",
      "created_at" : "2021-01-14T23:29:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-760543243",
      "id" : 760543243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDU0MzI0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T23:29:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760543243",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed Feedback by @FelixWeis and fixed the functional test for the no-wallet case.",
      "created_at" : "2021-01-14T23:30:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#issuecomment-760543610",
      "id" : 760543610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDU0MzYxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T23:30:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760543610",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562219674"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562219674"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \" refactor: Improve encapsulation between MuHash3072 and Num3072\"\r\n\r\nI recommend against passing C-style arrays, as despite its notation, it's not passing an array but a pointer. For example, this works with no warning: https://godbolt.org/z/YrMvfE\r\n\r\nAn alternative is using a C++ reference-to-array:\r\n\r\n```c++\r\n Num3072::Num3072(const unsigned char (&data)[BYTE_SIZE]) { \r\n```\r\n",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-21T21:49:18Z",
      "diff_hunk" : "@@ -276,18 +275,33 @@ void Num3072::Divide(const Num3072& a)\n     if (this->IsOverflow()) this->FullReduce();\n }\n \n-Num3072 MuHash3072::ToNum3072(Span<const unsigned char> in) {\n-    Num3072 out{};\n-    uint256 hashed_in = (CHashWriter(SER_DISK, 0) << in).GetSHA256();\n-    unsigned char tmp[BYTE_SIZE];\n-    ChaCha20(hashed_in.data(), hashed_in.size()).Keystream(tmp, BYTE_SIZE);\n+Num3072::Num3072(const unsigned char data[BYTE_SIZE]) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562219674",
      "id" : 562219674,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjIxOTY3NA==",
      "original_commit_id" : "6995fbd687e6c72cbe2297a7cbaeb787b4a55742",
      "original_line" : 278,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/crypto/muhash.cpp",
      "position" : 26,
      "pull_request_review_id" : 573764459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T22:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562219674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562230000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562230000"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"rpc: Add hash_type MUHASH to gettxoutsetinfo\"\r\n\r\nI think extracting an `std::string` here is unnecessary. \r\n\r\n```c++\r\nmuhash.Insert(MakeUCharSpan(ss));\r\n```\r\n\r\nshould work just as well, and avoid the copy.",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-21T22:09:23Z",
      "diff_hunk" : "@@ -42,8 +43,20 @@ static void ApplyHash(CCoinsStats &stats, CHashWriter& ss, const uint256& hash,\n \n static void ApplyHash(CCoinsStats& stats, std::nullptr_t, const uint256& hash, const std::map<uint32_t, Coin>& outputs, std::map<uint32_t, Coin>::const_iterator it) {}\n \n+static void ApplyHash(CCoinsStats& stats, MuHash3072& muhash, const uint256& hash, const std::map<uint32_t, Coin>& outputs, std::map<uint32_t, Coin>::const_iterator it)\n+{\n+    COutPoint outpoint = COutPoint(hash, it->first);\n+    Coin coin = it->second;\n+\n+    CDataStream ss(SER_DISK, PROTOCOL_VERSION);\n+    ss << outpoint;\n+    ss << (uint32_t)(coin.nHeight * 2 + coin.fCoinBase);\n+    ss << coin.out;\n+    muhash.Insert(MakeUCharSpan(ss.str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562230000",
      "id" : 562230000,
      "line" : 55,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjIzMDAwMA==",
      "original_commit_id" : "d20438fd837850a28193c2cfc01abe10fbef42ec",
      "original_line" : 55,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : 53,
      "pull_request_review_id" : 573764459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T22:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562230000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562231321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562231321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit \"refactor: Seperate hash and stats calculation in coinstats\"\r\n\r\nNit: seperate -> separate in commit title",
      "commit_id" : "0c0d0717e0f188a904bf3608905e27e9f08c0a34",
      "created_at" : "2021-01-21T22:11:59Z",
      "diff_hunk" : "@@ -24,31 +24,35 @@ static uint64_t GetBogoSize(const CScript& scriptPubKey)\n            scriptPubKey.size() /* scriptPubKey */;\n }\n \n-static void ApplyStats(CCoinsStats& stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs)\n+static void ApplyHash(CCoinsStats &stats, CHashWriter& ss, const uint256& hash, const std::map<uint32_t, Coin>& outputs, std::map<uint32_t, Coin>::const_iterator it)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19145#discussion_r562231321",
      "id" : 562231321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjIzMTMyMQ==",
      "original_commit_id" : "9470df12ecc0d05ee42d9eb8a89d8106e59f6493",
      "original_line" : 27,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/node/coinstats.cpp",
      "position" : null,
      "pull_request_review_id" : 573764459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-21T22:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562231321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
