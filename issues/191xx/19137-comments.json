[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19325 (wallet: Refactor BerkeleyDatabase to introduce DatabaseBatch abstract class by achow101)\n* #19324 (wallet: Move BerkeleyBatch static functions to BerkeleyDatabase by achow101)\n* #19320 (wallet: Replace CDataStream& with CDataStream&& where appropriate by MarcoFalke)\n* #19308 (wallet: BerkeleyBatch Handle cursor internally by achow101)\n* #19101 (refactor: remove ::vpwallets and related global variables by ryanofsky)\n* #19078 (test: Add salvage test for wallet tool by MarcoFalke)\n* #18608 (refactor: Remove CAddressBookData::destdata by ryanofsky)\n* #16546 (External signer support - Wallet Box edition by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-02T01:16:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-637210666",
      "id" : 637210666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzIxMDY2Ng==",
      "updated_at" : "2020-06-22T01:24:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637210666",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-06-02T06:40:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-637311651",
      "id" : 637311651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzMxMTY1MQ==",
      "updated_at" : "2020-06-02T06:40:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637311651",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-02T16:09:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-637654808",
      "id" : 637654808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzY1NDgwOA==",
      "updated_at" : "2020-06-02T16:09:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637654808",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Can you add a sanity check to the test? E.g. a `getaddressinfo` call.",
      "created_at" : "2020-06-08T11:24:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-640543096",
      "id" : 640543096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDU0MzA5Ng==",
      "updated_at" : "2020-06-08T11:24:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640543096",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-17T10:01:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-645279086",
      "id" : 645279086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTI3OTA4Ng==",
      "updated_at" : "2020-06-17T10:01:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645279086",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-18T15:24:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-646094428",
      "id" : 646094428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NjA5NDQyOA==",
      "updated_at" : "2020-06-18T15:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/646094428",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r442510191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442510191"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"wallettool: Add createfromdump command\" (7ea3df8ccd13096088538fb4602208eae0831c13)\r\n\r\nWould suggest moving this to src/wallet/dump.cpp similar to src/wallet/salvage.cpp so the dump /load functionality be accessed other places outside the wallet tool, like by RPCs, the GUI, and c++ unit tests. Way arguments passed and errors are returned might have to change a little, though",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-18T21:22:48Z",
      "diff_hunk" : "@@ -183,6 +183,79 @@ static bool DumpWallet(std::shared_ptr<CWallet> wallet)\n     return ret;\n }\n \n+static bool CreateFromDump(const std::string& name, const fs::path& wallet_path)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r442510191",
      "id" : 442510191,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUxMDE5MQ==",
      "original_commit_id" : "7ea3df8ccd13096088538fb4602208eae0831c13",
      "original_line" : 186,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : null,
      "pull_request_review_id" : 433656956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442510191",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r442574059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442574059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've moved it to a new file.",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-19T00:46:50Z",
      "diff_hunk" : "@@ -183,6 +183,79 @@ static bool DumpWallet(std::shared_ptr<CWallet> wallet)\n     return ret;\n }\n \n+static bool CreateFromDump(const std::string& name, const fs::path& wallet_path)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r442574059",
      "id" : 442574059,
      "in_reply_to_id" : 442510191,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3NDA1OQ==",
      "original_commit_id" : "7ea3df8ccd13096088538fb4602208eae0831c13",
      "original_line" : 186,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : null,
      "pull_request_review_id" : 433734927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442574059",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r443120133"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443120133"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there any reason to support stdout?\r\n\r\nI'd find it easier to force this setting for both settings and it would simplify reasoning about arbitrary code execution. IIRC in bash simply catting a file can execute arbitrary commands.",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-20T10:27:10Z",
      "diff_hunk" : "@@ -26,12 +26,15 @@ static void SetupWalletToolArgs()\n \n     gArgs.AddArg(\"-datadir=<dir>\", \"Specify data directory\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-wallet=<wallet-name>\", \"Specify wallet name\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-dumpfile=<file name>\", \"When used with 'dump', writes out the records to this file instead of printing to stdout. When used with 'createfromdump', loads the records into a new wallet.\", ArgsManager::ALLOW_STRING, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r443120133",
      "id" : 443120133,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEyMDEzMw==",
      "original_commit_id" : "348be8dafe6642ff2084f8ebfd3471b7c4ed7508",
      "original_line" : 29,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/bitcoin-wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 434419042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443120133",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r443777592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443777592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed the output to stdout.",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-22T19:27:23Z",
      "diff_hunk" : "@@ -26,12 +26,15 @@ static void SetupWalletToolArgs()\n \n     gArgs.AddArg(\"-datadir=<dir>\", \"Specify data directory\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-wallet=<wallet-name>\", \"Specify wallet name\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-dumpfile=<file name>\", \"When used with 'dump', writes out the records to this file instead of printing to stdout. When used with 'createfromdump', loads the records into a new wallet.\", ArgsManager::ALLOW_STRING, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r443777592",
      "id" : 443777592,
      "in_reply_to_id" : 443120133,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc3NzU5Mg==",
      "original_commit_id" : "348be8dafe6642ff2084f8ebfd3471b7c4ed7508",
      "original_line" : 29,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/bitcoin-wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 435211281,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/443777592",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe there should be a checksum at the end of the file to detect corruption.\r\n\r\nI'm not sure if that's really useful or practical. We are writing to the wallet file as we read the records so a checksum wouldn't be able to be computed until all records have been read and written to the file, at which point it's too late for a checksum to be useful.\r\n\r\n> Maybe there should be a magic string or version number at the beginning in case we want to extend the format in the future and prevent current parsing function from trying to read it\r\n\r\nI've added a line at the beginning to identify the file with the magic string `BITCOIN_CORE_WALLET_DUMP` and a version number.",
      "created_at" : "2020-06-22T19:29:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#issuecomment-647727895",
      "id" : 647727895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19137",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NzcyNzg5NQ==",
      "updated_at" : "2020-06-22T19:29:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/647727895",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447154380"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447154380"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove `;` at end of line.",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T18:02:14Z",
      "diff_hunk" : "@@ -211,6 +211,56 @@ def test_salvage(self):\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')\n \n+    def test_dump_createfromdump(self):\n+        self.start_node(0, ['-wallet=todump', '-wallet=todump2'])\n+        self.stop_node(0)\n+\n+        self.log.info('Checking dump arguments')\n+        self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447154380",
      "id" : 447154380,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE1NDM4MA==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 219,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : null,
      "pull_request_review_id" : 439379277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447154380",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447155606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447155606"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is getting caught in lint-python-utf8-encoding for not specifying `encoding=\"utf8\"`.\r\n```suggestion\r\n        with open(wallet_dump, 'r', encoding=\"utf8\") as f:\r\n```\r\n\r\nSame with the other `with open`s below (lines 244, 250, 255, and 260).",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T18:04:28Z",
      "diff_hunk" : "@@ -211,6 +211,56 @@ def test_salvage(self):\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')\n \n+    def test_dump_createfromdump(self):\n+        self.start_node(0, ['-wallet=todump', '-wallet=todump2'])\n+        self.stop_node(0)\n+\n+        self.log.info('Checking dump arguments')\n+        self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump');\n+\n+        self.log.info('Checking basic dump')\n+        wallet_dump = os.path.join(self.nodes[0].datadir, \"wallet.dump\")\n+        self.assert_tool_output('', '-wallet=todump', '-dumpfile={}'.format(wallet_dump), 'dump')\n+\n+        with open(wallet_dump, 'r') as f:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447155606",
      "id" : 447155606,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE1NTYwNg==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 225,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : null,
      "pull_request_review_id" : 439379277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447155606",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447166733"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447166733"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "not your line but, s/wheter/whether/ if you have to touch-up",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T18:24:52Z",
      "diff_hunk" : "@@ -93,53 +93,66 @@ std::shared_ptr<BerkeleyEnvironment> GetWalletEnv(const fs::path& wallet_path, s\n /** Return wheter a BDB wallet database is currently loaded. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447166733",
      "id" : 447166733,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE2NjczMw==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 93,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.h",
      "position" : 1,
      "pull_request_review_id" : 439394340,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447166733",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249011"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249011"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T20:56:38Z",
      "diff_hunk" : "@@ -211,6 +211,56 @@ def test_salvage(self):\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')\n \n+    def test_dump_createfromdump(self):\n+        self.start_node(0, ['-wallet=todump', '-wallet=todump2'])\n+        self.stop_node(0)\n+\n+        self.log.info('Checking dump arguments')\n+        self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249011",
      "id" : 447249011,
      "in_reply_to_id" : 447154380,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI0OTAxMQ==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 219,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : null,
      "pull_request_review_id" : 439494256,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249011",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249073"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249073"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T20:56:46Z",
      "diff_hunk" : "@@ -211,6 +211,56 @@ def test_salvage(self):\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')\n \n+    def test_dump_createfromdump(self):\n+        self.start_node(0, ['-wallet=todump', '-wallet=todump2'])\n+        self.stop_node(0)\n+\n+        self.log.info('Checking dump arguments')\n+        self.assert_raises_tool_error('No dump file provided. To use dump, -dumpfile=<filename> must be provided.', '-wallet=todump', 'dump');\n+\n+        self.log.info('Checking basic dump')\n+        wallet_dump = os.path.join(self.nodes[0].datadir, \"wallet.dump\")\n+        self.assert_tool_output('', '-wallet=todump', '-dumpfile={}'.format(wallet_dump), 'dump')\n+\n+        with open(wallet_dump, 'r') as f:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249073",
      "id" : 447249073,
      "in_reply_to_id" : 447155606,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI0OTA3Mw==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 225,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : null,
      "pull_request_review_id" : 439494344,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:56:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249073",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think that'd be better to fix in one of the prerequisite PRs or a followup to this whole PR stack.",
      "commit_id" : "b707ff236c74d2d9278289651ef4f4e43d32bbd2",
      "created_at" : "2020-06-29T20:57:20Z",
      "diff_hunk" : "@@ -93,53 +93,66 @@ std::shared_ptr<BerkeleyEnvironment> GetWalletEnv(const fs::path& wallet_path, s\n /** Return wheter a BDB wallet database is currently loaded. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19137#discussion_r447249331",
      "id" : 447249331,
      "in_reply_to_id" : 447166733,
      "line" : 93,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI0OTMzMQ==",
      "original_commit_id" : "abd8925e047112971f3df0cdda0868acca2e29e6",
      "original_line" : 93,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/wallet/bdb.h",
      "position" : 1,
      "pull_request_review_id" : 439494708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19137",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-29T20:57:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/447249331",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
