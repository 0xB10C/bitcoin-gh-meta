[
   {
      "author_association" : "MEMBER",
      "body" : "In general, our coin selection algorithm does not currently consider the fee that each input will require when it does the selection. The exception is the first Branch and Bound pass that we do. This pass will attempt to find a solution without change at all, and it does consider the fee paid in its selection. This could result in an input set that is very large but produces no change. However that is not the case here. Further selection attempts (when BnB fails) will attempt to create a minimum change amount of 0.01 BTC, although it may fail to do so and make smaller change. There is no preference for smaller change at this stage because smaller change means that UTXOs will tend to be broken down into dust.\r\n\r\nThe fallback selection method includes randomness and will somewhat randomly choose different UTXOs for inclusion, although it is not a true random selector. I believe that if you run this experiment many times, eventually one of the results will have lower fees and choose the largest input. Due to the large number of UTXOs in this wallet, various iteration limits may be run into here so a less optimal solution may be chosen.\r\n\r\nLastly, always choosing a lowest fee input set always degenerates into the largest first case which is not ideal. Largest first selection is not healthy for the wallet as over time it grinds UTXOs into dust which causes future transactions to pay even higher fees.",
      "created_at" : "2020-12-08T17:45:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20598#issuecomment-740793087",
      "id" : 740793087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20598",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDc5MzA4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-08T17:46:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740793087",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
