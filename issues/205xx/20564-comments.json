[
   {
      "author_association" : "MEMBER",
      "body" : "I'm deliberately not introducing a name for the 70016 constant, or reuse any of the existing constants. The number isn't tied to any of those; it's just... we're observing that no clients below this number exist that support it.",
      "created_at" : "2020-12-03T23:11:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738437273",
      "id" : 738437273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODQzNzI3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-03T23:11:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738437273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Reluctant ACK. I think this is very messed up for reasons mentioned by Matt [here](https://github.com/btcsuite/btcd/issues/1661#issuecomment-737242665). I think a P2P protocol that is not permissionlessly extensible is unworthy of bitcoin.",
      "created_at" : "2020-12-03T23:47:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738456560",
      "id" : 738456560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODQ1NjU2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-03T23:49:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738456560",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not even sure what's best here, considering an issue with another implementation.\r\nI think considering that this code is non-consensus, very simple, and won't degrade much further âÂ it's fine we pay this cost.\r\nReluctant ACK as well.",
      "created_at" : "2020-12-04T01:06:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738483669",
      "id" : 738483669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODQ4MzY2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T01:06:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738483669",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "While this patch is technically sound and it will most likely make it in 0.21, the problem with protocol version bumps exists in the long term.\r\n\r\nA central body deciding what version numbers are and what goes in them is not suitable for a protocol that is developed in a decentralized manner. Eventually some disagreement may tear apart the sequentiality of the protocol version resulting in something like:\r\n* implementation1 uses `70019` for feature X and Y\r\n* implementation2 uses `70019` for feature A and B\r\n* implementation3 uses `80123` for baking potatoes\r\n\r\nMaybe it would be more flexible to introduce new functionality via service bits. Hopefully nobody will disconnect if they see an unknown service bit set. Also, they are gossiped, so one can have an idea what to expect from a peer before connecting and choose peers based on their advertised capabilities.",
      "created_at" : "2020-12-04T04:50:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738563105",
      "id" : 738563105,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODU2MzEwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T04:50:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738563105",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild I completely agree with the flaws of using protocol versions for feature negotiation. That's not what this is about.\n\nThis is a one-time courtesy for existing clients on the network to not cause disruption. It isn't tying features to versions, and perhaps this patch can even be temporary.",
      "created_at" : "2020-12-04T04:55:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738564357",
      "id" : 738564357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODU2NDM1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T04:55:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738564357",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20564#discussion_r535865759"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20564"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/535865759"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could mention that this is a temporary workaround, safe to be reverted end of 2021 or beginning of 2022",
      "commit_id" : "152b0be70ab5e910a6682d2178c2e81c781a2f9b",
      "created_at" : "2020-12-04T06:26:55Z",
      "diff_hunk" : "@@ -2365,7 +2365,13 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::VERACK));\n \n         // Signal ADDRv2 support (BIP155).\n-        m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::SENDADDRV2));\n+        if (greatest_common_version >= 70016) {\n+            // BIP155 defines addrv2 and sendaddrv2 for all protocol versions, but some\n+            // implementations reject messages they don't know. As a courtesy, don't send\n+            // it to nodes with a version before 70016, as no software is known to support\n+            // BIP155 that doesn't announce at least that protocol version number.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#discussion_r535865759",
      "id" : 535865759,
      "line" : 2372,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTg2NTc1OQ==",
      "original_commit_id" : "152b0be70ab5e910a6682d2178c2e81c781a2f9b",
      "original_line" : 2372,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 9,
      "pull_request_review_id" : 544686148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20564",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-04T06:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/535865759",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "(Added 0.21 milestone for now)",
      "created_at" : "2020-12-04T06:29:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20564#issuecomment-738594859",
      "id" : 738594859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20564",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODU5NDg1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T06:29:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738594859",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
