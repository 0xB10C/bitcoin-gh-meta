[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but you can't break compatibility by reordering another argument to `listreceivedbyaddress`. It's also unnecessary I think; you can specify \"null\" to get the default.",
      "created_at" : "2018-11-12T02:55:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#issuecomment-437736834",
      "id" : 437736834,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14707",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNzczNjgzNA==",
      "updated_at" : "2018-11-12T02:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437736834",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa Not sure how to pass \"null\" as `address_filter` parameter without breaking https://github.com/bitcoin/bitcoin/pull/14417.",
      "created_at" : "2018-11-12T04:11:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#issuecomment-437747917",
      "id" : 437747917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14707",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNzc0NzkxNw==",
      "updated_at" : "2018-11-12T04:11:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437747917",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232539375"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232539375"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can't you just check if `address_filter` is an empty string?",
      "commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "created_at" : "2018-11-12T05:41:22Z",
      "diff_hunk" : "@@ -1028,13 +1045,18 @@ static UniValue ListReceived(interfaces::Chain::Lock& locked_chain, CWallet * co\n         if(params[2].get_bool())\n             filter = filter | ISMINE_WATCH_ONLY;\n \n+    bool include_coinbase = false;\n+    if (!params[3].isNull()) {\n+        include_coinbase = params[3].get_bool();\n+    }\n+\n     bool has_filtered_address = false;\n     CTxDestination filtered_address = CNoDestination();\n-    if (!by_label && params.size() > 3) {\n-        if (!IsValidDestinationString(params[3].get_str())) {\n+    if (!by_label && params.size() > 4) {\n+        if (!IsValidDestinationString(params[4].get_str())) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232539375",
      "id" : 232539375,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjUzOTM3NQ==",
      "original_commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "original_position" : 110,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 110,
      "pull_request_review_id" : 173757114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707",
      "updated_at" : "2018-11-12T05:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232539375",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232628441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232628441"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Breaking change here, don't change argument order, description above is correct.",
      "commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "created_at" : "2018-11-12T11:49:04Z",
      "diff_hunk" : "@@ -1164,15 +1186,16 @@ static UniValue listreceivedbyaddress(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 4)\n+    if (request.fHelp || request.params.size() > 5)\n         throw std::runtime_error(\n-            \"listreceivedbyaddress ( minconf include_empty include_watchonly address_filter )\\n\"\n+            \"listreceivedbyaddress ( minconf include_empty include_watchonly address_filter include_coinbase )\\n\"\n             \"\\nList balances by receiving address.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. minconf           (numeric, optional, default=1) The minimum number of confirmations before payments are included.\\n\"\n             \"2. include_empty     (bool, optional, default=false) Whether to include addresses that haven't received any payments.\\n\"\n             \"3. include_watchonly (bool, optional, default=false) Whether to include watch-only addresses (see 'importaddress').\\n\"\n-            \"4. address_filter    (string, optional) If present, only return information on this address.\\n\"\n+            \"4. include_coinbase  (bool, optional, default=false) Whether to include coinbase transactions.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232628441",
      "id" : 232628441,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjYyODQ0MQ==",
      "original_commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "original_position" : 142,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 142,
      "pull_request_review_id" : 173864445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707",
      "updated_at" : "2018-11-12T11:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232628441",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630167"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be 4.",
      "commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "created_at" : "2018-11-12T11:55:59Z",
      "diff_hunk" : "@@ -41,13 +41,17 @@ static const CRPCConvertParam vRPCConvertParams[] =\n     { \"settxfee\", 0, \"amount\" },\n     { \"sethdseed\", 0, \"newkeypool\" },\n     { \"getreceivedbyaddress\", 1, \"minconf\" },\n+    { \"getreceivedbyaddress\", 2, \"include_coinbase\" },\n     { \"getreceivedbylabel\", 1, \"minconf\" },\n+    { \"getreceivedbylabel\", 2, \"include_coinbase\" },\n     { \"listreceivedbyaddress\", 0, \"minconf\" },\n     { \"listreceivedbyaddress\", 1, \"include_empty\" },\n     { \"listreceivedbyaddress\", 2, \"include_watchonly\" },\n+    { \"listreceivedbyaddress\", 3, \"include_coinbase\" },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630167",
      "id" : 232630167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjYzMDE2Nw==",
      "original_commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "original_position" : 10,
      "path" : "src/rpc/client.cpp",
      "position" : 10,
      "pull_request_review_id" : 173864445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707",
      "updated_at" : "2018-11-12T11:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630167",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630273"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing new argument.",
      "commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "created_at" : "2018-11-12T11:56:25Z",
      "diff_hunk" : "@@ -1215,14 +1239,15 @@ static UniValue listreceivedbylabel(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 3)\n+    if (request.fHelp || request.params.size() > 4)\n         throw std::runtime_error(\n             \"listreceivedbylabel ( minconf include_empty include_watchonly)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630273",
      "id" : 232630273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjYzMDI3Mw==",
      "original_commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "original_position" : 164,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 164,
      "pull_request_review_id" : 173864445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707",
      "updated_at" : "2018-11-12T11:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630458"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Missing new argument.",
      "commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "created_at" : "2018-11-12T11:56:47Z",
      "diff_hunk" : "@@ -624,13 +632,14 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2)\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 3)\n         throw std::runtime_error(\n             \"getreceivedbylabel \\\"label\\\" ( minconf )\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#discussion_r232630458",
      "id" : 232630458,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjYzMDQ1OA==",
      "original_commit_id" : "f3d8ca1f983fb44484a4b392c8ea2d6fbe928df9",
      "original_position" : 53,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 53,
      "pull_request_review_id" : 173864445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14707",
      "updated_at" : "2018-11-12T11:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232630458",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Do we know a usecase where anyone would want this behaviour? It seems transparently broken to me.\r\n\r\nIf not, I think I would prefer we fix it and have a LOUD release note about the change, and if we're feeling especially conservative have a hidden config option to restore the old behaviour which we can drop after a couple releases if no one reports needing it.\r\n\r\nHaving an option presents a perpetual usage complexity increase, and defaulting the option to the old behaviour risks users being messed up  by continuing to miss these payments.\r\n\r\nOne thing to consider, however, is that coinbase payments have different deconfirmation risks then general transactions... and cannot be spent for 100 blocks. E.g. you don't want service that accept a 1 conf deposit and withdraw being exploited as a orphan risk eliminator. Nor do we want to undermine parties cashflow handling by causing them to think they can spend more now than they can. There is justification for treating coinbase payments differently (e.g. only showing them once they're spendable), just not for hiding them completely.   Having a \"include coinbase payments yes/no\" doesn't solve these concerns. Having a \"delay them by 100 blocks, yes/no\" probably would.\r\n\r\nSo maybe I would suggest having an argument to hide them until maturity, defaulting on, a hidden option to get the old behaviour, defaulting off, to be removed once it's confirmed no one needs it, and a loud release note explaining the change.",
      "created_at" : "2018-11-12T20:21:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#issuecomment-438016042",
      "id" : 438016042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14707",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzODAxNjA0Mg==",
      "updated_at" : "2018-11-12T20:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/438016042",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@gmaxwell it is however useful to know if a payment was made regardless if it takes 100 blocks to be spendable?",
      "created_at" : "2018-11-12T20:34:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14707#issuecomment-438019511",
      "id" : 438019511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14707",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzODAxOTUxMQ==",
      "updated_at" : "2018-11-12T20:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/438019511",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
