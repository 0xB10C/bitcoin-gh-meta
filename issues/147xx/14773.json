{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "Issue:\r\nThe issue seems to be when you generate a new change address via \"getrawchangeaddress\" and setting a new label for it. When creating a new raw transaction, setting it to be replaceable, and using the new change address for one of the outputs in the raw tx. bumpfee throws an error \"Transaction does not have a change output\". If you do not perform the setlabel on the newly generated raw change address then bumpfee performs the \"bump\" correctly. \r\n\r\nSetup: \r\nv 0.17.0.1\r\n\r\nBehavior expected:\r\nbumpfee to notice any address in wallet as a potential \"change\" address or at least allowing a label to be set for being able to track specific labels being used for change addresses.\r\n\r\nSteps to reproduce:\r\n1. Generate new raw change address via \"getnewchangeaddress\"\r\n2. Set label for newly generated raw change address to whatever you want.\r\n2. Create raw transaction as replaceable with newly generated raw change address as one of the outputs.\r\n3. Sign & Send tx\r\n4. Perform bumpfee on raw txid \r\n5. Error \"Transaction does not have a change output\"\r\n\r\nThanks to all the devs btw, just wanted to express my appreciation for all you do",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14773/comments",
   "created_at" : "2018-11-21T03:07:09Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14773/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/14773",
   "id" : 382935984,
   "labels" : [
      {
         "color" : "0052cc",
         "default" : false,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "node_id" : "MDU6TGFiZWw5ODI3OTE3Nw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14773/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUzODI5MzU5ODQ=",
   "number" : 14773,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "bumpfee fails with \"Transaction does not have a change output\" when setting label for newly generated raw change address ",
   "updated_at" : "2018-11-22T09:53:24Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14773",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/32722557?v=4",
      "events_url" : "https://api.github.com/users/equalgeek/events{/privacy}",
      "followers_url" : "https://api.github.com/users/equalgeek/followers",
      "following_url" : "https://api.github.com/users/equalgeek/following{/other_user}",
      "gists_url" : "https://api.github.com/users/equalgeek/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/equalgeek",
      "id" : 32722557,
      "login" : "equalgeek",
      "node_id" : "MDQ6VXNlcjMyNzIyNTU3",
      "organizations_url" : "https://api.github.com/users/equalgeek/orgs",
      "received_events_url" : "https://api.github.com/users/equalgeek/received_events",
      "repos_url" : "https://api.github.com/users/equalgeek/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/equalgeek/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/equalgeek/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/equalgeek"
   }
}
