[
   {
      "body" : "https://bitcointalk.org/index.php?topic=337294.0\r\nBinaries of 0.8.5 containing this patch are available from this thread.",
      "created_at" : "2013-11-28T12:17:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29459857",
      "id" : 29459857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-28T12:17:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29459857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/d9fb93da74b3e76871455feb649ea3157b7b9107 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-11-28T12:28:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29460374",
      "id" : 29460374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-28T12:28:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29460374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Judging from the discussion on the leveldb issue page, this is not considered a full fix, and likely not what will be merged upstream (Sanjay hinted at dropping mmap entirely even, it seems).\r\n\r\nI'm fine with this change in 0.8.6 only as a quick fix, but it should probably go into the LevelDB repo in a side branch there first.",
      "created_at" : "2013-11-28T13:50:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29464657",
      "id" : 29464657,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-28T13:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29464657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Right, if this fixes the MacOS corruption then it's going to make a lot of people happy to upgrade to 0.8.6.\r\n \r\nAs soon as someone implements a better solution we can of course switch to that, and for master it may be preferable to wait for that...",
      "created_at" : "2013-11-28T16:49:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29475332",
      "id" : 29475332,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-28T16:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29475332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK. This is a full fix in that it fixes the source of the corruption. It wouldn't make sense to leave this unpatched in master or release branch now that it's known and understood. I'd say it should be pulled in as-is, and if upstream goes with a new implementation instead, we can swap it out at that point.",
      "created_at" : "2013-11-28T17:42:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29477934",
      "id" : 29477934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-28T17:42:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29477934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "https://code.google.com/p/leveldb/issues/detail?id=197\r\nThis is the associated upstream ticket?  Robert's patch is not mentioned.\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/2770#issuecomment-29541916\r\n@toffoo had a crash with Robert's patch.\r\n\r\nhttps://bitcointalk.org/index.php?topic=337294.msg3775189#msg3775189\r\ncfields found another issue that is likely related and another patch.\r\n\r\nhttps://bitcointalk.org/index.php?topic=337294.msg3775451#msg3775451\r\nNew build including both patches",
      "created_at" : "2013-11-30T05:08:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29546028",
      "id" : 29546028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-30T05:08:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29546028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "The upstream ticket has been open for a few months.  Sanjay will likely not close it until the next release of LevelDB which will contain a fix of some sort.\r\n\r\nThe scenario cfields describes is a non-issue.  He claims that we won't unmap the data for the second half of a write.  Unmapping the data is not required for any of LevelDB's correctness invariants.  The patch he suggests is effectively the same as setting the sync=true option for writes (which you are already doing).",
      "created_at" : "2013-11-30T20:12:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29560015",
      "id" : 29560015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-11-30T20:12:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29560015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1453649?v=3",
         "events_url" : "https://api.github.com/users/rescrv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rescrv/followers",
         "following_url" : "https://api.github.com/users/rescrv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rescrv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rescrv",
         "id" : 1453649,
         "login" : "rescrv",
         "organizations_url" : "https://api.github.com/users/rescrv/orgs",
         "received_events_url" : "https://api.github.com/users/rescrv/received_events",
         "repos_url" : "https://api.github.com/users/rescrv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rescrv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rescrv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rescrv"
      }
   },
   {
      "body" : "https://bitcointalk.org/index.php?topic=337294.msg3718821#msg3718821\r\nTwo separate Bitcoin builds are available for testing.\r\n\r\n* mactest1 build contains @rescrv's #3327 and follows https://github.com/bitcoin/bitcoin/commits/0.8.6\r\n* OMG8 contains #3340 and follows https://github.com/litecoin-project/bitcoinomg/commits/0.8.5-OMG8",
      "created_at" : "2013-12-03T06:47:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29687166",
      "id" : 29687166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-12-03T06:47:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29687166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "Closing in favor of not using mmap at all on MacOSX (#3340)",
      "created_at" : "2013-12-05T08:14:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3327#issuecomment-29878732",
      "id" : 29878732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3327",
      "updated_at" : "2013-12-05T08:14:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29878732",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
