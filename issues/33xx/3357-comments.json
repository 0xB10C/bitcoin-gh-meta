[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/4ef92a9067a51c962d662b857704f63d936effa0 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-12-04T15:02:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29811470",
      "id" : 29811470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T15:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29811470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Ack, also for 0.8.x (after it's merged and run for a few days in git). This appears intuitively safe.  I don't have a reproduction handy, so I don't have a good way to test it.",
      "created_at" : "2013-12-04T15:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29811795",
      "id" : 29811795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T15:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29811795",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I've tested with @wtogami's litecoin testnnet wallet, and with some additional debugging code added:\r\n\r\n    2013-12-04 15:50:31 RelayWalletTransaction(1ce01b9bf5776646fbff0a3d0fd0905379490e5b7b296fead5ca5e775b14f7e6)\r\n    2013-12-04 15:50:31   Not relaying wtx prev d21633ba23f70118185227be58a63527675641ad37967e2aa461559f577aec43\r\n    2013-12-04 15:50:31   Not relaying wtx prev d21633ba23f70118185227be58a63527675641ad37967e2aa461559f577aec43\r\n    2013-12-04 15:50:31   Relaying wtx prev be0badd502f113001d0e05ab4f2d1790f1461a749cd88511716744c82537cf41\r\n    2013-12-04 15:50:31   Relaying wtx prev c873a065f74f37706b6196e74f5d085d55f06d29c98000fb99327f3fe3c11d8b\r\n\r\nThe offending transaction is no longer being relayed.\r\nA point could be made that the other two transactions should also not be retransmitted, but you won't get banned for being noisy. This could be improved at some later time (it's not needed to solve the immediate issue in 0.8.x).\r\n",
      "created_at" : "2013-12-04T15:54:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29816974",
      "id" : 29816974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T15:55:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29816974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The excessive relays aren't just noisy, they're a privacy problem: You're not supposed to be able to tell if someone relaying you a txn is the original source, or just someone they're relaying through, but the noise is something other peers wouldn't produce. But no need to fix it all in one commit.",
      "created_at" : "2013-12-04T15:57:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29817336",
      "id" : 29817336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T15:57:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29817336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "ACK code change, though I wonder if you couldn't just call CheckTransaction. That would make it much more obvious that we won't send out anything that we couldn't have relayed from someone else.",
      "created_at" : "2013-12-04T17:03:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29823618",
      "id" : 29823618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T17:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29823618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gmaxwell Yes, there are certainly privacy issues as well with transaction retransmission, especially in retransmitting received transactions.\r\n\r\n@sipa That would be a more general solution. Maybe also place the check in RelayTransaction itself instead of specific callers?\r\n\r\nHowever, in this pull I tried to do the minimum to prevent the immediate issue, as this has the least impact and is easiest to test.",
      "created_at" : "2013-12-04T17:12:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29824501",
      "id" : 29824501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T17:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29824501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I think we should pull this first, test it, and ship it in 0.8.  Then in git call CheckTransaction. ",
      "created_at" : "2013-12-04T17:24:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29825587",
      "id" : 29825587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T17:24:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29825587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Ok, will merge this to master first.\r\nWhat about #3356? I think it important to have that one too, to prevent new empty transactions from being added to vtxPrev for new wallet transactions.",
      "created_at" : "2013-12-04T17:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3357#issuecomment-29826229",
      "id" : 29826229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3357",
      "updated_at" : "2013-12-04T17:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29826229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
