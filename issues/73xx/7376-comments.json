[
   {
      "body" : "This needs a BIP, especially for a Motivation section... ie, what's the use case?",
      "created_at" : "2016-01-18T21:38:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172660961",
      "id" : 172660961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-18T21:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172660961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I was wondering if I needed to add one :)\r\n\r\nI address the use case in a message I sent to the dev list:\r\n\r\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-December/011874.html\r\n\r\nI can certainly go into more detail in a BIP draft if that would be helpful. \r\n\r\nI was hoping it wouldn't need a BIP (although I can't see it hurting) since allowing non-zero OP_RETURNs seems like a bug that's worth fixing ASAP. For example, here is a transaction that was created with a PaymentRequest where value was forever lost:\r\n\r\nhttps://blockchain.info/tx/5d5ec1c999022ae16a728ed4abfc8882d067b519e28eac51baecbf2b8b49b860",
      "created_at" : "2016-01-18T21:43:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172662062",
      "id" : 172662062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-18T21:43:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172662062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/83556?v=3",
         "events_url" : "https://api.github.com/users/toby/events{/privacy}",
         "followers_url" : "https://api.github.com/users/toby/followers",
         "following_url" : "https://api.github.com/users/toby/following{/other_user}",
         "gists_url" : "https://api.github.com/users/toby/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/toby",
         "id" : 83556,
         "login" : "toby",
         "organizations_url" : "https://api.github.com/users/toby/orgs",
         "received_events_url" : "https://api.github.com/users/toby/received_events",
         "repos_url" : "https://api.github.com/users/toby/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/toby/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/toby/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/toby"
      }
   },
   {
      "body" : "> Hi all. I've been working on a new publication platform based on Bitcoin\r\n\r\nSo it's a spamming service. Not something we'd want to support.\r\n\r\n> I was hoping it wouldn't need a BIP (although I can't see it hurting) since allowing non-zero OP_RETURNs seems like a bug that's worth fixing ASAP.\r\n\r\nAllowing non-zero outputs would be a bug as it stands, since BIP 70 explicitly states: \"If the sum of outputs.amount is non-zero, then the customer will be asked to pay the sum, and the payment shall be split among the Outputs with non-zero amounts (if there are more than one; **Outputs with zero amounts shall be ignored).**\"\r\n",
      "created_at" : "2016-01-18T21:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172663436",
      "id" : 172663436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-18T21:51:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172663436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> So it's a spamming service. Not something we'd want to support.\r\n\r\nIt's an exploration into grouping transactions by OP_RETURN value, not meant for spamming :) Regardless, there are other use cases that would benefit from this. Essentially anything that uses OP_RETURN is currently incompatible with Payments. I'm happy to write up a BIP if this has any chance of going through.\r\n\r\n> Allowing non-zero outputs would be a bug as it stands, since BIP 70 explicitly states: \"If the sum of outputs.amount is non-zero, then the customer will be asked to pay the sum, and the payment shall be split among the Outputs with non-zero amounts (if there are more than one; Outputs with zero amounts shall be ignored).\"\r\n\r\nIt currently works as specified. If you give an OP_RETURN a > dust value, Bitcoin Core will process it (how I created that transaction on blockinfo). I can't imagine why this would be supported since it destroys value. \r\n\r\nThe two potential fixes are:\r\n\r\n1. Allow *only* zero value OP_RETURN in PaymentDetails as I suggest.\r\n2. Don't allow any OP_RETURN scripts.\r\n\r\nRight now we have a situation where only OP_RETURNs with value are supported which seems like the worst of all options.",
      "created_at" : "2016-01-18T21:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172665365",
      "id" : 172665365,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-18T21:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172665365",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/83556?v=3",
         "events_url" : "https://api.github.com/users/toby/events{/privacy}",
         "followers_url" : "https://api.github.com/users/toby/followers",
         "following_url" : "https://api.github.com/users/toby/following{/other_user}",
         "gists_url" : "https://api.github.com/users/toby/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/toby",
         "id" : 83556,
         "login" : "toby",
         "organizations_url" : "https://api.github.com/users/toby/orgs",
         "received_events_url" : "https://api.github.com/users/toby/received_events",
         "repos_url" : "https://api.github.com/users/toby/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/toby/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/toby/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/toby"
      }
   },
   {
      "body" : "For example, here is a PaymentRequest with a 6000 Satoshi value on an OP_RETURN output:\r\n\r\n`bitcoin:?r=http%3A%2F%2Fkey.run%2Fkr%2Fmessage%2Fpayreq%3Fmessage%3Dd295285dd45fd0c9a0e86095d8fe31ddb6a07dcb`\r\n\r\nBitcoin Core will currently open and process this transaction resulting in 6000 lost Satoshi.",
      "created_at" : "2016-01-18T22:12:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172668062",
      "id" : 172668062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-18T22:14:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172668062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/83556?v=3",
         "events_url" : "https://api.github.com/users/toby/events{/privacy}",
         "followers_url" : "https://api.github.com/users/toby/followers",
         "following_url" : "https://api.github.com/users/toby/following{/other_user}",
         "gists_url" : "https://api.github.com/users/toby/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/toby",
         "id" : 83556,
         "login" : "toby",
         "organizations_url" : "https://api.github.com/users/toby/orgs",
         "received_events_url" : "https://api.github.com/users/toby/received_events",
         "repos_url" : "https://api.github.com/users/toby/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/toby/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/toby/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/toby"
      }
   },
   {
      "body" : "I think it makes sense to support OP_RETURN with zero value outputs. We've had the spamming discussion multiple times, at least OP_RETURN is the least harmful (from the point of the UTXO set) of doing so. That's the reason it was added to IsStandard in the first place. It's perfectly possible to spam in other ways, but at least these outputs can be pruned.\r\n\r\nBut I do agree that it needs a BIP. Bitcoin Core is not the only software implementing PaymentRequests, so a change in this functionality needs to be signaled to a wider audience.\r\n",
      "created_at" : "2016-01-19T10:38:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172812949",
      "id" : 172812949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-19T10:38:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172812949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj There's quite a difference between passively tolerating some spam to avoid unintentionally tolerating worse spam, and actively enabling it. In this case, there is no worse-spam being prevented at all, and the user may not even be aware he is participating in spam!",
      "created_at" : "2016-01-19T17:09:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172920890",
      "id" : 172920890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-19T17:09:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172920890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@laanwj that sounds great! I will write up a BIP draft. \r\n\r\n@luke-jr hopefully the BIP will help. There are definitely non-spam applications for this. Also, this fixes non-zero value OP_RETURNs which are currently allowed. I doubt the user ever wants to destroy Bitcoin but BIP-70 allows for that. \r\n",
      "created_at" : "2016-01-19T17:23:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-172924829",
      "id" : 172924829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-19T17:23:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172924829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/83556?v=3",
         "events_url" : "https://api.github.com/users/toby/events{/privacy}",
         "followers_url" : "https://api.github.com/users/toby/followers",
         "following_url" : "https://api.github.com/users/toby/following{/other_user}",
         "gists_url" : "https://api.github.com/users/toby/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/toby",
         "id" : 83556,
         "login" : "toby",
         "organizations_url" : "https://api.github.com/users/toby/orgs",
         "received_events_url" : "https://api.github.com/users/toby/received_events",
         "repos_url" : "https://api.github.com/users/toby/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/toby/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/toby/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/toby"
      }
   },
   {
      "body" : "> and the user may not even be aware he is participating in spam!\r\n\r\nRight - the software should at least show that it is happening, so that it doesn't go behind the user's back.",
      "created_at" : "2016-01-20T10:46:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7376#issuecomment-173168821",
      "id" : 173168821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7376",
      "updated_at" : "2016-01-20T10:46:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173168821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
