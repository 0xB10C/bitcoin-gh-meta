{
   "assignee" : null,
   "assignees" : [],
   "body" : "This makes ModifyNewCoins more conservative in when it marks newly created outputs as FRESH.  The usage of ModifyNewCoins in the code base doesn't actually require this because its only ever used on a new cache, however I think its dangerous code that is just asking for a consensus mistake to be used in the future.  The comments in the code hopefully clarify a bit better the proper assumptions that need to be made going forward.\r\n\r\n\r\nEDIT: The changes to the unit test are a bit complicated, but they demonstrate the problem.  They fail without the prior commit.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 7,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9107/comments",
   "created_at" : "2016-11-08T21:07:02Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9107/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/9107",
   "id" : 188103357,
   "labels" : [
      {
         "color" : "fbca04",
         "default" : false,
         "id" : 97470796,
         "name" : "UTXO Db and Indexes",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9107/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9107,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/9107.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9107",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/9107.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9107"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Safer modify new coins",
   "updated_at" : "2016-12-01T22:19:09Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9107",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
      "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
      "followers_url" : "https://api.github.com/users/morcos/followers",
      "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/morcos",
      "id" : 4360349,
      "login" : "morcos",
      "organizations_url" : "https://api.github.com/users/morcos/orgs",
      "received_events_url" : "https://api.github.com/users/morcos/received_events",
      "repos_url" : "https://api.github.com/users/morcos/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/morcos"
   }
}
