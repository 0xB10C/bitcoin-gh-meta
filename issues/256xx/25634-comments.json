[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26094](https://github.com/bitcoin/bitcoin/pull/26094) (rpc: Return block hash & height in getbalances, gettransaction and getwalletinfo by aureleoules)\n* [#24897](https://github.com/bitcoin/bitcoin/pull/24897) ([Draft / POC] Silent Payments by w0xlt)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-18T20:07:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#issuecomment-1188249676",
      "id" : 1188249676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25634",
      "node_id" : "IC_kwDOABII585G00BM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1188249676/reactions"
      },
      "updated_at" : "2022-09-19T12:25:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1188249676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974244054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974244054"
         }
      },
      "author_association" : "MEMBER",
      "body" : "shouldn't the created wallet be blank whenever `DISABLE_PRIVATE_KEYS` is set?\r\n\r\n`./src/bitcoin-cli -regtest createwallet testing true false # disable keys and not blank`\r\n`./src/bitcoin-cli -regtest -rpcwallet=testing getwalletinfo`\r\n```json\r\n{\r\n  \"walletname\": \"testing\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"sqlite\",\r\n  \"balance\": 0.00000000,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 0.00000000,\r\n  \"txcount\": 0,\r\n  \"keypoolsize\": 0,\r\n  \"keypoolsize_hd_internal\": 0,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": false,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": true,\r\n  \"external_signer\": false,\r\n  \"blank\": false # shouldn't this be overridden by true?\r\n}\r\n```\r\n",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-09-19T13:24:24Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974244054",
      "id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5846EcjW",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1112246543,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974244054/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-19T13:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974244054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-09-19T13:29:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#issuecomment-1251024207",
      "id" : 1251024207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25634",
      "node_id" : "IC_kwDOABII585KkR1P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251024207/reactions"
      },
      "updated_at" : "2022-09-19T13:29:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1251024207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974650805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974650805"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As noted in the OP, `blank=false` overrides the default behavior.",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-09-19T20:12:51Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974650805",
      "id" : 974650805,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5846F_21",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1112825740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974650805/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-19T20:12:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974650805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974655175"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974655175"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes but does it make sense to create a wallet that is \"not blank\" and without private keys? I may be missing something",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-09-19T20:18:50Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r974655175",
      "id" : 974655175,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5846GA7H",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1112832016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974655175/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-19T20:19:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/974655175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r975260149"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975260149"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> However, for backwards compatibility, users can choose to override this in the RPC by doing blank=False.\r\n\r\nI guess that's the reason.",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-09-20T11:51:49Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r975260149",
      "id" : 975260149,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5846IUn1",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1113668658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975260149/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-20T11:51:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975260149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r991522408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/991522408"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The blank flag is basically a no-op for wallets without private keys. It's not necessarily a useful distinction.",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-10T17:45:24Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r991522408",
      "id" : 991522408,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5847GW5o",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1136360332,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/991522408/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-10T17:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/991522408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003467047"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003467047"
         }
      },
      "author_association" : "NONE",
      "body" : "I agree with @achow101 . Initially I was concerned that a bug in a future change might be introduced due to the apparent contradiction between disable_private_keys=true and blank=false, but after reading the tests, I understand that this might be posible after importing ADDRESSes and/or other elements. Am I right about this conclusion? Or am I missing something?   ",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-24T15:37:13Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003467047",
      "id" : 1003467047,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII5847z7En",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1153363035,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003467047/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-24T15:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003467047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/87907936?v=4",
         "events_url" : "https://api.github.com/users/hernanmarino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hernanmarino/followers",
         "following_url" : "https://api.github.com/users/hernanmarino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hernanmarino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hernanmarino",
         "id" : 87907936,
         "login" : "hernanmarino",
         "node_id" : "MDQ6VXNlcjg3OTA3OTM2",
         "organizations_url" : "https://api.github.com/users/hernanmarino/orgs",
         "received_events_url" : "https://api.github.com/users/hernanmarino/received_events",
         "repos_url" : "https://api.github.com/users/hernanmarino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hernanmarino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hernanmarino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hernanmarino"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003484743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003484743"
         }
      },
      "author_association" : "NONE",
      "body" : "Once we import private keys, does the flag `private_keys_enabled` change its value to `true`? If so, shouldn't we also be checking for the flag `private_keys_enabled` is `true` now, here in the test?",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-24T15:53:36Z",
      "diff_hunk" : "@@ -0,0 +1,127 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.address import (\n+    ADDRESS_BCRT1_UNSPENDABLE,\n+    ADDRESS_BCRT1_UNSPENDABLE_DESCRIPTOR,\n+)\n+from test_framework.key import ECKey\n+from test_framework.util import (\n+    assert_equal,\n+)\n+from test_framework.wallet_util import generate_wif_key\n+\n+\n+class WalletBlankTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_createwallet(self):\n+        self.log.info(\"Test that createwallet sets the blank flag when disableprivatekeys\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_w_blank\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_w_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+    def test_createwallet_override(self):\n+        self.log.info(\"Test that the blank flag can be overridden\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_wo_blank\", disable_private_keys=True, blank=False)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_wo_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importaddress(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importaddress unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"iaddr\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"iaddr\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+        wallet.importaddress(ADDRESS_BCRT1_UNSPENDABLE)\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importpubkey(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importpubkey unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"ipub\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"ipub\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+        eckey = ECKey()\n+        eckey.generate()\n+\n+        wallet.importpubkey(eckey.get_pubkey().get_bytes().hex())\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003484743",
      "id" : 1003484743,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII5847z_ZH",
      "original_commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "original_line" : 62,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "test/functional/wallet_blank.py",
      "position" : 62,
      "pull_request_review_id" : 1153388037,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003484743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-24T15:55:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003484743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003504609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003504609"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is a permanent flag. It cannot be changed, and attempting to import private keys into a wallet with it set will result in an error and nothing imported. This test is for importing public keys, not private keys.",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-24T16:12:53Z",
      "diff_hunk" : "@@ -0,0 +1,127 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.address import (\n+    ADDRESS_BCRT1_UNSPENDABLE,\n+    ADDRESS_BCRT1_UNSPENDABLE_DESCRIPTOR,\n+)\n+from test_framework.key import ECKey\n+from test_framework.util import (\n+    assert_equal,\n+)\n+from test_framework.wallet_util import generate_wif_key\n+\n+\n+class WalletBlankTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_createwallet(self):\n+        self.log.info(\"Test that createwallet sets the blank flag when disableprivatekeys\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_w_blank\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_w_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+    def test_createwallet_override(self):\n+        self.log.info(\"Test that the blank flag can be overridden\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_wo_blank\", disable_private_keys=True, blank=False)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_wo_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importaddress(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importaddress unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"iaddr\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"iaddr\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+        wallet.importaddress(ADDRESS_BCRT1_UNSPENDABLE)\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importpubkey(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importpubkey unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"ipub\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"ipub\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+        eckey = ECKey()\n+        eckey.generate()\n+\n+        wallet.importpubkey(eckey.get_pubkey().get_bytes().hex())\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003504609",
      "id" : 1003504609,
      "in_reply_to_id" : 1003484743,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII58470EPh",
      "original_commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "original_line" : 62,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "test/functional/wallet_blank.py",
      "position" : 62,
      "pull_request_review_id" : 1153416942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003504609/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-24T16:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003504609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003508817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003508817"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, `blank` will be unset once anything is imported or generated. The purpose of `blank` is to prevent the wallet from automatically generating keys for blank wallets since they appear the same as newly created wallets to the creation/setup code that runs during wallet loading. Since disabling private keys means that nothing can be generated anyways, blank isn't actually doing anything for such wallets. Additionally, once anything is imported, blank will be unset as well.",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-24T16:17:06Z",
      "diff_hunk" : "@@ -344,6 +344,11 @@ static RPCHelpMan createwallet()\n     uint64_t flags = 0;\n     if (!request.params[1].isNull() && request.params[1].get_bool()) {\n         flags |= WALLET_FLAG_DISABLE_PRIVATE_KEYS;\n+        // We want to set BLANK when DISABLE_PRIVATE_KEYS, but only if the user did not explicitly do blank=false\n+        // It can be set when blank is not provided; when it is provided, we handle it later",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1003508817",
      "id" : 1003508817,
      "in_reply_to_id" : 974244054,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII58470FRR",
      "original_commit_id" : "79b7520a2ea024b995a750d9858c0cbdfca396df",
      "original_line" : 348,
      "original_position" : 5,
      "original_start_line" : 347,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 5,
      "pull_request_review_id" : 1153422724,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003508817/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "updated_at" : "2022-10-24T16:17:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1003508817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1004618290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1004618290"
         }
      },
      "author_association" : "NONE",
      "body" : "Oh! Right, my bad, thanks for the clarification! I think I got confused with the following test which is `test_importprivkey`, but it doesn't have `private_keys_enabled` set to false either. I see what you're saying about the error trying to import private keys into a wallet with `WALLET_FLAG_DISABLE_PRIVATE_KEYS` on another test:\r\nhttps://github.com/bitcoin/bitcoin/blob/3c1e75ef607000b265c15b47b32485cd95c1245d/test/functional/wallet_importdescriptors.py#L225-L230\r\n",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-10-25T15:09:24Z",
      "diff_hunk" : "@@ -0,0 +1,127 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or https://www.opensource.org/licenses/mit-license.php.\n+\n+import os\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.address import (\n+    ADDRESS_BCRT1_UNSPENDABLE,\n+    ADDRESS_BCRT1_UNSPENDABLE_DESCRIPTOR,\n+)\n+from test_framework.key import ECKey\n+from test_framework.util import (\n+    assert_equal,\n+)\n+from test_framework.wallet_util import generate_wif_key\n+\n+\n+class WalletBlankTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_createwallet(self):\n+        self.log.info(\"Test that createwallet sets the blank flag when disableprivatekeys\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_w_blank\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_w_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+    def test_createwallet_override(self):\n+        self.log.info(\"Test that the blank flag can be overridden\")\n+        self.nodes[0].createwallet(wallet_name=\"disable_privs_wo_blank\", disable_private_keys=True, blank=False)\n+        wallet = self.nodes[0].get_wallet_rpc(\"disable_privs_wo_blank\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importaddress(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importaddress unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"iaddr\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"iaddr\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+        wallet.importaddress(ADDRESS_BCRT1_UNSPENDABLE)\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+\n+    def test_importpubkey(self):\n+        if self.options.descriptors:\n+            return\n+        self.log.info(\"Test that importpubkey unsets the blank flag\")\n+        self.nodes[0].createwallet(wallet_name=\"ipub\", disable_private_keys=True)\n+        wallet = self.nodes[0].get_wallet_rpc(\"ipub\")\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], True)\n+\n+        eckey = ECKey()\n+        eckey.generate()\n+\n+        wallet.importpubkey(eckey.get_pubkey().get_bytes().hex())\n+        assert_equal(wallet.getwalletinfo()[\"blank\"], False)\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1004618290",
      "id" : 1004618290,
      "in_reply_to_id" : 1003484743,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII58474UIy",
      "original_commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "original_line" : 62,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "test/functional/wallet_blank.py",
      "position" : 62,
      "pull_request_review_id" : 1155003228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1004618290/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-25T15:09:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1004618290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1020589655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1020589655"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In 44e30c5aa98703b68267924bbbbb745e9242e969 \"wallet: Ensure that the blank wallet flag is unset after imports\"\r\n\r\nIt is not clear to me how the other changes in this PR result in this behavior change. Especially since it appears to only be happening once a wallet is encrypted. After the changes in this PR, running `listdescriptors` before a wallet is encrypted produces drastically different results than when it is run afterwards.\r\n`listdescriptors` before the wallet is encrypted:\r\n```\r\n{'wallet_name': 'w2', 'descriptors': [{'desc': \"wpkh([80002067/84'/1'/0']tpubDCMVLhErorrAGfApiJSJzEKwqeaf2z3NrkVMxgYQjZLzMjXMBeRw2muGNYbvaekAE8rUFLftyEar4LdrG2wXyyTJQZ26zptmeTEjPTaATts/0/*)#yz2uu6mw\", 'timestamp': 1296688602, 'active': False, 'range': [0, 0], 'next': 0}]}\r\n```\r\n`listdescriptors` after the wallet is encrypted:\r\n```\r\n{'wallet_name': 'w2', 'descriptors': [{'desc': \"wpkh([80002067/84'/1'/0']tpubDCMVLhErorrAGfApiJSJzEKwqeaf2z3NrkVMxgYQjZLzMjXMBeRw2muGNYbvaekAE8rUFLftyEar4LdrG2wXyyTJQZ26zptmeTEjPTaATts/0/*)#yz2uu6mw\", 'timestamp': 1296688602, 'active': False, 'range': [0, 0], 'next': 0}, {'desc': \"pkh([5dc1e209/44'/1'/0']tpubDDfjWivrLDGEU679nu8YgTDPUALX9bUppvdXXk19TDAaecSNxMH8vPZBeRRjaDqKUYgEd3UzZWS4rt5qsAWQW2qktupQZR1MnSnAZ7L85Cn/0/*)#rx0cg4z2\", 'timestamp': 1668205361, 'active': True, 'internal': False, 'range': [0, 0], 'next': 0}, {'desc': \"wpkh([5dc1e209/84'/1'/0']tpubDD42XKtjCmM9u18pwcFj5VNPoh4QZn6fDuHq5ypo5ZvZrsMguRRd5YvDjKX6BLKz393V9QpeouE95eHeaugv3FM6LVqTo9f2phTPQvw65xy/0/*)#q3r4f8hn\", 'timestamp': 1668205361, 'active': True, 'internal': False, 'range': [0, 0], 'next': 0}, {'desc': \"pkh([5dc1e209/44'/1'/0']tpubDDfjWivrLDGEU679nu8YgTDPUALX9bUppvdXXk19TDAaecSNxMH8vPZBeRRjaDqKUYgEd3UzZWS4rt5qsAWQW2qktupQZR1MnSnAZ7L85Cn/1/*)#jj2e4qjj\", 'timestamp': 1668205361, 'active': True, 'internal': True, 'range': [0, 0], 'next': 0}, {'desc': \"sh(wpkh([5dc1e209/49'/1'/0']tpubDCVSqsf6kfUFDo28Vq3Lsrt9FXVqtohxWFxufkxubWT4Kh9z5RfmcxZmgKPBsWvboazFWNqnA9YHmQNrtfCvxTU8mch4yzxcMshqCWXtt9u/0/*))#8s9y4eu7\", 'timestamp': 1668205361, 'active': True, 'internal': False, 'range': [0, 0], 'next': 0}, {'desc': \"tr([5dc1e209/86'/1'/0']tpubDDMfjHg7VtGGjDiXv3ohgm7NTpm6ue5XnXdJBx9NZ8PgrSdLAQ1DjnYnxNiQKJcB6ZaoQo7WjZo7iTXVzdBgW38KM5BRsJJzXtDUSSjehRU/0/*)#60q6ankn\", 'timestamp': 1668205361, 'active': True, 'internal': False, 'range': [0, 0], 'next': 0}, {'desc': \"tr([5dc1e209/86'/1'/0']tpubDDMfjHg7VtGGjDiXv3ohgm7NTpm6ue5XnXdJBx9NZ8PgrSdLAQ1DjnYnxNiQKJcB6ZaoQo7WjZo7iTXVzdBgW38KM5BRsJJzXtDUSSjehRU/1/*)#tm9mqxxt\", 'timestamp': 1668205361, 'active': True, 'internal': True, 'range': [0, 0], 'next': 0}, {'desc': \"sh(wpkh([5dc1e209/49'/1'/0']tpubDCVSqsf6kfUFDo28Vq3Lsrt9FXVqtohxWFxufkxubWT4Kh9z5RfmcxZmgKPBsWvboazFWNqnA9YHmQNrtfCvxTU8mch4yzxcMshqCWXtt9u/1/*))#j3tjdxfp\", 'timestamp': 1668205361, 'active': True, 'internal': True, 'range': [0, 0], 'next': 0}, {'desc': \"wpkh([5dc1e209/84'/1'/0']tpubDD42XKtjCmM9u18pwcFj5VNPoh4QZn6fDuHq5ypo5ZvZrsMguRRd5YvDjKX6BLKz393V9QpeouE95eHeaugv3FM6LVqTo9f2phTPQvw65xy/1/*)#39x55j8t\", 'timestamp': 1668205361, 'active': True, 'internal': True, 'range': [0, 0], 'next': 0}]}\r\n```",
      "commit_id" : "4c936c8af2a2a8373c8b8082d6bc4d798c8193b4",
      "created_at" : "2022-11-11T22:18:46Z",
      "diff_hunk" : "@@ -89,12 +89,12 @@ def run_test(self):\n \n         self.log.info(\"Test listdescriptors with encrypted wallet\")\n         wallet.encryptwallet(\"pass\")\n-        assert_equal(expected, wallet.listdescriptors())\n+        assert expected[\"descriptors\"][0] in wallet.listdescriptors()[\"descriptors\"]\n \n         self.log.info('Test list private descriptors with encrypted wallet')\n         assert_raises_rpc_error(-13, 'Please enter the wallet passphrase with walletpassphrase first.', wallet.listdescriptors, True)\n         wallet.walletpassphrase(passphrase=\"pass\", timeout=1000000)\n-        assert_equal(expected_private, wallet.listdescriptors(True))\n+        assert expected_private[\"descriptors\"][0] in wallet.listdescriptors(True)[\"descriptors\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25634#discussion_r1020589655",
      "id" : 1020589655,
      "line" : 97,
      "node_id" : "PRRC_kwDOABII58481PZX",
      "original_commit_id" : "44e30c5aa98703b68267924bbbbb745e9242e969",
      "original_line" : 97,
      "original_position" : 11,
      "original_start_line" : 92,
      "path" : "test/functional/wallet_listdescriptors.py",
      "position" : 11,
      "pull_request_review_id" : 1177904870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25634",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1020589655/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 92,
      "start_side" : "LEFT",
      "updated_at" : "2022-11-11T22:41:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1020589655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   }
]
