[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The current `BResult` class is definitely very crippled, and needs to be improved to return real error handling information, not just an error reporting string.\r\n\r\nIronically the original implementation #25218 that had `T m_result;` and `std::optional<bilingual_str> m_error` members was not crippled, and was perfectly capable of returning rich error handling information. But after that (against all rationality!) the implementation was changed to use a `std::variant` so no information about the error could be returned other than the reporting string.\r\n\r\nThis PR (as of 09b796a7c7f62e1d24f7b173825b7dd4409e91b4) adds back the ability to return structured error handling information, but it loses the ability to return standard error reporting information. So it is one step forward, one step backwards, IMO.\r\n\r\nI think a better solution is possible that:\r\n- adds back ability to return arbitrary data for error handling (like this PR)\r\n- doesn't drop the standard error reporting format, which I think we can expand and build more utilities around for more complete reporting and less boilerplate (unlike this PR)\r\n- doesn't require changing existing BResult usages (unlike this PR)\r\n\r\nI had started writing up a version of this today built on #25308. Will try to post in the next few days and we can compare notes.",
      "created_at" : "2022-07-13T03:11:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25601#issuecomment-1182714764",
      "id" : 1182714764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25601",
      "node_id" : "IC_kwDOABII585GfsuM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182714764/reactions"
      },
      "updated_at" : "2022-07-13T03:11:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182714764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Would add I don't think iterations on the `BResult` class should hold up either PR #25594 or #25308. I think both PR's are in a good state and would be good to merge when they have enough review.",
      "created_at" : "2022-07-13T03:20:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25601#issuecomment-1182719292",
      "id" : 1182719292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25601",
      "node_id" : "IC_kwDOABII585Gft08",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182719292/reactions"
      },
      "updated_at" : "2022-07-13T03:20:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1182719292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
