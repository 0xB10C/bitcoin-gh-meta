[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25494](https://github.com/bitcoin/bitcoin/pull/25494) (indexes: Stop using node internal types by ryanofsky)\n* [#25172](https://github.com/bitcoin/bitcoin/pull/25172) (refactor: use std:: prefix for std lib funcs by fanquake)\n* [#24232](https://github.com/bitcoin/bitcoin/pull/24232) (assumeutxo: add init and completion logic by jamesob)\n* [#22663](https://github.com/bitcoin/bitcoin/pull/22663) (dbwrapper: properly destroy objects in case CDBWrapper ctor throws by Crypt-iQ)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-16T01:40:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#issuecomment-1186051898",
      "id" : 1186051898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25623",
      "node_id" : "IC_kwDOABII585Gsbc6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186051898/reactions"
      },
      "updated_at" : "2022-07-19T12:09:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186051898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923260412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923260412"
         }
      },
      "author_association" : "MEMBER",
      "body" : "first commit: commit message is wrong, you aren't touching `CCoinsViewDB`",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T11:33:01Z",
      "diff_hunk" : "@@ -114,48 +114,48 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923260412",
      "id" : 923260412,
      "line" : 116,
      "node_id" : "PRRC_kwDOABII5843B9X8",
      "original_commit_id" : "52dcc69b9a6725478f849e7d6fdfc086abdeb1cc",
      "original_line" : 116,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/dbwrapper.cpp",
      "position" : 21,
      "pull_request_review_id" : 1041705179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923260412/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T12:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923260412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923265848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923265848"
         }
      },
      "author_association" : "MEMBER",
      "body" : "2708fcb2accf4baae6652c7d5d9267550eff0c09: Why is this false?",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T11:37:57Z",
      "diff_hunk" : "@@ -84,7 +92,15 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n         // filesystem lock.\n         m_db.reset();\n         m_db = std::make_unique<CDBWrapper>(\n-            m_ldb_path, new_cache_size, m_is_memory, /*fWipe=*/false, /*obfuscate=*/true);\n+            CDBWrapper::Options{\n+                .db_path = m_ldb_path,\n+                .cache_size = new_cache_size,\n+                .in_memory = m_is_memory,\n+                .wipe_existing = false,\n+                .obfuscate_data = true,\n+                .do_compact = false,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923265848",
      "id" : 923265848,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843B-s4",
      "original_commit_id" : "2708fcb2accf4baae6652c7d5d9267550eff0c09",
      "original_line" : 101,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/txdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1041705179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923265848/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T12:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923265848",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923272844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923272844"
         }
      },
      "author_association" : "MEMBER",
      "body" : "54ccfa7dc0f26d3fa4390252c78afdd0fe12bbfb: Did you mean to add any file(s) to the iwyu CI?",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T11:43:47Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n #include <chainparams.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923272844",
      "id" : 923272844,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII5843CAaM",
      "original_commit_id" : "54ccfa7dc0f26d3fa4390252c78afdd0fe12bbfb",
      "original_line" : 8,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/bench/checkblock.cpp",
      "position" : 1,
      "pull_request_review_id" : 1041705179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923272844/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T12:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923272844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923296033"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923296033"
         }
      },
      "author_association" : "MEMBER",
      "body" : "1ed5723bc9c69bf2d7c2a902e44f3fc46b1165a7: It is highly illegal to use `gArgs` in init.cpp in new code, when `args` can be used.",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T12:04:13Z",
      "diff_hunk" : "@@ -1439,22 +1439,26 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     for (bool fLoaded = false; !fLoaded && !ShutdownRequested();) {\n         node.mempool = std::make_unique<CTxMemPool>(mempool_opts);\n \n+        const bool fReset = fReindex;\n+\n         const ChainstateManager::Options chainman_opts{\n             .chainparams = chainparams,\n             .adjusted_time_callback = GetAdjustedTime,\n+            .block_tree_db_opts = {\n+                .db_path = gArgs.GetDataDirNet() / \"blocks\" / \"index\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923296033",
      "id" : 923296033,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843CGEh",
      "original_commit_id" : "1ed5723bc9c69bf2d7c2a902e44f3fc46b1165a7",
      "original_line" : 1448,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1041705179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 2,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923296033/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T12:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923296033",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699272"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is a behavior change that I should probably document in the commit message. But I'd also like to hear if others think this is reasonable:\r\n\r\nIn my mind, options like `wipe_existing` and `do_compact` are \"oneshot\" parameters that should be latched to `false` after they've been applied for the first time. So in places like `ResizeCache` I think it makes more sense to supply `false` for these.",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T18:36:27Z",
      "diff_hunk" : "@@ -84,7 +92,15 @@ void CCoinsViewDB::ResizeCache(size_t new_cache_size)\n         // filesystem lock.\n         m_db.reset();\n         m_db = std::make_unique<CDBWrapper>(\n-            m_ldb_path, new_cache_size, m_is_memory, /*fWipe=*/false, /*obfuscate=*/true);\n+            CDBWrapper::Options{\n+                .db_path = m_ldb_path,\n+                .cache_size = new_cache_size,\n+                .in_memory = m_is_memory,\n+                .wipe_existing = false,\n+                .obfuscate_data = true,\n+                .do_compact = false,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699272",
      "id" : 923699272,
      "in_reply_to_id" : 923265848,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843DohI",
      "original_commit_id" : "2708fcb2accf4baae6652c7d5d9267550eff0c09",
      "original_line" : 101,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/txdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1042315596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699272/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T18:36:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699543"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699543"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in b37269bedb",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T18:36:50Z",
      "diff_hunk" : "@@ -114,48 +114,48 @@ static leveldb::Options GetOptions(size_t nCacheSize)\n     return options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699543",
      "id" : 923699543,
      "in_reply_to_id" : 923260412,
      "line" : 116,
      "node_id" : "PRRC_kwDOABII5843DolX",
      "original_commit_id" : "52dcc69b9a6725478f849e7d6fdfc086abdeb1cc",
      "original_line" : 116,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/dbwrapper.cpp",
      "position" : 21,
      "pull_request_review_id" : 1042315982,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699543/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T18:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699543",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699807"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed in ed7ae6a08d ð ",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T18:37:11Z",
      "diff_hunk" : "@@ -1439,22 +1439,26 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     for (bool fLoaded = false; !fLoaded && !ShutdownRequested();) {\n         node.mempool = std::make_unique<CTxMemPool>(mempool_opts);\n \n+        const bool fReset = fReindex;\n+\n         const ChainstateManager::Options chainman_opts{\n             .chainparams = chainparams,\n             .adjusted_time_callback = GetAdjustedTime,\n+            .block_tree_db_opts = {\n+                .db_path = gArgs.GetDataDirNet() / \"blocks\" / \"index\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923699807",
      "id" : 923699807,
      "in_reply_to_id" : 923296033,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843Dopf",
      "original_commit_id" : "1ed5723bc9c69bf2d7c2a902e44f3fc46b1165a7",
      "original_line" : 1448,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1042316364,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699807/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T18:37:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923699807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923700467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923700467"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Unfortunately not... I think when we get to header pruning there will be a lot of IWYU additions, but it's too early and make the diffs more noisy.",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-18T18:38:06Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n #include <chainparams.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r923700467",
      "id" : 923700467,
      "in_reply_to_id" : 923272844,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII5843Dozz",
      "original_commit_id" : "54ccfa7dc0f26d3fa4390252c78afdd0fe12bbfb",
      "original_line" : 8,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/bench/checkblock.cpp",
      "position" : 1,
      "pull_request_review_id" : 1042317299,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923700467/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-18T18:38:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923700467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r924424930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924424930"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done in https://github.com/bitcoin/bitcoin/pull/25645",
      "commit_id" : "ed7ae6a08d5bb507b48468f5329e8f2fc57fbd2f",
      "created_at" : "2022-07-19T12:19:20Z",
      "diff_hunk" : "@@ -8,6 +8,7 @@\n #include <chainparams.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r924424930",
      "id" : 924424930,
      "in_reply_to_id" : 923272844,
      "line" : 8,
      "node_id" : "PRRC_kwDOABII5843GZri",
      "original_commit_id" : "54ccfa7dc0f26d3fa4390252c78afdd0fe12bbfb",
      "original_line" : 8,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/bench/checkblock.cpp",
      "position" : 1,
      "pull_request_review_id" : 1043331568,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924424930/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T12:19:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924424930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-19T21:14:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#issuecomment-1189556464",
      "id" : 1189556464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25623",
      "node_id" : "IC_kwDOABII585G5zDw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189556464/reactions"
      },
      "updated_at" : "2022-07-19T21:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189556464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-20T06:09:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#issuecomment-1189868169",
      "id" : 1189868169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25623",
      "node_id" : "IC_kwDOABII585G6_KJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189868169/reactions"
      },
      "updated_at" : "2022-07-20T06:09:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1189868169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926056802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926056802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"CDBWrapper: Pass in -forcecompactdb via ::Options\" (d29f09adfaed0abeff0243509cdd49e4f52ebf9a)\r\n\r\ngArgs access doesn't really belong in dbwrapper.h header either",
      "commit_id" : "961c86a113875366154175677ca4acc326c49e79",
      "created_at" : "2022-07-20T21:09:41Z",
      "diff_hunk" : "@@ -236,6 +237,7 @@ class CDBWrapper\n                 .in_memory = fMemory,\n                 .wipe_existing = fWipe,\n                 .obfuscate_data = obfuscate,\n+                .do_compact = gArgs.GetBoolArg(\"-forcecompactdb\", false),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926056802",
      "id" : 926056802,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843MoFi",
      "original_commit_id" : "d29f09adfaed0abeff0243509cdd49e4f52ebf9a",
      "original_line" : 240,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/dbwrapper.h",
      "position" : 12,
      "pull_request_review_id" : 1045680511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926056802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-20T21:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926056802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926057707"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926057707"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Use CDBWrapper::Options ctor for non-test callers\" (c5566d4899d75d9030901092ecf82c97e277d6c2)\r\n\r\nWould be good not to add news gArgs calls here and below",
      "commit_id" : "961c86a113875366154175677ca4acc326c49e79",
      "created_at" : "2022-07-20T21:10:56Z",
      "diff_hunk" : "@@ -44,9 +44,15 @@ CBlockLocator GetLocator(interfaces::Chain& chain, const uint256& block_hash)\n     return locator;\n }\n \n-BaseIndex::DB::DB(const fs::path& path, size_t n_cache_size, bool f_memory, bool f_wipe, bool f_obfuscate) :\n-    CDBWrapper(path, n_cache_size, f_memory, f_wipe, f_obfuscate)\n-{}\n+BaseIndex::DB::DB(const fs::path& path, size_t n_cache_size, bool f_memory, bool f_wipe, bool f_obfuscate)\n+    : CDBWrapper{{\n+          .db_path = path,\n+          .cache_size = n_cache_size,\n+          .in_memory = f_memory,\n+          .wipe_existing = f_wipe,\n+          .obfuscate_data = f_obfuscate,\n+          .do_compact = gArgs.GetBoolArg(\"-forcecompactdb\", false),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926057707",
      "id" : 926057707,
      "line" : 54,
      "node_id" : "PRRC_kwDOABII5843MoTr",
      "original_commit_id" : "c5566d4899d75d9030901092ecf82c97e277d6c2",
      "original_line" : 54,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/index/base.cpp",
      "position" : 14,
      "pull_request_review_id" : 1045680511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926057707/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-20T21:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926057707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926060247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926060247"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"CBlockTreeDB: Add ::Options, init with BlockManager\" (961c86a113875366154175677ca4acc326c49e79)\r\n\r\nShould probably use `abs_datadir` variable, not `gArgs`",
      "commit_id" : "961c86a113875366154175677ca4acc326c49e79",
      "created_at" : "2022-07-20T21:14:42Z",
      "diff_hunk" : "@@ -80,6 +80,10 @@ int main(int argc, char* argv[])\n     const ChainstateManager::Options chainman_opts{\n         .chainparams = chainparams,\n         .adjusted_time_callback = static_cast<int64_t (*)()>(GetTime),\n+        .block_tree_db_opts = {\n+            .db_path = gArgs.GetDataDirNet() / \"blocks\" / \"index\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926060247",
      "id" : 926060247,
      "line" : 84,
      "node_id" : "PRRC_kwDOABII5843Mo7X",
      "original_commit_id" : "961c86a113875366154175677ca4acc326c49e79",
      "original_line" : 84,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-chainstate.cpp",
      "position" : 5,
      "pull_request_review_id" : 1045680511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926060247/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-20T21:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926060247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926063485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926063485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Use CDBWrapper::Options ctor for non-test callers\" (c5566d4899d75d9030901092ecf82c97e277d6c2)\r\n\r\nMoving `gArgs.GetBoolArg(\"-forcecompactdb\", false)` call out of cdbwrapper code into txdb code seems like a step backwards or maybe sideways, since txdb code shouldn't be using ArgsManager either",
      "commit_id" : "961c86a113875366154175677ca4acc326c49e79",
      "created_at" : "2022-07-20T21:19:36Z",
      "diff_hunk" : "@@ -70,10 +71,17 @@ struct CoinEntry {\n \n } // namespace\n \n-CCoinsViewDB::CCoinsViewDB(fs::path ldb_path, size_t nCacheSize, bool fMemory, bool fWipe) :\n-    m_db(std::make_unique<CDBWrapper>(ldb_path, nCacheSize, fMemory, fWipe, true)),\n-    m_ldb_path(ldb_path),\n-    m_is_memory(fMemory) { }\n+CCoinsViewDB::CCoinsViewDB(fs::path ldb_path, size_t nCacheSize, bool fMemory, bool fWipe)\n+    : m_db{new CDBWrapper{{\n+          .db_path = ldb_path,\n+          .cache_size = nCacheSize,\n+          .in_memory = fMemory,\n+          .wipe_existing = fWipe,\n+          .obfuscate_data = true,\n+          .do_compact = gArgs.GetBoolArg(\"-forcecompactdb\", false),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#discussion_r926063485",
      "id" : 926063485,
      "line" : 81,
      "node_id" : "PRRC_kwDOABII5843Mpt9",
      "original_commit_id" : "c5566d4899d75d9030901092ecf82c97e277d6c2",
      "original_line" : 81,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txdb.cpp",
      "position" : 23,
      "pull_request_review_id" : 1045680511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25623",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926063485/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-20T21:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/926063485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky So I think we only add (net) 2 calls to gArgs, one in `src/index/` and one in `src/txdb`. I plan to remove the one in `src/txdb` in the next PR, and add an `ApplyArgsManOptions` function to this PR so that it's easier to remove the reference in `src/index/` in the future.\r\n\r\nIt is very difficult to maintain behavior and build-ability between commits without having to add oddly placed references to `gArgs` here and there (e.g. the one you pointed out in `dbwrapper.h`), since in order to correctly avoid the oddly placed `gArgs` references we'd have to bubble up the `CDBWrapper::Options` struct all the way to the top in a single commit. This would entail bubbling up both:\r\n\r\n1. `CDBWrapper::Options` through `CBlockTreeDB`, through `BlockManager`, through `ChainstateManager`, to `init` (currently done in this PR)\r\n2. `CDBWrapper::Options` through `CCoinsViewDB`, through `CoinsViews`, through `InitCoinsDB` (or, as I have it in my branch, through `CChainState`'s constructor), through `LoadChainstate`, to `init` (to be done in the next PR)\r\n\r\nin a single commit, which would likely be very hard to review. So we have to have some (admittedly awkward) resting points in these bubbling up chains just so that it's not a huge commit.\r\n\r\nI do admit that I can do a better job of adding code comments so that it's clear these `gArgs` references are not meant to stay. I'd also welcome discussing alternative strategies that I might not be thinking of right now.\r\n\r\n",
      "created_at" : "2022-07-21T20:34:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25623#issuecomment-1191907467",
      "id" : 1191907467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25623",
      "node_id" : "IC_kwDOABII585HCxCL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191907467/reactions"
      },
      "updated_at" : "2022-07-21T20:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1191907467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   }
]
