{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This PR is a client-side version of #18453, per review feedback there and [review club discussions](https://bitcoincore.reviews/18453#meeting-log).\r\n\r\nIt is an initial patch, kept deliberately simple to review, that updates `bitcoin-cli -getinfo` on the client side to display the balances for all loaded wallets.\r\n\r\nUnder the hood, it calls listwallets to fetch the names of the loaded wallets, then getbalances to fetch the ismine.trusted balance for each wallet. It also:\r\n- updates the `interface_bitcoin_cli` functional test coverage\r\n- fixes a bug where a passing an `-rpcwallet` argument for a non-existing wallet would cause `-getinfo` to display a default wallet balance of `null`.\r\n\r\nReviewers: you can test by building, loading/unloading several wallets with `bitcoin-cli loadwallet` and running `bitcoin-cli -getinfo`.\r\n\r\nNote that `wallet_multiwallet.py --usecli` provides regression test coverage on this change and is the best test to run, along with `interface_bitcoin_cli.py`.\r\n\r\nSome refactoring is needed to complete the work and make it robust, for instance extracting the error handling parse reply code in `CommandLineRPC` to a function that this code can call. The tests don't cover it, but calling `-getinfo` during rpc warmup shows the need; I'll propose that in a follow-up to keep this change easy to review.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594/comments",
   "created_at" : "2020-04-11T14:03:55Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594",
   "id" : 598272464,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDAyMTk0NjAx",
   "number" : 18594,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18594.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18594.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "cli: display multiwallet balances in -getinfo",
   "updated_at" : "2020-04-11T14:19:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   }
}
