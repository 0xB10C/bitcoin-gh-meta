[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\ninterface_bitcoin_cli.py  fails in no wallet job.",
      "created_at" : "2020-04-12T00:18:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612541685",
      "id" : 612541685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjU0MTY4NQ==",
      "updated_at" : "2020-04-12T00:18:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612541685",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks -- will look.",
      "created_at" : "2020-04-12T00:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612542823",
      "id" : 612542823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjU0MjgyMw==",
      "updated_at" : "2020-04-12T00:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612542823",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems this is in part reverting changes that were just merged in #18574 (split out of #18453), and refactoring to handle multiwallet.\r\n\r\nI understand splitting up changes, and maybe it doesn't matter so much in this instance, but it's a bit of code/review churn if we're PR'ing and merging refactors only to essentially undo the changes and do something else in a different PR a few hours later.",
      "created_at" : "2020-04-12T02:49:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612554560",
      "id" : 612554560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjU1NDU2MA==",
      "updated_at" : "2020-04-12T02:49:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612554560",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I empathise. See https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611429161.  #18574 was the only change that seemed to have consensus, so it seemed best to split it out for merge and propose client-side code in this PR to test and compare with the server-side code in #18453. Sometimes having and running working code helps debates move forward.",
      "created_at" : "2020-04-12T10:01:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612591094",
      "id" : 612591094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjU5MTA5NA==",
      "updated_at" : "2020-04-12T10:01:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612591094",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18453 (rpc, cli: add multiwallet balances rpc and use it in -getinfo by jonatack)\n* #17700 (cli: add -generate option by brakmic)\n* #16439 (RPC: support \"@height\" in place of blockhash for getblock etc by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-12T13:17:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612612881",
      "id" : 612612881,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjYxMjg4MQ==",
      "updated_at" : "2020-04-20T16:37:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612612881",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated with the following:\r\n- ensure it works when built without the wallet\r\n- extract the connection try/wait/failure logic to be callable for each connection, so we can use this for calling `listwallets` and `getbalances` to be more robust\r\n- drop an unused arg in `JSONRPCProcessBatchReply` as requested in https://github.com/bitcoin/bitcoin/pull/18574#discussion_r406526973\r\n",
      "created_at" : "2020-04-12T21:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-612679275",
      "id" : 612679275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjY3OTI3NQ==",
      "updated_at" : "2020-04-12T21:35:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612679275",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r407669164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407669164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "After commit _cli: extract connection try/wait/failure logic_, this throw no longer gets caught.",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-13T19:27:11Z",
      "diff_hunk" : "@@ -485,56 +500,58 @@ static int CommandLineRPC(int argc, char *argv[])\n             method = args[0];\n             args.erase(args.begin()); // Remove trailing method name from arguments vector\n         }\n-\n-        // Execute and handle connection failures with -rpcwait\n-        const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n-        do {\n-            try {\n-                const UniValue reply = CallRPC(rh.get(), method, args);\n-\n-                // Parse reply\n-                const UniValue& result = find_value(reply, \"result\");\n-                const UniValue& error  = find_value(reply, \"error\");\n-\n-                if (!error.isNull()) {\n-                    // Error\n-                    int code = error[\"code\"].get_int();\n-                    if (fWait && code == RPC_IN_WARMUP)\n-                        throw CConnectionFailed(\"server in warmup\");\n-                    strPrint = \"error: \" + error.write();\n-                    nRet = abs(code);\n-                    if (error.isObject())\n-                    {\n-                        UniValue errCode = find_value(error, \"code\");\n-                        UniValue errMsg  = find_value(error, \"message\");\n-                        strPrint = errCode.isNull() ? \"\" : \"error code: \"+errCode.getValStr()+\"\\n\";\n-\n-                        if (errMsg.isStr())\n-                            strPrint += \"error message:\\n\"+errMsg.get_str();\n-\n-                        if (errCode.isNum() && errCode.get_int() == RPC_WALLET_NOT_SPECIFIED) {\n-                            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+        UniValue reply = ConnectAndCallRPC(rh.get(), method, args);\n+\n+        // Parse reply\n+        UniValue result = find_value(reply, \"result\");\n+        const UniValue& error = find_value(reply, \"error\");\n+        if (!error.isNull()) {\n+            // Error\n+            int code = error[\"code\"].get_int();\n+            if (code == RPC_IN_WARMUP && gArgs.GetBoolArg(\"-rpcwait\", false)) {\n+                throw CConnectionFailed(\"server in warmup\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r407669164",
      "id" : 407669164,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2OTE2NA==",
      "original_commit_id" : "e9a271b15875926614a0e1196e44ee729dd0ce47",
      "original_line" : 512,
      "original_position" : 144,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 392376461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407669164",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept and approach ACK.",
      "created_at" : "2020-04-13T19:27:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-613055178",
      "id" : 613055178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzA1NTE3OA==",
      "updated_at" : "2020-04-13T19:27:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613055178",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r407730476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407730476"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks @jnewbery, good catch on the throw! Updated that commit as per:\r\n<details><summary>git diff e9a271b ed06899</summary>\r\n<p>\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-cli.cpp b/src/bitcoin-cli.cpp\r\nindex 53c6f3a655..18317574ad 100644\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -419,6 +420,13 @@ static UniValue ConnectAndCallRPC(BaseRequestHandler *rh, const std::string& str\r\n    const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\r\n     do {\r\n         try {\r\n             response = CallRPC(rh, strMethod, args, rpcwallet);\r\n+\r\n+            if (fWait) {\r\n+                const UniValue& error = find_value(response, \"error\");\r\n+                if (!error.isNull() && error[\"code\"].get_int() == RPC_IN_WARMUP) {\r\n+                    throw CConnectionFailed(\"server in warmup\");\r\n+                }\r\n+            }\r\n             break; // Connection succeeded, no need to retry.\r\n         }\r\n         catch (const CConnectionFailed&) {\r\n@@ -507,12 +514,8 @@ static int CommandLineRPC(int argc, char *argv[])\r\n         const UniValue& error = find_value(reply, \"error\");\r\n         if (!error.isNull()) {\r\n             // Error\r\n-            int code = error[\"code\"].get_int();\r\n-            if (code == RPC_IN_WARMUP && gArgs.GetBoolArg(\"-rpcwait\", false)) {\r\n-                throw CConnectionFailed(\"server in warmup\");\r\n-            }\r\n             strPrint = \"error: \" + error.write();\r\n-            nRet = abs(code);\r\n+            nRet = abs(error[\"code\"].get_int());\r\n             if (error.isObject()) {\r\n                 UniValue errCode = find_value(error, \"code\");\r\n                 UniValue errMsg  = find_value(error, \"message\");\r\n```\r\n</p>\r\n</details>\r\n",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-13T21:24:53Z",
      "diff_hunk" : "@@ -485,56 +500,58 @@ static int CommandLineRPC(int argc, char *argv[])\n             method = args[0];\n             args.erase(args.begin()); // Remove trailing method name from arguments vector\n         }\n-\n-        // Execute and handle connection failures with -rpcwait\n-        const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n-        do {\n-            try {\n-                const UniValue reply = CallRPC(rh.get(), method, args);\n-\n-                // Parse reply\n-                const UniValue& result = find_value(reply, \"result\");\n-                const UniValue& error  = find_value(reply, \"error\");\n-\n-                if (!error.isNull()) {\n-                    // Error\n-                    int code = error[\"code\"].get_int();\n-                    if (fWait && code == RPC_IN_WARMUP)\n-                        throw CConnectionFailed(\"server in warmup\");\n-                    strPrint = \"error: \" + error.write();\n-                    nRet = abs(code);\n-                    if (error.isObject())\n-                    {\n-                        UniValue errCode = find_value(error, \"code\");\n-                        UniValue errMsg  = find_value(error, \"message\");\n-                        strPrint = errCode.isNull() ? \"\" : \"error code: \"+errCode.getValStr()+\"\\n\";\n-\n-                        if (errMsg.isStr())\n-                            strPrint += \"error message:\\n\"+errMsg.get_str();\n-\n-                        if (errCode.isNum() && errCode.get_int() == RPC_WALLET_NOT_SPECIFIED) {\n-                            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+        UniValue reply = ConnectAndCallRPC(rh.get(), method, args);\n+\n+        // Parse reply\n+        UniValue result = find_value(reply, \"result\");\n+        const UniValue& error = find_value(reply, \"error\");\n+        if (!error.isNull()) {\n+            // Error\n+            int code = error[\"code\"].get_int();\n+            if (code == RPC_IN_WARMUP && gArgs.GetBoolArg(\"-rpcwait\", false)) {\n+                throw CConnectionFailed(\"server in warmup\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r407730476",
      "id" : 407730476,
      "in_reply_to_id" : 407669164,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczMDQ3Ng==",
      "original_commit_id" : "e9a271b15875926614a0e1196e44ee729dd0ce47",
      "original_line" : 512,
      "original_position" : 144,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 392450826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407730476",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Lone travis failure is a build timeout.",
      "created_at" : "2020-04-14T20:37:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-613668590",
      "id" : 613668590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMzY2ODU5MA==",
      "updated_at" : "2020-04-14T20:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/613668590",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-16T16:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-614752040",
      "id" : 614752040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDc1MjA0MA==",
      "updated_at" : "2020-04-16T16:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614752040",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, with improved tests.",
      "created_at" : "2020-04-16T18:54:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-614834919",
      "id" : 614834919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDgzNDkxOQ==",
      "updated_at" : "2020-04-16T18:54:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614834919",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409924320"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409924320"
         }
      },
      "author_association" : "MEMBER",
      "body" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c\r\n\r\n```diff\r\n     const size_t num {in.size()};\r\n     std::vector<UniValue> batch(num);\r\n-    for (size_t i=0; i<num; ++i) {\r\n-        const UniValue &rec = in[i];\r\n+    for (const UniValue &rec : in.getValues()) {\r\n         if (!rec.isObject()) {\r\n             throw std::runtime_error(\"Batch member must be an object\");\r\n```",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T00:28:22Z",
      "diff_hunk" : "@@ -130,20 +130,21 @@ void DeleteAuthCookie()\n     }\n }\n \n-std::vector<UniValue> JSONRPCProcessBatchReply(const UniValue &in, size_t num)\n+std::vector<UniValue> JSONRPCProcessBatchReply(const UniValue& in)\n {\n     if (!in.isArray()) {\n         throw std::runtime_error(\"Batch must be an array\");\n     }\n+    const size_t num {in.size()};\n     std::vector<UniValue> batch(num);\n-    for (size_t i=0; i<in.size(); ++i) {\n+    for (size_t i=0; i<num; ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409924320",
      "id" : 409924320,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkyNDMyMA==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 140,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/rpc/request.cpp",
      "position" : null,
      "pull_request_review_id" : 395086529,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409924320",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409928476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409928476"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason to drop this (and break existing scripts)? Especially when `-rpcwallet` is set - and in this case all balances aren't even necessary. And if `-rpcwallet` is not set but `listwallets` gives just one wallet then it could still show `\"balance\": ` after all, the  server is defaulting to the unique one.",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T00:42:36Z",
      "diff_hunk" : "@@ -275,9 +273,6 @@ class GetinfoRequestHandler: public BaseRequestHandler\n             }\n             result.pushKV(\"paytxfee\", batch[ID_WALLETINFO][\"result\"][\"paytxfee\"]);\n         }\n-        if (!batch[ID_BALANCES][\"result\"].isNull()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409928476",
      "id" : 409928476,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkyODQ3Ng==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 278,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 395086529,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409928476",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409932607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409932607"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for reviewing @promag. Hm, I don't know if API stability with -getinfo is an issue if it's intended for human use. With just the default wallet loaded the PR currently displays:\r\n```\r\n{\r\n  \"version\": 209900,\r\n  \"blocks\": 15599,\r\n  \"headers\": 15599,\r\n  \"verificationprogress\": 1,\r\n  \"timeoffset\": 0,\r\n  \"connections\": 0,\r\n  \"proxy\": \"\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chain\": \"regtest\",\r\n  \"keypoolsize\": 1000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"relayfee\": 0.00001000,\r\n  \"balances\": {\r\n    \"\": 0.00000000\r\n  }\r\n}\r\n```\r\nISTM it's better to display the balances consistently, whether one wallet or several?",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T00:59:03Z",
      "diff_hunk" : "@@ -275,9 +273,6 @@ class GetinfoRequestHandler: public BaseRequestHandler\n             }\n             result.pushKV(\"paytxfee\", batch[ID_WALLETINFO][\"result\"][\"paytxfee\"]);\n         }\n-        if (!batch[ID_BALANCES][\"result\"].isNull()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409932607",
      "id" : 409932607,
      "in_reply_to_id" : 409928476,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkzMjYwNw==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 278,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 395095500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:34:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409932607",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409935493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409935493"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's better -- thanks! Done.",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T01:09:43Z",
      "diff_hunk" : "@@ -130,20 +130,21 @@ void DeleteAuthCookie()\n     }\n }\n \n-std::vector<UniValue> JSONRPCProcessBatchReply(const UniValue &in, size_t num)\n+std::vector<UniValue> JSONRPCProcessBatchReply(const UniValue& in)\n {\n     if (!in.isArray()) {\n         throw std::runtime_error(\"Batch must be an array\");\n     }\n+    const size_t num {in.size()};\n     std::vector<UniValue> batch(num);\n-    for (size_t i=0; i<in.size(); ++i) {\n+    for (size_t i=0; i<num; ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409935493",
      "id" : 409935493,
      "in_reply_to_id" : 409924320,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkzNTQ5Mw==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 140,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/rpc/request.cpp",
      "position" : null,
      "pull_request_review_id" : 395098674,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409935493",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409935767"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409935767"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I mean that you could leave \"balance\" untouched and just add `balances`. Later we could drop it. Only a suggestion, but\r\n 1. if `-rpcwallet` is set why show all balances? Sounds conceptually wrong. Note that `getwalletinfo` uses that (or are you planning to call `getwalletinfo` for all wallets?)\r\n 2. this is not an API but it's a command people can use in scripts so why break it for no good reason?",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T01:10:42Z",
      "diff_hunk" : "@@ -275,9 +273,6 @@ class GetinfoRequestHandler: public BaseRequestHandler\n             }\n             result.pushKV(\"paytxfee\", batch[ID_WALLETINFO][\"result\"][\"paytxfee\"]);\n         }\n-        if (!batch[ID_BALANCES][\"result\"].isNull()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409935767",
      "id" : 409935767,
      "in_reply_to_id" : 409928476,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkzNTc2Nw==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 278,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 395098975,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409935767",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409938189"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409938189"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, `getwalletinfo` adds a \"walletname\" field when `-rpcwallet` is set, but -getinfo does not. (FWIW it's odd that some field names use underscores and others don't... I'm guessing the snakecased ones are newer). It's late but I'll think about this.",
      "commit_id" : "ea59b18387c4b26240e1f087c568408922b3c940",
      "created_at" : "2020-04-17T01:19:44Z",
      "diff_hunk" : "@@ -275,9 +273,6 @@ class GetinfoRequestHandler: public BaseRequestHandler\n             }\n             result.pushKV(\"paytxfee\", batch[ID_WALLETINFO][\"result\"][\"paytxfee\"]);\n         }\n-        if (!batch[ID_BALANCES][\"result\"].isNull()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r409938189",
      "id" : 409938189,
      "in_reply_to_id" : 409928476,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkzODE4OQ==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 278,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 395101613,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-17T01:19:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409938189",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r410137980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410137980"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note that if multiple wallets are loaded and if `-rpcwallet` is not set then `getwalletinfo` fails, which results in not displaying `keypoolsize` and `paytxfee`.\r\n\r\nSo I think if `-rpcwallet` is set (or just one wallet is loaded), `balances` shouldn't be displayed.",
      "commit_id" : "edfdf22e60ad6b0064029a730f5afd7e04bd567d",
      "created_at" : "2020-04-17T10:32:52Z",
      "diff_hunk" : "@@ -275,9 +273,6 @@ class GetinfoRequestHandler: public BaseRequestHandler\n             }\n             result.pushKV(\"paytxfee\", batch[ID_WALLETINFO][\"result\"][\"paytxfee\"]);\n         }\n-        if (!batch[ID_BALANCES][\"result\"].isNull()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#discussion_r410137980",
      "id" : 410137980,
      "in_reply_to_id" : 409928476,
      "line" : 278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDEzNzk4MA==",
      "original_commit_id" : "c2d63a8c05e14cdfdaae2ebca7a6b38907c31f1c",
      "original_line" : 278,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 395343537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18594",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-20T15:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/410137980",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK ea59b18387c4b26240e1f087c568408922b3c940\r\n\r\nBuilt, ran tests, tested manually by creating new wallet, transferring funds to it and unloading. Light code review.",
      "created_at" : "2020-04-18T14:09:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-615877831",
      "id" : 615877831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNTg3NzgzMQ==",
      "updated_at" : "2020-04-18T14:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/615877831",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-20T12:04:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-616508918",
      "id" : 616508918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjUwODkxOA==",
      "updated_at" : "2020-04-20T12:04:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616508918",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "PR updated per @promag's review feedback to now display wallet names + balances for all loaded wallets only when more than one wallet is loaded and `-rpcwallet=` is not passed; otherwise, behavior is unchanged. @fanquake, this PR no longer touches the changes in #18574.\r\n\r\n@jnewbery, @promag, @michaelfolkson, can you please re-review?",
      "created_at" : "2020-04-20T18:01:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-616719195",
      "id" : 616719195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjcxOTE5NQ==",
      "updated_at" : "2020-04-20T19:50:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616719195",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, but I wonder why in 208be5a811eee4f4d4d336a9e47c2b36760621b5 this is hardcoded to `getinfo`? Couldn't this be generalized to any command with almost no extra work (return results grouped by wallet name), or am I missing something?\r\n\r\nedit: hmm after reading some of the linked issues it looks like this is trying to achieve something very specific, but my suggestion could be a future improvement on top of this.",
      "created_at" : "2020-04-20T22:08:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-616837752",
      "id" : 616837752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjgzNzc1Mg==",
      "updated_at" : "2020-04-20T22:15:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616837752",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @jb55, I agree, but there isn't currently consensus on what the server-side API interface should be and if one should be done at all. I learned from the first PR that a client-side version embedded into `-getinfo` as proposed here will be easier to merge due to more clear consensus and because it isn't subject to API constraints. I see this as a solution that can be merged now, and maybe a server-side one might emerge (or not) later, and could be called from -getinfo as well to batch the calls to `getbalances`. Don't hesitate to ACK if you'd like to see it move forward!",
      "created_at" : "2020-04-20T22:20:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18594#issuecomment-616841992",
      "id" : 616841992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18594",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjg0MTk5Mg==",
      "updated_at" : "2020-04-20T22:20:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616841992",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
