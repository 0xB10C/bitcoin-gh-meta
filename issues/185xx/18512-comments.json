[
   {
      "author_association" : "MEMBER",
      "body" : "cc @naumenkogs.",
      "created_at" : "2020-04-03T02:23:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608193711",
      "id" : 608193711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODE5MzcxMQ==",
      "updated_at" : "2020-04-03T02:23:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608193711",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~@practicalswift There may be opportunity to fuzz here: if SanityCheckASMap succeeds, then no input to Interpret should return 0.~~\r\n\r\nEDIT: Oh no, 0 can mean no match or error; it's still possible to reach no match.",
      "created_at" : "2020-04-03T03:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608209420",
      "id" : 608209420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODIwOTQyMA==",
      "updated_at" : "2020-04-03T04:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608209420",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18216 (test, build: Enable -Werror=sign-compare by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-03T08:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608314551",
      "id" : 608314551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODMxNDU1MQ==",
      "updated_at" : "2020-04-03T08:48:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608314551",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be nice to have the new code covered by some tests. Maybe the fuzzers?\r\n\r\n\r\n```diff\r\ndiff --git a/src/test/fuzz/asmap.cpp b/src/test/fuzz/asmap.cpp\r\nindex 7f3eef79a1..1ab5459b12 100644\r\n--- a/src/test/fuzz/asmap.cpp\r\n+++ b/src/test/fuzz/asmap.cpp\r\n@@ -25,4 +25,5 @@ void test_one_input(const std::vector<uint8_t>& buffer)\r\n         }\r\n     }\r\n     (void)net_addr.GetMappedAS(asmap);\r\n+    (void)SanityCheckASMap(asmap);\r\n }\r\n",
      "created_at" : "2020-04-03T13:30:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608434486",
      "id" : 608434486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODQzNDQ4Ng==",
      "updated_at" : "2020-04-03T13:30:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608434486",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 47192230486e9305abb7c1ce882a515cdfb0a8b5\r\nTested: did some bit-flipping and saw that sanity check does not pass anymore.\r\n\r\nThank you for working on this.",
      "created_at" : "2020-04-03T14:52:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608482116",
      "id" : 608482116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODQ4MjExNg==",
      "updated_at" : "2020-04-03T14:52:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608482116",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A few changes:\r\n* I've split out the changes into more commits\r\n* Made it an error to reach EOF without a RETURN instruction\r\n* Made the sanity checker slightly more tolerant (it now supports multiple jumps to the same location, a potential optimization that buildmap.py doesn't currently use).\r\n* Added a commit that makes failures in the Interpreter assertion failures, and adds a fuzz tester that verifies this does not happen with asmaps that pass SanityCheckASMap.\r\n\r\nI've verified that the fuzzer actually finds asmaps that pass the sanity check, and the Interpreter is run on it (by adding an early assertion failure in Interpreter). I'll try to share my corpus.",
      "created_at" : "2020-04-03T20:40:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18512#issuecomment-608648071",
      "id" : 608648071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18512",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODY0ODA3MQ==",
      "updated_at" : "2020-04-03T20:40:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608648071",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
