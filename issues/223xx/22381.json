{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This is #20980 rebased (to include the Boost Process fix), and with an additional commit (892d6897f1e613084aa0517a660eab2412308e6e) to fix running the `test-security-check` target for the macOS build. It should pass inside Guix, as well as when cross-compiling on Ubuntu, or building natively on macOS.\r\n\r\nNote that the `test-security-check` may output some warnings (similar too):\r\n```bash\r\nld: warning: passed two min versions (10.14, 11.4) for platform macOS. Using 11.4.\r\nld: warning: passed two min versions (10.14, 11.4) for platform macOS. Using 11.4.\r\nld: warning: passed two min versions (10.14, 10.14) for platform macOS. Using 10.14.\r\n```\r\nbut those can be ignored, and come about due to us passing `-platform_version` when `-mmacosx-version-min` is already part of `CC`.\r\n\r\nGuix builds for macOS and Windows:\r\n```bash\r\nbash-5.1# find guix-build-$(git rev-parse --short=12 HEAD)/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855  guix-build-892d6897f1e6/output/dist-archive/SKIPATTEST.TAG\r\n5333847b037ad9134b0ad6dd2a7b60cb6aadfdf424aa4a53a2266ad6484dc2d5  guix-build-892d6897f1e6/output/dist-archive/bitcoin-892d6897f1e6.tar.gz\r\n83f6af16f075fcda22f71c0f210cb9925435748c1456cdb1838d61785b34ee38  guix-build-892d6897f1e6/output/x86_64-apple-darwin18/SHA256SUMS.part\r\ne84c9fd7bfae3aa5ac87af8827a6614b06fadc4cd9a1da1deb85ec165223b94f  guix-build-892d6897f1e6/output/x86_64-apple-darwin18/bitcoin-892d6897f1e6-osx-unsigned.dmg\r\n3010f2c00cefc3fde0bc84a022613def29e035fdc29c7285e5f35583441c17d0  guix-build-892d6897f1e6/output/x86_64-apple-darwin18/bitcoin-892d6897f1e6-osx-unsigned.tar.gz\r\n02ae36ecf68d3959e3714958cd7a7d61e1511ce34cb472a8d5e06a507b424573  guix-build-892d6897f1e6/output/x86_64-apple-darwin18/bitcoin-892d6897f1e6-osx64.tar.gz\r\nb7ac955c52c343dd3448f03ee5372d18674780c6a4062f6c7007c3bc575909fc  guix-build-892d6897f1e6/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n28e8f9e57e3d3f53a45eaf090ae773a19a22a5cbd6d7b6ef1e0bf9729e131c7f  guix-build-892d6897f1e6/output/x86_64-w64-mingw32/bitcoin-892d6897f1e6-win-unsigned.tar.gz\r\n8a4254ae4549c4b02ef74548f601c5047120a18355d1db70ce2277a26a51814c  guix-build-892d6897f1e6/output/x86_64-w64-mingw32/bitcoin-892d6897f1e6-win64-debug.zip\r\n0a3097b31a2150a7856cf0f5e5024e2e05533362396ddc67e1a89817751904c9  guix-build-892d6897f1e6/output/x86_64-w64-mingw32/bitcoin-892d6897f1e6-win64-setup-unsigned.exe\r\n625cc950e9a006125d6bb38c01709b0c90ff7658a713cebacc0cbdf5bda93496  guix-build-892d6897f1e6/output/x86_64-w64-mingw32/bitcoin-892d6897f1e6-win64.zip\r\n``` \r\n\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22381/comments",
   "created_at" : "2021-07-01T13:01:59Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22381/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/22381",
   "id" : 934820350,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "bfd4f2",
         "default" : false,
         "description" : "",
         "id" : 1947349437,
         "name" : "Needs Guix build",
         "node_id" : "MDU6TGFiZWwxOTQ3MzQ5NDM3",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20Guix%20build"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22381/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 87,
      "created_at" : "2020-04-25T00:14:49Z",
      "creator" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/47",
      "id" : 5347322,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/47/labels",
      "node_id" : "MDk6TWlsZXN0b25lNTM0NzMyMg==",
      "number" : 47,
      "open_issues" : 8,
      "state" : "open",
      "title" : "22.0",
      "updated_at" : "2021-07-01T13:03:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/47"
   },
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NjgxODM2NTc3",
   "number" : 22381,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/22381.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22381",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/22381.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22381"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "guix: Test security-check sanity before performing them (with macOS)",
   "updated_at" : "2021-07-01T13:03:30Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22381",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
