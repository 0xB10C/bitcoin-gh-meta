[
   {
      "body" : "What operating system are you using?\r\nHow much memory/disk space is available?",
      "created_at" : "2016-10-24T01:05:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255627918",
      "id" : 255627918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T01:05:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255627918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "> Such as running out of memory on a VPS\r\n\r\nIf that's the case your filesystem may be corrupt, and of course data on it as well. \r\nYou should check it with fsck and make sure it's sound before bitcoind is suspected.",
      "created_at" : "2016-10-24T05:30:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255650955",
      "id" : 255650955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T05:30:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255650955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "A sudden shutdown (crash/kill) of bitcoind may lead to database corruption (which results in a re-sync from the scratch). I observed these types of corruptions often on VPS.\r\nFeatures like https://github.com/bitcoin/bitcoin/issues/8037 could be a relief in such cases... \r\n\r\nIMO applications with heavy database-interaction like bitcoind (UTXO set interaction) tend to loose integrity in force shutdown (crash/kill) situations.",
      "created_at" : "2016-10-24T06:11:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255655783",
      "id" : 255655783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T06:11:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255655783",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@fanquake, this is Fedora 24 with 1GB of RAM. That said, this is 100% reproducible for me with the given settings. It shouldn't depend on available RAM.\r\n\r\n@unsystemizer, the error is repeatable, and I don't think there is any situation where an OOM would lead to FS corruption.\r\n\r\nNote here that the issue isn't the database corruption, or the requirement that the re-sync happen - that's fine. The issue is that bitcoind hits an assert and exits immediately, rather than automatically starting a re-sync from scratch.",
      "created_at" : "2016-10-24T06:41:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255659892",
      "id" : 255659892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T06:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255659892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1308314?v=3",
         "events_url" : "https://api.github.com/users/tdaede/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tdaede/followers",
         "following_url" : "https://api.github.com/users/tdaede/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tdaede/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tdaede",
         "id" : 1308314,
         "login" : "tdaede",
         "organizations_url" : "https://api.github.com/users/tdaede/orgs",
         "received_events_url" : "https://api.github.com/users/tdaede/received_events",
         "repos_url" : "https://api.github.com/users/tdaede/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tdaede/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tdaede/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tdaede"
      }
   },
   {
      "body" : "@tdaede: the assertion you hit is very likely caused by a database corruption (block index).",
      "created_at" : "2016-10-24T06:55:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255661961",
      "id" : 255661961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T06:55:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255661961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@tdaede - when you say it's repeatable, if you just restart bitcoind without fixing anything, I believe it's repeatable. It could also be repeatable if you shutdown the system while bitcoind is running and corrupt data the same or similar way. It doesn't mean it's a problem with Bitcoin Core. As I said you need to prove with fsck that the filesystem is sound. Even then it may be a problem with LevelDB or something that would have to be dealt with upstream.\r\n\r\nOOM can't lead to FS corruption: I disagree.\r\nhttps://unix.stackexchange.com/questions/12699/do-journaling-filesystems-guarantee-against-corruption-after-a-power-failure",
      "created_at" : "2016-10-24T07:02:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9001#issuecomment-255662906",
      "id" : 255662906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9001",
      "updated_at" : "2016-10-24T07:05:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255662906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   }
]
