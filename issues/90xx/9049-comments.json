[
   {
      "body" : "I believe that with this change if a whitelisted peer gives us a transaction with internally duplicated inputs, we will relay it (CheckTransaction will pass, conflict with the mempool will not set DoS.) and then our peers running without this change will ban us (Their CheckTransaction will fail). Less critically, this change results in txn with internal doublespends getting a misleading log entry of mempool-conflict.\r\n\r\nEdit: I suggest creating a CheckTransactionHarder that ATMP uses which will check for transaction internal duplication and still nDoS.  This way block processing can still avoid the redundant test.",
      "created_at" : "2016-11-01T06:01:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9049#issuecomment-257495287",
      "id" : 257495287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9049",
      "updated_at" : "2016-11-01T06:11:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257495287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
