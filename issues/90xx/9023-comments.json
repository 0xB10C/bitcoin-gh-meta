[
   {
      "body" : "Very nice, I was just struggling with some failing tests and thinking about adding logging. Concept ACK, testing.",
      "created_at" : "2016-10-26T11:37:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256322221",
      "id" : 256322221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-26T11:37:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256322221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9023#discussion_r85103060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9023"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85103060"
         }
      },
      "body" : "Any reason to use `raise Exception` instead of `raise`?",
      "commit_id" : "57cae385bf6e310b757ace652cbbdbc5b4c02d8d",
      "created_at" : "2016-10-26T11:39:48Z",
      "diff_hunk" : "@@ -23,39 +25,56 @@ def bctest(testDir, testObj, exeext):\n \toutputData = None\n \tif \"output_cmp\" in testObj:\n \t\toutputFn = testObj['output_cmp']\n-\t\toutputData = open(testDir + \"/\" + outputFn).read()\n+\t\ttry:\n+\t\t\toutputData = open(testDir + \"/\" + outputFn).read()\n+\t\texcept:\n+\t\t\tlogging.error(\"Output file \" + outputFn + \" can not be opened\")\n+\t\t\traise Exception",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#discussion_r85103060",
      "id" : 85103060,
      "original_commit_id" : "d7df43b202f2bbeba3d94e2bbc9a301141bfa62f",
      "original_position" : 18,
      "path" : "src/test/bctest.py",
      "position" : null,
      "pull_request_review_id" : 5837282,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9023",
      "updated_at" : "2016-10-26T13:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85103060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9023#discussion_r85126757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9023"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85126757"
         }
      },
      "body" : "You're right - `raise` is better. I've updated it.",
      "commit_id" : "57cae385bf6e310b757ace652cbbdbc5b4c02d8d",
      "created_at" : "2016-10-26T13:53:15Z",
      "diff_hunk" : "@@ -23,39 +25,56 @@ def bctest(testDir, testObj, exeext):\n \toutputData = None\n \tif \"output_cmp\" in testObj:\n \t\toutputFn = testObj['output_cmp']\n-\t\toutputData = open(testDir + \"/\" + outputFn).read()\n+\t\ttry:\n+\t\t\toutputData = open(testDir + \"/\" + outputFn).read()\n+\t\texcept:\n+\t\t\tlogging.error(\"Output file \" + outputFn + \" can not be opened\")\n+\t\t\traise Exception",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#discussion_r85126757",
      "id" : 85126757,
      "original_commit_id" : "d7df43b202f2bbeba3d94e2bbc9a301141bfa62f",
      "original_position" : 18,
      "path" : "src/test/bctest.py",
      "position" : null,
      "pull_request_review_id" : 5859535,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9023",
      "updated_at" : "2016-10-26T13:53:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85126757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Tested ACK d7df43b202f2bbeba3d94e2bbc9a301141bfa62f",
      "created_at" : "2016-10-26T15:18:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256379743",
      "id" : 256379743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-26T15:18:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256379743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Concept ACK, but I think this makes the test too noisy in the passing case. Ideally tests are silent if nothing is wrong and noisy if they break.\r\n\r\nWhy not just print a diff when the comparison fails, and leave it at that? (in non-verbose mode)\r\n",
      "created_at" : "2016-10-27T12:16:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256624789",
      "id" : 256624789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-27T12:26:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256624789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "After some chat with @laanwj can you make this silently pass tests unless `--verbose` is selected? But output failure cases by default without `--verbose`?",
      "created_at" : "2016-10-27T12:26:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256626677",
      "id" : 256626677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-27T12:26:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256626677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Easiest way would be to move PASSED messages to the debug level:\r\n```patch\r\ndiff --git a/src/test/bctest.py b/src/test/bctest.py\r\nindex e575b22..0e83284 100644\r\n--- a/src/test/bctest.py\r\n+++ b/src/test/bctest.py\r\n@@ -67,7 +67,7 @@ def bctester(testDir, input_basename, buildenv):\r\n        for testObj in input_data:\r\n                try:\r\n                        bctest(testDir, testObj, buildenv.exeext)\r\n-                       logging.info(\"PASSED: \" + testObj[\"description\"])\r\n+                       logging.debug(\"PASSED: \" + testObj[\"description\"])\r\n                except:\r\n                        logging.info(\"FAILED: \" + testObj[\"description\"])\r\n                        failed_testcases.append(testObj[\"description\"])\r\n```\r\nHowever `-v` doesn't seem to work here? Debug messages aren't printed.\r\n",
      "created_at" : "2016-10-27T12:39:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256629357",
      "id" : 256629357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-27T12:39:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256629357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This helps, you're setting the log level twice.\r\n```patch\r\ndiff --git a/src/test/bitcoin-util-test.py b/src/test/bitcoin-util-test.py\r\nindex 3bae55d..c72dc9f 100755\r\n--- a/src/test/bitcoin-util-test.py\r\n+++ b/src/test/bitcoin-util-test.py\r\n@@ -35,12 +35,12 @@ if __name__ == '__main__':\r\n     # Create logging handler\r\n     ch = logging.StreamHandler(sys.stdout)\r\n     if verbose:\r\n-        ch.setLevel(logging.DEBUG)\r\n+        level = logging.DEBUG\r\n     else:\r\n-        ch.setLevel(logging.ERROR)\r\n+        level = logging.ERROR\r\n     formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')\r\n     ch.setFormatter(formatter)\r\n     # Add the handlers to the logger\r\n-    logging.basicConfig(level=logging.INFO, handlers=[ch])\r\n+    logging.basicConfig(level=level, handlers=[ch])\r\n \r\n     bctest.bctester(srcdir + \"/test/data\", \"bitcoin-util-test.json\", buildenv)\r\n```",
      "created_at" : "2016-10-27T12:42:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9023#issuecomment-256629925",
      "id" : 256629925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9023",
      "updated_at" : "2016-10-27T12:42:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/256629925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
