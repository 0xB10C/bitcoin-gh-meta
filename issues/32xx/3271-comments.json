[
   {
      "body" : "While the motivation is appreciated...  meh, a bit disinclined to stir every printf line, and break tons of other patches, for this.\r\n",
      "created_at" : "2013-11-17T04:36:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28642450",
      "id" : 28642450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T04:36:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28642450",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7711892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7711892"
         }
      },
      "body" : "Why is the outer LogPrint() needed? It looks like a combination of old and new style\r\nWhy not just \r\n\r\n    CLogStream([optional category]) << \"init message: \" << message << \"\\n\";\r\n\r\n(similar to std::cout/cin)\r\n",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-17T07:40:44Z",
      "diff_hunk" : "@@ -41,7 +43,7 @@ static bool noui_ThreadSafeAskFee(int64_t /*nFeeRequired*/)\n \n static void noui_InitMessage(const std::string &message)\n {\n-    LogPrintf(\"init message: %s\\n\", message.c_str());\n+    LogPrint(CLogStream() << \"init message: \" << message << \"\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7711892",
      "id" : 7711892,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 44,
      "path" : "src/noui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7711892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@jgarzik That's also why I have discouraged doing this.\r\n\r\nOn the other hand, it appears pretty trivial to rebase patches to this and it mostly (only) affects debug printing.\r\n",
      "created_at" : "2013-11-17T07:41:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28644305",
      "id" : 28644305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T07:41:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28644305",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7711897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7711897"
         }
      },
      "body" : "Why add .str() here? There should be no reason to thouch these lines as they don't use *printf.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-17T07:48:52Z",
      "diff_hunk" : "@@ -1974,7 +2093,7 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     if (!pblocktree->WriteBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        return state.Abort(_(\"Failed to write file info\"));\n+        return state.Abort(_(\"Failed to write file info\").str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7711897",
      "id" : 7711897,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 860,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7711897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Apart from the above nits I think this is overall a good idea (printf is ugly and un-typesafe after all, so getting rid of it in favor of a safer method reduces risks. Also depending on C99 as well as C++ was a bit weird), but we may want to merge other pull requests first to prevent conflicts.",
      "created_at" : "2013-11-17T09:02:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28645089",
      "id" : 28645089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T09:05:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28645089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'd prefer a `CLogStream(\"class\") << ...`, with \"class\" optional as well.\r\n\r\nSince this is something that is often written during debugging, maybe just call it `Log()`?",
      "created_at" : "2013-11-17T14:27:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28649395",
      "id" : 28649395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T14:27:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28649395",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Why remove error's return type?",
      "created_at" : "2013-11-17T14:29:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28649428",
      "id" : 28649428,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T14:29:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28649428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Because error always returned false, which made the fact that it returns anything confusing (until you looked up the definition).  Error was a subroutine acting like a function. \r\n\r\n> On Nov 17, 2013, at 8:29 AM, Pieter Wuille <notifications@github.com> wrote:\r\n> \r\n> Why remove error's return value?\r\n> \r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub.",
      "created_at" : "2013-11-17T14:54:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28649828",
      "id" : 28649828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-17T14:54:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28649828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7716980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7716980"
         }
      },
      "body" : "Had to convert translation (aka _(\"...\") function) to something that still provides printf funcationality, without having printf avaliable.  _(\"...\") now has a return type of boost::format, which allows passing of parameters into the format via the % operator.  The down side to this is that the boost::format class then has to be converted to a std::string, meaning calling .str() on the boost::format, or using the str(...) function.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-18T05:51:59Z",
      "diff_hunk" : "@@ -1974,7 +2093,7 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     if (!pblocktree->WriteBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        return state.Abort(_(\"Failed to write file info\"));\n+        return state.Abort(_(\"Failed to write file info\").str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7716980",
      "id" : 7716980,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 860,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7716980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7717014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7717014"
         }
      },
      "body" : "This has been rectified with the new Log class.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-18T05:56:52Z",
      "diff_hunk" : "@@ -41,7 +43,7 @@ static bool noui_ThreadSafeAskFee(int64_t /*nFeeRequired*/)\n \n static void noui_InitMessage(const std::string &message)\n {\n-    LogPrintf(\"init message: %s\\n\", message.c_str());\n+    LogPrint(CLogStream() << \"init message: \" << message << \"\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7717014",
      "id" : 7717014,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 44,
      "path" : "src/noui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7717014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "@sipa and @laanwj:  following your suggestions, I have created the Log class (log.h and log.cpp).  At its core it works by multiplexing an input to multiple outputs.  \r\n\r\nSince generally flags won't change after instantiation of the class (except for changes from other threads), the constructor of the instantiation reads the different flags and decides what streams to send the data to.\r\n\r\nFor all types except strings and const char*s, the data is just passed along to the streams below (manipulators work too).  For strings and const char*s, we do a little processing based on what stream it is, specifically seeing if/when we are writing new lines.\r\n\r\n\r\nFor the error function, I removed it all-together and replaced them with log calls (\"ERROR: \" prepended, \"\\n\" appened).  If we want to make it so the \"ERROR: \" part is configurable, I would recommend a public static const char* on Log instead of making a wrapping function.",
      "created_at" : "2013-11-18T06:07:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28677269",
      "id" : 28677269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-18T06:07:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28677269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7718300"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7718300"
         }
      },
      "body" : "When a function has only one output using a return value is clearer than output parameter syntax. Any specific reason to switch to &pointer here? (maybe parse error reporting?)\r\n",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-18T08:15:03Z",
      "diff_hunk" : "@@ -431,7 +438,7 @@ bool ReadHTTPRequestLine(std::basic_istream<char>& stream, int &proto,\n     proto = 0;\n     const char *ver = strstr(strProto.c_str(), \"HTTP/1.\");\n     if (ver != NULL)\n-        proto = atoi(ver+7);\n+        fromstr(ver+7, &proto);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7718300",
      "id" : 7718300,
      "original_commit_id" : "1624b8d086f93c45e673b4cfec063609787f02ca",
      "original_position" : 161,
      "path" : "src/bitcoinrpc.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7718300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7718311"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7718311"
         }
      },
      "body" : "@brandondahler thanks; much better this way\r\n",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-18T08:16:07Z",
      "diff_hunk" : "@@ -41,7 +43,7 @@ static bool noui_ThreadSafeAskFee(int64_t /*nFeeRequired*/)\n \n static void noui_InitMessage(const std::string &message)\n {\n-    LogPrintf(\"init message: %s\\n\", message.c_str());\n+    LogPrint(CLogStream() << \"init message: \" << message << \"\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7718311",
      "id" : 7718311,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 44,
      "path" : "src/noui.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7718311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7746343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7746343"
         }
      },
      "body" : "The reason for the switch is because fromstr is now a templated function.  In order to have it detect what type the function should return, the function needs an input of that type.\r\n\r\nIn some other places, I've used the alternate usage of this function:\r\n\r\n    proto = fromstr(ver+7, (int64_t*) NULL);\r\n\r\nIf desired, we can easily add back int64fromstr like so:\r\n    \r\n    inline int64_t int64fromstr(std::string s)\r\n    {\r\n        return fromstr(s, (int64_t*) NULL);\r\n    }",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-19T01:29:47Z",
      "diff_hunk" : "@@ -431,7 +438,7 @@ bool ReadHTTPRequestLine(std::basic_istream<char>& stream, int &proto,\n     proto = 0;\n     const char *ver = strstr(strProto.c_str(), \"HTTP/1.\");\n     if (ver != NULL)\n-        proto = atoi(ver+7);\n+        fromstr(ver+7, &proto);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7746343",
      "id" : 7746343,
      "original_commit_id" : "1624b8d086f93c45e673b4cfec063609787f02ca",
      "original_position" : 161,
      "path" : "src/bitcoinrpc.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7746343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "Fixed problems hopefully, rebased.",
      "created_at" : "2013-11-19T01:32:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28757904",
      "id" : 28757904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-19T01:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28757904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7749318"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7749318"
         }
      },
      "body" : "Was bored and reading PRs when I saw this. There is no need to take a pointer argument solely for type deduction. You can be explicit when you call the function:\r\n```\r\nproto = fromstr<int64_t>(ver+7);\r\n```\r\n\r\nAt least in the (type*)NULL case, this is cleaner. It would require that fromstr default the \"pn\" parameter to NULL.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-19T05:57:11Z",
      "diff_hunk" : "@@ -431,7 +438,7 @@ bool ReadHTTPRequestLine(std::basic_istream<char>& stream, int &proto,\n     proto = 0;\n     const char *ver = strstr(strProto.c_str(), \"HTTP/1.\");\n     if (ver != NULL)\n-        proto = atoi(ver+7);\n+        fromstr(ver+7, &proto);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7749318",
      "id" : 7749318,
      "original_commit_id" : "1624b8d086f93c45e673b4cfec063609787f02ca",
      "original_position" : 161,
      "path" : "src/bitcoinrpc.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7749318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1616684?v=3",
         "events_url" : "https://api.github.com/users/HapeMask/events{/privacy}",
         "followers_url" : "https://api.github.com/users/HapeMask/followers",
         "following_url" : "https://api.github.com/users/HapeMask/following{/other_user}",
         "gists_url" : "https://api.github.com/users/HapeMask/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/HapeMask",
         "id" : 1616684,
         "login" : "HapeMask",
         "organizations_url" : "https://api.github.com/users/HapeMask/orgs",
         "received_events_url" : "https://api.github.com/users/HapeMask/received_events",
         "repos_url" : "https://api.github.com/users/HapeMask/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/HapeMask/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/HapeMask/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/HapeMask"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7749976"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7749976"
         }
      },
      "body" : "I was about to suggest what @HapeMask says",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-19T07:15:11Z",
      "diff_hunk" : "@@ -431,7 +438,7 @@ bool ReadHTTPRequestLine(std::basic_istream<char>& stream, int &proto,\n     proto = 0;\n     const char *ver = strstr(strProto.c_str(), \"HTTP/1.\");\n     if (ver != NULL)\n-        proto = atoi(ver+7);\n+        fromstr(ver+7, &proto);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7749976",
      "id" : 7749976,
      "original_commit_id" : "1624b8d086f93c45e673b4cfec063609787f02ca",
      "original_position" : 161,
      "path" : "src/bitcoinrpc.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7749976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7757586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7757586"
         }
      },
      "body" : "I'm still not really convinced that this is better than \"%04x\", it is much much more verbose. Wouldn't it be possible to keep mostly the same short syntax, but gain typesafeness, using boost::format?\r\n(I mean specifically in these cases where the output will end up in a string anyway, not the debug logging, of course you need to use std::stream syntax there)",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-19T14:06:55Z",
      "diff_hunk" : "@@ -503,7 +517,9 @@ bool CAddrDB::Write(const CAddrMan& addr)\n     // Generate random temporary filename\n     unsigned short randv = 0;\n     RAND_bytes((unsigned char *)&randv, sizeof(randv));\n-    std::string tmpfn = strprintf(\"peers.dat.%04x\", randv);\n+\n+    std::ostringstream tmpfn(\"peers.dat.\");\n+    tmpfn << std::hex << std::setfill('0') << std::setw(4) << randv << std::dec << std::setfill(' ');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7757586",
      "id" : 7757586,
      "original_commit_id" : "fd8e818529db15dde039db42de1e1f68a73c6cf0",
      "original_position" : 186,
      "path" : "src/db.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7757586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7759211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7759211"
         }
      },
      "body" : "Agreed, makes perfect sense, though it's a little bit ugly, as _() is used for non-format messages in many places. Not much to do about it I guess, no way to overload functions on return type.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-19T14:58:58Z",
      "diff_hunk" : "@@ -1974,7 +2093,7 @@ bool FindBlockPos(CValidationState &state, CDiskBlockPos &pos, unsigned int nAdd\n     }\n \n     if (!pblocktree->WriteBlockFileInfo(nLastBlockFile, infoLastBlockFile))\n-        return state.Abort(_(\"Failed to write file info\"));\n+        return state.Abort(_(\"Failed to write file info\").str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7759211",
      "id" : 7759211,
      "original_commit_id" : "fb684fc3c5dfa4f476eac4ccbdc2391f367f7537",
      "original_position" : 860,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7759211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7779956"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7779956"
         }
      },
      "body" : "That is something that I never have run into in C++, thanks for syntax lesson!  Fixing to take template argument this way instead.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-20T01:19:38Z",
      "diff_hunk" : "@@ -431,7 +438,7 @@ bool ReadHTTPRequestLine(std::basic_istream<char>& stream, int &proto,\n     proto = 0;\n     const char *ver = strstr(strProto.c_str(), \"HTTP/1.\");\n     if (ver != NULL)\n-        proto = atoi(ver+7);\n+        fromstr(ver+7, &proto);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7779956",
      "id" : 7779956,
      "original_commit_id" : "1624b8d086f93c45e673b4cfec063609787f02ca",
      "original_position" : 161,
      "path" : "src/bitcoinrpc.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7779956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "I prefer printf-style syntax over << \" \" << etc, so I don't like this pull.  It is 700 extra lines of code for approximately zero practical benefit that I can see.\r\n\r\n",
      "created_at" : "2013-11-20T01:43:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28857110",
      "id" : 28857110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T01:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28857110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen:  I understand feeling that there is a lot of one-time risk involved in moving from printf to stream style conversion; however, I completely disagree that there is no practical benefit.\r\n\r\n1)  This makes maintenance easier\r\n\r\nThe code is much less complex overall.  This removes some ugly compatibility #defines, attribute markings, and even hacks.\r\n\r\n2)  Platform independence\r\n\r\nWe are no longer relying on the platform to have a correct/compliant printf function.  Instead we are relying on the C++ standard library implementation which we already rely on since we use C++ in the first place.  This is specifically a problem for int64_t since Windows doesn't use the same syntax as Linux unless you use some compatibility defines.\r\n\r\n3)  The way it reads\r\n\r\nStreams read fluently instead of requiring the user to place the parameters in the correct place.  Consider:\r\n\r\n    return strprintf(\r\n            \"HTTP/1.1 %d %s\\r\\n\"\r\n            \"Date: %s\\r\\n\"\r\n            \"Connection: %s\\r\\n\"\r\n            \"Content-Length: %\"PRIszu\"\\r\\n\"\r\n            \"Content-Type: application/json\\r\\n\"\r\n            \"Server: bitcoin-json-rpc/%s\\r\\n\"\r\n            \"\\r\\n\"\r\n            \"%s\",\r\n        nStatus,\r\n        cStatus,\r\n        rfc1123Time().c_str(),\r\n        keepalive ? \"keep-alive\" : \"close\",\r\n        strMsg.size(),\r\n        FormatFullVersion().c_str(),\r\n        strMsg.c_str());\r\n\r\nBecomes\r\n\r\n    ossReply << \"HTTP/1.1 \" << nStatus << \" \" << cStatus << \"\\r\\n\"\r\n             << \"Date: \" << rfc1123Time() << \"\\r\\n\"\r\n             << \"Connection: \" << (keepalive ? \"keep-alive\" : \"close\") << \"\\r\\n\"\r\n             << \"Content-Length: \" << strMsg.size() << \"\\r\\n\"\r\n             << \"Content-Type: application/json\\r\\n\"\r\n             << \"Server: bitcoin-json-rpc/\" << FormatFullVersion() << \"\\r\\n\"\r\n             << \"\\r\\n\"\r\n             << strMsg;\r\n    return ossReply.str();\r\n\r\nLikewise logging lines stand out just like normal cout lines (given the new Log class).\r\n\r\n____\r\n\r\nAll of this being said, I will agree that the shorter changes, such as:\r\n\r\n    std::string tmpfn = strprintf(\"peers.dat.%04x\", randv);\r\n\r\nBecoming\r\n\r\n    std::ostringstream tmpfn(\"peers.dat.\");\r\n    tmpfn << std::hex << std::setfill('0') << std::setw(4) << randv << std::dec << std::setfill(' ');\r\n\r\nWould probably work better off as a boost::format.  The reason I started out with not using boost::format more is because I personally prefer to keep dependence on boost to a minimum.  If y'all disagree I do think it could make things less cluttered when making simple, smalls strings.  \r\n\r\nLikewise creating formatting functions for specific types of data would allow us to change the output formatting of the data in one place instead of across a bunch of files, while fitting in with the stream style.  Using the above function again, having a static call makes things cleaner all-together:\r\n\r\n    ...\r\n    std::string tmpfn = CAddrDB::PeersFilePath(randv);\r\n    ...\r\n\r\n    std::string CAddrDB::PeersFilePath(unsigned short randv)\r\n    {\r\n        std::ostringstream tmpfn();\r\n        tmpfn << \"peers.dat.\" << std::hex << std::setfill('0') << std::setw(4) << randv;\r\n        return tmpfn.str();\r\n    }\r\n\r\nFurther we can make custom manipulators to reduce duplication of code:\r\n\r\n    ios_base& hex04(ios_base& ib)\r\n    {\r\n        ib << std::hex << std::setfill('0') << std::setw(4);\r\n        return ib;\r\n    }\r\n    \r\n    std::string CAddrDB::PeersFilePath(unsigned short randv)\r\n    {\r\n        std::ostringstream tmpfn();\r\n        tmpfn << \"peers.dat.\" << hex04 << randv;\r\n        return tmpfn.str();\r\n    }\r\n",
      "created_at" : "2013-11-20T04:10:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28862460",
      "id" : 28862460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T04:10:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28862460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "On another note, does anyone have any idea why pull tester is failing?  The only lines that look bad are:\r\n\r\n    =============\r\n    1 test passed\r\n    =============\r\n    make[4]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[3]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[2]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[1]: Leaving directory `/mnt/bitcoin/linux-build/src'\r\n    make  check-local\r\n    make[2]: Entering directory `/mnt/bitcoin/linux-build'\r\n    /bin/mkdir -p qa/tmp\r\n    make[2]: *** [check-local] Killed\r\n    make[2]: Leaving directory `/mnt/bitcoin/linux-build'\r\n    make[1]: *** [check-am] Error 2\r\n    make[1]: Leaving directory `/mnt/bitcoin/linux-build'\r\n    make: *** [check-recursive] Error 1\r\n    tail: `/mnt/bitcoin/linux-build/.bitcoin/regtest/debug.log' has become inaccessible: No such file or directory\r\n\r\nFrom http://jenkins.bluematt.me/pull-tester/fd77e459e07f3684c39b7861e758028ace756456/test.log .  Whereas a successful one shows the following at the same spot:\r\n\r\n    =============\r\n    1 test passed\r\n    =============\r\n    make[4]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[3]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[2]: Leaving directory `/mnt/bitcoin/linux-build/src/test'\r\n    make[1]: Leaving directory `/mnt/bitcoin/linux-build/src'\r\n    make[1]: Entering directory `/mnt/bitcoin/linux-build'\r\n    make  check-local\r\n    make[2]: Entering directory `/mnt/bitcoin/linux-build'\r\n    /bin/mkdir -p qa/tmp\r\n    tail: write error: Broken pipe\r\n    tail: write error",
      "created_at" : "2013-11-20T04:18:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28862686",
      "id" : 28862686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T04:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28862686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "@gavinandresen Agreed, the problem isn't with printf-style *syntax*, it's with the printf function  - which (in our usage) isn't part of the C++ standard, so we had a dependency on C99-like formats that broke down on Windows without special mingw defines. Also it's not type safe, easy to mess up the stack with some wrong % char, and uses a variable-number-of-parameters hack which breaks down for std::string so a dummy '0' argument is inserted with a macro (the `real_strprintf` etc...). \r\n\r\nMany reasons to get rid of the sprintf hacks. But boost::format would be better in that regard as it mostly keeps printf syntax but is typesafe and has none of those mentioned drawbacks.\r\n\r\nI don't think the actual risk is that large, at most some debug messages will be formatted differently.\r\n\r\nIt could map pretty much one-on-one. Could we do this without adding (so many) lines?\r\n",
      "created_at" : "2013-11-20T07:07:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28867775",
      "id" : 28867775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T07:10:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28867775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Also -- do we really need our own class for handling time? (bitcointime.cpp/h) How is this related to the subject of this pull?\r\nReducing depenency on boost is not a goal! If boost offers some functionality, please use that instead of rolling our own.\r\n\r\nThis changes way too many things, please keep it focused.\r\n\r\n",
      "created_at" : "2013-11-20T07:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28867859",
      "id" : 28867859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T07:12:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28867859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7789463"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7789463"
         }
      },
      "body" : "@laanwj bitcointime.h/cpp had to be added to remove the circular dependency that was caused by adding log.h into its own file, since util.h uses Log in various places.\r\n\r\nMoving it into its own files also allows us to namespace the functions, making it clear where they are coming from when seeing them dispersed across several files.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-20T12:47:01Z",
      "diff_hunk" : "@@ -0,0 +1,89 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_LOG_H\n+#define BITCOIN_LOG_H\n+\n+#include \"bitcointime.h\"\n+\n+#include <fstream>\n+#include <ostream>\n+#include <sstream>\n+#include <string>\n+#include <vector>\n+\n+#include <boost/thread/once.hpp>\n+#include <boost/thread/mutex.hpp>\n+\n+// Log() has been broken a couple of times now\n+// by well-meaning people adding mutexes in the most straightforward way.\n+// It breaks because it may be called by global destructors during shutdown.\n+// Since the order of destruction of static/global objects is undefined,\n+// defining a mutex as a global object doesn't work (the mutex gets\n+// destroyed, and then some later destructor calls OutputDebugStringF,\n+// maybe indirectly, and you get a core dump at shutdown trying to lock\n+// the mutex).\n+\n+\n+class Log\n+{\n+    public:\n+        Log(std::string category = \"\");\n+\n+        Log& operator<<(const char* psz) { return *this << std::string(psz);  }\n+        Log& operator<<(std::string str);\n+\n+        template <typename T> Log& operator<<(const T& x);\n+\n+        static bool fDebug;\n+        static bool fPrintToConsole;\n+        static bool fPrintToDebugger;\n+        static bool fLogTimestamps;\n+        static volatile bool fReopenDebugLog;\n+        static bool fStartedNewLine;\n+\n+    private:\n+        static void FileoutInit();\n+       \n+        std::vector<std::ostream*> vLogStreams;\n+\n+        // We use boost::call_once() to make sure these are initialized in\n+        // in a thread-safe manner the first time it is called:\n+        static std::ofstream fileout;\n+        \n+        static boost::once_flag debugPrintInitFlag;\n+        static boost::mutex mutexDebugLog;\n+\n+#ifdef WIN32\n+        static std::ostringstream windowsDebugLog;\n+#endif\n+\n+};\n+\n+\n+// Just insert data into stream for non-strings\n+template <typename T> \n+Log& Log::operator<<(const T& message)\n+{\n+    boost::mutex::scoped_lock scoped_lock(mutexDebugLog);\n+\n+    for (std::vector<std::ostream*>::iterator it = vLogStreams.begin(); it != vLogStreams.end(); ++it)\n+    {\n+\n+        if (*it == &fileout)\n+        {\n+            // Debug print useful for profiling\n+            if (fLogTimestamps && fStartedNewLine)\n+                **it << BitcoinTime::DateTimeStrFormat(\"%Y-%m-%d %H:%M:%S\", BitcoinTime::GetTime()) << \" \";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7789463",
      "id" : 7789463,
      "original_commit_id" : "fd77e459e07f3684c39b7861e758028ace756456",
      "original_position" : 78,
      "path" : "src/log.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7789463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "@laanwj I would not consider the use of ostringstream as \"rolling my own\", namely because that is the only way provided by the C++ standard library to convert random types to strings and vice versa.\r\n\r\nIf you are talking about the Log class, the first commit started off without it, but it was added because it simplifies the actual logging process (the business logic that goes in to putting type T data into X, Y, and Z streams) and it makes reading the actual print lines prettier:\r\n\r\n    Log() << something << \" something else\"; \r\n\r\nvs \r\n\r\n    LogPrint(str(boost::format(\"%d something else\") % something)); ).",
      "created_at" : "2013-11-20T13:04:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-28887312",
      "id" : 28887312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-20T13:05:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28887312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7849903"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7849903"
         }
      },
      "body" : "This is really too verbose, so that I don't think it's a benefit to merge this (yet)...",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-11-22T07:41:09Z",
      "diff_hunk" : "@@ -503,7 +517,9 @@ bool CAddrDB::Write(const CAddrMan& addr)\n     // Generate random temporary filename\n     unsigned short randv = 0;\n     RAND_bytes((unsigned char *)&randv, sizeof(randv));\n-    std::string tmpfn = strprintf(\"peers.dat.%04x\", randv);\n+\n+    std::ostringstream tmpfn(\"peers.dat.\");\n+    tmpfn << std::hex << std::setfill('0') << std::setw(4) << randv << std::dec << std::setfill(' ');",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r7849903",
      "id" : 7849903,
      "original_commit_id" : "fd8e818529db15dde039db42de1e1f68a73c6cf0",
      "original_position" : 186,
      "path" : "src/db.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7849903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Closing; no consensus this is a good idea.  Maybe bring back as a boost::format version that doesn't break so many other pull requests.\r\n",
      "created_at" : "2013-11-29T20:59:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29537313",
      "id" : 29537313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-29T20:59:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29537313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen   Can I request a temporary re-opening--I made changes but did not request comments on them (was busy and didn't write them up).\r\n\r\nUpdated summary of changes that are in this pull request:\r\n\r\n1.  Replaced LogPrintf with new Log class that is functionally the same, but instead works by multiplexing log data into a set of streams, determined at the time of the construction of the class.  This causes >95% of all line changes here.\r\n\r\n2.  Removed strprintf and all hacks associated.  **Replaced usage with boost::format.**\r\n\r\n3.  Used ostringstreams in place of large string concatenations (many examples in src/rpcnet.cpp).  \r\n\r\n4.  Update translation function std::string _(const char* psz) to boost::format _(const char* psz).  Add ability to get direct string instead of boost::format by specifying _<std::string>(const char* psz).\r\n\r\n5.  Replaced ato* and *tostr functions with templated functions tostr and fromstr.\r\n\r\n6.  Moved time functions to bitcointime.{h,cpp} from util.{h,cpp}.  Fixes circular dependency and allows namespacing of functions to provide context clarity.\r\n\r\n7.  Removed error function completely, always returned false before, logging input(s) with strings preappened and appended.  \r\n\r\nEdit:  Also rebased.",
      "created_at" : "2013-11-30T02:46:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29544482",
      "id" : 29544482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-11-30T03:11:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29544482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "I'm personally fine with the general direction this is going in. In particular:\r\n* Splitting off log and time functionality to their own source files is good - util is a mess.\r\n* No problem with using a more ideomatic C++ way for formatting output - especially if it provides better type-safety.\r\n* The Log(class) << some << messages looks ok to me.\r\n\r\nI'm less sure about things like `_<std::string>(...)` (quite verbose - if we really need a separate method, maybe `__` or something?).\r\n\r\nAlso, `error()` most certainly was a hack, but I'm in the middle about getting rid of it, if it requires adding that many extra lines to deal with it.\r\n\r\n@gavinandresen Given that it's now (in some places) using boost::format, care to reopen?\r\n",
      "created_at" : "2013-12-01T17:18:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29577905",
      "id" : 29577905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-01T17:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29577905",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014307"
         }
      },
      "body" : "Though time-related, this is really just for initialized the PRNG. I think it belongs more in util.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-01T17:20:28Z",
      "diff_hunk" : "@@ -0,0 +1,150 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"bitcointime.h\"\n+\n+#include \"log.h\"\n+#include \"netbase.h\"\n+#include \"sync.h\"\n+#include \"ui_interface.h\"\n+#include \"util.h\"\n+\n+#ifndef WIN32\n+#include <sys/time.h>\n+#endif\n+\n+#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <boost/foreach.hpp>\n+\n+using namespace std;\n+\n+namespace BitcoinTime\n+{\n+    int64_t GetPerformanceCounter()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014307",
      "id" : 8014307,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 24,
      "path" : "src/bitcointime.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014309"
         }
      },
      "body" : "It's really quite ugly that this depends on netbase data structures. I don't have a better proposal for now, though.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-01T17:21:37Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_BITCOINTIME_H\n+#define BITCOIN_BITCOINTIME_H\n+\n+#include <stdint.h>\n+#include <string>\n+\n+class CNetAddr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014309",
      "id" : 8014309,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 11,
      "path" : "src/bitcointime.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014316"
         }
      },
      "body" : "I don't think these belong in core at all (or should be part of CTransaction). They are validation/relaying related constants that belong in main. Given that the mempool code refactorings that are going on probably rely on it, we can keep it like this for now, but I'd prefer to not have these in core.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-01T17:23:09Z",
      "diff_hunk" : "@@ -5,16 +5,32 @@\n \n #include \"core.h\"\n \n+#include \"log.h\"\n #include \"util.h\"\n \n+#include <iomanip>\n+#include <sstream>\n+#include <stdint.h>\n+\n+#include <boost/format.hpp>\n+\n+/** Fees smaller than this (in satoshi) are considered zero fee (for transaction creation) */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014316",
      "id" : 8014316,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 13,
      "path" : "src/core.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014326"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014326"
         }
      },
      "body" : "Is this comment up to date?",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-01T17:26:17Z",
      "diff_hunk" : "@@ -0,0 +1,89 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_LOG_H\n+#define BITCOIN_LOG_H\n+\n+#include \"bitcointime.h\"\n+\n+#include <fstream>\n+#include <ostream>\n+#include <sstream>\n+#include <string>\n+#include <vector>\n+\n+#include <boost/thread/once.hpp>\n+#include <boost/thread/mutex.hpp>\n+\n+// Log() has been broken a couple of times now\n+// by well-meaning people adding mutexes in the most straightforward way.\n+// It breaks because it may be called by global destructors during shutdown.\n+// Since the order of destruction of static/global objects is undefined,\n+// defining a mutex as a global object doesn't work (the mutex gets\n+// destroyed, and then some later destructor calls OutputDebugStringF,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8014326",
      "id" : 8014326,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 24,
      "path" : "src/log.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8014326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8018306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8018306"
         }
      },
      "body" : "Agreed @sipa, it's not part of the block verification/consensus so should likely be somewhere else.\r\n(then again, this pull is not the place to fix that)",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-02T06:27:03Z",
      "diff_hunk" : "@@ -5,16 +5,32 @@\n \n #include \"core.h\"\n \n+#include \"log.h\"\n #include \"util.h\"\n \n+#include <iomanip>\n+#include <sstream>\n+#include <stdint.h>\n+\n+#include <boost/format.hpp>\n+\n+/** Fees smaller than this (in satoshi) are considered zero fee (for transaction creation) */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8018306",
      "id" : 8018306,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 13,
      "path" : "src/core.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8018306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8119599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8119599"
         }
      },
      "body" : "Not sure what flawed logic I was following -- reverted.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-05T03:19:05Z",
      "diff_hunk" : "@@ -5,16 +5,32 @@\n \n #include \"core.h\"\n \n+#include \"log.h\"\n #include \"util.h\"\n \n+#include <iomanip>\n+#include <sstream>\n+#include <stdint.h>\n+\n+#include <boost/format.hpp>\n+\n+/** Fees smaller than this (in satoshi) are considered zero fee (for transaction creation) */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8119599",
      "id" : 8119599,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 13,
      "path" : "src/core.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8119599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120234"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120234"
         }
      },
      "body" : "Wasn't following the advice either, after reviewing it.\r\n\r\nSolved problem in more complex, but more understandable way, including new comments that explains problem and reason why the solution works.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-05T04:25:26Z",
      "diff_hunk" : "@@ -0,0 +1,89 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_LOG_H\n+#define BITCOIN_LOG_H\n+\n+#include \"bitcointime.h\"\n+\n+#include <fstream>\n+#include <ostream>\n+#include <sstream>\n+#include <string>\n+#include <vector>\n+\n+#include <boost/thread/once.hpp>\n+#include <boost/thread/mutex.hpp>\n+\n+// Log() has been broken a couple of times now\n+// by well-meaning people adding mutexes in the most straightforward way.\n+// It breaks because it may be called by global destructors during shutdown.\n+// Since the order of destruction of static/global objects is undefined,\n+// defining a mutex as a global object doesn't work (the mutex gets\n+// destroyed, and then some later destructor calls OutputDebugStringF,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120234",
      "id" : 8120234,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 24,
      "path" : "src/log.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120251"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120251"
         }
      },
      "body" : "It is just a forward declare here, are you referring to the #include in the cpp?",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-05T04:27:40Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_BITCOINTIME_H\n+#define BITCOIN_BITCOINTIME_H\n+\n+#include <stdint.h>\n+#include <string>\n+\n+class CNetAddr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120251",
      "id" : 8120251,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 11,
      "path" : "src/bitcointime.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120253"
         }
      },
      "body" : "Moving back.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-05T04:27:48Z",
      "diff_hunk" : "@@ -0,0 +1,150 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include \"bitcointime.h\"\n+\n+#include \"log.h\"\n+#include \"netbase.h\"\n+#include \"sync.h\"\n+#include \"ui_interface.h\"\n+#include \"util.h\"\n+\n+#ifndef WIN32\n+#include <sys/time.h>\n+#endif\n+\n+#include <boost/date_time/posix_time/posix_time.hpp>\n+#include <boost/foreach.hpp>\n+\n+using namespace std;\n+\n+namespace BitcoinTime\n+{\n+    int64_t GetPerformanceCounter()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8120253",
      "id" : 8120253,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 24,
      "path" : "src/bitcointime.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8120253",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "Updated to address items above and rebased, they will not propagate to this pull request unless the request is re-opened.",
      "created_at" : "2013-12-05T06:24:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29874436",
      "id" : 29874436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-05T06:24:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29874436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1155895?v=3",
         "events_url" : "https://api.github.com/users/brandondahler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brandondahler/followers",
         "following_url" : "https://api.github.com/users/brandondahler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brandondahler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brandondahler",
         "id" : 1155895,
         "login" : "brandondahler",
         "organizations_url" : "https://api.github.com/users/brandondahler/orgs",
         "received_events_url" : "https://api.github.com/users/brandondahler/received_events",
         "repos_url" : "https://api.github.com/users/brandondahler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brandondahler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brandondahler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brandondahler"
      }
   },
   {
      "body" : "Reopening this -- I don't expect that it gets merged for 0.9, as we don't want to break all other pulls, and it needs a lot of work, but overall it's going the right way IMO (boost::format instead of ugly over-verbose stdio stream syntax).",
      "created_at" : "2013-12-05T10:31:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29887094",
      "id" : 29887094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-05T10:36:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29887094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8126486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8126486"
         }
      },
      "body" : "By 'depends' I don't mean a code dependency. Just the fact that this module is not usable without the other.",
      "commit_id" : "e39b26c0e839dc5b2e8436da2b25816ccb1938d9",
      "created_at" : "2013-12-05T11:35:57Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_BITCOINTIME_H\n+#define BITCOIN_BITCOINTIME_H\n+\n+#include <stdint.h>\n+#include <string>\n+\n+class CNetAddr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#discussion_r8126486",
      "id" : 8126486,
      "original_commit_id" : "8750e9b84f0c29b4be719ef01d6fe489fb9c1236",
      "original_position" : 11,
      "path" : "src/bitcointime.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3271",
      "updated_at" : "2013-12-06T02:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8126486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/e39b26c0e839dc5b2e8436da2b25816ccb1938d9 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-12-06T03:43:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-29961514",
      "id" : 29961514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-06T03:43:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29961514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "https://github.com/c42f/tinyformat might be a good replacement. As opposed to boost::format, the format is exactly the same as the one that `printf` uses.",
      "created_at" : "2013-12-28T23:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-31306906",
      "id" : 31306906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-28T23:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31306906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1056711?v=3",
         "events_url" : "https://api.github.com/users/p12tic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/p12tic/followers",
         "following_url" : "https://api.github.com/users/p12tic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/p12tic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/p12tic",
         "id" : 1056711,
         "login" : "p12tic",
         "organizations_url" : "https://api.github.com/users/p12tic/orgs",
         "received_events_url" : "https://api.github.com/users/p12tic/received_events",
         "repos_url" : "https://api.github.com/users/p12tic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/p12tic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/p12tic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/p12tic"
      }
   },
   {
      "body" : "@p12tic that actually looks very good, it is a type-safe strprintf() implementation in one header file and is not dependent on the platform's printf functions. According to the description it supports C99 format characters, which is a requirement.\r\nCould be a drop-in replacement.\r\n",
      "created_at" : "2013-12-29T09:46:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-31314239",
      "id" : 31314239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2013-12-29T09:50:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31314239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "See #3549",
      "created_at" : "2014-01-16T16:00:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3271#issuecomment-32481972",
      "id" : 32481972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3271",
      "updated_at" : "2014-01-16T16:00:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32481972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
