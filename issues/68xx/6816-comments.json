[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r41918635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41918635"
         }
      },
      "body" : "Beauty, but nack this thing.",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-13T20:18:41Z",
      "diff_hunk" : "@@ -0,0 +1,394 @@\n+// Copyright (c) 2009-2015 Eric Lombrozo, The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+/*\n+                     _             _     _ _                         \n+ __   _____ _ __ ___(_) ___  _ __ | |__ (_) |_ ___   ___ _ __  _ __  ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r41918635",
      "id" : 41918635,
      "original_commit_id" : "220bd24fcf334d98c92230e0b998127bb09ea6ca",
      "original_position" : 6,
      "path" : "src/consensus/versionbits.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-17T10:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41918635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r41918957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41918957"
         }
      },
      "body" : "Agree with @jtimon. Also it may be better to split the copyright (c) line into two. One for the initial author and initial year and a second one for the bitcoin core devs.",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-13T20:20:54Z",
      "diff_hunk" : "@@ -0,0 +1,394 @@\n+// Copyright (c) 2009-2015 Eric Lombrozo, The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+/*\n+                     _             _     _ _                         \n+ __   _____ _ __ ___(_) ___  _ __ | |__ (_) |_ ___   ___ _ __  _ __  ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r41918957",
      "id" : 41918957,
      "original_commit_id" : "220bd24fcf334d98c92230e0b998127bb09ea6ca",
      "original_position" : 6,
      "path" : "src/consensus/versionbits.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-17T10:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41918957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "The deployment times of concrete softforks depend on the chain (ie they are expected to be different in main and testnet3). Here's one solution:\r\n\r\n1) The Softfork class moves to consensus/params.h (and becomes a method-less struct, since that file is expected to be exposed to a complete libconsensus). \r\n\r\n2) Consensus::Params gets a new field softforks, which is an array of these new Softfork structs, and whose static size is determined by MAX_SOFTFORKS, the last element of an enumeration of all currently supported softforks.\r\n\r\n3) Every time a new softfork is supported, it must be included in that enum and the static size of the array will increase.\r\n\r\nThis way we maintain the ability to independently deploy different softforks in different testchains while respecting Consensus::Params as the only interface to communicate differences between chains to the consensus code (a problem we had already solved, in a way that is compatible with a C API).\r\n\r\n ",
      "created_at" : "2015-10-14T13:05:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148043500",
      "id" : 148043500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-14T13:05:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148043500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Agree with @jtimon's comments.",
      "created_at" : "2015-10-14T13:06:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148043687",
      "id" : 148043687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-14T13:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148043687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42121639"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42121639"
         }
      },
      "body" : "Doxygen supports [documentation on a file](https://www.stack.nl/~dimitri/doxygen/manual/commands.html#cmdfile) level, which seems more useful than ascii arts.\r\n\r\n> One for the initial author and initial year and a second one for the bitcoin core devs.\r\n\r\nIs this really necessary? There is already the much more precise git history, and to my understanding, all contributors qualify as \"Bitcoin Core developers\".",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-15T13:10:14Z",
      "diff_hunk" : "@@ -0,0 +1,394 @@\n+// Copyright (c) 2009-2015 Eric Lombrozo, The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+/*\n+                     _             _     _ _                         \n+ __   _____ _ __ ___(_) ___  _ __ | |__ (_) |_ ___   ___ _ __  _ __  ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42121639",
      "id" : 42121639,
      "original_commit_id" : "220bd24fcf334d98c92230e0b998127bb09ea6ca",
      "original_position" : 6,
      "path" : "src/consensus/versionbits.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-17T10:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42121639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42124115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42124115"
         }
      },
      "body" : "I like the extra information, but you may look into [BOOST_TEST_MESSAGE()](http://www.boost.org/doc/libs/1_55_0/libs/test/doc/html/utf/user-guide/test-output/BOOST_TEST_MESSAGE.html).",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-15T13:34:59Z",
      "diff_hunk" : "@@ -0,0 +1,454 @@\n+// Copyright (c) 2011-2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#define VERSIONBITS_UNIT_TEST\n+\n+#include \"chain.h\"\n+#include \"consensus/versionbits.h\"\n+#include \"primitives/block.h\"\n+#include \"test/test_bitcoin.h\"\n+\n+#include <bitset>\n+#include <boost/test/unit_test.hpp>\n+#include <iomanip>\n+#include <iostream>\n+#include <sstream>\n+#include <stdlib.h>\n+#include <string>\n+#include <time.h>\n+\n+using namespace Consensus::VersionBits;\n+using namespace std;\n+\n+const int NBITS = MAX_BIT + 1 - MIN_BIT;\n+\n+class BitCounter\n+{\n+public:\n+    BitCounter(const Deployments& deployments) :\n+        m_deployments(deployments)\n+    {\n+        Clear();\n+    }\n+\n+    void Clear()\n+    {\n+        for (int i = 0; i < NBITS; i++)\n+            m_bitCounts[i] = 0;\n+    }\n+\n+    void CountBits(int nVersion, uint32_t nTime = 0)\n+    {\n+        for (int i = MIN_BIT; i <= MAX_BIT; i++)\n+        {\n+            if (((nVersion >> i) & 0x1) && (m_deployments.GetAssignedRule(i, nTime) != NO_RULE))\n+                m_bitCounts[i - MIN_BIT]++;\n+        }\n+    }\n+\n+    int GetCountForBit(int bit) const\n+    {\n+        return m_bitCounts[bit - MIN_BIT];\n+    }\n+\n+    string ToString()\n+    {\n+        stringstream ss;\n+        for (int i = 0; i < NBITS; i++)\n+        {\n+            if (m_bitCounts[i + MIN_BIT])\n+               ss << setw(4) << right << i + MIN_BIT << \": \" << setw(5) << right << m_bitCounts[i + MIN_BIT] << endl;\n+        }\n+\n+        return ss.str();\n+    }\n+\n+private:\n+    int m_bitCounts[NBITS];\n+    const Deployments& m_deployments;\n+};\n+\n+class VersionGenerator\n+{\n+public:\n+    VersionGenerator() { ClearBitProbabilities(); }\n+\n+    void ClearBitProbabilities()\n+    {\n+        for (int i = 0; i < NBITS; i++)\n+            m_bitProbabilities[i] = 0;\n+    }\n+\n+    void SetBitProbability(int bit, int probability)\n+    {\n+        m_bitProbabilities[bit - MIN_BIT] = probability;\n+    }\n+\n+    int Generate() const\n+    {\n+        int nVersion = VERSION_HIGH_BITS;\n+        for (int i = 0; i < NBITS; i++)\n+        {\n+            if ((rand() % ACTIVATION_INTERVAL) <= (m_bitProbabilities[i] - 1))\n+                nVersion |= 0x1 << (MIN_BIT + i);\n+        }\n+\n+        return nVersion;\n+    }\n+    \n+private:\n+    int m_bitProbabilities[NBITS]; // in units of 1/ACTIVATION_INTERVAL\n+};\n+\n+\n+std::string RuleStateToString(State state)\n+{\n+    switch (state)\n+    {\n+    case UNDEFINED:\n+        return \"UNDEFINED\";\n+\n+    case DEFINED:\n+        return \"DEFINED\";\n+\n+    case LOCKED_IN:\n+        return \"LOCKED_IN\";\n+\n+    case ACTIVE:\n+        return \"ACTIVE\";\n+\n+    case FAILED:\n+        return \"FAILED\";\n+\n+    default:\n+        return \"N/A\";\n+    }\n+}\n+void StateChanged(const CBlockIndex* pblockIndex, const SoftFork* psoftFork, State prevState, State newState, int bitCount)\n+{\n+    int bit = psoftFork->GetBit();\n+    bool isBitSet = (pblockIndex->pprev->nVersion >> bit) & 0x1;\n+\n+    cout << \"STATE CHANGED - height: \" << pblockIndex->nHeight << \" median time: \" << pblockIndex->GetMedianTimePast()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42124115",
      "id" : 42124115,
      "original_commit_id" : "8459a6f3ff821c5095b918e0ab68023d10bbd7a6",
      "original_position" : 133,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 138,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-17T10:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42124115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42125241"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42125241"
         }
      },
      "body" : "Should stick to the standard header used across the codebase. Copyright always belongs to the author by default, there is no need to explicitly add it otherwise it gets really messy really quickly.",
      "commit_id" : "8459a6f3ff821c5095b918e0ab68023d10bbd7a6",
      "created_at" : "2015-10-15T13:44:34Z",
      "diff_hunk" : "@@ -0,0 +1,398 @@\n+// Copyright (c) 2009-2015 Eric Lombrozo, The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42125241",
      "id" : 42125241,
      "original_commit_id" : "8459a6f3ff821c5095b918e0ab68023d10bbd7a6",
      "original_position" : 1,
      "path" : "src/consensus/versionbits.cpp",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-15T13:44:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42125241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42125267"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42125267"
         }
      },
      "body" : "Sorry to be a spoilsport, but the ASCII art has to go.",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-15T13:44:45Z",
      "diff_hunk" : "@@ -0,0 +1,394 @@\n+// Copyright (c) 2009-2015 Eric Lombrozo, The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+/*\n+                     _             _     _ _                         \n+ __   _____ _ __ ___(_) ___  _ __ | |__ (_) |_ ___   ___ _ __  _ __  ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42125267",
      "id" : 42125267,
      "original_commit_id" : "220bd24fcf334d98c92230e0b998127bb09ea6ca",
      "original_position" : 6,
      "path" : "src/consensus/versionbits.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-17T10:01:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42125267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@jtimon @sipa After thinking a little bit more about how to make the soft fork deployments chain-specific, I think CChainParams is the place to initialize that, not Consensus::Params. So I added a SoftForkDeployments member to CChainParams and created a dummy BIP9999 on regtest to demonstrate the deployment mechanism in action.",
      "created_at" : "2015-10-16T07:28:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148636848",
      "id" : 148636848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-16T07:28:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148636848",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "Consensus::Params it's the place to put consensus critical chain params, not CChainParams. If libconsensus was complete you would have just broke its build or moved consensus functionality out of libconsensus by putting it in the NON CONSENSUS COMPATIBLE CChainParams. Can you please follow the C API compatible suggestion?\r\nHow do you plan to expose CChainParams in libconsensus' API if not by passing Consensus::Params to the exposed functions that need it?",
      "created_at" : "2015-10-16T07:39:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148638887",
      "id" : 148638887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-16T07:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148638887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@CodeShark The idea is that there are three layers of chain-specific parameters...:\r\n* basechainparams, which contain things shared by both nodes and RPC clients\r\n* consensus/params, which contains all consensus-critical parametersl\r\n* chainparams, which contains node operation parameters, including an encapsulated consensus/params\r\n\r\nThe reason is to avoid having the consensus code depend on knowing where DNS seeds are, or to avoid having the RPC code depend on CBlock because of the genesis definition.\r\n",
      "created_at" : "2015-10-16T12:16:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148701500",
      "id" : 148701500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-16T12:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148701500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa OK, I guess what I meant to say is that CChainParams (or its subclasses, rather) is where the Consensus::Params structure gets initialized. So I went ahead and moved the SoftForkDeployments instance to Consensus::Params and am initializing immediately after the other Consensus::Params fields are initialized.",
      "created_at" : "2015-10-16T12:35:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148705259",
      "id" : 148705259,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-16T12:35:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148705259",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "Oh, sure, that's perfect!\n",
      "created_at" : "2015-10-16T12:39:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#issuecomment-148705881",
      "id" : 148705881,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6816",
      "updated_at" : "2015-10-16T12:39:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/148705881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42351118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42351118"
         }
      },
      "body" : "This field ( by being a C++ class with methods) impedes this file from being exposed in the libconsensus C API. What's wrong with moving the rules enum to this file and having a static size array as suggested?\r\nMaybe you have an alternative to passing a Consensus::Params struct as a parameter of the exposed C libconsensus runctions that need it the communicate chain-dependent data?\r\nCan you draft a C API for contextualcheckblockheader after this (don't worry about CBlockIndex which is that part to be solved, worry about the part that was solved but you are breaking here). Maybe taking a look at #5995 (where a C API compatible VerifyHeader is compiled within libconsensus) helps you understand what exactly you are breaking with this.",
      "commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "created_at" : "2015-10-19T09:25:15Z",
      "diff_hunk" : "@@ -19,6 +20,8 @@ struct Params {\n     int nMajorityEnforceBlockUpgrade;\n     int nMajorityRejectBlockOutdated;\n     int nMajorityWindow;\n+    /** Used for versionbits */\n+    VersionBits::SoftForkDeployments softForkDeployments;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6816#discussion_r42351118",
      "id" : 42351118,
      "original_commit_id" : "77c3fada7c6a280f1fce30ad605733303d74fa0d",
      "original_position" : 13,
      "path" : "src/consensus/params.h",
      "position" : 13,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6816",
      "updated_at" : "2015-10-19T10:17:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/42351118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
