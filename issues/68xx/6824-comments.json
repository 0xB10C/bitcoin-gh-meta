[
   {
      "body" : "\n> As well as wallets : if you want to send 1000 satoshi to Alice, but\n> have a coin of 2100 satoshi. A wallet with MinTxRelayFee of 1000 will\n> send the 1100 satoshi of change.\n> But if you change the MinTxRelayFee abruptly to 5000 like that and I\n> don't update the wallet software, now, the transaction will be ignored\n> because the change is considered Dust.\n>\nIf a transaction is below the mintxrelayfee it will not necesarily be\nignored.  it still may be accepted into the memory pool based on the\nvalue of -limitfreerelay.\n>\n> The dust rule prevents UTXO bloating by preventing the creation of\n> TxOut whose value is lower than the cost of the ScriptSig to spend it.\n>\n> There is some discussion about making a floating minRelayTxFee on\n> #6722 <https://github.com/bitcoin/bitcoin/pull/6722> which will even\n> more complicate the task for wallets and services who will need to get\n> this new variable from somewhere.\n>\n\nIn _#6803_ <https://github.com/bitcoin/bitcoin/pull/6803> minrelaytxfee\nis increased linearly once the mempool is full.  Wallets would only need\nto know the size of the mempool to calculate what the current value of\nminrelaytxfee would be.\n\n> I am opening this issue to propose another solution : Defining Dust as\n> a function of the Transaction Fee.\n>\n> This has the advantage to not require any data which a wallet or\n> service does not already have, and offer the best response we can get\n> of \"does this output cost more than spending it\". This can also be\n> easily implemented and reviewed.\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/issues/6824>.\n>\n\n",
      "created_at" : "2015-10-14T04:23:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147931370",
      "id" : 147931370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T04:23:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147931370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : ">  Wallets would only need\r\nto know the size of the mempool to calculate what the current value of\r\nminrelaytxfee would be.\r\n\r\nThis is an information most wallet do not have, contrary to recommended fee, also, it does not match what the dust is : a way to prevent uneconomical output.",
      "created_at" : "2015-10-14T04:37:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147933299",
      "id" : 147933299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T04:38:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147933299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "The recent spam attack showed pretty persuasively that the dust values had been moved too low as well (perhaps even more so than the relay fee-- considering the incredible amount of utxo set bloat).\r\n\r\nMaking them depend on the actual fees would have the perverse incentive of encouraging _lower_ fees to squeeze more dust through. Please go battle out with coblee who was loudly calling Bitcoin flawed for not adopting litecoins progressively _higher_ fees with more dust. :)  \r\n\r\nKeep in mind that the relay fee and dust limits are minimums---- if you're depending on sending things at the minimum you may have a bad time; especially if you're doing so without the benefit of realtime network intelligence (e.g. a mempool.). Since the minrelayfee is a _minimum_ (at least for non-treated-as-free transactions) a scheme based on the actual fees would also not result in anything but a higher dust threshold.\r\n\r\nI suppose you could already go ahead and use the actual fee for your dust threshold behavior-- you'll end up with an overly conservative value, but so long as you're meeting minrelayfee you have enough.",
      "created_at" : "2015-10-14T04:38:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147933380",
      "id" : 147933380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T04:38:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147933380",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> I suppose you could already go ahead and use the actual fee for your dust threshold behavior-- you'll end up with an overly conservative value, but so long as you're meeting minrelayfee you have enough.\r\n\r\nI was thinking about that, my main problem is that I don't know when this minRelayFee change will kick again. I can't use exactly the fee rate of the actual transaction, this will be too high and overkill, but if I take anything less based on some formula, then I'm not garanteed that one day, the minRelayTxFee will move again and break what I did.\r\n\r\n> Making them depend on the actual fees would have the perverse incentive of encouraging lower fees to squeeze more dust through.\r\n\r\nyes, but if you lower fee, your transaction might not end up in a block or mempool anyway, because it will be kicked out by https://github.com/bitcoin/bitcoin/pull/6722 . My observation does not exclude having PR 6722, just that MinRelayTxFee and Dust be decoupled so wallet don't need any other external magic value.",
      "created_at" : "2015-10-14T04:46:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147933989",
      "id" : 147933989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T04:48:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147933989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Couldn't the dust threshold be based on the fee of the transaction that it is part of? Not based on any estimated optimal fee or anthing like that.\r\nIf a transaction is relayed and mined with a certain fee that means that that fee/kb is a fee that has a chance of getting mined, thus making the dust based on that should be a fair choice.\r\n\r\nAlso something to consider is that wallets when doing coin selection are supposed to avoid a dust change output and instead add it to the fee. \r\nSo your point about not relying on minimums for the various meta protocols @gmaxwell is a valid one, they could easily use a higher value because the coins are never lost.    \r\nbut for determinating if it's worth adding a change output or not is a very different case, there needs to be a clear threshold where wallets decide to give the coins to the miner instead.\r\n\r\nor do you have a different opinion / idea on how a wallet should decide when it's no longer worth adding a change output?",
      "created_at" : "2015-10-14T09:46:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147993077",
      "id" : 147993077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T09:48:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147993077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649160?v=3",
         "events_url" : "https://api.github.com/users/rubensayshi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rubensayshi/followers",
         "following_url" : "https://api.github.com/users/rubensayshi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rubensayshi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rubensayshi",
         "id" : 649160,
         "login" : "rubensayshi",
         "organizations_url" : "https://api.github.com/users/rubensayshi/orgs",
         "received_events_url" : "https://api.github.com/users/rubensayshi/received_events",
         "repos_url" : "https://api.github.com/users/rubensayshi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rubensayshi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rubensayshi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rubensayshi"
      }
   },
   {
      "body" : "Note that #6722 reverts the minRelayTxFee to 1000, resetting the dust limit by side-effect (if we want to change that, it should be separately discussed, however).",
      "created_at" : "2015-10-14T09:58:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/6824#issuecomment-147997212",
      "id" : 147997212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6824",
      "updated_at" : "2015-10-14T09:59:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/147997212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
