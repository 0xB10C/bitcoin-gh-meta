[
   {
      "body" : "ut ACK\r\n\r\nNeeds some measuring - I do not expect any overhead, given that messages are composed and then sent to write(2), as much as write(2) will swallow.  Should create packets as large as path MTU and conditions will permit.",
      "created_at" : "2015-10-21T23:59:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6867#issuecomment-150057469",
      "id" : 150057469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6867",
      "updated_at" : "2015-10-21T23:59:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/150057469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Gavin did a test which was basically the right test for measuring the performance impact, I pinged him and asked him to try this.\r\n\r\nWe do have some messages that are fairly small-- things like pings. There will be some amplification as a result, but I doubt it will be much. I'll see if I can figure out a setup for measuring that. ",
      "created_at" : "2015-10-22T00:15:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6867#issuecomment-150060068",
      "id" : 150060068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6867",
      "updated_at" : "2015-10-22T00:15:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/150060068",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I think you'll also need it in SocketSendData:\r\n\r\n       -int nBytes = send(pnode->hSocket, &data[pnode->nSendOffset], data.size() - pnode->nSendOffset, MSG_NOSIGNAL | MSG_DONTWAIT);\r\n       +int nBytes = send(pnode->hSocket, &data[pnode->nSendOffset], data.size() - pnode->nSendOffset, MSG_NOSIGNAL | MSG_DONTWAIT | TCP_NODELAY);\r\n\r\n",
      "created_at" : "2015-10-22T00:23:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6867#issuecomment-150062143",
      "id" : 150062143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6867",
      "updated_at" : "2015-10-22T00:23:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/150062143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   }
]
