[
   {
      "author_association" : "MEMBER",
      "body" : "Conceptual suggestion by @amitiuttarwar https://github.com/bitcoin/bitcoin/pull/18038#discussion_r413994990\r\nApproach suggestion by @promag https://github.com/bitcoin/bitcoin/pull/18751#pullrequestreview-400510676\r\nImplementation by @sipa https://github.com/bitcoin/bitcoin/pull/18751#issuecomment-619635073",
      "created_at" : "2020-04-27T13:16:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#issuecomment-619979122",
      "id" : 619979122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTk3OTEyMg==",
      "updated_at" : "2020-04-27T13:16:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619979122",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Appears to be working for me:\r\n\r\n```\r\nerror: no matching function for call to 'GetRandDur'\r\n    GetRandDur(std::chrono::hours{1});\r\n    ^~~~~~~~~~\r\n./random.h:74:3: note: candidate template ignored: couldn't infer template argument 'D'\r\nD GetRandDur(typename std::common_type<D>::type max) noexcept\r\n  ^\r\n1 error generated.\r\n",
      "created_at" : "2020-04-27T13:16:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#issuecomment-619979497",
      "id" : 619979497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTk3OTQ5Nw==",
      "updated_at" : "2020-04-27T13:16:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619979497",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415818005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415818005"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would `GetRandDuration` or `GetRandomDuration` be too long? It would be clearer (and fwiw \"Dur\" means \"hard\" in French :smile:)",
      "commit_id" : "fa631001ad26c7015f04043ce4a8f16577aa07b5",
      "created_at" : "2020-04-27T13:36:04Z",
      "diff_hunk" : "@@ -67,8 +67,15 @@\n  * Thread-safe.\n  */\n void GetRandBytes(unsigned char* buf, int num) noexcept;\n+/** Generate a random integer in the range [0..range). Precondition: range > 0 */\n uint64_t GetRand(uint64_t nMax) noexcept;\n-std::chrono::microseconds GetRandMicros(std::chrono::microseconds duration_max) noexcept;\n+/** Generate a random duration in the range [0..max). Precondition: max.count() > 0 */\n+template <typename D>\n+D GetRandDur(typename std::common_type<D>::type max) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415818005",
      "id" : 415818005,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxODAwNQ==",
      "original_commit_id" : "bbbb7486a5a949a71e8973260c28fb1f19e2d9b7",
      "original_line" : 74,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 400957490,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T13:38:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415818005",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415820308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415820308"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks. Fixed",
      "commit_id" : "fa631001ad26c7015f04043ce4a8f16577aa07b5",
      "created_at" : "2020-04-27T13:39:04Z",
      "diff_hunk" : "@@ -67,8 +67,15 @@\n  * Thread-safe.\n  */\n void GetRandBytes(unsigned char* buf, int num) noexcept;\n+/** Generate a random integer in the range [0..range). Precondition: range > 0 */\n uint64_t GetRand(uint64_t nMax) noexcept;\n-std::chrono::microseconds GetRandMicros(std::chrono::microseconds duration_max) noexcept;\n+/** Generate a random duration in the range [0..max). Precondition: max.count() > 0 */\n+template <typename D>\n+D GetRandDur(typename std::common_type<D>::type max) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415820308",
      "id" : 415820308,
      "in_reply_to_id" : 415818005,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgyMDMwOA==",
      "original_commit_id" : "bbbb7486a5a949a71e8973260c28fb1f19e2d9b7",
      "original_line" : 74,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 400960144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T13:39:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415820308",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Force pushed to\r\n* Make diff smaller by 2 lines, but at the same time introduce a new `GetRandMillis`\r\n* Address feedback by @jonatack to clarify the function name",
      "created_at" : "2020-04-27T13:40:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#issuecomment-619993132",
      "id" : 619993132,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTk5MzEzMg==",
      "updated_at" : "2020-04-27T13:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619993132",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415822539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415822539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks :)",
      "commit_id" : "fa631001ad26c7015f04043ce4a8f16577aa07b5",
      "created_at" : "2020-04-27T13:41:47Z",
      "diff_hunk" : "@@ -67,8 +67,15 @@\n  * Thread-safe.\n  */\n void GetRandBytes(unsigned char* buf, int num) noexcept;\n+/** Generate a random integer in the range [0..range). Precondition: range > 0 */\n uint64_t GetRand(uint64_t nMax) noexcept;\n-std::chrono::microseconds GetRandMicros(std::chrono::microseconds duration_max) noexcept;\n+/** Generate a random duration in the range [0..max). Precondition: max.count() > 0 */\n+template <typename D>\n+D GetRandDur(typename std::common_type<D>::type max) noexcept",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#discussion_r415822539",
      "id" : 415822539,
      "in_reply_to_id" : 415818005,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgyMjUzOQ==",
      "original_commit_id" : "bbbb7486a5a949a71e8973260c28fb1f19e2d9b7",
      "original_line" : 74,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/random.h",
      "position" : null,
      "pull_request_review_id" : 400962906,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T13:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/415822539",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK, could add unit tests to `util_tests` or `random_tests`? Only GetRand and GetRandInt seem to have coverage.",
      "created_at" : "2020-04-27T15:08:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#issuecomment-620045930",
      "id" : 620045930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDA0NTkzMA==",
      "updated_at" : "2020-04-27T15:08:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620045930",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Done",
      "created_at" : "2020-04-27T15:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18781#issuecomment-620068646",
      "id" : 620068646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDA2ODY0Ng==",
      "updated_at" : "2020-04-27T15:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620068646",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
