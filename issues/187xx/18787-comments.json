[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416151291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416151291"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I wonder if this can just be simplified from `Native Descriptor Wallets` to `Descriptor Wallets`",
      "commit_id" : "2bc232214c538933cc30823a3905d9d445347255",
      "created_at" : "2020-04-27T21:10:43Z",
      "diff_hunk" : "@@ -0,0 +1,108 @@\n+Wallet\n+------\n+\n+### Experimental Descriptor Wallets\n+\n+Please note that Descriptor Wallets are still experimental and not all expected functionality\n+is available. Additionally there may be some bugs and current functions may change in the future.\n+\n+0.21 introduces a new type of wallet - Native Descriptor Wallets. Descriptor Wallets store",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416151291",
      "id" : 416151291,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1MTI5MQ==",
      "original_commit_id" : "5cab281b45f8051be8eb3924beb15fdad3b898b0",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes-16528.md",
      "position" : null,
      "pull_request_review_id" : 401329324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T21:27:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416151291",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416156265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416156265"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "just curious, when would this assert?",
      "commit_id" : "2bc232214c538933cc30823a3905d9d445347255",
      "created_at" : "2020-04-27T21:19:27Z",
      "diff_hunk" : "@@ -1510,7 +1510,9 @@ bool DescriptorScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDest\n     {\n         LOCK(cs_desc_man);\n         assert(m_wallet_descriptor.descriptor->IsSingleType()); // This is a combo descriptor which should not be an active descriptor\n-        if (type != m_address_type) {\n+        Optional<OutputType> desc_addr_type = m_wallet_descriptor.descriptor->GetOutputType();\n+        assert(desc_addr_type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416156265",
      "id" : 416156265,
      "line" : 1514,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1NjI2NQ==",
      "original_commit_id" : "bfb1ae95dc754f0b1afe2842c0d052930dcc38ca",
      "original_line" : 1514,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : 15,
      "pull_request_review_id" : 401329324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T21:27:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416156265",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416161000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416161000"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "2bc232214c538933cc30823a3905d9d445347255",
      "created_at" : "2020-04-27T21:27:23Z",
      "diff_hunk" : "@@ -0,0 +1,108 @@\n+Wallet\n+------\n+\n+### Experimental Descriptor Wallets\n+\n+Please note that Descriptor Wallets are still experimental and not all expected functionality\n+is available. Additionally there may be some bugs and current functions may change in the future.\n+\n+0.21 introduces a new type of wallet - Native Descriptor Wallets. Descriptor Wallets store",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416161000",
      "id" : 416161000,
      "in_reply_to_id" : 416151291,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE2MTAwMA==",
      "original_commit_id" : "5cab281b45f8051be8eb3924beb15fdad3b898b0",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes-16528.md",
      "position" : null,
      "pull_request_review_id" : 401339594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T21:27:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416161000",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416161456"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416161456"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If the descriptor was an `addr()`, `raw()`, or `combo()` descriptor. But it shouldn't be possible to reach this point with those descriptors.",
      "commit_id" : "2bc232214c538933cc30823a3905d9d445347255",
      "created_at" : "2020-04-27T21:28:13Z",
      "diff_hunk" : "@@ -1510,7 +1510,9 @@ bool DescriptorScriptPubKeyMan::GetNewDestination(const OutputType type, CTxDest\n     {\n         LOCK(cs_desc_man);\n         assert(m_wallet_descriptor.descriptor->IsSingleType()); // This is a combo descriptor which should not be an active descriptor\n-        if (type != m_address_type) {\n+        Optional<OutputType> desc_addr_type = m_wallet_descriptor.descriptor->GetOutputType();\n+        assert(desc_addr_type);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18787#discussion_r416161456",
      "id" : 416161456,
      "in_reply_to_id" : 416156265,
      "line" : 1514,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE2MTQ1Ng==",
      "original_commit_id" : "bfb1ae95dc754f0b1afe2842c0d052930dcc38ca",
      "original_line" : 1514,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : 15,
      "pull_request_review_id" : 401340130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18787",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-27T21:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/416161456",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18782 (wallet: Make sure no DescriptorScriptPubKeyMan or WalletDescriptor members are left uninitialized after construction by practicalswift)\n* #16549 ([WIP] UI external signer support (e.g. hardware wallet) by Sjors)\n* #16546 (External signer support - Wallet Box edition by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-27T23:03:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18787#issuecomment-620280534",
      "id" : 620280534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18787",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDI4MDUzNA==",
      "updated_at" : "2020-04-27T23:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620280534",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
