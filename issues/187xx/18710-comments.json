[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?",
      "created_at" : "2020-04-20T15:13:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616618525",
      "id" : 616618525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxODUyNQ==",
      "updated_at" : "2020-04-20T15:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616618525",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also, with this PR (I hope) it could be easier to resurrect a bunch of brilliant ideas from #9938.\r\n\r\ncc @JeremyRubin ",
      "created_at" : "2020-04-20T15:14:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616618857",
      "id" : 616618857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxODg1Nw==",
      "updated_at" : "2020-04-20T15:14:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616618857",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?\r\n\r\nThanks for pointing to #14464. I'll look into it.\r\n",
      "created_at" : "2020-04-20T15:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616619953",
      "id" : 616619953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxOTk1Mw==",
      "updated_at" : "2020-04-20T15:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616619953",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18639 (Prevent consecutive ::cs_main locks by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-20T16:06:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616651627",
      "id" : 616651627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjY1MTYyNw==",
      "updated_at" : "2020-04-23T04:59:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616651627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 9764d81e1f000d1bd3c03ac6f6f4361c4aa84ee9  -> f4cd37e93a522d5ab2bc872d129a0142be773a7d ([pr18710.01](https://github.com/hebasto/bitcoin/commits/pr18710.01) -> [pr18710.02](https://github.com/hebasto/bitcoin/commits/pr18710.02), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.01..pr18710.02)):\r\n\r\n- fixed linter issue with boost headers",
      "created_at" : "2020-04-20T17:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616711942",
      "id" : 616711942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjcxMTk0Mg==",
      "updated_at" : "2020-04-20T17:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616711942",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice! From a simple code review PoV it looks good.\r\n\r\nI remember there being a bunch of subtle nasties in the specifics of using std::threads v.s. boost threads around interrupt system and the details of how condition variables work. I can't remember what they all were though now. I think #14464 closed because of that...\r\n\r\n\r\nBut generally huge concept ack on anything that makes #9938 more likely to move forward! Note though that the cuckoocache sort of stole it's thunder -- a lot of the contention in the CheckQueue was around the sigcache locking and the cuckoocache made that stuff way faster so it's not obvious #9938 will show as impressive gains, and the trade offs for consensus code may be less worth it. Can discuss more via IRC; I'd love to get some of the improvements through in any case.",
      "created_at" : "2020-04-21T06:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616979595",
      "id" : 616979595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjk3OTU5NQ==",
      "updated_at" : "2020-04-21T06:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616979595",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?\r\n\r\nThe differences from #14464 are:\r\n- absence of `Interrupt()` function\r\n- an additional atomic `m_destruction_in_progress` that replaces the boost \"interrupt\" feature: https://github.com/bitcoin/bitcoin/blob/f4cd37e93a522d5ab2bc872d129a0142be773a7d/src/checkqueue.h#L96-L97 and https://github.com/bitcoin/bitcoin/blob/f4cd37e93a522d5ab2bc872d129a0142be773a7d/src/checkqueue.h#L172-L173\r\n",
      "created_at" : "2020-04-21T17:08:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617291612",
      "id" : 617291612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzI5MTYxMg==",
      "updated_at" : "2020-04-21T17:26:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617291612",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated f4cd37e93a522d5ab2bc872d129a0142be773a7d  -> b02bc2583e421dbca35a5652c650ae861230f480 ([pr18710.02](https://github.com/hebasto/bitcoin/commits/pr18710.02) -> [pr18710.03](https://github.com/hebasto/bitcoin/commits/pr18710.03), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.02..pr18710.03)):\r\n\r\n- picked some ideas from #14464\r\n- reduced scope of the PR (some commits has been moved into the #18731)\r\n- OP updated (now every commit passes unit tests)",
      "created_at" : "2020-04-21T21:14:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617417653",
      "id" : 617417653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzQxNzY1Mw==",
      "updated_at" : "2020-04-22T00:34:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617417653",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Benchmark results on my machine:\r\n- master (a998c5185bc7fc2c7e22312fac60175cb2869bdd)\r\n```\r\n# Benchmark, evals, iterations, total, min, max, median\r\nCCheckQueueSpeedPrevectorJob, 100, 1400, 96.3747, 0.000677139, 0.000695471, 0.000688339\r\n```\r\n\r\n- this PR (b02bc2583e421dbca35a5652c650ae861230f480)\r\n\r\n```\r\n# Benchmark, evals, iterations, total, min, max, median\r\nCCheckQueueSpeedPrevectorJob, 100, 1400, 77.4393, 0.000545271, 0.00057892, 0.000552496\r\n```",
      "created_at" : "2020-04-21T22:28:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617446268",
      "id" : 617446268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzQ0NjI2OA==",
      "updated_at" : "2020-04-21T22:28:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617446268",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-22T16:17:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617880122",
      "id" : 617880122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzg4MDEyMg==",
      "updated_at" : "2020-04-22T16:17:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617880122",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased b02bc2583e421dbca35a5652c650ae861230f480 -> https://github.com/bitcoin/bitcoin/commit/f16f7f79dcd5d6c1b55966317b8762abeb5561c3 ([pr18710.03](https://github.com/hebasto/bitcoin/commits/pr18710.03) -> [pr18710.04](https://github.com/hebasto/bitcoin/commits/pr18710.04)) due to the conflict with #18575.",
      "created_at" : "2020-04-22T22:52:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-618080438",
      "id" : 618080438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxODA4MDQzOA==",
      "updated_at" : "2020-04-22T22:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618080438",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        for (int n = 0; n < threads_num; ++n) {\r\n```\r\n\r\nis shorter and more precise",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:33:57Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;\n+        assert(m_worker_threads.empty());\n+        m_stopped = false;\n+        m_worker_threads.reserve(threads_num);\n+        for (auto n = 0; n < threads_num; ++n) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192321",
      "id" : 414192321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5MjMyMQ==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 149,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192321",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192412"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192412"
         }
      },
      "author_association" : "MEMBER",
      "body" : "is this useful in any way?",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:34:13Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;\n+        assert(m_worker_threads.empty());\n+        m_stopped = false;\n+        m_worker_threads.reserve(threads_num);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192412",
      "id" : 414192412,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5MjQxMg==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 148,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192412",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this needed? the for loop will never run anyway when this is true.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:35:07Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414192766",
      "id" : 414192766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5Mjc2Ng==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 145,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414192766",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414193766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414193766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also, shouldn't the `if (m_stopped)` be *after* the condition variable `wait`? Otherwise notifying it will first empty the queue.\r\nFinally, `m_stopped` could be renamed to `m_request_stop` and only briefly set in `StopWorkerThreads` to true and then immediately after to false. No other member functions (like StartWorkerThreads) touch it",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:37:47Z",
      "diff_hunk" : "@@ -95,6 +101,7 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (m_stopped) return true; // TODO: This return value is unused.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414193766",
      "id" : 414193766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5Mzc2Ng==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 104,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414193766",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414197590"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414197590"
         }
      },
      "author_association" : "MEMBER",
      "body" : "1c7fdb71b32bd91f6ae10313169d9eec63d46e3e: This commit should probably go last, because some of the changes are removed earlier anyway",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:47:24Z",
      "diff_hunk" : "@@ -9,7 +9,7 @@\n #include <util/time.h>\n \n #include <boost/test/unit_test.hpp>\n-#include <boost/thread.hpp>\n+#include <boost/thread/thread.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414197590",
      "id" : 414197590,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5NzU5MA==",
      "original_commit_id" : "1c7fdb71b32bd91f6ae10313169d9eec63d46e3e",
      "original_line" : 12,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414197590",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414198030"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414198030"
         }
      },
      "author_association" : "MEMBER",
      "body" : "d64dd5ffee064b0b943b7e00b16b0ad28ac65474: Why remove this test?",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:48:34Z",
      "diff_hunk" : "@@ -373,71 +347,7 @@ BOOST_AUTO_TEST_CASE(test_CheckQueue_FrozenCleanup)\n     FrozenCleanupCheck::cv.notify_one();\n     // Wait for control to finish\n     t0.join();\n-    tg.interrupt_all();\n-    tg.join_all();\n     BOOST_REQUIRE(!fails);\n-}\n-\n-\n-/** Test that CCheckQueueControl is threadsafe */\n-BOOST_AUTO_TEST_CASE(test_CheckQueueControl_Locks)\n-{\n-    auto queue = MakeUnique<Standard_Queue>(QUEUE_BATCH_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414198030",
      "id" : 414198030,
      "line" : 385,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5ODAzMA==",
      "original_commit_id" : "d64dd5ffee064b0b943b7e00b16b0ad28ac65474",
      "original_line" : 385,
      "original_position" : 145,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : 154,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414198030",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414198755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414198755"
         }
      },
      "author_association" : "MEMBER",
      "body" : "629dae24827121412fb24d31ac19a918ade1db3f: why remove the documentation? ",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-23T23:50:44Z",
      "diff_hunk" : "@@ -33,34 +30,29 @@ template <typename T>\n class CCheckQueue\n {\n private:\n-    //! Mutex to protect the inner state\n-    boost::mutex mutex;\n-\n-    //! Worker threads block on this when out of work\n-    boost::condition_variable condWorker;\n-\n-    //! Master thread blocks on this when out of work",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414198755",
      "id" : 414198755,
      "line" : 39,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE5ODc1NQ==",
      "original_commit_id" : "629dae24827121412fb24d31ac19a918ade1db3f",
      "original_line" : 39,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : 28,
      "pull_request_review_id" : 399543795,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414198755",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414498924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414498924"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In that case in the commit _\"bench: Use CCheckQueue local thread pool\"_ the `lint-includes.sh` linter will produce:\r\n```\r\nGood job! The Boost dependency \"boost/thread/thread.hpp\" is no longer used.\r\nPlease remove it from EXPECTED_BOOST_INCLUDES in ./test/lint/lint-includes.sh\r\nto make sure this dependency is not accidentally reintroduced.\r\n```\r\nwhich seems a bit falsely.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:21:26Z",
      "diff_hunk" : "@@ -9,7 +9,7 @@\n #include <util/time.h>\n \n #include <boost/test/unit_test.hpp>\n-#include <boost/thread.hpp>\n+#include <boost/thread/thread.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414498924",
      "id" : 414498924,
      "in_reply_to_id" : 414197590,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDQ5ODkyNA==",
      "original_commit_id" : "1c7fdb71b32bd91f6ae10313169d9eec63d46e3e",
      "original_line" : 12,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 399859430,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414498924",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414500268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414500268"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I hope that no one is running the linters on every commit. They are meant to warn authors and reviewers as well as maintainers of code smell in a pull request as a whole. They are not meant as unit tests that absolutely must pass on every commit.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:23:53Z",
      "diff_hunk" : "@@ -9,7 +9,7 @@\n #include <util/time.h>\n \n #include <boost/test/unit_test.hpp>\n-#include <boost/thread.hpp>\n+#include <boost/thread/thread.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414500268",
      "id" : 414500268,
      "in_reply_to_id" : 414197590,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwMDI2OA==",
      "original_commit_id" : "1c7fdb71b32bd91f6ae10313169d9eec63d46e3e",
      "original_line" : 12,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 399860848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414500268",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414501529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414501529"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I have no idea how to pass a customized callback into the `CCheckQueue::StartWorkerThreads(int)`.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:26:07Z",
      "diff_hunk" : "@@ -373,71 +347,7 @@ BOOST_AUTO_TEST_CASE(test_CheckQueue_FrozenCleanup)\n     FrozenCleanupCheck::cv.notify_one();\n     // Wait for control to finish\n     t0.join();\n-    tg.interrupt_all();\n-    tg.join_all();\n     BOOST_REQUIRE(!fails);\n-}\n-\n-\n-/** Test that CCheckQueueControl is threadsafe */\n-BOOST_AUTO_TEST_CASE(test_CheckQueueControl_Locks)\n-{\n-    auto queue = MakeUnique<Standard_Queue>(QUEUE_BATCH_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414501529",
      "id" : 414501529,
      "in_reply_to_id" : 414198030,
      "line" : 385,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwMTUyOQ==",
      "original_commit_id" : "d64dd5ffee064b0b943b7e00b16b0ad28ac65474",
      "original_line" : 385,
      "original_position" : 145,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : 154,
      "pull_request_review_id" : 399862230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414501529",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414507074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414507074"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:36:12Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;\n+        assert(m_worker_threads.empty());\n+        m_stopped = false;\n+        m_worker_threads.reserve(threads_num);\n+        for (auto n = 0; n < threads_num; ++n) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414507074",
      "id" : 414507074,
      "in_reply_to_id" : 414192321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNzA3NA==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 149,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399868109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414507074",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414509470"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414509470"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The idea was to prevent `m_stopped = false;`",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:40:23Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414509470",
      "id" : 414509470,
      "in_reply_to_id" : 414192766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwOTQ3MA==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 145,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399870581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414509470",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414519480"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414519480"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Otherwise notifying it will first empty the queue.\r\n\r\nCorrect. This is done intentionally as I think that worker threads should exit with a clean check queue, no?",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T11:58:17Z",
      "diff_hunk" : "@@ -95,6 +101,7 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (m_stopped) return true; // TODO: This return value is unused.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414519480",
      "id" : 414519480,
      "in_reply_to_id" : 414193766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUxOTQ4MA==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 104,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399881148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414519480",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414525463"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414525463"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Also, shouldn't the `if (m_stopped)` be _after_ the condition variable `wait`?\r\n\r\nThis wouldn't work for the master thread that could never return.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T12:08:47Z",
      "diff_hunk" : "@@ -95,6 +101,7 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (m_stopped) return true; // TODO: This return value is unused.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414525463",
      "id" : 414525463,
      "in_reply_to_id" : 414193766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUyNTQ2Mw==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 104,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399887719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414525463",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414532313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414532313"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Finally, `m_stopped` could be renamed to `m_request_stop` and only briefly set in `StopWorkerThreads` to true and then immediately after to false.\r\n\r\nHow this approach could work when `StopWorkerThreads()` is called during check queue being processed? I think `m_stopped` should keep its state in that case.",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T12:20:20Z",
      "diff_hunk" : "@@ -95,6 +101,7 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (m_stopped) return true; // TODO: This return value is unused.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414532313",
      "id" : 414532313,
      "in_reply_to_id" : 414193766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUzMjMxMw==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 104,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399895314,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414532313",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated f16f7f79dcd5d6c1b55966317b8762abeb5561c3 -> 7a7e346a1d153fc7367bca5a1926881af65279ec ([pr18710.04](https://github.com/hebasto/bitcoin/commits/pr18710.04) -> [pr18710.05](https://github.com/hebasto/bitcoin/commits/pr18710.05), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.04..pr18710.05)):\r\n\r\n- addressed all of @MarcoFalke's comments",
      "created_at" : "2020-04-24T13:25:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172",
      "id" : 619008172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTAwODE3Mg==",
      "updated_at" : "2020-04-24T13:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619008172",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576225"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:28:57Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;\n+        assert(m_worker_threads.empty());\n+        m_stopped = false;\n+        m_worker_threads.reserve(threads_num);\n+        for (auto n = 0; n < threads_num; ++n) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576225",
      "id" : 414576225,
      "in_reply_to_id" : 414192321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3NjIyNQ==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 149,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399946102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:28:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576225",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576513"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:29:24Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;\n+        assert(m_worker_threads.empty());\n+        m_stopped = false;\n+        m_worker_threads.reserve(threads_num);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576513",
      "id" : 414576513,
      "in_reply_to_id" : 414192412,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3NjUxMw==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 148,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399946445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:29:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576513",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576627"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:29:35Z",
      "diff_hunk" : "@@ -132,16 +139,31 @@ class CCheckQueue\n     {\n     }\n \n+    //! Create a pool of new worker threads.\n+    void StartWorkerThreads(const int threads_num)\n+    {\n+        if (threads_num <= 0) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576627",
      "id" : 414576627,
      "in_reply_to_id" : 414192766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3NjYyNw==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 145,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399946587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:29:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576627",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:29:46Z",
      "diff_hunk" : "@@ -95,6 +101,7 @@ class CCheckQueue\n                         return fRet;\n                     }\n                     nIdle++;\n+                    if (m_stopped) return true; // TODO: This return value is unused.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576746",
      "id" : 414576746,
      "in_reply_to_id" : 414193766,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3Njc0Ng==",
      "original_commit_id" : "9c86a08b88e9868f1b0657fa13c831e24fdfe959",
      "original_line" : 104,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : null,
      "pull_request_review_id" : 399946735,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:29:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576746",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576837"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:29:56Z",
      "diff_hunk" : "@@ -9,7 +9,7 @@\n #include <util/time.h>\n \n #include <boost/test/unit_test.hpp>\n-#include <boost/thread.hpp>\n+#include <boost/thread/thread.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414576837",
      "id" : 414576837,
      "in_reply_to_id" : 414197590,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3NjgzNw==",
      "original_commit_id" : "1c7fdb71b32bd91f6ae10313169d9eec63d46e3e",
      "original_line" : 12,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/checkqueue_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 399946844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:29:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414576837",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414577010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414577010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619008172).",
      "commit_id" : "7a7e346a1d153fc7367bca5a1926881af65279ec",
      "created_at" : "2020-04-24T13:30:11Z",
      "diff_hunk" : "@@ -33,34 +30,29 @@ template <typename T>\n class CCheckQueue\n {\n private:\n-    //! Mutex to protect the inner state\n-    boost::mutex mutex;\n-\n-    //! Worker threads block on this when out of work\n-    boost::condition_variable condWorker;\n-\n-    //! Master thread blocks on this when out of work",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#discussion_r414577010",
      "id" : 414577010,
      "in_reply_to_id" : 414198755,
      "line" : 39,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU3NzAxMA==",
      "original_commit_id" : "629dae24827121412fb24d31ac19a918ade1db3f",
      "original_line" : 39,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/checkqueue.h",
      "position" : 28,
      "pull_request_review_id" : 399947068,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18710",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-24T13:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414577010",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In the last commit: Could replace the last occurrence of `thread.hpp` with `#include <boost/thread/shared_mutex.hpp>` and kill boost thread from the linter?",
      "created_at" : "2020-04-24T13:51:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619023235",
      "id" : 619023235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTAyMzIzNQ==",
      "updated_at" : "2020-04-24T13:51:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619023235",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 7a7e346a1d153fc7367bca5a1926881af65279ec -> 61739174c67a773d124734ab6ec3385657fe3ef8 ([pr18710.05](https://github.com/hebasto/bitcoin/commits/pr18710.05) -> [pr18710.06](https://github.com/hebasto/bitcoin/commits/pr18710.06), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.05..pr18710.06)):\r\n\r\n- addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619023235):\r\n\r\n> In the last commit: Could replace the last occurrence of `thread.hpp` with `#include <boost/thread/shared_mutex.hpp>` and kill boost thread from the linter?\r\n\r\n",
      "created_at" : "2020-04-24T14:36:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-619049521",
      "id" : 619049521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTA0OTUyMQ==",
      "updated_at" : "2020-04-24T14:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619049521",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
