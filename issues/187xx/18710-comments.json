[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?",
      "created_at" : "2020-04-20T15:13:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616618525",
      "id" : 616618525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxODUyNQ==",
      "updated_at" : "2020-04-20T15:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616618525",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also, with this PR (I hope) it could be easier to resurrect a bunch of brilliant ideas from #9938.\r\n\r\ncc @JeremyRubin ",
      "created_at" : "2020-04-20T15:14:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616618857",
      "id" : 616618857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxODg1Nw==",
      "updated_at" : "2020-04-20T15:14:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616618857",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?\r\n\r\nThanks for pointing to #14464. I'll look into it.\r\n",
      "created_at" : "2020-04-20T15:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616619953",
      "id" : 616619953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjYxOTk1Mw==",
      "updated_at" : "2020-04-20T15:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616619953",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18698 (Make g_chainman internal to validation by MarcoFalke)\n* #18639 (Prevent consecutive ::cs_main locks by hebasto)\n* #18637 (coins: allow cache resize after init by jamesob)\n* #18575 (bench: Remove requirement that all benches use same testing setup by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-20T16:06:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616651627",
      "id" : 616651627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjY1MTYyNw==",
      "updated_at" : "2020-04-20T16:06:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616651627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 9764d81e1f000d1bd3c03ac6f6f4361c4aa84ee9  -> f4cd37e93a522d5ab2bc872d129a0142be773a7d ([pr18710.01](https://github.com/hebasto/bitcoin/commits/pr18710.01) -> [pr18710.02](https://github.com/hebasto/bitcoin/commits/pr18710.02), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.01..pr18710.02)):\r\n\r\n- fixed linter issue with boost headers",
      "created_at" : "2020-04-20T17:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616711942",
      "id" : 616711942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjcxMTk0Mg==",
      "updated_at" : "2020-04-20T17:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616711942",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice! From a simple code review PoV it looks good.\r\n\r\nI remember there being a bunch of subtle nasties in the specifics of using std::threads v.s. boost threads around interrupt system and the details of how condition variables work. I can't remember what they all were though now. I think #14464 closed because of that...\r\n\r\n\r\nBut generally huge concept ack on anything that makes #9938 more likely to move forward! Note though that the cuckoocache sort of stole it's thunder -- a lot of the contention in the CheckQueue was around the sigcache locking and the cuckoocache made that stuff way faster so it's not obvious #9938 will show as impressive gains, and the trade offs for consensus code may be less worth it. Can discuss more via IRC; I'd love to get some of the improvements through in any case.",
      "created_at" : "2020-04-21T06:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-616979595",
      "id" : 616979595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjk3OTU5NQ==",
      "updated_at" : "2020-04-21T06:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616979595",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\n> Concept ACK on getting rid of boost in consensus code. This pull looks similar to #14464?\r\n\r\nThe differences from #14464 are:\r\n- absence of `Interrupt()` function\r\n- an additional atomic `m_destruction_in_progress` that replaces the boost \"interrupt\" feature: https://github.com/bitcoin/bitcoin/blob/f4cd37e93a522d5ab2bc872d129a0142be773a7d/src/checkqueue.h#L96-L97 and https://github.com/bitcoin/bitcoin/blob/f4cd37e93a522d5ab2bc872d129a0142be773a7d/src/checkqueue.h#L172-L173\r\n",
      "created_at" : "2020-04-21T17:08:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617291612",
      "id" : 617291612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzI5MTYxMg==",
      "updated_at" : "2020-04-21T17:26:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617291612",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated f4cd37e93a522d5ab2bc872d129a0142be773a7d  -> b02bc2583e421dbca35a5652c650ae861230f480 ([pr18710.02](https://github.com/hebasto/bitcoin/commits/pr18710.02) -> [pr18710.03](https://github.com/hebasto/bitcoin/commits/pr18710.03), [diff](https://github.com/hebasto/bitcoin/compare/pr18710.02..pr18710.03)):\r\n\r\n- picked some ideas from #14464\r\n- reduced scope of the PR (some commits moved into a separate PR)\r\n- OP updated (now every commit passes unit tests)",
      "created_at" : "2020-04-21T21:14:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18710#issuecomment-617417653",
      "id" : 617417653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18710",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzQxNzY1Mw==",
      "updated_at" : "2020-04-21T21:14:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617417653",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
