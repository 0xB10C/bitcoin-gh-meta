[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20260 (wallet: Create named SQLite wallet files instead of wallet directories by achow101)\n* #20094 (wallet: Unify wallet directory lock error message by hebasto)\n* #19168 (Refactor: Improve setup_clean_chain semantics by fjahr)\n* #19137 (wallettool: Add dump and createfromdump commands by achow101)\n* #19013 (test: add v0.20.1 to backwards compatibility test by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-27T23:03:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-620280294",
      "id" : 620280294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDI4MDI5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T05:24:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620280294",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but I'd prefer if we got the current tests green first: #18800 ",
      "created_at" : "2020-04-28T12:32:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-620576451",
      "id" : 620576451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDU3NjQ1MQ==",
      "updated_at" : "2020-04-28T12:32:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620576451",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-28T18:17:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-620773451",
      "id" : 620773451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMDc3MzQ1MQ==",
      "updated_at" : "2020-04-28T18:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/620773451",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-05-03T14:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-623120968",
      "id" : 623120968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzEyMDk2OA==",
      "updated_at" : "2020-05-03T14:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623120968",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Needs rebase, now that #18805 landed, which fixed #18800.",
      "created_at" : "2020-05-04T09:27:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-623356873",
      "id" : 623356873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzM1Njg3Mw==",
      "updated_at" : "2020-05-04T09:27:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623356873",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tests pass on macOS. The commit messages could be more descriptive than \"Fix wallet_importprunedfunds\", if only to aid the lazy reviewer in understanding what problems you're solving.",
      "created_at" : "2020-05-15T19:20:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-629434934",
      "id" : 629434934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyOTQzNDkzNA==",
      "updated_at" : "2020-05-15T19:20:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/629434934",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-05-19T00:09:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-630498995",
      "id" : 630498995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDQ5ODk5NQ==",
      "updated_at" : "2020-05-19T00:09:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630498995",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-05-19T01:48:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-630527017",
      "id" : 630527017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDUyNzAxNw==",
      "updated_at" : "2020-05-19T01:48:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630527017",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've updated the commit messages to be more descriptive.",
      "created_at" : "2020-05-26T17:04:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-634153514",
      "id" : 634153514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDE1MzUxNA==",
      "updated_at" : "2020-05-26T17:04:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634153514",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433275243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433275243"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In e3dc50344a57b926373bcc51aa2e213a682051be it seems problematic to replace  `createrawtransaction` and `fundrawtransaction` with PSBT methods in `rpc_fundrawtransaction.py`.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-06-01T14:41:18Z",
      "diff_hunk" : "@@ -480,22 +490,39 @@ def test_spend_2of2(self):\n         oldBalance = self.nodes[1].getbalance()\n         inputs = []\n         outputs = {self.nodes[1].getnewaddress():1.1}\n-        rawtx = self.nodes[2].createrawtransaction(inputs, outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433275243",
      "id" : 433275243,
      "line" : 492,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzI3NTI0Mw==",
      "original_commit_id" : "e3dc50344a57b926373bcc51aa2e213a682051be",
      "original_line" : 492,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 90,
      "pull_request_review_id" : 421900424,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433275243",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433332944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433332944"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's fine in some instances (like this one) because the funding code is the same and the goal is to check that the funding works.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-06-01T16:01:25Z",
      "diff_hunk" : "@@ -480,22 +490,39 @@ def test_spend_2of2(self):\n         oldBalance = self.nodes[1].getbalance()\n         inputs = []\n         outputs = {self.nodes[1].getnewaddress():1.1}\n-        rawtx = self.nodes[2].createrawtransaction(inputs, outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433332944",
      "id" : 433332944,
      "in_reply_to_id" : 433275243,
      "line" : 492,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzMzMjk0NA==",
      "original_commit_id" : "e3dc50344a57b926373bcc51aa2e213a682051be",
      "original_line" : 492,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 90,
      "pull_request_review_id" : 421974855,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433332944",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433344349"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433344349"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do we still sufficiently test the `createrawtransaction` and `fundrawtransaction` RPC elsewhere? Those are rather ancient, with all cool kids using PSBT it might be a while before we see a regression.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-06-01T16:22:47Z",
      "diff_hunk" : "@@ -480,22 +490,39 @@ def test_spend_2of2(self):\n         oldBalance = self.nodes[1].getbalance()\n         inputs = []\n         outputs = {self.nodes[1].getnewaddress():1.1}\n-        rawtx = self.nodes[2].createrawtransaction(inputs, outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433344349",
      "id" : 433344349,
      "in_reply_to_id" : 433275243,
      "line" : 492,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM0NDM0OQ==",
      "original_commit_id" : "e3dc50344a57b926373bcc51aa2e213a682051be",
      "original_line" : 492,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 90,
      "pull_request_review_id" : 421991270,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433344349",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433349200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433349200"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IMO we do. `createrawtransaction` and `fundrawtransaction` are still being tested in `rpc_fundrawtransaction.py` as well is in other tests. Additionally, `fundrawtransaction` basically only calls `FundTransaction` after a bit of options parsing, and `walletcreatefundedpsbt` calls this function as well, right after transaction creation.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-06-01T16:30:45Z",
      "diff_hunk" : "@@ -480,22 +490,39 @@ def test_spend_2of2(self):\n         oldBalance = self.nodes[1].getbalance()\n         inputs = []\n         outputs = {self.nodes[1].getnewaddress():1.1}\n-        rawtx = self.nodes[2].createrawtransaction(inputs, outputs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r433349200",
      "id" : 433349200,
      "in_reply_to_id" : 433275243,
      "line" : 492,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzM0OTIwMA==",
      "original_commit_id" : "e3dc50344a57b926373bcc51aa2e213a682051be",
      "original_line" : 492,
      "original_position" : 90,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 90,
      "pull_request_review_id" : 421998307,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/433349200",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> 0472e9f: the commit message is confusing. Why is this code being ~duplicated?\r\n\r\nI need to get the scriptPubKeys for those things, not just the address. So the functions are partially duplicated to generate the scripts rather than the addresses.",
      "created_at" : "2020-06-02T21:05:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-637805990",
      "id" : 637805990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzgwNTk5MA==",
      "updated_at" : "2020-06-02T21:05:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637805990",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there an easy way to convert scripts to addresses in the Python framework?\r\n\r\nAnyway, ACK f57cacf",
      "created_at" : "2020-06-05T12:37:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-639455456",
      "id" : 639455456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzOTQ1NTQ1Ng==",
      "updated_at" : "2020-06-05T12:37:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639455456",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-06-11T19:55:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-642896341",
      "id" : 642896341,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0Mjg5NjM0MQ==",
      "updated_at" : "2020-06-11T19:55:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/642896341",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 02357c7cd965ae5701d129691d4487a89f5d6deb, just some rebase related import changes",
      "created_at" : "2020-06-16T11:25:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-644703895",
      "id" : 644703895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NDcwMzg5NQ==",
      "updated_at" : "2020-06-16T11:25:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644703895",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-01T03:04:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-684166682",
      "id" : 684166682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDE2NjY4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T03:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684166682",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 02357c7cd965ae5701d129691d4487a89f5d6deb\r\n\r\nSpurious Travis error reported in #19853.",
      "created_at" : "2020-09-01T12:07:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-684804294",
      "id" : 684804294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NDgwNDI5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-01T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/684804294",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-09-15T03:13:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-692436636",
      "id" : 692436636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MjQzNjYzNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-15T03:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/692436636",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, will take a closer look soon.",
      "created_at" : "2020-09-26T21:50:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-699552253",
      "id" : 699552253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5OTU1MjI1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-26T21:50:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699552253",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK c45302f6f1d9e7e210b51f7bd580e498a60b2442",
      "created_at" : "2020-10-02T10:45:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-702661325",
      "id" : 702661325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjY2MTMyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T10:45:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702661325",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-02T15:51:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-702812091",
      "id" : 702812091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjgxMjA5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-02T15:51:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702812091",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-11T02:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-706639509",
      "id" : 706639509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjYzOTUwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-11T02:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706639509",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-15T11:10:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-709204687",
      "id" : 709204687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTIwNDY4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T11:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709204687",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-21T13:33:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-713578040",
      "id" : 713578040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMzU3ODA0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-21T13:33:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/713578040",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512297393"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512297393"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Make import tests in wallet_listtransactions.py legacy wallet only\" (b014b8302bb31d5c8a4c4cbc8998576b3edc5294)\r\n\r\nChecks seem to be skipped without explanation here. It'd be good have a comment saying whether it would be good to port the checks to descriptor wallets in the future or if that's a bad idea or not possible.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T22:05:53Z",
      "diff_hunk" : "@@ -91,18 +91,19 @@ def run_test(self):\n                             {\"category\": \"receive\", \"amount\": Decimal(\"0.44\")},\n                             {\"txid\": txid})\n \n-        pubkey = self.nodes[1].getaddressinfo(self.nodes[1].getnewaddress())['pubkey']\n-        multisig = self.nodes[1].createmultisig(1, [pubkey])\n-        self.nodes[0].importaddress(multisig[\"redeemScript\"], \"watchonly\", False, True)\n-        txid = self.nodes[1].sendtoaddress(multisig[\"address\"], 0.1)\n-        self.nodes[1].generate(1)\n-        self.sync_all()\n-        assert_equal(len(self.nodes[0].listtransactions(label=\"watchonly\", include_watchonly=True)), 1)\n-        assert_equal(len(self.nodes[0].listtransactions(dummy=\"watchonly\", include_watchonly=True)), 1)\n-        assert len(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=False)) == 0\n-        assert_array_result(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=True),\n-                            {\"category\": \"receive\", \"amount\": Decimal(\"0.1\")},\n-                            {\"txid\": txid, \"label\": \"watchonly\"})\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512297393",
      "id" : 512297393,
      "line" : 94,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5NzM5Mw==",
      "original_commit_id" : "b014b8302bb31d5c8a4c4cbc8998576b3edc5294",
      "original_line" : 94,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/wallet_listtransactions.py",
      "position" : 16,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512297393",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512299779"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512299779"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Update wallet_importprunedfunds to avoid dumpprivkey\" (35607a2b46f4088b1f3ec108baecf8ba221dbc02)\r\n\r\nGeneral question that doesn't necessarily impact the PR, but is there an equivalent to dumpprivkey for descriptor wallets?",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T22:11:26Z",
      "diff_hunk" : "@@ -30,8 +33,11 @@ def run_test(self):\n         # pubkey\n         address2 = self.nodes[0].getnewaddress()\n         # privkey\n-        address3 = self.nodes[0].getnewaddress()\n-        address3_privkey = self.nodes[0].dumpprivkey(address3)  # Using privkey",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512299779",
      "id" : 512299779,
      "line" : 34,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5OTc3OQ==",
      "original_commit_id" : "35607a2b46f4088b1f3ec108baecf8ba221dbc02",
      "original_line" : 34,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_importprunedfunds.py",
      "position" : 20,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512299779",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512317022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512317022"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Make raw multisig tests legacy wallet only in rpc_rawtransaction.py\" (186642062fc7165d609c6d4f590a18baa4199c77)\r\n\r\nComment from commit description would be helpful to add here: \"The traditional multisig workflow doesn't work with descriptor wallets so make these tests legacy wallet only.\" It'd also be good if it said whether it'd make sense in the future to add descriptor multisig tests here or if that wouldn't be appropriate or possible for some reason ",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T22:54:27Z",
      "diff_hunk" : "@@ -242,121 +243,122 @@ def run_test(self):\n         self.nodes[0].reconsiderblock(block1)\n         assert_equal(self.nodes[0].getbestblockhash(), block2)\n \n-        #########################\n-        # RAW TX MULTISIG TESTS #\n-        #########################\n-        # 2of2 test\n-        addr1 = self.nodes[2].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[2].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-\n-        # Tests for createmultisig and addmultisigaddress\n-        assert_raises_rpc_error(-5, \"Invalid public key\", self.nodes[0].createmultisig, 1, [\"01020304\"])\n-        self.nodes[0].createmultisig(2, [addr1Obj['pubkey'], addr2Obj['pubkey']]) # createmultisig can only take public keys\n-        assert_raises_rpc_error(-5, \"Invalid public key\", self.nodes[0].createmultisig, 2, [addr1Obj['pubkey'], addr1]) # addmultisigaddress can take both pubkeys and addresses so long as they are in the wallet, which is tested here.\n-\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr1])['address']\n-\n-        #use balance deltas instead of absolute values\n-        bal = self.nodes[2].getbalance()\n-\n-        # send 1.2 BTC to msig adr\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 1.2)\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[2].getbalance(), bal+Decimal('1.20000000')) #node2 has both keys of the 2of2 ms addr., tx should affect the balance\n-\n-\n-        # 2of3 test from different nodes\n-        bal = self.nodes[2].getbalance()\n-        addr1 = self.nodes[1].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-        addr3 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[1].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-        addr3Obj = self.nodes[2].getaddressinfo(addr3)\n-\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey'], addr3Obj['pubkey']])['address']\n-\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 2.2)\n-        decTx = self.nodes[0].gettransaction(txId)\n-        rawTx = self.nodes[0].decoderawtransaction(decTx['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-\n-        #THIS IS AN INCOMPLETE FEATURE\n-        #NODE2 HAS TWO OF THREE KEY AND THE FUNDS SHOULD BE SPENDABLE AND COUNT AT BALANCE CALCULATION\n-        assert_equal(self.nodes[2].getbalance(), bal) #for now, assume the funds of a 2of3 multisig tx are not marked as spendable\n-\n-        txDetails = self.nodes[0].gettransaction(txId, True)\n-        rawTx = self.nodes[0].decoderawtransaction(txDetails['hex'])\n-        vout = next(o for o in rawTx['vout'] if o['value'] == Decimal('2.20000000'))\n-\n-        bal = self.nodes[0].getbalance()\n-        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex'], \"amount\" : vout['value']}]\n-        outputs = { self.nodes[0].getnewaddress() : 2.19 }\n-        rawTx = self.nodes[2].createrawtransaction(inputs, outputs)\n-        rawTxPartialSigned = self.nodes[1].signrawtransactionwithwallet(rawTx, inputs)\n-        assert_equal(rawTxPartialSigned['complete'], False) #node1 only has one key, can't comp. sign the tx\n-\n-        rawTxSigned = self.nodes[2].signrawtransactionwithwallet(rawTx, inputs)\n-        assert_equal(rawTxSigned['complete'], True) #node2 can sign the tx compl., own two of three keys\n-        self.nodes[2].sendrawtransaction(rawTxSigned['hex'])\n-        rawTx = self.nodes[0].decoderawtransaction(rawTxSigned['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[0].getbalance(), bal+Decimal('50.00000000')+Decimal('2.19000000')) #block reward + tx\n-\n-        # 2of2 test for combining transactions\n-        bal = self.nodes[2].getbalance()\n-        addr1 = self.nodes[1].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[1].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-\n-        self.nodes[1].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey']])['address']\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey']])['address']\n-        mSigObjValid = self.nodes[2].getaddressinfo(mSigObj)\n-\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 2.2)\n-        decTx = self.nodes[0].gettransaction(txId)\n-        rawTx2 = self.nodes[0].decoderawtransaction(decTx['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-\n-        assert_equal(self.nodes[2].getbalance(), bal) # the funds of a 2of2 multisig tx should not be marked as spendable\n-\n-        txDetails = self.nodes[0].gettransaction(txId, True)\n-        rawTx2 = self.nodes[0].decoderawtransaction(txDetails['hex'])\n-        vout = next(o for o in rawTx2['vout'] if o['value'] == Decimal('2.20000000'))\n-\n-        bal = self.nodes[0].getbalance()\n-        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex'], \"redeemScript\" : mSigObjValid['hex'], \"amount\" : vout['value']}]\n-        outputs = { self.nodes[0].getnewaddress() : 2.19 }\n-        rawTx2 = self.nodes[2].createrawtransaction(inputs, outputs)\n-        rawTxPartialSigned1 = self.nodes[1].signrawtransactionwithwallet(rawTx2, inputs)\n-        self.log.debug(rawTxPartialSigned1)\n-        assert_equal(rawTxPartialSigned1['complete'], False) #node1 only has one key, can't comp. sign the tx\n-\n-        rawTxPartialSigned2 = self.nodes[2].signrawtransactionwithwallet(rawTx2, inputs)\n-        self.log.debug(rawTxPartialSigned2)\n-        assert_equal(rawTxPartialSigned2['complete'], False) #node2 only has one key, can't comp. sign the tx\n-        rawTxComb = self.nodes[2].combinerawtransaction([rawTxPartialSigned1['hex'], rawTxPartialSigned2['hex']])\n-        self.log.debug(rawTxComb)\n-        self.nodes[2].sendrawtransaction(rawTxComb)\n-        rawTx2 = self.nodes[0].decoderawtransaction(rawTxComb)\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[0].getbalance(), bal+Decimal('50.00000000')+Decimal('2.19000000')) #block reward + tx\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512317022",
      "id" : 512317022,
      "line" : 246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNzAyMg==",
      "original_commit_id" : "186642062fc7165d609c6d4f590a18baa4199c77",
      "original_line" : 246,
      "original_position" : 127,
      "original_start_line" : null,
      "path" : "test/functional/rpc_rawtransaction.py",
      "position" : 127,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512317022",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512318182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512318182"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Do addmultisigaddress tests in legacy wallet mode in wallet_address_types.py\" (bfa84b9881428376804af1586a8a3d6df95d48ba)\r\n\r\nSame request here as for other places. Can there be a comment here saying whether it's good to skip these checks or if it'd be possible or beneficial to add multisig descriptor checks here in the future?",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T22:57:35Z",
      "diff_hunk" : "@@ -228,18 +228,23 @@ def run_test(self):\n         compressed_1 = \"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\"\n         compressed_2 = \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"\n \n-        # addmultisigaddress with at least 1 uncompressed key should return a legacy address.\n-        for node in range(4):\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, uncompressed_2])['address'], True, 'legacy')\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [compressed_1, uncompressed_2])['address'], True, 'legacy')\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, compressed_2])['address'], True, 'legacy')\n-        # addmultisigaddress with all compressed keys should return the appropriate address type (even when the keys are not ours).\n-        self.test_address(0, self.nodes[0].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'legacy')\n-        self.test_address(1, self.nodes[1].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n-        self.test_address(2, self.nodes[2].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n-        self.test_address(3, self.nodes[3].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'bech32')\n-\n-        for explicit_type, multisig, from_node in itertools.product([False, True], [False, True], range(4)):\n+        if not self.options.descriptors:\n+            # addmultisigaddress with at least 1 uncompressed key should return a legacy address.\n+            for node in range(4):\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, uncompressed_2])['address'], True, 'legacy')\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [compressed_1, uncompressed_2])['address'], True, 'legacy')\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, compressed_2])['address'], True, 'legacy')\n+            # addmultisigaddress with all compressed keys should return the appropriate address type (even when the keys are not ours).\n+            self.test_address(0, self.nodes[0].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'legacy')\n+            self.test_address(1, self.nodes[1].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n+            self.test_address(2, self.nodes[2].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n+            self.test_address(3, self.nodes[3].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'bech32')\n+\n+        do_multisigs = [False]\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512318182",
      "id" : 512318182,
      "line" : 246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxODE4Mg==",
      "original_commit_id" : "bfa84b9881428376804af1586a8a3d6df95d48ba",
      "original_line" : 246,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "test/functional/wallet_address_types.py",
      "position" : 31,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512318182",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512322100"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512322100"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Avoid dumpprivkey and watchonly behavior in rpc_signrawtransaction.py\" (f4f81c98dca6da030b84b5b4887cf3ef4b72baec)\r\n\r\nCan commit description be updated to mention this change and reason listunspent is not longer used or checked? Change seems reasonable but I don't get it currently",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:08:21Z",
      "diff_hunk" : "@@ -151,21 +154,24 @@ def script_verification_error_test(self):\n     def witness_script_test(self):\n         self.log.info(\"Test signing transaction to P2SH-P2WSH addresses without wallet\")\n         # Create a new P2SH-P2WSH 1-of-1 multisig address:\n-        embedded_address = self.nodes[1].getaddressinfo(self.nodes[1].getnewaddress())\n-        embedded_privkey = self.nodes[1].dumpprivkey(embedded_address[\"address\"])\n-        p2sh_p2wsh_address = self.nodes[1].addmultisigaddress(1, [embedded_address[\"pubkey\"]], \"\", \"p2sh-segwit\")\n+        eckey = ECKey()\n+        eckey.generate()\n+        embedded_privkey = bytes_to_wif(eckey.get_bytes())\n+        embedded_pubkey = eckey.get_pubkey().get_bytes().hex()\n+        p2sh_p2wsh_address = self.nodes[1].createmultisig(1, [embedded_pubkey], \"p2sh-segwit\")\n         # send transaction to P2SH-P2WSH 1-of-1 multisig address\n         self.nodes[0].generate(101)\n         self.nodes[0].sendtoaddress(p2sh_p2wsh_address[\"address\"], 49.999)\n         self.nodes[0].generate(1)\n         self.sync_all()\n-        # Find the UTXO for the transaction node[1] should have received, check witnessScript matches\n-        unspent_output = self.nodes[1].listunspent(0, 999999, [p2sh_p2wsh_address[\"address\"]])[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512322100",
      "id" : 512322100,
      "line" : 163,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMyMjEwMA==",
      "original_commit_id" : "f4f81c98dca6da030b84b5b4887cf3ef4b72baec",
      "original_line" : 163,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/rpc_signrawtransaction.py",
      "position" : 32,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512322100",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512323334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512323334"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Add script equivalent of functions in address.py\" (a56fc6c8c8f58f4a6ade3ac1437875bf8071a844)\r\n\r\nNot important, but it's usually better to say `isinstance(obj, obj_type)` instead of `type(obj) is obj_type` to not interfere with subclassing. Applies various places this commit",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:11:29Z",
      "diff_hunk" : "@@ -24,3 +25,59 @@\n # met.\n DUMMY_P2WPKH_SCRIPT = CScript([b'a' * 21])\n DUMMY_2_P2WPKH_SCRIPT = CScript([b'b' * 21])\n+\n+def keyhash_to_p2pkh_script(hash, main = False):\n+    assert len(hash) == 20\n+    return CScript([OP_DUP, OP_HASH160, hash, OP_EQUALVERIFY, OP_CHECKSIG])\n+\n+def scripthash_to_p2sh_script(hash, main = False):\n+    assert len(hash) == 20\n+    return CScript([OP_HASH160, hash, OP_EQUAL])\n+\n+def key_to_p2pkh_script(key, main = False):\n+    key = check_key(key)\n+    return keyhash_to_p2pkh_script(hash160(key), main)\n+\n+def script_to_p2sh_script(script, main = False):\n+    script = check_script(script)\n+    return scripthash_to_p2sh_script(hash160(script), main)\n+\n+def key_to_p2sh_p2wpkh_script(key, main = False):\n+    key = check_key(key)\n+    p2shscript = CScript([OP_0, hash160(key)])\n+    return script_to_p2sh_script(p2shscript, main)\n+\n+def program_to_witness_script(version, program, main = False):\n+    if (type(program) is str):\n+        program = hex_str_to_bytes(program)\n+    assert 0 <= version <= 16\n+    assert 2 <= len(program) <= 40\n+    assert version > 0 or len(program) in [20, 32]\n+    return CScript([version, program])\n+\n+def script_to_p2wsh_script(script, main = False):\n+    script = check_script(script)\n+    return program_to_witness_script(0, sha256(script), main)\n+\n+def key_to_p2wpkh_script(key, main = False):\n+    key = check_key(key)\n+    return program_to_witness_script(0, hash160(key), main)\n+\n+def script_to_p2sh_p2wsh_script(script, main = False):\n+    script = check_script(script)\n+    p2shscript = CScript([OP_0, sha256(script)])\n+    return script_to_p2sh_script(p2shscript, main)\n+\n+def check_key(key):\n+    if (type(key) is str):\n+        key = hex_str_to_bytes(key) # Assuming this is hex string\n+    if (type(key) is bytes and (len(key) == 33 or len(key) == 65)):\n+        return key\n+    assert False\n+\n+def check_script(script):\n+    if (type(script) is str):\n+        script = hex_str_to_bytes(script) # Assuming this is hex string\n+    if (type(script) is bytes or type(script) is CScript):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512323334",
      "id" : 512323334,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMyMzMzNA==",
      "original_commit_id" : "a56fc6c8c8f58f4a6ade3ac1437875bf8071a844",
      "original_line" : 81,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script_util.py",
      "position" : null,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512323334",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512326198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512326198"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Use separate watchonly wallet for multisig in feature_nulldummy.py\" (ed97c9b67e715815f653e20f5e478a4dad4e13f8)\r\n\r\nCan a comment be added to explain why the non-descriptor version of the test needs these addresses imported to pass, while the descriptor version doesn't need them? (Assuming that is the case.) I'm missing some understanding here",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:20:01Z",
      "diff_hunk" : "@@ -51,10 +51,17 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.address = self.nodes[0].getnewaddress()\n-        self.ms_address = self.nodes[0].addmultisigaddress(1, [self.address])['address']\n-        self.wit_address = self.nodes[0].getnewaddress(address_type='p2sh-segwit')\n-        self.wit_ms_address = self.nodes[0].addmultisigaddress(1, [self.address], '', 'p2sh-segwit')['address']\n+        self.nodes[0].createwallet(wallet_name='wmulti', disable_private_keys=True)\n+        wmulti = self.nodes[0].get_wallet_rpc('wmulti')\n+        w0 = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        self.address = w0.getnewaddress()\n+        self.pubkey = w0.getaddressinfo(self.address)['pubkey']\n+        self.ms_address = wmulti.addmultisigaddress(1, [self.pubkey])['address']\n+        self.wit_address = w0.getnewaddress(address_type='p2sh-segwit')\n+        self.wit_ms_address = wmulti.addmultisigaddress(1, [self.pubkey], '', 'p2sh-segwit')['address']\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512326198",
      "id" : 512326198,
      "line" : 62,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMyNjE5OA==",
      "original_commit_id" : "ed97c9b67e715815f653e20f5e478a4dad4e13f8",
      "original_line" : 62,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 16,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512326198",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512330821"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512330821"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move import and watchonly tests to be legacy wallet only in wallet_balance.py\" (8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7)\r\n\r\nIt would be helpful to add the comment here from the commit description: \"Imports and watchonly behavior are legacy wallet only, so make them only run when the test is in legacy wallet mode.\" It would also be helpful to say whether it is a good thing to be skipping these checks, or if the test maybe should be port these checks to work with a watchonly descriptor wallet in the future",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:34:23Z",
      "diff_hunk" : "@@ -57,14 +57,15 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.nodes[0].importaddress(ADDRESS_WATCHONLY)\n-        # Check that nodes don't own any UTXOs\n-        assert_equal(len(self.nodes[0].listunspent()), 0)\n-        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512330821",
      "id" : 512330821,
      "line" : 60,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzMDgyMQ==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 60,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : 8,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512330821",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512331763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512331763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move import and watchonly tests to be legacy wallet only in wallet_balance.py\" (8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7)\r\n\r\nWould suggest writing this as:\r\n\r\n```python\r\nif self.options.descriptors:\r\n   del expected_balances_0['watchonly']\r\nassert_equal(self.nodes[0].getbalances(), expected_balances_0)\r\n```\r\n\r\nto keep checking for new fields as strict and to duplicate less code\r\n",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:37:28Z",
      "diff_hunk" : "@@ -156,7 +162,12 @@ def test_balances(*, fee_node_1=0):\n             expected_balances_1 = {'mine':      {'immature':          Decimal('0E-8'),\n                                                  'trusted':           Decimal('0E-8'),  # node 1's send had an unsafe input\n                                                  'untrusted_pending': Decimal('30.0') - fee_node_1}}  # Doesn't include output of node 0's send since it was spent\n-            assert_equal(self.nodes[0].getbalances(), expected_balances_0)\n+            if self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512331763",
      "id" : 512331763,
      "line" : 167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzMTc2Mw==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 167,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : 66,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512331763",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512333883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512333883"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move import and watchonly tests to be legacy wallet only in wallet_balance.py\" (8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7)\r\n\r\nI don't get these changes. Does the address generated to matter for the tests or is just code cleanup? It would be good to mention these changes in the commit description and say what they are",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:44:09Z",
      "diff_hunk" : "@@ -246,7 +257,7 @@ def test_balances(*, fee_node_1=0):\n         self.nodes[1].sendrawtransaction(hexstring=tx_replace, maxfeerate=0)\n \n         # Now confirm tx_replace\n-        block_reorg = self.nodes[1].generatetoaddress(1, ADDRESS_WATCHONLY)[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512333883",
      "id" : 512333883,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzMzg4Mw==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 249,
      "original_position" : 78,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : null,
      "pull_request_review_id" : 517201964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512333883",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512338374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512338374"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not currently.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-26T23:59:16Z",
      "diff_hunk" : "@@ -30,8 +33,11 @@ def run_test(self):\n         # pubkey\n         address2 = self.nodes[0].getnewaddress()\n         # privkey\n-        address3 = self.nodes[0].getnewaddress()\n-        address3_privkey = self.nodes[0].dumpprivkey(address3)  # Using privkey",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512338374",
      "id" : 512338374,
      "in_reply_to_id" : 512299779,
      "line" : 34,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzODM3NA==",
      "original_commit_id" : "35607a2b46f4088b1f3ec108baecf8ba221dbc02",
      "original_line" : 34,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_importprunedfunds.py",
      "position" : 20,
      "pull_request_review_id" : 517258518,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512338374",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512338747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512338747"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's not necessary because it is testing the `include_watchonly` parameter in `listtransactions` which is not present in descriptor wallets.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T00:00:27Z",
      "diff_hunk" : "@@ -91,18 +91,19 @@ def run_test(self):\n                             {\"category\": \"receive\", \"amount\": Decimal(\"0.44\")},\n                             {\"txid\": txid})\n \n-        pubkey = self.nodes[1].getaddressinfo(self.nodes[1].getnewaddress())['pubkey']\n-        multisig = self.nodes[1].createmultisig(1, [pubkey])\n-        self.nodes[0].importaddress(multisig[\"redeemScript\"], \"watchonly\", False, True)\n-        txid = self.nodes[1].sendtoaddress(multisig[\"address\"], 0.1)\n-        self.nodes[1].generate(1)\n-        self.sync_all()\n-        assert_equal(len(self.nodes[0].listtransactions(label=\"watchonly\", include_watchonly=True)), 1)\n-        assert_equal(len(self.nodes[0].listtransactions(dummy=\"watchonly\", include_watchonly=True)), 1)\n-        assert len(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=False)) == 0\n-        assert_array_result(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=True),\n-                            {\"category\": \"receive\", \"amount\": Decimal(\"0.1\")},\n-                            {\"txid\": txid, \"label\": \"watchonly\"})\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512338747",
      "id" : 512338747,
      "in_reply_to_id" : 512297393,
      "line" : 94,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzODc0Nw==",
      "original_commit_id" : "b014b8302bb31d5c8a4c4cbc8998576b3edc5294",
      "original_line" : 94,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/wallet_listtransactions.py",
      "position" : 16,
      "pull_request_review_id" : 517258927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512338747",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512339814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512339814"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Legacy wallets need these imported for the test to work. Otherwise they won't watch the multisig. Descriptor wallets will always watch imported things.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T00:04:07Z",
      "diff_hunk" : "@@ -51,10 +51,17 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.address = self.nodes[0].getnewaddress()\n-        self.ms_address = self.nodes[0].addmultisigaddress(1, [self.address])['address']\n-        self.wit_address = self.nodes[0].getnewaddress(address_type='p2sh-segwit')\n-        self.wit_ms_address = self.nodes[0].addmultisigaddress(1, [self.address], '', 'p2sh-segwit')['address']\n+        self.nodes[0].createwallet(wallet_name='wmulti', disable_private_keys=True)\n+        wmulti = self.nodes[0].get_wallet_rpc('wmulti')\n+        w0 = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        self.address = w0.getnewaddress()\n+        self.pubkey = w0.getaddressinfo(self.address)['pubkey']\n+        self.ms_address = wmulti.addmultisigaddress(1, [self.pubkey])['address']\n+        self.wit_address = w0.getnewaddress(address_type='p2sh-segwit')\n+        self.wit_ms_address = wmulti.addmultisigaddress(1, [self.pubkey], '', 'p2sh-segwit')['address']\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512339814",
      "id" : 512339814,
      "in_reply_to_id" : 512326198,
      "line" : 62,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMzOTgxNA==",
      "original_commit_id" : "ed97c9b67e715815f653e20f5e478a4dad4e13f8",
      "original_line" : 62,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 16,
      "pull_request_review_id" : 517260162,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512339814",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997491"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment. It is not necessary to test these for descriptor wallets, that's why they are disabled in the first place. Otherwise there would be a TODO.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:07:45Z",
      "diff_hunk" : "@@ -91,18 +91,19 @@ def run_test(self):\n                             {\"category\": \"receive\", \"amount\": Decimal(\"0.44\")},\n                             {\"txid\": txid})\n \n-        pubkey = self.nodes[1].getaddressinfo(self.nodes[1].getnewaddress())['pubkey']\n-        multisig = self.nodes[1].createmultisig(1, [pubkey])\n-        self.nodes[0].importaddress(multisig[\"redeemScript\"], \"watchonly\", False, True)\n-        txid = self.nodes[1].sendtoaddress(multisig[\"address\"], 0.1)\n-        self.nodes[1].generate(1)\n-        self.sync_all()\n-        assert_equal(len(self.nodes[0].listtransactions(label=\"watchonly\", include_watchonly=True)), 1)\n-        assert_equal(len(self.nodes[0].listtransactions(dummy=\"watchonly\", include_watchonly=True)), 1)\n-        assert len(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=False)) == 0\n-        assert_array_result(self.nodes[0].listtransactions(label=\"watchonly\", count=100, include_watchonly=True),\n-                            {\"category\": \"receive\", \"amount\": Decimal(\"0.1\")},\n-                            {\"txid\": txid, \"label\": \"watchonly\"})\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997491",
      "id" : 512997491,
      "in_reply_to_id" : 512297393,
      "line" : 94,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NzQ5MQ==",
      "original_commit_id" : "b014b8302bb31d5c8a4c4cbc8998576b3edc5294",
      "original_line" : 94,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/wallet_listtransactions.py",
      "position" : 16,
      "pull_request_review_id" : 518100172,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997491",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997522"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment. It is not necessary to test these for descriptor wallets, that's why they are disabled in the first place. Otherwise there would be a TODO.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:07:49Z",
      "diff_hunk" : "@@ -242,121 +243,122 @@ def run_test(self):\n         self.nodes[0].reconsiderblock(block1)\n         assert_equal(self.nodes[0].getbestblockhash(), block2)\n \n-        #########################\n-        # RAW TX MULTISIG TESTS #\n-        #########################\n-        # 2of2 test\n-        addr1 = self.nodes[2].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[2].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-\n-        # Tests for createmultisig and addmultisigaddress\n-        assert_raises_rpc_error(-5, \"Invalid public key\", self.nodes[0].createmultisig, 1, [\"01020304\"])\n-        self.nodes[0].createmultisig(2, [addr1Obj['pubkey'], addr2Obj['pubkey']]) # createmultisig can only take public keys\n-        assert_raises_rpc_error(-5, \"Invalid public key\", self.nodes[0].createmultisig, 2, [addr1Obj['pubkey'], addr1]) # addmultisigaddress can take both pubkeys and addresses so long as they are in the wallet, which is tested here.\n-\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr1])['address']\n-\n-        #use balance deltas instead of absolute values\n-        bal = self.nodes[2].getbalance()\n-\n-        # send 1.2 BTC to msig adr\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 1.2)\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[2].getbalance(), bal+Decimal('1.20000000')) #node2 has both keys of the 2of2 ms addr., tx should affect the balance\n-\n-\n-        # 2of3 test from different nodes\n-        bal = self.nodes[2].getbalance()\n-        addr1 = self.nodes[1].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-        addr3 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[1].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-        addr3Obj = self.nodes[2].getaddressinfo(addr3)\n-\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey'], addr3Obj['pubkey']])['address']\n-\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 2.2)\n-        decTx = self.nodes[0].gettransaction(txId)\n-        rawTx = self.nodes[0].decoderawtransaction(decTx['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-\n-        #THIS IS AN INCOMPLETE FEATURE\n-        #NODE2 HAS TWO OF THREE KEY AND THE FUNDS SHOULD BE SPENDABLE AND COUNT AT BALANCE CALCULATION\n-        assert_equal(self.nodes[2].getbalance(), bal) #for now, assume the funds of a 2of3 multisig tx are not marked as spendable\n-\n-        txDetails = self.nodes[0].gettransaction(txId, True)\n-        rawTx = self.nodes[0].decoderawtransaction(txDetails['hex'])\n-        vout = next(o for o in rawTx['vout'] if o['value'] == Decimal('2.20000000'))\n-\n-        bal = self.nodes[0].getbalance()\n-        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex'], \"amount\" : vout['value']}]\n-        outputs = { self.nodes[0].getnewaddress() : 2.19 }\n-        rawTx = self.nodes[2].createrawtransaction(inputs, outputs)\n-        rawTxPartialSigned = self.nodes[1].signrawtransactionwithwallet(rawTx, inputs)\n-        assert_equal(rawTxPartialSigned['complete'], False) #node1 only has one key, can't comp. sign the tx\n-\n-        rawTxSigned = self.nodes[2].signrawtransactionwithwallet(rawTx, inputs)\n-        assert_equal(rawTxSigned['complete'], True) #node2 can sign the tx compl., own two of three keys\n-        self.nodes[2].sendrawtransaction(rawTxSigned['hex'])\n-        rawTx = self.nodes[0].decoderawtransaction(rawTxSigned['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[0].getbalance(), bal+Decimal('50.00000000')+Decimal('2.19000000')) #block reward + tx\n-\n-        # 2of2 test for combining transactions\n-        bal = self.nodes[2].getbalance()\n-        addr1 = self.nodes[1].getnewaddress()\n-        addr2 = self.nodes[2].getnewaddress()\n-\n-        addr1Obj = self.nodes[1].getaddressinfo(addr1)\n-        addr2Obj = self.nodes[2].getaddressinfo(addr2)\n-\n-        self.nodes[1].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey']])['address']\n-        mSigObj = self.nodes[2].addmultisigaddress(2, [addr1Obj['pubkey'], addr2Obj['pubkey']])['address']\n-        mSigObjValid = self.nodes[2].getaddressinfo(mSigObj)\n-\n-        txId = self.nodes[0].sendtoaddress(mSigObj, 2.2)\n-        decTx = self.nodes[0].gettransaction(txId)\n-        rawTx2 = self.nodes[0].decoderawtransaction(decTx['hex'])\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-\n-        assert_equal(self.nodes[2].getbalance(), bal) # the funds of a 2of2 multisig tx should not be marked as spendable\n-\n-        txDetails = self.nodes[0].gettransaction(txId, True)\n-        rawTx2 = self.nodes[0].decoderawtransaction(txDetails['hex'])\n-        vout = next(o for o in rawTx2['vout'] if o['value'] == Decimal('2.20000000'))\n-\n-        bal = self.nodes[0].getbalance()\n-        inputs = [{ \"txid\" : txId, \"vout\" : vout['n'], \"scriptPubKey\" : vout['scriptPubKey']['hex'], \"redeemScript\" : mSigObjValid['hex'], \"amount\" : vout['value']}]\n-        outputs = { self.nodes[0].getnewaddress() : 2.19 }\n-        rawTx2 = self.nodes[2].createrawtransaction(inputs, outputs)\n-        rawTxPartialSigned1 = self.nodes[1].signrawtransactionwithwallet(rawTx2, inputs)\n-        self.log.debug(rawTxPartialSigned1)\n-        assert_equal(rawTxPartialSigned1['complete'], False) #node1 only has one key, can't comp. sign the tx\n-\n-        rawTxPartialSigned2 = self.nodes[2].signrawtransactionwithwallet(rawTx2, inputs)\n-        self.log.debug(rawTxPartialSigned2)\n-        assert_equal(rawTxPartialSigned2['complete'], False) #node2 only has one key, can't comp. sign the tx\n-        rawTxComb = self.nodes[2].combinerawtransaction([rawTxPartialSigned1['hex'], rawTxPartialSigned2['hex']])\n-        self.log.debug(rawTxComb)\n-        self.nodes[2].sendrawtransaction(rawTxComb)\n-        rawTx2 = self.nodes[0].decoderawtransaction(rawTxComb)\n-        self.sync_all()\n-        self.nodes[0].generate(1)\n-        self.sync_all()\n-        assert_equal(self.nodes[0].getbalance(), bal+Decimal('50.00000000')+Decimal('2.19000000')) #block reward + tx\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997522",
      "id" : 512997522,
      "in_reply_to_id" : 512317022,
      "line" : 246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NzUyMg==",
      "original_commit_id" : "186642062fc7165d609c6d4f590a18baa4199c77",
      "original_line" : 246,
      "original_position" : 127,
      "original_start_line" : null,
      "path" : "test/functional/rpc_rawtransaction.py",
      "position" : 127,
      "pull_request_review_id" : 518100206,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997522",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997572"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997572"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment. It is not necessary to test these for descriptor wallets, that's why they are disabled in the first place. Otherwise there would be a TODO.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:07:54Z",
      "diff_hunk" : "@@ -228,18 +228,23 @@ def run_test(self):\n         compressed_1 = \"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\"\n         compressed_2 = \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"\n \n-        # addmultisigaddress with at least 1 uncompressed key should return a legacy address.\n-        for node in range(4):\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, uncompressed_2])['address'], True, 'legacy')\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [compressed_1, uncompressed_2])['address'], True, 'legacy')\n-            self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, compressed_2])['address'], True, 'legacy')\n-        # addmultisigaddress with all compressed keys should return the appropriate address type (even when the keys are not ours).\n-        self.test_address(0, self.nodes[0].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'legacy')\n-        self.test_address(1, self.nodes[1].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n-        self.test_address(2, self.nodes[2].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n-        self.test_address(3, self.nodes[3].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'bech32')\n-\n-        for explicit_type, multisig, from_node in itertools.product([False, True], [False, True], range(4)):\n+        if not self.options.descriptors:\n+            # addmultisigaddress with at least 1 uncompressed key should return a legacy address.\n+            for node in range(4):\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, uncompressed_2])['address'], True, 'legacy')\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [compressed_1, uncompressed_2])['address'], True, 'legacy')\n+                self.test_address(node, self.nodes[node].addmultisigaddress(2, [uncompressed_1, compressed_2])['address'], True, 'legacy')\n+            # addmultisigaddress with all compressed keys should return the appropriate address type (even when the keys are not ours).\n+            self.test_address(0, self.nodes[0].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'legacy')\n+            self.test_address(1, self.nodes[1].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n+            self.test_address(2, self.nodes[2].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'p2sh-segwit')\n+            self.test_address(3, self.nodes[3].addmultisigaddress(2, [compressed_1, compressed_2])['address'], True, 'bech32')\n+\n+        do_multisigs = [False]\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997572",
      "id" : 512997572,
      "in_reply_to_id" : 512318182,
      "line" : 246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NzU3Mg==",
      "original_commit_id" : "bfa84b9881428376804af1586a8a3d6df95d48ba",
      "original_line" : 246,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "test/functional/wallet_address_types.py",
      "position" : 31,
      "pull_request_review_id" : 518100278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997572",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997988"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Updated the commit message. `listunspent` is not being used and is not the test target for this test. It is tested elsewhere. There is no need to attempt to bring this back for descriptor wallets.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:08:48Z",
      "diff_hunk" : "@@ -151,21 +154,24 @@ def script_verification_error_test(self):\n     def witness_script_test(self):\n         self.log.info(\"Test signing transaction to P2SH-P2WSH addresses without wallet\")\n         # Create a new P2SH-P2WSH 1-of-1 multisig address:\n-        embedded_address = self.nodes[1].getaddressinfo(self.nodes[1].getnewaddress())\n-        embedded_privkey = self.nodes[1].dumpprivkey(embedded_address[\"address\"])\n-        p2sh_p2wsh_address = self.nodes[1].addmultisigaddress(1, [embedded_address[\"pubkey\"]], \"\", \"p2sh-segwit\")\n+        eckey = ECKey()\n+        eckey.generate()\n+        embedded_privkey = bytes_to_wif(eckey.get_bytes())\n+        embedded_pubkey = eckey.get_pubkey().get_bytes().hex()\n+        p2sh_p2wsh_address = self.nodes[1].createmultisig(1, [embedded_pubkey], \"p2sh-segwit\")\n         # send transaction to P2SH-P2WSH 1-of-1 multisig address\n         self.nodes[0].generate(101)\n         self.nodes[0].sendtoaddress(p2sh_p2wsh_address[\"address\"], 49.999)\n         self.nodes[0].generate(1)\n         self.sync_all()\n-        # Find the UTXO for the transaction node[1] should have received, check witnessScript matches\n-        unspent_output = self.nodes[1].listunspent(0, 999999, [p2sh_p2wsh_address[\"address\"]])[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512997988",
      "id" : 512997988,
      "in_reply_to_id" : 512322100,
      "line" : 163,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5Nzk4OA==",
      "original_commit_id" : "f4f81c98dca6da030b84b5b4887cf3ef4b72baec",
      "original_line" : 163,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/rpc_signrawtransaction.py",
      "position" : 32,
      "pull_request_review_id" : 518100890,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512997988",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998038"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:08:54Z",
      "diff_hunk" : "@@ -24,3 +25,59 @@\n # met.\n DUMMY_P2WPKH_SCRIPT = CScript([b'a' * 21])\n DUMMY_2_P2WPKH_SCRIPT = CScript([b'b' * 21])\n+\n+def keyhash_to_p2pkh_script(hash, main = False):\n+    assert len(hash) == 20\n+    return CScript([OP_DUP, OP_HASH160, hash, OP_EQUALVERIFY, OP_CHECKSIG])\n+\n+def scripthash_to_p2sh_script(hash, main = False):\n+    assert len(hash) == 20\n+    return CScript([OP_HASH160, hash, OP_EQUAL])\n+\n+def key_to_p2pkh_script(key, main = False):\n+    key = check_key(key)\n+    return keyhash_to_p2pkh_script(hash160(key), main)\n+\n+def script_to_p2sh_script(script, main = False):\n+    script = check_script(script)\n+    return scripthash_to_p2sh_script(hash160(script), main)\n+\n+def key_to_p2sh_p2wpkh_script(key, main = False):\n+    key = check_key(key)\n+    p2shscript = CScript([OP_0, hash160(key)])\n+    return script_to_p2sh_script(p2shscript, main)\n+\n+def program_to_witness_script(version, program, main = False):\n+    if (type(program) is str):\n+        program = hex_str_to_bytes(program)\n+    assert 0 <= version <= 16\n+    assert 2 <= len(program) <= 40\n+    assert version > 0 or len(program) in [20, 32]\n+    return CScript([version, program])\n+\n+def script_to_p2wsh_script(script, main = False):\n+    script = check_script(script)\n+    return program_to_witness_script(0, sha256(script), main)\n+\n+def key_to_p2wpkh_script(key, main = False):\n+    key = check_key(key)\n+    return program_to_witness_script(0, hash160(key), main)\n+\n+def script_to_p2sh_p2wsh_script(script, main = False):\n+    script = check_script(script)\n+    p2shscript = CScript([OP_0, sha256(script)])\n+    return script_to_p2sh_script(p2shscript, main)\n+\n+def check_key(key):\n+    if (type(key) is str):\n+        key = hex_str_to_bytes(key) # Assuming this is hex string\n+    if (type(key) is bytes and (len(key) == 33 or len(key) == 65)):\n+        return key\n+    assert False\n+\n+def check_script(script):\n+    if (type(script) is str):\n+        script = hex_str_to_bytes(script) # Assuming this is hex string\n+    if (type(script) is bytes or type(script) is CScript):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998038",
      "id" : 512998038,
      "in_reply_to_id" : 512323334,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5ODAzOA==",
      "original_commit_id" : "a56fc6c8c8f58f4a6ade3ac1437875bf8071a844",
      "original_line" : 81,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script_util.py",
      "position" : null,
      "pull_request_review_id" : 518100946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998038",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998101"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:09:02Z",
      "diff_hunk" : "@@ -51,10 +51,17 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.address = self.nodes[0].getnewaddress()\n-        self.ms_address = self.nodes[0].addmultisigaddress(1, [self.address])['address']\n-        self.wit_address = self.nodes[0].getnewaddress(address_type='p2sh-segwit')\n-        self.wit_ms_address = self.nodes[0].addmultisigaddress(1, [self.address], '', 'p2sh-segwit')['address']\n+        self.nodes[0].createwallet(wallet_name='wmulti', disable_private_keys=True)\n+        wmulti = self.nodes[0].get_wallet_rpc('wmulti')\n+        w0 = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        self.address = w0.getnewaddress()\n+        self.pubkey = w0.getaddressinfo(self.address)['pubkey']\n+        self.ms_address = wmulti.addmultisigaddress(1, [self.pubkey])['address']\n+        self.wit_address = w0.getnewaddress(address_type='p2sh-segwit')\n+        self.wit_ms_address = wmulti.addmultisigaddress(1, [self.pubkey], '', 'p2sh-segwit')['address']\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998101",
      "id" : 512998101,
      "in_reply_to_id" : 512326198,
      "line" : 62,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5ODEwMQ==",
      "original_commit_id" : "ed97c9b67e715815f653e20f5e478a4dad4e13f8",
      "original_line" : 62,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : 16,
      "pull_request_review_id" : 518101027,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998101",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998188"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a comment. It is not necessary to test these for descriptor wallets, that's why they are disabled in the first place. Otherwise there would be a TODO.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:09:12Z",
      "diff_hunk" : "@@ -57,14 +57,15 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.nodes[0].importaddress(ADDRESS_WATCHONLY)\n-        # Check that nodes don't own any UTXOs\n-        assert_equal(len(self.nodes[0].listunspent()), 0)\n-        assert_equal(len(self.nodes[1].listunspent()), 0)\n+        if not self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998188",
      "id" : 512998188,
      "in_reply_to_id" : 512330821,
      "line" : 60,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5ODE4OA==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 60,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : 8,
      "pull_request_review_id" : 518101133,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998188",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998253"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:09:17Z",
      "diff_hunk" : "@@ -156,7 +162,12 @@ def test_balances(*, fee_node_1=0):\n             expected_balances_1 = {'mine':      {'immature':          Decimal('0E-8'),\n                                                  'trusted':           Decimal('0E-8'),  # node 1's send had an unsafe input\n                                                  'untrusted_pending': Decimal('30.0') - fee_node_1}}  # Doesn't include output of node 0's send since it was spent\n-            assert_equal(self.nodes[0].getbalances(), expected_balances_0)\n+            if self.options.descriptors:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998253",
      "id" : 512998253,
      "in_reply_to_id" : 512331763,
      "line" : 167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5ODI1Mw==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 167,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : 66,
      "pull_request_review_id" : 518101199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998253",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998396"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Reverted.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-27T20:09:28Z",
      "diff_hunk" : "@@ -246,7 +257,7 @@ def test_balances(*, fee_node_1=0):\n         self.nodes[1].sendrawtransaction(hexstring=tx_replace, maxfeerate=0)\n \n         # Now confirm tx_replace\n-        block_reorg = self.nodes[1].generatetoaddress(1, ADDRESS_WATCHONLY)[0]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r512998396",
      "id" : 512998396,
      "in_reply_to_id" : 512333883,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5ODM5Ng==",
      "original_commit_id" : "8ee94451ad55b81a53c38c6b8cee0c13f1b1f9e7",
      "original_line" : 249,
      "original_position" : 78,
      "original_start_line" : null,
      "path" : "test/functional/wallet_balance.py",
      "position" : null,
      "pull_request_review_id" : 518101331,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512998396",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Going to also add more changes to `wallet_multiwallet.py` soon.",
      "created_at" : "2020-10-27T20:09:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-717509617",
      "id" : 717509617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzUwOTYxNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-27T20:09:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717509617",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually I'll deal with multiwallet separately. It's going to be involved in a followup to drop the wallet dirs thing.",
      "created_at" : "2020-10-27T21:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-717554519",
      "id" : 717554519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzU1NDUxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-27T21:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717554519",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased after #20186 and also fixed `wallet_multiwallet.py`.",
      "created_at" : "2020-10-29T18:53:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#issuecomment-718953529",
      "id" : 718953529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18788",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODk1MzUyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T18:53:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718953529",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515173799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515173799"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like this test is removed. Is this tested elsewhere? If not, might be good to skip with descriptor wallets.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T15:17:47Z",
      "diff_hunk" : "@@ -621,39 +648,48 @@ def test_watchonly(self):\n         outputs = {self.nodes[2].getnewaddress(): self.watchonly_amount / 2}\n         rawtx = self.nodes[3].createrawtransaction(inputs, outputs)\n \n-        result = self.nodes[3].fundrawtransaction(rawtx, {'includeWatching': True })\n+        self.nodes[3].loadwallet('wwatch')\n+        wwatch = self.nodes[3].get_wallet_rpc('wwatch')\n+        w3 = self.nodes[3].get_wallet_rpc(self.default_wallet_name)\n+        result = wwatch.fundrawtransaction(rawtx, {'includeWatching': True, 'changeAddress': w3.getrawchangeaddress()})\n         res_dec = self.nodes[0].decoderawtransaction(result[\"hex\"])\n         assert_equal(len(res_dec[\"vin\"]), 1)\n         assert_equal(res_dec[\"vin\"][0][\"txid\"], self.watchonly_txid)\n \n         assert \"fee\" in result.keys()\n         assert_greater_than(result[\"changepos\"], -1)\n \n+        wwatch.unloadwallet()\n+\n     def test_all_watched_funds(self):\n         self.log.info(\"Test fundrawtxn using entirety of watched funds\")\n \n         inputs = []\n         outputs = {self.nodes[2].getnewaddress(): self.watchonly_amount}\n         rawtx = self.nodes[3].createrawtransaction(inputs, outputs)\n \n-        # Backward compatibility test (2nd param is includeWatching).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515173799",
      "id" : 515173799,
      "line" : 639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE3Mzc5OQ==",
      "original_commit_id" : "dc7dda345149e2de06f0a3813fc05e3c6bd78be3",
      "original_line" : 639,
      "original_position" : 156,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 172,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515173799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515177260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515177260"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can be written shorter:\r\n\r\n```py\r\nutxo = [u for u in utxos if u['address'] == address][0]",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T15:22:36Z",
      "diff_hunk" : "@@ -181,15 +184,26 @@ def test_double_spend(self):\n \n         self.sync_all()\n \n-        # Split network into two\n-        self.split_network()\n-\n         # share utxo between nodes[1] and nodes[2]\n+        eckey = ECKey()\n+        eckey.generate()\n+        privkey = bytes_to_wif(eckey.get_bytes())\n+        address = key_to_p2wpkh(eckey.get_pubkey().get_bytes())\n+        self.nodes[2].sendtoaddress(address, 10)\n+        self.nodes[2].generate(6)\n+        self.nodes[2].importprivkey(privkey)\n         utxos = self.nodes[2].listunspent()\n-        utxo = utxos[0]\n-        privkey = self.nodes[2].dumpprivkey(utxo['address'])\n+        utxo = None\n+        for u in utxos:\n+            if u['address'] == address:\n+                utxo = u\n+                break\n+        assert utxo is not None",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515177260",
      "id" : 515177260,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE3NzI2MA==",
      "original_commit_id" : "9b71e3ba39cb56124fb75a7a711f4198d565c6d6",
      "original_line" : 201,
      "original_position" : 40,
      "original_start_line" : 196,
      "path" : "test/functional/wallet_listsinceblock.py",
      "position" : null,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515177260",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515183891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515183891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: ned->need",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T15:30:57Z",
      "diff_hunk" : "@@ -51,10 +51,18 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.address = self.nodes[0].getnewaddress()\n-        self.ms_address = self.nodes[0].addmultisigaddress(1, [self.address])['address']\n-        self.wit_address = self.nodes[0].getnewaddress(address_type='p2sh-segwit')\n-        self.wit_ms_address = self.nodes[0].addmultisigaddress(1, [self.address], '', 'p2sh-segwit')['address']\n+        self.nodes[0].createwallet(wallet_name='wmulti', disable_private_keys=True)\n+        wmulti = self.nodes[0].get_wallet_rpc('wmulti')\n+        w0 = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        self.address = w0.getnewaddress()\n+        self.pubkey = w0.getaddressinfo(self.address)['pubkey']\n+        self.ms_address = wmulti.addmultisigaddress(1, [self.pubkey])['address']\n+        self.wit_address = w0.getnewaddress(address_type='p2sh-segwit')\n+        self.wit_ms_address = wmulti.addmultisigaddress(1, [self.pubkey], '', 'p2sh-segwit')['address']\n+        if not self.options.descriptors:\n+            # Legacy wallets ned to import these so that they are watched by the wallet. This is unnecssary (and does not need to be tested) for descriptor wallets",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515183891",
      "id" : 515183891,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE4Mzg5MQ==",
      "original_commit_id" : "92714b79d01a8b11f41cecc434ae17267a79ccd6",
      "original_line" : 63,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515183891",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207035"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207035"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit to->as?",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T16:02:31Z",
      "diff_hunk" : "@@ -215,67 +216,89 @@ def run_test(self):\n                 os.path.join(node_v19_wallets_dir, wallet)\n             )\n \n-        # Open the wallets in v0.19\n-        node_v19.loadwallet(\"w1\")\n-        wallet = node_v19.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-        txs = wallet.listtransactions()\n-        assert_equal(len(txs), 5)\n-        assert_equal(txs[1][\"txid\"], tx1_id)\n-        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-        assert not(txs[1][\"abandoned\"])\n-        assert_equal(txs[1][\"confirmations\"], -1)\n-        assert_equal(txs[2][\"blockindex\"], 1)\n-        assert txs[3][\"abandoned\"]\n-        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-        assert not(hasattr(txs[3], \"blockindex\"))\n-\n-        node_v19.loadwallet(\"w2\")\n-        wallet = node_v19.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n-        node_v19.loadwallet(\"w3\")\n-        wallet = node_v19.get_wallet_rpc(\"w3\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n-\n-        # Open the wallets in v0.18\n-        node_v18.loadwallet(\"w1\")\n-        wallet = node_v18.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-        txs = wallet.listtransactions()\n-        assert_equal(len(txs), 5)\n-        assert_equal(txs[1][\"txid\"], tx1_id)\n-        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-        assert not(txs[1][\"abandoned\"])\n-        assert_equal(txs[1][\"confirmations\"], -1)\n-        assert_equal(txs[2][\"blockindex\"], 1)\n-        assert txs[3][\"abandoned\"]\n-        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-        assert not(hasattr(txs[3], \"blockindex\"))\n-\n-        node_v18.loadwallet(\"w2\")\n-        wallet = node_v18.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n-        node_v18.loadwallet(\"w3\")\n-        wallet = node_v18.get_wallet_rpc(\"w3\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n+        if not self.options.descriptors:\n+            # Descriptor wallets break compatibility, only run this test for legacy wallet\n+            # Open the wallets in v0.19\n+            node_v19.loadwallet(\"w1\")\n+            wallet = node_v19.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+            txs = wallet.listtransactions()\n+            assert_equal(len(txs), 5)\n+            assert_equal(txs[1][\"txid\"], tx1_id)\n+            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n+            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n+            assert not(txs[1][\"abandoned\"])\n+            assert_equal(txs[1][\"confirmations\"], -1)\n+            assert_equal(txs[2][\"blockindex\"], 1)\n+            assert txs[3][\"abandoned\"]\n+            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n+            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n+            assert not(hasattr(txs[3], \"blockindex\"))\n+\n+            node_v19.loadwallet(\"w2\")\n+            wallet = node_v19.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+\n+            node_v19.loadwallet(\"w3\")\n+            wallet = node_v19.get_wallet_rpc(\"w3\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] == 0\n+\n+            # Open the wallets in v0.18\n+            node_v18.loadwallet(\"w1\")\n+            wallet = node_v18.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+            txs = wallet.listtransactions()\n+            assert_equal(len(txs), 5)\n+            assert_equal(txs[1][\"txid\"], tx1_id)\n+            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n+            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n+            assert not(txs[1][\"abandoned\"])\n+            assert_equal(txs[1][\"confirmations\"], -1)\n+            assert_equal(txs[2][\"blockindex\"], 1)\n+            assert txs[3][\"abandoned\"]\n+            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n+            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n+            assert not(hasattr(txs[3], \"blockindex\"))\n+\n+            node_v18.loadwallet(\"w2\")\n+            wallet = node_v18.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+\n+            node_v18.loadwallet(\"w3\")\n+            wallet = node_v18.get_wallet_rpc(\"w3\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] == 0\n+\n+            node_v17.loadwallet(\"w1\")\n+            wallet = node_v17.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+\n+            node_v17.loadwallet(\"w2\")\n+            wallet = node_v17.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+        else:\n+            # Descriptor wallets appear to corrupted wallets to old software",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207035",
      "id" : 515207035,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIwNzAzNQ==",
      "original_commit_id" : "6d3a3bd865461fcd74ac4aee33988f421ed23104",
      "original_line" : 295,
      "original_position" : 176,
      "original_start_line" : null,
      "path" : "test/functional/feature_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207035",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207291"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: to->as",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T16:02:55Z",
      "diff_hunk" : "@@ -284,39 +307,35 @@ def run_test(self):\n         assert info['private_keys_enabled']\n         assert info['keypoolsize'] > 0\n \n-        node_v17.loadwallet(\"w1\")\n-        wallet = node_v17.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-\n         node_v17.loadwallet(\"w2_v18\")\n         wallet = node_v17.get_wallet_rpc(\"w2_v18\")\n         info = wallet.getwalletinfo()\n         assert info['private_keys_enabled'] == False\n         assert info['keypoolsize'] == 0\n \n-        node_v17.loadwallet(\"w2\")\n-        wallet = node_v17.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n         # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n         # call failure, so the following test won't work:\n         # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3_v18')\n \n         # Instead, we stop node and try to launch it with the wallet:\n         self.stop_node(4)\n         node_v17.assert_start_raises_init_error([\"-wallet=w3_v18\"], \"Error: Error loading w3_v18: Wallet requires newer version of Bitcoin Core\")\n-        node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n+        if self.options.descriptors:\n+            # Descriptor wallets appear to corrupted wallets to old software",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207291",
      "id" : 515207291,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIwNzI5MQ==",
      "original_commit_id" : "6d3a3bd865461fcd74ac4aee33988f421ed23104",
      "original_line" : 324,
      "original_position" : 217,
      "original_start_line" : null,
      "path" : "test/functional/feature_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207291",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207818"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207818"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Running the tests on commit 80bb5ca8cf fails.\r\n\r\nThis commit might need to come first?",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T16:03:46Z",
      "diff_hunk" : "@@ -261,9 +261,12 @@ def run_test(self):\n         # Warning: The following tests are order-dependent.\n         self.test_tool_wallet_info()\n         self.test_tool_wallet_info_after_transaction()\n-        self.test_tool_wallet_create_on_existing_wallet()\n-        self.test_getwalletinfo_on_different_wallet()\n-        self.test_salvage()\n+        if not self.options.descriptors:\n+            # TODO: Wallet tool needs more create options at which point these can be enabled.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515207818",
      "id" : 515207818,
      "line" : 265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIwNzgxOA==",
      "original_commit_id" : "acf24b4a9e992175b5ca17fb6a1751b1680c4b72",
      "original_line" : 265,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : 113,
      "pull_request_review_id" : 431462212,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515207818",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515212764"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515212764"
         }
      },
      "author_association" : "MEMBER",
      "body" : "in commit c1f7bfc6bb1074c26d670976a8f8c0bb95be1858:\r\n\r\nShould wallet_labels be run with and without descriptors in the test_runner?",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T16:11:36Z",
      "diff_hunk" : "@@ -156,7 +156,7 @@ def run_test(self):\n             ad = BECH32_INVALID[l]\n             assert_raises_rpc_error(\n                 -5,\n-                \"Invalid Bitcoin address or script\",\n+                \"Address is not valid\" if self.options.descriptors else \"Invalid Bitcoin address or script\",\n                 lambda: wallet_watch_only.importaddress(label=l, rescan=False, address=ad),\n             )\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515212764",
      "id" : 515212764,
      "line" : 162,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxMjc2NA==",
      "original_commit_id" : "c1f7bfc6bb1074c26d670976a8f8c0bb95be1858",
      "original_line" : 162,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/wallet_labels.py",
      "position" : 17,
      "pull_request_review_id" : 520821028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515212764",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259009"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, labels are not effected by descriptor wallets.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:25:29Z",
      "diff_hunk" : "@@ -156,7 +156,7 @@ def run_test(self):\n             ad = BECH32_INVALID[l]\n             assert_raises_rpc_error(\n                 -5,\n-                \"Invalid Bitcoin address or script\",\n+                \"Address is not valid\" if self.options.descriptors else \"Invalid Bitcoin address or script\",\n                 lambda: wallet_watch_only.importaddress(label=l, rescan=False, address=ad),\n             )\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259009",
      "id" : 515259009,
      "in_reply_to_id" : 515212764,
      "line" : 162,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTAwOQ==",
      "original_commit_id" : "c1f7bfc6bb1074c26d670976a8f8c0bb95be1858",
      "original_line" : 162,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/wallet_labels.py",
      "position" : 17,
      "pull_request_review_id" : 520882394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:25:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259009",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259152"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Moved it.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:25:43Z",
      "diff_hunk" : "@@ -261,9 +261,12 @@ def run_test(self):\n         # Warning: The following tests are order-dependent.\n         self.test_tool_wallet_info()\n         self.test_tool_wallet_info_after_transaction()\n-        self.test_tool_wallet_create_on_existing_wallet()\n-        self.test_getwalletinfo_on_different_wallet()\n-        self.test_salvage()\n+        if not self.options.descriptors:\n+            # TODO: Wallet tool needs more create options at which point these can be enabled.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259152",
      "id" : 515259152,
      "in_reply_to_id" : 515207818,
      "line" : 265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTE1Mg==",
      "original_commit_id" : "acf24b4a9e992175b5ca17fb6a1751b1680c4b72",
      "original_line" : 265,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/tool_wallet.py",
      "position" : 113,
      "pull_request_review_id" : 520882584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:25:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259152",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259268"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed to \"to be\"",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:25:52Z",
      "diff_hunk" : "@@ -284,39 +307,35 @@ def run_test(self):\n         assert info['private_keys_enabled']\n         assert info['keypoolsize'] > 0\n \n-        node_v17.loadwallet(\"w1\")\n-        wallet = node_v17.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-\n         node_v17.loadwallet(\"w2_v18\")\n         wallet = node_v17.get_wallet_rpc(\"w2_v18\")\n         info = wallet.getwalletinfo()\n         assert info['private_keys_enabled'] == False\n         assert info['keypoolsize'] == 0\n \n-        node_v17.loadwallet(\"w2\")\n-        wallet = node_v17.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n         # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n         # call failure, so the following test won't work:\n         # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3_v18')\n \n         # Instead, we stop node and try to launch it with the wallet:\n         self.stop_node(4)\n         node_v17.assert_start_raises_init_error([\"-wallet=w3_v18\"], \"Error: Error loading w3_v18: Wallet requires newer version of Bitcoin Core\")\n-        node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n+        if self.options.descriptors:\n+            # Descriptor wallets appear to corrupted wallets to old software",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259268",
      "id" : 515259268,
      "in_reply_to_id" : 515207291,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTI2OA==",
      "original_commit_id" : "6d3a3bd865461fcd74ac4aee33988f421ed23104",
      "original_line" : 324,
      "original_position" : 217,
      "original_start_line" : null,
      "path" : "test/functional/feature_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 520882737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:25:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259268",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed to \"to be\"",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:25:58Z",
      "diff_hunk" : "@@ -215,67 +216,89 @@ def run_test(self):\n                 os.path.join(node_v19_wallets_dir, wallet)\n             )\n \n-        # Open the wallets in v0.19\n-        node_v19.loadwallet(\"w1\")\n-        wallet = node_v19.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-        txs = wallet.listtransactions()\n-        assert_equal(len(txs), 5)\n-        assert_equal(txs[1][\"txid\"], tx1_id)\n-        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-        assert not(txs[1][\"abandoned\"])\n-        assert_equal(txs[1][\"confirmations\"], -1)\n-        assert_equal(txs[2][\"blockindex\"], 1)\n-        assert txs[3][\"abandoned\"]\n-        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-        assert not(hasattr(txs[3], \"blockindex\"))\n-\n-        node_v19.loadwallet(\"w2\")\n-        wallet = node_v19.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n-        node_v19.loadwallet(\"w3\")\n-        wallet = node_v19.get_wallet_rpc(\"w3\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n-\n-        # Open the wallets in v0.18\n-        node_v18.loadwallet(\"w1\")\n-        wallet = node_v18.get_wallet_rpc(\"w1\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-        txs = wallet.listtransactions()\n-        assert_equal(len(txs), 5)\n-        assert_equal(txs[1][\"txid\"], tx1_id)\n-        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-        assert not(txs[1][\"abandoned\"])\n-        assert_equal(txs[1][\"confirmations\"], -1)\n-        assert_equal(txs[2][\"blockindex\"], 1)\n-        assert txs[3][\"abandoned\"]\n-        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-        assert not(hasattr(txs[3], \"blockindex\"))\n-\n-        node_v18.loadwallet(\"w2\")\n-        wallet = node_v18.get_wallet_rpc(\"w2\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n-        node_v18.loadwallet(\"w3\")\n-        wallet = node_v18.get_wallet_rpc(\"w3\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n+        if not self.options.descriptors:\n+            # Descriptor wallets break compatibility, only run this test for legacy wallet\n+            # Open the wallets in v0.19\n+            node_v19.loadwallet(\"w1\")\n+            wallet = node_v19.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+            txs = wallet.listtransactions()\n+            assert_equal(len(txs), 5)\n+            assert_equal(txs[1][\"txid\"], tx1_id)\n+            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n+            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n+            assert not(txs[1][\"abandoned\"])\n+            assert_equal(txs[1][\"confirmations\"], -1)\n+            assert_equal(txs[2][\"blockindex\"], 1)\n+            assert txs[3][\"abandoned\"]\n+            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n+            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n+            assert not(hasattr(txs[3], \"blockindex\"))\n+\n+            node_v19.loadwallet(\"w2\")\n+            wallet = node_v19.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+\n+            node_v19.loadwallet(\"w3\")\n+            wallet = node_v19.get_wallet_rpc(\"w3\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] == 0\n+\n+            # Open the wallets in v0.18\n+            node_v18.loadwallet(\"w1\")\n+            wallet = node_v18.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+            txs = wallet.listtransactions()\n+            assert_equal(len(txs), 5)\n+            assert_equal(txs[1][\"txid\"], tx1_id)\n+            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n+            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n+            assert not(txs[1][\"abandoned\"])\n+            assert_equal(txs[1][\"confirmations\"], -1)\n+            assert_equal(txs[2][\"blockindex\"], 1)\n+            assert txs[3][\"abandoned\"]\n+            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n+            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n+            assert not(hasattr(txs[3], \"blockindex\"))\n+\n+            node_v18.loadwallet(\"w2\")\n+            wallet = node_v18.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+\n+            node_v18.loadwallet(\"w3\")\n+            wallet = node_v18.get_wallet_rpc(\"w3\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] == 0\n+\n+            node_v17.loadwallet(\"w1\")\n+            wallet = node_v17.get_wallet_rpc(\"w1\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled']\n+            assert info['keypoolsize'] > 0\n+\n+            node_v17.loadwallet(\"w2\")\n+            wallet = node_v17.get_wallet_rpc(\"w2\")\n+            info = wallet.getwalletinfo()\n+            assert info['private_keys_enabled'] == False\n+            assert info['keypoolsize'] == 0\n+        else:\n+            # Descriptor wallets appear to corrupted wallets to old software",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259321",
      "id" : 515259321,
      "in_reply_to_id" : 515207035,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTMyMQ==",
      "original_commit_id" : "6d3a3bd865461fcd74ac4aee33988f421ed23104",
      "original_line" : 295,
      "original_position" : 176,
      "original_start_line" : null,
      "path" : "test/functional/feature_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 520882813,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:25:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259321",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259370"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:26:03Z",
      "diff_hunk" : "@@ -51,10 +51,18 @@ def skip_test_if_missing_module(self):\n         self.skip_if_no_wallet()\n \n     def run_test(self):\n-        self.address = self.nodes[0].getnewaddress()\n-        self.ms_address = self.nodes[0].addmultisigaddress(1, [self.address])['address']\n-        self.wit_address = self.nodes[0].getnewaddress(address_type='p2sh-segwit')\n-        self.wit_ms_address = self.nodes[0].addmultisigaddress(1, [self.address], '', 'p2sh-segwit')['address']\n+        self.nodes[0].createwallet(wallet_name='wmulti', disable_private_keys=True)\n+        wmulti = self.nodes[0].get_wallet_rpc('wmulti')\n+        w0 = self.nodes[0].get_wallet_rpc(self.default_wallet_name)\n+        self.address = w0.getnewaddress()\n+        self.pubkey = w0.getaddressinfo(self.address)['pubkey']\n+        self.ms_address = wmulti.addmultisigaddress(1, [self.pubkey])['address']\n+        self.wit_address = w0.getnewaddress(address_type='p2sh-segwit')\n+        self.wit_ms_address = wmulti.addmultisigaddress(1, [self.pubkey], '', 'p2sh-segwit')['address']\n+        if not self.options.descriptors:\n+            # Legacy wallets ned to import these so that they are watched by the wallet. This is unnecssary (and does not need to be tested) for descriptor wallets",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259370",
      "id" : 515259370,
      "in_reply_to_id" : 515183891,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTM3MA==",
      "original_commit_id" : "92714b79d01a8b11f41cecc434ae17267a79ccd6",
      "original_line" : 63,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "test/functional/feature_nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 520882880,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:26:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259370",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259432"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:26:08Z",
      "diff_hunk" : "@@ -181,15 +184,26 @@ def test_double_spend(self):\n \n         self.sync_all()\n \n-        # Split network into two\n-        self.split_network()\n-\n         # share utxo between nodes[1] and nodes[2]\n+        eckey = ECKey()\n+        eckey.generate()\n+        privkey = bytes_to_wif(eckey.get_bytes())\n+        address = key_to_p2wpkh(eckey.get_pubkey().get_bytes())\n+        self.nodes[2].sendtoaddress(address, 10)\n+        self.nodes[2].generate(6)\n+        self.nodes[2].importprivkey(privkey)\n         utxos = self.nodes[2].listunspent()\n-        utxo = utxos[0]\n-        privkey = self.nodes[2].dumpprivkey(utxo['address'])\n+        utxo = None\n+        for u in utxos:\n+            if u['address'] == address:\n+                utxo = u\n+                break\n+        assert utxo is not None",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259432",
      "id" : 515259432,
      "in_reply_to_id" : 515177260,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTQzMg==",
      "original_commit_id" : "9b71e3ba39cb56124fb75a7a711f4198d565c6d6",
      "original_line" : 201,
      "original_position" : 40,
      "original_start_line" : 196,
      "path" : "test/functional/wallet_listsinceblock.py",
      "position" : null,
      "pull_request_review_id" : 520882949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-30T17:26:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259432",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259560"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259560"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Reintroduced this check in the previous watchonly test.",
      "commit_id" : "f1ea62d6c6c3c7afc797e94e8f8ea5785b9f7bc7",
      "created_at" : "2020-10-30T17:26:20Z",
      "diff_hunk" : "@@ -621,39 +648,48 @@ def test_watchonly(self):\n         outputs = {self.nodes[2].getnewaddress(): self.watchonly_amount / 2}\n         rawtx = self.nodes[3].createrawtransaction(inputs, outputs)\n \n-        result = self.nodes[3].fundrawtransaction(rawtx, {'includeWatching': True })\n+        self.nodes[3].loadwallet('wwatch')\n+        wwatch = self.nodes[3].get_wallet_rpc('wwatch')\n+        w3 = self.nodes[3].get_wallet_rpc(self.default_wallet_name)\n+        result = wwatch.fundrawtransaction(rawtx, {'includeWatching': True, 'changeAddress': w3.getrawchangeaddress()})\n         res_dec = self.nodes[0].decoderawtransaction(result[\"hex\"])\n         assert_equal(len(res_dec[\"vin\"]), 1)\n         assert_equal(res_dec[\"vin\"][0][\"txid\"], self.watchonly_txid)\n \n         assert \"fee\" in result.keys()\n         assert_greater_than(result[\"changepos\"], -1)\n \n+        wwatch.unloadwallet()\n+\n     def test_all_watched_funds(self):\n         self.log.info(\"Test fundrawtxn using entirety of watched funds\")\n \n         inputs = []\n         outputs = {self.nodes[2].getnewaddress(): self.watchonly_amount}\n         rawtx = self.nodes[3].createrawtransaction(inputs, outputs)\n \n-        # Backward compatibility test (2nd param is includeWatching).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18788#discussion_r515259560",
      "id" : 515259560,
      "in_reply_to_id" : 515173799,
      "line" : 639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI1OTU2MA==",
      "original_commit_id" : "dc7dda345149e2de06f0a3813fc05e3c6bd78be3",
      "original_line" : 639,
      "original_position" : 156,
      "original_start_line" : null,
      "path" : "test/functional/rpc_fundrawtransaction.py",
      "position" : 172,
      "pull_request_review_id" : 520883144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18788",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T17:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515259560",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
