[
   {
      "author_association" : "MEMBER",
      "body" : "cc @vasild ",
      "created_at" : "2021-09-11T09:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22952#issuecomment-917373463",
      "id" : 917373463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22952",
      "node_id" : "IC_kwDOABII5842rgIX",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-11T09:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917373463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just out of curiosity - what drove you to do this change? Did you use some tool which suggested these changes?\r\n\r\nIt is somewhat difficult to asses whether removing `#include <asysheader>` from `foo.cpp` is justified - how to check that `foo.cpp` is not using any of the functions from that header?\r\n\r\nI see why `<codecvt>` was moved from `netbase.cpp` to `util/sock.cpp` - the windows-only variant of `NetworkErrorString()` is using `std::codecvt_utf8_utf16` and that function was moved from `netbase.cpp` to `util/sock.cpp` (but the header was not moved).\r\n\r\nWhy remove `<cwchar>` from `util/sock.cpp`? Looks like in order to confirm this change is legit one has to verify that none of the symbols from https://en.cppreference.com/w/cpp/header/cwchar are used in `util/sock.cpp`. Is there an easy way to do that?\r\n\r\nSame for making `<locale>` windows-only. How to check that non-windows code is not using any of its symbols?",
      "created_at" : "2021-09-13T10:47:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22952#issuecomment-918070022",
      "id" : 918070022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22952",
      "node_id" : "IC_kwDOABII5842uKMG",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-13T10:47:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918070022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild \r\n> Just out of curiosity - what drove you to do this change?\r\n\r\nReading dec9b5e850c6aad989e814aea5b630b36f55d580 commit while working on #20744.\r\n\r\n> Did you use some tool which suggested these changes?\r\n\r\nNo. The added code is short enough to manually verify need of `#include <cwchar>` and `#include <locale>`.\r\n\r\n> Why remove `<cwchar>` from `util/sock.cpp`?\r\n\r\nWhy was it added in dec9b5e850c6aad989e814aea5b630b36f55d580? I see no reason for that.\r\n\r\n> Same for making `<locale>` windows-only. How to check that non-windows code is not using any of its symbols?\r\n\r\nSame. I see no reason to `#include <locale>` for non-Windows platforms in dec9b5e850c6aad989e814aea5b630b36f55d580.\r\n\r\n\r\n\r\n",
      "created_at" : "2021-09-13T11:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22952#issuecomment-918086205",
      "id" : 918086205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22952",
      "node_id" : "IC_kwDOABII5842uOI9",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-13T11:10:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918086205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
