[
   {
      "author_association" : "NONE",
      "body" : "Doesn't make any difference in rounding down or up the fee. Paying one satoshi more or less doesn't even matter at all since a satoshi is basically worthless. \r\n\r\n> It is unlikely that a user can trigger this as it requires a very specific set of rounding errors to occur as well as the transaction not needing any change and being right on the lower bound of the exact match window. However I was able to trigger the assertion while running coin selection simulations, albeit after thousands of transactions and with some weird feerates.\r\n\r\nThis pr shouldn't be merged. Even op acknowledged that the end user is unlikely to face any issue like he did in his simulations.\r\n",
      "created_at" : "2021-09-11T11:26:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22949#issuecomment-917390481",
      "id" : 917390481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22949",
      "node_id" : "IC_kwDOABII5842rkSR",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-11T11:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917390481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/90217294?v=4",
         "events_url" : "https://api.github.com/users/bitcoin-public-domain/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoin-public-domain/followers",
         "following_url" : "https://api.github.com/users/bitcoin-public-domain/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoin-public-domain/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoin-public-domain",
         "id" : 90217294,
         "login" : "bitcoin-public-domain",
         "node_id" : "MDQ6VXNlcjkwMjE3Mjk0",
         "organizations_url" : "https://api.github.com/users/bitcoin-public-domain/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoin-public-domain/received_events",
         "repos_url" : "https://api.github.com/users/bitcoin-public-domain/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoin-public-domain/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoin-public-domain/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoin-public-domain"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems odd to me that the wallet and policy should have different fee calculation results for the same transaction.\r\n\r\nIn terms of pre-signed transactions, what security implications do you imagine? I don't think it is possible for this to cause a transaction's feerate to fall below the default minimum relay fee because the result of the fee calculation at the minimum relay fee is always an integer since the minimum relay fee is an integer. I believe the same is true for the incremental relay fee and how that calculation works.",
      "created_at" : "2021-09-12T00:01:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22949#issuecomment-917506157",
      "id" : 917506157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22949",
      "node_id" : "IC_kwDOABII5842sAht",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-12T00:01:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917506157",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  I believe the same is true for the incremental relay fee and how that calculation works.\r\n\r\nI don't think it's true in all cases. Take clawback tx A with fee such as it would be rounded up after this PR, not before. The application wants to replace it with clawback tx B with fee equal to `A's fee + incremental relay fee` such as it would not be rounded up.\r\nBefore this PR tx B would be accepted, after it would be refused.\r\n\r\nOf course it'd be reckless for such an application to not take some leeway in addition to the incremental fee here, but still this PR would be a behaviour change for this edge case.",
      "created_at" : "2021-09-12T14:12:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22949#issuecomment-917644192",
      "id" : 917644192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22949",
      "node_id" : "IC_kwDOABII5842siOg",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-12T14:12:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/917644192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   }
]
