[
   {
      "body" : "bad_alloc sounds like out-of-memory - are you running very close to the amount of memory available on your system?\r\n\r\nThe \"inputs already spent\" error is probably the wrong message, and should \"inputs not found\", since it may be just due to not knowing any of the inputs, no DoS logic is triggered.\r\n",
      "created_at" : "2013-05-12T18:00:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17782155",
      "id" : 17782155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-12T18:00:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17782155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Memory can't be the issue there because I used to run Armory (very memory hungry) beside Bitcoin-Qt and never got \"memory low\" or some similar warning. Crashes happen on random, so far I haven't found any procedure to replicate them on will. It is like a lottery for me, client sometimes runs for 24+ hours without any issue but then starts acting strange for next few runs, eventualy crashing with some MS Visual C++ error returned. Bitcoin-Qt itself uses 8 - 128 MB on average depending on the task and datadir is located on the partition that has 25+ GB free space at all times.\r\n\r\nNote that node spamming orphan stuff, address adds and spent inputs (or whatever it is) reported 0 blocks upon connect:\r\n\r\n2013-05-12 14:46:36 receive version message: version 70001, blocks=0, us=95.178.183.119:12954, them=85.17.239.32:8333, peer=85.17.239.32:8333\r\n\r\nFull debug log for second run: http://www.filedropper.com/debug2 in line 100\r\n\r\nIntentional misbehaviour?",
      "created_at" : "2013-05-13T10:13:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17803191",
      "id" : 17803191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-13T10:25:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17803191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   },
   {
      "body" : "Well ``bad_alloc`` is indeed memory related, it's an ``Exception thrown on failure allocating memory``, see http://www.cplusplus.com/reference/new/bad_alloc. The problem here is, where does it come from... how many nodes were connected and what is your exact command-line (if any)?\r\n\r\n@sipa Take a look, seems to happen in ProcessMessages()\r\n<pre>\r\n2013-05-12 15:01:41 Committing 4247 changed transactions to coin database...\r\n2013-05-12 15:01:41 \r\n\r\n************************\r\nEXCEPTION: St9bad_alloc       \r\nstd::bad_alloc       \r\nC:\\Program Files\\Bitcoin\\bitcoin-qt.exe in ProcessMessages()       \r\n\r\n2013-05-12 15:01:41 ProcessMessage(block, 451118 bytes) FAILED\r\n</pre>",
      "created_at" : "2013-05-13T11:36:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17806291",
      "id" : 17806291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-13T11:46:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17806291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "-datadir=E:\\BitcoinData added to shortcut used to run Bitcoin-Qt, bitcoin.conf contains the following lines:\r\n\r\nkeypool=1000\r\nmaxconnections=16\r\nbanscore=20\r\nlogtimestamps=1\r\n\r\nI'm increasing or decreasing maxconnections based on if I'm in a need for upload bandwidth or not but it does not seem to affect the occurence of crashes. The same goes for keypool, I used to have it on default earlier and client was still crashing. I have reduced and increased swap file size, added it to all other partitions besides system one (C:) and even shuffled physical RAM DIMMs (4x 512MB, Dual channel enabled) but situation stayed the same.\r\n\r\nThere is also this bad_alloc in http://www.filedropper.com/debug3\r\n\r\n************************\r\nEXCEPTION: St9bad_alloc\r\nstd::bad_alloc\r\nC:\\Program Files\\Bitcoin\\bitcoin-qt.exe in ThreadDumpAddress()\r\n\r\nBitcoin-Qt and all other cryptocoin clients are attempting to access all processes running on a computer regulary every 15 minutes or so which is not usual Win applications behaviour so I disabled process memory injection for all of them on firewall. Could it be that is the cause of problems? If yes, why other clients never crashed and what exactly Bitcoin-Qt gains by messing with memory of let's say firefox.exe or notepad.exe?",
      "created_at" : "2013-05-13T15:21:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17818726",
      "id" : 17818726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-13T15:24:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17818726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   },
   {
      "body" : "Are you sure you are using 0.8.2 RC1? AFAIK there is no ``ThreadDumpAddress()`` anymore in the client...",
      "created_at" : "2013-05-13T17:22:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17826520",
      "id" : 17826520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-13T17:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17826520",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Error with ThreadDumpAddress() occured with 0.8.1which I used after deinstalling 0.8.2rc1",
      "created_at" : "2013-05-15T10:17:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-17930490",
      "id" : 17930490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-15T10:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17930490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   },
   {
      "body" : "Node on 85.17.239.32 which was and is still spamming my node with crap is using some weird Bitcoin client:\r\n\r\n{\r\n\"addr\" : \"85.17.239.32:8333\",\r\n\"services\" : \"00000000\",\r\n\"lastsend\" : 1368798401,\r\n\"lastrecv\" : 1368798405,\r\n\"conntime\" : 1368792822,\r\n\"version\" : 70001,\r\n\"subver\" : \"/Bitpeer:0.2.3/\", <--- ???\r\n\"inbound\" : false,\r\n\"releasetime\" : 0,\r\n\"startingheight\" : 0,\r\n\"banscore\" : 0\r\n}\r\n\r\nIP blacklisted on firewall, for now.",
      "created_at" : "2013-05-17T13:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2646#issuecomment-18062393",
      "id" : 18062393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2646",
      "updated_at" : "2013-05-17T13:51:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/18062393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2906757?v=3",
         "events_url" : "https://api.github.com/users/subSTRATA/events{/privacy}",
         "followers_url" : "https://api.github.com/users/subSTRATA/followers",
         "following_url" : "https://api.github.com/users/subSTRATA/following{/other_user}",
         "gists_url" : "https://api.github.com/users/subSTRATA/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/subSTRATA",
         "id" : 2906757,
         "login" : "subSTRATA",
         "organizations_url" : "https://api.github.com/users/subSTRATA/orgs",
         "received_events_url" : "https://api.github.com/users/subSTRATA/received_events",
         "repos_url" : "https://api.github.com/users/subSTRATA/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/subSTRATA/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/subSTRATA/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/subSTRATA"
      }
   }
]
