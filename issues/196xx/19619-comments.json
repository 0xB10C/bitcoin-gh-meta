[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-07-29T14:15:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-665690746",
      "id" : 665690746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTY5MDc0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-29T14:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665690746",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19556 (Remove mempool global by MarcoFalke)\n* #19457 (wallet: Cleanup wallettool salvage and walletdb extraneous declarations by achow101)\n* #19425 (refactor: Get rid of more redundant chain methods by ryanofsky)\n* #19245 ([WIP DONOTMERGE] Replace boost::filesystem with std::filesystem (in c++17) by kiminuo)\n* #19137 (wallettool: Add dump and createfromdump commands by achow101)\n* #19101 (refactor: remove ::vpwallets and related global variables by ryanofsky)\n* #19099 (refactor: Move wallet methods out of chain.h and node.h by ryanofsky)\n* #19098 (test: Remove duplicate NodeContext hacks by ryanofsky)\n* #19077 (wallet: Add sqlite as an alternative wallet database and use it for new descriptor wallets by achow101)\n* #18904 (Don't call lsn_reset in periodic flush by bvbfan)\n* #18836 (wallet: upgradewallet fixes and additional tests by achow101)\n* #18608 (refactor: Remove CAddressBookData::destdata by ryanofsky)\n* #18354 (Use shared pointers only in validation interface by bvbfan)\n* #15454 (Remove the automatic creation and loading of the default wallet by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-29T14:28:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-665698519",
      "id" : 665698519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTY5ODUxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T04:07:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665698519",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Could the second commit be split up a bit? It seems to be doing a lot and several functions are being renamed and removed.\r\n\r\nFrom what I understand, the second commit adds `DatabaseOptions` and `DatabaseStatus`. Then `CreateWalletDatabase` is renamed to `MakeWalletDatabase` and all of the various checks (file existence checks and database verify) are pushed into that function with `DatabaseOptions` informing the function what to actually do. And lastly `MakeWalletDatabase` becomes a separate distinct step that callers must do instead of letting `CWallet::Create` (renamed from `CreateWalletFromFile`) handle internally.\r\n\r\nFrom this, I think you could add a few more commits:\r\n* Introduction of `DatabaseOptions` and `DatabaseStatus` to consolidate the current options and status\r\n* Moving everything into `MakeWalletDatabase`\r\n* Separating `MakeWalletDatabase` from `CWallet::Create`",
      "created_at" : "2020-07-29T19:20:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-665853496",
      "id" : 665853496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTg1MzQ5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-29T19:27:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665853496",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could the second commit be split up a bit? It seems to be doing a lot and several functions are being renamed and removed.\r\n\r\nSure, I think I can split up like you're suggesting. The main change is introducing the `MakeBerkeleyDatabase` function. Then that function is called various places to get rid of path operations. So I think introducing MakeBerkeleyDatabase could be one commit, and then this can be followed by more commits calling it from RPC code, and then gui code, and then wallet tool code",
      "created_at" : "2020-07-29T20:15:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-665903005",
      "id" : 665903005,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTkwMzAwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-29T20:15:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665903005",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, also I didn't want this PR to depend on #19099, but this would be a little smaller with #19099 merged frist, because then there would be no need to change interfaces/node and walletinitinterface code here\r\n\r\n---\r\n\r\nRebased 8994145cb336862a51151cbaa2e222e3e2a5be96 -> 0e4cb50e3c86c3093b18fe2dfb47f563db32afef ([`pr/path.2`](https://github.com/ryanofsky/bitcoin/commits/pr/path.2) -> [`pr/path.3`](https://github.com/ryanofsky/bitcoin/commits/pr/path.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/path.2-rebase..pr/path.3)) due to conflict with #19102",
      "created_at" : "2020-07-29T20:18:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-665904386",
      "id" : 665904386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NTkwNDM4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-30T23:20:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/665904386",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-07-30T16:24:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-666505216",
      "id" : 666505216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NjUwNTIxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-30T16:24:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666505216",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can see why we'd want to move anything about \"wallet.dat\" or the \"wallet is a directory\" stuff into the database layer, but IMO it doesn't make sense to hide the path the wallet is located within...",
      "created_at" : "2020-07-31T01:44:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-666864816",
      "id" : 666864816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2Njg2NDgxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T01:44:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666864816",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, as a logical separation I think it makes sense to have database-format-specific stuff like this at a lower layer than the logical use of a generic database in the rest of the code.",
      "created_at" : "2020-07-31T11:46:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19619#issuecomment-667080181",
      "id" : 667080181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19619",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NzA4MDE4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T11:46:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/667080181",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/meshcollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/meshcollider/followers",
         "following_url" : "https://api.github.com/users/meshcollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/meshcollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/meshcollider",
         "id" : 3211283,
         "login" : "meshcollider",
         "node_id" : "MDQ6VXNlcjMyMTEyODM=",
         "organizations_url" : "https://api.github.com/users/meshcollider/orgs",
         "received_events_url" : "https://api.github.com/users/meshcollider/received_events",
         "repos_url" : "https://api.github.com/users/meshcollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/meshcollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/meshcollider"
      }
   }
]
