[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This seems reasonable if `abandontransaction` is a good alternative. I was also wondering if -zapwallettxes is fully working because it loops over m_spk_managers on the dummy wallet without calling SetupLegacyScriptPubKeyMan first",
      "created_at" : "2020-08-05T21:43:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669528319",
      "id" : 669528319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2OTUyODMxOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-05T21:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669528319",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I was also wondering if -zapwallettxes is fully working because it loops over m_spk_managers on the dummy wallet without calling SetupLegacyScriptPubKeyMan first\r\n\r\nIt looks like that's not even a reachable code path as `WalletBatch::ZapWalletTx` can't return `DBErrors::NEED_REWRITE`.",
      "created_at" : "2020-08-05T23:00:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669587738",
      "id" : 669587738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2OTU4NzczOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-05T23:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669587738",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19653 (wallet: Replace -zapwallettxes with zapwallettxes RPC by achow101)\n* #19619 (Remove wallet.dat path handling from wallet.cpp, rpcwallet.cpp by ryanofsky)\n* #19168 (Refactor: Improve setup_clean_chain semantics by fjahr)\n* #19101 (refactor: remove ::vpwallets and related global variables by ryanofsky)\n* #19077 (wallet: Add sqlite as an alternative wallet database and use it for new descriptor wallets by achow101)\n* #18836 (wallet: upgradewallet fixes and additional tests by achow101)\n* #18788 (tests: Update more tests to work with descriptor wallets by achow101)\n* #17127 (util: Correct permissions for datadir and wallets subdir by hebasto)\n* #16910 (wallet: reduce loading time by using unordered maps by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-08-06T00:17:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669610527",
      "id" : 669610527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2OTYxMDUyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-06T00:17:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669610527",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nRemoving all transactions from the wallet a sledge-hammer option. If there is any need for this it should be the wallet maintenance tool. But if its use is fully replaced by `abandontransaction` well, better to get rid of it.\r\n\r\nIf we do this, please keep the option *as hidden option* and exit with an error explaining to use `abandontransaction` if it is passed. People might find this option documented in old guides and such, it can be somewhat frustrating if options just disappear.\r\n",
      "created_at" : "2020-08-06T07:00:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669744992",
      "id" : 669744992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2OTc0NDk5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-06T07:00:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669744992",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
