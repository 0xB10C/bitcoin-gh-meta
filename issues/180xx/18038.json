{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This piece of functionality has been extracted #16698 as a standalone change. It builds on #18037, please review that PR first ðð½\r\n\r\nThe current rebroadcast logic is terrible for privacy because 1. only the source wallet rebroadcasts transactions and 2. it does so quite frequently. In the current system, if a user submits a transaction that does not immediately get broadcast to the network (eg. they are offline), this \"rebroadcast\" behavior is the safety net that can actually serve as the initial broadcast. So, keeping the attempts frequent is important for initial delivery within a reasonable timespan. \r\n\r\nThis PR aims to improve # 2 by separating the notion of initial broadcast from rebroadcasts. With these changes, the mempool tracks locally submitted transactions & periodically reattempts initial broadcast. Transactions submitted via the wallet or RPC are added to an \"unbroadcast\" set & are removed when a peer sends a `getdata` request, or the transaction is removed from the mempool. Every 10 minutes, the node reattempts an initial broadcast. This allows reducing the wallet rebroadcast frequency to ~1/day from ~1/30 min, while still ensuring the transactions will be propagated to the network. \r\n\r\nFor privacy improvements around # 1, please see #16698. ",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18038/comments",
   "created_at" : "2020-01-31T05:52:30Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18038/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18038",
   "id" : 557929655,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "description" : null,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18038/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzY5NDIyNTY4",
   "number" : 18038,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18038.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18038",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18038.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18038"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "P2P: Mempool tracks locally submitted transactions to improve privacy",
   "updated_at" : "2020-01-31T05:52:58Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18038",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
      "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
      "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/amitiuttarwar",
      "id" : 1500952,
      "login" : "amitiuttarwar",
      "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
      "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
      "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
      "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/amitiuttarwar"
   }
}
