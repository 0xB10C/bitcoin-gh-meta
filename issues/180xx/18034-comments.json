[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-01-31T03:58:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#issuecomment-580570750",
      "id" : 580570750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18034",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MDU3MDc1MA==",
      "updated_at" : "2020-02-10T15:54:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/580570750",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Do you have a use case for these?",
      "created_at" : "2020-02-03T08:04:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#issuecomment-581285777",
      "id" : 581285777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18034",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MTI4NTc3Nw==",
      "updated_at" : "2020-02-03T08:04:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/581285777",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375306095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375306095"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, add space after `switch`, same below.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-05T14:58:51Z",
      "diff_hunk" : "@@ -512,6 +515,19 @@ class AddressDescriptor final : public DescriptorImpl\n public:\n     AddressDescriptor(CTxDestination destination) : DescriptorImpl({}, {}, \"addr\"), m_destination(std::move(destination)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        switch(m_destination.which()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375306095",
      "id" : 375306095,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTMwNjA5NQ==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 35,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 353782025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375306095",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375306991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375306991"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Assert result?",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-05T15:00:16Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        ExtractDestination(m_script, dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375306991",
      "id" : 375306991,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTMwNjk5MQ==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 56,
      "path" : "src/script/descriptor.cpp",
      "position" : 56,
      "pull_request_review_id" : 353782025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375306991",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375307197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375307197"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit sort.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-05T15:00:35Z",
      "diff_hunk" : "@@ -5,6 +5,8 @@\n #ifndef BITCOIN_SCRIPT_DESCRIPTOR_H\n #define BITCOIN_SCRIPT_DESCRIPTOR_H\n \n+#include <outputtype.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r375307197",
      "id" : 375307197,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTMwNzE5Nw==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 353782025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/375307197",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377057852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377057852"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please use / comment `PKHash` (etc) here for readability.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T13:22:08Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        ExtractDestination(m_script, dest);\n+        switch(dest.which()) {\n+            case 1:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377057852",
      "id" : 377057852,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA1Nzg1Mg==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 58,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 355929505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377057852",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209765"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209765"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T17:32:42Z",
      "diff_hunk" : "@@ -512,6 +515,19 @@ class AddressDescriptor final : public DescriptorImpl\n public:\n     AddressDescriptor(CTxDestination destination) : DescriptorImpl({}, {}, \"addr\"), m_destination(std::move(destination)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        switch(m_destination.which()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209765",
      "id" : 377209765,
      "in_reply_to_id" : 375306095,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIwOTc2NQ==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 35,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 356127617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209765",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209794"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T17:32:46Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        ExtractDestination(m_script, dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209794",
      "id" : 377209794,
      "in_reply_to_id" : 375306991,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIwOTc5NA==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 56,
      "path" : "src/script/descriptor.cpp",
      "position" : 56,
      "pull_request_review_id" : 356127665,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209794",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209815"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209815"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T17:32:49Z",
      "diff_hunk" : "@@ -5,6 +5,8 @@\n #ifndef BITCOIN_SCRIPT_DESCRIPTOR_H\n #define BITCOIN_SCRIPT_DESCRIPTOR_H\n \n+#include <outputtype.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209815",
      "id" : 377209815,
      "in_reply_to_id" : 375307197,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIwOTgxNQ==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 356127694,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209815",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209834"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T17:32:53Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        ExtractDestination(m_script, dest);\n+        switch(dest.which()) {\n+            case 1:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377209834",
      "id" : 377209834,
      "in_reply_to_id" : 377057852,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIwOTgzNA==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 58,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 356127725,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377209834",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't like the use of `ExtractDestination` though. Let's just determine the output type from the descriptor itself similar to #15590. That also avoids the next problem:\r\n> \r\n> > For simplicity, `ScriptHash` destinations are `LEGACY` even though they could be `P2SH_SEGWIT`\r\n\r\nThese only apply to `addr()` and `raw()` descriptors. The rest where all solving information is available do the correct thing.",
      "created_at" : "2020-02-10T17:33:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#issuecomment-584240297",
      "id" : 584240297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18034",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NDI0MDI5Nw==",
      "updated_at" : "2020-02-10T17:33:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/584240297",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377230848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377230848"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't mind, but why are you making `m_name` public?",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T18:13:42Z",
      "diff_hunk" : "@@ -339,14 +339,15 @@ class DescriptorImpl : public Descriptor\n {\n     //! Public key arguments for this descriptor (size 1 for PK, PKH, WPKH; any size for Multisig).\n     const std::vector<std::unique_ptr<PubkeyProvider>> m_pubkey_args;\n+    //! The string name of the descriptor function.\n+    const std::string m_name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377230848",
      "id" : 377230848,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIzMDg0OA==",
      "original_commit_id" : "b4fcf7ad56d0981797a4424f38f0524275d26e59",
      "original_position" : 5,
      "path" : "src/script/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 356153458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377230848",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377232751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377232751"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This seems a bit aggressive, maybe return `nullopt` is `ExtractDestination` fails?",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T18:17:29Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        assert(ExtractDestination(m_script, dest));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377232751",
      "id" : 377232751,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIzMjc1MQ==",
      "original_commit_id" : "b4fcf7ad56d0981797a4424f38f0524275d26e59",
      "original_position" : 56,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 356153458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377232751",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377236601"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377236601"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't. The default visibility is private.\r\n\r\nYou should really see this change as moving `m_subdescriptor_arg` into the `protected` area rather than moving `m_mame`.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T18:25:26Z",
      "diff_hunk" : "@@ -339,14 +339,15 @@ class DescriptorImpl : public Descriptor\n {\n     //! Public key arguments for this descriptor (size 1 for PK, PKH, WPKH; any size for Multisig).\n     const std::vector<std::unique_ptr<PubkeyProvider>> m_pubkey_args;\n+    //! The string name of the descriptor function.\n+    const std::string m_name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377236601",
      "id" : 377236601,
      "in_reply_to_id" : 377230848,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIzNjYwMQ==",
      "original_commit_id" : "b4fcf7ad56d0981797a4424f38f0524275d26e59",
      "original_position" : 5,
      "path" : "src/script/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 356160773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377236601",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377244557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377244557"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, I misread that move. That makes sense.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T18:41:03Z",
      "diff_hunk" : "@@ -339,14 +339,15 @@ class DescriptorImpl : public Descriptor\n {\n     //! Public key arguments for this descriptor (size 1 for PK, PKH, WPKH; any size for Multisig).\n     const std::vector<std::unique_ptr<PubkeyProvider>> m_pubkey_args;\n+    //! The string name of the descriptor function.\n+    const std::string m_name;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377244557",
      "id" : 377244557,
      "in_reply_to_id" : 377230848,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI0NDU1Nw==",
      "original_commit_id" : "b4fcf7ad56d0981797a4424f38f0524275d26e59",
      "original_position" : 5,
      "path" : "src/script/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 356170882,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377244557",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377263993"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377263993"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Reverted the change. There's no need to check the result of `ExtractDestination` because it is directly implied by the resulting `CTxDestination`. If it fails, that will be `CNoDestination`.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T19:18:17Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        assert(ExtractDestination(m_script, dest));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377263993",
      "id" : 377263993,
      "in_reply_to_id" : 377232751,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI2Mzk5Mw==",
      "original_commit_id" : "b4fcf7ad56d0981797a4424f38f0524275d26e59",
      "original_position" : 56,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 356195371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:18:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377263993",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377264437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377264437"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually reverted that. It is possible, and perhaps expected, that we get a script which causes `ExtractDestination` to fail. Such a script would be a `CNoDestination`.",
      "commit_id" : "079862da67098d177d25e239d6961952a787f403",
      "created_at" : "2020-02-10T19:19:13Z",
      "diff_hunk" : "@@ -524,6 +540,21 @@ class RawDescriptor final : public DescriptorImpl\n public:\n     RawDescriptor(CScript script) : DescriptorImpl({}, {}, \"raw\"), m_script(std::move(script)) {}\n     bool IsSolvable() const final { return false; }\n+\n+    Optional<OutputType> GetOutputType() const override\n+    {\n+        CTxDestination dest;\n+        ExtractDestination(m_script, dest);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18034#discussion_r377264437",
      "id" : 377264437,
      "in_reply_to_id" : 375306991,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI2NDQzNw==",
      "original_commit_id" : "db1e861fda90f8f49beba60fb6e7fd15411d3fd0",
      "original_position" : 56,
      "path" : "src/script/descriptor.cpp",
      "position" : 56,
      "pull_request_review_id" : 356195987,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18034",
      "updated_at" : "2020-02-10T19:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/377264437",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
