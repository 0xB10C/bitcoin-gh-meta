[
   {
      "author_association" : "NONE",
      "body" : "> The version is showing 220000 I think because of the version of bitcoind im running, I could be wrong though.\r\n\r\n@jessebarton I see `Version: 230000` when running RC2. It prints server version from `getnetworkinfo` so you are right that its 220000 because of bitcoind in your output.",
      "created_at" : "2022-03-22T07:58:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#issuecomment-1074846036",
      "id" : 1074846036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24632",
      "node_id" : "IC_kwDOABII585AENlU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1074846036/reactions"
      },
      "updated_at" : "2022-03-22T07:58:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1074846036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r831935248"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831935248"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestions\r\n\r\n- don't add extra line breaks when no warning is present\r\n- avoid running getValStr() twice\r\n- use empty()\r\n- clang-format of brackets in the conditional\r\n\r\n```diff\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -1038,7 +1038,7 @@ static void ParseGetInfoResult(UniValue& result)\r\n         result_string += strprintf(\"Transaction fee rate (-paytxfee) (%s/kvB): %s\\n\\n\", CURRENCY_UNIT, result[\"paytxfee\"].getValStr());\r\n     }\r\n     if (!result[\"balance\"].isNull()) {\r\n-        result_string += strprintf(\"%sBalance:%s %s\\n\\n\", CYAN, RESET, result[\"balance\"].getValStr());\r\n+        result_string += strprintf(\"%sBalance:%s %s\\n\", CYAN, RESET, result[\"balance\"].getValStr());\r\n     }\r\n \r\n     if (!result[\"balances\"].isNull()) {\r\n@@ -1056,13 +1056,13 @@ static void ParseGetInfoResult(UniValue& result)\r\n                                        result[\"balances\"][wallet].getValStr(),\r\n                                        wallet.empty() ? \"\\\"\\\"\" : wallet);\r\n         }\r\n-        result_string += \"\\n\";\r\n     }\r\n \r\n-    if (result[\"warnings\"].getValStr()!=\"\")\r\n-    {\r\n-        result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\r\n+    const std::string warnings{result[\"warnings\"].getValStr()};\r\n+    if (!warnings.empty()) {\r\n+        result_string += strprintf(\"\\n%sWarnings:%s %s\", YELLOW, RESET, warnings);\r\n     }\r\n+\r\n     result.setStr(result_string);\r\n }\r\n```\r\nWith this suggestion, I think there is still an extra line break after the balance/balances, if you can look into it.",
      "commit_id" : "2258b0172bb057f85a9bfd97575186cd5c17cb4a",
      "created_at" : "2022-03-22T09:17:20Z",
      "diff_hunk" : "@@ -1059,7 +1059,10 @@ static void ParseGetInfoResult(UniValue& result)\n         result_string += \"\\n\";\n     }\n \n-    result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    if (result[\"warnings\"].getValStr()!=\"\")\n+    {\n+        result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r831935248",
      "id" : 831935248,
      "line" : 1065,
      "node_id" : "PRRC_kwDOABII584xllMQ",
      "original_commit_id" : "2258b0172bb057f85a9bfd97575186cd5c17cb4a",
      "original_line" : 1065,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 8,
      "pull_request_review_id" : 916890017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831935248/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-22T09:17:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831935248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Previously, -getinfo returned a JSON-RPC-like response with the \"warnings\" field returned by getnetworkinfo after calling `GetWarnings()` in `src/warnings.{h,cpp}`. With #21832, -getinfo was converted to a human-readable format without taking into account that the field, when empty, could appear odd. This was likely overlooked because in pre-release development the tester will always see `Warnings: This is a pre-release test build - use at your own risk - do not use for mining or merchant applications`.",
      "created_at" : "2022-03-22T09:28:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#issuecomment-1074929041",
      "id" : 1074929041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24632",
      "node_id" : "IC_kwDOABII585AEh2R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1074929041/reactions"
      },
      "updated_at" : "2022-03-22T09:28:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1074929041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832087363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832087363"
         }
      },
      "author_association" : "NONE",
      "body" : "@jonatack thanks for review and suggestion. Made changes, tested and it looks good. Let me know if there are any issues with line breaks:\r\n\r\nWith warning: https://pastebin.com/raw/eN3SGjiX\r\nWithout warning: https://pastebin.com/raw/frfnqfvU",
      "commit_id" : "d7dcb82f45d07e18685fe6082ecb109e9b4099e5",
      "created_at" : "2022-03-22T11:57:17Z",
      "diff_hunk" : "@@ -1059,7 +1059,10 @@ static void ParseGetInfoResult(UniValue& result)\n         result_string += \"\\n\";\n     }\n \n-    result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    if (result[\"warnings\"].getValStr()!=\"\")\n+    {\n+        result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832087363",
      "id" : 832087363,
      "in_reply_to_id" : 831935248,
      "line" : 1064,
      "node_id" : "PRRC_kwDOABII584xmKVD",
      "original_commit_id" : "2258b0172bb057f85a9bfd97575186cd5c17cb4a",
      "original_line" : 1064,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 20,
      "pull_request_review_id" : 917103768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832087363/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-22T11:57:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832087363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832436141"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832436141"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As I mentioned, there is still an extra line, and the commits should be squashed, as the extra line is created by the changes here.",
      "commit_id" : "8dac94c8b1d48def4bb12190a2be9b1c7be06a8e",
      "created_at" : "2022-03-22T17:22:16Z",
      "diff_hunk" : "@@ -1059,7 +1059,10 @@ static void ParseGetInfoResult(UniValue& result)\n         result_string += \"\\n\";\n     }\n \n-    result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    if (result[\"warnings\"].getValStr()!=\"\")\n+    {\n+        result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832436141",
      "id" : 832436141,
      "in_reply_to_id" : 831935248,
      "line" : 1064,
      "node_id" : "PRRC_kwDOABII584xnfet",
      "original_commit_id" : "2258b0172bb057f85a9bfd97575186cd5c17cb4a",
      "original_line" : 1064,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 26,
      "pull_request_review_id" : 917607796,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832436141/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-22T17:22:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832436141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832524322"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832524322"
         }
      },
      "author_association" : "NONE",
      "body" : "Done. Removed extra lines: https://pastebin.com/raw/bZk4YNj5 and squashed commits.",
      "commit_id" : "8dac94c8b1d48def4bb12190a2be9b1c7be06a8e",
      "created_at" : "2022-03-22T18:57:55Z",
      "diff_hunk" : "@@ -1059,7 +1059,10 @@ static void ParseGetInfoResult(UniValue& result)\n         result_string += \"\\n\";\n     }\n \n-    result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    if (result[\"warnings\"].getValStr()!=\"\")\n+    {\n+        result_string += strprintf(\"%sWarnings:%s %s\", YELLOW, RESET, result[\"warnings\"].getValStr());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#discussion_r832524322",
      "id" : 832524322,
      "in_reply_to_id" : 831935248,
      "line" : 1064,
      "node_id" : "PRRC_kwDOABII584xn1Ai",
      "original_commit_id" : "2258b0172bb057f85a9bfd97575186cd5c17cb4a",
      "original_line" : 1064,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 26,
      "pull_request_review_id" : 917735341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24632",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832524322/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-22T18:58:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/832524322",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for updating.\r\n\r\n- It looks like there is now (a) an extra line between \"Balances\" and the balances, and (b) a line missing before the warnings, with both one balance and multiple balances. Example:\r\n\r\n```\r\nâ¿ ./src/bitcoin-cli -signet -getinfo\r\n\r\n.../...\r\n\r\nMin tx relay fee rate (BTC/kvB): 0.00001000\r\n\r\nBalances\r\n\r\n  1.10997653 default settings\r\n  0.00000000 disable private keys and blank\r\n  0.00000000 disable private keys\r\n  0.00000000 encrypted blank descriptor\r\n  0.00000000 blank\r\n498.77584341 \"\"\r\nWarnings: This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\r\n```\r\n\r\n- Could you please update the PR and commit titles to include \"-getinfo\"? i.e. something like `print -getinfo warnings only if warnings are present`",
      "created_at" : "2022-03-23T13:10:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24632#issuecomment-1076357827",
      "id" : 1076357827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24632",
      "node_id" : "IC_kwDOABII585AJ-rD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076357827/reactions"
      },
      "updated_at" : "2022-03-23T13:10:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1076357827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
