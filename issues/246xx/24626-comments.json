[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831063872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831063872"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit for new code\r\n\r\n```suggestion\r\n        if (args.GetBoolArg(\"-reindex-chainstate\", false)) {\r\n```",
      "commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "created_at" : "2022-03-21T12:45:50Z",
      "diff_hunk" : "@@ -853,12 +853,14 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n         nLocalServices = ServiceFlags(nLocalServices | NODE_COMPACT_FILTERS);\n     }\n \n-    // if using block pruning, then disallow txindex and coinstatsindex\n+    // if using block pruning, then disallow txindex and coinstatsindex and reindex-chainstate\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n         if (args.GetBoolArg(\"-coinstatsindex\", DEFAULT_COINSTATSINDEX))\n             return InitError(_(\"Prune mode is incompatible with -coinstatsindex.\"));\n+        if (args.GetBoolArg(\"-reindex-chainstate\", false))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831063872",
      "id" : 831063872,
      "line" : 862,
      "node_id" : "PRRC_kwDOABII584xiQdA",
      "original_commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "original_line" : 862,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 11,
      "pull_request_review_id" : 915680039,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831063872/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-21T12:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831063872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831068211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831068211"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be good to update -prune as well\r\n```diff\r\n-    argsman.AddArg(\"-prune=<n>\", strprintf(\"Reduce storage requirements by enabling pruning (deleting) of old blocks. This allows the pruneblockchain RPC to be called to delete specific blocks, and enables automatic pruning of old blocks if a target size in MiB is provided. This mode is incompatible with -txindex and -coinstatsindex. \"\r\n+    argsman.AddArg(\"-prune=<n>\", strprintf(\"Reduce storage requirements by enabling pruning (deleting) of old blocks. This allows the pruneblockchain RPC to be called to delete specific blocks, and enables automatic pruning of old blocks if a target size in MiB is provided. This mode is incompatible with -txindex, -coinstatsindex, and -reindex-chainstate. \"\r\n```\r\n",
      "commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "created_at" : "2022-03-21T12:50:57Z",
      "diff_hunk" : "@@ -853,12 +853,14 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n         nLocalServices = ServiceFlags(nLocalServices | NODE_COMPACT_FILTERS);\n     }\n \n-    // if using block pruning, then disallow txindex and coinstatsindex\n+    // if using block pruning, then disallow txindex and coinstatsindex and reindex-chainstate\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n         if (args.GetBoolArg(\"-coinstatsindex\", DEFAULT_COINSTATSINDEX))\n             return InitError(_(\"Prune mode is incompatible with -coinstatsindex.\"));\n+        if (args.GetBoolArg(\"-reindex-chainstate\", false))\n+            return InitError(_(\"Prune mode is incompatible with -reindex-chainstate. Use full -reindex instead.\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831068211",
      "id" : 831068211,
      "line" : 863,
      "node_id" : "PRRC_kwDOABII584xiRgz",
      "original_commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "original_line" : 863,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 915686277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831068211/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-21T12:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831068211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Approach ACK",
      "created_at" : "2022-03-21T12:51:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24626#issuecomment-1073855906",
      "id" : 1073855906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24626",
      "node_id" : "IC_kwDOABII585AAb2i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1073855906/reactions"
      },
      "updated_at" : "2022-03-21T12:51:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1073855906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831133478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831133478"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, can you imagine a situation where this would help anyone? In contrast to the index options, `-reindex-chainstate` doesn't enable some additional optional feature, but is a one-time measure to recover from a corrupted chainstate. So I would think at the point where you choose to enable pruning, you probably don't care or need to know about `reindex-chainstate` at all. Or is the general strategy to list all interactions for completeness?",
      "commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "created_at" : "2022-03-21T13:54:27Z",
      "diff_hunk" : "@@ -853,12 +853,14 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n         nLocalServices = ServiceFlags(nLocalServices | NODE_COMPACT_FILTERS);\n     }\n \n-    // if using block pruning, then disallow txindex and coinstatsindex\n+    // if using block pruning, then disallow txindex and coinstatsindex and reindex-chainstate\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n         if (args.GetBoolArg(\"-coinstatsindex\", DEFAULT_COINSTATSINDEX))\n             return InitError(_(\"Prune mode is incompatible with -coinstatsindex.\"));\n+        if (args.GetBoolArg(\"-reindex-chainstate\", false))\n+            return InitError(_(\"Prune mode is incompatible with -reindex-chainstate. Use full -reindex instead.\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831133478",
      "id" : 831133478,
      "in_reply_to_id" : 831068211,
      "line" : 863,
      "node_id" : "PRRC_kwDOABII584xihcm",
      "original_commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "original_line" : 863,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 915780286,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831133478/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-21T13:55:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831133478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831161701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831161701"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree but if the user can get an error then should perhaps be in the doc that mentions these interactions, can't hurt to mention it, and might avoid someone filing an issue. Not a blocker though.",
      "commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "created_at" : "2022-03-21T14:20:17Z",
      "diff_hunk" : "@@ -853,12 +853,14 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n         nLocalServices = ServiceFlags(nLocalServices | NODE_COMPACT_FILTERS);\n     }\n \n-    // if using block pruning, then disallow txindex and coinstatsindex\n+    // if using block pruning, then disallow txindex and coinstatsindex and reindex-chainstate\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n         if (args.GetBoolArg(\"-coinstatsindex\", DEFAULT_COINSTATSINDEX))\n             return InitError(_(\"Prune mode is incompatible with -coinstatsindex.\"));\n+        if (args.GetBoolArg(\"-reindex-chainstate\", false))\n+            return InitError(_(\"Prune mode is incompatible with -reindex-chainstate. Use full -reindex instead.\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24626#discussion_r831161701",
      "id" : 831161701,
      "in_reply_to_id" : 831068211,
      "line" : 863,
      "node_id" : "PRRC_kwDOABII584xioVl",
      "original_commit_id" : "5e71d72229c47c0093feb5c5672e8198e82ccad5",
      "original_line" : 863,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 915821304,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24626",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831161701/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-03-21T14:24:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/831161701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
