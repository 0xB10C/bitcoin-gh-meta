[
   {
      "body" : "Can you try with 0.12?\r\n\r\nAlso is this while catching up with the chain? If so, due to slower validation on those hardware, it happens that the main lock is sometimes contended for a while, making it respond to RPC commands very slowly.",
      "created_at" : "2016-02-09T00:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181638029",
      "id" : 181638029,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T00:23:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181638029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Node is fully caught up but we are talking about a Raspberry Pi here, the blockchain and wallet.dat are stored on the same USB stick, so I wonder if its an i/o bottleneck?\r\n\r\nI will upgrade to 0.12 and try tonight. Any reason that version should be any faster?",
      "created_at" : "2016-02-09T00:26:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181638532",
      "id" : 181638532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T00:26:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181638532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=3",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "body" : "An USB stick is terribly slow for this, that is probably the bottleneck. You'll also wear it out quite quickly.\r\n\r\n0.12 has an improved HTTP/RPC server, as well as faster block validation. It may make a difference though in your case I think it makes more sense to blame the hardware.\r\n",
      "created_at" : "2016-02-09T00:33:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181640646",
      "id" : 181640646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T00:33:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181640646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "OK I'll try with a small USB SSD drive instead of the flash drive. Do you have any idea what is actually taking so long though? `dumpwallet` seems to open the wallet.dat file very quickly",
      "created_at" : "2016-02-09T00:35:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181641891",
      "id" : 181641891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T00:35:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181641891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=3",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "body" : "Dumpwallet actually doesn't touch the wallet file at all, as all keys\n(potentially in encrypted form) are kept in memory.\n\nGetnewaddress does touch it though, as it needs to generate a new key to\nreplenish the key pool, and make sure it's secure on disk.\n",
      "created_at" : "2016-02-09T01:40:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181662268",
      "id" : 181662268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T01:40:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181662268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ahhhh ok I was wondering if the lag was due to generating a key, however many EC-adds are required, but I thought getnewaddress just grabbed a key from the existing wallet. So yes, it does, but then also generates a new key every time to keep the pool at 100 or whatever? ",
      "created_at" : "2016-02-09T01:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181664366",
      "id" : 181664366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T01:44:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181664366",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=3",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "body" : "Computing a new key should be in the order of milliseconds, though, and a\nwallet of a few 100kB should take a minute to write...\n",
      "created_at" : "2016-02-09T02:02:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181667988",
      "id" : 181667988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T02:02:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181667988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@pinheadmz getnewaddress triggers a flush of the wallet which causes bdb to issue a number of fsync calls which trigger a flush of the entire write cache\r\n\r\nthe problem is almost certainly just very very slow io from using a flash drive.",
      "created_at" : "2016-02-09T02:28:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181673583",
      "id" : 181673583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T02:28:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181673583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "If all keys are already in memory, is there an RPC call that can return a receiving address without having to read or write from disk? ",
      "created_at" : "2016-02-09T02:33:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181674799",
      "id" : 181674799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T02:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181674799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=3",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "body" : "@pinheadmz no, the getnewaddress command has to mark the key as being not in the keypool anymore no matter what",
      "created_at" : "2016-02-09T02:34:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7486#issuecomment-181674913",
      "id" : 181674913,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7486",
      "updated_at" : "2016-02-09T02:34:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/181674913",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   }
]
