[
   {
      "author_association" : "MEMBER",
      "body" : "Seeking concept ACK.",
      "created_at" : "2019-11-12T10:24:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-552831189",
      "id" : 552831189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgzMTE4OQ==",
      "updated_at" : "2019-11-12T10:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552831189",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How will it work if walletdir is specified somewhere out of the datadir?",
      "created_at" : "2019-11-13T07:22:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553273638",
      "id" : 553273638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzI3MzYzOA==",
      "updated_at" : "2019-11-13T07:22:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553273638",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto same as before, only change is you must have `-walletdir` after the network, like after `[regtest]`.",
      "created_at" : "2019-11-13T09:32:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553318168",
      "id" : 553318168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzMxODE2OA==",
      "updated_at" : "2019-11-13T09:32:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553318168",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In other words: This is a test-only change.",
      "created_at" : "2019-11-13T13:39:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553408297",
      "id" : 553408297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQwODI5Nw==",
      "updated_at" : "2019-11-13T13:39:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553408297",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In other words: This is a test-only change.\r\n\r\n~~No? bitcoind won't run if bitcoin.conf has~~\r\n```\r\nwalletdir=/mnt/mydisk/wallets\r\n```\r\nBut works with\r\n```\r\n[main]\r\nwalletdir=/mnt/mydisk/wallets\r\n```",
      "created_at" : "2019-11-13T14:17:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553423208",
      "id" : 553423208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQyMzIwOA==",
      "updated_at" : "2019-11-13T15:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553423208",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No. See https://dev.visucore.com/bitcoin/doxygen/system_8cpp_source.html#l00248\r\n\r\nThis boots up fine for me:\r\n\r\n````\r\n$ cat /tmp/a\r\nuacomment=Alice\r\ndatadir=/tmp\r\nrpcport=33333\r\n$ ./src/qt/bitcoin-qt -conf=/tmp/a",
      "created_at" : "2019-11-13T14:36:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553430830",
      "id" : 553430830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQzMDgzMA==",
      "updated_at" : "2019-11-13T14:36:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553430830",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right, thanks for the correction, updated OP.",
      "created_at" : "2019-11-13T15:06:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553443634",
      "id" : 553443634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQ0MzYzNA==",
      "updated_at" : "2019-11-13T15:06:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553443634",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 3c2c439dcd8797019ac6d6614775d5c20ee41c36\r\n\r\nMaybe could use release notes like:\r\n\r\n> It is now an error to use an unqualified `walletdir=path` setting in the config file if bitcoin is running on testnet or regtest networks. The setting now needs to be qualified as `test.walletdir=path`, `regtest.walletdir=path`, or `main.walletdir=path` or placed in the appropriate `[test]` `[regtest]` or `[main]` section.\r\n\r\nWhen I first looked at this I thought there might be tenuous use-case for _not_ making `-walletdir` a network-specific setting: that you could specify a relative path like `walletdir=russwallets` have bitcoin automatically use appropriate `~/.bitcoin/russwallets`, `~/.bitcoin/testnet3/russwallets`, etc directories depending on the network. But actually there appears to be another bug where the directory isn't even interpreted relative to datadir.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/cd6cb9745e13a62e130b11f78a13bcc1d424b05e/src/wallet/load.cpp#L21\r\n\r\nIt probably would be better to change this to:\r\n\r\n```c++\r\n    fs::path canonical_wallet_dir = fs::canonical(wallet_dir, GetDataDir(), error);\r\n```\r\n\r\nSomething for another PR, though.",
      "created_at" : "2019-11-13T16:18:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553475914",
      "id" : 553475914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQ3NTkxNA==",
      "updated_at" : "2019-11-13T16:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553475914",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe say what benefit of the change is in the PR description. It should decrease the likelihood of opening a wallet file from the wrong chain when `walletdir` is used, helping with #12805 a little.",
      "created_at" : "2019-11-13T16:29:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-553480742",
      "id" : 553480742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzQ4MDc0Mg==",
      "updated_at" : "2019-11-13T16:29:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553480742",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17493](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17493.html) (util: Forbid ambiguous repeated assignments in config file by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-16T00:56:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17447#issuecomment-554585729",
      "id" : 554585729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17447",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NDU4NTcyOQ==",
      "updated_at" : "2019-11-16T00:56:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554585729",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
