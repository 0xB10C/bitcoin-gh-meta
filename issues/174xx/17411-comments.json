[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17411#discussion_r344035592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17411"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344035592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Great tip!",
      "commit_id" : "d8ae24fae2fce7f39a9eb7fa7c9b21fac79e82ac",
      "created_at" : "2019-11-08T08:35:48Z",
      "diff_hunk" : "@@ -910,7 +910,35 @@ For development, it might be more convenient to verify all scripted-diffs in a r\n test/lint/commit-script-check.sh origin/master..HEAD\n ```\n \n-Commit [`bb81e173`](https://github.com/bitcoin/bitcoin/commit/bb81e173) is an example of a scripted-diff.\n+### Suggestions and examples\n+\n+If you need to replace in multiple files, prefer `git ls-files` to `find` or globbing, and `git grep` to `grep`, to\n+avoid changing files that are not under version control.\n+\n+For efficient replacement scripts, reduce the selection to the files that potentially need to be modified, so for\n+example, instead of a blanket `git ls-files src | xargs sed -i s/apple/orange/`, use\n+`git grep -l apple src | xargs sed -i s/apple/orange/`.\n+\n+Also, it's good to keep the selection of files as specific as possible â for example, replace only in directories where\n+you expect replacements â because it reduces the risk that a rebase of your commit by re-running the script will\n+introduce accidental changes.\n+\n+Some good examples of scripted-diff:\n+\n+- [scripted-diff: Rename InitInterfaces to NodeContext](https://github.com/bitcoin/bitcoin/commit/301bd41a2e6765b185bd55f4c541f9e27aeea29d)\n+uses an elegant script to replace occurences of multiple terms in all source files.\n+\n+- [scripted-diff: Remove g_connman, g_banman globals](https://github.com/bitcoin/bitcoin/commit/301bd41a2e6765b185bd55f4c541f9e27aeea29d)\n+replaces specific terms in a list of specific source files.\n+\n+- [scripted-diff: Replace fprintf with tfm::format](https://github.com/bitcoin/bitcoin/commit/fac03ec43a15ad547161e37e53ea82482cc508f9)\n+does a global replacement but excludes certain directories.\n+\n+To find all previous uses of scripted diffs in the repository, do:\n+\n+```\n+git log --grep=\"-BEGIN VERIFY SCRIPT-\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17411#discussion_r344035592",
      "id" : 344035592,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDAzNTU5Mg==",
      "original_commit_id" : "d8ae24fae2fce7f39a9eb7fa7c9b21fac79e82ac",
      "original_position" : 32,
      "path" : "doc/developer-notes.md",
      "position" : 32,
      "pull_request_review_id" : 314052877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17411",
      "updated_at" : "2019-11-08T08:38:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/344035592",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
