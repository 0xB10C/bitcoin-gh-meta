[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17526](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17526.html) (Use Single Random Draw In addition to knapsack as coin selection fallback by achow101)\n* [#17331](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17331.html) (Use effective values throughout coin selection by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-13T02:01:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#issuecomment-553202841",
      "id" : 553202841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MzIwMjg0MQ==",
      "updated_at" : "2019-12-02T17:17:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553202841",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-11-22T20:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#issuecomment-557674065",
      "id" : 557674065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzY3NDA2NQ==",
      "updated_at" : "2019-11-22T20:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557674065",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354983896"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354983896"
         }
      },
      "author_association" : "MEMBER",
      "body" : "this only isn't a reachable \"bug\" because before this PR the values are the same, yes?",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T19:02:14Z",
      "diff_hunk" : "@@ -299,7 +299,7 @@ bool KnapsackSolver(const CAmount& nTargetValue, std::vector<OutputGroup>& group\n void OutputGroup::Insert(const CInputCoin& output, int depth, bool from_me, size_t ancestors, size_t descendants) {\n     m_outputs.push_back(output);\n     m_from_me &= from_me;\n-    m_value += output.effective_value;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354983896",
      "id" : 354983896,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDk4Mzg5Ng==",
      "original_commit_id" : "ef9d0f24aa3bf6b80052c1a4a2a36f079574ad04",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 12,
      "pull_request_review_id" : 328397345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T19:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354983896",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354987133"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354987133"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This commit makes `effective_value` a bit ambiguous to the reader now that both short and long-range fees are being stored.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T19:10:43Z",
      "diff_hunk" : "@@ -36,6 +36,8 @@ class CInputCoin {\n     COutPoint outpoint;\n     CTxOut txout;\n     CAmount effective_value;\n+    CAmount m_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354987133",
      "id" : 354987133,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDk4NzEzMw==",
      "original_commit_id" : "d9b985a852adb408661509312aeee1ef3dbb4bee",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.h",
      "position" : 13,
      "pull_request_review_id" : 328397345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T19:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354987133",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354997799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354997799"
         }
      },
      "author_association" : "MEMBER",
      "body" : "hmm actually no, this happens for any `OutputGroup`, which includes Bnb?",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T19:37:29Z",
      "diff_hunk" : "@@ -299,7 +299,7 @@ bool KnapsackSolver(const CAmount& nTargetValue, std::vector<OutputGroup>& group\n void OutputGroup::Insert(const CInputCoin& output, int depth, bool from_me, size_t ancestors, size_t descendants) {\n     m_outputs.push_back(output);\n     m_from_me &= from_me;\n-    m_value += output.effective_value;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r354997799",
      "id" : 354997799,
      "in_reply_to_id" : 354983896,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDk5Nzc5OQ==",
      "original_commit_id" : "ef9d0f24aa3bf6b80052c1a4a2a36f079574ad04",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 12,
      "pull_request_review_id" : 328415649,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T19:37:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354997799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355005876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355005876"
         }
      },
      "author_association" : "MEMBER",
      "body" : "it isn't reachable because the values are the same as the outputs' effective values aren't ever actually to their effective values.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T19:57:25Z",
      "diff_hunk" : "@@ -299,7 +299,7 @@ bool KnapsackSolver(const CAmount& nTargetValue, std::vector<OutputGroup>& group\n void OutputGroup::Insert(const CInputCoin& output, int depth, bool from_me, size_t ancestors, size_t descendants) {\n     m_outputs.push_back(output);\n     m_from_me &= from_me;\n-    m_value += output.effective_value;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355005876",
      "id" : 355005876,
      "in_reply_to_id" : 354983896,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTAwNTg3Ng==",
      "original_commit_id" : "ef9d0f24aa3bf6b80052c1a4a2a36f079574ad04",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 12,
      "pull_request_review_id" : 328426099,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T19:57:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355005876",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355007695"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355007695"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It makes everything easier to precompute and store these since they are used  in multiple places.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T20:01:58Z",
      "diff_hunk" : "@@ -36,6 +36,8 @@ class CInputCoin {\n     COutPoint outpoint;\n     CTxOut txout;\n     CAmount effective_value;\n+    CAmount m_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355007695",
      "id" : 355007695,
      "in_reply_to_id" : 354987133,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTAwNzY5NQ==",
      "original_commit_id" : "d9b985a852adb408661509312aeee1ef3dbb4bee",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.h",
      "position" : 13,
      "pull_request_review_id" : 328428381,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T20:01:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355007695",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355008088"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355008088"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah I see, it's being set externally in `SelectCoinsMinConf`. Ok, this set of changes makes it much easier to understand.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T20:03:05Z",
      "diff_hunk" : "@@ -299,7 +299,7 @@ bool KnapsackSolver(const CAmount& nTargetValue, std::vector<OutputGroup>& group\n void OutputGroup::Insert(const CInputCoin& output, int depth, bool from_me, size_t ancestors, size_t descendants) {\n     m_outputs.push_back(output);\n     m_from_me &= from_me;\n-    m_value += output.effective_value;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355008088",
      "id" : 355008088,
      "in_reply_to_id" : 354983896,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTAwODA4OA==",
      "original_commit_id" : "ef9d0f24aa3bf6b80052c1a4a2a36f079574ad04",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 12,
      "pull_request_review_id" : 328428906,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T20:03:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355008088",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/17458/commits/693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T20:04:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#issuecomment-562718496",
      "id" : 562718496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17458",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjcxODQ5Ng==",
      "updated_at" : "2019-12-06T20:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562718496",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355008697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355008697"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I understand the motivation, my nitting is about naming since we're expanding the \"scope\" of what is being cached.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2019-12-06T20:04:43Z",
      "diff_hunk" : "@@ -36,6 +36,8 @@ class CInputCoin {\n     COutPoint outpoint;\n     CTxOut txout;\n     CAmount effective_value;\n+    CAmount m_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r355008697",
      "id" : 355008697,
      "in_reply_to_id" : 354987133,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTAwODY5Nw==",
      "original_commit_id" : "d9b985a852adb408661509312aeee1ef3dbb4bee",
      "original_position" : 4,
      "path" : "src/wallet/coinselection.h",
      "position" : 13,
      "pull_request_review_id" : 328429726,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2019-12-06T20:04:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355008697",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r389749045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389749045"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should the reverse not also be added to the `Insert` method above?",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2020-03-09T15:02:50Z",
      "diff_hunk" : "@@ -317,6 +318,8 @@ std::vector<CInputCoin>::iterator OutputGroup::Discard(const CInputCoin& output)\n     if (it == m_outputs.end()) return it;\n     m_value -= output.txout.nValue;\n     effective_value -= output.effective_value;\n+    fee -= output.m_fee;\n+    long_term_fee -= output.m_long_term_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r389749045",
      "id" : 389749045,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc0OTA0NQ==",
      "original_commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "original_position" : 13,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 25,
      "pull_request_review_id" : 371260888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2020-03-09T15:13:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389749045",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r389765666"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389765666"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, but no. The `OutputGroup`s are created (and `Insert` is called) before the fees are set. But `Discard` is called after the fees are set. So not incrementing `fee` and `long_term_fee` in `Insert` is safe because they are 0 at that time. I guess it still should for consistency.",
      "commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "created_at" : "2020-03-09T15:26:25Z",
      "diff_hunk" : "@@ -317,6 +318,8 @@ std::vector<CInputCoin>::iterator OutputGroup::Discard(const CInputCoin& output)\n     if (it == m_outputs.end()) return it;\n     m_value -= output.txout.nValue;\n     effective_value -= output.effective_value;\n+    fee -= output.m_fee;\n+    long_term_fee -= output.m_long_term_fee;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17458#discussion_r389765666",
      "id" : 389765666,
      "in_reply_to_id" : 389749045,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc2NTY2Ng==",
      "original_commit_id" : "693cfa66d10c916d4554c7639dc772727248c9fd",
      "original_position" : 13,
      "path" : "src/wallet/coinselection.cpp",
      "position" : 25,
      "pull_request_review_id" : 371282304,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17458",
      "updated_at" : "2020-03-09T15:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/389765666",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
