[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I find it scary, that a bug like this can be introduced. I am wondering if there are not any tools that check the code for references to uninitialized variables?",
      "created_at" : "2019-11-12T05:47:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552744617",
      "id" : 552744617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Mjc0NDYxNw==",
      "updated_at" : "2019-11-12T05:47:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552744617",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8447873?v=4",
         "events_url" : "https://api.github.com/users/wodry/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wodry/followers",
         "following_url" : "https://api.github.com/users/wodry/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wodry/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wodry",
         "id" : 8447873,
         "login" : "wodry",
         "node_id" : "MDQ6VXNlcjg0NDc4NzM=",
         "organizations_url" : "https://api.github.com/users/wodry/orgs",
         "received_events_url" : "https://api.github.com/users/wodry/received_events",
         "repos_url" : "https://api.github.com/users/wodry/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wodry/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wodry/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wodry"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#13972](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13972.html) (Remove 16 bits from versionbits signalling system (BIP320) by btcdrak)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-12T06:54:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552760632",
      "id" : 552760632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Mjc2MDYzMg==",
      "updated_at" : "2019-11-12T06:54:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552760632",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixes what? Both are already initialized..",
      "created_at" : "2019-11-12T08:33:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552789063",
      "id" : 552789063,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Mjc4OTA2Mw==",
      "updated_at" : "2019-11-12T08:33:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552789063",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Fixes what? Both are already initialized..\r\n\r\nIt's used for the computation of `BIP9WarningHeight`, and by that time it isn't initialized (I missed it first, too!).\r\n\r\n> I find it scary, that a bug like this can be introduced. I am wondering if there are not any tools that check the code for references to uninitialized variables?\r\n\r\nThe tests are being run in various sanitizers, and valgrind can do this IIRC. I'm surprised it wasn't caught.\r\n\r\nACK 6fcd798b42569130f85328133e2124476fb2a42a\r\n\r\nShould fix #16697.",
      "created_at" : "2019-11-12T09:07:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552800966",
      "id" : 552800966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgwMDk2Ng==",
      "updated_at" : "2019-11-12T10:52:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552800966",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag It looks like `consensus.nMinerConfirmationWindow` was indeed being read uninitialised on L74 prior to the change suggested by this PR?\r\n\r\n```\r\nconsensus.MinBIP9WarningHeight = consensus.SegwitHeight + consensus.nMinerConfirmationWindow;\r\n```\r\n\r\nThis code was introduced in fdb3e8f8b27e3b0b2f88c32915975c6e4c299b1e in PR #16713 which was merged in to `master` on September 27, 2019.\r\n\r\nReally fascinating that this 1.) wasn't caught automatically by our static and dynamic analysis, 2.) wasn't caught by our review process and 3.) was unnoticed in `master` for over a month. Room for improvement! :)",
      "created_at" : "2019-11-12T09:09:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552801890",
      "id" : 552801890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgwMTg5MA==",
      "updated_at" : "2019-11-12T09:09:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552801890",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@bitcoinVBR \r\n\r\nThanks **a lot** for reporting this! What an excellent first time contribution! Hope to see more great contributions from you.\r\n\r\nSorry about the initial misunderstanding in your original PR #17433 :)",
      "created_at" : "2019-11-12T09:13:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552803568",
      "id" : 552803568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgwMzU2OA==",
      "updated_at" : "2019-11-12T09:13:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552803568",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Really fascinating that this 1.) wasn't caught automatically by our static and dynamic analysis, \r\n\r\nPort to rust when? :smile: ",
      "created_at" : "2019-11-12T09:15:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552804092",
      "id" : 552804092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgwNDA5Mg==",
      "updated_at" : "2019-11-12T09:15:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552804092",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh!",
      "created_at" : "2019-11-12T09:15:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552804215",
      "id" : 552804215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1MjgwNDIxNQ==",
      "updated_at" : "2019-11-12T09:15:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552804215",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Worth noting is that the read of `nMinerConfirmationWindow` takes place on mainnet and testnet but not on regtest:\r\n\r\n```\r\n$ grep -E '(nMinerConfirmationWindow|CBaseChainParams|MinBIP9WarningHeight)' \\\r\n      src/chainparams.cpp | grep -A2 \" = *CBaseChainParams\"\r\n        strNetworkID = CBaseChainParams::MAIN;\r\n        consensus.MinBIP9WarningHeight = consensus.SegwitHeight + consensus.nMinerConfirmationWindow;\r\n        consensus.nMinerConfirmationWindow = 2016; // nPowTargetTimespan / nPowTargetSpacing\r\n        strNetworkID = CBaseChainParams::TESTNET;\r\n        consensus.MinBIP9WarningHeight = consensus.SegwitHeight + consensus.nMinerConfirmationWindow;\r\n        consensus.nMinerConfirmationWindow = 2016; // nPowTargetTimespan / nPowTargetSpacing\r\n        strNetworkID =  CBaseChainParams::REGTEST;\r\n        consensus.MinBIP9WarningHeight = 0;\r\n        consensus.nMinerConfirmationWindow = 144; // Faster than normal for regtest (144 instead of 2016)\r\n```\r\n",
      "created_at" : "2019-11-12T10:55:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17449#issuecomment-552843096",
      "id" : 552843096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17449",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Mjg0MzA5Ng==",
      "updated_at" : "2019-11-12T11:18:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/552843096",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
