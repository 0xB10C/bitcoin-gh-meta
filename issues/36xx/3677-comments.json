[
   {
      "body" : "By \"update prevouts\" do you mean to update the inputs and so change the txhash to a transaction already added to mapWallet?\r\nWould it be possible to mark the transaction as invalid, make the inputs spendable again, and always send a new transaction instead?\r\n",
      "created_at" : "2014-02-15T15:55:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3677#issuecomment-35159411",
      "id" : 35159411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3677",
      "updated_at" : "2014-02-15T15:55:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35159411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "With updating prevouts I mean that you update the inputs txhash if needed, you leave it alone for inputs that are still valid. The point is that you can send the transaction that got stuck. It avoids the complication of having to re-mark anything as spendable.\r\n",
      "created_at" : "2014-02-15T16:22:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3677#issuecomment-35160103",
      "id" : 35160103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3677",
      "updated_at" : "2014-02-15T16:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35160103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "But you mean creating a new transaction, not updating the old one?\r\nBecause by updating mapWallet&lt;uint256..&gt; would be a different hash than wtx.GetHash(). This would cause all kinds of confusion.\r\n\r\nI would always create a new transaction that tries to use the same inputs than the old one.\r\nIf parent is conflicted try to use the parent variants. There could be a chain of \r\nunconfirmed transactions. So the parent is not always conflicted. Maybe some grand-grand-parent.\r\nIf not enough Inputs randomly choose other inputs. Then the old transaction is marked as \"reissued\", this field contains the hash of the new one. The GUI could hide the old invalid transaction. So the user wouldnt notice. We could also hide them in RPC Listtransaction.\r\nThe rpc call reissue returns the hash of the new transaction.\r\n\r\nAlso I think we should check \"How many confirmations has the parent variant?\".\r\nOr the parent-parent-variant if a chain of transactions.\r\nOnly if >= 6 confirmations we create a new similar transaction. Otherwise we return some errorcode.\r\n\r\n",
      "created_at" : "2014-02-15T17:43:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3677#issuecomment-35162260",
      "id" : 35162260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3677",
      "updated_at" : "2014-02-15T17:43:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35162260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "Sure, it will create a new transaction variant that can confirm, I of\ncourse didn't mean it will literally change the transaction in the wallet.\n\nAnd indeed this will only work if the direct parent is confirmed but as\nanother variant. This process could be done recursively if there are more\ntransactions in between. Or the user could manually reissue them in the\nright order.\n\nIt should never be needed to choose different inputs. That could be\ndangerous as it makes reissueing multiple times possible (as happened to\nmtgox).",
      "created_at" : "2014-02-15T18:07:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3677#issuecomment-35162963",
      "id" : 35162963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3677",
      "updated_at" : "2014-02-15T18:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35162963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
