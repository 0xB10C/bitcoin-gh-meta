[
   {
      "body" : "Concept ACK.\r\n\r\nThings that come to mind:\r\n* What happens when no relevant-flags peers are available at all?\r\n* Should CConnman::ForEachNode be used instead of an explicit loop (may complicate porting to 0.13)?",
      "created_at" : "2016-10-18T00:04:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8949#issuecomment-254369697",
      "id" : 254369697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8949",
      "updated_at" : "2016-10-18T00:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254369697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> What happens when no relevant-flags peers are available at all?\r\n\r\nMy intention is that it would get four connections up, and it would continue polling addrman until it finally got something relevant.  Even absent seeding, eventually it should learn something via the four that are up or via feelers.\r\n\r\nThe alternative I considered to the connect-to-relevant commit was adding something to periodically disconnect one of the peers without relevant services if all outbound slots were full. I decided this would be a more invasive change. A third alternative would be to allow a feeler with relevant services to replace a peer without relevant services; this would still probably be a more invasive change (but maybe only 3 LOC, e.g. if this is a feeler, and relevant, scan outbound peers, and if you find a non-relevant one, set disconnect on it instead).\r\n\r\nI did not consider any alternatives to the DNSseed commit.\r\n\r\nI'd rather not do anything here which would complicate a 0.13 backport.",
      "created_at" : "2016-10-18T00:17:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8949#issuecomment-254371609",
      "id" : 254371609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8949",
      "updated_at" : "2016-10-18T00:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/254371609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
