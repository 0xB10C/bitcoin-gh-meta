[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46555484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46555484"
         }
      },
      "body" : "No need to check IsInitialBlockDownload() every iteration of the while loop.\r\n",
      "commit_id" : "3fb49df4da545354ccb2fd2b0fa88f8e5b3b23d7",
      "created_at" : "2015-12-03T14:18:43Z",
      "diff_hunk" : "@@ -5653,7 +5653,7 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: getdata (non-blocks)\n         //\n-        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow)\n+        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow && !IsInitialBlockDownload())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46555484",
      "id" : 46555484,
      "original_commit_id" : "bdfdce1f2a92e4018d13a9646d0b672a860e6591",
      "original_position" : 14,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164",
      "updated_at" : "2015-12-04T01:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46555484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Despite not liking how more and more depends on IsInitialBlockDownload(), I think this makes sense. Downloading transactions during initial sync just gets a long list of \"Rejected: Non-final\" and wastes bandwidth and verification overhead.\r\n",
      "created_at" : "2015-12-03T14:50:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161661818",
      "id" : 161661818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T15:02:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161661818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46559844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46559844"
         }
      },
      "body" : "made the change and pushed.\n\nOn 03/12/2015 6:19 AM, Wladimir J. van der Laan wrote:\n>\n> In src/main.cpp\n> <https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46555484>:\n>\n> > @@ -5653,7 +5653,7 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n> >          //\n> >          // Message: getdata (non-blocks)\n> >          //\n> > -        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow)\n> > +        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow && !IsInitialBlockDownload())\n>\n> No need to check IsInitialBlockDownload() every iteration of the while\n> loop.\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7164/files#r46555484>.\n>\n\n",
      "commit_id" : "3fb49df4da545354ccb2fd2b0fa88f8e5b3b23d7",
      "created_at" : "2015-12-03T14:51:49Z",
      "diff_hunk" : "@@ -5653,7 +5653,7 @@ bool SendMessages(CNode* pto, bool fSendTrickle)\n         //\n         // Message: getdata (non-blocks)\n         //\n-        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow)\n+        while (!pto->fDisconnect && !pto->mapAskFor.empty() && (*pto->mapAskFor.begin()).first <= nNow && !IsInitialBlockDownload())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46559844",
      "id" : 46559844,
      "original_commit_id" : "bdfdce1f2a92e4018d13a9646d0b672a860e6591",
      "original_position" : 14,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164",
      "updated_at" : "2015-12-04T01:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46559844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-12-03T15:10:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161669800",
      "id" : 161669800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T15:10:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161669800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2015-12-03T17:10:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161718924",
      "id" : 161718924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T17:10:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161718924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "conceptACK/utACK",
      "created_at" : "2015-12-03T20:13:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161769866",
      "id" : 161769866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T20:14:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161769866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "acutally please don't merge this yet, there is a problem with the\nregression tests, i think something to do with mocktime...it appears\nthat the tests always think that we are syncing the blockchain...i'm\ninvestigating\n\nOn 03/12/2015 12:14 PM, Daniel Cousens wrote:\n>\n> ACK\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161769866>.\n>\n\n",
      "created_at" : "2015-12-03T20:33:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161774440",
      "id" : 161774440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T20:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161774440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "Travis is happy now...during running the regression tests, the block\ntimestamps in the cache were too old and so the memory pools would not\nsync thinking that an initial block download was happening.  The last\nblock needs to be within the last 24 hours.   But, I think I need to add\none more thing, if the cache folder is more than 1 day old it needs to\nautomatically be rebuilt otherwise the regression tests will fail again.\n\nin util.py:\n\n       -block_time = 1388534400\n       +block_time = int(round(time.time() - (200 * 10 * 60) ))\n\n\n\nOn 03/12/2015 12:14 PM, Daniel Cousens wrote:\n>\n> ACK\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161769866>.\n>\n\n",
      "created_at" : "2015-12-03T23:10:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161818468",
      "id" : 161818468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-03T23:10:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161818468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46629519"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46629519"
         }
      },
      "body" : "Nit: \", starting 2000 minutes in the past\"?",
      "commit_id" : "3fb49df4da545354ccb2fd2b0fa88f8e5b3b23d7",
      "created_at" : "2015-12-03T23:34:13Z",
      "diff_hunk" : "@@ -154,9 +154,9 @@ def initialize_chain(test_dir):\n \n         # Create a 200-block-long chain; each of the 4 nodes\n         # gets 25 mature blocks and 25 immature.\n-        # blocks are created with timestamps 10 minutes apart, starting\n-        # at 1 Jan 2014\n-        block_time = 1388534400\n+        # blocks are created with timestamps 10 minutes apart\n+        # going backwards in time from now",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46629519",
      "id" : 46629519,
      "original_commit_id" : "3c1546242b4ad7086ecc583ee5fef8cbfbde4c98",
      "original_position" : 8,
      "path" : "qa/rpc-tests/test_framework/util.py",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164",
      "updated_at" : "2015-12-04T01:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46629519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46636417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46636417"
         }
      },
      "body" : "sure, that sounds better\n\n(and it's 2000 minutes in the past).\n\nI'll push it up with the changes for updating the cache every 24hours.\n\n\nOn 03/12/2015 3:34 PM, MarcoFalke wrote:\n>\n> In qa/rpc-tests/test_framework/util.py\n> <https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46629519>:\n>\n> > @@ -154,9 +154,9 @@ def initialize_chain(test_dir):\n> >  \n> >          # Create a 200-block-long chain; each of the 4 nodes\n> >          # gets 25 mature blocks and 25 immature.\n> > -        # blocks are created with timestamps 10 minutes apart, starting\n> > -        # at 1 Jan 2014\n> > -        block_time = 1388534400\n> > +        # blocks are created with timestamps 10 minutes apart\n> > +        # going backwards in time from now\n>\n> Nit: \", starting 200 minutes in the past\"?\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7164/files#r46629519>.\n>\n\n",
      "commit_id" : "3fb49df4da545354ccb2fd2b0fa88f8e5b3b23d7",
      "created_at" : "2015-12-04T00:57:35Z",
      "diff_hunk" : "@@ -154,9 +154,9 @@ def initialize_chain(test_dir):\n \n         # Create a 200-block-long chain; each of the 4 nodes\n         # gets 25 mature blocks and 25 immature.\n-        # blocks are created with timestamps 10 minutes apart, starting\n-        # at 1 Jan 2014\n-        block_time = 1388534400\n+        # blocks are created with timestamps 10 minutes apart\n+        # going backwards in time from now",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46636417",
      "id" : 46636417,
      "original_commit_id" : "3c1546242b4ad7086ecc583ee5fef8cbfbde4c98",
      "original_position" : 8,
      "path" : "qa/rpc-tests/test_framework/util.py",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164",
      "updated_at" : "2015-12-04T01:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46636417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46640247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46640247"
         }
      },
      "body" : "Ok that should do it,\n\npushed and travis is good\n\nhave a look when you can.\n\n On 03/12/2015 3:34 PM, MarcoFalke wrote:\n>\n> In qa/rpc-tests/test_framework/util.py\n> <https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46629519>:\n>\n> > @@ -154,9 +154,9 @@ def initialize_chain(test_dir):\n> >  \n> >          # Create a 200-block-long chain; each of the 4 nodes\n> >          # gets 25 mature blocks and 25 immature.\n> > -        # blocks are created with timestamps 10 minutes apart, starting\n> > -        # at 1 Jan 2014\n> > -        block_time = 1388534400\n> > +        # blocks are created with timestamps 10 minutes apart\n> > +        # going backwards in time from now\n>\n> Nit: \", starting 200 minutes in the past\"?\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7164/files#r46629519>.\n>\n\n",
      "commit_id" : "3fb49df4da545354ccb2fd2b0fa88f8e5b3b23d7",
      "created_at" : "2015-12-04T01:52:10Z",
      "diff_hunk" : "@@ -154,9 +154,9 @@ def initialize_chain(test_dir):\n \n         # Create a 200-block-long chain; each of the 4 nodes\n         # gets 25 mature blocks and 25 immature.\n-        # blocks are created with timestamps 10 minutes apart, starting\n-        # at 1 Jan 2014\n-        block_time = 1388534400\n+        # blocks are created with timestamps 10 minutes apart\n+        # going backwards in time from now",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#discussion_r46640247",
      "id" : 46640247,
      "original_commit_id" : "3c1546242b4ad7086ecc583ee5fef8cbfbde4c98",
      "original_position" : 8,
      "path" : "qa/rpc-tests/test_framework/util.py",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7164",
      "updated_at" : "2015-12-04T01:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46640247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "@MarcoFalke Fixed that nit.  Also added refreshing the cache every twelve hours which will prevent any very very long running regression tests from going over the 24hr limit for the age of the cache and subsequently preventing the mempools from syncing.",
      "created_at" : "2015-12-04T06:13:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161886690",
      "id" : 161886690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-04T06:13:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161886690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "Ugh that \"maximum 24 hours\" check has tripped us up multiple times. \r\n\r\nAnother option to avoid the cache invalid issue would be to change `nMaxTipAge` to `0x7fffffff`, as it is also for regtest, as it is for testnet (see  #5987)\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp#L172\r\n\r\nI'd prefer that myself to having to expire the cache every 12 hours just to avoid this check. Although there's something to be said for testing `IsInitialBlockDownload` itself as well... so not sure\r\n\r\nYet another option would be to set a mock time, but this isn't easy to do consistently.\r\n",
      "created_at" : "2015-12-04T08:02:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-161903846",
      "id" : 161903846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-04T08:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161903846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Changing nmaxtipage certainly is an easy fix but I never like the idea of changing the behaviour of an app before regression testing, it sometimes bites down the road. I used mocktime instead but then had issues with nodehandling because GetTime() doesn't increment properly once you set mocktime.  Made some edits there to make GetTime() increment correctly if mocktime is set. \r\n\r\nAlso needed a small edit to p2pfullblocktest to set the time base to MOCKTIME.\r\n\r\nPushed and travis is happy...\r\n\r\n\r\n",
      "created_at" : "2015-12-04T20:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-162078187",
      "id" : 162078187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-04T20:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162078187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "re-utACK",
      "created_at" : "2015-12-04T22:23:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-162098963",
      "id" : 162098963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-04T22:23:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162098963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Oops there is one last thing, there are a few of extended tests that might need the mocktime.  I can't execute them because of ndbm which doesn't run on windows so I'll have to try things out on Travis.  I think about 4 scripts that might need fixing up.  Shouldn't take too long...I'll let you know when it's done.",
      "created_at" : "2015-12-05T01:25:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-162123697",
      "id" : 162123697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-05T01:25:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162123697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12862928?v=3",
         "events_url" : "https://api.github.com/users/ptschip/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ptschip/followers",
         "following_url" : "https://api.github.com/users/ptschip/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ptschip/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ptschip",
         "id" : 12862928,
         "login" : "ptschip",
         "organizations_url" : "https://api.github.com/users/ptschip/orgs",
         "received_events_url" : "https://api.github.com/users/ptschip/received_events",
         "repos_url" : "https://api.github.com/users/ptschip/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ptschip/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ptschip/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ptschip"
      }
   },
   {
      "body" : "Rebase needed.",
      "created_at" : "2015-12-05T09:49:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-162167905",
      "id" : 162167905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-05T09:49:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162167905",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "I like the overall goal here, but I'm not sure I follow the reasoning for changing the behavior of `SetMockTime`.  One advantage of the way mocktime works now is that for the places in the code that call `GetTime()`, the behavior is deterministic -- the time will always be whatever the last mocktime call set it to.  I think this determinism can be a useful feature for testing, and making it an offset of the current system time will eliminate the determinism.\r\n\r\nCan we work around this problem differently in the tests?  I don't actually understand why the time would need to advance but I haven't yet poked into the problems you ran into.  But for instance, one workaround I've used in tests I've previously written is to just mine a single block at the beginning of the test to ensure that the nodes are out of IBD (I recognize this workaround may not easily apply to all testing scenarios though).\r\n",
      "created_at" : "2015-12-05T14:39:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7164#issuecomment-162197858",
      "id" : 162197858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7164",
      "updated_at" : "2015-12-05T14:39:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/162197858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   }
]
