{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "The issue is on this line of code:\n\nhttps://github.com/bitcoin/bitcoin/blob/8b49040854be2e26b66366aeae1cba4716f93d93/src/main.cpp#L3477\n\nInstead of checking for the commitment at the start of an output, it should be placed at the end of the very last output. Then midstate compression can be used to reduce the size of the coinbase tx for proofs that require access to the witness commitment.\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 11,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8307/comments",
   "created_at" : "2016-07-06T17:19:07Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8307/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/8307",
   "id" : 164128732,
   "labels" : [
      {
         "color" : "ebd775",
         "default" : false,
         "id" : 64584,
         "name" : "Brainstorming",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming"
      },
      {
         "color" : "009800",
         "default" : false,
         "id" : 192202000,
         "name" : "Consensus",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8307/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 8307,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Segwit commitment structure is not midstate-compatible",
   "updated_at" : "2016-07-09T06:09:31Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8307",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/69154?v=4",
      "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
      "followers_url" : "https://api.github.com/users/maaku/followers",
      "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/maaku",
      "id" : 69154,
      "login" : "maaku",
      "organizations_url" : "https://api.github.com/users/maaku/orgs",
      "received_events_url" : "https://api.github.com/users/maaku/received_events",
      "repos_url" : "https://api.github.com/users/maaku/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/maaku"
   }
}
