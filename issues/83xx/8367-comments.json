[
   {
      "body" : "This might complicate future wallet changes...it seems to me that this locks us in such that the next change to wallet version must either be the same non-default or we will, at that time, have to force hd wallets to be the default. I'm not strictly aginst this, just noting that it seems it was not at all discussed but locks us into a future path.",
      "created_at" : "2016-07-19T01:53:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8367#issuecomment-233509560",
      "id" : 233509560,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8367",
      "updated_at" : "2016-07-19T01:53:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/233509560",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8367#discussion_r71261800"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8367"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71261800"
         }
      },
      "body" : "I think this call should go above SetHDMasterKey...cant have it crash in between and leave the wallet with an HD seed but no minversion set (not that it really matters, but, you know....)",
      "commit_id" : "a4f137f367a898dc3acddc778c4fe9c53ac303c9",
      "created_at" : "2016-07-19T01:54:25Z",
      "diff_hunk" : "@@ -3299,6 +3299,9 @@ bool CWallet::InitLoadWallet()\n             key.MakeNewKey(true);\n             if (!walletInstance->SetHDMasterKey(key))\n                 throw std::runtime_error(\"CWallet::GenerateNewKey(): Storing master key failed\");\n+\n+            // ensure this wallet.dat can only be opened by clients supporting HD\n+            walletInstance->SetMinVersion(FEATURE_HD);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8367#discussion_r71261800",
      "id" : 71261800,
      "original_commit_id" : "a4f137f367a898dc3acddc778c4fe9c53ac303c9",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8367",
      "updated_at" : "2016-07-19T01:54:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71261800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
