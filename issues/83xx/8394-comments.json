[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8394#discussion_r71973644"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8394"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71973644"
         }
      },
      "body" : "This needs a larger type because it can be -1, which is not equal to 65535.",
      "commit_id" : "5db716575afdd2abaede5c954ba1f3caac2a0a8d",
      "created_at" : "2016-07-23T15:22:31Z",
      "diff_hunk" : "@@ -47,10 +47,10 @@ BOOST_AUTO_TEST_CASE(netbase_properties)\n     BOOST_CHECK(CNetAddr(\"127.0.0.1\").IsValid());\n }\n \n-bool static TestSplitHost(string test, string host, int port)\n+bool static TestSplitHost(string test, string host, uint16_t port)\n {\n     string hostOut;\n-    int portOut = -1;\n+    uint16_t portOut = -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#discussion_r71973644",
      "id" : 71973644,
      "original_commit_id" : "9fa9513307bcb953ae74078977856ea45dbf22d2",
      "original_position" : 9,
      "path" : "src/test/netbase_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8394",
      "updated_at" : "2016-07-23T17:10:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71973644",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This probably overlaps a lot with @theuni's net code overhaul.",
      "created_at" : "2016-07-23T15:23:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#issuecomment-234723837",
      "id" : 234723837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8394",
      "updated_at" : "2016-07-23T15:23:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234723837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8394#discussion_r71975174"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8394"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71975174"
         }
      },
      "body" : "True! Changed to use 0 instead.",
      "commit_id" : "5db716575afdd2abaede5c954ba1f3caac2a0a8d",
      "created_at" : "2016-07-23T17:13:26Z",
      "diff_hunk" : "@@ -47,10 +47,10 @@ BOOST_AUTO_TEST_CASE(netbase_properties)\n     BOOST_CHECK(CNetAddr(\"127.0.0.1\").IsValid());\n }\n \n-bool static TestSplitHost(string test, string host, int port)\n+bool static TestSplitHost(string test, string host, uint16_t port)\n {\n     string hostOut;\n-    int portOut = -1;\n+    uint16_t portOut = -1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#discussion_r71975174",
      "id" : 71975174,
      "original_commit_id" : "9fa9513307bcb953ae74078977856ea45dbf22d2",
      "original_position" : 9,
      "path" : "src/test/netbase_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8394",
      "updated_at" : "2016-07-23T17:13:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/71975174",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1935069?v=3",
         "events_url" : "https://api.github.com/users/UdjinM6/events{/privacy}",
         "followers_url" : "https://api.github.com/users/UdjinM6/followers",
         "following_url" : "https://api.github.com/users/UdjinM6/following{/other_user}",
         "gists_url" : "https://api.github.com/users/UdjinM6/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/UdjinM6",
         "id" : 1935069,
         "login" : "UdjinM6",
         "organizations_url" : "https://api.github.com/users/UdjinM6/orgs",
         "received_events_url" : "https://api.github.com/users/UdjinM6/received_events",
         "repos_url" : "https://api.github.com/users/UdjinM6/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/UdjinM6/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/UdjinM6/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/UdjinM6"
      }
   },
   {
      "body" : "Addressed test issue and changed `SplitHostPort` to return bool and fail if port is 0 or negative. Also added checks to `SplitHostPort` calls to further reassure that ports provided in strings are legit.",
      "created_at" : "2016-07-23T17:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#issuecomment-234729486",
      "id" : 234729486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8394",
      "updated_at" : "2016-07-23T17:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/234729486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1935069?v=3",
         "events_url" : "https://api.github.com/users/UdjinM6/events{/privacy}",
         "followers_url" : "https://api.github.com/users/UdjinM6/followers",
         "following_url" : "https://api.github.com/users/UdjinM6/following{/other_user}",
         "gists_url" : "https://api.github.com/users/UdjinM6/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/UdjinM6",
         "id" : 1935069,
         "login" : "UdjinM6",
         "organizations_url" : "https://api.github.com/users/UdjinM6/orgs",
         "received_events_url" : "https://api.github.com/users/UdjinM6/received_events",
         "repos_url" : "https://api.github.com/users/UdjinM6/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/UdjinM6/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/UdjinM6/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/UdjinM6"
      }
   },
   {
      "body" : "yes, this conflicts somewhat, mostly in net/netbase. I can deal with that though.\r\n\r\nMore concerning though is the lack over overflow handling on input in a few places. For example:\r\n```\r\nuint16_t port = GetArg(\"-rpcport\", BaseParams().RPCPort());\r\n```\r\nwhat will \"-rpcport=65537\" do?\r\n\r\nI see a few of those, though admittedly some of them likely already exist. Also looks like a few are fixed, though :)\r\n\r\n@UdjinM6 Would you mind first ensuring that all input ports are sanitized (including those coming over the net) before doing the replacement?",
      "created_at" : "2016-07-27T18:41:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#issuecomment-235680327",
      "id" : 235680327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8394",
      "updated_at" : "2016-07-27T18:41:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235680327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Thanks for the review @theuni !\r\nIf that starts to overlap with your work too much, just tell me - I'm completely fine with closing this PR in favor of your more global work especially if this PR brings some pain in conflicts resolving and such. I would be glad if you any parts of this PR would be useful for your work in some way though.\r\n\r\nMeanwhile:\r\n- addressed `GetArg` inputs\r\n- added test cases for `TestSplitHost` for ports above upper bound\r\n\r\nI'm not sure which parts of code you were referencing by\r\n> (including those coming over the net)\r\n\r\nCould you provide some guidance pls?",
      "created_at" : "2016-07-27T23:10:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#issuecomment-235749248",
      "id" : 235749248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8394",
      "updated_at" : "2016-07-27T23:10:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/235749248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1935069?v=3",
         "events_url" : "https://api.github.com/users/UdjinM6/events{/privacy}",
         "followers_url" : "https://api.github.com/users/UdjinM6/followers",
         "following_url" : "https://api.github.com/users/UdjinM6/following{/other_user}",
         "gists_url" : "https://api.github.com/users/UdjinM6/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/UdjinM6",
         "id" : 1935069,
         "login" : "UdjinM6",
         "organizations_url" : "https://api.github.com/users/UdjinM6/orgs",
         "received_events_url" : "https://api.github.com/users/UdjinM6/received_events",
         "repos_url" : "https://api.github.com/users/UdjinM6/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/UdjinM6/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/UdjinM6/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/UdjinM6"
      }
   },
   {
      "body" : "@UdjinM6 by \"parts coming over the net\", i meant serialized addresses coming from net messages (version, addr, etc). Looks like that's already taken care of.\r\n\r\nConcept ACK, and quick review ACK, but It'd be nice to get #8128 in first.",
      "created_at" : "2016-08-05T22:10:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8394#issuecomment-237977934",
      "id" : 237977934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8394",
      "updated_at" : "2016-08-05T22:10:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/237977934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
