[
   {
      "body" : "I think we should aim to get initNetManager()  up as soon as possible, if possible as soon as PaymentServer is created, not postpone it further.\r\n\r\nAs I see it: The sooner it can process incoming URIs and payment requests and save them up in savedPaymentRequests, the sooner it will no longer launch a new GUI when a new URI is clicked. But I may be wrong...\r\n",
      "created_at" : "2013-10-31T07:51:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27467673",
      "id" : 27467673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-10-31T07:51:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27467673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "AFAIK, I think you are wrong here. URIs are pre-processed and stored in ``savedPaymentRequests`` via ``ipcSendCommandLine()``. Which is done early in init. ``initNetManager()`` on the other hand isn't even used for sending saved requests to a local TCP server (nor is a proxy used for this), but for fetching payment requests from remote servers. So I see no reason to not do it like in this pull. No cons, but a few pros (saved ``assert()``, possibility to use ``message()``).",
      "created_at" : "2013-10-31T16:45:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27503193",
      "id" : 27503193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-10-31T16:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27503193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I know it is used for receiving requests from remote processes. However, let's say that the user does not have a bitcoin client running then clicks on two bitcoin: URIs in a short timespan. What happens? \r\nThe first click will start bitcoin-qt adn queue the first URI.\r\nHowever, the second click will start a second bitcoin-qt, which will continue because there is no server listening yet, and then fails due to the data directory lock. The second URI is probably lost.\r\nBy starting the payment server as soon as possible, the second click would be queued in the first process and simply be processed when possible when the first instance reaches uiReady.\r\n",
      "created_at" : "2013-10-31T16:55:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27504056",
      "id" : 27504056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-10-31T16:55:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27504056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "It all depends on ``QTimer::singleShot(100, paymentServer, SLOT(uiReady()));`` in bitcoin.cpp anyway?",
      "created_at" : "2013-10-31T17:20:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27506418",
      "id" : 27506418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-10-31T17:20:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27506418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I still think this is valuable ;).",
      "created_at" : "2013-11-04T14:18:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27687648",
      "id" : 27687648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-11-04T14:18:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27687648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Agreed; initNetManager does something else than I thought it does\r\n\r\nNit: you can make initNetManager private after this",
      "created_at" : "2013-11-06T15:24:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-27882113",
      "id" : 27882113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-11-06T15:24:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27882113",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Updated:\r\n- make initNetManager() private",
      "created_at" : "2013-11-08T06:54:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-28040221",
      "id" : 28040221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-11-08T06:54:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28040221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Updated:\r\n- update paymentservertests.cpp",
      "created_at" : "2013-11-08T07:09:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-28041085",
      "id" : 28041085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-11-08T07:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28041085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/7634e0d8de4aac80a3a84dd2438f24f98670d44d for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-11-11T13:50:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3187#issuecomment-28200792",
      "id" : 28200792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3187",
      "updated_at" : "2013-11-11T13:50:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28200792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
