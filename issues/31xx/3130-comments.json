[
   {
      "body" : "Haven't looked at it in detail yet, but moving the message to PaymentServer makes sense as it only re-emits a message.\r\n",
      "created_at" : "2013-10-23T06:54:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26884114",
      "id" : 26884114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-23T06:54:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26884114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I don't think we should make the paymentack message a tray message.\r\nAs we are not storing it anywhere for later reference at the moment (or are we?), it's good to give the user some time to read it or even copy it.\r\n",
      "created_at" : "2013-10-24T07:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26971397",
      "id" : 26971397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T07:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26971397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj That's fine with me... perhaps there are better methods for handling this message, but that's out of the score of this pr.",
      "created_at" : "2013-10-24T07:40:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26972201",
      "id" : 26972201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T07:40:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26972201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Updated:\r\n- make paymentACK message a modal information dialog",
      "created_at" : "2013-10-24T07:46:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26972554",
      "id" : 26972554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T07:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26972554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3130#discussion_r7186238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7186238"
         }
      },
      "body" : "Hm I'd suggest to keep the signal, and subscribe to it locally; what if we want to do something else with the ACK later on?\r\n",
      "commit_id" : "08dd1b7be172f7ea580dc9bdf20ac15ea9a2ed31",
      "created_at" : "2013-10-24T12:33:15Z",
      "diff_hunk" : "@@ -603,13 +605,14 @@ void PaymentServer::netRequestFinished(QNetworkReply* reply)\n         payments::PaymentACK paymentACK;\n         if (!paymentACK.ParseFromArray(data.data(), data.size()))\n         {\n-            QString msg = QObject::tr(\"Bad response from server %1\")\n+            QString msg = tr(\"Bad response from server %1\")\n                 .arg(reply->request().url().toString());\n+\n             qDebug() << \"PaymentServer::netRequestFinished : \" << msg;\n             emit message(tr(\"Network request error\"), msg, CClientUIInterface::MSG_ERROR);\n         }\n         else {\n-            emit receivedPaymentACK(QString::fromStdString(paymentACK.memo()));\n+            emit message(tr(\"Payment acknowledged\"), GUIUtil::HtmlEscape(paymentACK.memo()), CClientUIInterface::ICON_INFORMATION | CClientUIInterface::MODAL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#discussion_r7186238",
      "id" : 7186238,
      "original_commit_id" : "07e610d98badf043d887886750566031bf6e751a",
      "original_position" : 67,
      "path" : "src/qt/paymentserver.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3130",
      "updated_at" : "2013-10-24T13:44:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7186238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3130#discussion_r7187200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7187200"
         }
      },
      "body" : "I'm going to change that :).",
      "commit_id" : "08dd1b7be172f7ea580dc9bdf20ac15ea9a2ed31",
      "created_at" : "2013-10-24T13:16:20Z",
      "diff_hunk" : "@@ -603,13 +605,14 @@ void PaymentServer::netRequestFinished(QNetworkReply* reply)\n         payments::PaymentACK paymentACK;\n         if (!paymentACK.ParseFromArray(data.data(), data.size()))\n         {\n-            QString msg = QObject::tr(\"Bad response from server %1\")\n+            QString msg = tr(\"Bad response from server %1\")\n                 .arg(reply->request().url().toString());\n+\n             qDebug() << \"PaymentServer::netRequestFinished : \" << msg;\n             emit message(tr(\"Network request error\"), msg, CClientUIInterface::MSG_ERROR);\n         }\n         else {\n-            emit receivedPaymentACK(QString::fromStdString(paymentACK.memo()));\n+            emit message(tr(\"Payment acknowledged\"), GUIUtil::HtmlEscape(paymentACK.memo()), CClientUIInterface::ICON_INFORMATION | CClientUIInterface::MODAL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#discussion_r7187200",
      "id" : 7187200,
      "original_commit_id" : "07e610d98badf043d887886750566031bf6e751a",
      "original_position" : 67,
      "path" : "src/qt/paymentserver.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3130",
      "updated_at" : "2013-10-24T13:44:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7187200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Updated to reflect @laanwj's suggestion:\r\n- add new slot handlePaymentACK() to paymentserver, which handles paymentACK messages (currently we just display them)",
      "created_at" : "2013-10-24T13:46:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26993217",
      "id" : 26993217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T13:46:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26993217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2013-10-24T13:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26993536",
      "id" : 26993536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T13:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26993536",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/08dd1b7be172f7ea580dc9bdf20ac15ea9a2ed31 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-10-24T14:13:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3130#issuecomment-26995444",
      "id" : 26995444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3130",
      "updated_at" : "2013-10-24T14:13:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26995444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
