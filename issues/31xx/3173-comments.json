[
   {
      "body" : "I agree that this is useful. However I'm not sure whether we should include test/fuzzing/stresstest code in the core.\r\n\r\nIf we want this we should put it in #ifdefs, add a configure option to enable it and not ship it in gitian builds (IMO).\r\n",
      "created_at" : "2013-10-28T06:56:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27192285",
      "id" : 27192285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T06:56:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27192285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I tend to agree, I remember I wanted to include an GCC stack smashing protection test via a switch, which seemed not like a good idea in the end. A guard via ``#ifdef ALLOW_FUZZTEST`` and a compiler option would be good IMO.",
      "created_at" : "2013-10-28T07:18:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27192916",
      "id" : 27192916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T07:18:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27192916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "make it only fuzz localhost peers? :)\r\n",
      "created_at" : "2013-10-28T07:49:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27193912",
      "id" : 27193912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T07:49:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27193912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "ACK\r\n\r\nLets not make barriers to this kind of testing like having to compile it in; implementations should be robust enough to handle junk getting sent at them from the occasional buggy peer. If they aren't that robust, they need to be improved frankly.\r\n\r\nedit: been running this for a few hours, and it looks like Bitcoin itself can be crashed due to the fuzz-tester...",
      "created_at" : "2013-10-28T11:13:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27203419",
      "id" : 27203419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T11:35:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27203419",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3173#discussion_r7245095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3173"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7245095"
         }
      },
      "body" : "``Fuzz(GetArg(\"-fuzzmessagestest\", 0));``?",
      "commit_id" : "9038b18f4655a5b8ad119d768decd1c693ebd7dd",
      "created_at" : "2013-10-28T11:28:29Z",
      "diff_hunk" : "@@ -440,6 +443,8 @@ class CNode\n             AbortMessage();\n             return;\n         }\n+        if (mapArgs.count(\"-fuzzmessagestest\"))\n+            Fuzz(atoi(mapArgs[\"-fuzzmessagestest\"]));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#discussion_r7245095",
      "id" : 7245095,
      "original_commit_id" : "dafb96925b323b0235d4f34d340b890e16b86856",
      "original_position" : 15,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3173",
      "updated_at" : "2013-10-29T01:21:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7245095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "ACK.. no objection to it being a runtime feature.",
      "created_at" : "2013-10-28T12:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27208210",
      "id" : 27208210,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T12:52:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27208210",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "At least keep it undocumented in `-help` then. There is already such a huge list of command line options, let's not add options that are not useful for 99.9% users and will cause them to be banned if they add it by accident.",
      "created_at" : "2013-10-28T13:03:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27208902",
      "id" : 27208902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-28T13:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27208902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Added a comment to make it clear the -*messagestest options are not documented on purpose, since they are for implementors, not end-users.\r\n\r\nI do think this should be a built-in run-time feature, it should be very helpful to re-implementors who are likely to be programming in a different language and might not want to bother setting up a dev environment to build themselves.\r\n\r\nTweaked with @Diapolo's suggestion to use GetArg instead of atoi (made it default to 1-of-10 messages fuzzed because that seems about right).\r\n\r\n@petertodd: please file a bug or send an email to bitcoin-security@lists.sourceforge.net if you found a bug or a vulnerability.",
      "created_at" : "2013-10-28T23:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27266317",
      "id" : 27266317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-29T01:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27266317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Rebased; fixed a crashing (assertion failed) bug caused by the fuzz-tester deleting at the beginning of the CDataStream (normal bitcoin usage never does that).\r\n",
      "created_at" : "2013-10-29T01:31:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27272198",
      "id" : 27272198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-29T01:31:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27272198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/9038b18f4655a5b8ad119d768decd1c693ebd7dd for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-10-29T02:14:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27273652",
      "id" : 27273652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-29T02:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27273652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "@gavinandresen Been running this for about a day with the crash fix and -fuzzmessagestest=100 No problems found.",
      "created_at" : "2013-10-30T06:15:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3173#issuecomment-27367469",
      "id" : 27367469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3173",
      "updated_at" : "2013-10-30T06:15:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27367469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   }
]
