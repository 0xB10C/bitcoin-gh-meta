{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "**Introduce a new BlockFilter type [P2WPKH] next to the existing basic filter type, which is described in BIP 158.**\r\nhttps://github.com/bitcoin/bips/blob/master/bip-0158.mediawiki#block-filter\r\n\r\nResolves #18222 \r\n\r\nThe BlockFilterIndex implementation allows for the addition of other filter types, this PR will add a new filter type for P2WPKH script types only.\r\nLight clients (especially new clients that deal with segwit addresses only) do not need any legacy script types in the filters, and with this PR can choose to only index a much smaller portion of the chain.\r\nThat will greatly reduce the amount of data on disk and that is fetch over the network.\r\n\r\nThe same GCS parameters where used as basic type.\r\n\r\nTotal size of serialized filers as of block 619 361:\r\n- P2WPKH = 248 MB \r\n- Basic = 4.76 GB\r\n \r\nBuilding the Index time\r\n- P2WPKH = ~2 hours \r\n- Basic = tbd\r\n\r\nEnabled in the config by:\r\n```\r\nblockfilterindex=p2wpkh\r\n```\r\nEnabling more then one filter:\r\n```\r\nblockfilterindex=p2wpkh\r\nblockfilterindex=basic\r\n```\r\n\r\nHow to extend this late on?  \r\nA more sophisticated extensibility proposal had been put forward in issue #18221 for filter type combinations. \r\nAll though this PR does not rely on consensus of the extensibility proposal but conforms to it.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18223/comments",
   "created_at" : "2020-02-28T14:00:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18223/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/18223",
   "id" : 572773154,
   "labels" : [
      {
         "color" : "0052cc",
         "default" : false,
         "description" : null,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "node_id" : "MDU6TGFiZWw5ODI3OTE3Nw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18223/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzgxNDA0OTE2",
   "number" : 18223,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/18223.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18223",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/18223.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18223"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Add new filer type p2wpkh to blockfilterindex",
   "updated_at" : "2020-02-28T14:13:46Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18223",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/7487930?v=4",
      "events_url" : "https://api.github.com/users/dangershony/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dangershony/followers",
      "following_url" : "https://api.github.com/users/dangershony/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dangershony/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dangershony",
      "id" : 7487930,
      "login" : "dangershony",
      "node_id" : "MDQ6VXNlcjc0ODc5MzA=",
      "organizations_url" : "https://api.github.com/users/dangershony/orgs",
      "received_events_url" : "https://api.github.com/users/dangershony/received_events",
      "repos_url" : "https://api.github.com/users/dangershony/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dangershony/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dangershony/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dangershony"
   }
}
