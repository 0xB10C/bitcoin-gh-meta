[
   {
      "author_association" : "MEMBER",
      "body" : "Perhaps you want to make it print the value of `cmd`, so we can figure out which F_ constants are used but not handled by the wrapper. The partial approach is pretty uncomfortable though.",
      "created_at" : "2021-06-20T00:29:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864480765",
      "id" : 864480765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDQ4MDc2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T00:29:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864480765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22287#discussion_r654857182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22287"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654857182"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Don't remove the exit here. This is sort of an assert; if you continue it'll invoke fcntl with who knows what behavior.",
      "commit_id" : "639bfc4b359bd9364829d3abb8e12e16d432471c",
      "created_at" : "2021-06-20T00:35:01Z",
      "diff_hunk" : "@@ -6,8 +6,132 @@\n #include <config/bitcoin-config.h>\n #endif\n \n+#include <cstdarg>\n #include <cstddef>\n #include <cstdint>\n+#include <cstdio>\n+#include <cstdlib>\n+\n+#include <fcntl.h>\n+\n+// See https://stackoverflow.com/a/58472959\n+#ifdef __i386__\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.1\");\n+#elif defined(__amd64__)\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.2.5\");\n+#elif defined(__arm__)\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.4\");\n+#elif defined(__aarch64__)\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.17\");\n+#elif defined(__powerpc64__)\n+#  ifdef WORDS_BIGENDIAN\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.3\");\n+#  else\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.17\");\n+#  endif\n+#elif defined(__riscv)\n+__asm(\".symver fcntl64,fcntl@GLIBC_2.27\");\n+#endif\n+extern \"C\" int __wrap_fcntl64(int fd, int cmd, ...)\n+{\n+    int result;\n+    va_list va;\n+    va_start(va, cmd);\n+\n+    switch (cmd) {\n+    //\n+    // File descriptor flags\n+    //\n+    case F_GETFD: goto takes_void;\n+    case F_SETFD: goto takes_int;\n+\n+    // File status flags\n+    //\n+    case F_GETFL: goto takes_void;\n+    case F_SETFL: goto takes_int;\n+\n+    // File byte range locking, not held across fork() or clone()\n+    //\n+    case F_SETLK: goto takes_flock_ptr_INCOMPATIBLE;\n+    case F_SETLKW: goto takes_flock_ptr_INCOMPATIBLE;\n+    case F_GETLK: goto takes_flock_ptr_INCOMPATIBLE;\n+\n+    // File byte range locking, held across fork()/clone() -- Not POSIX\n+    //\n+    case F_OFD_SETLK: goto takes_flock_ptr_INCOMPATIBLE;\n+    case F_OFD_SETLKW: goto takes_flock_ptr_INCOMPATIBLE;\n+    case F_OFD_GETLK: goto takes_flock_ptr_INCOMPATIBLE;\n+\n+    // Managing I/O availability signals\n+    //\n+    case F_GETOWN: goto takes_void;\n+    case F_SETOWN: goto takes_int;\n+    case F_GETOWN_EX: goto takes_f_owner_ex_ptr;\n+    case F_SETOWN_EX: goto takes_f_owner_ex_ptr;\n+    case F_GETSIG: goto takes_void;\n+    case F_SETSIG: goto takes_int;\n+\n+    // Notified when process tries to open or truncate file (Linux 2.4+)\n+    //\n+    case F_SETLEASE: goto takes_int;\n+    case F_GETLEASE: goto takes_void;\n+\n+    // File and directory change notification\n+    //\n+    case F_NOTIFY: goto takes_int;\n+\n+    // Changing pipe capacity (Linux 2.6.35+)\n+    //\n+    case F_SETPIPE_SZ: goto takes_int;\n+    case F_GETPIPE_SZ: goto takes_void;\n+\n+    // File sealing (Linux 3.17+)\n+    //\n+    case F_ADD_SEALS: goto takes_int;\n+    case F_GET_SEALS: goto takes_void;\n+\n+    // File read/write hints (Linux 4.13+)\n+    //\n+    case F_GET_RW_HINT: goto takes_uint64_t_ptr;\n+    case F_SET_RW_HINT: goto takes_uint64_t_ptr;\n+    case F_GET_FILE_RW_HINT: goto takes_uint64_t_ptr;\n+    case F_SET_FILE_RW_HINT: goto takes_uint64_t_ptr;\n+\n+    default:\n+        fprintf(stderr, \"fcntl64 workaround got unknown F_XXX constant\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#discussion_r654857182",
      "id" : 654857182,
      "line" : 101,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDg1NzE4Mg==",
      "original_commit_id" : "639bfc4b359bd9364829d3abb8e12e16d432471c",
      "original_line" : 101,
      "original_position" : 96,
      "original_start_line" : null,
      "path" : "src/compat/glibc_compat.cpp",
      "position" : 96,
      "pull_request_review_id" : 687858226,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22287",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-06-20T00:35:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/654857182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 639bfc4b359bd9364829d3abb8e12e16d432471c -> f0ca8bc08c0d238cdd88844190be0a11b4bcf1d5 ([pr22287.01](https://github.com/hebasto/bitcoin/commits/pr22287.01) -> [pr22287.03](https://github.com/hebasto/bitcoin/commits/pr22287.03), [diff](https://github.com/hebasto/bitcoin/compare/pr22287.01..pr22287.03)):\r\n\r\n- addressed @sipa's comments\r\n- fixed CI builds\r\n\r\n@sipa\r\n>  The partial approach is pretty uncomfortable though.\r\n\r\nHere are some possible alternatives:\r\n- bump minimum glibc version for the 22.0 release binaries\r\n- revert ca85449f22cb909b9ca83861aa51fbf8f40a9070 (#21036) for Linux builds\r\n- something else?\r\n",
      "created_at" : "2021-06-20T05:11:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864500695",
      "id" : 864500695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwMDY5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T05:11:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864500695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How did you fix the failures?",
      "created_at" : "2021-06-20T05:18:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864501256",
      "id" : 864501256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwMTI1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T05:18:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864501256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> How did you fix the failures?\r\n\r\n- ARM hosts are excluded from this solution\r\n- `#if !defined(__arm__) && defined(__GLIBC__) && (__GLIBC__ == 2) && (__GLIBC_MINOR__ >= 28)`",
      "created_at" : "2021-06-20T05:25:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864501757",
      "id" : 864501757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwMTc1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T05:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864501757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing. Binaries are broken (",
      "created_at" : "2021-06-20T05:42:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864502982",
      "id" : 864502982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwMjk4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T05:42:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864502982",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How are they broken?",
      "created_at" : "2021-06-20T05:58:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864504307",
      "id" : 864504307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNDMwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T05:58:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864504307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> How are they broken?\r\n\r\nOn x86_64 machine:\r\n```\r\n$ bin/bitcoind -signet\r\n2021-06-20T05:45:29Z Bitcoin Core version v21.99.0-f0ca8bc08c0d (release build)\r\n2021-06-20T05:45:29Z Signet derived magic (message start): 0a03cf40\r\n2021-06-20T05:45:29Z Assuming ancestors of block 0000002a1de0f46379358c1fd09906f7ac59adf3712323ed90eb59e4c183c020 have valid signatures.\r\n2021-06-20T05:45:29Z Setting nMinimumChainWork=00000000000000000000000000000000000000000000000000000019fd16269a\r\n2021-06-20T05:45:29Z Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\r\n2021-06-20T05:45:29Z Using RdSeed as additional entropy source\r\n2021-06-20T05:45:29Z Using RdRand as an additional entropy source\r\n2021-06-20T05:45:29Z Default data directory /home/hebasto/.bitcoin\r\n2021-06-20T05:45:29Z Using data directory /home/hebasto/.bitcoin/signet\r\n2021-06-20T05:45:29Z Config file: /home/hebasto/.bitcoin/bitcoin.conf\r\n2021-06-20T05:45:29Z Config file arg: dbcache=\"8192\"\r\n2021-06-20T05:45:29Z Config file arg: logips=\"1\"\r\n2021-06-20T05:45:29Z Config file arg: logthreadnames=\"1\"\r\n2021-06-20T05:45:29Z Config file arg: maxmempool=\"500\"\r\n2021-06-20T05:45:29Z Config file arg: server=\"1\"\r\n2021-06-20T05:45:29Z Config file arg: [main] addnode=\"ejxefzf5fpst4mg2rib7grksvscl7p6fvjp6agzgfc2yglxnjtxc3aid.onion\"\r\n2021-06-20T05:45:29Z Config file arg: [main] addnode=\"rp7k2go3s5lyj3fnj6zn62ktarlrsft2ohlsxkyd7v3e3idqyptvread.onion\"\r\n2021-06-20T05:45:29Z Config file arg: [main] addnode=\"mwmfluek4au6mxxpw6fy7sjhkm65bdfc7izc7lpz3trewfdghyrzsbid.onion\"\r\n2021-06-20T05:45:29Z Config file arg: [main] blocksdir=\"/home/hebasto/Blockchain\"\r\n2021-06-20T05:45:29Z Config file arg: [main] dnsseed=\"0\"\r\n2021-06-20T05:45:29Z Config file arg: [main] listenonion=\"1\"\r\n2021-06-20T05:45:29Z Config file arg: [main] onion=\"127.0.0.1:9050\"\r\n2021-06-20T05:45:29Z Config file arg: [main] uacomment=\"h42\"\r\n2021-06-20T05:45:29Z Config file arg: [main] wallet=false\r\n2021-06-20T05:45:29Z Config file arg: [regtest] blocksdir=\"/home/hebasto/VMs/bitcoin\"\r\n2021-06-20T05:45:29Z Config file arg: [signet] blocksdir=\"/home/hebasto/VMs/bitcoin\"\r\n2021-06-20T05:45:29Z Config file arg: [test] blocksdir=\"/home/hebasto/VMs/bitcoin\"\r\n2021-06-20T05:45:29Z Config file arg: [test] listen=\"1\"\r\n2021-06-20T05:45:29Z Config file arg: [test] onlynet=\"ipv4\"\r\n2021-06-20T05:45:29Z Config file arg: [test] server=\"1\"\r\n2021-06-20T05:45:29Z Setting file arg: wallet = [\"210528d\",\"210528-bdb\"]\r\n2021-06-20T05:45:29Z Command-line arg: signet=\"\"\r\n2021-06-20T05:45:29Z Using at most 125 automatic connections (1024 file descriptors available)\r\n2021-06-20T05:45:29Z Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n2021-06-20T05:45:29Z Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n2021-06-20T05:45:29Z Script verification uses 7 additional threads\r\n2021-06-20T05:45:29Z scheduler thread start\r\n2021-06-20T05:45:29Z HTTP: creating work queue of depth 16\r\n2021-06-20T05:45:29Z Using random cookie authentication.\r\n2021-06-20T05:45:29Z Generated RPC authentication cookie /home/hebasto/.bitcoin/signet/.cookie\r\n2021-06-20T05:45:29Z HTTP: starting 4 worker threads\r\n2021-06-20T05:45:29Z Using wallet directory /home/hebasto/.bitcoin/signet/wallets\r\n2021-06-20T05:45:29Z init message: Verifying wallet(s)â¦\r\n2021-06-20T05:45:29Z Using SQLite Version 3.32.1\r\n2021-06-20T05:45:29Z Using wallet /home/hebasto/.bitcoin/signet/wallets/210528d\r\nfcntl64 hack can't use glibc flock directlyterminate called without an active exception\r\nAborted (core dumped)\r\n```",
      "created_at" : "2021-06-20T06:00:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864504424",
      "id" : 864504424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNDQyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:00:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864504424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "You should compile with the change that prints the cmd value, so the missing cmd can be added. This is entirely expected - the wrapper needs to know all the used cmd values, and the code you copied only has a few.",
      "created_at" : "2021-06-20T06:01:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864504532",
      "id" : 864504532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNDUzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:02:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864504532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> You should compile with the change that prints the cmd value, so the missing cmd can be added. This is entirely expected - the wrapper needs to know all the used cmd values, and the code you copied only has a few.\r\n\r\nOk. I'll do.\r\n\r\nFWIW, it is not a _missed_ `cmd` value, rather this stub for file locking features:\r\n```\r\ntakes_flock_ptr_INCOMPATIBLE:\r\n    //\r\n    // !!! This is the breaking case: the size of the flock\r\n    // structure changed to accommodate larger files.  If you\r\n    // need this, you'll have to define a compatibility struct\r\n    // with the older glibc and make your own entry point using it,\r\n    // then call fcntl64() with it directly (bear in mind that has\r\n    // been remapped to the old fcntl())\r\n    //\r\n    fprintf(stderr, \"fcntl64 hack can't use glibc flock directly\");\r\n    exit(1);\r\n```\r\n",
      "created_at" : "2021-06-20T06:05:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864504878",
      "id" : 864504878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNDg3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:05:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864504878",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh, you're right. That's a bigger problem.",
      "created_at" : "2021-06-20T06:06:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864504954",
      "id" : 864504954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNDk1NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:06:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864504954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Reverting #21036 isn't an option for guix, I assume. ",
      "created_at" : "2021-06-20T06:16:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864505793",
      "id" : 864505793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNTc5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:16:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864505793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Oh, you're right. That's a bigger problem.\r\n\r\nBtw, the offensive `cmd` is `F_SETLK\t6\t/* Set record locking info (non-blocking).  */`",
      "created_at" : "2021-06-20T06:34:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864507195",
      "id" : 864507195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNzE5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:34:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864507195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, so we'll need to implement a wrapper for that. None of the call sites do anything complicated (and in particular, none pass file ranges, which could lead to actual imcompatibilities).",
      "created_at" : "2021-06-20T06:36:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22287#issuecomment-864507321",
      "id" : 864507321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22287",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2NDUwNzMyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-20T06:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/864507321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
