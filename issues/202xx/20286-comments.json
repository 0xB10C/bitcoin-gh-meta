[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516226947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516226947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would these RPC removals need to go through the usual deprecation process?\r\n\r\n(See `doc/JSON-RPC-interface.md#versioning` for more, or search for pulls or commits with the word \"deprecate\".)",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-11-02T20:10:57Z",
      "diff_hunk" : "@@ -560,7 +557,6 @@ static RPCHelpMan decodescript()\n                             {RPCResult::Type::STR, \"asm\", \"String representation of the script public key\"},\n                             {RPCResult::Type::STR_HEX, \"hex\", \"Hex string of the script public key\"},\n                             {RPCResult::Type::STR, \"type\", \"The type of the script public key (e.g. witness_v0_keyhash or witness_v0_scripthash)\"},\n-                            {RPCResult::Type::NUM, \"reqSigs\", \"The required signatures (always 1)\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516226947",
      "id" : 516226947,
      "line" : 562,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjIyNjk0Nw==",
      "original_commit_id" : "30259787c337b8503aa923dcf62da80129196150",
      "original_line" : 562,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 73,
      "pull_request_review_id" : 521958599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516226947",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516276978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516276978"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure about this change because `reqSigs` will be 2 in this case while testing",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-11-02T21:54:33Z",
      "diff_hunk" : "@@ -15,7 +15,6 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"2 02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397 021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d 02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485 3 OP_CHECKMULTISIG\",\n                 \"hex\": \"522102a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff39721021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d2102df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb48553ae\",\n-                \"reqSigs\": 2,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516276978",
      "id" : 516276978,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI3Njk3OA==",
      "original_commit_id" : "a6843f02630b7adeaa3e7f12184aae408ed20840",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/util/data/txcreatemultisig1.json",
      "position" : 4,
      "pull_request_review_id" : 522021001,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516276978",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516288218"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516288218"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Based on the discussion in the issue #20102 it seemed no one cares/uses bare multisig, and that we could just totally get rid of `reqSigs`. I'm not sure if this is really true, but figured I'd remove it and see what feedback I get in the PR",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-11-02T22:18:52Z",
      "diff_hunk" : "@@ -15,7 +15,6 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"2 02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397 021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d 02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485 3 OP_CHECKMULTISIG\",\n                 \"hex\": \"522102a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff39721021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d2102df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb48553ae\",\n-                \"reqSigs\": 2,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r516288218",
      "id" : 516288218,
      "in_reply_to_id" : 516276978,
      "line" : 18,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI4ODIxOA==",
      "original_commit_id" : "a6843f02630b7adeaa3e7f12184aae408ed20840",
      "original_line" : 18,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/util/data/txcreatemultisig1.json",
      "position" : 4,
      "pull_request_review_id" : 522052683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/516288218",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is anyone using this for p2sh-multisig (passing the redeemscript into `decodescript`)?",
      "created_at" : "2020-11-03T08:31:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-720975152",
      "id" : 720975152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDk3NTE1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-03T08:31:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720975152",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "\"addresses\" for multisigs don't make sense without \"reqSigs\"\r\n\r\nIMO if we deprecate/remove the latter, we should also be sure to remove the former with it.\r\n\r\n(\"addresses\" should remain for actual address outputs)",
      "created_at" : "2020-11-13T18:00:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-726923474",
      "id" : 726923474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNjkyMzQ3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-13T18:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/726923474",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> \"addresses\" for multisigs don't make sense without \"reqSigs\"\r\n> \r\n> IMO if we deprecate/remove the latter, we should also be sure to remove the former with it.\r\n> \r\n> (\"addresses\" should remain for actual address outputs)\r\n\r\nIf we were to remove `addresses` for multisigs it seems to me we'd be able to get rid of [ExtractDestinations](https://github.com/bitcoin/bitcoin/blob/0ede354367c478cbbed0ec40a9d3cf1efe74cf33/src/script/standard.h#L253) entirely, as this is the only thing it's used for currently, and `ExtractDestination` can be used instead.\r\n\r\nIt also makes me think ```{RPCResult::Type::ARR, \"addresses\", \"array of bitcoin addresses\"}``` is a bit misleading, and would ideally be a single ```{RPCResult::Type::STR, \"address\", \"bitcoin address\"}```.\r\n\r\nWe'd be able to get rid of a nice chunk of code (and potentially confusing behavior). But I'm new to this repo, and I need some guidance on what should be done here. And also if I need to deprecate stuff and how I should proceed if so.\r\n\r\nNote: there is always the easy option of just fixing the `reqSigs` behavior instead of removing it. But, I guess it's unused and we can get rid of some cruft by removing it. Please advise!",
      "created_at" : "2020-11-15T19:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-727622658",
      "id" : 727622658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNzYyMjY1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-15T19:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/727622658",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on removing both \"reqSigs\" and \"addresses\", but it'll need to go through the RPC deprecation mechanism.\n\nIn other places we have already removed similar fields. Especially \"addresses\" is a bizarre and misleading leftover from a time when addresses were only ever P2PKH and just \"key identifiers\". Now (... since P2SH in 2012) addresses are encodings of a specific scriptPubKey it makes no sense whatsoever that multisig is treated as \"multiple addresses\".",
      "created_at" : "2020-11-15T19:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-727623392",
      "id" : 727623392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNzYyMzM5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-15T19:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/727623392",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Note: there is always the easy option of just fixing the reqSigs behavior instead of removing it. \r\n\r\nIf it's broken, we should fix it (for backporting) before removing.\r\n\r\n>It also makes me think {RPCResult::Type::ARR, \"addresses\", \"array of bitcoin addresses\"} is a bit misleading, and would ideally be a single {RPCResult::Type::STR, \"address\", \"bitcoin address\"}.\r\n\r\nI'm not sure the array format is entirely/hypothetically useless. Might as well leave it alone (or at least propose this change separately).",
      "created_at" : "2020-11-15T19:45:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-727625496",
      "id" : 727625496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNzYyNTQ5Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-15T19:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/727625496",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've re-worked this PR, and force pushed, based on the convo/feedback in this thread. Broken into two commits:\r\n\r\n1. https://github.com/bitcoin/bitcoin/pull/20286/commits/f5d3cf6ceb3bb578bfce36959744ee7035eaf6c0 \"fixes\" `reqSigs`. Instead of defaulting to `1` which is confusing (and possibly incorrect?) `reqSigs` is not included in rpc outputs unless the transaction is a bare multisig.\r\n2. https://github.com/bitcoin/bitcoin/pull/20286/commits/c0545cc866a69da7ee30bf7cd5b9a84262da5778 deprecates `reqSigs` as discussed, where `reqSigs` is totally removed from rpc outputs, and `addresses` is no longer returned for bare multsigs. https://github.com/bitcoin/bitcoin/pull/20286/commits/c0545cc866a69da7ee30bf7cd5b9a84262da5778#diff-80ada085034954b397668e082d78cd40519aa9b162ec52101651dd48c48a17b3L18-L24 basically becomes a functional test, where we check the default case, and `-deprecatedrpc=reqSigs` are both correct\r\n\r\nNote: This PR turned out to be more involved than I expected. I'll probably need some more feedback and pointers to get this across the finish line.\r\n\r\nAlso: we'll be able to delete a few chunks of code when we can get rid of `-deprecatedrpc=reqSigs`. I indicate this in the source with `TODO` comments.",
      "created_at" : "2020-11-18T22:44:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-730004660",
      "id" : 730004660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDAwNDY2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-18T22:44:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730004660",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mjdietzx I think it's a bit weird to fix `\"addresses\"`/`\"reqSigs\"`, as it's making a semantics change simultaneously with a deprecation.\r\n\r\nMy suggestion would be to:\r\n* add a new sane `\"address\"` field (for outputs that have an identifiable address, which doesn't include bare multisig)\r\n* with -deprecatedrpc: leave `\"reqSigs\"` and `\"addresses\"` intact (with all weird/wrong behavior they have now)\r\n* without -deprecatedrpc: drop `\"reqSigs\"` and `\"addresses\"` entirely, always.\r\n\r\nThat means that anyone who is currently relying on the weird `\"reqSigs\": `` behavior for unknown address types (for who knows what reason) isn't affected if they set the deprecation option.\r\n",
      "created_at" : "2020-11-18T22:52:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-730008260",
      "id" : 730008260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDAwODI2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-18T22:56:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730008260",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I like the approach you've outlined @sipa. Any objections before I go ahead and do this @luke-jr? I know you weren't quite convinced re: `addresses` => `address`.\r\n",
      "created_at" : "2020-11-19T00:34:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-730045629",
      "id" : 730045629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDA0NTYyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T00:34:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730045629",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd prefer to keep a single-item array (better compatibility, and future-proof), but I don't care enough to object.",
      "created_at" : "2020-11-19T00:51:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-730051410",
      "id" : 730051410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDA1MTQxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T00:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730051410",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20556 (rpc: Properly document return values (submitblock, gettxout, getblocktemplate, scantxoutset) by MarcoFalke)\n* #20459 (rpc: Fail to return undocumented return values by MarcoFalke)\n* #19438 (Introduce deploymentstatus by ajtowns)\n* #16795 (rpc: have raw transaction decoding infer output descriptors by instagibbs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-11-19T04:19:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-730119441",
      "id" : 730119441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDExOTQ0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-21T21:21:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730119441",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'll need to re-work some of the functional tests (will get this committed soon) now that `addresses` is removed by default, but https://github.com/bitcoin/bitcoin/pull/20286/commits/162e7f0969bf593e66ec2e59e24c4c555cd101f7 updates this PR to be as @sipa suggested",
      "created_at" : "2020-11-20T19:05:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-731354672",
      "id" : 731354672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMTM1NDY3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-20T19:05:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/731354672",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Piggy backing off of https://github.com/bitcoin/bitcoin/pull/20211, now that we have:\r\n\r\n```c++\r\nbool ExtractDestination(const CScript& scriptPubKey, TxoutType& typeRet, CTxDestination& addressRet);\r\n```\r\n\r\nCould we do something like:\r\n```c++\r\nTxoutType type;\r\nCTxDestination dest;\r\nExtractDestination(m_script, type, dest);\r\nswitch (type) {\r\ncase TxoutType::PUBKEYHASH:\r\ncase TxoutType::SCRIPTHASH: return OutputType::LEGACY;\r\ncase TxoutType::WITNESS_V0_SCRIPTHASH:\r\ncase TxoutType::WITNESS_V0_KEYHASH:\r\ncase TxoutType::WITNESS_V1_TAPROOT:\r\ncase TxoutType::WITNESS_UNKNOWN: return OutputType::BECH32;\r\ncase TxoutType::PUBKEY:\r\ncase TxoutType::MULTISIG:\r\ncase TxoutType::NONSTANDARD:\r\ncase TxoutType::NULL_DATA: return nullopt; // no default case, so the compiler can warn about missing cases\r\n}\r\nassert(false);\r\n```\r\n\r\nInstead of what we have now:\r\n```c++\r\nCTxDestination dest;\r\nExtractDestination(m_script, dest);\r\nswitch (dest.which()) {\r\n  case 1 /* PKHash */:\r\n  case 2 /* ScriptHash */: return OutputType::LEGACY;\r\n  case 3 /* WitnessV0ScriptHash */:\r\n  case 4 /* WitnessV0KeyHash */:\r\n  case 5 /* WitnessUnknown */: return OutputType::BECH32;\r\n  case 0 /* CNoDestination */:\r\n  default: return nullopt;\r\n}\r\n```\r\n\r\nNote: I messed around with this, and probably made some mistakes here, but didn't see any unit tests or functional tests fail. So maybe some test coverage is needed here as well?",
      "created_at" : "2020-11-23T18:28:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-732344695",
      "id" : 732344695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMjM0NDY5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-23T18:28:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/732344695",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "This PR is ready for review again. Squashed into two commits (bc https://github.com/bitcoin/bitcoin/pull/20286/commits/07ff0f7d15b99a40ec09f1315bcfcd9e4a6099a2 refactor was required to fix a circular dependency lint error introduced by using `IsDeprecatedRPCEnabled()` in `ScriptPubKeyToUniv()`)",
      "created_at" : "2020-11-24T18:28:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-733157242",
      "id" : 733157242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMzE1NzI0Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-24T18:28:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/733157242",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hey, this PR seems a bit dead in the water. Does anyone have suggestions on how I can help move this through the review process?\r\n\r\nMy guess is this change is making it hard to review: \r\nhttps://github.com/bitcoin/bitcoin/pull/20286/files#diff-d3f64e14005fbfea3d4f72b076764ac897d0df451de0ab2fb1c57a5f87cd793bR23-R26\r\n\r\nBut that is the most straightforward way I could see to get rid of a circular dependency and allow me to use `IsDeprecatedRPCEnabled` in `core_write.cpp` here: https://github.com/bitcoin/bitcoin/pull/20286/files#diff-48fa743e653b0ceebb1e454766c5a2e70981a44503eca6adf24895016db9eb26R164\r\n\r\nAny thoughts/suggestions?",
      "created_at" : "2020-12-15T18:32:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-745480972",
      "id" : 745480972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTQ4MDk3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T18:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745480972",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r543588029"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/543588029"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think it's technically true anymore in the current PR that this is only present for bare multisig (here and elsewhere).",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-15T18:34:12Z",
      "diff_hunk" : "@@ -132,7 +132,7 @@ static RPCHelpMan getrawtransaction()\n                                      {\n                                          {RPCResult::Type::STR, \"asm\", \"the asm\"},\n                                          {RPCResult::Type::STR, \"hex\", \"the hex\"},\n-                                         {RPCResult::Type::NUM, \"reqSigs\", \"The required sigs\"},\n+                                         {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=reqSigs is passed) Number of required signatures (only present for bare multisig\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r543588029",
      "id" : 543588029,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU4ODAyOQ==",
      "original_commit_id" : "1bbe210727267d05ebbed21a3b5115c07915bebd",
      "original_line" : 135,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 552752298,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/543588029",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r543593773"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/543593773"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This change seems to be in the wrong commit.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-15T18:42:43Z",
      "diff_hunk" : "@@ -1104,8 +1104,8 @@ static RPCHelpMan gettxout()\n                             {\n                                 {RPCResult::Type::STR_HEX, \"asm\", \"\"},\n                                 {RPCResult::Type::STR_HEX, \"hex\", \"\"},\n-                                {RPCResult::Type::NUM, \"reqSigs\", \"Number of required signatures\"},\n-                                {RPCResult::Type::STR_HEX, \"type\", \"The type, eg pubkeyhash\"},\n+                                {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=reqSigs is passed) Number of required signatures (only present for bare multisig\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r543593773",
      "id" : 543593773,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU5Mzc3Mw==",
      "original_commit_id" : "c81ffe522852da0e2a77172753025a070070d39a",
      "original_line" : 1107,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 552752298,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/543593773",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Concept and approach ACK on the first commit. The circular dependency fix seems weird to me as the CoinStatsHashType really belongs together with GetUTXOStates; moving it out makes its purpose very unclear, and makes the code more confusing, not less. The goal of the circular dependency checker is that such dependencies are usually a sign of bad design or hard-to-follow code, and we want to avoid introducing that. But if the cure is worse than the disease, just add an exception.\r\n\r\nAh yeah that's much better ð. I addressed this, and your other comments in this commit: 811947c0527fa868157352434a5c310609dd5c63",
      "created_at" : "2020-12-15T22:19:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-745604025",
      "id" : 745604025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTYwNDAyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T22:19:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745604025",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-15T23:05:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-745622414",
      "id" : 745622414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTYyMjQxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T23:05:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745622414",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> ð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\r\n\r\nSquashed and rebased",
      "created_at" : "2020-12-16T02:09:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-745716408",
      "id" : 745716408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTcxNjQwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T02:09:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745716408",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544108043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544108043"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain what this is doing and why?\r\n\r\nAlso, the ci is failing",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-16T08:36:18Z",
      "diff_hunk" : "@@ -502,12 +502,14 @@ libbitcoin_common_a_SOURCES = \\\n   protocol.cpp \\\n   psbt.cpp \\\n   rpc/rawtransaction_util.cpp \\\n+  rpc/server.cpp \\\n   rpc/util.cpp \\\n   scheduler.cpp \\\n   script/descriptor.cpp \\\n   script/sign.cpp \\\n   script/signingprovider.cpp \\\n   script/standard.cpp \\\n+  shutdown.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544108043",
      "id" : 544108043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDEwODA0Mw==",
      "original_commit_id" : "1cca632e59090712de5afe7f15a2acda6fd8414b",
      "original_line" : 512,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 553459002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544108043",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544410623"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544410623"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since I've added `rpc/server.cpp` to `libbitcoin_common_a_SOURCES`, and `rpc/server.cpp` in turn includes `shutdown.h` and invokes `StartShutdown()` [here](https://github.com/bitcoin/bitcoin/blob/master/src/rpc/server.cpp#L172), I need to include `shutdown.cpp` in `libbitcoin_common_a_SOURCES`\r\n\r\nOtherwise we'll get a compile error:\r\n```sh\r\nUndefined symbols for architecture x86_64:\r\n  \"StartShutdown()\", referenced from:\r\n      std::__1::__function::__func<stop()::$_3, std::__1::allocator<stop()::$_3>, UniValue (RPCHelpMan const&, JSONRPCRequest const&)>::operator()(RPCHelpMan const&, JSONRPCRequest const&) in libbitcoin_common.a(libbitcoin_common_a-server.o)\r\nld: symbol(s) not found for architecture x86_64\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n```",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-16T15:51:48Z",
      "diff_hunk" : "@@ -502,12 +502,14 @@ libbitcoin_common_a_SOURCES = \\\n   protocol.cpp \\\n   psbt.cpp \\\n   rpc/rawtransaction_util.cpp \\\n+  rpc/server.cpp \\\n   rpc/util.cpp \\\n   scheduler.cpp \\\n   script/descriptor.cpp \\\n   script/sign.cpp \\\n   script/signingprovider.cpp \\\n   script/standard.cpp \\\n+  shutdown.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544410623",
      "id" : 544410623,
      "in_reply_to_id" : 544108043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQxMDYyMw==",
      "original_commit_id" : "1cca632e59090712de5afe7f15a2acda6fd8414b",
      "original_line" : 512,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 553825884,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544410623",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544420077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544420077"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Looks like I made a mistake resolving a merge conflict when I rebased to master, which caused CI to fail.\r\n\r\nThe CI error was:\r\n```sh\r\nGood job! The circular dependency \"policy/fees -> txmempool -> validation -> policy/fees\" is no longer present.\r\n458Please remove it from EXPECTED_CIRCULAR_DEPENDENCIES in test/lint/lint-circular-dependencies.sh\r\n459to make sure this circular dependency is not accidentally reintroduced.\r\n```\r\n\r\nI had a single merge conflict in `lint-circular-dependencies.sh` where: `\"policy/fees -> txmempool -> validation -> policy/fees\"` needed to be removed, but I re-added it instead of removing it when resolving the merge conflict.\r\n\r\nFixed now: https://github.com/bitcoin/bitcoin/pull/20286/files#diff-ee6a5803b78eb12f095b391894014b5fb2b836cef29943980b3ab684861c1f2dR23\r\n",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-16T16:03:17Z",
      "diff_hunk" : "@@ -502,12 +502,14 @@ libbitcoin_common_a_SOURCES = \\\n   protocol.cpp \\\n   psbt.cpp \\\n   rpc/rawtransaction_util.cpp \\\n+  rpc/server.cpp \\\n   rpc/util.cpp \\\n   scheduler.cpp \\\n   script/descriptor.cpp \\\n   script/sign.cpp \\\n   script/signingprovider.cpp \\\n   script/standard.cpp \\\n+  shutdown.cpp \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r544420077",
      "id" : 544420077,
      "in_reply_to_id" : 544108043,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQyMDA3Nw==",
      "original_commit_id" : "1cca632e59090712de5afe7f15a2acda6fd8414b",
      "original_line" : 512,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/Makefile.am",
      "position" : null,
      "pull_request_review_id" : 553837840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/544420077",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "One thing I noticed, which I fixed in 2nd commit https://github.com/bitcoin/bitcoin/pull/20286/commits/3c54db1ae676a7c12e09336b793a601c20810bf7, that's a little confusing to me. CI was failing for `[depends, sanitizers: thread (TSan), no gui] [focal]` and `[no depends, sanitizers: address/leak (ASan + LSan) + undefined(UBSan) + integer] [focal]`, but all other runs were passing. You can see the results of that run [here](https://cirrus-ci.com/build/6325232661168128)\r\n\r\nIt's because I generated a block on `self.nodes[0]`, but didn't `self.sync_all()` before getting that block on `self.nodes[1]`. This all happens in the functional test I added [here](https://github.com/bitcoin/bitcoin/pull/20286/files#diff-fa7d372f6d77cd74c3ca58e0bd66028d1299a72fcdc375ad07ff4216ca634f92R48)\r\n\r\nWhich resulted in this error (for those two CI runs):\r\n```sh\r\nTraceback (most recent call last):\r\n  ...\r\n  ..\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/rpc_reqsigs_deprecation.py\", line 50, in test_reqsigs_deprecation\r\n    script_pub_key = self.nodes[1].getblock(blockhash=hash, verbose=2)['tx'][-1]['vout'][0]['scriptPubKey']\r\n  ...\r\n  ..\r\ntest_framework.authproxy.JSONRPCException: Block not found on disk (-1)\r\n```\r\n\r\nAlthough it seems correct to call `self.sync_all()` as I do now in the 2nd commit, I'm confused because it didn't fail for most of the other CI runs, and didn't fail when I ran the functional tests locally (Mac). I'm just wondering if anyone knows or can explain why there is different behavior here\r\n\r\n\r\n",
      "created_at" : "2020-12-17T01:46:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-747150340",
      "id" : 747150340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NzE1MDM0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-17T01:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/747150340",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Looks like this ones gonna miss the v0.21.0 boat ð¢\r\n\r\nEither way, want to see if there's anything I can do to help move this review forward. All feedback in this review until now has been addressed, and I squashed into single commit",
      "created_at" : "2020-12-22T03:39:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#issuecomment-749320232",
      "id" : 749320232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20286",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0OTMyMDIzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-22T03:39:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/749320232",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134259"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you changing the order?",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-22T08:22:27Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134259",
      "id" : 547134259,
      "line" : 152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEzNDI1OQ==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 152,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 15,
      "pull_request_review_id" : 556897463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134259",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134776"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134776"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems like a layer violation. You can add a `ScriptPubKeyToUniv` to `rpc/blockchain.h`, which calls this `ScriptPubKeyToUniv` and passes an additional boolean parameter with the value of `IsDeprecatedRPCEnabled('reqsiqs')`",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-22T08:23:38Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));\n }\n \n-void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n {\n     TxoutType type;\n-    std::vector<CTxDestination> addresses;\n-    int nRequired;\n+    CTxDestination address;\n \n     out.pushKV(\"asm\", ScriptToAsmStr(scriptPubKey));\n     if (fIncludeHex)\n         out.pushKV(\"hex\", HexStr(scriptPubKey));\n \n-    if (!ExtractDestinations(scriptPubKey, type, addresses, nRequired) || type == TxoutType::PUBKEY) {\n-        out.pushKV(\"type\", GetTxnOutputType(type));\n-        return;\n+    // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire if statement should be removed\n+    if (IsDeprecatedRPCEnabled(\"reqSigs\")) { // cruft...",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134776",
      "id" : 547134776,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEzNDc3Ng==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 164,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 556897463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134776",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134887"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134887"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-22T08:23:49Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));\n }\n \n-void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n {\n     TxoutType type;\n-    std::vector<CTxDestination> addresses;\n-    int nRequired;\n+    CTxDestination address;\n \n     out.pushKV(\"asm\", ScriptToAsmStr(scriptPubKey));\n     if (fIncludeHex)\n         out.pushKV(\"hex\", HexStr(scriptPubKey));\n \n-    if (!ExtractDestinations(scriptPubKey, type, addresses, nRequired) || type == TxoutType::PUBKEY) {\n-        out.pushKV(\"type\", GetTxnOutputType(type));\n-        return;\n+    // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire if statement should be removed\n+    if (IsDeprecatedRPCEnabled(\"reqSigs\")) { // cruft...\n+        std::vector<CTxDestination> addresses;\n+        int nRequired;\n+        if (ExtractDestinations(scriptPubKey, type, addresses, nRequired) && type != TxoutType::PUBKEY) {\n+            out.pushKV(\"reqSigs\", nRequired);\n+            UniValue a(UniValue::VARR);\n+            for (const CTxDestination& addr : addresses) {\n+                a.push_back(EncodeDestination(addr));\n+            }\n+            out.pushKV(\"addresses\", a);\n+        }\n     }\n-\n-    out.pushKV(\"reqSigs\", nRequired);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n-    UniValue a(UniValue::VARR);\n-    for (const CTxDestination& addr : addresses) {\n-        a.push_back(EncodeDestination(addr));\n+    if (ExtractDestination(scriptPubKey, type, address) && type != TxoutType::PUBKEY) {\n+        out.pushKV(\"address\", EncodeDestination(address));\n     }\n-    out.pushKV(\"addresses\", a);\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547134887",
      "id" : 547134887,
      "line" : 180,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEzNDg4Nw==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 180,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 58,
      "pull_request_review_id" : 556897463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547134887",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547135361"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547135361"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nbool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\r\n{\r\n```",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-22T08:24:53Z",
      "diff_hunk" : "@@ -221,6 +221,12 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n     return false;\n }\n \n+bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r547135361",
      "id" : 547135361,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEzNTM2MQ==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 224,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_review_id" : 556897463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/547135361",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062026"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062026"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This doesn't seem addressed: https://github.com/bitcoin/bitcoin/pull/20286/files#r547134259 (it's ok if you disagree with the comment, or there is a good reason to - but do respond if you can).",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:06:41Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062026",
      "id" : 549062026,
      "in_reply_to_id" : 547134259,
      "line" : 152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjAyNg==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 152,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 15,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062026",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062094"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd think that \"addresses\" being removed is a more prominent change, so perhaps the deprecatedrpc name should be \"addressed\" ?",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:07:32Z",
      "diff_hunk" : "@@ -141,40 +141,42 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));\n }\n \n-void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n {\n     TxoutType type;\n-    std::vector<CTxDestination> addresses;\n-    int nRequired;\n+    CTxDestination address;\n \n     out.pushKV(\"asm\", ScriptToAsmStr(scriptPubKey));\n     if (fIncludeHex)\n         out.pushKV(\"hex\", HexStr(scriptPubKey));\n \n-    if (!ExtractDestinations(scriptPubKey, type, addresses, nRequired) || type == TxoutType::PUBKEY) {\n-        out.pushKV(\"type\", GetTxnOutputType(type));\n-        return;\n+    // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire if statement should be removed\n+    const std::vector<std::string> enabled_methods = gArgs.GetArgs(\"-deprecatedrpc\");\n+    if (find(enabled_methods.begin(), enabled_methods.end(), \"reqSigs\") != enabled_methods.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062094",
      "id" : 549062094,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjA5NA==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 164,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062094",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062240"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062240"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should probably also get a changed comment.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:09:01Z",
      "diff_hunk" : "@@ -132,7 +132,7 @@ static RPCHelpMan getrawtransaction()\n                                      {\n                                          {RPCResult::Type::STR, \"asm\", \"the asm\"},\n                                          {RPCResult::Type::STR, \"hex\", \"the hex\"},\n-                                         {RPCResult::Type::NUM, \"reqSigs\", \"The required sigs\"},\n+                                         {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=reqSigs is passed) Number of required signatures\"},\n                                          {RPCResult::Type::STR, \"type\", \"The type, eg 'pubkeyhash'\"},\n                                          {RPCResult::Type::ARR, \"addresses\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062240",
      "id" : 549062240,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjI0MA==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 137,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062240",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062245"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062245"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same here.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:09:09Z",
      "diff_hunk" : "@@ -490,7 +490,7 @@ static RPCHelpMan decoderawtransaction()\n                                 {\n                                     {RPCResult::Type::STR, \"asm\", \"the asm\"},\n                                     {RPCResult::Type::STR_HEX, \"hex\", \"the hex\"},\n-                                    {RPCResult::Type::NUM, \"reqSigs\", \"The required sigs\"},\n+                                    {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=reqSigs is passed) Number of required signatures\"},\n                                     {RPCResult::Type::STR, \"type\", \"The type, eg 'pubkeyhash'\"},\n                                     {RPCResult::Type::ARR, \"addresses\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062245",
      "id" : 549062245,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjI0NQ==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 495,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062245",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062249"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062249"
         }
      },
      "author_association" : "MEMBER",
      "body" : "And here.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:09:17Z",
      "diff_hunk" : "@@ -548,7 +548,7 @@ static RPCHelpMan decodescript()\n                     {\n                         {RPCResult::Type::STR, \"asm\", \"Script public key\"},\n                         {RPCResult::Type::STR, \"type\", \"The output type (e.g. \"+GetAllOutputTypes()+\")\"},\n-                        {RPCResult::Type::NUM, \"reqSigs\", \"The required signatures\"},\n+                        {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=reqSigs is passed) Number of required signatures\"},\n                         {RPCResult::Type::ARR, \"addresses\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062249",
      "id" : 549062249,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjI0OQ==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 552,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062249",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062264"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062264"
         }
      },
      "author_association" : "MEMBER",
      "body" : "And here.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:09:29Z",
      "diff_hunk" : "@@ -559,7 +559,6 @@ static RPCHelpMan decodescript()\n                             {RPCResult::Type::STR, \"asm\", \"String representation of the script public key\"},\n                             {RPCResult::Type::STR_HEX, \"hex\", \"Hex string of the script public key\"},\n                             {RPCResult::Type::STR, \"type\", \"The type of the script public key (e.g. witness_v0_keyhash or witness_v0_scripthash)\"},\n-                            {RPCResult::Type::NUM, \"reqSigs\", \"The required signatures (always 1)\"},\n                             {RPCResult::Type::ARR, \"addresses\", \"(always length 1)\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062264",
      "id" : 549062264,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjI2NA==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 562,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062264",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062533"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062533"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's pretty ugly to duplicate this logic in many places. I'd suggest just using `IsDeprecatedRPCEnabled`, in the top-level RPC code, and pass down a boolean to wherever it's needed (e.g. in core_write, make `ScriptPubKeyToUniv` take a boolean to indicate whether to not to include `reqSigs` / `addresses`).",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:14:01Z",
      "diff_hunk" : "@@ -3672,9 +3673,9 @@ class DescribeWalletAddressVisitor : public boost::static_visitor<UniValue>\n             // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n             if (subobj.exists(\"pubkey\")) obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n             obj.pushKV(\"embedded\", std::move(subobj));\n-        } else if (which_type == TxoutType::MULTISIG) {\n-            // Also report some information on multisig scripts (which do not have a corresponding address).\n-            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+        } else if (find(enabled_methods.begin(), enabled_methods.end(), \"reqSigs\") != enabled_methods.end() &&",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062533",
      "id" : 549062533,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjUzMw==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 3676,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062533",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note that the next major release after 0.21 is going to be v22 (not v0.22); see https://github.com/bitcoin/bitcoin/pull/20223.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T04:15:14Z",
      "diff_hunk" : "@@ -3672,9 +3673,9 @@ class DescribeWalletAddressVisitor : public boost::static_visitor<UniValue>\n             // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n             if (subobj.exists(\"pubkey\")) obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n             obj.pushKV(\"embedded\", std::move(subobj));\n-        } else if (which_type == TxoutType::MULTISIG) {\n-            // Also report some information on multisig scripts (which do not have a corresponding address).\n-            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+        } else if (find(enabled_methods.begin(), enabled_methods.end(), \"reqSigs\") != enabled_methods.end() &&\n+                   which_type == TxoutType::MULTISIG) {\n+            // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire else if statement should be removed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549062613",
      "id" : 549062613,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA2MjYxMw==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 3678,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 558902641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:48:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549062613",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549157343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549157343"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The first thing done in `ExtractDestination` is\r\n```c++\r\nstd::vector<valtype> vSolutions;\r\nwhichType = Solver(scriptPubKey, vSolutions);\r\n```\r\nso prior to this change, `Solver` code was duplicated and running twice.\r\n\r\nBy changing the order in the if statement from `include_address && ExtractDestination(script, address` => `ExtractDestination(script, type, address) && include_address` we are guaranteed to always have `type` set by `ExtractDestination`, and can get rid of the duplicated `Solver` code here.",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T19:54:10Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549157343",
      "id" : 549157343,
      "in_reply_to_id" : 547134259,
      "line" : 152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1NzM0Mw==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 152,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 15,
      "pull_request_review_id" : 558955433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549157343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549157752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549157752"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I changed the order here so that when the deprecation period is over, we just simply delete the `if (fIncludeDeprecated) {` branch. It also cleaned things up a bit as we don't need to push `out.pushKV(\"type\", GetTxnOutputType(type));` twice. The behavior is the same though",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T19:58:05Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));\n }\n \n-void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n {\n     TxoutType type;\n-    std::vector<CTxDestination> addresses;\n-    int nRequired;\n+    CTxDestination address;\n \n     out.pushKV(\"asm\", ScriptToAsmStr(scriptPubKey));\n     if (fIncludeHex)\n         out.pushKV(\"hex\", HexStr(scriptPubKey));\n \n-    if (!ExtractDestinations(scriptPubKey, type, addresses, nRequired) || type == TxoutType::PUBKEY) {\n-        out.pushKV(\"type\", GetTxnOutputType(type));\n-        return;\n+    // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire if statement should be removed\n+    if (IsDeprecatedRPCEnabled(\"reqSigs\")) { // cruft...\n+        std::vector<CTxDestination> addresses;\n+        int nRequired;\n+        if (ExtractDestinations(scriptPubKey, type, addresses, nRequired) && type != TxoutType::PUBKEY) {\n+            out.pushKV(\"reqSigs\", nRequired);\n+            UniValue a(UniValue::VARR);\n+            for (const CTxDestination& addr : addresses) {\n+                a.push_back(EncodeDestination(addr));\n+            }\n+            out.pushKV(\"addresses\", a);\n+        }\n     }\n-\n-    out.pushKV(\"reqSigs\", nRequired);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n-    UniValue a(UniValue::VARR);\n-    for (const CTxDestination& addr : addresses) {\n-        a.push_back(EncodeDestination(addr));\n+    if (ExtractDestination(scriptPubKey, type, address) && type != TxoutType::PUBKEY) {\n+        out.pushKV(\"address\", EncodeDestination(address));\n     }\n-    out.pushKV(\"addresses\", a);\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549157752",
      "id" : 549157752,
      "in_reply_to_id" : 547134887,
      "line" : 180,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1Nzc1Mg==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 180,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 58,
      "pull_request_review_id" : 558955620,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T19:58:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549157752",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549163136"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549163136"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was able to do this how you and @MarcoFalke suggested in this commit https://github.com/bitcoin/bitcoin/pull/20286/commits/dba1053a5e0c74e53ded3d42c3826373474ba805. However, I'm a little confused by what's going on in `rpcwallet.cpp`. I'm able to use `IsDeprecatedRPCEnabled` here when I build and test locally (macOS), and it seems some of the CI test runs pass. However, some of the CI runs throw a compile error in this case. Any ideas or suggestions on the approach I should take for `rpcwallet`?",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T20:58:54Z",
      "diff_hunk" : "@@ -3672,9 +3673,9 @@ class DescribeWalletAddressVisitor : public boost::static_visitor<UniValue>\n             // Always report the pubkey at the top level, so that `getnewaddress()['pubkey']` always works.\n             if (subobj.exists(\"pubkey\")) obj.pushKV(\"pubkey\", subobj[\"pubkey\"]);\n             obj.pushKV(\"embedded\", std::move(subobj));\n-        } else if (which_type == TxoutType::MULTISIG) {\n-            // Also report some information on multisig scripts (which do not have a corresponding address).\n-            // TODO: abstract out the common functionality between this logic and ExtractDestinations.\n+        } else if (find(enabled_methods.begin(), enabled_methods.end(), \"reqSigs\") != enabled_methods.end() &&",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549163136",
      "id" : 549163136,
      "in_reply_to_id" : 549062533,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE2MzEzNg==",
      "original_commit_id" : "45d411a13f798be8d48e87bc37f1c7b7db4cccc9",
      "original_line" : 3676,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 558958492,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T20:58:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549163136",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549163402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549163402"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Anyways, if you think this is a bad idea or doesn't belong in this PR, I have no problem undoing these changes and trying to stick to the original code as closely as possible - just lmk. Part of the reason I added some fuzz tests in this PR https://github.com/bitcoin/bitcoin/pull/20772 was to help build confidence since these two functions have to be touched in this PR either way",
      "commit_id" : "e03f2f0bbed32e77fb57f8e5d68c5fa9b989c7e3",
      "created_at" : "2020-12-27T21:02:44Z",
      "diff_hunk" : "@@ -141,40 +142,41 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     out.pushKV(\"asm\", ScriptToAsmStr(script));\n     out.pushKV(\"hex\", HexStr(script));\n \n-    std::vector<std::vector<unsigned char>> solns;\n-    TxoutType type = Solver(script, solns);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n+    TxoutType type;\n     CTxDestination address;\n-    if (include_address && ExtractDestination(script, address) && type != TxoutType::PUBKEY) {\n+\n+    if (ExtractDestination(script, type, address) && include_address && type != TxoutType::PUBKEY) {\n         out.pushKV(\"address\", EncodeDestination(address));\n     }\n+    out.pushKV(\"type\", GetTxnOutputType(type));\n }\n \n-void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n {\n     TxoutType type;\n-    std::vector<CTxDestination> addresses;\n-    int nRequired;\n+    CTxDestination address;\n \n     out.pushKV(\"asm\", ScriptToAsmStr(scriptPubKey));\n     if (fIncludeHex)\n         out.pushKV(\"hex\", HexStr(scriptPubKey));\n \n-    if (!ExtractDestinations(scriptPubKey, type, addresses, nRequired) || type == TxoutType::PUBKEY) {\n-        out.pushKV(\"type\", GetTxnOutputType(type));\n-        return;\n+    // TODO: from v0.22 (\"addresses\" and \"reqSigs\" deprecated) this entire if statement should be removed\n+    if (IsDeprecatedRPCEnabled(\"reqSigs\")) { // cruft...\n+        std::vector<CTxDestination> addresses;\n+        int nRequired;\n+        if (ExtractDestinations(scriptPubKey, type, addresses, nRequired) && type != TxoutType::PUBKEY) {\n+            out.pushKV(\"reqSigs\", nRequired);\n+            UniValue a(UniValue::VARR);\n+            for (const CTxDestination& addr : addresses) {\n+                a.push_back(EncodeDestination(addr));\n+            }\n+            out.pushKV(\"addresses\", a);\n+        }\n     }\n-\n-    out.pushKV(\"reqSigs\", nRequired);\n-    out.pushKV(\"type\", GetTxnOutputType(type));\n-\n-    UniValue a(UniValue::VARR);\n-    for (const CTxDestination& addr : addresses) {\n-        a.push_back(EncodeDestination(addr));\n+    if (ExtractDestination(scriptPubKey, type, address) && type != TxoutType::PUBKEY) {\n+        out.pushKV(\"address\", EncodeDestination(address));\n     }\n-    out.pushKV(\"addresses\", a);\n+    out.pushKV(\"type\", GetTxnOutputType(type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20286#discussion_r549163402",
      "id" : 549163402,
      "in_reply_to_id" : 547134887,
      "line" : 180,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE2MzQwMg==",
      "original_commit_id" : "d6932139c2688df5ce554a6b96d12356754b399e",
      "original_line" : 180,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 58,
      "pull_request_review_id" : 558958644,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20286",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-27T21:02:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/549163402",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7217256?v=4",
         "events_url" : "https://api.github.com/users/mjdietzx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mjdietzx/followers",
         "following_url" : "https://api.github.com/users/mjdietzx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mjdietzx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mjdietzx",
         "id" : 7217256,
         "login" : "mjdietzx",
         "node_id" : "MDQ6VXNlcjcyMTcyNTY=",
         "organizations_url" : "https://api.github.com/users/mjdietzx/orgs",
         "received_events_url" : "https://api.github.com/users/mjdietzx/received_events",
         "repos_url" : "https://api.github.com/users/mjdietzx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mjdietzx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mjdietzx"
      }
   }
]
