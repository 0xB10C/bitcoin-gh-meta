{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "While writing test coverage for #11413, it appears that RPC bumpfee with an explicit feerate using `conf_target` and `estimate_mode` errors with `JSONRPCException: JSON integer out of range (-1)`\r\n\r\n```diff\r\n+++ b/test/functional/wallet_bumpfee.py\r\n@@ -36,6 +36,8 @@ NORMAL       = 0.00100000\r\n+BTC_MODE = \"BTC/kB\"\r\n+SAT_MODE = \"sat/B\"\r\n \r\n class BumpFeeTest(BitcoinTestFramework):\r\n     def set_test_params(self):\r\n@@ -77,8 +79,8 @@ class BumpFeeTest(BitcoinTestFramework):\r\n         self.log.info(\"Running tests\")\r\n         dest_address = peer_node.getnewaddress()\r\n         self.test_invalid_parameters(rbf_node, dest_address)\r\n-        test_simple_bumpfee_succeeds(self, \"default\", rbf_node, peer_node, dest_address)\r\n-        test_simple_bumpfee_succeeds(self, \"fee_rate\", rbf_node, peer_node, dest_address)\r\n+        for mode in [\"default\", \"fee_rate\", BTC_MODE, SAT_MODE]:\r\n+            test_simple_bumpfee_succeeds(self, mode, rbf_node, peer_node, dest_address)\r\n         test_feerate_args(self, rbf_node, peer_node, dest_address)\r\n         test_segwit_bumpfee_succeeds(self, rbf_node, dest_address)\r\n         test_nonrbf_bumpfee_fails(self, peer_node, dest_address)\r\n@@ -132,6 +134,13 @@ def test_simple_bumpfee_succeeds(self, mode, rbf_node, peer_node, dest_address):\r\n     if mode == \"fee_rate\":\r\n         bumped_psbt = rbf_node.psbtbumpfee(rbfid, {\"fee_rate\": NORMAL})\r\n         bumped_tx = rbf_node.bumpfee(rbfid, {\"fee_rate\": NORMAL})\r\n+    elif mode == BTC_MODE:\r\n+        bumped_psbt = rbf_node.psbtbumpfee(rbfid, {\"conf_target\": NORMAL, \"estimate_mode\": BTC_MODE})\r\n+        bumped_tx = rbf_node.bumpfee(rbfid, {\"conf_target\": NORMAL, \"estimate_mode\": BTC_MODE})\r\n+    elif mode == SAT_MODE:\r\n+        fee = 1000\r\n+        bumped_psbt = rbf_node.psbtbumpfee(rbfid, {\"conf_target\": fee, \"estimate_mode\": SAT_MODE})\r\n+        bumped_tx = rbf_node.bumpfee(rbfid, {\"conf_target\": fee, \"estimate_mode\": SAT_MODE})\r\n     else:\r\n         bumped_psbt = rbf_node.psbtbumpfee(rbfid)\r\n```\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20219/comments",
   "created_at" : "2020-10-22T16:44:01Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20219/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/20219",
   "id" : 727553590,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20219/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU3Mjc1NTM1OTA=",
   "number" : 20219,
   "performed_via_github_app" : null,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "RPC bumpfee error with explicit feerate",
   "updated_at" : "2020-10-22T16:44:01Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20219",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   }
}
