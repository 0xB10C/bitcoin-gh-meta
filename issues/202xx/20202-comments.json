[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-10-20T16:39:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#issuecomment-712992671",
      "id" : 712992671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20202",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMjk5MjY3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-20T16:39:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712992671",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508679462"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508679462"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: s/functionality/support/",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T16:39:58Z",
      "diff_hunk" : "@@ -71,8 +78,12 @@ AC_DEFUN([BITCOIN_FIND_BDB48],[\n       ])\n     done\n     if test \"x$BDB_LIBS\" = \"x\"; then\n-        AC_MSG_ERROR([libdb_cxx missing, ]AC_PACKAGE_NAME[ requires this library for wallet functionality (--disable-wallet to disable wallet functionality)])\n+        AC_MSG_ERROR([libdb_cxx missing, ]AC_PACKAGE_NAME[ requires this library for BDB wallet functionality (--without-bdb to disable BDB wallet functionality)])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508679462",
      "id" : 508679462,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3OTQ2Mg==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 81,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "build-aux/m4/bitcoin_find_bdb48.m4",
      "position" : null,
      "pull_request_review_id" : 512930979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508679462",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508680108"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508680108"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If `--enable-wallet` is explicitly specified, this should AC_MSG_ERROR",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T16:40:59Z",
      "diff_hunk" : "@@ -1224,7 +1236,29 @@ if test x$enable_wallet != xno; then\n     fi\n \n     dnl Check for sqlite3\n-    PKG_CHECK_MODULES([SQLITE], [sqlite3 >= 3.7.17], , [AC_MSG_ERROR([sqlite3 not found.])])\n+    if test \"x$use_sqlite\" != \"xno\"; then\n+      PKG_CHECK_MODULES([SQLITE], [sqlite3 >= 3.7.17], [have_sqlite=yes], [have_sqlite=no])\n+    fi\n+    AC_MSG_CHECKING([whether to build wallet with support for sqlite])\n+    if test \"x$use_sqlite\" = \"xno\"; then\n+      use_sqlite=no\n+    elif test \"x$have_sqlite\" = \"xno\"; then\n+      if test \"x$use_sqlite\" = \"xyes\"; then\n+        AC_MSG_ERROR([sqlite support requested but cannot be built. Use --without-sqlite])\n+      fi\n+      use_sqlite=no\n+    else\n+      if test x$use_sqlite != xno; then\n+        AC_DEFINE([USE_SQLITE],[1],[Define if sqlite support should be compiled in])\n+        use_sqlite=yes\n+      fi\n+    fi\n+    AC_MSG_RESULT([$use_sqlite])\n+\n+    dnl Disable wallet if both --without-bdb and --without-sqlite\n+    if test \"x$use_bdb$use_sqlite\" = \"xnono\"; then\n+        enable_wallet=no",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508680108",
      "id" : 508680108,
      "line" : 1263,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY4MDEwOA==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 1263,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 50,
      "pull_request_review_id" : 512930979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508680108",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508681628"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508681628"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What does this do without BDB?",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T16:43:24Z",
      "diff_hunk" : "@@ -68,9 +71,12 @@ void WalletInit::AddWalletOptions(ArgsManager& argsman) const\n #endif\n     argsman.AddArg(\"-walletrbf\", strprintf(\"Send transactions with full-RBF opt-in enabled (RPC only, default: %u)\", DEFAULT_WALLET_RBF), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);\n \n+#ifdef USE_BDB\n     argsman.AddArg(\"-dblogsize=<n>\", strprintf(\"Flush wallet database activity from memory to disk log every <n> megabytes (default: %u)\", DEFAULT_WALLET_DBLOGSIZE), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n-    argsman.AddArg(\"-flushwallet\", strprintf(\"Run a thread to flush wallet periodically (default: %u)\", DEFAULT_FLUSHWALLET), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n     argsman.AddArg(\"-privdb\", strprintf(\"Sets the DB_PRIVATE flag in the wallet db environment (default: %u)\", DEFAULT_WALLET_PRIVDB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n+#endif\n+\n+    argsman.AddArg(\"-flushwallet\", strprintf(\"Run a thread to flush wallet periodically (default: %u)\", DEFAULT_FLUSHWALLET), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508681628",
      "id" : 508681628,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY4MTYyOA==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 79,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/init.cpp",
      "position" : null,
      "pull_request_review_id" : 512930979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508681628",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508682556"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508682556"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer to not compile the file at all...",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T16:44:51Z",
      "diff_hunk" : "@@ -6,10 +6,23 @@\n #include <fs.h>\n #include <streams.h>\n #include <util/translation.h>\n+#ifdef USE_BDB\n+#include <wallet/bdb.h>\n+#endif\n #include <wallet/salvage.h>\n #include <wallet/wallet.h>\n #include <wallet/walletdb.h>\n \n+#ifndef USE_BDB\n+// If BDB is not compiled, we don't have a salvage",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508682556",
      "id" : 508682556,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY4MjU1Ng==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 17,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/salvage.cpp",
      "position" : null,
      "pull_request_review_id" : 512930979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508682556",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508683743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508683743"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For a followup PR...\r\n\r\nShould we be testing with both mock dbs when bdb+sqlite are built?",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T16:46:30Z",
      "diff_hunk" : "@@ -1064,5 +1077,9 @@ std::unique_ptr<WalletDatabase> CreateDummyWalletDatabase()\n /** Return object for accessing temporary in-memory database. */\n std::unique_ptr<WalletDatabase> CreateMockWalletDatabase()\n {\n+#ifdef USE_BDB\n     return MakeUnique<BerkeleyDatabase>(std::make_shared<BerkeleyEnvironment>(), \"\");\n+#elif USE_SQLITE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508683743",
      "id" : 508683743,
      "line" : 1084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY4Mzc0Mw==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 1084,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 60,
      "pull_request_review_id" : 512930979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508683743",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721025"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T17:46:12Z",
      "diff_hunk" : "@@ -1224,7 +1236,29 @@ if test x$enable_wallet != xno; then\n     fi\n \n     dnl Check for sqlite3\n-    PKG_CHECK_MODULES([SQLITE], [sqlite3 >= 3.7.17], , [AC_MSG_ERROR([sqlite3 not found.])])\n+    if test \"x$use_sqlite\" != \"xno\"; then\n+      PKG_CHECK_MODULES([SQLITE], [sqlite3 >= 3.7.17], [have_sqlite=yes], [have_sqlite=no])\n+    fi\n+    AC_MSG_CHECKING([whether to build wallet with support for sqlite])\n+    if test \"x$use_sqlite\" = \"xno\"; then\n+      use_sqlite=no\n+    elif test \"x$have_sqlite\" = \"xno\"; then\n+      if test \"x$use_sqlite\" = \"xyes\"; then\n+        AC_MSG_ERROR([sqlite support requested but cannot be built. Use --without-sqlite])\n+      fi\n+      use_sqlite=no\n+    else\n+      if test x$use_sqlite != xno; then\n+        AC_DEFINE([USE_SQLITE],[1],[Define if sqlite support should be compiled in])\n+        use_sqlite=yes\n+      fi\n+    fi\n+    AC_MSG_RESULT([$use_sqlite])\n+\n+    dnl Disable wallet if both --without-bdb and --without-sqlite\n+    if test \"x$use_bdb$use_sqlite\" = \"xnono\"; then\n+        enable_wallet=no",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721025",
      "id" : 508721025,
      "in_reply_to_id" : 508680108,
      "line" : 1263,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMTAyNQ==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 1263,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 50,
      "pull_request_review_id" : 512984630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721025",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nothing, so I've also disabled it.",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T17:46:22Z",
      "diff_hunk" : "@@ -68,9 +71,12 @@ void WalletInit::AddWalletOptions(ArgsManager& argsman) const\n #endif\n     argsman.AddArg(\"-walletrbf\", strprintf(\"Send transactions with full-RBF opt-in enabled (RPC only, default: %u)\", DEFAULT_WALLET_RBF), ArgsManager::ALLOW_ANY, OptionsCategory::WALLET);\n \n+#ifdef USE_BDB\n     argsman.AddArg(\"-dblogsize=<n>\", strprintf(\"Flush wallet database activity from memory to disk log every <n> megabytes (default: %u)\", DEFAULT_WALLET_DBLOGSIZE), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n-    argsman.AddArg(\"-flushwallet\", strprintf(\"Run a thread to flush wallet periodically (default: %u)\", DEFAULT_FLUSHWALLET), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n     argsman.AddArg(\"-privdb\", strprintf(\"Sets the DB_PRIVATE flag in the wallet db environment (default: %u)\", DEFAULT_WALLET_PRIVDB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);\n+#endif\n+\n+    argsman.AddArg(\"-flushwallet\", strprintf(\"Run a thread to flush wallet periodically (default: %u)\", DEFAULT_FLUSHWALLET), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::WALLET_DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721115",
      "id" : 508721115,
      "in_reply_to_id" : 508681628,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMTExNQ==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 79,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/init.cpp",
      "position" : null,
      "pull_request_review_id" : 512984767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721115",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721173"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T17:46:27Z",
      "diff_hunk" : "@@ -6,10 +6,23 @@\n #include <fs.h>\n #include <streams.h>\n #include <util/translation.h>\n+#ifdef USE_BDB\n+#include <wallet/bdb.h>\n+#endif\n #include <wallet/salvage.h>\n #include <wallet/wallet.h>\n #include <wallet/walletdb.h>\n \n+#ifndef USE_BDB\n+// If BDB is not compiled, we don't have a salvage",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508721173",
      "id" : 508721173,
      "in_reply_to_id" : 508682556,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyMTE3Mw==",
      "original_commit_id" : "28457c4c00c34992483ce737ffe0c9bb30a4ba9f",
      "original_line" : 17,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/salvage.cpp",
      "position" : null,
      "pull_request_review_id" : 512984840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508721173",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508725844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508725844"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What happened to setChecked(false)?",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T17:53:53Z",
      "diff_hunk" : "@@ -34,6 +34,15 @@ CreateWalletDialog::CreateWalletDialog(QWidget* parent) :\n             ui->disable_privkeys_checkbox->setChecked(false);\n         }\n     });\n+\n+#ifndef USE_SQLITE\n+    ui->descriptor_checkbox->setToolTip(tr(\"Compiled without sqlite support (required for descriptor wallets)\"));\n+    ui->descriptor_checkbox->setEnabled(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508725844",
      "id" : 508725844,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODcyNTg0NA==",
      "original_commit_id" : "e4a48dfe9d15ccd572962ea23f36100d0a825c33",
      "original_line" : 40,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/qt/createwalletdialog.cpp",
      "position" : 7,
      "pull_request_review_id" : 512990738,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508725844",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508733830"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508733830"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Was based on yesterday's version of #20156. Rebased again.",
      "commit_id" : "bb93bf607b9d83218cff562e54f6bd00505c3ec7",
      "created_at" : "2020-10-20T18:06:28Z",
      "diff_hunk" : "@@ -34,6 +34,15 @@ CreateWalletDialog::CreateWalletDialog(QWidget* parent) :\n             ui->disable_privkeys_checkbox->setChecked(false);\n         }\n     });\n+\n+#ifndef USE_SQLITE\n+    ui->descriptor_checkbox->setToolTip(tr(\"Compiled without sqlite support (required for descriptor wallets)\"));\n+    ui->descriptor_checkbox->setEnabled(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20202#discussion_r508733830",
      "id" : 508733830,
      "in_reply_to_id" : 508725844,
      "line" : 40,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODczMzgzMA==",
      "original_commit_id" : "e4a48dfe9d15ccd572962ea23f36100d0a825c33",
      "original_line" : 40,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/qt/createwalletdialog.cpp",
      "position" : 7,
      "pull_request_review_id" : 513000808,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20202",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-20T18:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/508733830",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
