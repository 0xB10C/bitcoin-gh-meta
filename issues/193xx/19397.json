{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This commit picks up #17335 to add an updated version of a test by Suhas Daftuar in issue #5806 to demonstrate an issue involving `invalidateblock`.\r\n\r\nAs Suhas reported: *\"the first 16 will make it, because of the call to getdata on processing each inv, which occurs until we've maxed out the number of blocks in flight to that peer.\"*\r\n\r\nHere we test that after running `invalidateblock`, nodes will resync to a new lower chain tip, but AFAICT, for the non-generating node only (or only reliably) up to the number of blocks equal to the value (16) of `MAX_BLOCKS_IN_TRANSIT_PER_PEER` in validation.h.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19397/comments",
   "created_at" : "2020-06-27T16:15:35Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19397/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/19397",
   "id" : 646710084,
   "labels" : [
      {
         "color" : "d4c5f9",
         "default" : false,
         "description" : null,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19397/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDQwOTMxNDY5",
   "number" : 19397,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/19397.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19397",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/19397.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19397"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "test: resyncing to tip of blocks generated after invalidateblock",
   "updated_at" : "2020-06-27T16:49:05Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19397",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
      "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonatack/followers",
      "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonatack",
      "id" : 2415484,
      "login" : "jonatack",
      "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
      "organizations_url" : "https://api.github.com/users/jonatack/orgs",
      "received_events_url" : "https://api.github.com/users/jonatack/received_events",
      "repos_url" : "https://api.github.com/users/jonatack/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonatack"
   }
}
