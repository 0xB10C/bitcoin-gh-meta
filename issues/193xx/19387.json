{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Replaces #19382 with a different approach. See [this comment](https://github.com/bitcoin/bitcoin/pull/19382#discussion_r446332852) for the reasoning behind the switch.\r\n\r\n-- \r\n\r\nDescription from #19382:\r\n\r\nSee [here](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0936r0.pdf) for more detail on lifetimebound.\r\n\r\nThis is implemented using preprocesor macros rather than configure checks in order to keep span.h self-contained.\r\n\r\nThe ```[[clang::lifetimebound]]``` syntax was chosen over ```__attribute__((lifetimebound))``` because the former is more flexible and works to guard ```this``` as well as function parameters, and also because at least for now, it's available only in clang.\r\n\r\nThere are currently no violations in our codebase, but this can easily be tested by inserting one like this somewhere and compiling with a modern clang:\r\n```c++\r\nSpan<const int> bad(std::vector<int>{1,2,3});\r\n```\r\n\r\nThe result:\r\n> warning: temporary whose address is used as value of local variable 'bad' will be destroyed at the end of the full-expression [-Wdangling]\r\n    Span<const int> bad(std::vector<int>{1,2,3});\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19387/comments",
   "created_at" : "2020-06-26T18:24:02Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19387/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/19387",
   "id" : 646436225,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19387/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDQwNzI1NzU3",
   "number" : 19387,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/19387.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19387",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/19387.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19387"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "span: update constructors to match c++20 draft spec and add lifetimebound attribute",
   "updated_at" : "2020-06-26T18:43:33Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19387",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
      "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
      "followers_url" : "https://api.github.com/users/theuni/followers",
      "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/theuni",
      "id" : 417043,
      "login" : "theuni",
      "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
      "organizations_url" : "https://api.github.com/users/theuni/orgs",
      "received_events_url" : "https://api.github.com/users/theuni/received_events",
      "repos_url" : "https://api.github.com/users/theuni/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/theuni"
   }
}
