[
   {
      "body" : "Concept ACK, thanks for doing this!\r\n",
      "created_at" : "2016-08-25T08:20:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-242313821",
      "id" : 242313821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-08-25T08:20:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242313821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@daira This is probably interesting to you as well.\n\nThe reason for this alternative is that @laanwj pointed out that #8451 is a step in the wrong direction if we want a more encapsulated CTransaction (which perhaps no longer uses the same representation, but uses a single-malloced block of data for example).",
      "created_at" : "2016-08-25T09:14:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-242326076",
      "id" : 242326076,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-08-25T09:19:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242326076",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r76509386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76509386"
         }
      },
      "body" : "This ignores witness data. Is that intentional?\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-08-27T03:35:24Z",
      "diff_hunk" : "@@ -455,10 +457,20 @@ struct CMutableTransaction\n         SerializeTransaction(*this, s, ser_action, nType, nVersion);\n     }\n \n+    template <typename Stream>\n+    CMutableTransaction(Stream& s, int nType, int nVersion) {\n+        ::Unserialize(s, *this, nType, nVersion);\n+    }\n+\n     /** Compute the hash of this CMutableTransaction. This is computed on the\n      * fly, as opposed to GetHash() in CTransaction, which uses a cached result.\n      */\n     uint256 GetHash() const;\n+\n+    friend bool operator==(const CMutableTransaction& a, const CMutableTransaction& b)\n+    {\n+        return a.GetHash() == b.GetHash();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r76509386",
      "id" : 76509386,
      "original_commit_id" : "870833d120e9b17e88e6b0cbcdaf734c643b4148",
      "original_position" : 70,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76509386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr: No, but it's what the old code did as well (it automatically converted the CMutableTransactions to CTransaction, and then invoked its operator== which only compares the hashes).",
      "created_at" : "2016-08-27T16:45:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-242927693",
      "id" : 242927693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-08-27T16:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242927693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> This PR implements the latter - which I believe to be well-defined but very ugly. Suggestions or rants welcome.\r\n\r\nMy understanding was that even this hack is [illegal and UB](https://stackoverflow.com/questions/12908398/can-placement-new-and-vectordata-be-used-to-replace-elements-in-a-vector).\r\nAnother [good explanation of the edge cases and reasons against this](https://stackoverflow.com/questions/4136156/const-member-and-assigment-operator-how-to-avoid-the-ub).\r\nThe triviality of causing UB,  even with extreme caution is probably not acceptable,  especially for miners who could potentially lose out on their reward.\r\n\r\nAs for an alternative solution,  I don't see one beyond the mass-copy at this point, but I'm having a look around.\r\n\r\nThe underlying conflict is assignment and `const`... you usually can't have both without doing something illegal... (in C++)",
      "created_at" : "2016-08-29T00:59:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-243011281",
      "id" : 243011281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-08-29T07:38:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243011281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@dcousens Thanks. I will switch to a less efficient mechanism.\n",
      "created_at" : "2016-08-29T07:32:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-243052533",
      "id" : 243052533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-08-29T07:32:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/243052533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "S&M request: please rebase pain ;-)",
      "created_at" : "2016-09-15T08:00:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-247262653",
      "id" : 247262653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-15T08:00:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247262653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2016-09-19T11:15:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-247966715",
      "id" : 247966715,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-19T11:15:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247966715",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Would it be possible to simply change the representation of a block so the first transaction is handled separately? Perhaps even building up the hashtree so updating the root doesn't require recomputing everything?",
      "created_at" : "2016-09-23T17:29:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-249253589",
      "id" : 249253589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-23T17:29:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249253589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "As a follow-up I just plan to turn CBlock::vtx into a vector of\nshared_ptr's. That way we can more easily construct blocks from the\nmempool, more easily readd disconnected transactions back to the mempool,\nand don't need all this hackery to update the coinbase.\n",
      "created_at" : "2016-09-23T17:32:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-249254325",
      "id" : 249254325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-23T17:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249254325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Concept ACK.",
      "created_at" : "2016-09-23T19:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-249282002",
      "id" : 249282002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-23T19:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249282002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2016-09-24T12:39:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-249362805",
      "id" : 249362805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-09-24T12:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/249362805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2016-10-02T23:46:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-251004497",
      "id" : 251004497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-10-02T23:46:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251004497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2016-10-21T19:40:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-255448553",
      "id" : 255448553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-10-21T19:40:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/255448553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85583860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85583860"
         }
      },
      "body" : "make CSerActionSerialize::ForRead() and CSerActionUnserialize::ForRead() constexpr, then you can static_assert at build-time instead.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T18:21:16Z",
      "diff_hunk" : "@@ -376,22 +372,29 @@ class CTransaction\n     CTxWitness wit; // Not const: can change without invalidating the txid cache\n     const uint32_t nLockTime;\n \n+private:\n+    /** Memory only. */\n+    const uint256 hash;\n+\n+    uint256 ComputeHash() const;\n+\n+public:\n     /** Construct a CTransaction that qualifies as IsNull() */\n     CTransaction();\n \n     /** Convert a CMutableTransaction into a CTransaction. */\n     CTransaction(const CMutableTransaction &tx);\n-\n-    CTransaction& operator=(const CTransaction& tx);\n+    CTransaction(CMutableTransaction &&tx);\n \n     ADD_SERIALIZE_METHODS;\n \n+    template <typename Stream>\n+    CTransaction(Stream& s, int nType, int nVersion) : CTransaction(CMutableTransaction(s, nType, nVersion)) {}\n+\n     template <typename Stream, typename Operation>\n     inline void SerializationOp(Stream& s, Operation ser_action, int nType, int nVersion) {\n+        assert(!ser_action.ForRead()); /* Cannot deserialize CTransaction directly, as it has const fields */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85583860",
      "id" : 85583860,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 38,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 6293878,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85583860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85593812"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85593812"
         }
      },
      "body" : "nit: lol, can we get a real variable name here?\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:17:05Z",
      "diff_hunk" : "@@ -173,16 +182,32 @@ class CBlockHeaderAndShortTxIDs {\n                     static_assert(SHORTTXIDS_LENGTH == 6, \"shorttxids serialization assumes 6-byte shorttxids\");\n                 }\n             }\n+\n+            uint64_t nptx;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85593812",
      "id" : 85593812,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 91,
      "path" : "src/blockencodings.h",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85593812",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85595237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85595237"
         }
      },
      "body" : "Nit: could accept a unique_ptr&& so the API documents the ownership semantics\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:26:33Z",
      "diff_hunk" : "@@ -29,9 +27,15 @@ QList<SendCoinsRecipient> WalletModelTransaction::getRecipients()\n \n CWalletTx *WalletModelTransaction::getTransaction()\n {\n-    return walletTransaction;\n+    return walletTransaction.get();\n }\n \n+void WalletModelTransaction::setTransaction(CWalletTx* tx)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85595237",
      "id" : 85595237,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 27,
      "path" : "src/qt/walletmodeltransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 6304822,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85595237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85595901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85595901"
         }
      },
      "body" : "Can you make this a define based on the other block size limits and min transaction size isntead of making it unexplained magic?\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:30:29Z",
      "diff_hunk" : "@@ -10,6 +10,8 @@\n #include \"serialize.h\"\n #include \"uint256.h\"\n \n+#define MAX_BLOCK_TRANSACTIONS 16665",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85595901",
      "id" : 85595901,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 4,
      "path" : "src/primitives/block.h",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85595901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85598579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85598579"
         }
      },
      "body" : "Can't you std::move here? That object is not used anywhere hereafter, except to be destructed.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:48:38Z",
      "diff_hunk" : "@@ -3511,10 +3511,19 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n             out.scriptPubKey[5] = 0xed;\n             memcpy(&out.scriptPubKey[6], witnessroot.begin(), 32);\n             commitment = std::vector<unsigned char>(out.scriptPubKey.begin(), out.scriptPubKey.end());\n-            const_cast<std::vector<CTxOut>*>(&block.vtx[0].vout)->push_back(out);\n-            block.vtx[0].UpdateHash();\n+            mcoinbase.vout.emplace_back(std::move(out));\n         }\n     }\n+\n+    // We need a full copy of vtx to modify the coinbase.\n+    std::vector<CTransaction> vtx;\n+    vtx.reserve(block.vtx.size());\n+    vtx.emplace_back(std::move(mcoinbase));\n+    for (size_t i = 1; i < block.vtx.size(); i++) {\n+        vtx.emplace_back(block.vtx[i]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85598579",
      "id" : 85598579,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 33,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85598579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85599223"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85599223"
         }
      },
      "body" : "It seems like you're making a needless copy here? Why not just\nCTransaction tx(vRecv, vRecv.nType, vRecv.nVersion) (or, better yet, make a new constructor which knows how to pull out nType and nVersion).\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:52:56Z",
      "diff_hunk" : "@@ -5530,8 +5539,7 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n         deque<COutPoint> vWorkQueue;\n         vector<uint256> vEraseQueue;\n-        CTransaction tx;\n-        vRecv >> tx;\n+        CTransaction tx = vRecv.Construct<CTransaction>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85599223",
      "id" : 85599223,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 55,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85599223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85599247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85599247"
         }
      },
      "body" : "I think you can move here, too.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T19:53:08Z",
      "diff_hunk" : "@@ -603,6 +602,14 @@ void IncrementExtraNonce(CBlock* pblock, const CBlockIndex* pindexPrev, unsigned\n     txCoinbase.vin[0].scriptSig = (CScript() << nHeight << CScriptNum(nExtraNonce)) + COINBASE_FLAGS;\n     assert(txCoinbase.vin[0].scriptSig.size() <= 100);\n \n-    pblock->vtx[0] = txCoinbase;\n+    // We need a full copy of vtx to modify the coinbase.\n+    std::vector<CTransaction> vtx;\n+    vtx.reserve(pblock->vtx.size());\n+    vtx.emplace_back(std::move(txCoinbase));\n+    for (size_t i = 1; i < pblock->vtx.size(); i++) {\n+        vtx.emplace_back(pblock->vtx[i]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85599247",
      "id" : 85599247,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 20,
      "path" : "src/miner.cpp",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85599247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85606084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85606084"
         }
      },
      "body" : "Same here: needless copy sucks.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T20:38:37Z",
      "diff_hunk" : "@@ -75,8 +81,7 @@ static int verify_script(const unsigned char *scriptPubKey, unsigned int scriptP\n {\n     try {\n         TxInputStream stream(SER_NETWORK, PROTOCOL_VERSION, txTo, txToLen);\n-        CTransaction tx;\n-        stream >> tx;\n+        CTransaction tx = stream.Construct<CTransaction>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85606084",
      "id" : 85606084,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 19,
      "path" : "src/script/bitcoinconsensus.cpp",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85606084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85608383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85608383"
         }
      },
      "body" : "moved here, used below\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T20:53:00Z",
      "diff_hunk" : "@@ -2422,7 +2420,9 @@ bool CWallet::CreateTransaction(const vector<CRecipient>& vecSend, CWalletTx& wt\n                 }\n \n                 // Embed the constructed transaction data in wtxNew.\n-                *static_cast<CTransaction*>(&wtxNew) = CTransaction(txNew);\n+                wtxNew.reset(new CWalletTx(this, CTransaction(std::move(txNew))));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85608383",
      "id" : 85608383,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 62,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 6304822,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85608383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1047859?v=3",
         "events_url" : "https://api.github.com/users/kazcw/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kazcw/followers",
         "following_url" : "https://api.github.com/users/kazcw/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kazcw/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kazcw",
         "id" : 1047859,
         "login" : "kazcw",
         "organizations_url" : "https://api.github.com/users/kazcw/orgs",
         "received_events_url" : "https://api.github.com/users/kazcw/received_events",
         "repos_url" : "https://api.github.com/users/kazcw/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kazcw/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kazcw"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85608862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85608862"
         }
      },
      "body" : "I really dont like adding methods here that we just assert(false) on...would prefer to just call the constructor directly instead.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T20:55:48Z",
      "diff_hunk" : "@@ -958,6 +958,25 @@ class CSizeComputer\n     size_t size() const {\n         return nSize;\n     }\n+\n+    /** Unimplemented, but needed inside unused SerializeOp deserialization branches */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85608862",
      "id" : 85608862,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 5,
      "path" : "src/serialize.h",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85608862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85609261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85609261"
         }
      },
      "body" : "Tiny nit: can you move this down to right above SendMoney, so its clear that its not init'd until then 9and in the next two functions as well)\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T20:58:50Z",
      "diff_hunk" : "@@ -410,21 +413,23 @@ UniValue sendtoaddress(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_TYPE_ERROR, \"Invalid amount for send\");\n \n     // Wallet comments\n-    CWalletTx wtx;\n-    if (request.params.size() > 2 && !request.params[2].isNull() && !request.params[2].get_str().empty())\n-        wtx.mapValue[\"comment\"] = request.params[2].get_str();\n-    if (request.params.size() > 3 && !request.params[3].isNull() && !request.params[3].get_str().empty())\n-        wtx.mapValue[\"to\"]      = request.params[3].get_str();\n+    std::unique_ptr<CWalletTx> wtx;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85609261",
      "id" : 85609261,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 30,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85609261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85610849"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85610849"
         }
      },
      "body" : "Might as well make the line above this an assert as well (and remove this line)\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-28T21:09:47Z",
      "diff_hunk" : "@@ -319,15 +349,10 @@ class CWalletTx : public CMerkleTx\n             Init(NULL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85610849",
      "id" : 85610849,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 45,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 6303406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85610849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I'd like to first get #9039 reviewed, as that would remove the need for the Construct method in streams (and thus allowing to construct an object directly by passing a stream into its constructor).",
      "created_at" : "2016-10-29T23:43:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-257122605",
      "id" : 257122605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-10-29T23:43:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257122605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Agreed, let's do #9039 first.\n\nOn October 29, 2016 7:43:16 PM EDT, Pieter Wuille <notifications@github.com> wrote:\n>I'd like to first get #9039 reviewed, as that would remove the need for\n>the Construct method in streams (and thus allowing to construct an\n>object directly by passing a stream into its constructor).\n>\n>-- \n>You are receiving this because you commented.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-257122605\n",
      "created_at" : "2016-10-29T23:44:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-257122633",
      "id" : 257122633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-10-29T23:44:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/257122633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650371"
         }
      },
      "body" : "If CTransaction is entirely immutable, a move constructor would just be identical to a copy constructor, so no need. We could leave a move constructor that only moves the (mutable) witness field, but that would get more complicated with #8589 (which moves the witness data inside CTxIn). I think a better (but follow-up) change would be changing CBlock::vtx to a `std::vector<std::shared_ptr<CTransaction>>`.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-29T23:47:02Z",
      "diff_hunk" : "@@ -3511,10 +3511,19 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n             out.scriptPubKey[5] = 0xed;\n             memcpy(&out.scriptPubKey[6], witnessroot.begin(), 32);\n             commitment = std::vector<unsigned char>(out.scriptPubKey.begin(), out.scriptPubKey.end());\n-            const_cast<std::vector<CTxOut>*>(&block.vtx[0].vout)->push_back(out);\n-            block.vtx[0].UpdateHash();\n+            mcoinbase.vout.emplace_back(std::move(out));\n         }\n     }\n+\n+    // We need a full copy of vtx to modify the coinbase.\n+    std::vector<CTransaction> vtx;\n+    vtx.reserve(block.vtx.size());\n+    vtx.emplace_back(std::move(mcoinbase));\n+    for (size_t i = 1; i < block.vtx.size(); i++) {\n+        vtx.emplace_back(block.vtx[i]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650371",
      "id" : 85650371,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 33,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : 6355861,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650377"
         }
      },
      "body" : "See #9039.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-29T23:47:43Z",
      "diff_hunk" : "@@ -5530,8 +5539,7 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n         deque<COutPoint> vWorkQueue;\n         vector<uint256> vEraseQueue;\n-        CTransaction tx;\n-        vRecv >> tx;\n+        CTransaction tx = vRecv.Construct<CTransaction>();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650377",
      "id" : 85650377,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 55,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_review_id" : 6355864,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650386"
         }
      },
      "body" : "See #9039 (though I think after that, we won't actually need this unimplemented branch anymore).\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-10-29T23:49:26Z",
      "diff_hunk" : "@@ -376,22 +372,29 @@ class CTransaction\n     CTxWitness wit; // Not const: can change without invalidating the txid cache\n     const uint32_t nLockTime;\n \n+private:\n+    /** Memory only. */\n+    const uint256 hash;\n+\n+    uint256 ComputeHash() const;\n+\n+public:\n     /** Construct a CTransaction that qualifies as IsNull() */\n     CTransaction();\n \n     /** Convert a CMutableTransaction into a CTransaction. */\n     CTransaction(const CMutableTransaction &tx);\n-\n-    CTransaction& operator=(const CTransaction& tx);\n+    CTransaction(CMutableTransaction &&tx);\n \n     ADD_SERIALIZE_METHODS;\n \n+    template <typename Stream>\n+    CTransaction(Stream& s, int nType, int nVersion) : CTransaction(CMutableTransaction(s, nType, nVersion)) {}\n+\n     template <typename Stream, typename Operation>\n     inline void SerializationOp(Stream& s, Operation ser_action, int nType, int nVersion) {\n+        assert(!ser_action.ForRead()); /* Cannot deserialize CTransaction directly, as it has const fields */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r85650386",
      "id" : 85650386,
      "original_commit_id" : "1c02fde3a63a4b8d17686c0a852979a9c3abec02",
      "original_position" : 38,
      "path" : "src/primitives/transaction.h",
      "position" : null,
      "pull_request_review_id" : 6355870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/85650386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased on top of #9125, using a more efficent approach that turns more CTransactions into shared_ptrs (see updated PR description).\r\n\r\nThis invalidates any earlier review, sorry.",
      "created_at" : "2016-11-13T01:33:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-260160521",
      "id" : 260160521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-11-13T01:38:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260160521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88551255"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88551255"
         }
      },
      "body" : "unneeded?\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-17T21:33:51Z",
      "diff_hunk" : "@@ -642,10 +642,12 @@ static int CommandLineRawTx(int argc, char* argv[])\n                 throw runtime_error(\"invalid transaction encoding\");\n \n             startArg = 2;\n-        } else\n+        } else {\n+            txDecodeTmp = MakeTransactionRef();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88551255",
      "id" : 88551255,
      "original_commit_id" : "f630f2ee0de07c1d7b605acb7822478939b6aae6",
      "original_position" : 15,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 15,
      "pull_request_review_id" : 9122837,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88551255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88581370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88581370"
         }
      },
      "body" : "Where is this operator used? CTransactionRef tx is public.\nMaybe a getter and making it protected would be better?\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T00:58:05Z",
      "diff_hunk" : "@@ -177,28 +178,33 @@ class CMerkleTx : public CTransaction\n      */\n     int nIndex;\n \n-    CMerkleTx()\n+    template<typename... Args>\n+    CMerkleTx(Args&&... args)\n     {\n+        SetTx(std::forward<Args>(args)...);\n         Init();\n     }\n \n-    CMerkleTx(const CTransaction& txIn) : CTransaction(txIn)\n-    {\n-        Init();\n-    }\n+    operator const CTransaction&() const { return *tx; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88581370",
      "id" : 88581370,
      "original_commit_id" : "c1955323ad9135d8e845a885063eb608c250beb3",
      "original_position" : 32,
      "path" : "src/wallet/wallet.h",
      "position" : 32,
      "pull_request_review_id" : 9152005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88581370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88581548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88581548"
         }
      },
      "body" : "This is an implicit conversion operator. It allows you to pass a CWalletTx in any place where a 'const CTransaction&' is expected. I can avoid it by changing a number of extra lines.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T00:59:58Z",
      "diff_hunk" : "@@ -177,28 +178,33 @@ class CMerkleTx : public CTransaction\n      */\n     int nIndex;\n \n-    CMerkleTx()\n+    template<typename... Args>\n+    CMerkleTx(Args&&... args)\n     {\n+        SetTx(std::forward<Args>(args)...);\n         Init();\n     }\n \n-    CMerkleTx(const CTransaction& txIn) : CTransaction(txIn)\n-    {\n-        Init();\n-    }\n+    operator const CTransaction&() const { return *tx; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88581548",
      "id" : 88581548,
      "original_commit_id" : "c1955323ad9135d8e845a885063eb608c250beb3",
      "original_position" : 32,
      "path" : "src/wallet/wallet.h",
      "position" : 32,
      "pull_request_review_id" : 9152176,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88581548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88582257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88582257"
         }
      },
      "body" : "Nope, without it, `bitocin-tx -create` segfaults.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T01:05:46Z",
      "diff_hunk" : "@@ -642,10 +642,12 @@ static int CommandLineRawTx(int argc, char* argv[])\n                 throw runtime_error(\"invalid transaction encoding\");\n \n             startArg = 2;\n-        } else\n+        } else {\n+            txDecodeTmp = MakeTransactionRef();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88582257",
      "id" : 88582257,
      "original_commit_id" : "f630f2ee0de07c1d7b605acb7822478939b6aae6",
      "original_position" : 15,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 15,
      "pull_request_review_id" : 9152833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88582257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88584661"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88584661"
         }
      },
      "body" : "oh, I see, it's just to avoid extra disruption. I would prefer it gone, yes. But it doesn't need to be in this PR. Thoughts on the getter instead of a tx being public? Changing that shouldn't extra disruption. I guess this can be done later too, but it's \"free\" now disruption-wise.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T01:27:42Z",
      "diff_hunk" : "@@ -177,28 +178,33 @@ class CMerkleTx : public CTransaction\n      */\n     int nIndex;\n \n-    CMerkleTx()\n+    template<typename... Args>\n+    CMerkleTx(Args&&... args)\n     {\n+        SetTx(std::forward<Args>(args)...);\n         Init();\n     }\n \n-    CMerkleTx(const CTransaction& txIn) : CTransaction(txIn)\n-    {\n-        Init();\n-    }\n+    operator const CTransaction&() const { return *tx; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88584661",
      "id" : 88584661,
      "original_commit_id" : "c1955323ad9135d8e845a885063eb608c250beb3",
      "original_position" : 32,
      "path" : "src/wallet/wallet.h",
      "position" : 32,
      "pull_request_review_id" : 9155041,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88584661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88585691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88585691"
         }
      },
      "body" : "Perhaps this could be turned into doxygen documentation for the deserializer constructor. ie \"This constructor is provided instead of a deserialize method since the latter requires violating the const nature of most fields in CTransaction\" or something of the sort. \n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T01:38:58Z",
      "diff_hunk" : "@@ -374,25 +382,27 @@ class CTransaction\n     CTxWitness wit; // Not const: can change without invalidating the txid cache\n     const uint32_t nLockTime;\n \n+private:\n+    /** Memory only. */\n+    const uint256 hash;\n+\n+    uint256 ComputeHash() const;\n+\n+public:\n     /** Construct a CTransaction that qualifies as IsNull() */\n     CTransaction();\n \n     /** Convert a CMutableTransaction into a CTransaction. */\n     CTransaction(const CMutableTransaction &tx);\n     CTransaction(CMutableTransaction &&tx);\n \n-    CTransaction& operator=(const CTransaction& tx);\n-\n-    ADD_SERIALIZE_METHODS;\n-\n-    template <typename Stream, typename Operation>\n-    inline void SerializationOp(Stream& s, Operation ser_action) {\n-        SerializeTransaction(*this, s, ser_action);\n-        if (ser_action.ForRead()) {\n-            UpdateHash();\n-        }\n+    template <typename Stream>\n+    inline void Serialize(Stream& s) const {\n+        SerializeTransaction(*this, s);\n     }\n \n+    /* No Unserialize method. Use the deserializing constructor below instead. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88585691",
      "id" : 88585691,
      "original_commit_id" : "63296e690a0805bc6501d69d100add8c0abdeb3c",
      "original_position" : 167,
      "path" : "src/primitives/transaction.h",
      "position" : 167,
      "pull_request_review_id" : 9156005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88585691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK c1955323ad9135d8e845a885063eb608c250beb3 \r\nleft-UnserializeTransaction-separation-from-SerializeTransaction-for-another-day utACK  63296e690a0805bc6501d69d100add8c0abdeb3c",
      "created_at" : "2016-11-18T01:50:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-261426628",
      "id" : 261426628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-11-18T01:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/261426628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88631885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88631885"
         }
      },
      "body" : "Whoops, I see. Initializing txDecodeTmp above (line 628) with a nullptr might make it more obvious to a casual reader that this points to nowhere initially (though you'd think the \"Ref\" part would've given it away...). No big deal though.\n",
      "commit_id" : "db4783e1774fd64c09e826b7bf4e851fa0195f8e",
      "created_at" : "2016-11-18T10:22:03Z",
      "diff_hunk" : "@@ -642,10 +642,12 @@ static int CommandLineRawTx(int argc, char* argv[])\n                 throw runtime_error(\"invalid transaction encoding\");\n \n             startArg = 2;\n-        } else\n+        } else {\n+            txDecodeTmp = MakeTransactionRef();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#discussion_r88631885",
      "id" : 88631885,
      "original_commit_id" : "f630f2ee0de07c1d7b605acb7822478939b6aae6",
      "original_position" : 15,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 15,
      "pull_request_review_id" : 9199894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8580",
      "updated_at" : "2016-11-22T19:08:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/88631885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2016-11-22T19:08:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-262334910",
      "id" : 262334910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-11-22T19:08:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/262334910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "tested ACK! (you might want to rebase, it applies with a bit of fuzz)",
      "created_at" : "2016-11-25T20:10:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8580#issuecomment-263017714",
      "id" : 263017714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8580",
      "updated_at" : "2016-11-25T20:10:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263017714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
