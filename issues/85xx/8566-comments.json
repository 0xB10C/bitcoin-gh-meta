[
   {
      "body" : "Nice!\r\nConcept ACK.",
      "created_at" : "2016-08-24T06:39:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-241971324",
      "id" : 241971324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-24T06:39:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/241971324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Comment spelling/grammar nits:\r\n\r\ns/OtherBasic/Other basic/ \r\ns/Debian based/Debian-based/\r\ns/arguement/argument/\r\ns/# Window/# Windows/\r\ns/# Sign Sindows/# Sign Windows/",
      "created_at" : "2016-08-25T02:30:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242265201",
      "id" : 242265201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T02:30:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242265201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20916903?v=3",
         "events_url" : "https://api.github.com/users/isle2983/events{/privacy}",
         "followers_url" : "https://api.github.com/users/isle2983/followers",
         "following_url" : "https://api.github.com/users/isle2983/following{/other_user}",
         "gists_url" : "https://api.github.com/users/isle2983/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/isle2983",
         "id" : 20916903,
         "login" : "isle2983",
         "organizations_url" : "https://api.github.com/users/isle2983/orgs",
         "received_events_url" : "https://api.github.com/users/isle2983/received_events",
         "repos_url" : "https://api.github.com/users/isle2983/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/isle2983/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/isle2983/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/isle2983"
      }
   },
   {
      "body" : "Nits addressed",
      "created_at" : "2016-08-25T03:04:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242269230",
      "id" : 242269230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T03:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242269230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Concept ACK, haven't tested",
      "created_at" : "2016-08-25T08:43:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242318860",
      "id" : 242318860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T08:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242318860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK, I'm testing this out.",
      "created_at" : "2016-08-25T09:59:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242337054",
      "id" : 242337054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T09:59:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242337054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "One feature I've always wanted (but never bothered to add to my own build scripts) is detached signing: I don't want my GPG key on the build machine. However, if you don't use gsign, the assert file is overwritten for every build. So if possible I'd like to have a means to just copy the assert file to the right location in gitian.sigs, but without adding the gpg signature yet.",
      "created_at" : "2016-08-25T10:17:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242341072",
      "id" : 242341072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T10:17:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242341072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224004"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224004"
         }
      },
      "body" : "This should default to lxc because it is the default according to the instructions we ship.",
      "commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "created_at" : "2016-08-25T11:12:05Z",
      "diff_hunk" : "@@ -0,0 +1,350 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: gitian-build.sh [-c|u|v|b|s|B|o|h|j|m|] signer version\n+\n+Run this script from the directory containing the bitcoin, gitian-builder, gitian.sigs, and bitcoin-detached-sigs.\n+\n+Arguments:\n+signer          GPG signer to sign each build assert file\n+version\t\tVersion number, commit, or branch to build. If building a commit or branch, the -c option must be specified\n+\n+Options:\n+-c|--commit\tIndicate that the version argument is for a commit or branch\n+-u|--url\tSpecify the URL of the repository. Default is https://github.com/bitcoin/bitcoin\n+-v|--verify \tVerify the gitian build\n+-b|--build\tDo a gitiain build\n+-s|--sign\tMake signed binaries for Windows and Mac OSX\n+-B|--buildsign\tBuild both signed and unsigned binaries\n+-o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n+-j\t\tNumber of processes to use. Default 4\n+-m\t\tMemory to allocate in MiB. Default 2000\n+--lxc           Use LXC instead of KVM\n+--setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224004",
      "id" : 76224004,
      "original_commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "original_position" : 41,
      "path" : "contrib/gitian-build.sh",
      "position" : 41,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566",
      "updated_at" : "2016-08-25T11:12:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224923"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224923"
         }
      },
      "body" : "if signer is missing you should display the usage\r\n\r\nfor example the `ln` command spits out\r\n```\r\n$ ln\r\nln: missing file operand\r\nTry 'ln --help' for more information.\r\n```\r\n\r\nSo I suggest:\r\n\r\n```\r\n$0: Missing signer\r\nUsage: $0 [-c|u|v|b|s|B|o|h|j|m|] signer version\r\n```\r\n\r\nor\r\n\r\n```\r\n$0: Missing signer\r\nTry $0 -h\r\n```\r\n",
      "commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "created_at" : "2016-08-25T11:20:18Z",
      "diff_hunk" : "@@ -0,0 +1,350 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: gitian-build.sh [-c|u|v|b|s|B|o|h|j|m|] signer version\n+\n+Run this script from the directory containing the bitcoin, gitian-builder, gitian.sigs, and bitcoin-detached-sigs.\n+\n+Arguments:\n+signer          GPG signer to sign each build assert file\n+version\t\tVersion number, commit, or branch to build. If building a commit or branch, the -c option must be specified\n+\n+Options:\n+-c|--commit\tIndicate that the version argument is for a commit or branch\n+-u|--url\tSpecify the URL of the repository. Default is https://github.com/bitcoin/bitcoin\n+-v|--verify \tVerify the gitian build\n+-b|--build\tDo a gitiain build\n+-s|--sign\tMake signed binaries for Windows and Mac OSX\n+-B|--buildsign\tBuild both signed and unsigned binaries\n+-o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n+-j\t\tNumber of processes to use. Default 4\n+-m\t\tMemory to allocate in MiB. Default 2000\n+--lxc           Use LXC instead of KVM\n+--setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)\n+-h|--help\tPrint this help message\n+EOF\n+\n+# Get options and arguments\n+while :; do\n+    case $1 in\n+        # Verify\n+        -v|--verify)\n+\t    verify=true\n+            ;;\n+        # Build\n+        -b|--build)\n+\t    build=true\n+            ;;\n+        # Sign binaries\n+        -s|--sign)\n+\t    sign=true\n+            ;;\n+        # Build then Sign\n+        -B|--buildsign)\n+\t    sign=true\n+\t    build=true\n+            ;;\n+        # PGP Signer\n+        -S|--signer)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tSIGNER=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--signer\" requires a non-empty argument.'\n+\t\texit 1\n+\t    fi\n+           ;;\n+        # Operating Systems\n+        -o|--os)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tlinux=false\n+\t\twindows=false\n+\t\tosx=false\n+\t\tif [[ \"$2\" = *\"l\"* ]]\n+\t\tthen\n+\t\t    linux=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"w\"* ]]\n+\t\tthen\n+\t\t    windows=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"x\"* ]]\n+\t\tthen\n+\t\t    osx=true\n+\t\tfi\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--os\" requires an argument containing an l (for linux), w (for windows), or x (for Mac OSX)\\n'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Help message\n+\t-h|--help)\n+\t    echo \"$usage\"\n+\t    exit 0\n+\t    ;;\n+\t# Commit or branch\n+\t-c|--commit)\n+\t    commit=true\n+\t    ;;\n+\t# Number of Processes\n+\t-j)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tproc=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-j\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Memory to allocate\n+\t-m)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tmem=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-m\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# URL\n+\t-u)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\turl=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-u\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+        # LXC\n+        --lxc)\n+            export USE_LXC=1\n+            export LXC_BRIDGE=lxcbr0\n+            sudo ifconfig lxcbr0 up 10.0.2.2\n+            ;;\n+        # Setup\n+        --setup)\n+            setup=true\n+            ;;\n+\t*)               # Default case: If no more options then break out of the loop.\n+             break\n+    esac\n+    shift\n+done\n+\n+# Get signer\n+if [[ -n\"$1\" ]]\n+then\n+    SIGNER=$1\n+    shift\n+fi\n+\n+# Get version\n+if [[ -n \"$1\" ]]\n+then\n+    VERSION=$1\n+    COMMIT=$VERSION\n+    shift\n+fi\n+\n+# Check that a signer is specified\n+if [[ $SIGNER == \"\" ]]\n+then\n+    echo \"Must specify a signer\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224923",
      "id" : 76224923,
      "original_commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "original_position" : 177,
      "path" : "contrib/gitian-build.sh",
      "position" : 177,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566",
      "updated_at" : "2016-08-25T11:21:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224950"
         }
      },
      "body" : "Suggest\r\n\r\n```\r\n$0: Missing version\r\nUsage: $0 [-c|u|v|b|s|B|o|h|j|m|] signer version\r\n```\r\n\r\nor \r\n\r\n```\r\n$0: Missing version\r\nTry $0 -h\r\n```",
      "commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "created_at" : "2016-08-25T11:20:35Z",
      "diff_hunk" : "@@ -0,0 +1,350 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: gitian-build.sh [-c|u|v|b|s|B|o|h|j|m|] signer version\n+\n+Run this script from the directory containing the bitcoin, gitian-builder, gitian.sigs, and bitcoin-detached-sigs.\n+\n+Arguments:\n+signer          GPG signer to sign each build assert file\n+version\t\tVersion number, commit, or branch to build. If building a commit or branch, the -c option must be specified\n+\n+Options:\n+-c|--commit\tIndicate that the version argument is for a commit or branch\n+-u|--url\tSpecify the URL of the repository. Default is https://github.com/bitcoin/bitcoin\n+-v|--verify \tVerify the gitian build\n+-b|--build\tDo a gitiain build\n+-s|--sign\tMake signed binaries for Windows and Mac OSX\n+-B|--buildsign\tBuild both signed and unsigned binaries\n+-o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n+-j\t\tNumber of processes to use. Default 4\n+-m\t\tMemory to allocate in MiB. Default 2000\n+--lxc           Use LXC instead of KVM\n+--setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)\n+-h|--help\tPrint this help message\n+EOF\n+\n+# Get options and arguments\n+while :; do\n+    case $1 in\n+        # Verify\n+        -v|--verify)\n+\t    verify=true\n+            ;;\n+        # Build\n+        -b|--build)\n+\t    build=true\n+            ;;\n+        # Sign binaries\n+        -s|--sign)\n+\t    sign=true\n+            ;;\n+        # Build then Sign\n+        -B|--buildsign)\n+\t    sign=true\n+\t    build=true\n+            ;;\n+        # PGP Signer\n+        -S|--signer)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tSIGNER=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--signer\" requires a non-empty argument.'\n+\t\texit 1\n+\t    fi\n+           ;;\n+        # Operating Systems\n+        -o|--os)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tlinux=false\n+\t\twindows=false\n+\t\tosx=false\n+\t\tif [[ \"$2\" = *\"l\"* ]]\n+\t\tthen\n+\t\t    linux=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"w\"* ]]\n+\t\tthen\n+\t\t    windows=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"x\"* ]]\n+\t\tthen\n+\t\t    osx=true\n+\t\tfi\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--os\" requires an argument containing an l (for linux), w (for windows), or x (for Mac OSX)\\n'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Help message\n+\t-h|--help)\n+\t    echo \"$usage\"\n+\t    exit 0\n+\t    ;;\n+\t# Commit or branch\n+\t-c|--commit)\n+\t    commit=true\n+\t    ;;\n+\t# Number of Processes\n+\t-j)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tproc=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-j\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Memory to allocate\n+\t-m)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tmem=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-m\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# URL\n+\t-u)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\turl=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-u\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+        # LXC\n+        --lxc)\n+            export USE_LXC=1\n+            export LXC_BRIDGE=lxcbr0\n+            sudo ifconfig lxcbr0 up 10.0.2.2\n+            ;;\n+        # Setup\n+        --setup)\n+            setup=true\n+            ;;\n+\t*)               # Default case: If no more options then break out of the loop.\n+             break\n+    esac\n+    shift\n+done\n+\n+# Get signer\n+if [[ -n\"$1\" ]]\n+then\n+    SIGNER=$1\n+    shift\n+fi\n+\n+# Get version\n+if [[ -n \"$1\" ]]\n+then\n+    VERSION=$1\n+    COMMIT=$VERSION\n+    shift\n+fi\n+\n+# Check that a signer is specified\n+if [[ $SIGNER == \"\" ]]\n+then\n+    echo \"Must specify a signer\"\n+    exit 1\n+fi\n+\n+# Check that a version is specified\n+if [[ $VERSION == \"\" ]]\n+then\n+    echo \"Must specify version\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76224950",
      "id" : 76224950,
      "original_commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "original_position" : 184,
      "path" : "contrib/gitian-build.sh",
      "position" : 184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566",
      "updated_at" : "2016-08-25T11:21:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76224950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76225090"
         }
      },
      "body" : "Consider using `$0` in place of `gitian-build.sh`",
      "commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "created_at" : "2016-08-25T11:22:02Z",
      "diff_hunk" : "@@ -0,0 +1,350 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: gitian-build.sh [-c|u|v|b|s|B|o|h|j|m|] signer version",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225090",
      "id" : 76225090,
      "original_commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "original_position" : 22,
      "path" : "contrib/gitian-build.sh",
      "position" : 22,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566",
      "updated_at" : "2016-08-25T11:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76225090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76225457"
         }
      },
      "body" : "Can I suggest we make these two URLs a variable defined at the beginning of the file. If this dep is updated in the future it will make it easier to spot.",
      "commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "created_at" : "2016-08-25T11:25:26Z",
      "diff_hunk" : "@@ -0,0 +1,350 @@\n+# What to do\n+sign=false\n+verify=false\n+build=false\n+setupenv=false\n+\n+# Systems to build\n+linux=true\n+windows=true\n+osx=true\n+\n+# Other Basic variables\n+SIGNER=\n+VERSION=\n+commit=false\n+url=https://github.com/bitcoin/bitcoin\n+proc=4\n+mem=4000\n+\n+# Help Message\n+read -d '' usage <<- EOF\n+Usage: gitian-build.sh [-c|u|v|b|s|B|o|h|j|m|] signer version\n+\n+Run this script from the directory containing the bitcoin, gitian-builder, gitian.sigs, and bitcoin-detached-sigs.\n+\n+Arguments:\n+signer          GPG signer to sign each build assert file\n+version\t\tVersion number, commit, or branch to build. If building a commit or branch, the -c option must be specified\n+\n+Options:\n+-c|--commit\tIndicate that the version argument is for a commit or branch\n+-u|--url\tSpecify the URL of the repository. Default is https://github.com/bitcoin/bitcoin\n+-v|--verify \tVerify the gitian build\n+-b|--build\tDo a gitiain build\n+-s|--sign\tMake signed binaries for Windows and Mac OSX\n+-B|--buildsign\tBuild both signed and unsigned binaries\n+-o|--os\t\tSpecify which Operating Systems the build is for. Default is lwx. l for linux, w for windows, x for osx\n+-j\t\tNumber of processes to use. Default 4\n+-m\t\tMemory to allocate in MiB. Default 2000\n+--lxc           Use LXC instead of KVM\n+--setup         Setup the gitian building environment. Uses KVM. If you want to use lxc, use the --lxc option. Only works on Debian-based systems (Ubuntu, Debian)\n+-h|--help\tPrint this help message\n+EOF\n+\n+# Get options and arguments\n+while :; do\n+    case $1 in\n+        # Verify\n+        -v|--verify)\n+\t    verify=true\n+            ;;\n+        # Build\n+        -b|--build)\n+\t    build=true\n+            ;;\n+        # Sign binaries\n+        -s|--sign)\n+\t    sign=true\n+            ;;\n+        # Build then Sign\n+        -B|--buildsign)\n+\t    sign=true\n+\t    build=true\n+            ;;\n+        # PGP Signer\n+        -S|--signer)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tSIGNER=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--signer\" requires a non-empty argument.'\n+\t\texit 1\n+\t    fi\n+           ;;\n+        # Operating Systems\n+        -o|--os)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tlinux=false\n+\t\twindows=false\n+\t\tosx=false\n+\t\tif [[ \"$2\" = *\"l\"* ]]\n+\t\tthen\n+\t\t    linux=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"w\"* ]]\n+\t\tthen\n+\t\t    windows=true\n+\t\tfi\n+\t\tif [[ \"$2\" = *\"x\"* ]]\n+\t\tthen\n+\t\t    osx=true\n+\t\tfi\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"--os\" requires an argument containing an l (for linux), w (for windows), or x (for Mac OSX)\\n'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Help message\n+\t-h|--help)\n+\t    echo \"$usage\"\n+\t    exit 0\n+\t    ;;\n+\t# Commit or branch\n+\t-c|--commit)\n+\t    commit=true\n+\t    ;;\n+\t# Number of Processes\n+\t-j)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tproc=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-j\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# Memory to allocate\n+\t-m)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\tmem=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-m\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+\t# URL\n+\t-u)\n+\t    if [ -n \"$2\" ]\n+\t    then\n+\t\turl=$2\n+\t\tshift\n+\t    else\n+\t\techo 'Error: \"-u\" requires an argument'\n+\t\texit 1\n+\t    fi\n+\t    ;;\n+        # LXC\n+        --lxc)\n+            export USE_LXC=1\n+            export LXC_BRIDGE=lxcbr0\n+            sudo ifconfig lxcbr0 up 10.0.2.2\n+            ;;\n+        # Setup\n+        --setup)\n+            setup=true\n+            ;;\n+\t*)               # Default case: If no more options then break out of the loop.\n+             break\n+    esac\n+    shift\n+done\n+\n+# Get signer\n+if [[ -n\"$1\" ]]\n+then\n+    SIGNER=$1\n+    shift\n+fi\n+\n+# Get version\n+if [[ -n \"$1\" ]]\n+then\n+    VERSION=$1\n+    COMMIT=$VERSION\n+    shift\n+fi\n+\n+# Check that a signer is specified\n+if [[ $SIGNER == \"\" ]]\n+then\n+    echo \"Must specify a signer\"\n+    exit 1\n+fi\n+\n+# Check that a version is specified\n+if [[ $VERSION == \"\" ]]\n+then\n+    echo \"Must specify version\"\n+    exit 1\n+fi\n+\n+# Add a \"v\" if no -c\n+if [[ $commit = false ]]\n+then\n+\tCOMMIT=\"v${VERSION}\"\n+fi\n+echo ${COMMIT}\n+\n+# Setup build environment\n+if [[ $setup = true ]]\n+then\n+    pushd ./gitian-builder\n+    sudo apt-get install ruby apache2 git apt-cacher-ng python-vm-builder qemu-kvm qemu-utils\n+    git clone https://github.com/bitcoin-core/gitian.sigs.git\n+    git clone https://github.com/bitcoin-core/bitcoin-detached-sigs.git\n+    git clone https://github.com/devrandom/gitian-builder.git\n+    if [[ -n \"$USE_LXC\" ]]\n+    then\n+        sudo apt-get install lxc\n+        bin/make-base-vm --suite trusty --arch amd64 --lxc\n+    else\n+        bin/make-base-vm --suite trusty --arch amd64\n+    fi\n+    popd\n+fi\n+\n+# Set up build\n+pushd ./bitcoin\n+git fetch\n+git checkout ${COMMIT}\n+popd\n+\n+# Build\n+if [[ $build = true ]]\n+then\n+\t# Make output folder\n+\tmkdir -p ./bitcoin-binaries/${VERSION}\n+\t\n+\t# Build Dependencies\n+\techo \"\"\n+\techo \"Building Dependencies\"\n+\techo \"\"\n+\tpushd ./gitian-builder\t\n+\tmkdir -p inputs\n+\twget -N -P inputs https://bitcoincore.org/cfields/osslsigncode-Backports-to-1.7.1.patch\n+\twget -N -P inputs http://downloads.sourceforge.net/project/osslsigncode/osslsigncode/osslsigncode-1.7.1.tar.gz",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#discussion_r76225457",
      "id" : 76225457,
      "original_commit_id" : "6358aed0045e90abdde19a7a24dd2e730795e420",
      "original_position" : 232,
      "path" : "contrib/gitian-build.sh",
      "position" : 232,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8566",
      "updated_at" : "2016-08-25T11:25:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/76225457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "I agree with @sipa, we need a \"--sign-detached\" option. In my case my signing keys are on a hardware device which is not available to the VM so I have to copy (scp) the gitian.sigs/* out to my main machine to detach sign. Certainly running the --sign command works, you end up with the asserts in the gitian.sigs folder but of course it generates error messages.",
      "created_at" : "2016-08-25T11:28:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242355025",
      "id" : 242355025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T11:28:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242355025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "This could really do with checking that the MacOS SDK file exists in the  `gitian-builder/inputs/` folder",
      "created_at" : "2016-08-25T11:30:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8566#issuecomment-242355379",
      "id" : 242355379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8566",
      "updated_at" : "2016-08-25T11:30:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242355379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   }
]
