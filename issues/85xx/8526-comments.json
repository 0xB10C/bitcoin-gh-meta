[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74969631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74969631"
         }
      },
      "body" : "Mention that it only applies to witness scripts.",
      "commit_id" : "e0b94de0dfbec9b305964a594f2e4785de51655d",
      "created_at" : "2016-08-16T16:27:05Z",
      "diff_hunk" : "@@ -94,6 +94,10 @@ enum\n     // Making v1-v16 witness program non-standard\n     //\n     SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM = (1U << 12),\n+\n+    // Require the argument of OP_IF/NOTIF to be exactly 0x01 or empty vector",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74969631",
      "id" : 74969631,
      "original_commit_id" : "323a13a0849b9098ea93c8d4ed8a777617df6a32",
      "original_position" : 5,
      "path" : "src/script/interpreter.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526",
      "updated_at" : "2016-08-16T18:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74969631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74971102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74971102"
         }
      },
      "body" : "I don't think we need to include any cases whose behaviour is not changed by minimalif.",
      "commit_id" : "e0b94de0dfbec9b305964a594f2e4785de51655d",
      "created_at" : "2016-08-16T16:35:02Z",
      "diff_hunk" : "@@ -2125,5 +2125,88 @@\n [\"0\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\", \"CSV fails if stack top bit 1 << 31 is set and the tx version < 2\"],\n [\"4294967296\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\",\n   \"CSV fails if stack top bit 1 << 31 is not set, and tx version < 2\"],\n-[\"The End\"]\n+\n+[\"MINIMALIF tests\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74971102",
      "id" : 74971102,
      "original_commit_id" : "323a13a0849b9098ea93c8d4ed8a777617df6a32",
      "original_position" : 6,
      "path" : "src/test/data/script_tests.json",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526",
      "updated_at" : "2016-08-16T18:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74971102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74986289"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74986289"
         }
      },
      "body" : "I'm not sure what should(not) be tested. I want to show that the new rules are not applied to non segwit scripts by accident",
      "commit_id" : "e0b94de0dfbec9b305964a594f2e4785de51655d",
      "created_at" : "2016-08-16T17:56:16Z",
      "diff_hunk" : "@@ -2125,5 +2125,88 @@\n [\"0\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\", \"CSV fails if stack top bit 1 << 31 is set and the tx version < 2\"],\n [\"4294967296\", \"CHECKSEQUENCEVERIFY\", \"CHECKSEQUENCEVERIFY\", \"UNSATISFIED_LOCKTIME\",\n   \"CSV fails if stack top bit 1 << 31 is not set, and tx version < 2\"],\n-[\"The End\"]\n+\n+[\"MINIMALIF tests\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74986289",
      "id" : 74986289,
      "original_commit_id" : "323a13a0849b9098ea93c8d4ed8a777617df6a32",
      "original_position" : 6,
      "path" : "src/test/data/script_tests.json",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526",
      "updated_at" : "2016-08-16T18:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74986289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74986432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74986432"
         }
      },
      "body" : "will fix in a squash commit later",
      "commit_id" : "e0b94de0dfbec9b305964a594f2e4785de51655d",
      "created_at" : "2016-08-16T17:56:54Z",
      "diff_hunk" : "@@ -94,6 +94,10 @@ enum\n     // Making v1-v16 witness program non-standard\n     //\n     SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM = (1U << 12),\n+\n+    // Require the argument of OP_IF/NOTIF to be exactly 0x01 or empty vector",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#discussion_r74986432",
      "id" : 74986432,
      "original_commit_id" : "323a13a0849b9098ea93c8d4ed8a777617df6a32",
      "original_position" : 5,
      "path" : "src/script/interpreter.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8526",
      "updated_at" : "2016-08-16T18:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/74986432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "concept ACK",
      "created_at" : "2016-08-16T21:09:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#issuecomment-240239749",
      "id" : 240239749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8526",
      "updated_at" : "2016-08-16T21:09:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/240239749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Prefer to just have an OP_CASTTOBOOL added. This breaks conditionals on OP_DEPTH and OP_SIZE for example.",
      "created_at" : "2016-08-27T21:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#issuecomment-242941637",
      "id" : 242941637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8526",
      "updated_at" : "2016-08-27T21:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242941637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "OP_CASTTOBOOL can't solve the problem. CastToBool if OP_IF is exactly the source of malleability. We needs to turn a OP_NOP into OP_ISBOOLVERIFY.\r\n\r\nIn any case, that requires a softfork which can't be done any time soon. What we need now is a quick policy patch. An alternative is to make `SIZE IF` and `DEPTH IF` excluded from this policy",
      "created_at" : "2016-08-28T05:11:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#issuecomment-242956735",
      "id" : 242956735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8526",
      "updated_at" : "2016-08-28T05:11:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242956735",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8403418?v=3",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "body" : "we did segwit so that we don't have to care about malleability in inputs, but now we care about malleability inside witness inputs? o_O\r\n\r\nI would prefer to not touch that as DEPTH IF and SIZE IF are still useful. I'm not fan making special case either.",
      "created_at" : "2016-08-28T07:24:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8526#issuecomment-242960688",
      "id" : 242960688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8526",
      "updated_at" : "2016-08-28T07:27:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/242960688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   }
]
