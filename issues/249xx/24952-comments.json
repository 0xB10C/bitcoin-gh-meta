[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Some basic timings for mainnet on my (admittedly not so amazing iMac), comparing to the existing compact format.\r\n\r\n## Time\r\n<img width=\"628\" alt=\"Screenshot 2022-04-23 at 09 09 57\" src=\"https://user-images.githubusercontent.com/3072149/164888919-ee4e8e8a-de15-41cb-8a71-9722c19208ed.png\">\r\n\r\n## Size\r\n<img width=\"324\" alt=\"Screenshot 2022-04-23 at 09 10 31\" src=\"https://user-images.githubusercontent.com/3072149/164888920-33c25d2b-e1a6-45b2-9f21-965f2aeab691.png\">\r\n\r\n---\r\n\r\nRoughly around twice as long and twice as big.\r\n",
      "created_at" : "2022-04-23T09:33:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24952#issuecomment-1107441666",
      "id" : 1107441666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24952",
      "node_id" : "IC_kwDOABII585CAjgC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107441666/reactions"
      },
      "updated_at" : "2022-04-23T09:33:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1107441666",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3072149?v=4",
         "events_url" : "https://api.github.com/users/dunxen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dunxen/followers",
         "following_url" : "https://api.github.com/users/dunxen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dunxen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dunxen",
         "id" : 3072149,
         "login" : "dunxen",
         "node_id" : "MDQ6VXNlcjMwNzIxNDk=",
         "organizations_url" : "https://api.github.com/users/dunxen/orgs",
         "received_events_url" : "https://api.github.com/users/dunxen/received_events",
         "repos_url" : "https://api.github.com/users/dunxen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dunxen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dunxen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dunxen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24952#discussion_r856872979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24952"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/856872979"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "clang-format-diff.py formatted this and there are some changes. Not ideal for review, but let me know if I should remove the formatting.",
      "commit_id" : "eaa4e63dac2bfd32a6457f6bea1dd3d81b0e77ec",
      "created_at" : "2022-04-23T09:36:01Z",
      "diff_hunk" : "@@ -2260,50 +2261,66 @@ static RPCHelpMan dumptxoutset()\n         \"Write the serialized UTXO set to disk.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"format\", RPCArg::Type::STR, RPCArg::Default{\"compact\"}, \"'compact' to output a compact binary serialized format, 'sqlite' to output a SQLite database with table 'txoutset' (requires sqlite3)\", \"format\"},\n         },\n         RPCResult{\n-            RPCResult::Type::OBJ, \"\", \"\",\n-                {\n-                    {RPCResult::Type::NUM, \"coins_written\", \"the number of coins written in the snapshot\"},\n-                    {RPCResult::Type::STR_HEX, \"base_hash\", \"the hash of the base of the snapshot\"},\n-                    {RPCResult::Type::NUM, \"base_height\", \"the height of the base of the snapshot\"},\n-                    {RPCResult::Type::STR, \"path\", \"the absolute path that the snapshot was written to\"},\n-                    {RPCResult::Type::STR_HEX, \"txoutset_hash\", \"the hash of the UTXO set contents\"},\n-                    {RPCResult::Type::NUM, \"nchaintx\", \"the number of transactions in the chain up to and including the base block\"},\n-                }\n-        },\n-        RPCExamples{\n-            HelpExampleCli(\"dumptxoutset\", \"utxo.dat\")\n-        },\n-        [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n-{\n-    const ArgsManager& args{EnsureAnyArgsman(request.context)};\n-    const fs::path path = fsbridge::AbsPathJoin(args.GetDataDirNet(), fs::u8path(request.params[0].get_str()));\n-    // Write to a temporary path and then move into `path` on completion\n-    // to avoid confusion due to an interruption.\n-    const fs::path temppath = fsbridge::AbsPathJoin(args.GetDataDirNet(), fs::u8path(request.params[0].get_str() + \".incomplete\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24952#discussion_r856872979",
      "id" : 856872979,
      "line" : 2284,
      "node_id" : "PRRC_kwDOABII584zEtgT",
      "original_commit_id" : "eaa4e63dac2bfd32a6457f6bea1dd3d81b0e77ec",
      "original_line" : 2284,
      "original_position" : 34,
      "original_start_line" : 2265,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 34,
      "pull_request_review_id" : 950948827,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24952",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/856872979/reactions"
      },
      "side" : "LEFT",
      "start_line" : 2265,
      "start_side" : "LEFT",
      "updated_at" : "2022-04-23T09:36:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/856872979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3072149?v=4",
         "events_url" : "https://api.github.com/users/dunxen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dunxen/followers",
         "following_url" : "https://api.github.com/users/dunxen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dunxen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dunxen",
         "id" : 3072149,
         "login" : "dunxen",
         "node_id" : "MDQ6VXNlcjMwNzIxNDk=",
         "organizations_url" : "https://api.github.com/users/dunxen/orgs",
         "received_events_url" : "https://api.github.com/users/dunxen/received_events",
         "repos_url" : "https://api.github.com/users/dunxen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dunxen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dunxen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dunxen"
      }
   }
]
