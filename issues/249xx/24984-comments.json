[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~This breaks `feature_pruning.py`, putting into draft until I have analyzed it.~~ \r\n\r\nFixed.",
      "created_at" : "2022-04-26T01:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24984#issuecomment-1109192370",
      "id" : 1109192370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24984",
      "node_id" : "IC_kwDOABII585CHO6y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109192370/reactions"
      },
      "updated_at" : "2022-04-26T10:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109192370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24984#discussion_r858379915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24984"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858379915"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If you never started a rescan, than you would leave `m_attaching_chain` in true state forever",
      "commit_id" : "d533b0429cd03dc0700c9c28caecbd6ae5d11429",
      "created_at" : "2022-04-26T07:36:37Z",
      "diff_hunk" : "@@ -3007,6 +3015,7 @@ bool CWallet::AttachChain(const std::shared_ptr<CWallet>& walletInstance, interf\n                 return false;\n             }\n         }\n+        walletInstance->m_attaching_chain = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24984#discussion_r858379915",
      "id" : 858379915,
      "line" : 3018,
      "node_id" : "PRRC_kwDOABII584zKdaL",
      "original_commit_id" : "d533b0429cd03dc0700c9c28caecbd6ae5d11429",
      "original_line" : 3018,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 28,
      "pull_request_review_id" : 952900468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24984",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858379915/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-26T07:37:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858379915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24984#discussion_r858423829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24984"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858423829"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh yes, thanks. Moved the spot where we set `m_attaching_chain` into the conditional, which should also fix the previous issue with feature_pruning.",
      "commit_id" : "2052e3aa9aa666bdc86dac370f1dd8fb978d3497",
      "created_at" : "2022-04-26T08:18:33Z",
      "diff_hunk" : "@@ -3007,6 +3015,7 @@ bool CWallet::AttachChain(const std::shared_ptr<CWallet>& walletInstance, interf\n                 return false;\n             }\n         }\n+        walletInstance->m_attaching_chain = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24984#discussion_r858423829",
      "id" : 858423829,
      "in_reply_to_id" : 858379915,
      "line" : 3018,
      "node_id" : "PRRC_kwDOABII584zKoIV",
      "original_commit_id" : "d533b0429cd03dc0700c9c28caecbd6ae5d11429",
      "original_line" : 3018,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 33,
      "pull_request_review_id" : 952962124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24984",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858423829/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-26T08:19:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/858423829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> With current implementation we don't save the rescan progress and on the next load we will have to start from scratch. Is it possible to save the last processed blocked at shutdown?\r\n\r\nYes, that's true. I think it should be possible to call `chainStateFlushed` with a locator to the block that was last processed  - I'll look into that. Of course it would save some time only in the rather rare situation of a clean shutdown during rescan (the bug must have existed for years but wasn't reported until very recently), so I'm not sure how important a feature like this would actually be for users.",
      "created_at" : "2022-04-26T10:27:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24984#issuecomment-1109625629",
      "id" : 1109625629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24984",
      "node_id" : "IC_kwDOABII585CI4sd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109625629/reactions"
      },
      "updated_at" : "2022-04-26T10:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109625629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n> so I'm not sure how important a feature like this would actually be for users.\r\n\r\nRight, I'm concerned about unexpected behavior. I don't think optimality is important in this case.",
      "created_at" : "2022-04-26T13:37:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24984#issuecomment-1109808854",
      "id" : 1109808854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24984",
      "node_id" : "IC_kwDOABII585CJlbW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109808854/reactions"
      },
      "updated_at" : "2022-04-26T13:37:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1109808854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
