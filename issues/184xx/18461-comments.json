[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17785 (p2p: Unify Send and Receive protocol versions by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-03-29T04:51:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18461#issuecomment-605558804",
      "id" : 605558804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18461",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTU1ODgwNA==",
      "updated_at" : "2020-03-29T04:51:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605558804",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18461#discussion_r414943485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18461"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414943485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here or in commit message maybe lay out the rationalbetter  \"As a pre-segwit node won't send us new consensus data there is no reason to receive a block from them after softfork activation, for which we won't able to fully validate\" (unless there is no segwit transaction in the block but did this happen these days?).\r\n\r\nReading more `GetFetchFlags`, did you spend time thinking why there is any reason we want to INV(MSG_BLOCK) no pre-segwit nodes ?",
      "commit_id" : "5079ebed79958f0720ba68a5e389d533342386d4",
      "created_at" : "2020-04-25T01:15:23Z",
      "diff_hunk" : "@@ -557,17 +557,20 @@ static void MaybeSetPeerAsAnnouncingHeaderAndIDs(NodeId nodeid, CConnman* connma\n         }\n         connman->ForNode(nodeid, [connman](CNode* pfrom){\n             AssertLockHeld(cs_main);\n-            uint64_t nCMPCTBLOCKVersion = (pfrom->GetLocalServices() & NODE_WITNESS) ? 2 : 1;\n+            // Never try to upgrade a pre-segwit node to high-bandwidth compact block provider",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18461#discussion_r414943485",
      "id" : 414943485,
      "line" : 560,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk0MzQ4NQ==",
      "original_commit_id" : "5079ebed79958f0720ba68a5e389d533342386d4",
      "original_line" : 560,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 5,
      "pull_request_review_id" : 400341377,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18461",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-25T01:16:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/414943485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   }
]
