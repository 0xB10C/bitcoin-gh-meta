[
   {
      "body" : "Some tips on using gitian to duplicate the broken results:\r\nWhen gitian fails/finishes, you can log into the vm and mess around by doing export PATH=$PATH:libexec; on-target\r\nYou can see the build-script gitian is executing by looking at var/build-script after the build has started (its pretty much just exporting some variables and running the script in the descriptor).\r\nIf you want to build from this branch, use -c bitcoin=build-updates instead of master (note that the commit titled \"remove this commit before merge\" makes the gitian descriptors point to my repo instead of bitcoin/bitcoin)",
      "created_at" : "2011-10-17T19:53:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2433871",
      "id" : 2433871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-17T19:53:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2433871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Oh, also this hasnt been tested for determinism yet, so there that...",
      "created_at" : "2011-10-17T20:31:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2434392",
      "id" : 2434392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-17T20:31:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2434392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I'll take a look at this",
      "created_at" : "2011-10-22T06:43:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2488679",
      "id" : 2488679,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-22T06:43:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2488679",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "OK I'm stuck. How to get started? \r\n\r\n- What kind of AWS image to I need to create?\r\n- release-process.txt has some information, but it assumes there already is a virtual image with gitian and bitcoin source installed. Do I need to install those myself starting with the Ruby gems etc?\r\n",
      "created_at" : "2011-10-23T10:04:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2494709",
      "id" : 2494709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-23T10:04:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2494709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "You can't do this with AWS, it has to be a machine which has VT-x support.\r\nThere are no gems anywhere here, just git clone gitian-builder and go.",
      "created_at" : "2011-10-23T18:00:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2497004",
      "id" : 2497004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-23T18:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2497004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Note that the build issues are basically Ubuntu issues. Gentoo's crossdev at least has no problems building working EXEs.",
      "created_at" : "2011-10-28T23:54:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2562573",
      "id" : 2562573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-28T23:54:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2562573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I think I solved this issue!\r\n\r\nThe solution appears to be to remove `-fstack-protector` for the Windows build. Both for the linker and cflags.\r\n\r\nI haven't tested on a Windows machine but the resulting bitcoin-qt.exe works in Wine.\r\n\r\nluke-jr: yes, but we need to understand this issue, I feel it would be a mistake to just abandon it and switch Linux distributions, and hope we'll be ok :)\r\n",
      "created_at" : "2011-10-29T09:26:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2564170",
      "id" : 2564170,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T09:37:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2564170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "IIRC it wouldn't even build for me with that flag. ;)",
      "created_at" : "2011-10-29T12:54:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2564761",
      "id" : 2564761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T12:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2564761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "https://github.com/laanwj/bitcoin/tree/wingitianfix\r\n\r\nNow testing whether the build is deterministic and such...\r\n",
      "created_at" : "2011-10-29T13:31:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2564903",
      "id" : 2564903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T13:31:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2564903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The last commit managed to make bitcoin-qt.exe build deterministic. I built it two times and both times the sha256 is the same.\r\n\r\nSo the build is now complete. The resulting executable does hang a long time at \"Done loading\" for some reason I can't explain yet.\r\n",
      "created_at" : "2011-10-29T17:27:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2565886",
      "id" : 2565886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T20:29:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2565886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Hm.. the \"Done loading\" problem seems to be something local (to do with seeding?), it hangs on connecting to my routers DNS port:\r\n\r\n    socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 23\r\n    connect(23, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(\"192.168.x.x\")}, 16\r\n\r\nI think it is unrelated. Please help testing the gitian script.\r\n\r\nEdit: confirmed: It also happens on Linux now for me, so it has nothing to do with the build.\r\n",
      "created_at" : "2011-10-29T17:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2565963",
      "id" : 2565963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T17:58:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2565963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Superceded by #598",
      "created_at" : "2011-10-29T21:51:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/587#issuecomment-2567144",
      "id" : 2567144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/587",
      "updated_at" : "2011-10-29T21:51:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2567144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
