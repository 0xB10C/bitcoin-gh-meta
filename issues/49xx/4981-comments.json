[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026363"
         }
      },
      "body" : "Nit: Can you add a newline above.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:28:21Z",
      "diff_hunk" : "@@ -0,0 +1,46 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026363",
      "id" : 18026363,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 5,
      "path" : "src/script/binarydata.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026398"
         }
      },
      "body" : "Same here as above.\r\n\r\nAlso this is missing here:\r\n\r\n#ifndef BITCOIN_BINARYDATA_H\r\n#define BITCOIN_BINARYDATA_H\r\n\r\nAnd at the file ending:\r\n#endif // BITCOIN_BINARYDATA_H",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:29:08Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#include \"script.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026398",
      "id" : 18026398,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 5,
      "path" : "src/script/binarydata.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026398",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026430"
         }
      },
      "body" : "Nit: This should be at the top of the class stuff (alphabetical ordering).",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:29:54Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#include \"script.h\"\n+\n+#include <vector>\n+\n+class CPubKey;\n+class CScriptID;\n+class CKeyID;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026430",
      "id" : 18026430,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 11,
      "path" : "src/script/binarydata.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026525"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026525"
         }
      },
      "body" : "Nit: One up (alphabetical ordering).",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:32:46Z",
      "diff_hunk" : "@@ -7,6 +7,11 @@\n #define H_BITCOIN_SCRIPT_COMPRESSOR\n \n #include \"script/script.h\"\n+#include \"serialize.h\"\n+\n+class CKeyID;\n+class CScriptID;\n+class CPubKey;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026525",
      "id" : 18026525,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 8,
      "path" : "src/script/compressor.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026553"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026553"
         }
      },
      "body" : "Nit: Wrong alphabetical ordering of #includes.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:33:27Z",
      "diff_hunk" : "@@ -6,13 +6,38 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <stdint.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026553",
      "id" : 18026553,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 8,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026582"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026582"
         }
      },
      "body" : "Nit: Indentation",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:34:05Z",
      "diff_hunk" : "@@ -314,10 +339,20 @@ class CScriptNum\n \n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n-    if (vch.size() <= 4)\n-        return strprintf(\"%d\", CScriptNum(vch).getint());\n-    else\n-        return HexStr(vch);\n+    if (!vch.size())\n+      return \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026582",
      "id" : 18026582,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 53,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026610"
         }
      },
      "body" : "Is this cast needed?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:34:43Z",
      "diff_hunk" : "@@ -314,10 +339,20 @@ class CScriptNum\n \n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n-    if (vch.size() <= 4)\n-        return strprintf(\"%d\", CScriptNum(vch).getint());\n-    else\n-        return HexStr(vch);\n+    if (!vch.size())\n+      return \"\";\n+    std::string rv;\n+    static const char hexmap[16] = { '0', '1', '2', '3', '4', '5', '6', '7',\n+                                     '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n+    rv.reserve((vch.size())*2);\n+    for(std::vector<unsigned char>::const_iterator it = vch.begin(); it != vch.end(); ++it)\n+    {\n+        unsigned char val = (unsigned char)(*it);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026610",
      "id" : 18026610,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 60,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026624"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026624"
         }
      },
      "body" : "Indentation.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:34:58Z",
      "diff_hunk" : "@@ -358,13 +393,18 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n+    CScript& operator<<(const CScriptBinaryDataBase& data)\n+    {\n+      insert(end(), data.begin(), data.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026624",
      "id" : 18026624,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 82,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026624",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026631"
         }
      },
      "body" : "Nit: Alphabtical ordering.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:35:19Z",
      "diff_hunk" : "@@ -9,6 +9,7 @@\n #include \"key.h\"\n #include \"keystore.h\"\n #include \"script/standard.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026631",
      "id" : 18026631,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/script/sign.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026641"
         }
      },
      "body" : "Nit: Alphabetical ordering.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:35:37Z",
      "diff_hunk" : "@@ -6,7 +6,9 @@\n #include \"script/standard.h\"\n \n #include \"script/script.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026641",
      "id" : 18026641,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026656"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026656"
         }
      },
      "body" : "Needs to go after a newline below stdint.h.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:36:01Z",
      "diff_hunk" : "@@ -6,9 +6,11 @@\n #ifndef H_BITCOIN_SCRIPT_STANDARD\n #define H_BITCOIN_SCRIPT_STANDARD\n \n+#include \"key.h\"\n #include \"script/script.h\"\n #include \"script/interpreter.h\"\n \n+#include <boost/variant.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026656",
      "id" : 18026656,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 8,
      "path" : "src/script/standard.h",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026656",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026671"
         }
      },
      "body" : "Nit: Alphabetical ordering.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:36:18Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@\n #include \"main.h\"\n #include \"script/script.h\"\n #include \"script/interpreter.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026671",
      "id" : 18026671,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/test/multisig_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026683"
         }
      },
      "body" : "Nit: Alphabetical ordering.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:36:35Z",
      "diff_hunk" : "@@ -7,6 +7,7 @@\n #include \"main.h\"\n #include \"script/script.h\"\n #include \"script/sign.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026683",
      "id" : 18026683,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/test/script_P2SH_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026698"
         }
      },
      "body" : "This file on a whole seems unordered... well.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:37:00Z",
      "diff_hunk" : "@@ -11,6 +11,7 @@\n #include \"script/script.h\"\n #include \"script/sign.h\"\n #include \"core_io.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026698",
      "id" : 18026698,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/test/script_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026708"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026708"
         }
      },
      "body" : "Same here.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:37:13Z",
      "diff_hunk" : "@@ -5,6 +5,7 @@\n #include \"key.h\"\n #include \"script/script.h\"\n #include \"script/standard.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026708",
      "id" : 18026708,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/test/sigopcount_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026708",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026722"
         }
      },
      "body" : "And here...",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:37:25Z",
      "diff_hunk" : "@@ -10,6 +10,7 @@\n #include \"main.h\"\n #include \"script/script.h\"\n #include \"core_io.h\"\n+#include \"script/binarydata.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18026722",
      "id" : 18026722,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 4,
      "path" : "src/test/transaction_tests.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18026722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@theuni Sorry for hitting you with that bunch of nits, but they should be fixed IMHO.",
      "created_at" : "2014-09-25T11:38:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56806523",
      "id" : 56806523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-25T11:38:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56806523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18027233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18027233"
         }
      },
      "body" : "Please don't implement hexadecimal conversion code here. We've spent a lot of time going *from* duplicated code like this left around all over the place to the current state.\r\nMy point of moving the string encoding/decoding to a separate utility file without dependencies (utilstrencodings) was that we can use those in places like here.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T11:53:19Z",
      "diff_hunk" : "@@ -314,10 +339,20 @@ class CScriptNum\n \n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n-    if (vch.size() <= 4)\n-        return strprintf(\"%d\", CScriptNum(vch).getint());\n-    else\n-        return HexStr(vch);\n+    if (!vch.size())\n+      return \"\";\n+    std::string rv;\n+    static const char hexmap[16] = { '0', '1', '2', '3', '4', '5', '6', '7',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18027233",
      "id" : 18027233,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 55,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18027233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18054245"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18054245"
         }
      },
      "body" : "alphabetical fixed. what does \"at the top of the class stuff\" mean?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T19:31:25Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#include \"script.h\"\n+\n+#include <vector>\n+\n+class CPubKey;\n+class CScriptID;\n+class CKeyID;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18054245",
      "id" : 18054245,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 11,
      "path" : "src/script/binarydata.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18054245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18058902"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18058902"
         }
      },
      "body" : "Nit: Misses a single new line here still.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T20:47:40Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BINARYDATA_H",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18058902",
      "id" : 18058902,
      "original_commit_id" : "65a9c9a61996a866ad0a29b00d83dac62ef68f9a",
      "original_position" : 5,
      "path" : "src/script/binarydata.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18058902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18058997"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18058997"
         }
      },
      "body" : "Nit: Also a new line before the closing endif is missing + the end comment ``#endif // BITCOIN_BINARYDATA_H``",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-25T20:48:31Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BINARYDATA_H\n+#define BITCOIN_BINARYDATA_H\n+\n+#include \"script.h\"\n+\n+#include <vector>\n+\n+class CKeyID;\n+class CPubKey;\n+class CScriptID;\n+class uint160;\n+\n+class CScriptBinaryData : public CScriptBinaryDataBase\n+{\n+  public:\n+  explicit CScriptBinaryData(const CPubKey& key);\n+  explicit CScriptBinaryData(const CScriptID& id);\n+  explicit CScriptBinaryData(const CKeyID& id);\n+  explicit CScriptBinaryData(const uint160& hash);\n+private:\n+   void set(const unsigned char* begin, const unsigned char* end);\n+   void set(std::vector<unsigned char>::const_iterator begin, std::vector<unsigned char>::const_iterator end);\n+};\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18058997",
      "id" : 18058997,
      "original_commit_id" : "65a9c9a61996a866ad0a29b00d83dac62ef68f9a",
      "original_position" : 28,
      "path" : "src/script/binarydata.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18058997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@theuni After the last few of my style nits are fixed you've got my style ACK. No, really thanks for updating this pull and taking care of the style stuff :)!",
      "created_at" : "2014-09-25T20:52:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56882080",
      "id" : 56882080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-25T20:52:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56882080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo I'd put a _rollseyes_ emoticon in the commit message if I could ;)\r\nKeeping things uniform is nice though, so thanks for reviewing.\r\n\r\n@laanwj What do you suggest? It'd defeat the purpose to depend on Core for the parsing. This seems like a reasonable place to make an exception, but I understand the case against as well.\r\n\r\nutilstrencodings.h itself isn't a terrible dependency, as it only depends on tinyformat. I suppose we could call that part of our \"shipped\" script lib, but it'd be a shame for such a small thing.\r\n\r\nThe alternative would be using HexStr(script.begin(),script.end()) everywhere in Core that currently uses script.ToString(), but that would be really ugly.",
      "created_at" : "2014-09-25T21:13:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56884939",
      "id" : 56884939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-25T21:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56884939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Ok if a hexstr is really, truly, the only thing you need in the script lib, I'm fine with making an exception. This is trivially simple code.\r\n\r\nOne other remark though. The old implementation of that function is:\r\n```\r\nif (vch.size() <= 4)\r\n    return strprintf(\"%d\", CScriptNum(vch).getint());\r\nelse\r\n    return HexStr(vch);\r\n```\r\nThis makes sure that normal scriptnums are printed as numbers instead of hex strings, which people have come to expect. The new one always shows a hex string.\r\n\r\nAt least move the implementation to the implementation file instead of the header (then the header doesn't have to depend on tinyformat/strencodings/... even if you use it, and the library doesn't have to export those headers).\r\n",
      "created_at" : "2014-09-26T07:19:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56927651",
      "id" : 56927651,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-26T07:19:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56927651",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj That all sounds perfectly reasonable. How about this, then: Since there's still a good bit of work left before we can break out verification entirely, I'll leave the include for CScript for now. If, at the end, it's still the only thing needed from core, we'll dupe it here as you've specified.\r\n\r\nSound good?",
      "created_at" : "2014-09-26T17:12:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56990971",
      "id" : 56990971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-26T17:12:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56990971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "I disagree with including script.h in key; that makes no sense - script is higher level.\r\n\r\nI see why you're doing that - the problem is CScriptID being declared in key.h in the first place. I think it should move to script/standard.h instead.",
      "created_at" : "2014-09-26T17:39:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56994511",
      "id" : 56994511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-26T17:39:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56994511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: I was also unhappy with that include and tried moving CScriptID to a few places, but never found a better home. I'll give that a shot.",
      "created_at" : "2014-09-26T17:55:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-56996807",
      "id" : 56996807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-26T17:55:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56996807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Moved CScriptID to standard.h as @sipa requested.\r\n\r\nRe-added the string processing deps as described above. When the library can stand on its own, we can evaluate whether it's worth it to dupe the core functions there.",
      "created_at" : "2014-09-26T19:31:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57009503",
      "id" : 57009503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-09-26T19:31:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57009503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18111396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18111396"
         }
      },
      "body" : "Is this necessary to be virtual and overridable? Just having a templated method/constructor that takes any type, and copied the vector from x.begin() to x.end() seems like it would suffice. This is really just convenience - the user of CScript can always use his own code to first convert to a vector.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-26T20:18:09Z",
      "diff_hunk" : "@@ -6,13 +6,38 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n \n-#include <boost/variant.hpp>\n+   Allows arbitrary structures to be written to a script without CScript",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18111396",
      "id" : 18111396,
      "original_commit_id" : "3532a12774538f739649bc53b5e9fa9cb15b5a80",
      "original_position" : 18,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18111396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18115222"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18115222"
         }
      },
      "body" : "Yea, it was done that way so that a user could make a distinction between input types and define his own serializers. If you'd rather avoid the overhead, I'm fine with a templated ctor.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-26T21:34:30Z",
      "diff_hunk" : "@@ -6,13 +6,38 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n \n-#include <boost/variant.hpp>\n+   Allows arbitrary structures to be written to a script without CScript",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18115222",
      "id" : 18115222,
      "original_commit_id" : "3532a12774538f739649bc53b5e9fa9cb15b5a80",
      "original_position" : 18,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18115222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18117166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18117166"
         }
      },
      "body" : "Yeah, I understand, I just don't think it's worth it for the cases where we need it.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-26T22:22:22Z",
      "diff_hunk" : "@@ -6,13 +6,38 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n \n-#include <boost/variant.hpp>\n+   Allows arbitrary structures to be written to a script without CScript",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18117166",
      "id" : 18117166,
      "original_commit_id" : "3532a12774538f739649bc53b5e9fa9cb15b5a80",
      "original_position" : 18,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18117166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18141469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18141469"
         }
      },
      "body" : "Agreed with @sipa. Let's avoid virtuals here. There is no need for external parties to add anything here.\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-09-29T08:08:01Z",
      "diff_hunk" : "@@ -6,13 +6,38 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n \n-#include <boost/variant.hpp>\n+   Allows arbitrary structures to be written to a script without CScript",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18141469",
      "id" : 18141469,
      "original_commit_id" : "3532a12774538f739649bc53b5e9fa9cb15b5a80",
      "original_position" : 18,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18141469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4981_ea9d733a5af528833580eaaada3bef3fb86e0daa/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-10-01T01:54:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57409345",
      "id" : 57409345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-01T01:54:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57409345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Updated, rebased, and squashed. Simplified to avoid the use of virtuals. I believe this has addressed of all previous comments.\r\n\r\nSorry for the squash mid-review, but so much changed that it didn't make sense to read the commits in-order anymore.",
      "created_at" : "2014-10-01T01:57:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57409524",
      "id" : 57409524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-01T01:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57409524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18266654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18266654"
         }
      },
      "body" : "@theuni This nit is still current, even if very very minor :).\r\n<pre>\r\n#include stdint.h\r\n\r\n#include boost/variant.hpp\r\n</pre>\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-01T08:37:36Z",
      "diff_hunk" : "@@ -6,9 +6,11 @@\n #ifndef H_BITCOIN_SCRIPT_STANDARD\n #define H_BITCOIN_SCRIPT_STANDARD\n \n+#include \"key.h\"\n #include \"script/script.h\"\n #include \"script/interpreter.h\"\n \n+#include <boost/variant.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18266654",
      "id" : 18266654,
      "original_commit_id" : "2b87d2609372b734e0eaa0d83759ee3aa591a0dc",
      "original_position" : 8,
      "path" : "src/script/standard.h",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18266654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18319646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18319646"
         }
      },
      "body" : "Coding style (spaces).",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-02T02:12:03Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n+#include <string.h>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <vector>\n+\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in)\n+    {\n+        size_t size = in.size();\n+        if(size)\n+        {\n+            assert(size <= UCHAR_MAX);\n+            m_vch.resize(size+1);\n+            m_vch.front() = size;\n+            std::copy(in.begin(),in.end(),m_vch.begin()+1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18319646",
      "id" : 18319646,
      "original_commit_id" : "ea9d733a5af528833580eaaada3bef3fb86e0daa",
      "original_position" : 33,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18319646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Needs rebase, but with the different test/script refactors still going on, it may make sense to wait a bit?",
      "created_at" : "2014-10-02T02:13:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57571591",
      "id" : 57571591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-02T02:13:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57571591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Agreed that there are a lot of changes pending to the same area. In this case it may make sense to plan ahead a bit, what makes sense to merge first, to avoid unnecessary non-trivial rebases. \r\n\r\nWe have at least:\r\n- #4981 Remove core dependencies from CScript\r\n- #5004 Make SCRIPT_VERIFY_STRICTENC compatible with BIP62\r\n- #5000 Blacklist NOPs reserved for soft-fork upgrades \r\n- #4954 Don't return an address for invalid pubkeys \r\n- ~~#4890 Make signature caching optional, and move it out. ~~\r\n- #4694 Don't hash what you're not going to sign\r\n- #4989 Replace SignatureHash() with class SignatureHasher",
      "created_at" : "2014-10-02T07:43:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57594263",
      "id" : 57594263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-06T02:45:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57594263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "There's also #4989 which is built on top #4890.\r\n #4311 and #4954 already need rebase.",
      "created_at" : "2014-10-02T18:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57683802",
      "id" : 57683802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-02T18:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57683802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I'm fine with rebasing this as long as necessary. I'd rather not hold off for too long if there are no objections though, as it does block future reorg work. Though to be fair, future reorg work will only cause more churn, so I suppose that doesn't really help my case :)\r\n\r\nMuch of https://github.com/theuni/bitcoin/commit/4e4ae57fd28ef0a191ccd8f88192ea53daed9d3f could be moved out to a new PR that likely wouldn't conflict with anyone else's work here, but the other changes would for sure.\r\n\r\nAs a quick thought, for those of us working on reorg/break-out, we could work in a separate repo and PR back to mainline in stages, more in-line with a git maintainership workflow. Then we'd be working together rather than against eachother. @jtimon @sipa interested, or more trouble than it's worth?",
      "created_at" : "2014-10-02T19:10:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57689567",
      "id" : 57689567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-02T19:10:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57689567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Actually I'll wait and review this when things are more clear as to the way forward.",
      "created_at" : "2014-10-03T00:58:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57735231",
      "id" : 57735231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-03T00:58:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57735231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Actually now that things are more separated I don't think this conflicts with #4694 or #4890, and #4989 needs more discussion anyway and I may want to rebase it on top of another PR I'm preparing. So on my part I'm fine with merging this first. I mean, I would oppose to merging #4694 and #4890 first, but as said I'm not concerned about the potential conflicts around script if the order is different.",
      "created_at" : "2014-10-03T03:32:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57747753",
      "id" : 57747753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-03T03:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57747753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "rebased and nits addressed (i believe).",
      "created_at" : "2014-10-03T19:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57844821",
      "id" : 57844821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-03T19:35:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57844821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Untested ack.",
      "created_at" : "2014-10-03T20:11:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57851206",
      "id" : 57851206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-03T20:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57851206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18424724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18424724"
         }
      },
      "body" : "Nit: string.h should be after stdint.h",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-03T23:30:16Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n+#include <string.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18424724",
      "id" : 18424724,
      "original_commit_id" : "77e5c20e887fa3d9176932207ab042c6fe145fee",
      "original_position" : 11,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18424724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Just 2 nits left, but if this gets merged I'll clean them up anyway ;).",
      "created_at" : "2014-10-03T23:31:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-57880877",
      "id" : 57880877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-03T23:31:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57880877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2014-10-06T22:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58109950",
      "id" : 58109950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-06T22:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58109950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased and nits addressed.",
      "created_at" : "2014-10-06T22:58:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58113259",
      "id" : 58113259,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-06T22:58:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58113259",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Untested ACK, but needs rebase again (sorry...).",
      "created_at" : "2014-10-08T22:54:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58441047",
      "id" : 58441047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-08T22:54:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58441047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "No worries, will do.",
      "created_at" : "2014-10-08T23:21:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58443414",
      "id" : 58443414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-08T23:21:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58443414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "rebased again, should be good to go.",
      "created_at" : "2014-10-10T16:27:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58679932",
      "id" : 58679932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-10T16:27:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58679932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "ACK, verified move-only (23b504f).",
      "created_at" : "2014-10-10T17:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58686841",
      "id" : 58686841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-10T17:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58686841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2014-10-13T15:04:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58904998",
      "id" : 58904998,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-13T15:04:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58904998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "ut re-ACK",
      "created_at" : "2014-10-13T16:23:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-58916918",
      "id" : 58916918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-13T16:39:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58916918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18816585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816585"
         }
      },
      "body" : "From a readability point I'd greatly prefer:\r\n```\r\nm_vch.reserve(size + 1);\r\nm_vch.push_back(size);\r\nm_vch.insert(m_vch.end(), in.begin(), in.end());\r\n```\r\n(edit: oeps)\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-14T09:13:52Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in)\n+    {\n+        size_t size = in.size();\n+        if (size)\n+        {\n+            assert(size <= UCHAR_MAX);\n+            m_vch.resize(size+1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18816585",
      "id" : 18816585,
      "original_commit_id" : "23b504f9c37daffada5586764aae24b8ffbc65ea",
      "original_position" : 31,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Nit addressed. Will squash when ready.",
      "created_at" : "2014-10-14T20:43:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59113123",
      "id" : 59113123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-14T20:43:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59113123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18863105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18863105"
         }
      },
      "body" : "Hmm, this is not strict enough; the size needs to be at most 75 for this to work.\r\n\r\nAn alternative is not serializing the size in here, and doing that inside CScript::operator<<, which selects based on the size.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-14T22:17:40Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in)\n+    {\n+        size_t size = in.size();\n+        if (size)\n+        {\n+            assert(size <= UCHAR_MAX);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18863105",
      "id" : 18863105,
      "original_commit_id" : "fcbe4e9dda20d6ac6eb396ab5b05eccfe1fc5182",
      "original_position" : 30,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18863105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18864335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18864335"
         }
      },
      "body" : "will do.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-14T22:42:22Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in)\n+    {\n+        size_t size = in.size();\n+        if (size)\n+        {\n+            assert(size <= UCHAR_MAX);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18864335",
      "id" : 18864335,
      "original_commit_id" : "fcbe4e9dda20d6ac6eb396ab5b05eccfe1fc5182",
      "original_position" : 30,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18864335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18865490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18865490"
         }
      },
      "body" : "And when combined with BIP62, the data pushed should be at least 2 bytes too.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-14T23:05:35Z",
      "diff_hunk" : "@@ -6,13 +6,53 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n+\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in)\n+    {\n+        size_t size = in.size();\n+        if (size)\n+        {\n+            assert(size <= UCHAR_MAX);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18865490",
      "id" : 18865490,
      "original_commit_id" : "fcbe4e9dda20d6ac6eb396ab5b05eccfe1fc5182",
      "original_position" : 30,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18865490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK. I'm fine with squashing now.",
      "created_at" : "2014-10-15T00:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59138205",
      "id" : 59138205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-15T00:05:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59138205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "squashed and rebased.",
      "created_at" : "2014-10-15T00:26:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59140263",
      "id" : 59140263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-15T00:26:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59140263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "made the const ref change as requested by @sipa and squashed it down.",
      "created_at" : "2014-10-15T03:30:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59153219",
      "id" : 59153219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-15T03:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59153219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18875676"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18875676"
         }
      },
      "body" : "It seems the only point of using a CScriptBinaryData over just using vectors is to assert that they are at least 2 bytes in size?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T05:51:08Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18875676",
      "id" : 18875676,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18875676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18875722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18875722"
         }
      },
      "body" : "Nit: Probably place this at line 267, right before the only function that uses it?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T05:53:56Z",
      "diff_hunk" : "@@ -5,7 +5,18 @@\n \n #include \"script.h\"\n \n-#include <boost/foreach.hpp>\n+#include \"tinyformat.h\"\n+#include \"utilstrencodings.h\"\n+\n+namespace {\n+inline std::string ValueString(const std::vector<unsigned char>& vch)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18875722",
      "id" : 18875722,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 9,
      "path" : "src/script/script.cpp",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18875722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18877539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18877539"
         }
      },
      "body" : "...and that they're prefixed with the size?\r\n\r\nEdit: right? I don't see the size being added here, but it used to be the case in the last implementation of CScriptBinaryData\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T07:07:55Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18877539",
      "id" : 18877539,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18877539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18877585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18877585"
         }
      },
      "body" : "This expression `in.size() ? std::vector<unsigned char>(in.begin(), in.end()) : std::vector<unsigned char>()` is unnecessary. \r\n`std::vector<unsigned char>(in.begin(), in.end())` would work just as well. Passing an empty range to the std::vector constructor is allowed. It won't dereference the iterators if they're equal.\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T07:09:36Z",
      "diff_hunk" : "@@ -6,13 +6,51 @@\n #ifndef H_BITCOIN_SCRIPT\n #define H_BITCOIN_SCRIPT\n \n-#include \"key.h\"\n-#include \"tinyformat.h\"\n-#include \"utilstrencodings.h\"\n-\n+#include <assert.h>\n+#include <climits>\n+#include <limits>\n #include <stdexcept>\n+#include <stdint.h>\n+#include <string.h>\n+#include <vector>\n \n-#include <boost/variant.hpp>\n+/* Binary script data base class\n+\n+   Allows arbitrary structures to be written to a script without CScript\n+   knowing anything about them.\n+*/\n+class CScriptBinaryData\n+{\n+public:\n+    template <typename T>\n+    CScriptBinaryData(const T& in) :\n+    vch( in.size() ? std::vector<unsigned char>(in.begin(), in.end()) : std::vector<unsigned char>())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18877585",
      "id" : 18877585,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 27,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18877585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18878118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18878118"
         }
      },
      "body" : "There should be no size added here. The next line just calls this << std::vector, which will prefix the size properly...I dont see why we need CScriptBinaryData?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T07:28:30Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18878118",
      "id" : 18878118,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18878118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18878669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18878669"
         }
      },
      "body" : "Right, the size is added somewhere else. \r\n\r\nAFAIK CScriptBinaryData is necessary to convert the argument (which is usually a uint160 or derived type) into a std::vector. It could be a function instead of a class.\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T07:45:00Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18878669",
      "id" : 18878669,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18878669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18913118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18913118"
         }
      },
      "body" : "Well, this has been through many iterations now. Originally it was polymorphic so that eventual users could add their own serialization functionality. Then that was dropped and serialization was done on a per-type basis. Then that was dropped, and it was templated so that it's all done the same way.\r\n\r\nSo I suppose this should go one of two ways, rather than the hybrid that it is now\r\n\r\n- keep the class, which allows for implicit conversion from anything with begin/end iterators. That would mean that we could drop nearly all of b25d5f0dd531aaf5618f077c646afa556f6277ad, which should've been done when it was templatized.\r\n- Make it a function, and use as in b25d5f0dd531aaf5618f077c646afa556f6277ad.\r\n\r\nI really don't care either way. Opinions?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-15T18:36:23Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18913118",
      "id" : 18913118,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18913118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "We could of course just have a CScript::operator<<(T begin, T end) { std::vector<unsigned char> vch(begin, end); *this << vch; } ?",
      "created_at" : "2014-10-15T19:46:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59264283",
      "id" : 59264283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-15T19:46:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59264283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18937828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18937828"
         }
      },
      "body" : "I would do it in a very explicitly-named CScript function (ie want to make sure callers know that this is gonna go from begin() to end()).",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T04:32:31Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18937828",
      "id" : 18937828,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18937828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18939003"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18939003"
         }
      },
      "body" : "See #5091.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T05:36:37Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18939003",
      "id" : 18939003,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18939003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940095"
         }
      },
      "body" : "I like the idea of having it explicit as in this pull. I don't like the CBinaryData name, maybe simply a function\r\n\r\n    << ToByteVector(xxx) << \r\n\r\nI think Cory is on the right track. I don't like the 'everything with a begin() and end() can apply here' as much. It makes the code hard to follow. And for the serialization code it is important to be easy to follow, as people (also those not very skilled in C++ magic) are reading it.\r\n\r\n",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T06:38:23Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940095",
      "id" : 18940095,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940106"
         }
      },
      "body" : "See-also comment thread on https://github.com/bitcoin/bitcoin/pull/5091#discussion_r18939366",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T06:39:37Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940106",
      "id" : 18940106,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940188"
         }
      },
      "body" : "So #5091 is a change I've wanted to do for a while - the part about replacing the pushers for uint160/CPubKey isn't important there. As this PR already has more work towards have some wrapping, it's probably easier to use something like the suggested ToByteVector here; I can rebase #5091.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T06:42:52Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18940188",
      "id" : 18940188,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18940188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18942199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18942199"
         }
      },
      "body" : "I still really don't mind either way. I see the merit in being explicit, and I see the merit in letting CScript handle whatever comes its way.\r\n\r\nSounds like everyone's ok with making the change to ToByteVector here, then discussing #5091 as a follow-up. It's fine by me if ToByteVector is essentially reverted there, as long as progress is being made.\r\n\r\nI'll push that change.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T08:03:26Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18942199",
      "id" : 18942199,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18942199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18943918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18943918"
         }
      },
      "body" : "I'm not planning to revert ToByteVector in #5091 - I was just trying to avoid touching too much code there, but as it's exactly code you're already touching, that's fine.",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T08:50:55Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18943918",
      "id" : 18943918,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18943918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18947280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18947280"
         }
      },
      "body" : "> I still really don't mind either way. I see the merit in being explicit, and I see the merit in letting CScript handle whatever comes its way.\r\n\r\nI see merit in it, and I wouldn't care either way if this was, for example, GUI code. But for consensus-critical code it's too dangerous to just \"handle everything that comes its way in *some* way\". I like to be explicit and clear in what gets handled how and what the representation is. And to have compile-time errors when something is fishy. Remember the fun a while ago with `std::vector<unsigned char>(a.begin,e.end())` with `a` being a `std::vector<int>()` \"just working\" by truncating each value?",
      "commit_id" : "85c579e3a63cf505d6cedc454755265572e97d3e",
      "created_at" : "2014-10-16T10:09:20Z",
      "diff_hunk" : "@@ -358,40 +389,24 @@ class CScript : public std::vector<unsigned char>\n     CScript(int64_t b)        { operator<<(b); }\n \n     explicit CScript(opcodetype b)     { operator<<(b); }\n-    explicit CScript(const uint256& b) { operator<<(b); }\n     explicit CScript(const CScriptNum& b) { operator<<(b); }\n     explicit CScript(const std::vector<unsigned char>& b) { operator<<(b); }\n \n \n     CScript& operator<<(int64_t b) { return push_int64(b); }\n \n-    CScript& operator<<(opcodetype opcode)\n+    CScript& operator<<(const CScriptBinaryData& data)\n     {\n-        if (opcode < 0 || opcode > 0xff)\n-            throw std::runtime_error(\"CScript::operator<<() : invalid opcode\");\n-        insert(end(), (unsigned char)opcode);\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint160& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n-        return *this;\n-    }\n-\n-    CScript& operator<<(const uint256& b)\n-    {\n-        insert(end(), sizeof(b));\n-        insert(end(), (unsigned char*)&b, (unsigned char*)&b + sizeof(b));\n+        assert(data.size() >= 2 && data.size() <= MAX_SCRIPT_ELEMENT_SIZE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#discussion_r18947280",
      "id" : 18947280,
      "original_commit_id" : "0ed725f904cf7d7ef3ae58f08a2d72c127c66678",
      "original_position" : 102,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4981",
      "updated_at" : "2014-10-17T17:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18947280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Updated to use ToByteVector, squashed, and rebased.\r\n\r\nToByteVector() is currently in script.h, which is not a good place for it, but I don't see a better one that wouldn't drag in the deps we're working to remove here. I'm hoping we can at least agree to leave it there long enough to get this merged in, then move it around later if desired.\r\n\r\nAlso, I didn't add any extra checks or conditions to the operator<<(vector), since #5091 reworks that.",
      "created_at" : "2014-10-16T17:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59402177",
      "id" : 59402177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-16T17:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59402177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2014-10-16T18:05:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59403894",
      "id" : 59403894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-16T18:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59403894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Agree with @jtimon; the first group of 3 commits and the second 3 commits make much more sense when squashed together, for example.",
      "created_at" : "2014-10-16T23:33:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59447042",
      "id" : 59447042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-16T23:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59447042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA1\r\n\r\nutACK commithash c558f43500d5bd6fcad74a7254dd509b928c9183\r\n-----BEGIN PGP SIGNATURE-----\r\nVersion: GnuPG v2\r\n\r\niQIcBAEBAgAGBQJUQFraAAoJEIm7uGY+LmXO2iEP/R/Pc0345ZTn6mdQb2qGZP3q\r\nZVs4hsK9xIexPY44GfpEV+oF+CHSeb7zqEZKb9V3U6Wv4Q/AjvjOkfCWxIvJLZ++\r\nbXQm8acqywW1Rp4UmMap+UfiOJGyWnhZIZmdMTBKbbMPpyNZlop1IVJgw+vn78jW\r\nlyNQM5Sf5PW2K1CntTRNHX+lB9oLgG1OnVsmhexvsgnrVYsJfOB3d9SgH29KW2xr\r\nvfRMtiasFQnLsYnBdTvfml/pFL9jcFL4cG0UjaThcyfXIb5Cx1pkmZHRlpB6fjFg\r\n6H7BbMK2YnIO0Gtbyfg4n7tcQemB9BDXtKcqxmKel/7UepF27f/DOR27iCc6QL5G\r\n+5zO9yfBaNq+so+lw/Y40lvEZ6ZzCJOVBkTGhJzYBn7RU2D/jR5/C5b8ma71UR5c\r\nC61ahnMeBqukZ/sKkXlWtsb8WUaWPsalgxkpQ2+d8tVoeFe5FYEzqtuVAuN8FrRa\r\n4CjrFF1euVAQV3KkyPXqkD4c/1QkGGrwn7tuG+6oT1zzQeXehip2ZzK0EWb/KXKK\r\nG2nYLtEGwqZ5N/Zi3vZxtzg5hwXU7KlSouM4mBhNH7oonZzTKC3+EzG6JFt2Uhkx\r\nbwcjpK72aVj9rl5Zt9obmy9O22t2f7bW3HtgvEoNK6l979o/58IfJTC9njr6c+5o\r\nKEciQREeTXDRaMF5F16X\r\n=b86A\r\n-----END PGP SIGNATURE-----\r\n```",
      "created_at" : "2014-10-16T23:57:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59448941",
      "id" : 59448941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-16T23:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59448941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Ok. I find it easier to review/digest that way, but I'll keep em more grouped together.\r\nWill squash.",
      "created_at" : "2014-10-17T00:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59450544",
      "id" : 59450544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-17T00:20:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59450544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Squished down deeper. The header removal commit remains on top though, that was the purpose of this series. Not re-rebased against master, so this is identical code-wise to previously ACKed changes. ",
      "created_at" : "2014-10-17T17:46:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59549334",
      "id" : 59549334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-17T17:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59549334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2014-10-17T19:11:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4981#issuecomment-59560924",
      "id" : 59560924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4981",
      "updated_at" : "2014-10-17T19:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59560924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   }
]
