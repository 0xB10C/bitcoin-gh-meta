[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22793](https://github.com/bitcoin/bitcoin/pull/22793) (Simplify BaseSignatureChecker virtual functions and GenericTransactionSignatureChecker constructors by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-10-06T11:19:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-936023727",
      "id" : 936023727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5843ypav",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936023727/reactions"
      },
      "updated_at" : "2022-08-16T12:22:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936023727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-10-14T15:41:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-943480462",
      "id" : 943480462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5844PF6O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/943480462/reactions"
      },
      "updated_at" : "2021-10-14T15:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/943480462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-13T23:17:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-992999790",
      "id" : 992999790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5847L_lu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992999790/reactions"
      },
      "updated_at" : "2021-12-13T23:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992999790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-25T17:29:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1021435406",
      "id" : 1021435406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58484d4O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021435406/reactions"
      },
      "updated_at" : "2022-01-25T17:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021435406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Compiling this branch now as its ready for review. Not sure if I will be able to test everything but this is an interesting feature which should exist in Core. Hoping other devs review this without any club. ",
      "created_at" : "2022-01-26T00:55:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1021751889",
      "id" : 1021751889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58485rJR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021751889/reactions"
      },
      "updated_at" : "2022-01-26T00:55:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021751889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I would really love to see this land. I can test this end-to-end with eclair whenever it's ready and verify that it lets us bump lightning transactions (I can add tests with various kinds of inputs, confirmed / unconfirmed / unsafe).\r\n\r\nHow does it impact @Xekyo's work on ancestor aware funding (https://github.com/Xekyo/bitcoin/commits/ancestor-aware-funding)? Ideally the feerate computed here should take into account all unconfirmed ancestors, but maybe Xekyo's work would just land after this PR and fix its feerate computation?",
      "created_at" : "2022-01-26T13:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1022186544",
      "id" : 1022186544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58487VQw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022186544/reactions"
      },
      "updated_at" : "2022-01-26T13:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022186544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> How does it impact @Xekyo's work on ancestor aware funding (https://github.com/Xekyo/bitcoin/commits/ancestor-aware-funding)? Ideally the feerate computed here should take into account all unconfirmed ancestors, but maybe Xekyo's work would just land after this PR and fix its feerate computation?\r\n\r\nI believe that work will require some mempool changes that have not been implemented yet, so it is probable that it will still be some time before that is ready for review.",
      "created_at" : "2022-01-26T17:11:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1022409145",
      "id" : 1022409145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58488Lm5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022409145/reactions"
      },
      "updated_at" : "2022-01-26T17:11:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022409145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the quick answer, so I guess @Xekyo's work will simply improve `psbtbumpfee`'s feerate estimation when there are unconfirmed ancestors and can be added after this PR is merged.",
      "created_at" : "2022-01-26T17:24:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1022421546",
      "id" : 1022421546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58488Ooq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022421546/reactions"
      },
      "updated_at" : "2022-01-26T17:24:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022421546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919272197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In \"bumpfee: Calculate fee by looking up UTXOs\" (ec8360682e128929a2c3962e34ce5328d4983685)\r\n\r\nI might be misunderstanding the usage of this function, but It appears that SelectExternal() is also called for txouts that aren't external? Might be useful to have a comment about this if this is true. I don't think that this is an issue, however, because m_external_txouts is mostly used after looking for the txout in the wallet. ",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-12T18:15:53Z",
      "diff_hunk" : "@@ -169,13 +167,30 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());\n+        new_coin_control.SelectExternal(txin.prevout, coin.out);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919272197",
      "id" : 919272197,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842yvsF",
      "original_commit_id" : "ec8360682e128929a2c3962e34ce5328d4983685",
      "original_line" : 181,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1036280445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T09:28:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919847657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In \"bumpfee: extract weights of external inputs when bumping fee\" (a95d41bdf366939e4d3ff6368c384e752d745648)\r\n\r\nDo we never need to do this for witness v1 outputs because these signatures are always 64 bytes so there is no need to estimate? If this is the case, would I be correct in saying that CalculateMaximumSignedInputSize() doesn't return -1 for taproot outputs in this case?",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T09:17:56Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919847657",
      "id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII584208Lp",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1036280445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T09:28:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There is largely no difference, but since #24649, our pattern is to actually only use `SelectExternal` for external inputs, so I have changed this to do that.",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T22:30:12Z",
      "diff_hunk" : "@@ -169,13 +167,30 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());\n+        new_coin_control.SelectExternal(txin.prevout, coin.out);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563430",
      "id" : 920563430,
      "in_reply_to_id" : 919272197,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58423q7m",
      "original_commit_id" : "ec8360682e128929a2c3962e34ce5328d4983685",
      "original_line" : 181,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1038049050,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T22:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes and yes.",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T22:30:16Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563474",
      "id" : 920563474,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58423q8S",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1038049100,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T22:30:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased for silent merge conflict.",
      "created_at" : "2022-07-13T22:30:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1183745772",
      "id" : 1183745772,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII585Gjobs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1183745772/reactions"
      },
      "updated_at" : "2022-07-13T22:30:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1183745772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922085023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It would have really helped me if you had explained a bit more here. ",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-15T11:38:39Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922085023",
      "id" : 922085023,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58429eaf",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1040178463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T11:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922093351"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wouldn't it be possible that you're creating a replacement transaction for which you have a different spending condition that you can solve than the transaction that you are replacing? E.g. you're using a scriptpath and the original transaction was a keypath spend?",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-15T11:51:33Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922093351",
      "id" : 922093351,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58429gcn",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1040190416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T11:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922297306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922297306"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Wouldn't it be possible that you're creating a replacement transaction for which you have a different spending condition that you can solve than the transaction that you are replacing? E.g. you're using a scriptpath and the original transaction was a keypath spend?\r\n\r\nYes, but we can't know that. Either the wallet is the one spending the input and so we are able to estimate the size using whatever the wallet will sign with, or the input is external and we only know the spending path that exists in the transaction to be bumped.",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-15T15:51:16Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922297306",
      "id" : 922297306,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII5842-SPa",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1040489726,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922297306/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T15:51:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922297306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923794709"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923794709"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I think that both of these parameters can be made const.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-18T19:46:32Z",
      "diff_hunk" : "@@ -152,6 +153,58 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923794709",
      "id" : 923794709,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843D_0V",
      "original_commit_id" : "4154dea906b3b92eed5aaed4742f023a188ed0b9",
      "original_line" : 161,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1042449702,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923794709/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T09:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923794709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923797083"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923797083"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How come `m_sigs_weight` has a getter if it isn't private?",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-18T19:49:46Z",
      "diff_hunk" : "@@ -152,6 +153,58 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923797083",
      "id" : 923797083,
      "line" : 161,
      "node_id" : "PRRC_kwDOABII5843EAZb",
      "original_commit_id" : "4154dea906b3b92eed5aaed4742f023a188ed0b9",
      "original_line" : 161,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 69,
      "pull_request_review_id" : 1042449702,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923797083/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T09:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923797083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923821539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923821539"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In \"bumpfee: Calculate fee by looking up UTXOs\" (ac575d76158e96f8cfec491d15411e6dcb4738a9)\r\nIs it possible for the following to happen:\r\n1. When this function starts running, all of the utxos we are trying to spend here are unspent.\r\n2. Before `wallet.chain().findCoins(coins)` is run, one of these inputs gets spent, and the UTXO set gets updated accordingly.\r\n3. When `findCoins(coins)` is run, that runs `FindCoins()`, which iterates through the entries in `coins`, and if  a `coin` is spent, then that runs `Clear()` for that `coin`, which also sets `coin.out` as null. \r\n4. This assertion fails because `coin.out` is null.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-18T20:20:47Z",
      "diff_hunk" : "@@ -169,13 +167,34 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r923821539",
      "id" : 923821539,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843EGXj",
      "original_commit_id" : "ac575d76158e96f8cfec491d15411e6dcb4738a9",
      "original_line" : 180,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1042449702,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923821539/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T09:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/923821539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675446"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675446"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That is theoretically possible. Changed this to return an error in that case.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-19T15:46:14Z",
      "diff_hunk" : "@@ -169,13 +167,34 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675446",
      "id" : 924675446,
      "in_reply_to_id" : 923821539,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843HW12",
      "original_commit_id" : "ac575d76158e96f8cfec491d15411e6dcb4738a9",
      "original_line" : 180,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1043677682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675446/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T15:46:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675482"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For consistency with `GetMaxSigsWeight`. I've made it private anyways.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-19T15:46:16Z",
      "diff_hunk" : "@@ -152,6 +153,58 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675482",
      "id" : 924675482,
      "in_reply_to_id" : 923797083,
      "line" : 161,
      "node_id" : "PRRC_kwDOABII5843HW2a",
      "original_commit_id" : "4154dea906b3b92eed5aaed4742f023a188ed0b9",
      "original_line" : 161,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 69,
      "pull_request_review_id" : 1043677737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675482/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T15:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675512"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675512"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-19T15:46:18Z",
      "diff_hunk" : "@@ -152,6 +153,58 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r924675512",
      "id" : 924675512,
      "in_reply_to_id" : 923794709,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843HW24",
      "original_commit_id" : "4154dea906b3b92eed5aaed4742f023a188ed0b9",
      "original_line" : 161,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1043677768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675512/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-19T15:46:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/924675512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r928813595"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928813595"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it might be good to catch all other calls to this function that are not covered by BASE or WITNESS_V0 as not being expected to be handled in this function. This will make this function future proof if other SigVersions get added in the future.\r\n\r\n```suggestion\r\n        case SigVersion::TAPSCRIPT:\r\n        default:\r\n            assert(false);\r\n```",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-25T12:12:57Z",
      "diff_hunk" : "@@ -150,12 +150,66 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+private:\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+public:\n+    void AddSigWeight(const size_t weight, const SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:\n+        case SigVersion::TAPSCRIPT:\n+            assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r928813595",
      "id" : 928813595,
      "line" : 177,
      "node_id" : "PRRC_kwDOABII5843XJIb",
      "original_commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "original_line" : 177,
      "original_position" : 85,
      "original_start_line" : 176,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 85,
      "pull_request_review_id" : 1049366475,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928813595/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 176,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-25T12:12:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928813595",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r928825088"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928825088"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's actually better to not have a `default:` clause, as it means the compiler can warn about missing clauses, rather than needing to notice through an assertion failure.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-25T12:26:00Z",
      "diff_hunk" : "@@ -150,12 +150,66 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+private:\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+public:\n+    void AddSigWeight(const size_t weight, const SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:\n+        case SigVersion::TAPSCRIPT:\n+            assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r928825088",
      "id" : 928825088,
      "in_reply_to_id" : 928813595,
      "line" : 177,
      "node_id" : "PRRC_kwDOABII5843XL8A",
      "original_commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "original_line" : 177,
      "original_position" : 85,
      "original_start_line" : 176,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 85,
      "pull_request_review_id" : 1049382623,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928825088/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 176,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-25T12:26:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928825088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r929006684"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/929006684"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, the lack of a `default` is intentional.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-25T15:17:36Z",
      "diff_hunk" : "@@ -150,12 +150,66 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+private:\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+public:\n+    void AddSigWeight(const size_t weight, const SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:\n+        case SigVersion::TAPSCRIPT:\n+            assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r929006684",
      "id" : 929006684,
      "in_reply_to_id" : 928813595,
      "line" : 177,
      "node_id" : "PRRC_kwDOABII5843X4Rc",
      "original_commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "original_line" : 177,
      "original_position" : 85,
      "original_start_line" : 176,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 85,
      "pull_request_review_id" : 1049645146,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/929006684/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 176,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-25T15:17:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/929006684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-07-25T18:06:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1194427806",
      "id" : 1194427806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII585HMYWe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1194427806/reactions"
      },
      "updated_at" : "2022-07-25T18:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1194427806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@instagibbs want to take a look here given #23189?",
      "created_at" : "2022-08-11T14:23:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1212058140",
      "id" : 1212058140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII585IPooc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212058140/reactions"
      },
      "updated_at" : "2022-08-11T14:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212058140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r943548164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943548164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Going to mark this as resolved.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-08-11T14:23:23Z",
      "diff_hunk" : "@@ -150,12 +150,66 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+private:\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+public:\n+    void AddSigWeight(const size_t weight, const SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:\n+        case SigVersion::TAPSCRIPT:\n+            assert(false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r943548164",
      "id" : 943548164,
      "in_reply_to_id" : 928813595,
      "line" : 177,
      "node_id" : "PRRC_kwDOABII5844PWcE",
      "original_commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "original_line" : 177,
      "original_position" : 85,
      "original_start_line" : 176,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 85,
      "pull_request_review_id" : 1069810981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943548164/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 176,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-11T14:23:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943548164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944647399"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944647399"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this section could stand a few unit tests, covering the major cases of usage, and maybe an odd-ball one that shows it's not constrained to things we know how to sign for.\r\n\r\ne.g., something with no sigs at all, HTLC script, et al",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-08-12T16:54:07Z",
      "diff_hunk" : "@@ -187,6 +243,31 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n             new_coin_control.SelectExternal(txin.prevout, coin.out);\n         }\n         input_value += coin.out.nValue;\n+        spent_outputs.push_back(coin.out);\n+    }\n+\n+    // Figure out if we need to compute the input weight, and do so if necessary\n+    PrecomputedTransactionData txdata;\n+    txdata.Init(*wtx.tx, std::move(spent_outputs), /* force=*/ true);\n+    for (unsigned int i = 0; i < wtx.tx->vin.size(); ++i) {\n+        const CTxIn& txin = wtx.tx->vin.at(i);\n+        const Coin& coin = coins.at(txin.prevout);\n+\n+        if (new_coin_control.IsExternalSelected(txin.prevout)) {\n+            // For external inputs, we estimate the size using the size of this input\n+            int64_t input_weight = GetTransactionInputWeight(txin);\n+            // Because signatures can have different sizes, we need to figure out all of the\n+            // signature sizes and replace them with the max sized signature.\n+            // In order to do this, we verify the script with a special SignatureChecker which\n+            // will observe the signatures verified and record their sizes.\n+            SignatureWeights weights;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944647399",
      "id" : 944647399,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII5844Tizn",
      "original_commit_id" : "22106a26f85956e2a40867bfb63da0cb41fda712",
      "original_line" : 263,
      "original_position" : 98,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 98,
      "pull_request_review_id" : 1071362609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944647399/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T17:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944647399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944648149"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944648149"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If we're always using it this way, perhaps just have a function return this difference explicitly",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-08-12T16:55:12Z",
      "diff_hunk" : "@@ -187,6 +243,31 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n             new_coin_control.SelectExternal(txin.prevout, coin.out);\n         }\n         input_value += coin.out.nValue;\n+        spent_outputs.push_back(coin.out);\n+    }\n+\n+    // Figure out if we need to compute the input weight, and do so if necessary\n+    PrecomputedTransactionData txdata;\n+    txdata.Init(*wtx.tx, std::move(spent_outputs), /* force=*/ true);\n+    for (unsigned int i = 0; i < wtx.tx->vin.size(); ++i) {\n+        const CTxIn& txin = wtx.tx->vin.at(i);\n+        const Coin& coin = coins.at(txin.prevout);\n+\n+        if (new_coin_control.IsExternalSelected(txin.prevout)) {\n+            // For external inputs, we estimate the size using the size of this input\n+            int64_t input_weight = GetTransactionInputWeight(txin);\n+            // Because signatures can have different sizes, we need to figure out all of the\n+            // signature sizes and replace them with the max sized signature.\n+            // In order to do this, we verify the script with a special SignatureChecker which\n+            // will observe the signatures verified and record their sizes.\n+            SignatureWeights weights;\n+            TransactionSignatureChecker tx_checker(wtx.tx.get(), i, coin.out.nValue, txdata, MissingDataBehavior::FAIL);\n+            SignatureWeightChecker size_checker(weights, tx_checker);\n+            VerifyScript(txin.scriptSig, coin.out.scriptPubKey, &txin.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, size_checker);\n+            // Add the difference between max and current to input_weight so that it represents the largest the input could be\n+            input_weight += weights.GetMaxSigsWeight() - weights.GetSigsWeight();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944648149",
      "id" : 944648149,
      "line" : 269,
      "node_id" : "PRRC_kwDOABII5844Ti_V",
      "original_commit_id" : "22106a26f85956e2a40867bfb63da0cb41fda712",
      "original_line" : 268,
      "original_position" : 103,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 103,
      "pull_request_review_id" : 1071362609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944648149/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T17:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944648149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944649201"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944649201"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please add `/* require_mine= */` here as well since variable isn't clear",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-08-12T16:56:43Z",
      "diff_hunk" : "@@ -1045,7 +1045,7 @@ static RPCHelpMan bumpfee_helper(std::string method_name)\n     CMutableTransaction mtx;\n     feebumper::Result res;\n     // Targeting feerate bump.\n-    res = feebumper::CreateRateBumpTransaction(*pwallet, hash, coin_control, errors, old_fee, new_fee, mtx);\n+    res = feebumper::CreateRateBumpTransaction(*pwallet, hash, coin_control, errors, old_fee, new_fee, mtx, !want_psbt);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944649201",
      "id" : 944649201,
      "line" : 1048,
      "node_id" : "PRRC_kwDOABII5844TjPx",
      "original_commit_id" : "8fee03c6aa21d7d4a60abcd15e4a92fcae39de6a",
      "original_line" : 1048,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : 5,
      "pull_request_review_id" : 1071362609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944649201/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T17:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944649201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944652281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944652281"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might want some motivation somewhere(header declaration?) when `require_mine` can be false or true.",
      "commit_id" : "66a5cb5b4651191bc92438cbc3f02226d250feef",
      "created_at" : "2022-08-12T17:01:17Z",
      "diff_hunk" : "@@ -289,7 +289,7 @@ class WalletImpl : public Wallet\n         CAmount& new_fee,\n         CMutableTransaction& mtx) override\n     {\n-        return feebumper::CreateRateBumpTransaction(*m_wallet.get(), txid, coin_control, errors, old_fee, new_fee, mtx) == feebumper::Result::OK;\n+        return feebumper::CreateRateBumpTransaction(*m_wallet.get(), txid, coin_control, errors, old_fee, new_fee, mtx, /* require_mine= */ true) == feebumper::Result::OK;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944652281",
      "id" : 944652281,
      "line" : 292,
      "node_id" : "PRRC_kwDOABII5844Tj_5",
      "original_commit_id" : "8fee03c6aa21d7d4a60abcd15e4a92fcae39de6a",
      "original_line" : 292,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/interfaces.cpp",
      "position" : 5,
      "pull_request_review_id" : 1071362609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944652281/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T17:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944652281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a test.",
      "commit_id" : "04970f223caa402fa3136b090edbe63bacd2177a",
      "created_at" : "2022-08-12T20:53:44Z",
      "diff_hunk" : "@@ -187,6 +243,31 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n             new_coin_control.SelectExternal(txin.prevout, coin.out);\n         }\n         input_value += coin.out.nValue;\n+        spent_outputs.push_back(coin.out);\n+    }\n+\n+    // Figure out if we need to compute the input weight, and do so if necessary\n+    PrecomputedTransactionData txdata;\n+    txdata.Init(*wtx.tx, std::move(spent_outputs), /* force=*/ true);\n+    for (unsigned int i = 0; i < wtx.tx->vin.size(); ++i) {\n+        const CTxIn& txin = wtx.tx->vin.at(i);\n+        const Coin& coin = coins.at(txin.prevout);\n+\n+        if (new_coin_control.IsExternalSelected(txin.prevout)) {\n+            // For external inputs, we estimate the size using the size of this input\n+            int64_t input_weight = GetTransactionInputWeight(txin);\n+            // Because signatures can have different sizes, we need to figure out all of the\n+            // signature sizes and replace them with the max sized signature.\n+            // In order to do this, we verify the script with a special SignatureChecker which\n+            // will observe the signatures verified and record their sizes.\n+            SignatureWeights weights;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848303",
      "id" : 944848303,
      "in_reply_to_id" : 944647399,
      "line" : 210,
      "node_id" : "PRRC_kwDOABII5844UT2v",
      "original_commit_id" : "22106a26f85956e2a40867bfb63da0cb41fda712",
      "original_line" : 210,
      "original_position" : 98,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 114,
      "pull_request_review_id" : 1071770031,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848303/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T20:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848303",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848384"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "04970f223caa402fa3136b090edbe63bacd2177a",
      "created_at" : "2022-08-12T20:53:52Z",
      "diff_hunk" : "@@ -187,6 +243,31 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n             new_coin_control.SelectExternal(txin.prevout, coin.out);\n         }\n         input_value += coin.out.nValue;\n+        spent_outputs.push_back(coin.out);\n+    }\n+\n+    // Figure out if we need to compute the input weight, and do so if necessary\n+    PrecomputedTransactionData txdata;\n+    txdata.Init(*wtx.tx, std::move(spent_outputs), /* force=*/ true);\n+    for (unsigned int i = 0; i < wtx.tx->vin.size(); ++i) {\n+        const CTxIn& txin = wtx.tx->vin.at(i);\n+        const Coin& coin = coins.at(txin.prevout);\n+\n+        if (new_coin_control.IsExternalSelected(txin.prevout)) {\n+            // For external inputs, we estimate the size using the size of this input\n+            int64_t input_weight = GetTransactionInputWeight(txin);\n+            // Because signatures can have different sizes, we need to figure out all of the\n+            // signature sizes and replace them with the max sized signature.\n+            // In order to do this, we verify the script with a special SignatureChecker which\n+            // will observe the signatures verified and record their sizes.\n+            SignatureWeights weights;\n+            TransactionSignatureChecker tx_checker(wtx.tx.get(), i, coin.out.nValue, txdata, MissingDataBehavior::FAIL);\n+            SignatureWeightChecker size_checker(weights, tx_checker);\n+            VerifyScript(txin.scriptSig, coin.out.scriptPubKey, &txin.scriptWitness, STANDARD_SCRIPT_VERIFY_FLAGS, size_checker);\n+            // Add the difference between max and current to input_weight so that it represents the largest the input could be\n+            input_weight += weights.GetMaxSigsWeight() - weights.GetSigsWeight();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848384",
      "id" : 944848384,
      "in_reply_to_id" : 944648149,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844UT4A",
      "original_commit_id" : "22106a26f85956e2a40867bfb63da0cb41fda712",
      "original_line" : 268,
      "original_position" : 103,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1071770122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848384/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T20:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848443"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "04970f223caa402fa3136b090edbe63bacd2177a",
      "created_at" : "2022-08-12T20:53:57Z",
      "diff_hunk" : "@@ -1045,7 +1045,7 @@ static RPCHelpMan bumpfee_helper(std::string method_name)\n     CMutableTransaction mtx;\n     feebumper::Result res;\n     // Targeting feerate bump.\n-    res = feebumper::CreateRateBumpTransaction(*pwallet, hash, coin_control, errors, old_fee, new_fee, mtx);\n+    res = feebumper::CreateRateBumpTransaction(*pwallet, hash, coin_control, errors, old_fee, new_fee, mtx, !want_psbt);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848443",
      "id" : 944848443,
      "in_reply_to_id" : 944649201,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844UT47",
      "original_commit_id" : "8fee03c6aa21d7d4a60abcd15e4a92fcae39de6a",
      "original_line" : 1048,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1071770172,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T20:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848679"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848679"
         }
      },
      "author_association" : "MEMBER",
      "body" : "added docs",
      "commit_id" : "04970f223caa402fa3136b090edbe63bacd2177a",
      "created_at" : "2022-08-12T20:54:16Z",
      "diff_hunk" : "@@ -289,7 +289,7 @@ class WalletImpl : public Wallet\n         CAmount& new_fee,\n         CMutableTransaction& mtx) override\n     {\n-        return feebumper::CreateRateBumpTransaction(*m_wallet.get(), txid, coin_control, errors, old_fee, new_fee, mtx) == feebumper::Result::OK;\n+        return feebumper::CreateRateBumpTransaction(*m_wallet.get(), txid, coin_control, errors, old_fee, new_fee, mtx, /* require_mine= */ true) == feebumper::Result::OK;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r944848679",
      "id" : 944848679,
      "in_reply_to_id" : 944652281,
      "line" : 292,
      "node_id" : "PRRC_kwDOABII5844UT8n",
      "original_commit_id" : "8fee03c6aa21d7d4a60abcd15e4a92fcae39de6a",
      "original_line" : 292,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/interfaces.cpp",
      "position" : 5,
      "pull_request_review_id" : 1071770387,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848679/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-12T20:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/944848679",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@t-bast @ishaanam @instagibbs @Xekyo Re-review?",
      "created_at" : "2022-08-16T21:26:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1217182680",
      "id" : 1217182680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII585IjLvY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1217182680/reactions"
      },
      "updated_at" : "2022-08-16T21:26:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1217182680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
