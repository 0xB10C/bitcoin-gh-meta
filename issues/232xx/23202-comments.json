[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2021-10-06T11:19:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-936023727",
      "id" : 936023727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5843ypav",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936023727/reactions"
      },
      "updated_at" : "2022-01-26T09:13:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/936023727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-10-14T15:41:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-943480462",
      "id" : 943480462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5844PF6O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/943480462/reactions"
      },
      "updated_at" : "2021-10-14T15:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/943480462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-13T23:17:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-992999790",
      "id" : 992999790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII5847L_lu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992999790/reactions"
      },
      "updated_at" : "2021-12-13T23:17:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992999790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-25T17:29:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1021435406",
      "id" : 1021435406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58484d4O",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021435406/reactions"
      },
      "updated_at" : "2022-01-25T17:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021435406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Compiling this branch now as its ready for review. Not sure if I will be able to test everything but this is an interesting feature which should exist in Core. Hoping other devs review this without any club. ",
      "created_at" : "2022-01-26T00:55:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1021751889",
      "id" : 1021751889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58485rJR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021751889/reactions"
      },
      "updated_at" : "2022-01-26T00:55:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1021751889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I would really love to see this land. I can test this end-to-end with eclair whenever it's ready and verify that it lets us bump lightning transactions (I can add tests with various kinds of inputs, confirmed / unconfirmed / unsafe).\r\n\r\nHow does it impact @Xekyo's work on ancestor aware funding (https://github.com/Xekyo/bitcoin/commits/ancestor-aware-funding)? Ideally the feerate computed here should take into account all unconfirmed ancestors, but maybe Xekyo's work would just land after this PR and fix its feerate computation?",
      "created_at" : "2022-01-26T13:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#issuecomment-1022186544",
      "id" : 1022186544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23202",
      "node_id" : "IC_kwDOABII58487VQw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022186544/reactions"
      },
      "updated_at" : "2022-01-26T13:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022186544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919272197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In \"bumpfee: Calculate fee by looking up UTXOs\" (ec8360682e128929a2c3962e34ce5328d4983685)\r\n\r\nI might be misunderstanding the usage of this function, but It appears that SelectExternal() is also called for txouts that aren't external? Might be useful to have a comment about this if this is true. I don't think that this is an issue, however, because m_external_txouts is mostly used after looking for the txout in the wallet. ",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-12T18:15:53Z",
      "diff_hunk" : "@@ -169,13 +167,30 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());\n+        new_coin_control.SelectExternal(txin.prevout, coin.out);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919272197",
      "id" : 919272197,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842yvsF",
      "original_commit_id" : "ec8360682e128929a2c3962e34ce5328d4983685",
      "original_line" : 181,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1036280445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T09:28:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919272197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919847657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In \"bumpfee: extract weights of external inputs when bumping fee\" (a95d41bdf366939e4d3ff6368c384e752d745648)\r\n\r\nDo we never need to do this for witness v1 outputs because these signatures are always 64 bytes so there is no need to estimate? If this is the case, would I be correct in saying that CalculateMaximumSignedInputSize() doesn't return -1 for taproot outputs in this case?",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T09:17:56Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r919847657",
      "id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII584208Lp",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1036280445,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T09:28:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/919847657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/75942586?v=4",
         "events_url" : "https://api.github.com/users/ishaanam/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ishaanam/followers",
         "following_url" : "https://api.github.com/users/ishaanam/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ishaanam/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ishaanam",
         "id" : 75942586,
         "login" : "ishaanam",
         "node_id" : "MDQ6VXNlcjc1OTQyNTg2",
         "organizations_url" : "https://api.github.com/users/ishaanam/orgs",
         "received_events_url" : "https://api.github.com/users/ishaanam/received_events",
         "repos_url" : "https://api.github.com/users/ishaanam/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ishaanam/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ishaanam/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ishaanam"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There is largely no difference, but since #24649, our pattern is to actually only use `SelectExternal` for external inputs, so I have changed this to do that.",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T22:30:12Z",
      "diff_hunk" : "@@ -169,13 +167,30 @@ Result CreateRateBumpTransaction(CWallet& wallet, const uint256& txid, const CCo\n     }\n     const CWalletTx& wtx = it->second;\n \n+    // Retrieve all of the UTXOs and add them to coin control\n+    // While we're here, calculate the input amount\n+    std::map<COutPoint, Coin> coins;\n+    CAmount input_value = 0;\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        coins[txin.prevout]; // Create empty map entry keyed by prevout.\n+    }\n+    wallet.chain().findCoins(coins);\n+    for (const CTxIn& txin : wtx.tx->vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        assert(!coin.out.IsNull());\n+        new_coin_control.SelectExternal(txin.prevout, coin.out);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563430",
      "id" : 920563430,
      "in_reply_to_id" : 919272197,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58423q7m",
      "original_commit_id" : "ec8360682e128929a2c3962e34ce5328d4983685",
      "original_line" : 181,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 1038049050,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T22:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes and yes.",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-13T22:30:16Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r920563474",
      "id" : 920563474,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58423q8S",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1038049100,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-13T22:30:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/920563474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922085023"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It would have really helped me if you had explained a bit more here. ",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-15T11:38:39Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922085023",
      "id" : 922085023,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58429eaf",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1040178463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T11:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922085023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922093351"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wouldn't it be possible that you're creating a replacement transaction for which you have a different spending condition that you can solve than the transaction that you are replacing? E.g. you're using a scriptpath and the original transaction was a keypath spend?",
      "commit_id" : "7f94ed7f76addd6344c7d1c72385c924385553ac",
      "created_at" : "2022-07-15T11:51:33Z",
      "diff_hunk" : "@@ -150,12 +150,64 @@ bool TransactionCanBeBumped(const CWallet& wallet, const uint256& txid)\n     if (wtx == nullptr) return false;\n \n     std::vector<bilingual_str> errors_dummy;\n-    feebumper::Result res = PreconditionChecks(wallet, *wtx, errors_dummy);\n+    feebumper::Result res = PreconditionChecks(wallet, *wtx, /* require_mine=*/ true, errors_dummy);\n     return res == feebumper::Result::OK;\n }\n \n+struct SignatureWeights\n+{\n+    int m_sigs_count{0};\n+    int64_t m_sigs_weight{0};\n+\n+    void AddSigWeight(size_t weight, SigVersion sigversion)\n+    {\n+        switch (sigversion) {\n+        case SigVersion::BASE:\n+            m_sigs_weight += weight * WITNESS_SCALE_FACTOR;\n+            m_sigs_count += 1 * WITNESS_SCALE_FACTOR;\n+            break;\n+        case SigVersion::WITNESS_V0:\n+            m_sigs_weight += weight;\n+            m_sigs_count++;\n+            break;\n+        case SigVersion::TAPROOT:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23202#discussion_r922093351",
      "id" : 922093351,
      "in_reply_to_id" : 919847657,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII58429gcn",
      "original_commit_id" : "16891107faf5f877cb390af2c5b8147bca9afdd7",
      "original_line" : 173,
      "original_position" : 81,
      "original_start_line" : null,
      "path" : "src/wallet/feebumper.cpp",
      "position" : 81,
      "pull_request_review_id" : 1040190416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-15T11:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/922093351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   }
]
