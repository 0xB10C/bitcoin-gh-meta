[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20196 (net: fix GetListenPort() to derive the proper port by vasild)\n* #19972 (fuzz/net: Add fuzzing harness for node eviction logic. Make node eviction logic testable. by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-11-24T19:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20477#issuecomment-733196012",
      "id" : 733196012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMzE5NjAxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-24T19:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/733196012",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for working on adding testing here. I'll try to review this soon.",
      "created_at" : "2020-11-24T22:16:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20477#issuecomment-733264515",
      "id" : 733264515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMzI2NDUxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-24T22:16:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/733264515",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20477#discussion_r535175346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/535175346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please move this doc-comment to the header, it's an exported function now.",
      "commit_id" : "2c62fb607cd6e1944ec192d99d4ea2370364b1bd",
      "created_at" : "2020-12-03T12:12:21Z",
      "diff_hunk" : "@@ -1016,7 +967,51 @@ bool CConnman::AttemptToEvictConnection()\n     vEvictionCandidates = std::move(mapNetGroupNodes[naMostConnections]);\n \n     // Disconnect from the network group with the most connections\n-    NodeId evicted = vEvictionCandidates.front().id;\n+    return vEvictionCandidates.front();\n+}\n+\n+/** Try to find a connection to evict when the node is full.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20477#discussion_r535175346",
      "id" : 535175346,
      "line" : 973,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE3NTM0Ng==",
      "original_commit_id" : "2c62fb607cd6e1944ec192d99d4ea2370364b1bd",
      "original_line" : 973,
      "original_position" : 92,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 92,
      "pull_request_review_id" : 543891357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20477",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-03T12:12:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/535175346",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Thanks for adding tests.\r\n\r\nI sometimes wonder if it would make sense to move \"semi-internal\" things that are only exposed externally for unit testing, like in this case \"NodeEvictionCandidate\" and \"SelectNodeToEvict\", to a separate set of headers. But not here anyhow.\r\n",
      "created_at" : "2020-12-03T12:12:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20477#issuecomment-737904003",
      "id" : 737904003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzkwNDAwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-03T12:14:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737904003",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
