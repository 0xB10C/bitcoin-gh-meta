[
   {
      "body" : "For some time there has been some party connecting to every node on the network and fetching the mempool over and over again at high speed.  This wastes a ton of node's bandwidth. These fetches are also an information leak, as the frequent polling bypasses the trickle logic.\r\n\r\nJgarzik suggested removing the mempool command entirely, but it's used by some lite clients to display unconfirmed transactions that arrived before they connected. This change is more polite, preserving the usecase for lite wallets without making the call an attractive nuisance for third parties to waste a nodes' bandwidth with various information gathering attacks.\r\n\r\nWe should also look to see if we've created other trickle bypassing bugs (e.g. responding to a getdata on a tx we've never INVed), and consider limiting the maximum size of the mempool response. Now that we get the result back in feerate order, it would be pretty reasonable to return only the next couple blocks worth. Anyone know a reason we shouldn't?\r\n",
      "created_at" : "2015-11-24T22:05:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7093#issuecomment-159419652",
      "id" : 159419652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7093",
      "updated_at" : "2015-11-24T22:05:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159419652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7093#discussion_r45814457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7093"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45814457"
         }
      },
      "body" : "We've been using std::numeric_limits<int64_t>::max() elsewhere (also INT64_MAX seems to fail on arm?)",
      "commit_id" : "f91fe537cb9bede93d4ec7cfc4263bee724bdddb",
      "created_at" : "2015-11-25T00:14:31Z",
      "diff_hunk" : "@@ -218,7 +218,7 @@ UniValue mempoolToJSON(bool fVerbose = false)\n     else\n     {\n         vector<uint256> vtxid;\n-        mempool.queryHashes(vtxid);\n+        mempool.queryHashes(vtxid, 0, INT64_MAX);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7093#discussion_r45814457",
      "id" : 45814457,
      "original_commit_id" : "f91fe537cb9bede93d4ec7cfc4263bee724bdddb",
      "original_position" : 5,
      "path" : "src/rpcblockchain.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7093",
      "updated_at" : "2015-11-25T00:14:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45814457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   }
]
