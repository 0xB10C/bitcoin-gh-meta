[
   {
      "body" : "Maybe it's time to disable this test?\r\n\r\nIt's useful testing to compare behavior against OpenSSL's BN, however at some point - probably in the 0.13 cycle (#5949, #5885) - it will be the only place where OpenSSL is still used.\r\n",
      "created_at" : "2015-11-24T11:30:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159237015",
      "id" : 159237015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-24T11:30:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159237015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "If this isn't actually being used in the library, the test may be better suited for libsecp256k1 and tested there. ",
      "created_at" : "2015-11-25T03:07:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159474471",
      "id" : 159474471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-25T03:07:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159474471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Agree with @laanwj. These were added to ensure consensus behavior against the pre-0.10 bignum implementation. At this point we'd likely take the new behavior anyway if an inconsistency was discovered.",
      "created_at" : "2015-11-25T05:56:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159499308",
      "id" : 159499308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-25T05:56:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159499308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "> If this isn't actually being used in the library, the test may be better suited for libsecp256k1 and tested there.\r\n\r\nFrom what I've heard, secp256k1 already does tons of much better tests :)\r\n\r\nAs @theuni says the test is there to compare our scriptnum values' behavior with OpenSSL. This mattered for 0.10, but indeed, at this point if OpenSSL starts to diverge, we'd take our behavior.\r\n\r\nIf we still want to do a cross-version test like this usefully we should compare against, say, 0.10's post-OpenSSL CScriptNum implementation.\r\n",
      "created_at" : "2015-11-25T07:41:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159526194",
      "id" : 159526194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-25T07:55:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159526194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@dcousens these aren't related to libsec256k1 at all. They're tests of the number implementation used in script, which long ago used OpenSSL but does no more.\r\n\r\nI agree these could be removed, today the only value they provide is additional chances of catching our implementation changing between versions. If they did turn up a disagreement with the current code now and OpenSSL, we'd ignore it: I don't believe the openssl based code is in widespread use on the network anymore. This would be better handled by copying an implementation (like wumpus says, 0.10's) into the tests.\r\n\r\n\r\n\r\n",
      "created_at" : "2015-11-25T08:07:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159529652",
      "id" : 159529652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-25T08:07:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159529652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Please help testing that #7095 and #7083 solve your compile issue, they're waiting on someone to  check with openssl 1.1.",
      "created_at" : "2015-11-26T09:48:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159860930",
      "id" : 159860930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T09:48:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159860930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Sorry @laanwj but this is the first time I've had a request like that and don't know the standard way of testing those pull requests.\r\nI \"fetch\"ed and \"pull\"ed\r\n```\r\ncommit be281d8a83ca8fe7cf785a4608d1a8954b193191\r\nMerge: 2b2ddc5 9cf6688\r\nAuthor: Wladimir J. van der Laan <laanwj@gmail.com>\r\nDate:   Thu Nov 26 08:32:38 2015 +0100\r\n\r\n    Merge pull request #7087\r\n```\r\nbut of course that wouldn't be it since those PR's are waiting to be merged into Master.",
      "created_at" : "2015-11-26T10:33:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159871846",
      "id" : 159871846,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T10:33:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159871846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4075850?v=3",
         "events_url" : "https://api.github.com/users/vindicatorr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vindicatorr/followers",
         "following_url" : "https://api.github.com/users/vindicatorr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vindicatorr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vindicatorr",
         "id" : 4075850,
         "login" : "vindicatorr",
         "organizations_url" : "https://api.github.com/users/vindicatorr/orgs",
         "received_events_url" : "https://api.github.com/users/vindicatorr/received_events",
         "repos_url" : "https://api.github.com/users/vindicatorr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vindicatorr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vindicatorr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vindicatorr"
      }
   },
   {
      "body" : "Start with master then:\r\n```\r\ngit checkout -b test\r\ngit fetch https://github.com/bitcoin/bitcoin.git refs/pull/7083/head\r\ngit merge FETCH_HEAD\r\ngit fetch https://github.com/bitcoin/bitcoin.git refs/pull/7096/head\r\ngit merge FETCH_HEAD\r\n```\r\nThen you can test with the two pulls merged. When you're done, you can switch away from your new branch and delete it\r\n```\r\ngit checkout master\r\ngit branch -D test\r\n```\r\n",
      "created_at" : "2015-11-26T10:59:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159880440",
      "id" : 159880440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T10:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159880440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Nope\r\n```\r\n  CXX      wallet/libbitcoin_wallet_a-walletdb.o\r\n  AR       libbitcoin_wallet.a\r\n  CXXLD    bitcoind\r\nlibbitcoin_server.a(libbitcoin_server_a-init.o): In function `AppInit2(boost::thread_group&, CScheduler&)':\r\ninit.cpp:(.text+0xd5b4): undefined reference to `OpenSSL_version'\r\ncollect2: error: ld returned 1 exit status\r\nMakefile:2749: recipe for target 'bitcoind' failed\r\nmake[2]: *** [bitcoind] Error 1\r\n```\r\ninit.cpp\r\n```\r\n    if (fPrintToDebugLog)\r\n        OpenDebugLog();\r\n\r\n#if (OPENSSL_VERSION_NUMBER < 0x10100000L)\r\n    LogPrintf(\"Using OpenSSL version %s\\n\", SSLeay_version(SSLEAY_VERSION));\r\n#else\r\n    LogPrintf(\"Using OpenSSL version %s\\n\", OpenSSL_version(OPENSSL_VERSION));\r\n#endif\r\n\r\n#ifdef ENABLE_WALLET\r\n    LogPrintf(\"Using BerkeleyDB version %s\\n\", DbEnv::version(0, 0, 0));\r\n#endif\r\n    if (!fLogTimestamps)\r\n```\r\n\r\ncrypto.h\r\n```\r\n# define OPENSSL_MALLOC_MAX_NELEMS(type)  (((1U<<(sizeof(int)*8-1))-1)/sizeof(type))\r\n\r\nunsigned long OpenSSL_version_num(void);\r\nconst char *OpenSSL_version(int type);\r\n# define OPENSSL_VERSION          0\r\n```\r\n\r\nlibcrypto.pc\r\n```\r\nprefix=/usr/local/ssl\r\nexec_prefix=${prefix}\r\nlibdir=${exec_prefix}/lib\r\nincludedir=${prefix}/include\r\n\r\nName: OpenSSL-libcrypto\r\nDescription: OpenSSL cryptography library\r\nVersion: 1.1.0-dev\r\nRequires: \r\nLibs: -L${libdir} -lcrypto\r\nLibs.private: -ldl\r\nCflags: -I${includedir}\r\n```\r\n(at first I messed up because I copied/pasted your commands without noticing you typed 7096 instead of 7095, not that it matters because 7083 should have been the fix regarding OpenSSL_version).",
      "created_at" : "2015-11-26T14:53:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159932142",
      "id" : 159932142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T14:53:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159932142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4075850?v=3",
         "events_url" : "https://api.github.com/users/vindicatorr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vindicatorr/followers",
         "following_url" : "https://api.github.com/users/vindicatorr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vindicatorr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vindicatorr",
         "id" : 4075850,
         "login" : "vindicatorr",
         "organizations_url" : "https://api.github.com/users/vindicatorr/orgs",
         "received_events_url" : "https://api.github.com/users/vindicatorr/received_events",
         "repos_url" : "https://api.github.com/users/vindicatorr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vindicatorr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vindicatorr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vindicatorr"
      }
   },
   {
      "body" : "@vindicatorr Can you paste `git log --oneline -5` and the commit hash of the version of openSSL you are using?\r\n\r\nI am running https://github.com/openssl/openssl/commit/3bbd1d63e2d77e4e36e869640086f74714b3a4ee and faf12bc. So I get:\r\n\r\n```\r\n$ src/bitcoind -regtest -printtoconsole |grep version\r\n2015-11-26 16:07:22 Bitcoin version v0.11.99.0-faf12bc (2015-11-24 09:07:26 +0100)\r\n2015-11-26 16:07:22 Using OpenSSL version OpenSSL 1.1.0-dev xx XXX xxxx\r\n```",
      "created_at" : "2015-11-26T16:08:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159950414",
      "id" : 159950414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T16:08:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159950414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke \r\nbitcoin\r\n```\r\n# git log --oneline -5\r\n34abe02 Merge commit 'refs/pull/7095/head' of https://github.com/bitcoin/bitcoin into test\r\n3e1d277 Merge commit 'refs/pull/7083/head' of https://github.com/bitcoin/bitcoin into test\r\nbe281d8 Merge pull request #7087\r\n4ec3561 Replace scriptnum_test's normative ScriptNum implementation\r\n2b2ddc5 Merge pull request #7088\r\n```\r\n\r\nopenssl\r\n```\r\n# git log --oneline -1\r\n46ddbcf Fix a rebase error\r\n```",
      "created_at" : "2015-11-26T16:22:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7086#issuecomment-159952744",
      "id" : 159952744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7086",
      "updated_at" : "2015-11-26T16:22:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159952744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4075850?v=3",
         "events_url" : "https://api.github.com/users/vindicatorr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vindicatorr/followers",
         "following_url" : "https://api.github.com/users/vindicatorr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vindicatorr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vindicatorr",
         "id" : 4075850,
         "login" : "vindicatorr",
         "organizations_url" : "https://api.github.com/users/vindicatorr/orgs",
         "received_events_url" : "https://api.github.com/users/vindicatorr/received_events",
         "repos_url" : "https://api.github.com/users/vindicatorr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vindicatorr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vindicatorr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vindicatorr"
      }
   }
]
