[
   {
      "body" : "After making travis happy (https://travis-ci.org/bitcoin/bitcoin/builds/93038691 thanks to @theuni ) I force push with some squashes, some suggestions (not all yet) collected from @theuni on IRC and one of the commits nacked and deleted (unifying the crypto and consensus packages).\r\nInterestingly enough, travis thinks that new branch is utterly wrong unless you use mac (see https://travis-ci.org/bitcoin/bitcoin/builds/93061856 ). \r\n\r\nBuilding locally on xubuntu-0.14, it is clear to me that I'm not using the following commands efficiently when touching Makefile.am:\r\n```\r\nmake clean\r\ngit clean -fdx\r\n./autogen.sh\r\n```\r\nAdvice welcomed.",
      "created_at" : "2015-11-25T00:16:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7091#issuecomment-159445646",
      "id" : 159445646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7091",
      "updated_at" : "2015-11-25T13:26:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159445646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Sorry for abusing travis but I got really paranoid while trying to find the needles (https://github.com/jtimon/bitcoin/compare/consensus-build...jtimon:consensus-build-full).\r\nI really don't understand why the order of the packages in, for example, bitcoind_LDADD matters at linking time (including the local desperate random over-cleaning mentioned before).\r\n@sipa said on IRC that it shouldn't matter too. If anyone else can bring some light to this, it would be very welcomed. ",
      "created_at" : "2015-11-26T17:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7091#issuecomment-159969293",
      "id" : 159969293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7091",
      "updated_at" : "2015-11-26T17:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159969293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "To clarify: it's my understanding that the problem is that autotools generate both the command-line arguments to the linker, and the emitted rules in the makefile in the same order, based on the order of things in LDADD.\r\n\r\nThe order of arguments to the linker does matter (needs to be in order from dependers to dependencies), but for fast-failure behaviour, @jtimon wants them to be build in order from dependency to depender, which seems reasonable.\r\n\r\n@theuni Any idea about this?",
      "created_at" : "2015-11-28T12:55:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7091#issuecomment-160292030",
      "id" : 160292030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7091",
      "updated_at" : "2015-11-28T12:55:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160292030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Yes, @sipa, that's what I would like: that packages are built in the opposite way they have to be listed for linking (ie lowest level things first). I was going to ask something like that in http://github.com/jtimon/bitcoin/commit/4f5cf2655f150c65748989aef97c3b7f6a78f9d7#commitcomment-14660501 but your explanation is more complete.\r\nIn any case, if that is possible, I think it would probably make sense to do that in a separate PR and leave this one as it is (module review/nits).",
      "created_at" : "2015-11-28T13:16:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7091#issuecomment-160295304",
      "id" : 160295304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7091",
      "updated_at" : "2015-11-28T13:16:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160295304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "By the way, the building order discussion is related to https://github.com/bitcoin/bitcoin/pull/5112",
      "created_at" : "2015-11-28T13:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7091#issuecomment-160295773",
      "id" : 160295773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7091",
      "updated_at" : "2015-11-28T13:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160295773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
