[
   {
      "body" : "I'd rather have it that the API is such that an explicit rescan is never needed. Wasn't there some work on a multi-import w/ timestamps?",
      "created_at" : "2015-11-19T15:14:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158085542",
      "id" : 158085542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-19T15:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158085542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yes. There is a PR (see PR description). I agree that it would be better to avoid rescans at all, although it might be complicated to catch all edge-cases and a manual trigger can help in situations where someone needs to deal with multiple/complex imports (you only want to do one rescan).\r\n\r\nAnd I think some people will cancel a rescan because they want to do other stuff and/or had not considered that a rescan can take a long time. Afterward calling `-rescan` (from genesis) is a time consuming option.",
      "created_at" : "2015-11-19T15:19:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158087136",
      "id" : 158087136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-19T15:19:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158087136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "But manually specifying a block # to rescan from is extremely fragile... it's very easy to get this wrong.\r\n\r\nAlso, rescanning doesn't interact with pruning which will be more and more common in the future.\r\n",
      "created_at" : "2015-11-19T15:35:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158091775",
      "id" : 158091775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-19T15:35:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158091775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@lannwj I thought thats part of what  the height parameter here was for-- addressing pruning comparability? ",
      "created_at" : "2015-11-19T20:29:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158188617",
      "id" : 158188617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-19T20:29:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158188617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "How about we call this rescanfromheight instead, to make it possible to add a rescanfromtime later if users demand? Equally, some kind of RPC call that finds the first block with a nTime after a specific time might be useful here.\r\n\r\nDo we have a way of querying what block # is the oldest non-pruned block?",
      "created_at" : "2015-11-20T22:03:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158538274",
      "id" : 158538274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-20T22:03:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158538274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "It also occurs to me that for this usecase we might instead want to have pruning not happen automatically, but rather be an  on-demand thing where the user specifies the oldest time they're interested in.",
      "created_at" : "2015-11-20T22:04:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7061#issuecomment-158538629",
      "id" : 158538629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7061",
      "updated_at" : "2015-11-20T22:04:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158538629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   }
]
