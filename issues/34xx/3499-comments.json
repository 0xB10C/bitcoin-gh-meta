[
   {
      "body" : "As for the console window: we need to add an `-mwindows` to the linking step of the bitcoin-qt.exe (but NOT bitcoind.exe or bitcoin-cli.exe, as they need a console).\r\n\r\nFor the icon I think we need to compile and link in the win32 resources file `src/qt/res/bitcoin-qt.rc`.\r\n\r\n@theuni Do you have a suggestion on how to do this with autotools?\r\n\r\n",
      "created_at" : "2014-01-10T08:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32011609",
      "id" : 32011609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T08:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32011609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "AFAIK there are res files for bitcoind.exe and bitcoin-cli.exe already...\r\nThe lines that are responsible for adding an icon to an executable file are (from: bitcoin-qt-res.rc)\r\n<pre>\r\nIDI_ICON1 ICON DISCARDABLE \"icons/bitcoin.ico\"\r\nIDI_ICON2 ICON DISCARDABLE \"icons/bitcoin_testnet.ico\"\r\n</pre>",
      "created_at" : "2014-01-10T10:24:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32016542",
      "id" : 32016542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T10:30:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32016542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "The problem is that they aren't used.\r\n",
      "created_at" : "2014-01-10T10:49:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32018126",
      "id" : 32018126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T10:49:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32018126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "AFAIK @theuni added a patch, that they should be used some time ago?\r\nAnyway, the only file that adds an icon, is the .rc file for Bitcoin Core, the .rc files for bitcoind.exe and bitcoin-cli.exe are missing the mentioned entries from above.",
      "created_at" : "2014-01-10T10:55:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32018538",
      "id" : 32018538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T10:55:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32018538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Ok, so `bitcoind.exe`  and `bitcoin-cli.exe` are fine?\r\n\r\nBut the gitian-built `bitcoin-qt.exe` however has no icon and opens a console window. Is this the same for your local builds or a gitian problem?\r\n",
      "created_at" : "2014-01-10T11:18:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32019833",
      "id" : 32019833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T11:18:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32019833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Must be a Gitian problem, as I have an icon and also no console window.",
      "created_at" : "2014-01-10T11:49:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32021444",
      "id" : 32021444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-10T11:49:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32021444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo can you confirm with self-built/gitian .exe's exactly what the issues are here? I'm happy to fix, but I'm in the dark without Windows.",
      "created_at" : "2014-01-11T15:05:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32098258",
      "id" : 32098258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-11T15:05:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32098258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "I don't Gitian build and (sorry) also didn't yet test the now merged Qt5 autotools patch (great work btw.).\r\nMy local builds currently rely on an older bitcoin-qt.pro files, to which I added needed changes to catch up with current master. Anyway, my bitcoin-qt.exe file has an application icon (the file itself, when viewed in Windows Explorer) and also doesn't open a blank terminal window (this can be cause by a missing ``-mwindows`` as @laanwj suggests or perhaps we have some debugging stuff enabled? dunno).",
      "created_at" : "2014-01-11T17:05:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32101135",
      "id" : 32101135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-11T17:06:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32101135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Note that the blank terminal window is not always blank -- it's the output (I don't know if it's stdout, stderr, or something else). I have -tor set in my config file, and the terminal window that opens with the GUI shows a message about the option being renamed to -onion in a future release.",
      "created_at" : "2014-01-16T10:01:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32455594",
      "id" : 32455594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-16T10:01:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32455594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "Indeed, the console window is Windows standard output, anything that's written to standard output ends up there.\r\n\r\n",
      "created_at" : "2014-01-16T10:15:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-32456558",
      "id" : 32456558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-16T10:15:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32456558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@theuni Do you have any recommendations on how to make sure that -mwindows is passed when linking bitcoin-qt.exe? I know how to do it, but maybe you have a preference as to how.\r\n\r\n",
      "created_at" : "2014-01-24T13:35:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-33222736",
      "id" : 33222736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-24T13:35:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33222736",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "If you want to distinguish between the two subsystem modes without Windows you can use the following commands:\r\n\r\nGood:\r\n\r\n    $ objdump -x bitcoin-0.8.99-win32-setup.exe | grep -i \"^Subsystem\"\r\n    Subsystem               00000002        (Windows GUI)\r\n    $ objdump -x bitcoind.exe |grep -i \"^Subsystem\"\r\n    Subsystem               00000003        (Windows CUI)\r\n    $ objdump -x bitcoin-cli.exe |grep -i \"^Subsystem\"\r\n    Subsystem               00000003        (Windows CUI)\r\n\r\nWrong, should be GUI:\r\n\r\n    $ objdump -x bitcoin-qt.exe |grep -i \"^Subsystem\"\r\n    Subsystem               00000003        (Windows CUI)\r\n",
      "created_at" : "2014-01-26T12:46:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-33315960",
      "id" : 33315960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-26T12:46:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33315960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Need to check -mwindows in configure before passing it along (AX_CHECK_LINK_FLAG), then pass it along in a GUI_FLAGS or so. I'll push up a patch in a few hours when I can build/test.",
      "created_at" : "2014-01-26T16:57:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3499#issuecomment-33322238",
      "id" : 33322238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3499",
      "updated_at" : "2014-01-26T16:57:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33322238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
