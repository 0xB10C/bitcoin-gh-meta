[
   {
      "body" : "Looking on google, error -30974 is DB_VERSION_MISMATCH\r\n\r\nThis means you are probably using bitcoin compiled against BDB 4.8 and BDB 5.1 interchangeably. Using a wallet produced with BDB 5.1 with BDB 4.8 causes this error (no backward compatibility).\r\nJust move the wallet out of the way and it should work again. If it was never used, at least you don't need to recover anything.\r\n\r\nBTW: Git master has a `--disable-wallet` compilation option as well as as `-disable-wallet`, this may help you in this case.\r\n",
      "created_at" : "2014-01-08T07:56:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31811786",
      "id" : 31811786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T07:56:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31811786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "\"Just move the wallet out of the way and it should work again.\"\r\n\r\nEvery time this happens I just delete the wallet entirely and start up again. After a several days it happens again.\r\n\r\nI'm not recompiling bitcoind, or taking any actions at all that should affect the wallet, in between manifestations of this bug.",
      "created_at" : "2014-01-08T08:00:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31811973",
      "id" : 31811973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:03:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31811973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1255702?v=3",
         "events_url" : "https://api.github.com/users/justusranvier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/justusranvier/followers",
         "following_url" : "https://api.github.com/users/justusranvier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/justusranvier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/justusranvier",
         "id" : 1255702,
         "login" : "justusranvier",
         "organizations_url" : "https://api.github.com/users/justusranvier/orgs",
         "received_events_url" : "https://api.github.com/users/justusranvier/received_events",
         "repos_url" : "https://api.github.com/users/justusranvier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/justusranvier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/justusranvier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/justusranvier"
      }
   },
   {
      "body" : "That's strange...\r\nAre you removing any other wallet-related files (for example, the database environment) from ~/.bitcoin manually between startups?\r\nOr maybe doing unclean shutdowns?\r\n\r\n",
      "created_at" : "2014-01-08T08:08:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31812258",
      "id" : 31812258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:08:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31812258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I haven't been removing the database directory. I can try that.\r\n\r\nHaven't had any unclean shutdowns in recent memory, just clean shutdowns and the ones caused by this error.",
      "created_at" : "2014-01-08T08:12:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31812432",
      "id" : 31812432,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:12:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31812432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1255702?v=3",
         "events_url" : "https://api.github.com/users/justusranvier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/justusranvier/followers",
         "following_url" : "https://api.github.com/users/justusranvier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/justusranvier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/justusranvier",
         "id" : 1255702,
         "login" : "justusranvier",
         "organizations_url" : "https://api.github.com/users/justusranvier/orgs",
         "received_events_url" : "https://api.github.com/users/justusranvier/received_events",
         "repos_url" : "https://api.github.com/users/justusranvier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/justusranvier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/justusranvier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/justusranvier"
      }
   },
   {
      "body" : "I just did a clean shutdown and noted the database directory was not present after the shutdown (did not need to delete it manually).\r\n\r\nI deleted the new wallet.dat it just got done creating and restarted again.",
      "created_at" : "2014-01-08T08:15:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31812551",
      "id" : 31812551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31812551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1255702?v=3",
         "events_url" : "https://api.github.com/users/justusranvier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/justusranvier/followers",
         "following_url" : "https://api.github.com/users/justusranvier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/justusranvier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/justusranvier",
         "id" : 1255702,
         "login" : "justusranvier",
         "organizations_url" : "https://api.github.com/users/justusranvier/orgs",
         "received_events_url" : "https://api.github.com/users/justusranvier/received_events",
         "repos_url" : "https://api.github.com/users/justusranvier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/justusranvier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/justusranvier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/justusranvier"
      }
   },
   {
      "body" : "This is almost scary.\r\nCould there be some other process messing with your wallet.dat?",
      "created_at" : "2014-01-08T08:24:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31812910",
      "id" : 31812910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:24:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31812910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The node is running in a headless virtual machine with nothing else running except bitcoind (that I've put there anyway).\r\n\r\nI can start keeping copies of the problematic wallet.dat files.",
      "created_at" : "2014-01-08T08:27:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-31813071",
      "id" : 31813071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-01-08T08:27:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/31813071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1255702?v=3",
         "events_url" : "https://api.github.com/users/justusranvier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/justusranvier/followers",
         "following_url" : "https://api.github.com/users/justusranvier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/justusranvier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/justusranvier",
         "id" : 1255702,
         "login" : "justusranvier",
         "organizations_url" : "https://api.github.com/users/justusranvier/orgs",
         "received_events_url" : "https://api.github.com/users/justusranvier/received_events",
         "repos_url" : "https://api.github.com/users/justusranvier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/justusranvier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/justusranvier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/justusranvier"
      }
   },
   {
      "body" : "I'd recommend upgrading to 0.9.x and running with `-disablewallet` (or if you compile it yourself, compiling bitcoin without wallet support with `--disable-wallet`).",
      "created_at" : "2014-05-02T18:10:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3496#issuecomment-42060915",
      "id" : 42060915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3496",
      "updated_at" : "2014-05-02T18:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42060915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
