{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "This PR opens up the annex in a limited way:\r\n\r\n* If any one of the inputs commits to an annex, all inputs must. This is a mechanism to opt-in to annex use, preventing participants in a multi-party transaction from adding an unexpected annex which would increase the tx weight and lower the fee rate. See https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021736.html\r\n\r\n* Allow empty annexes, to let users opt-in to annex usage with the minimum number of bytes.\r\n\r\n* Additionally, only allow annexes that start with `0x00`. This keeps open the possibility to support structured annexes such as for example the tlv format proposed in https://github.com/bitcoin/bips/pull/1381. A potential future structured format would start with a non-zero byte.\r\n\r\n* Limit the maximum size of unstructured annex data to 256 bytes. Including the annex tag 0x50 and the unstructured data tag 0x00, this makes for a maximum total witness element size of 258 bytes. This upper limit somewhat protects participants in a multi-party transaction that uses the annex against annex inflation.\r\n\r\n  The constant 256 is chosen so that it provides enough space to accommodate several schnorr signatures. This is useful for implementing annex covenants with multiple presigned transactions. For a PoC of a single transaction annex covenant, see https://github.com/joostjager/annex-covenants",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/comments",
   "created_at" : "2023-06-21T11:23:26Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/27926",
   "id" : 1767367995,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 82428251,
         "name" : "TX fees and policy",
         "node_id" : "MDU6TGFiZWw4MjQyODI1MQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585TiQc8",
   "number" : 27926,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/27926.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27926",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/27926.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/timeline",
   "title" : "policy: make unstructured annex standard",
   "updated_at" : "2023-06-21T11:23:30Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27926",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/4638168?v=4",
      "events_url" : "https://api.github.com/users/joostjager/events{/privacy}",
      "followers_url" : "https://api.github.com/users/joostjager/followers",
      "following_url" : "https://api.github.com/users/joostjager/following{/other_user}",
      "gists_url" : "https://api.github.com/users/joostjager/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/joostjager",
      "id" : 4638168,
      "login" : "joostjager",
      "node_id" : "MDQ6VXNlcjQ2MzgxNjg=",
      "organizations_url" : "https://api.github.com/users/joostjager/orgs",
      "received_events_url" : "https://api.github.com/users/joostjager/received_events",
      "repos_url" : "https://api.github.com/users/joostjager/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/joostjager/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/joostjager/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/joostjager"
   }
}
