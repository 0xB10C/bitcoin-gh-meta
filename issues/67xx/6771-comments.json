[
   {
      "body" : "Concept ACK.",
      "created_at" : "2015-10-06T20:57:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-145998556",
      "id" : 145998556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-06T20:57:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145998556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Are there any other use cases than excessive gambling and spam that require more than 3 unconfirmed ancestors? \r\nThis seems like a good opportunity to fight spam without downsides for regular users. ",
      "created_at" : "2015-10-06T21:57:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146013734",
      "id" : 146013734,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-06T21:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146013734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13236924?v=3",
         "events_url" : "https://api.github.com/users/Mirobit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Mirobit/followers",
         "following_url" : "https://api.github.com/users/Mirobit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Mirobit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Mirobit",
         "id" : 13236924,
         "login" : "Mirobit",
         "organizations_url" : "https://api.github.com/users/Mirobit/orgs",
         "received_events_url" : "https://api.github.com/users/Mirobit/received_events",
         "repos_url" : "https://api.github.com/users/Mirobit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Mirobit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Mirobit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Mirobit"
      }
   },
   {
      "body" : "So if you're only saving 2.6%, why bother? Why not increase the max block size to 1.026Mb instead?\r\n\r\n@Mirobit Who are we to decide how bitcoin is used? What do you want to 'fight' next - porn? Donations to unsavoury nations? People who we don't agree with?",
      "created_at" : "2015-10-07T01:10:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146048208",
      "id" : 146048208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-07T01:10:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146048208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6762681?v=3",
         "events_url" : "https://api.github.com/users/NanoAkron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NanoAkron/followers",
         "following_url" : "https://api.github.com/users/NanoAkron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NanoAkron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NanoAkron",
         "id" : 6762681,
         "login" : "NanoAkron",
         "organizations_url" : "https://api.github.com/users/NanoAkron/orgs",
         "received_events_url" : "https://api.github.com/users/NanoAkron/received_events",
         "repos_url" : "https://api.github.com/users/NanoAkron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NanoAkron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NanoAkron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NanoAkron"
      }
   },
   {
      "body" : "@NanoAkron, to be clear, the goal here is not to restrict transactions.  I wish the 2.6% number was 0.0%.  Nor is the goal to prevent any specific type or kind of transaction, spam or otherwise.   The goal is only to prevent particularly constructed chains of transactions which would serve to break critical functionality of the network.  Such chains are only likely constructed for the particular purpose of attacking the entire Bitcoin system, however, the limits proposed to prevent these attacks may inadvertently restrict non-attack transactions.   I'm just trying to be as transparent as possible by acknowledging that 2.6% of recent transactions would either have to have been delayed until some of their ancestors were included in blocks or constructed from different utxos if these limits had already been in place.\r\n",
      "created_at" : "2015-10-07T01:36:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146053047",
      "id" : 146053047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-07T01:36:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146053047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41386443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41386443"
         }
      },
      "body" : "Note that this means a max size tx - 100KB - can't be respent. This could cause problems, e.g. with CPFP.",
      "commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "created_at" : "2015-10-07T13:01:14Z",
      "diff_hunk" : "@@ -44,13 +44,13 @@ static const bool DEFAULT_ALERTS = true;\n /** Default for -maxorphantx, maximum number of orphan transactions kept in memory */\n static const unsigned int DEFAULT_MAX_ORPHAN_TRANSACTIONS = 100;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_LIMIT = 100;\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 900;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 100;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41386443",
      "id" : 41386443,
      "original_commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "original_position" : 8,
      "path" : "src/main.h",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771",
      "updated_at" : "2015-10-07T13:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41386443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41428873"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41428873"
         }
      },
      "body" : "@petertodd I was assuming that if people cared about that they could limit their transactions to 99.5KB and still chain a child or two off of it to pay extra fees.   I suppose alternatively we could raise the default to 101?  \r\n\r\nThe size limits would only have restricted approx 0.01% of transactions that passed the count limits over the last several months.",
      "commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "created_at" : "2015-10-07T18:42:02Z",
      "diff_hunk" : "@@ -44,13 +44,13 @@ static const bool DEFAULT_ALERTS = true;\n /** Default for -maxorphantx, maximum number of orphan transactions kept in memory */\n static const unsigned int DEFAULT_MAX_ORPHAN_TRANSACTIONS = 100;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_LIMIT = 100;\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 900;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 100;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41428873",
      "id" : 41428873,
      "original_commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "original_position" : 8,
      "path" : "src/main.h",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771",
      "updated_at" : "2015-10-07T18:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41428873",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Example use case - bitcoin business(es) that depend on tx chains: https://twitter.com/taariqlewis/status/651160362629230592\r\n\r\n(this is notably not an endorsement of that activity, as you'll gather from reading responses)",
      "created_at" : "2015-10-07T23:30:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146366576",
      "id" : 146366576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-07T23:30:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146366576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41465323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41465323"
         }
      },
      "body" : "I would agree with @petertodd here, we should set the size limit to something like 101 or 105.",
      "commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "created_at" : "2015-10-08T00:32:47Z",
      "diff_hunk" : "@@ -44,13 +44,13 @@ static const bool DEFAULT_ALERTS = true;\n /** Default for -maxorphantx, maximum number of orphan transactions kept in memory */\n static const unsigned int DEFAULT_MAX_ORPHAN_TRANSACTIONS = 100;\n /** Default for -limitancestorcount, max number of in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_LIMIT = 100;\n+static const unsigned int DEFAULT_ANCESTOR_LIMIT = 25;\n /** Default for -limitancestorsize, maximum kilobytes of tx + all in-mempool ancestors */\n-static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 900;\n+static const unsigned int DEFAULT_ANCESTOR_SIZE_LIMIT = 100;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#discussion_r41465323",
      "id" : 41465323,
      "original_commit_id" : "6362ed4c4835d583f7c5fbe003d64d791c2bd159",
      "original_position" : 8,
      "path" : "src/main.h",
      "position" : 8,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6771",
      "updated_at" : "2015-10-08T00:32:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41465323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "The largest number of unconfirmed transaction on a single address we've seen at BlockCypher was 164. That particular customer had a burst of activity from its end-users during a period of full blocks and long block gaps.Those 164 transactions were unevenly distributed on 3 UTXOs, leading to a ~100 transactions chain. While I can't name them, a fair amount of people here have used this service, so definitely a legitimate use case.\r\n\r\nBased on this I'd keep the ancestor package at current limits and reduce the descendant package only by a factory of ~10x instead of ~40x.\r\n\r\nAt a higher level, while I believe this is a useful metric to have in Core, I'd avoid clamping down too hard on it. I'm worried it's an over-optimization without considering pool side as a whole.",
      "created_at" : "2015-10-08T02:56:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146403747",
      "id" : 146403747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-08T02:56:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146403747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4904?v=3",
         "events_url" : "https://api.github.com/users/matthieu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/matthieu/followers",
         "following_url" : "https://api.github.com/users/matthieu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/matthieu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/matthieu",
         "id" : 4904,
         "login" : "matthieu",
         "organizations_url" : "https://api.github.com/users/matthieu/orgs",
         "received_events_url" : "https://api.github.com/users/matthieu/received_events",
         "repos_url" : "https://api.github.com/users/matthieu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/matthieu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/matthieu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/matthieu"
      }
   },
   {
      "body" : "You stated that you saw a long transaction chain in production, but no reason was given as to why your customer had to chain transactions together instead of using other utxos? Are you suggesting that this customer did not otherwise have funds available to pay out when they needed to and, thus, had to chain their own transactions?\n\nCalling this a \"useful metric\" is a bit of an understatement. These limits, together, directly govern the complexity of mempool limiting algorithms and, to a slightly lesser extent, their effectiveness.\n\nOn October 7, 2015 7:56:36 PM PDT, Matthieu Riou <notifications@github.com> wrote:\n>The largest number of unconfirmed transaction on a single address we've\n>seen at BlockCypher was 164. That particular customer had a burst of\n>activity from its end-users during a period of full blocks and long\n>block gaps.Those 164 transactions were unevenly distributed on 3 UTXOs,\n>leading to a ~100 transactions chain. While I can't name them, a fair\n>amount of people here have used this service, so definitely a\n>legitimate use case.\n>\n>Based on this I'd keep the ancestor package at current limits and\n>reduce the descendant package only by a factory of ~10x instead of\n>~40x.\n>\n>At a higher level, while I believe this is a useful metric to have in\n>Core, I'd avoid clamping down too hard on it. I'm worried it's an\n>over-optimization without considering pool side as a whole.\n>\n>---\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146403747\n",
      "created_at" : "2015-10-08T03:07:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6771#issuecomment-146404812",
      "id" : 146404812,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6771",
      "updated_at" : "2015-10-08T03:07:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146404812",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
