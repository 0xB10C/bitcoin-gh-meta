[
   {
      "body" : "Concept-level:\r\n\r\na) Should we be disabling sanity checks for our own transactions? It provides a level of fallback safety. HIGHFEE check exists for a good reason\r\n\r\nb) We shouldn't be generating transactions that our own mempool doesn's accept: good chance that other nodes won't accept them either\r\n",
      "created_at" : "2015-09-26T09:26:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6726#issuecomment-143414615",
      "id" : 143414615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6726",
      "updated_at" : "2015-09-26T09:26:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/143414615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj \"sanity checks for our own [wallet created] transactions\" should be executed by the wallet code. (Which it already does)\r\n\r\n> @laanwj \"good chance that other nodes won't accept them either\".\r\n\r\nThis PR only fixes the fee-sanity-check. And other nodes accepting txs over the network don't care about (high) fees when adding them to their own mempool. (I can add test cases to this PR if you want)",
      "created_at" : "2015-09-26T09:34:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6726#issuecomment-143414888",
      "id" : 143414888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6726",
      "updated_at" : "2015-09-26T09:34:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/143414888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@laanwj The reason the fee check in AcceptToMemoryPool exists is because\nthere is no other way to sanity check the fee of raw transactions. Wallet\ntransactions are always created with a known fee anyway.\n",
      "created_at" : "2015-09-26T12:35:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6726#issuecomment-143433087",
      "id" : 143433087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6726",
      "updated_at" : "2015-09-26T12:35:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/143433087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I understand the motivation of this PR.\r\nDoes it make sense to have this absurde-fee-checks in the mempool logic? I think the mempool should not enforce a such policy.\r\n\r\nConceptual i think having a function that could check if a transaction would be accepted to the mempool (or `AcceptToMemoryPool()` with a `dontAdd` boolean).\r\n\r\nIMO the wallets send functions as well as the `sendrawtransaction` RPC call should do the necessary checks.",
      "created_at" : "2015-09-28T06:52:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6726#issuecomment-143655291",
      "id" : 143655291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6726",
      "updated_at" : "2015-09-28T06:52:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/143655291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> @jonasschnelli Does it make sense to have this absurde-fee-checks in the mempool logic?\r\n\r\nNo, see OP of #2949: The only reason to do this is \"because the inputs may not be known\".\r\n\r\nThough, I'd rather not bloat this PR and leave the dry-run logic (or whatever is better) to a follow up PR.",
      "created_at" : "2015-09-28T08:50:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6726#issuecomment-143682066",
      "id" : 143682066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6726",
      "updated_at" : "2015-09-28T08:50:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/143682066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
