[
   {
      "author_association" : "NONE",
      "body" : "@Sjors where were you making this patch? having trouble with this myself",
      "created_at" : "2020-07-31T07:00:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-666965873",
      "id" : 666965873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2Njk2NTg3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T07:00:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/666965873",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15133828?v=4",
         "events_url" : "https://api.github.com/users/jakeleventhal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakeleventhal/followers",
         "following_url" : "https://api.github.com/users/jakeleventhal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakeleventhal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakeleventhal",
         "id" : 15133828,
         "login" : "jakeleventhal",
         "node_id" : "MDQ6VXNlcjE1MTMzODI4",
         "organizations_url" : "https://api.github.com/users/jakeleventhal/orgs",
         "received_events_url" : "https://api.github.com/users/jakeleventhal/received_events",
         "repos_url" : "https://api.github.com/users/jakeleventhal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakeleventhal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakeleventhal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakeleventhal"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jakeleventhal I haven't tried. In fact I had to ditch my Big Sur machine because it was broken. Will probably upgrade another machine later this summer and try again.",
      "created_at" : "2020-07-31T17:03:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-667231051",
      "id" : 667231051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NzIzMTA1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-31T17:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/667231051",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors i only have one machine and i need it on big sur. is there a docker image you recommend using that i can just share my workspace with as a volume? one that has most of everything installed already?",
      "created_at" : "2020-08-02T06:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-667635497",
      "id" : 667635497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NzYzNTQ5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-02T06:33:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/667635497",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15133828?v=4",
         "events_url" : "https://api.github.com/users/jakeleventhal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakeleventhal/followers",
         "following_url" : "https://api.github.com/users/jakeleventhal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakeleventhal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakeleventhal",
         "id" : 15133828,
         "login" : "jakeleventhal",
         "node_id" : "MDQ6VXNlcjE1MTMzODI4",
         "organizations_url" : "https://api.github.com/users/jakeleventhal/orgs",
         "received_events_url" : "https://api.github.com/users/jakeleventhal/received_events",
         "repos_url" : "https://api.github.com/users/jakeleventhal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakeleventhal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakeleventhal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakeleventhal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Update: `cdecker/bitcoin-dev:common` is a good docker image that lets you build bitcoin for anyone who comes across this issue in the future",
      "created_at" : "2020-08-02T17:57:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-667705447",
      "id" : 667705447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2NzcwNTQ0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-02T17:57:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/667705447",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15133828?v=4",
         "events_url" : "https://api.github.com/users/jakeleventhal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakeleventhal/followers",
         "following_url" : "https://api.github.com/users/jakeleventhal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakeleventhal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakeleventhal",
         "id" : 15133828,
         "login" : "jakeleventhal",
         "node_id" : "MDQ6VXNlcjE1MTMzODI4",
         "organizations_url" : "https://api.github.com/users/jakeleventhal/orgs",
         "received_events_url" : "https://api.github.com/users/jakeleventhal/received_events",
         "repos_url" : "https://api.github.com/users/jakeleventhal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakeleventhal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakeleventhal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakeleventhal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It seems that passing --enable-posixmutexes is sufficient to get configure to continue and the build to succeed. This finds /POSIX/pthreads/private when looking for mutexes. Not sure if the build libdb behaves properly though.",
      "created_at" : "2020-09-21T12:14:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-696075232",
      "id" : 696075232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjA3NTIzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-21T12:14:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696075232",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/388177?v=4",
         "events_url" : "https://api.github.com/users/BioMike/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BioMike/followers",
         "following_url" : "https://api.github.com/users/BioMike/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BioMike/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BioMike",
         "id" : 388177,
         "login" : "BioMike",
         "node_id" : "MDQ6VXNlcjM4ODE3Nw==",
         "organizations_url" : "https://api.github.com/users/BioMike/orgs",
         "received_events_url" : "https://api.github.com/users/BioMike/received_events",
         "repos_url" : "https://api.github.com/users/BioMike/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BioMike/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BioMike/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BioMike"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It seems that passing --enable-posixmutexes is sufficient to get configure to continue and the build to succeed. This finds /POSIX/pthreads/private when looking for mutexes. Not sure if the build libdb behaves properly though.",
      "created_at" : "2020-09-21T12:14:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-696075288",
      "id" : 696075288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjA3NTI4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-21T12:14:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696075288",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/388177?v=4",
         "events_url" : "https://api.github.com/users/BioMike/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BioMike/followers",
         "following_url" : "https://api.github.com/users/BioMike/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BioMike/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BioMike",
         "id" : 388177,
         "login" : "BioMike",
         "node_id" : "MDQ6VXNlcjM4ODE3Nw==",
         "organizations_url" : "https://api.github.com/users/BioMike/orgs",
         "received_events_url" : "https://api.github.com/users/BioMike/received_events",
         "repos_url" : "https://api.github.com/users/BioMike/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BioMike/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BioMike/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BioMike"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@BioMike I tried `contrib/install_db4.sh . --enable-posixmutexes` but it still fails for me with `checking for mutexes... configure: error: unable to find POSIX 1003.1 mutex interfaces`",
      "created_at" : "2020-09-22T10:41:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-696642445",
      "id" : 696642445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5NjY0MjQ0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-22T10:41:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696642445",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors Did you solve it? I'm stuck as you at this same error after tried with --enable-posixmutexes",
      "created_at" : "2020-09-24T20:12:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-698564291",
      "id" : 698564291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODU2NDI5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-24T20:12:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698564291",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/46746362?v=4",
         "events_url" : "https://api.github.com/users/Original-Tasty/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Original-Tasty/followers",
         "following_url" : "https://api.github.com/users/Original-Tasty/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Original-Tasty/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Original-Tasty",
         "id" : 46746362,
         "login" : "Original-Tasty",
         "node_id" : "MDQ6VXNlcjQ2NzQ2MzYy",
         "organizations_url" : "https://api.github.com/users/Original-Tasty/orgs",
         "received_events_url" : "https://api.github.com/users/Original-Tasty/received_events",
         "repos_url" : "https://api.github.com/users/Original-Tasty/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Original-Tasty/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Original-Tasty/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Original-Tasty"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "How about --with-mutex=Darwin/_spin_lock_try?",
      "created_at" : "2020-09-25T10:04:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-698843771",
      "id" : 698843771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5ODg0Mzc3MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-25T10:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698843771",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/388177?v=4",
         "events_url" : "https://api.github.com/users/BioMike/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BioMike/followers",
         "following_url" : "https://api.github.com/users/BioMike/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BioMike/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BioMike",
         "id" : 388177,
         "login" : "BioMike",
         "node_id" : "MDQ6VXNlcjM4ODE3Nw==",
         "organizations_url" : "https://api.github.com/users/BioMike/orgs",
         "received_events_url" : "https://api.github.com/users/BioMike/received_events",
         "repos_url" : "https://api.github.com/users/BioMike/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BioMike/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BioMike/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BioMike"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Mmm, that's at least a different error:\r\n```\r\n./libtool --mode=compile cc -c -I. -I/Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/..  -O3  /Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/../mutex/mut_tas.c\r\nlibtool: compile:  cc -c -I. -I/Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/.. -O3 /Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/../mutex/mut_tas.c  -fno-common -DPIC -o mut_tas.o\r\n/Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/../mutex/mut_tas.c:140:34: error: implicit declaration of function 'atomic_compare_exchange' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                if (MUTEXP_IS_BUSY(mutexp) || !MUTEXP_ACQUIRE(mutexp)) {\r\n                                               ^\r\n/Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/../dbinc/mutex_int.h:1056:2: note: expanded from macro 'MUTEXP_ACQUIRE'\r\n        atomic_compare_exchange(env,                            \\\r\n        ^\r\n/Users/sjors/dev/bitcoin/db4/db-4.8.30.NC/dist/../mutex/mut_tas.c:336:8: error: implicit declaration of function 'atomic_compare_exchange' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n                    !atomic_compare_exchange(env,\r\n                     ^\r\n2 errors generated.\r\nmake: *** [mut_tas.o] Error 1\r\n```",
      "created_at" : "2020-09-28T15:00:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-700063324",
      "id" : 700063324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMDA2MzMyNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-28T15:00:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700063324",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors I just upgraded to Big Sur and saw this issue mentioned in the meeting...\r\n\r\nI can get this to compile by using brew-installed llvm like so:\r\n\r\n```\r\nbrew install llvm\r\nexport LLVM_PREFIX=$(brew --prefix llvm)\r\nCC=$LLVM_PREFIX/bin/clang CXX=$LLVM_PREFIX/bin/clang++ LDFLAGS=\"-L$LLVM_PREFIX/opt/llvm/lib -Wl,-rpath,$LLVM_PREFIX/opt/llvm/lib\" ./contrib/install_db4.sh .\r\n```",
      "created_at" : "2020-10-08T19:26:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19411#issuecomment-705775164",
      "id" : 705775164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19411",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNTc3NTE2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-08T19:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/705775164",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
