[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "At commit a24806c25d7a81a9c436de58eb5778d93abab16b, gmake check is now working just fine on my NetBSD test machine with the configure.ac changes in this PR..",
      "created_at" : "2020-07-03T03:30:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#issuecomment-653321580",
      "id" : 653321580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19430",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1MzMyMTU4MA==",
      "updated_at" : "2020-07-03T03:30:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/653321580",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/607777?v=4",
         "events_url" : "https://api.github.com/users/midnightmagic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/midnightmagic/followers",
         "following_url" : "https://api.github.com/users/midnightmagic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/midnightmagic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/midnightmagic",
         "id" : 607777,
         "login" : "midnightmagic",
         "node_id" : "MDQ6VXNlcjYwNzc3Nw==",
         "organizations_url" : "https://api.github.com/users/midnightmagic/orgs",
         "received_events_url" : "https://api.github.com/users/midnightmagic/received_events",
         "repos_url" : "https://api.github.com/users/midnightmagic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/midnightmagic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/midnightmagic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/midnightmagic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r452188202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452188202"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you canging this around? In general we prefer putting the environment variables after the `./configure` because then they are retained if configure is automatically re-run by the build system (e.g. after a git pul lthat changes one of the build system files).",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-09T12:42:21Z",
      "diff_hunk" : "@@ -54,27 +52,24 @@ export BDB_PREFIX=\"$PWD/db4\"\n With wallet:\n ```bash\n ./autogen.sh\n-./configure --with-gui=no CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BOOST_CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    BOOST_LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" \\\n-    BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n-    MAKE=gmake\n+\n+MAKE=\"gmake\" \\\n+CPPFLAGS=\"-I/usr/pkg/include\" LDFLAGS=\"-L/usr/pkg/lib -Wl,-R/usr/pkg/lib\" \\\n+BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n+./configure --with-gui=no --with-boost=/usr/pkg",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r452188202",
      "id" : 452188202,
      "line" : 59,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4ODIwMg==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 59,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "doc/build-netbsd.md",
      "position" : 65,
      "pull_request_review_id" : 445577280,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-09T12:42:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452188202",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r452443066"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452443066"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not stuck on why particular way, or order, of anything. It's entirely a habit born of porting stuff to NetBSD, idea being to keep changes as unobtrusive and light as possible, and to leave the onus on the NetBSD side to maintain/make changes that are specific to NetBSD. I can switch it up if you think that's better. I don't think any of these things will (presumably) ever be run on anything but an end-user's NetBSD machine who is doing a manual one-off build and carefully testing it by hand.",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-09T19:31:12Z",
      "diff_hunk" : "@@ -54,27 +52,24 @@ export BDB_PREFIX=\"$PWD/db4\"\n With wallet:\n ```bash\n ./autogen.sh\n-./configure --with-gui=no CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BOOST_CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    BOOST_LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" \\\n-    BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n-    MAKE=gmake\n+\n+MAKE=\"gmake\" \\\n+CPPFLAGS=\"-I/usr/pkg/include\" LDFLAGS=\"-L/usr/pkg/lib -Wl,-R/usr/pkg/lib\" \\\n+BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n+./configure --with-gui=no --with-boost=/usr/pkg",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r452443066",
      "id" : 452443066,
      "in_reply_to_id" : 452188202,
      "line" : 59,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ0MzA2Ng==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 59,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "doc/build-netbsd.md",
      "position" : 65,
      "pull_request_review_id" : 445908753,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-09T19:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452443066",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/607777?v=4",
         "events_url" : "https://api.github.com/users/midnightmagic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/midnightmagic/followers",
         "following_url" : "https://api.github.com/users/midnightmagic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/midnightmagic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/midnightmagic",
         "id" : 607777,
         "login" : "midnightmagic",
         "node_id" : "MDQ6VXNlcjYwNzc3Nw==",
         "organizations_url" : "https://api.github.com/users/midnightmagic/orgs",
         "received_events_url" : "https://api.github.com/users/midnightmagic/received_events",
         "repos_url" : "https://api.github.com/users/midnightmagic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/midnightmagic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/midnightmagic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/midnightmagic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r455012655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/455012655"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd prefer to keep it as-is, it's the convention that we use everywhere and if there is no need to deviate from it on NetBSD, it's better to keep it more or less the same. This makes maintenance easier for us.",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-15T12:28:03Z",
      "diff_hunk" : "@@ -54,27 +52,24 @@ export BDB_PREFIX=\"$PWD/db4\"\n With wallet:\n ```bash\n ./autogen.sh\n-./configure --with-gui=no CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BOOST_CPPFLAGS=\"-I/usr/pkg/include\" \\\n-    BOOST_LDFLAGS=\"-L/usr/pkg/lib\" \\\n-    BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" \\\n-    BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n-    MAKE=gmake\n+\n+MAKE=\"gmake\" \\\n+CPPFLAGS=\"-I/usr/pkg/include\" LDFLAGS=\"-L/usr/pkg/lib -Wl,-R/usr/pkg/lib\" \\\n+BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n+./configure --with-gui=no --with-boost=/usr/pkg",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r455012655",
      "id" : 455012655,
      "in_reply_to_id" : 452188202,
      "line" : 59,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAxMjY1NQ==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 59,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "doc/build-netbsd.md",
      "position" : 65,
      "pull_request_review_id" : 448902967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-15T12:28:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/455012655",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459787510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459787510"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Isn't there a better way to detect this condition?",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-23T23:44:43Z",
      "diff_hunk" : "@@ -1015,11 +1015,18 @@ AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <stdint.h>\n \n dnl LevelDB platform checks\n AC_MSG_CHECKING(for fdatasync)\n+case $host in\n+  *netbsd*)\n+AC_MSG_RESULT(no because NetBSD will not fdatasync on directories and this breaks leveldb); HAVE_FDATASYNC=0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459787510",
      "id" : 459787510,
      "line" : 1020,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc4NzUxMA==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 1020,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 6,
      "pull_request_review_id" : 454565501,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-23T23:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459787510",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459787959"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459787959"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We use `fdatasync` on files in `FileCommit`. Currently, it checks `__linux__ || __NetBSD__`, but it really should be using `HAVE_FDATASYNC` defined here.\r\n\r\nSome other solution seems desirable...",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-23T23:46:13Z",
      "diff_hunk" : "@@ -1015,11 +1015,18 @@ AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <stdint.h>\n \n dnl LevelDB platform checks\n AC_MSG_CHECKING(for fdatasync)\n+case $host in\n+  *netbsd*)\n+AC_MSG_RESULT(no because NetBSD will not fdatasync on directories and this breaks leveldb); HAVE_FDATASYNC=0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459787959",
      "id" : 459787959,
      "line" : 1020,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc4Nzk1OQ==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 1020,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 6,
      "pull_request_review_id" : 454565501,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-23T23:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459787959",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459813237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459813237"
         }
      },
      "author_association" : "NONE",
      "body" : "Is this a NetBSD bug?",
      "commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "created_at" : "2020-07-24T01:32:07Z",
      "diff_hunk" : "@@ -1015,11 +1015,18 @@ AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <stdint.h>\n \n dnl LevelDB platform checks\n AC_MSG_CHECKING(for fdatasync)\n+case $host in\n+  *netbsd*)\n+AC_MSG_RESULT(no because NetBSD will not fdatasync on directories and this breaks leveldb); HAVE_FDATASYNC=0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19430#discussion_r459813237",
      "id" : 459813237,
      "in_reply_to_id" : 459787959,
      "line" : 1020,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTgxMzIzNw==",
      "original_commit_id" : "58702a5c49015e9a01062ac6e8b0440e7f2348d3",
      "original_line" : 1020,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 6,
      "pull_request_review_id" : 454593437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19430",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-24T01:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/459813237",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6665730?v=4",
         "events_url" : "https://api.github.com/users/krytarowski/events{/privacy}",
         "followers_url" : "https://api.github.com/users/krytarowski/followers",
         "following_url" : "https://api.github.com/users/krytarowski/following{/other_user}",
         "gists_url" : "https://api.github.com/users/krytarowski/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/krytarowski",
         "id" : 6665730,
         "login" : "krytarowski",
         "node_id" : "MDQ6VXNlcjY2NjU3MzA=",
         "organizations_url" : "https://api.github.com/users/krytarowski/orgs",
         "received_events_url" : "https://api.github.com/users/krytarowski/received_events",
         "repos_url" : "https://api.github.com/users/krytarowski/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/krytarowski/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/krytarowski/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/krytarowski"
      }
   }
]
