[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18638 (net: Use mockable time for ping/pong, add tests by MarcoFalke)\n* #17785 (p2p: Unify Send and Receive protocol versions by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-08T23:32:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19472#issuecomment-655810542",
      "id" : 655810542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19472",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NTgxMDU0Mg==",
      "updated_at" : "2020-07-08T23:32:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/655810542",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19472#discussion_r452101343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19472"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452101343"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nnet_processing.cpp:3574:9: error: acquiring mutex 'cs_main' that is already held [-Werror,-Wthread-safety-analysis]\r\n\r\n        LOCK(cs_main);\r\n\r\n        ^",
      "commit_id" : "5722b338d02be8de49b9e53664485c8cab4c526c",
      "created_at" : "2020-07-09T09:53:10Z",
      "diff_hunk" : "@@ -3563,32 +3563,44 @@ void ProcessMessage(\n     return;\n }\n \n+/** Maybe disconnect a peer and discourage future connections from its address.\n+ *\n+ * @param[in]   pnode           The node to check.\n+ * @return                      True if the peer will be disconnected.\n+ */\n bool PeerLogicValidation::MaybeDiscourageAndDisconnect(CNode& pnode)\n {\n-    AssertLockHeld(cs_main);\n-    CNodeState &state = *State(pnode.GetId());\n+    {\n+        LOCK(cs_main);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19472#discussion_r452101343",
      "id" : 452101343,
      "line" : 3574,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjEwMTM0Mw==",
      "original_commit_id" : "5722b338d02be8de49b9e53664485c8cab4c526c",
      "original_line" : 3574,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 14,
      "pull_request_review_id" : 445463146,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19472",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-09T09:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452101343",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19472#discussion_r452102686"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19472"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452102686"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You might have to use clang++ to reproduce locally",
      "commit_id" : "5722b338d02be8de49b9e53664485c8cab4c526c",
      "created_at" : "2020-07-09T09:55:34Z",
      "diff_hunk" : "@@ -3563,32 +3563,44 @@ void ProcessMessage(\n     return;\n }\n \n+/** Maybe disconnect a peer and discourage future connections from its address.\n+ *\n+ * @param[in]   pnode           The node to check.\n+ * @return                      True if the peer will be disconnected.\n+ */\n bool PeerLogicValidation::MaybeDiscourageAndDisconnect(CNode& pnode)\n {\n-    AssertLockHeld(cs_main);\n-    CNodeState &state = *State(pnode.GetId());\n+    {\n+        LOCK(cs_main);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19472#discussion_r452102686",
      "id" : 452102686,
      "in_reply_to_id" : 452101343,
      "line" : 3574,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjEwMjY4Ng==",
      "original_commit_id" : "5722b338d02be8de49b9e53664485c8cab4c526c",
      "original_line" : 3574,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 14,
      "pull_request_review_id" : 445464953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19472",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-09T09:55:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/452102686",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
