{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Introduces helper functions to make it easy to bury future deployments, along the lines of the suggestion from [11398](https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-335599326) \"I would prefer it if a buried deployment wouldn't require all code paths that check the BIP9 status to require changing\".\r\n\r\nThis provides three functions: DeploymentEnabled() which tests if a deployment can ever be active, DeploymentActiveAt() which checks if a deployment should be enforced in the given block, and DeploymentActiveAfter() which checks if a deployment should be enforced in the block following the given block, and overloads all three to work both with buried deployments and versionbits deployments.\r\n\r\nNote that checking status of versionbits deployments requires holding `cs_main`, while this is not required for buried deployments -- have reinstated the `EXCLUSIVE_LOCKS_REQUIRED(cs_main)` for `ContextualCheckBlock()` to make this a bit easier; it's already only called with cs_main held, and will need it in future \r\n\r\nAlso moves VersionBitsTip functions into the place they're used so they no longer need to be exported, and moves versionbitscache into deploymentstatus to avoid a circular dependency with validation.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19438/comments",
   "created_at" : "2020-07-03T17:03:16Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19438/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/19438",
   "id" : 650699006,
   "labels" : [
      {
         "color" : "009800",
         "default" : false,
         "description" : null,
         "id" : 192202000,
         "name" : "Consensus",
         "node_id" : "MDU6TGFiZWwxOTIyMDIwMDA=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Consensus"
      },
      {
         "color" : "E6F6D6",
         "default" : false,
         "description" : null,
         "id" : 135961,
         "name" : "Refactoring",
         "node_id" : "MDU6TGFiZWwxMzU5NjE=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19438/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0NDQ0MTQwMjU5",
   "number" : 19438,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/19438.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19438",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/19438.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19438"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Introduce deploymentstatus",
   "updated_at" : "2020-07-03T17:03:16Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19438",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
      "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ajtowns/followers",
      "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ajtowns",
      "id" : 127186,
      "login" : "ajtowns",
      "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
      "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
      "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
      "repos_url" : "https://api.github.com/users/ajtowns/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ajtowns"
   }
}
