[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18077 (net: Add NAT-PMP port forwarding support by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-11T19:25:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657116117",
      "id" : 657116117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19495",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzExNjExNw==",
      "updated_at" : "2020-07-11T19:25:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657116117",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think commit \"ci: Update macOS image to 10.15.5 on Travis\" doesn't belong here. What is the motivation? ACK remaining commits.",
      "created_at" : "2020-07-12T01:06:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657157390",
      "id" : 657157390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19495",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzE1NzM5MA==",
      "updated_at" : "2020-07-12T01:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657157390",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag \r\n> I think commit \"ci: Update macOS image to 10.15.5 on Travis\" doesn't belong here. What is the motivation? ACK remaining commits.\r\n\r\nThe mentioned commit has been dropped.",
      "created_at" : "2020-07-12T08:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657192658",
      "id" : 657192658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19495",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzE5MjY1OA==",
      "updated_at" : "2020-07-12T08:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657192658",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94",
      "created_at" : "2020-07-12T08:49:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657193022",
      "id" : 657193022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19495",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzE5MzAyMg==",
      "updated_at" : "2020-07-12T08:49:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657193022",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453292354"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should this be an `&&` or `||` and why? Also, why use the runtime heuristic in combination with the heuristic in line 46. Wouldn't it be easier to simply export `LONG_RUNNING_TEST` for the configs that need it? I.e. right in the line where the other env vars are defined:\r\n\r\n```\r\n      env: >-\r\n        FILE_ENV=\"...\"\r\n        LONG_...",
      "commit_id" : "0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94",
      "created_at" : "2020-07-12T09:28:55Z",
      "diff_hunk" : "@@ -43,11 +43,12 @@ before_script:\n   - for i in {1..4}; do echo \"$(sleep 500)\" ; done &\n   - set -o errexit; source ./ci/test/05_before_script.sh &> \"/dev/null\"\n script:\n+  - if [[ -n \"$USE_VALGRIND\" || \"$RUN_FUNCTIONAL_TESTS\" = \"true\" || \"$RUN_FUZZ_TESTS\" = \"true\" ]]; then export LONG_RUNNING_TEST=1; fi\n   - export CONTINUE=1\n   - if [ $SECONDS -gt 1200 ]; then export CONTINUE=0; fi  # Likely the depends build took very long\n   - if [ $TRAVIS_REPO_SLUG = \"bitcoin/bitcoin\" ]; then export CONTINUE=1; fi  # continue on repos with extended build time (90 minutes)\n   - if [ $CONTINUE = \"1\" ]; then set -o errexit; source ./ci/test/06_script_a.sh; else set +o errexit; echo \"$CACHE_ERR_MSG\"; false; fi\n-  - if [ $SECONDS -gt 2000 ]; then export CONTINUE=0; fi  # Likely the build took very long; The tests take about 1000s, so we should abort if we have less than 50*60-1000=2000s left\n+  - if [ $SECONDS -gt 2000 && $LONG_RUNNING_TEST = \"1\" ]; then export CONTINUE=0; fi  # Likely the build took very long; The tests take about 1000s, so we should abort if we have less than 50*60-1000=2000s left",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292354",
      "id" : 453292354,
      "line" : 49,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI5MjM1NA==",
      "original_commit_id" : "cab825ea9cb6fe4d33affd9ab9bc1803beac6ffc",
      "original_line" : 51,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : ".travis.yml",
      "position" : 19,
      "pull_request_review_id" : 446861837,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-12T09:28:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453292354",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453292417"
         }
      },
      "author_association" : "MEMBER",
      "body" : "are the fuzz tests timing out as well these days?",
      "commit_id" : "0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94",
      "created_at" : "2020-07-12T09:29:43Z",
      "diff_hunk" : "@@ -43,11 +41,12 @@ before_script:\n   - for i in {1..4}; do echo \"$(sleep 500)\" ; done &\n   - set -o errexit; source ./ci/test/05_before_script.sh &> \"/dev/null\"\n script:\n+  - if [[ -n \"$USE_VALGRIND\" || \"$RUN_FUNCTIONAL_TESTS\" = \"true\" || \"$RUN_FUZZ_TESTS\" = \"true\" ]]; then export LONG_RUNNING_TEST=1; fi",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292417",
      "id" : 453292417,
      "line" : 44,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI5MjQxNw==",
      "original_commit_id" : "0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94",
      "original_line" : 44,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : ".travis.yml",
      "position" : 13,
      "pull_request_review_id" : 446861883,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-12T09:29:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453292417",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453295447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453295447"
         }
      },
      "author_association" : "MEMBER",
      "body" : "^ this will not work for forked repos as the `LONG_RUNNING_TEST` actually should depend on the `TRAVIS_REPO_SLUG`.\r\n\r\nAnother suggestion is to `export LONG_RUNNING_TEST=\"true\"` by default in `00_setup_env.sh` and set it in a job setup script `00_setup_env_*.sh`:\r\n```\r\nif [ \"$TRAVIS_REPO_SLUG\" != \"bitcoin/bitcoin\" ]; then\r\n  export RUN_FUNCTIONAL_TESTS=\"false\"\r\n  export LONG_RUNNING_TEST=\"false\"\r\nfi\r\n```",
      "commit_id" : "0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94",
      "created_at" : "2020-07-12T10:00:19Z",
      "diff_hunk" : "@@ -43,11 +43,12 @@ before_script:\n   - for i in {1..4}; do echo \"$(sleep 500)\" ; done &\n   - set -o errexit; source ./ci/test/05_before_script.sh &> \"/dev/null\"\n script:\n+  - if [[ -n \"$USE_VALGRIND\" || \"$RUN_FUNCTIONAL_TESTS\" = \"true\" || \"$RUN_FUZZ_TESTS\" = \"true\" ]]; then export LONG_RUNNING_TEST=1; fi\n   - export CONTINUE=1\n   - if [ $SECONDS -gt 1200 ]; then export CONTINUE=0; fi  # Likely the depends build took very long\n   - if [ $TRAVIS_REPO_SLUG = \"bitcoin/bitcoin\" ]; then export CONTINUE=1; fi  # continue on repos with extended build time (90 minutes)\n   - if [ $CONTINUE = \"1\" ]; then set -o errexit; source ./ci/test/06_script_a.sh; else set +o errexit; echo \"$CACHE_ERR_MSG\"; false; fi\n-  - if [ $SECONDS -gt 2000 ]; then export CONTINUE=0; fi  # Likely the build took very long; The tests take about 1000s, so we should abort if we have less than 50*60-1000=2000s left\n+  - if [ $SECONDS -gt 2000 && $LONG_RUNNING_TEST = \"1\" ]; then export CONTINUE=0; fi  # Likely the build took very long; The tests take about 1000s, so we should abort if we have less than 50*60-1000=2000s left",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453295447",
      "id" : 453295447,
      "in_reply_to_id" : 453292354,
      "line" : 49,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI5NTQ0Nw==",
      "original_commit_id" : "cab825ea9cb6fe4d33affd9ab9bc1803beac6ffc",
      "original_line" : 51,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : ".travis.yml",
      "position" : 19,
      "pull_request_review_id" : 446863941,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19495",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-12T10:06:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453295447",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
