[
   {
      "author_association" : "MEMBER",
      "body" : "> Steps to reproduce on vanilla Ubuntu Focal:\r\n> \r\n> ```\r\n> export DEBIAN_FRONTEND=noninteractive && apt update && apt install curl wget htop git vim ccache -y && git clone https://github.com/bitcoin/bitcoin.git && cd bitcoin && apt install build-essential libtool autotools-dev automake pkg-config bsdmainutils python3-zmq make automake cmake curl clang llvm g++-multilib libtool binutils-gold bsdmainutils pkg-config python3 patch bison -y  && ( cd depends && make DEBUG=1 HOST=i686-pc-linux-gnu NO_QT=1 NO_WALLET=1 NO_ZMQ=1 NO_UPNP=1 NO_NATPMP=1 -j $(nproc) ) && ./autogen.sh && CONFIG_SITE=\"$PWD/depends/i686-pc-linux-gnu/share/config.site\" ./configure CC='clang -m32' CXX='clang++ -m32' --enable-fuzz --with-sanitizers=fuzzer LDFLAGS='-latomic' && make  -j $(nproc)\r\n> ```\r\n\r\nI've scrolled it to the end :)",
      "created_at" : "2021-05-11T18:22:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-838950423",
      "id" : 838950423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21920",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzODk1MDQyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-11T18:22:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838950423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630422884"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630422884"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Isn't just declaration of `std::atomic<std::chrono::seconds>` variable enough?",
      "commit_id" : "fa25ce45e9d54a2f0d5f2c0de9254d102a855a76",
      "created_at" : "2021-05-11T18:25:07Z",
      "diff_hunk" : "@@ -12,11 +12,17 @@ dnl warranty.\n m4_define([_CHECK_ATOMIC_testbody], [[\n   #include <atomic>\n   #include <cstdint>\n+  #include <chrono>\n+\n+  using namespace std::chrono_literals;\n \n   int main() {\n     std::atomic<bool> lock{true};\n     std::atomic_exchange(&lock, false);\n \n+    std::atomic<std::chrono::seconds> t{0s};\n+    t.store(2s);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630422884",
      "id" : 630422884,
      "line" : 24,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQyMjg4NA==",
      "original_commit_id" : "fa25ce45e9d54a2f0d5f2c0de9254d102a855a76",
      "original_line" : 24,
      "original_position" : 13,
      "original_start_line" : 23,
      "path" : "build-aux/m4/l_atomic.m4",
      "position" : 13,
      "pull_request_review_id" : 657068678,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21920",
      "side" : "RIGHT",
      "start_line" : 23,
      "start_side" : "RIGHT",
      "updated_at" : "2021-05-11T18:25:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630422884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630423913"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630423913"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I doubt it. The linker error complain about a missing store or load",
      "commit_id" : "fa25ce45e9d54a2f0d5f2c0de9254d102a855a76",
      "created_at" : "2021-05-11T18:26:52Z",
      "diff_hunk" : "@@ -12,11 +12,17 @@ dnl warranty.\n m4_define([_CHECK_ATOMIC_testbody], [[\n   #include <atomic>\n   #include <cstdint>\n+  #include <chrono>\n+\n+  using namespace std::chrono_literals;\n \n   int main() {\n     std::atomic<bool> lock{true};\n     std::atomic_exchange(&lock, false);\n \n+    std::atomic<std::chrono::seconds> t{0s};\n+    t.store(2s);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21920#discussion_r630423913",
      "id" : 630423913,
      "in_reply_to_id" : 630422884,
      "line" : 24,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQyMzkxMw==",
      "original_commit_id" : "fa25ce45e9d54a2f0d5f2c0de9254d102a855a76",
      "original_line" : 24,
      "original_position" : 13,
      "original_start_line" : 23,
      "path" : "build-aux/m4/l_atomic.m4",
      "position" : 13,
      "pull_request_review_id" : 657070153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21920",
      "side" : "RIGHT",
      "start_line" : 23,
      "start_side" : "RIGHT",
      "updated_at" : "2021-05-11T18:26:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630423913",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Somehow this just fixed itself, it seems :confused: ",
      "created_at" : "2021-05-11T18:29:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-838961111",
      "id" : 838961111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21920",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzODk2MTExMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-11T18:29:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838961111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Was testing the wrong thing. Issue still exists with the \"steps to reproduce\" in OP.",
      "created_at" : "2021-05-12T13:19:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21920#issuecomment-839766421",
      "id" : 839766421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21920",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzOTc2NjQyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-12T13:19:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839766421",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
