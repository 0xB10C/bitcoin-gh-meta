[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21985#discussion_r633641594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21985"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633641594"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, can drop this line as we are no longer concerned about collisions with locally reserved zone ids",
      "commit_id" : "90972a8962cfd9bf63f3b982f5a85fcdc41f253d",
      "created_at" : "2021-05-17T15:36:47Z",
      "diff_hunk" : "@@ -301,12 +301,18 @@ BOOST_AUTO_TEST_CASE(cnetaddr_basic)\n     // IPv6, scoped/link-local. See https://tools.ietf.org/html/rfc4007\n     // We support non-negative decimal integers (uint32_t) as zone id indices.\n     // Test with a fairly-high value, e.g. 32, to avoid locally reserved ids.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21985#discussion_r633641594",
      "id" : 633641594,
      "line" : 303,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMzY0MTU5NA==",
      "original_commit_id" : "90972a8962cfd9bf63f3b982f5a85fcdc41f253d",
      "original_line" : 303,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 661118486,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21985",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-17T15:55:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633641594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21985#discussion_r633672014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21985"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633672014"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wasn't sure whether this was a problem for parsing or for formatting, that's why I kept it. But makes sense, will remove it.",
      "commit_id" : "c7d461b014422f1aaa13ae978d730864616ab7bb",
      "created_at" : "2021-05-17T16:15:28Z",
      "diff_hunk" : "@@ -301,12 +301,18 @@ BOOST_AUTO_TEST_CASE(cnetaddr_basic)\n     // IPv6, scoped/link-local. See https://tools.ietf.org/html/rfc4007\n     // We support non-negative decimal integers (uint32_t) as zone id indices.\n     // Test with a fairly-high value, e.g. 32, to avoid locally reserved ids.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21985#discussion_r633672014",
      "id" : 633672014,
      "in_reply_to_id" : 633641594,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMzY3MjAxNA==",
      "original_commit_id" : "90972a8962cfd9bf63f3b982f5a85fcdc41f253d",
      "original_line" : 303,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/net_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 661159429,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21985",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-17T16:15:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/633672014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK c7d461b014422f1aaa13ae978d730864616ab7bb",
      "created_at" : "2021-05-17T18:06:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21985#issuecomment-842525984",
      "id" : 842525984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21985",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0MjUyNTk4NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-17T18:06:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/842525984",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code looks correct, so code review ACK c7d461b014422f1aaa13ae978d730864616ab7bb\r\n\r\nAs stated in https://github.com/bitcoin/bitcoin/issues/21682#issuecomment-819897122 I have a slightly preference towards not including scope id in `CNetAddr::ToStringIP()` out. That is how Rust's `std::net::Ipv6Addr` work. That said: if others feels strongly about including scope id then I'm fine with that too. The important thing for me is that IPv6 addresses are printed identically across platforms and that goal has been achieved :)\r\n\r\nAlso it is probably worth noting that the requirements for _parsing_ and _printing_ IPv6 addresses are not the same.",
      "created_at" : "2021-05-17T18:59:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21985#issuecomment-842557098",
      "id" : 842557098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21985",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0MjU1NzA5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-17T18:59:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/842557098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift Thank you for the review! I do not entirely understand your insistence on making our IPv6 formatting function the same as that of rust's IPv6 address type which is a different animal. It doesn't include a scope id, so cannot include it for formatting. In rust, the `scope_id` is part of [SocketAddrV6](https://doc.rust-lang.org/std/net/struct.SocketAddrV6.html). When formatted as string it uses the % syntax, just like us here:\r\n\r\n```rust\r\nuse std::net::{Ipv6Addr, SocketAddrV6};\r\n\r\nfn main() {\r\n    let socket = SocketAddrV6::new(Ipv6Addr::new(0x2001, 0xdb8, 0, 0, 0, 0, 0, 1), 8080, 0, 32);\r\n    assert_eq!(\"[2001:db8::1%32]:8080\".parse(), Ok(socket));\r\n}\r\n```\r\n\r\n> Also it is probably worth noting that the requirements for parsing and printing IPv6 addresses are not the same.\r\n\r\nIn any case I like to have the roundtrip here. The scope_id is part of the type so it makes some sense to be part of the string representation. This is clearly also useful for testing. Without the test, the scope id might as well be ignored by the parser :slightly_smiling_face: ",
      "created_at" : "2021-05-17T19:46:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21985#issuecomment-842584857",
      "id" : 842584857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21985",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0MjU4NDg1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-17T19:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/842584857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
