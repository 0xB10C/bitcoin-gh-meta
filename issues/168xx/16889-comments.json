[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324812515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324812515"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In my experience this recursive variadic templates lead to very bad runtime performance. It is probably better to use the trick with `std::initializer_list`, as explained e.g. here: https://www.experts-exchange.com/articles/32502/None-recursive-variadic-templates-with-std-initializer-list.html",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T18:08:14Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <vector>\n+#include <type_traits>\n+\n+/** Emplace back multiple elements to a container. */\n+template<typename V>\n+inline void EmplaceBackMany(V& vec) {}\n+template<typename V, typename Arg, typename... Args>\n+inline void EmplaceBackMany(V& vec, Arg&& arg, Args&&... args)\n+{\n+    vec.emplace_back(std::forward<Arg>(arg));\n+    EmplaceBackMany(vec, std::forward<Args>(args)...);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324812515",
      "id" : 324812515,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDgxMjUxNQ==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 18,
      "path" : "src/util/vector.h",
      "position" : null,
      "pull_request_review_id" : 288805981,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324812515",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324819214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324819214"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`keyid` is already of type `PKHash`. I guess you wanted to write\r\n\r\n```suggestion\r\n    CTxDestination p2pkh{keyid};\r\n```",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T18:23:38Z",
      "diff_hunk" : "@@ -65,12 +66,13 @@ CTxDestination GetDestinationForKey(const CPubKey& key, OutputType type)\n std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n {\n     PKHash keyid(key);\n+    CTxDestination p2pkh = PKHash(keyid);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324819214",
      "id" : 324819214,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDgxOTIxNA==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 12,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 288814740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324819214",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324828690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324828690"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note to myself: https://en.cppreference.com/w/cpp/types/common_type says that the \"types in the parameter pack T shall each be a complete type, [...]. Otherwise, the behavior is undefined\". Though, I get a compilation failure when using incomplete types, which is nicer than undefined behavior.\r\n\r\n\r\n```\r\n/usr/include/c++/9/bits/stl_vector.h: In instantiation of âstd::_Vector_base<_Tp, _Alloc>::~_Vector_base() [with _Tp = A; _Alloc = std::allocator<A>]â:\r\n/usr/include/c++/9/bits/stl_vector.h:484:7:   required from âstd::vector<typename std::common_type<_Tp>::type> Vector(Args&& ...) [with Args = {A&}; typename std::common_type<_Tp>::type = A]â\r\n1.cpp:81:12:   required from here\r\n/usr/include/c++/9/bits/stl_vector.h:333:35: error: invalid use of incomplete type âclass Aâ\r\n  333 |         _M_impl._M_end_of_storage - _M_impl._M_start);\r\n      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~\r\n1.cpp:77:7: note: forward declaration of âclass Aâ\r\n   77 | class A;\r\n      |       ^\r\n",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T18:45:53Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <vector>\n+#include <type_traits>\n+\n+/** Emplace back multiple elements to a container. */\n+template<typename V>\n+inline void EmplaceBackMany(V& vec) {}\n+template<typename V, typename Arg, typename... Args>\n+inline void EmplaceBackMany(V& vec, Arg&& arg, Args&&... args)\n+{\n+    vec.emplace_back(std::forward<Arg>(arg));\n+    EmplaceBackMany(vec, std::forward<Args>(args)...);\n+}\n+\n+/** Construct a vector with the specified elements.\n+ *\n+ * This is preferable over the list initializing constructor of std::vector:\n+ * - It automatically infers the element type from its arguments.\n+ * - If any arguments are rvalue references, they will be moved into the vector\n+ *   (list initialization always copies).\n+ */\n+template<typename... Args>\n+inline std::vector<typename std::common_type<Args...>::type> Vector(Args&&... args)\n+{\n+    std::vector<typename std::common_type<Args...>::type> ret;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324828690",
      "id" : 324828690,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDgyODY5MA==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 31,
      "path" : "src/util/vector.h",
      "position" : 22,
      "pull_request_review_id" : 288814740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324828690",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324852466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324852466"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Of course, that's much more idiomatic. Done.",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T19:43:54Z",
      "diff_hunk" : "@@ -65,12 +66,13 @@ CTxDestination GetDestinationForKey(const CPubKey& key, OutputType type)\n std::vector<CTxDestination> GetAllDestinationsForKey(const CPubKey& key)\n {\n     PKHash keyid(key);\n+    CTxDestination p2pkh = PKHash(keyid);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324852466",
      "id" : 324852466,
      "in_reply_to_id" : 324819214,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDg1MjQ2Ng==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 12,
      "path" : "src/outputtype.cpp",
      "position" : null,
      "pull_request_review_id" : 288857142,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324852466",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324853068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324853068"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Given that a vector is actually instantiated of the resulting type, I don't think there is much undefined \"compile time\" behavior that can lead to actually compiling code. There is also essentially just one type that vector can be; if it's wrong, the elements won't be able to be added to it.",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T19:45:27Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <vector>\n+#include <type_traits>\n+\n+/** Emplace back multiple elements to a container. */\n+template<typename V>\n+inline void EmplaceBackMany(V& vec) {}\n+template<typename V, typename Arg, typename... Args>\n+inline void EmplaceBackMany(V& vec, Arg&& arg, Args&&... args)\n+{\n+    vec.emplace_back(std::forward<Arg>(arg));\n+    EmplaceBackMany(vec, std::forward<Args>(args)...);\n+}\n+\n+/** Construct a vector with the specified elements.\n+ *\n+ * This is preferable over the list initializing constructor of std::vector:\n+ * - It automatically infers the element type from its arguments.\n+ * - If any arguments are rvalue references, they will be moved into the vector\n+ *   (list initialization always copies).\n+ */\n+template<typename... Args>\n+inline std::vector<typename std::common_type<Args...>::type> Vector(Args&&... args)\n+{\n+    std::vector<typename std::common_type<Args...>::type> ret;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324853068",
      "id" : 324853068,
      "in_reply_to_id" : 324828690,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDg1MzA2OA==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 31,
      "path" : "src/util/vector.h",
      "position" : 22,
      "pull_request_review_id" : 288857920,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324853068",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16807](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16807.html) (Let validateaddress locate error in Bech32 address by meshcollider)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-09-16T20:10:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#issuecomment-531937959",
      "id" : 531937959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16889",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMTkzNzk1OQ==",
      "updated_at" : "2019-10-10T03:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531937959",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324890162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324890162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the suggestion. That's a lot cleaner too.",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-16T21:17:41Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <vector>\n+#include <type_traits>\n+\n+/** Emplace back multiple elements to a container. */\n+template<typename V>\n+inline void EmplaceBackMany(V& vec) {}\n+template<typename V, typename Arg, typename... Args>\n+inline void EmplaceBackMany(V& vec, Arg&& arg, Args&&... args)\n+{\n+    vec.emplace_back(std::forward<Arg>(arg));\n+    EmplaceBackMany(vec, std::forward<Args>(args)...);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r324890162",
      "id" : 324890162,
      "in_reply_to_id" : 324812515,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNDg5MDE2Mg==",
      "original_commit_id" : "8a4b526e74157e056cc721df70721ecdaabf61dd",
      "original_position" : 18,
      "path" : "src/util/vector.h",
      "position" : null,
      "pull_request_review_id" : 288906341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/324890162",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. These are some useful utilities, I think it's a good idea to collect them into one place.\r\n\r\nWould be good to have unit tests for the new functions.",
      "created_at" : "2019-09-18T12:53:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#issuecomment-532670296",
      "id" : 532670296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16889",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMjY3MDI5Ng==",
      "updated_at" : "2019-09-18T12:53:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/532670296",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r325871586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325871586"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: is it worthwhile to move `old_tip` here?",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-18T20:14:45Z",
      "diff_hunk" : "@@ -102,7 +103,7 @@ bool CCoinsViewDB::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlock) {\n     // A vector is used for future extensibility, as we may want to support\n     // interrupting after partial writes from multiple independent reorgs.\n     batch.Erase(DB_BEST_BLOCK);\n-    batch.Write(DB_HEAD_BLOCKS, std::vector<uint256>{hashBlock, old_tip});\n+    batch.Write(DB_HEAD_BLOCKS, Vector(hashBlock, old_tip));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r325871586",
      "id" : 325871586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNTg3MTU4Ng==",
      "original_commit_id" : "db07b9188223e5c999850a3904602f7eaea8b232",
      "original_position" : 13,
      "path" : "src/txdb.cpp",
      "position" : 13,
      "pull_request_review_id" : 290174103,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325871586",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r325876538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325876538"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: mark this `(void)` to solve an unused result warning\r\n```\r\nIn file included from txdb.cpp:15:\r\n./util/vector.h:24:5: warning: expression result unused [-Wunused-value]\r\n    std::initializer_list<int>{(ret.emplace_back(std::forward<Args>(args)), 0)...};\r\n    ^                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\nMaybe also comment with a link as this is pretty nuanced?\r\nhttps://www.experts-exchange.com/articles/32502/None-recursive-variadic-templates-with-std-initializer-list.html",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-09-18T20:27:02Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <initializer_list>\n+#include <type_traits>\n+#include <vector>\n+\n+/** Construct a vector with the specified elements.\n+ *\n+ * This is preferable over the list initializing constructor of std::vector:\n+ * - It automatically infers the element type from its arguments.\n+ * - If any arguments are rvalue references, they will be moved into the vector\n+ *   (list initialization always copies).\n+ */\n+template<typename... Args>\n+inline std::vector<typename std::common_type<Args...>::type> Vector(Args&&... args)\n+{\n+    std::vector<typename std::common_type<Args...>::type> ret;\n+    ret.reserve(sizeof...(args));\n+    std::initializer_list<int>{(ret.emplace_back(std::forward<Args>(args)), 0)...};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r325876538",
      "id" : 325876538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNTg3NjUzOA==",
      "original_commit_id" : "db07b9188223e5c999850a3904602f7eaea8b232",
      "original_position" : 24,
      "path" : "src/util/vector.h",
      "position" : null,
      "pull_request_review_id" : 290174103,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/325876538",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r331120769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331120769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, it's a uint256, which has no dynamic storage. Moving and copying are identical.",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-10-03T15:59:35Z",
      "diff_hunk" : "@@ -102,7 +103,7 @@ bool CCoinsViewDB::BatchWrite(CCoinsMap &mapCoins, const uint256 &hashBlock) {\n     // A vector is used for future extensibility, as we may want to support\n     // interrupting after partial writes from multiple independent reorgs.\n     batch.Erase(DB_BEST_BLOCK);\n-    batch.Write(DB_HEAD_BLOCKS, std::vector<uint256>{hashBlock, old_tip});\n+    batch.Write(DB_HEAD_BLOCKS, Vector(hashBlock, old_tip));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r331120769",
      "id" : 331120769,
      "in_reply_to_id" : 325871586,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTEyMDc2OQ==",
      "original_commit_id" : "db07b9188223e5c999850a3904602f7eaea8b232",
      "original_position" : 13,
      "path" : "src/txdb.cpp",
      "position" : 13,
      "pull_request_review_id" : 296978775,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331120769",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-08T19:13:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#issuecomment-539660211",
      "id" : 539660211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16889",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzOTY2MDIxMQ==",
      "updated_at" : "2019-10-08T19:13:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/539660211",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, will work on adding tests soon.",
      "created_at" : "2019-10-10T01:16:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#issuecomment-540279142",
      "id" : 540279142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16889",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDI3OTE0Mg==",
      "updated_at" : "2019-10-10T01:16:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540279142",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r333669560"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333669560"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done both.",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-10-10T18:24:06Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_UTIL_VECTOR_H\n+#define BITCOIN_UTIL_VECTOR_H\n+\n+#include <initializer_list>\n+#include <type_traits>\n+#include <vector>\n+\n+/** Construct a vector with the specified elements.\n+ *\n+ * This is preferable over the list initializing constructor of std::vector:\n+ * - It automatically infers the element type from its arguments.\n+ * - If any arguments are rvalue references, they will be moved into the vector\n+ *   (list initialization always copies).\n+ */\n+template<typename... Args>\n+inline std::vector<typename std::common_type<Args...>::type> Vector(Args&&... args)\n+{\n+    std::vector<typename std::common_type<Args...>::type> ret;\n+    ret.reserve(sizeof...(args));\n+    std::initializer_list<int>{(ret.emplace_back(std::forward<Args>(args)), 0)...};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r333669560",
      "id" : 333669560,
      "in_reply_to_id" : 325876538,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzY2OTU2MA==",
      "original_commit_id" : "db07b9188223e5c999850a3904602f7eaea8b232",
      "original_position" : 24,
      "path" : "src/util/vector.h",
      "position" : null,
      "pull_request_review_id" : 300265275,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-10T18:24:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333669560",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, added some tests, and addressed nits.",
      "created_at" : "2019-10-10T18:24:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#issuecomment-540711802",
      "id" : 540711802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16889",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDcxMTgwMg==",
      "updated_at" : "2019-10-10T18:24:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540711802",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r333955576"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333955576"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: These comments should not have â<â, which is for in-line docs. http://www.doxygen.nl/manual/docblocks.html#memberdoc",
      "commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "created_at" : "2019-10-11T11:58:27Z",
      "diff_hunk" : "@@ -1696,4 +1697,105 @@ BOOST_AUTO_TEST_CASE(test_spanparsing)\n     BOOST_CHECK_EQUAL(SpanToStr(results[3]), \"\");\n }\n \n+namespace {\n+\n+struct Tracker\n+{\n+    //!< Points to the original object (possibly itself) we moved/copied from\n+    const Tracker* origin;\n+    //!< How many copies where involved between the original object and this one (moves are not counted)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16889#discussion_r333955576",
      "id" : 333955576,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMzk1NTU3Ng==",
      "original_commit_id" : "ee2312234cbdaad3314dc60891ac1f82d2fe06b4",
      "original_position" : 18,
      "path" : "src/test/util_tests.cpp",
      "position" : 18,
      "pull_request_review_id" : 300636703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16889",
      "updated_at" : "2019-10-11T11:58:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/333955576",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   }
]
