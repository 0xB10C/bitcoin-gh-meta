[
   {
      "author_association" : "MEMBER",
      "body" : "Tentative Concept ACK: this seems like a low cost way to make eclipse attacks significantly harder to carry out. Nice idea!\r\n\r\nCan we think of any drawbacks beyond the small amount of additional bandwidth?\r\n\r\nWhat would be the pros/cons of keeping the connect-if-tip-is-stale logic unchanged and only adjust the feeler logic so that feelers sync headers?",
      "created_at" : "2019-09-13T13:00:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16859#issuecomment-531227787",
      "id" : 531227787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16859",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMTIyNzc4Nw==",
      "updated_at" : "2019-09-13T13:00:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/531227787",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I would break this into two features:\r\n\r\n**Feature one: syncing block headers from feelers:**\r\nI don't see any drawbacks to this and it makes eclipse attacks more detectable when all your regular connections are eclipsed but your feeler connections are not since your feelers will tell you about blocks which no one else will.\r\n\r\n**Feature two: evicting stale connections and replacing them with feeler connections:**\r\nI can see the advantages of doing this, however I worry that an attacker with mining power will exploit this eviction strategy to slowly take over your outgoing connections by making your existing outgoing connections stale. I'm not sure how possible this attack is in practice as I'm not familiar with the precise definition of what makes something a stale tip.\r\n\r\nMaybe instead of evicting connections if you get a block header that none of your other peers know about download it from that feeler connection?\r\n",
      "created_at" : "2019-09-17T14:50:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16859#issuecomment-532256051",
      "id" : 532256051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16859",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMjI1NjA1MQ==",
      "updated_at" : "2019-09-17T14:51:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/532256051",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nThis is a trivial way to make eclipsing more expensive, and bandwidth overhead is small. \r\n\r\nPerhaps instead of evicting we should try to tell our peers about this new block? What if they are not attacking us but are just eclipsed too.\r\nOr at least send a signal to that node (I know, adding a new p2p message is maybe a big change for this use-case).",
      "created_at" : "2019-09-25T13:52:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16859#issuecomment-535033942",
      "id" : 535033942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16859",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNTAzMzk0Mg==",
      "updated_at" : "2019-09-25T13:52:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/535033942",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm a little confused how this increases eclipse cost -- can't an attacker just fill up the `new` table with \"trash\"? If the connect-if-tip-is-stale logic is removed then this could potentially backfire and never sync headers if the table is filled with garbage?",
      "created_at" : "2019-12-21T05:43:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16859#issuecomment-568154799",
      "id" : 568154799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16859",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODE1NDc5OQ==",
      "updated_at" : "2019-12-21T05:43:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568154799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   }
]
