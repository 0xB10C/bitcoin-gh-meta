[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11911#discussion_r157393226"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157393226"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "typedef `std::shared_ptr<CDBEnv>` something? CDBEnvRef for instance.",
      "commit_id" : "aca8ec0dabb4987a4f73a19e2a7dc09177197adb",
      "created_at" : "2017-12-18T02:54:32Z",
      "diff_hunk" : "@@ -86,7 +87,7 @@ class CDBEnv\n };\n \n /** Get CDBEnv and database filename given a wallet path. */\n-CDBEnv* GetWalletEnv(const fs::path& wallet_path, std::string& database_filename);\n+std::shared_ptr<CDBEnv> GetWalletEnv(const fs::path& wallet_path, std::string& database_filename);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11911#discussion_r157393226",
      "id" : 157393226,
      "original_commit_id" : "aca8ec0dabb4987a4f73a19e2a7dc09177197adb",
      "original_position" : 25,
      "path" : "src/wallet/db.h",
      "position" : null,
      "pull_request_review_id" : 84026038,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11911",
      "updated_at" : "2017-12-18T02:54:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157393226",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11911#discussion_r157533704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157533704"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> typedef std::shared_ptr<CDBEnv> something? CDBEnvRef for instance\r\n\r\nI don't think this is a good idea. I'd be reluctant to introduce yet another wallet database type, especially one that obfuscates what it represents and how it relates to CDBEnv. Use of ref type aliases has been justified in other places on the basis that where types are widely used, having aliases makes it easier to switch implementations without having to update a lot of existing code. But that justification doesn't apply here because CDBEnv is internal to db.h/db.cpp and not widely used.",
      "commit_id" : "aca8ec0dabb4987a4f73a19e2a7dc09177197adb",
      "created_at" : "2017-12-18T16:31:15Z",
      "diff_hunk" : "@@ -86,7 +87,7 @@ class CDBEnv\n };\n \n /** Get CDBEnv and database filename given a wallet path. */\n-CDBEnv* GetWalletEnv(const fs::path& wallet_path, std::string& database_filename);\n+std::shared_ptr<CDBEnv> GetWalletEnv(const fs::path& wallet_path, std::string& database_filename);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11911#discussion_r157533704",
      "id" : 157533704,
      "in_reply_to_id" : 157393226,
      "original_commit_id" : "aca8ec0dabb4987a4f73a19e2a7dc09177197adb",
      "original_position" : 25,
      "path" : "src/wallet/db.h",
      "position" : null,
      "pull_request_review_id" : 84191211,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11911",
      "updated_at" : "2017-12-18T16:31:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157533704",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
