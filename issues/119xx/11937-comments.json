[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If you edit the pull request description, you can change the base branch from `bitcoin:master` to `sipa:201709_segwitwallet2`. That should make review here much easier. Although it might cause Github to move the whole pull request to @sipa's account, which would hurt visibility.",
      "created_at" : "2017-12-18T16:18:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#issuecomment-352475918",
      "id" : 352475918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11937",
      "updated_at" : "2017-12-18T16:18:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352475918",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Yes, I tried to do that but it doesn't seem to be possible.\r\n\r\nBut opening a new PR to Wuille's repository should be possible yes.",
      "created_at" : "2017-12-18T16:30:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#issuecomment-352479441",
      "id" : 352479441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11937",
      "updated_at" : "2017-12-18T16:31:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352479441",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3824379?v=4",
         "events_url" : "https://api.github.com/users/hsjoberg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hsjoberg/followers",
         "following_url" : "https://api.github.com/users/hsjoberg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hsjoberg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hsjoberg",
         "id" : 3824379,
         "login" : "hsjoberg",
         "organizations_url" : "https://api.github.com/users/hsjoberg/orgs",
         "received_events_url" : "https://api.github.com/users/hsjoberg/received_events",
         "repos_url" : "https://api.github.com/users/hsjoberg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hsjoberg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hsjoberg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "No problem, it's easy to work around:\r\n<img width=\"712\" alt=\"schermafbeelding 2017-12-18 om 18 23 23\" src=\"https://user-images.githubusercontent.com/10217/34118906-94c3fa46-e420-11e7-8769-ef3d993ab5ec.png\">",
      "created_at" : "2017-12-18T17:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#issuecomment-352495407",
      "id" : 352495407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11937",
      "updated_at" : "2017-12-18T17:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352495407",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157549030"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157549030"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe call this \"Native SegWit (bech32, BIP173)\"?\r\n\r\nCan you also add a description (could be a popover) to explain the difference, explain:\r\n* not all wallets support this format\r\n* there are privacy implications for using bech32 while adoption is low, as well as for mixing bech32 and P2SH",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T17:28:36Z",
      "diff_hunk" : "@@ -163,6 +163,57 @@\n             </property>\n            </widget>\n           </item>\n+          <item>\n+           <widget class=\"QGroupBox\" name=\"groupBoxAddressType\">\n+            <property name=\"title\">\n+             <string>Address type</string>\n+            </property>\n+            <property name=\"checkable\">\n+             <bool>false</bool>\n+            </property>\n+            <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2\">\n+             <item>\n+              <widget class=\"QRadioButton\" name=\"addressTypeLegacy\">\n+               <property name=\"sizePolicy\">\n+                <sizepolicy hsizetype=\"Minimum\" vsizetype=\"Fixed\">\n+                 <horstretch>0</horstretch>\n+                 <verstretch>0</verstretch>\n+                </sizepolicy>\n+               </property>\n+               <property name=\"text\">\n+                <string>Legacy</string>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <widget class=\"QRadioButton\" name=\"addressTypeP2SH\">\n+               <property name=\"sizePolicy\">\n+                <sizepolicy hsizetype=\"Minimum\" vsizetype=\"Fixed\">\n+                 <horstretch>0</horstretch>\n+                 <verstretch>0</verstretch>\n+                </sizepolicy>\n+               </property>\n+               <property name=\"text\">\n+                <string>P2SH</string>\n+               </property>\n+              </widget>\n+             </item>\n+             <item>\n+              <widget class=\"QRadioButton\" name=\"addressTypeBech32\">\n+               <property name=\"sizePolicy\">\n+                <sizepolicy hsizetype=\"MinimumExpanding\" vsizetype=\"Fixed\">\n+                 <horstretch>0</horstretch>\n+                 <verstretch>0</verstretch>\n+                </sizepolicy>\n+               </property>\n+               <property name=\"text\">\n+                <string>BIP173 (bech32)</string>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157549030",
      "id" : 157549030,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 48,
      "path" : "src/qt/forms/optionsdialog.ui",
      "position" : 48,
      "pull_request_review_id" : 84209164,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T18:11:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157549030",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157549259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157549259"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do we really want to maintain UI support for legacy addresses? Maybe only show this option if the app was launched with `-addresstype=legacy`?",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T17:29:37Z",
      "diff_hunk" : "@@ -180,6 +181,10 @@ void OptionsDialog::setMapper()\n     mapper->addMapping(ui->spendZeroConfChange, OptionsModel::SpendZeroConfChange);\n     mapper->addMapping(ui->coinControlFeatures, OptionsModel::CoinControlFeatures);\n \n+    mapper->addMapping(ui->addressTypeLegacy, OptionsModel::AddressTypeLegacy);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157549259",
      "id" : 157549259,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 12,
      "path" : "src/qt/optionsdialog.cpp",
      "position" : 12,
      "pull_request_review_id" : 84209164,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T18:11:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157549259",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157603389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157603389"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, missing space after `if`, missing `{}`.",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T21:19:10Z",
      "diff_hunk" : "@@ -110,6 +110,11 @@ void OptionsModel::Init(bool resetSettings)\n         settings.setValue(\"bSpendZeroConfChange\", true);\n     if (!gArgs.SoftSetBoolArg(\"-spendzeroconfchange\", settings.value(\"bSpendZeroConfChange\").toBool()))\n         addOverriddenOption(\"-spendzeroconfchange\");\n+\n+    if(!settings.contains(\"strAddressType\"))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157603389",
      "id" : 157603389,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 5,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 5,
      "pull_request_review_id" : 84273219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T22:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157603389",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157603544"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157603544"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit, missing `{}`.",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T21:19:50Z",
      "diff_hunk" : "@@ -110,6 +110,11 @@ void OptionsModel::Init(bool resetSettings)\n         settings.setValue(\"bSpendZeroConfChange\", true);\n     if (!gArgs.SoftSetBoolArg(\"-spendzeroconfchange\", settings.value(\"bSpendZeroConfChange\").toBool()))\n         addOverriddenOption(\"-spendzeroconfchange\");\n+\n+    if(!settings.contains(\"strAddressType\"))\n+      settings.setValue(\"strAddressType\", QString::fromStdString(FormatOutputType(OUTPUT_TYPE_DEFAULT)));\n+    if (!gArgs.SoftSetArg(\"-addresstype\", settings.value(\"strAddressType\").toString().toStdString()))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157603544",
      "id" : 157603544,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 7,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 7,
      "pull_request_review_id" : 84273219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T22:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157603544",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157604224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157604224"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If this is not hit then assert?",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T21:23:00Z",
      "diff_hunk" : "@@ -329,6 +334,23 @@ void OptionsDialog::updateDefaultProxyNets()\n     (strProxy == strDefaultProxyGUI.toStdString()) ? ui->proxyReachTor->setChecked(true) : ui->proxyReachTor->setChecked(false);\n }\n \n+void OptionsDialog::setActiveAddressType() {\n+    switch(g_address_type) {\n+    case OUTPUT_TYPE_LEGACY:\n+        ui->addressTypeLegacy->setChecked(true);\n+        break;\n+    case OUTPUT_TYPE_P2SH:\n+        ui->addressTypeP2SH->setChecked(true);\n+        break;\n+    case OUTPUT_TYPE_BECH32:\n+        ui->addressTypeBech32->setChecked(true);\n+        break;\n+    case OUTPUT_TYPE_NONE:\n+    default:\n+        break;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157604224",
      "id" : 157604224,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 36,
      "path" : "src/qt/optionsdialog.cpp",
      "position" : 36,
      "pull_request_review_id" : 84273219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T22:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157604224",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157613496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157613496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is inside Export group box, should be on the outside instead?",
      "commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "created_at" : "2017-12-18T22:04:30Z",
      "diff_hunk" : "@@ -163,6 +163,57 @@\n             </property>\n            </widget>\n           </item>\n+          <item>\n+           <widget class=\"QGroupBox\" name=\"groupBoxAddressType\">",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11937#discussion_r157613496",
      "id" : 157613496,
      "original_commit_id" : "13adc63255eefe18850a8ec55c6ade73ed7e7c3b",
      "original_position" : 5,
      "path" : "src/qt/forms/optionsdialog.ui",
      "position" : 5,
      "pull_request_review_id" : 84273219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11937",
      "updated_at" : "2017-12-18T22:06:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157613496",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
