[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25909](https://github.com/bitcoin/bitcoin/pull/25909) (wallet: coverage for receiving txes with same id but different witness data by furszy)\n* [#25325](https://github.com/bitcoin/bitcoin/pull/25325) (Add pool based memory resource by martinus)\n* [#23169](https://github.com/bitcoin/bitcoin/pull/23169) (fix initialization in FastRandomContext: removes undefined behavior & uninitialized read by martinus)\n* [#17786](https://github.com/bitcoin/bitcoin/pull/17786) (refactor: Nuke policy/fees->mempool circular dependencies by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-09-22T06:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1254573363",
      "id" : 1254573363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585Kx0Uz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254573363/reactions"
      },
      "updated_at" : "2022-11-07T18:13:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254573363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @theStack re #25698 & #25712.\r\n\r\n> (by my benchmarking, somewhat faster),\r\n\r\n@aureleoules want to benchmark here as well?",
      "created_at" : "2022-09-22T08:41:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1254711925",
      "id" : 1254711925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585KyWJ1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254711925/reactions"
      },
      "updated_at" : "2022-09-22T08:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1254711925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26153#discussion_r977416900"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26153"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/977416900"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n```\r\nnit: can be removed",
      "commit_id" : "d1aa65b2927b0c07d1a875475fb0bdd024351bd4",
      "created_at" : "2022-09-22T09:22:46Z",
      "diff_hunk" : "@@ -8,24 +8,74 @@\n #include <stdint.h>\n #include <stdlib.h>\n \n-/** A class for ChaCha20 256-bit stream cipher developed by Daniel J. Bernstein\n-    https://cr.yp.to/chacha/chacha-20080128.pdf */\n+// classes for ChaCha20 256-bit stream cipher developed by Daniel J. Bernstein\n+// https://cr.yp.to/chacha/chacha-20080128.pdf */\n+\n+/** ChaCha20 cipher that only operates on multiples of 64 bytes. */\n+class ChaCha20Aligned\n+{\n+private:\n+    uint32_t input[12];\n+\n+public:\n+    ChaCha20Aligned();\n+\n+    /** Initialize a cipher with specified 32-byte key. */\n+    ChaCha20Aligned(const unsigned char* key32);\n+\n+    /** set 32-byte key. */\n+    void SetKey32(const unsigned char* key32);\n+\n+    /** set the 64-bit nonce. */\n+    void SetIV(uint64_t iv);\n+\n+    /** set the 64bit block counter (pos seeks to byte position 64*pos). */\n+    void Seek64(uint64_t pos);\n+\n+    /** outputs the keystream of size <64*blocks> into <c> */\n+    void Keystream64(unsigned char* c, size_t blocks);\n+\n+    /** enciphers the message <input> of length <64*blocks> and write the enciphered representation into <output>\n+     *  Used for encryption and decryption (XOR)\n+     */\n+    void Crypt64(const unsigned char* input, unsigned char* output, size_t blocks);\n+};\n+\n+/** Unrestricted ChaCha20 cipher. */\n class ChaCha20\n {\n private:\n-    uint32_t input[16];\n+    ChaCha20Aligned m_aligned;\n+    unsigned char m_buffer[64] = {0};\n+    unsigned m_bufleft{0};\n \n public:\n-    ChaCha20();\n-    ChaCha20(const unsigned char* key, size_t keylen);\n-    void SetKey(const unsigned char* key, size_t keylen); //!< set key with flexible keylength; 256bit recommended */\n-    void SetIV(uint64_t iv); // set the 64bit nonce\n-    void Seek(uint64_t pos); // set the 64bit block counter\n+    ChaCha20() : m_aligned() {}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#discussion_r977416900",
      "id" : 977416900,
      "line" : 53,
      "node_id" : "PRRC_kwDOABII5846QjLE",
      "original_commit_id" : "d1aa65b2927b0c07d1a875475fb0bdd024351bd4",
      "original_line" : 53,
      "original_position" : 54,
      "original_start_line" : null,
      "path" : "src/crypto/chacha20.h",
      "position" : 54,
      "pull_request_review_id" : 1116695351,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26153",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/977416900/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-22T09:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/977416900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jarolrod It's possible that these differences are just compiler/cpu cache randomness. E.g. just having functions be layed out slightly differently in memory can cause a difference in slight timing differences. Objectively, this PR does less work per byte for long messages than master, while 25354 does more work per byte, but that's not always possible to benchmark when you're talking about a difference of a few CPU cycles per 64 bytes. The compiler may in some cases just emit slightly better or slightly worse code, just due to e.g. alignment differences in where the functions end up in the binary and the CPU caching effects.",
      "created_at" : "2022-09-27T19:06:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1259932901",
      "id" : 1259932901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585LGQzl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1259932901/reactions"
      },
      "updated_at" : "2022-09-27T19:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1259932901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-10-02T22:30:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1264748109",
      "id" : 1264748109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585LYoZN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1264748109/reactions"
      },
      "updated_at" : "2022-10-02T22:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1264748109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-19T09:30:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1283706271",
      "id" : 1283706271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585Mg82f",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1283706271/reactions"
      },
      "updated_at" : "2022-10-19T09:30:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1283706271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2022-10-19T17:54:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1284375966",
      "id" : 1284375966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585MjgWe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284375966/reactions"
      },
      "updated_at" : "2022-10-19T17:54:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284375966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2022-11-19T01:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26153#issuecomment-1320732368",
      "id" : 1320732368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26153",
      "node_id" : "IC_kwDOABII585OuMbQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320732368/reactions"
      },
      "updated_at" : "2022-11-19T01:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1320732368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
