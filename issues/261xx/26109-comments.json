[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973091972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972"
         }
      },
      "author_association" : "MEMBER",
      "body" : "A user reading `false` with bloom filters disabled may register the peer as one that txs aren't sent to, as the relay flag can't change after the handshake. So I think keeping this optional may be better. Also, in bitcoin-cli it might be better to display it as optional instead of a picking a constant which may later turn out to be wrong.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T14:33:26Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973091972",
      "id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846ADSE",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110786989,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T14:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973104660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Presumably, users expect the current released behavior. This patch maintains the API, whereas leaving it optional would annoyingly break user space without notice in v24. The API change was unclear but it appears unintended as it added neither optional mentions in the getpeerinfo help, which you fixed afterward, nor a release note. Absent a real need to change it (say, like removing a field), I have the impression that users prefer we don't break things willy-nilly and particularly in subtle ways like a field that is sometimes no longer present, at least without some explanation of what and why if we really want to do that.",
      "commit_id" : "e2f5c2993a7cd56d8f3baeff454f8a97a200a81d",
      "created_at" : "2022-09-16T14:46:27Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973104660",
      "id" : 973104660,
      "in_reply_to_id" : 973091972,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846AGYU",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1110806175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T16:17:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973106828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think whether the change was \"unintended\" was discussed already, so I am not going to reply to that.\r\n\r\nIf there is a missing release note, it can be added to the wiki.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T14:48:39Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973106828",
      "id" : 973106828,
      "in_reply_to_id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846AG6M",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110809422,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T14:48:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973164646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To argue against my points, maybe getpeerinfo is mainly consumed by us developers and rarely by software clients or node operators -- I don't know -- and I agree with you that for us developers it is preferable not to return a relaytxes value while the connection is setting up. \n\nUpdating to take your feedback (appreciated, thank you) with the caveats I described.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T15:47:32Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973164646",
      "id" : 973164646,
      "in_reply_to_id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846AVBm",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110893712,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated per @MarcoFalke's feedback (thanks!).\r\n\r\n<details><summary><code>git diff bd56f68 e2f5c29</code></summary><p>\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-cli.cpp b/src/bitcoin-cli.cpp\r\nindex 04d72ade3d..a8293afdc7 100644\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -467,8 +467,8 @@ public:\r\n         if (!batch[ID_NETWORKINFO][\"error\"].isNull()) return batch[ID_NETWORKINFO];\r\n \r\n         const UniValue& networkinfo{batch[ID_NETWORKINFO][\"result\"]};\r\n-        if (networkinfo[\"version\"].getInt<int>() < 220000) {\r\n-            throw std::runtime_error(\"This version of -netinfo requires bitcoind server to be running v22.0 and up\");\r\n+        if (networkinfo[\"version\"].getInt<int>() < 239900) {\r\n+            throw std::runtime_error(\"This version of -netinfo requires the bitcoind server to be running v24.0 and up\");\r\n         }\r\n         const int64_t time_now{TicksSinceEpoch<std::chrono::seconds>(CliClock::now())};\r\n \r\n@@ -478,7 +478,7 @@ public:\r\n             const int8_t network_id{NetworkStringToId(network)};\r\n             if (network_id == UNKNOWN_NETWORK) continue;\r\n             const bool is_outbound{!peer[\"inbound\"].get_bool()};\r\n-            const bool is_tx_relay{peer[\"relaytxes\"].get_bool()};\r\n+            const bool is_tx_relay{peer[\"relaytxes\"].isNull() ? true : peer[\"relaytxes\"].get_bool()};\r\n             const std::string conn_type{peer[\"connection_type\"].get_str()};\r\n             ++m_counts.at(is_outbound).at(network_id);      // in/out by network\r\n             ++m_counts.at(is_outbound).at(NETWORKS.size()); // in/out overall\r\n@@ -642,7 +642,7 @@ public:\r\n         \"  send     Time since last message sent to the peer, in seconds\\n\"\r\n         \"  recv     Time since last message received from the peer, in seconds\\n\"\r\n         \"  txn      Time since last novel transaction received from the peer and accepted into our mempool, in minutes\\n\"\r\n-        \"           \\\"*\\\" - whether we currently relay transactions to this peer (relaytxes is false)\\n\"\r\n+        \"           \\\"*\\\" - whether we relay transactions to this peer (relaytxes is false)\\n\"\r\n         \"  blk      Time since last novel block passing initial validity checks received from the peer, in minutes\\n\"\r\n         \"  hb       High-bandwidth BIP152 compact block relay\\n\"\r\n         \"           \\\".\\\" (to)   - we selected the peer as a high-bandwidth peer\\n\"\r\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\r\nindex 781debd132..28148e1c65 100644\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -271,11 +271,11 @@ struct Peer {\r\n \r\n     struct TxRelay {\r\n         mutable RecursiveMutex m_bloom_filter_mutex;\r\n-        /** Whether we currently relay transactions to this peer.\r\n+        /** Whether we relay transactions to this peer.\r\n          *\r\n          * On receiving a `version` message, this is initially set to false\r\n-         * either if the peer is outbound block-relay-only, or otherwise based\r\n-         * on the fRelay flag.\r\n+         * if the peer is outbound block-relay-only and otherwise based on\r\n+         * the fRelay flag.\r\n          *\r\n          * If initially set to false, it can only be flipped to true if we have\r\n          * offered the peer NODE_BLOOM services and it sends us a `filterload`\r\ndiff --git a/src/rpc/net.cpp b/src/rpc/net.cpp\r\nindex 41c4a2c539..e953f8ba25 100644\r\n--- a/src/rpc/net.cpp\r\n+++ b/src/rpc/net.cpp\r\n@@ -114,7 +114,7 @@ static RPCHelpMan getpeerinfo()\r\n                     {\r\n                         {RPCResult::Type::STR, \"SERVICE_NAME\", \"the service name if it is recognised\"}\r\n                     }},\r\n-                    {RPCResult::Type::BOOL, \"relaytxes\", \"Whether we currently relay transactions to this peer\"},\r\n+                    {RPCResult::Type::BOOL, \"relaytxes\", /*optional=*/true, \"Whether we relay transactions to this peer\"},\r\n                     {RPCResult::Type::NUM_TIME, \"lastsend\", \"The \" + UNIX_EPOCH_TIME + \" of the last send\"},\r\n                     {RPCResult::Type::NUM_TIME, \"lastrecv\", \"The \" + UNIX_EPOCH_TIME + \" of the last receive\"},\r\n                     {RPCResult::Type::NUM_TIME, \"last_transaction\", \"The \" + UNIX_EPOCH_TIME + \" of the last valid transaction received from this peer\"},\r\n@@ -200,7 +200,9 @@ static RPCHelpMan getpeerinfo()\r\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\r\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\r\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\r\n-        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);\r\n+        if (fStateStats) {\r\n+            obj.pushKV(\"relaytxes\", statestats.m_relay_txs);\r\n+        }\r\n         obj.pushKV(\"lastsend\", count_seconds(stats.m_last_send));\r\n         obj.pushKV(\"lastrecv\", count_seconds(stats.m_last_recv));\r\n         obj.pushKV(\"last_transaction\", count_seconds(stats.m_last_tx_time));\r\n```\r\n</p></details>\r\n",
      "created_at" : "2022-09-16T17:13:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#issuecomment-1249597766",
      "id" : 1249597766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26109",
      "node_id" : "IC_kwDOABII585Ke1lG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249597766/reactions"
      },
      "updated_at" : "2022-09-16T17:13:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249597766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973233283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973233283"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think that if this is an outbound block-relay-only peer, we don't create a `TxRelay` object for this peer in the first place, so  `TxRelay::m_relay_txs` is neither true nor false but doesn't exist.",
      "commit_id" : "e2f5c2993a7cd56d8f3baeff454f8a97a200a81d",
      "created_at" : "2022-09-16T17:17:15Z",
      "diff_hunk" : "@@ -271,12 +271,15 @@ struct Peer {\n \n     struct TxRelay {\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        /** Whether the peer wishes to receive transaction announcements.\n+        /** Whether we relay transactions to this peer.\n          *\n-         * This is initially set based on the fRelay flag in the received\n-         * `version` message. If initially set to false, it can only be flipped\n-         * to true if we have offered the peer NODE_BLOOM services and it sends\n-         * us a `filterload` or `filterclear` message. See BIP37. */\n+         * On receiving a `version` message, this is initially set to false\n+         * if the peer is outbound block-relay-only and otherwise based on\n+         * the fRelay flag.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973233283",
      "id" : 973233283,
      "line" : 278,
      "node_id" : "PRRC_kwDOABII5846AlyD",
      "original_commit_id" : "9a309a6bb4e2ebc0dc8e70f9597b9e46cb84b23f",
      "original_line" : 278,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 13,
      "pull_request_review_id" : 1110992588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973233283/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T17:31:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973233283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973237862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973237862"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This sentence could need an update after #22778: If we haven't offered `NODE_BLOOM` and get `fRelay=false`, we no longer set `m_relay_txs` to false, but now don't initialise a TxRelay object anymore.\r\nSo the case where `m_relay_txs` is initialised to `false` and is impossible to flip cannot happen anymore.",
      "commit_id" : "e2f5c2993a7cd56d8f3baeff454f8a97a200a81d",
      "created_at" : "2022-09-16T17:23:46Z",
      "diff_hunk" : "@@ -271,12 +271,15 @@ struct Peer {\n \n     struct TxRelay {\n         mutable RecursiveMutex m_bloom_filter_mutex;\n-        /** Whether the peer wishes to receive transaction announcements.\n+        /** Whether we relay transactions to this peer.\n          *\n-         * This is initially set based on the fRelay flag in the received\n-         * `version` message. If initially set to false, it can only be flipped\n-         * to true if we have offered the peer NODE_BLOOM services and it sends\n-         * us a `filterload` or `filterclear` message. See BIP37. */\n+         * On receiving a `version` message, this is initially set to false\n+         * if the peer is outbound block-relay-only and otherwise based on\n+         * the fRelay flag.\n+         *\n+         * If initially set to false, it can only be flipped to true if we have\n+         * offered the peer NODE_BLOOM services and it sends us a `filterload`\n+         * or `filterclear` message. See BIP37. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973237862",
      "id" : 973237862,
      "line" : 282,
      "node_id" : "PRRC_kwDOABII5846Am5m",
      "original_commit_id" : "9a309a6bb4e2ebc0dc8e70f9597b9e46cb84b23f",
      "original_line" : 282,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 17,
      "pull_request_review_id" : 1110992588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973237862/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T17:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973237862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   }
]
