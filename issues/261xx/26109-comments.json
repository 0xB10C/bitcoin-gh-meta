[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973091972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972"
         }
      },
      "author_association" : "MEMBER",
      "body" : "A user reading `false` with bloom filters disabled may register the peer as one that txs aren't sent to, as the relay flag can't change after the handshake. So I think keeping this optional may be better. Also, in bitcoin-cli it might be better to display it as optional instead of a picking a constant which may later turn out to be wrong.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T14:33:26Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973091972",
      "id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846ADSE",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110786989,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T14:33:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973091972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973104660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Presumably, users expect the current behavior. This patch maintains the currently released API, whereas leaving it optional would annoyingly break user space without notice in v24. The API change was unclear but it appears unintended as it added neither optional mentions in the getpeerinfo help, which you fixed afterward, nor a release note. Absent a real need to change it (say, like removing a field), I have the impression that users prefer we don't break things willy-nilly and particularly in subtle ways like a field that is sometimes no longer present, at least without some explanation of what and why if we really want to do that.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T14:46:27Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973104660",
      "id" : 973104660,
      "in_reply_to_id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846AGYU",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110806175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:48:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973104660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973106828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think whether the change was \"unintended\" was discussed already, so I am not going to reply to that.\r\n\r\nIf there is a missing release note, it can be added to the wiki.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T14:48:39Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973106828",
      "id" : 973106828,
      "in_reply_to_id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846AG6M",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110809422,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T14:48:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973164646"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To argue against my points, maybe getpeerinfo is mainly consumed by us developers and rarely by software clients or node operators -- I don't know -- and I agree with you that for us developers it is preferable not to return a relaytxes value while the connection is setting up. \n\nUpdating to take your feedback (appreciated, thank you) with the caveats I described.",
      "commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "created_at" : "2022-09-16T15:47:32Z",
      "diff_hunk" : "@@ -200,6 +200,7 @@ static RPCHelpMan getpeerinfo()\n         ServiceFlags services{fStateStats ? statestats.their_services : ServiceFlags::NODE_NONE};\n         obj.pushKV(\"services\", strprintf(\"%016x\", services));\n         obj.pushKV(\"servicesnames\", GetServicesNames(services));\n+        obj.pushKV(\"relaytxes\", fStateStats ? statestats.m_relay_txs : false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26109#discussion_r973164646",
      "id" : 973164646,
      "in_reply_to_id" : 973091972,
      "line" : 203,
      "node_id" : "PRRC_kwDOABII5846AVBm",
      "original_commit_id" : "bd56f6896d0d87edd4cbe881643c7f3ef8d1bf75",
      "original_line" : 203,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 31,
      "pull_request_review_id" : 1110893712,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26109",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973164646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
