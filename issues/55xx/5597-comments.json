[
   {
      "body" : "Tested ACK (e.g. https://github.com/laanwj/bitcoin/tree/2014_12_leveldb_crash_fuzzing )\r\n",
      "created_at" : "2015-01-04T16:38:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68639043",
      "id" : 68639043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-04T16:38:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68639043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Added a commit to catch and shutdown gracefully in case of LevelDB errors during flush.",
      "created_at" : "2015-01-04T18:12:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68642482",
      "id" : 68642482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-04T18:12:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68642482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This is not sufficient (as testing by @gmaxwell shows), there are many cases where reads from the database can be triggered and aren't caught.",
      "created_at" : "2015-01-05T23:57:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68804374",
      "id" : 68804374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-05T23:57:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68804374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Yes, leveldb exceptions an escape from CCoinsViewDB in many other places as just the flush, and if they happen in the network code they are caught in the top-level handler, be logged, and the process will happily continue.\r\n\r\nHowever, as this is strictly an improvement we should still merge this?\r\n",
      "created_at" : "2015-01-06T09:21:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68842872",
      "id" : 68842872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-06T09:21:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68842872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Yes, I think it's definitely an improvement.",
      "created_at" : "2015-01-06T14:54:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68874706",
      "id" : 68874706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-06T14:54:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68874706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Tested ACK.  (As pieter notes, we still have things to fit in this respect, but better is better)",
      "created_at" : "2015-01-06T18:02:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#issuecomment-68904569",
      "id" : 68904569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5597",
      "updated_at" : "2015-01-06T18:02:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68904569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5597#discussion_r22587072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5597"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22587072"
         }
      },
      "body" : "@sipa Why did you choose to leave out the indentation? Our code get's pretty ugly again over time? Could we finally let the clang-format tool let do it's job and we also had a remove orphan spaces and tabs script if I remember correctly...",
      "commit_id" : "e41345790f1041f5c5e5605d73a0af174769aa55",
      "created_at" : "2015-01-07T14:09:06Z",
      "diff_hunk" : "@@ -1807,6 +1807,7 @@ enum FlushStateMode {\n bool static FlushStateToDisk(CValidationState &state, FlushStateMode mode) {\n     LOCK(cs_main);\n     static int64_t nLastWrite = 0;\n+    try {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5597#discussion_r22587072",
      "id" : 22587072,
      "original_commit_id" : "e41345790f1041f5c5e5605d73a0af174769aa55",
      "original_position" : 4,
      "path" : "src/main.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5597",
      "updated_at" : "2015-01-07T14:09:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22587072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   }
]
