[
   {
      "body" : "Ping @pstratem.",
      "created_at" : "2014-06-08T21:29:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45449179",
      "id" : 45449179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-08T21:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45449179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This effectively reduces duplicate calls to CTransaction::GetHash() to zero.\r\n\r\nThere are a few duplicates but I believe those to be the coinbase transactions which are actually identical.\r\n\r\nI have not reviewed for correctness.",
      "created_at" : "2014-06-08T23:38:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45452060",
      "id" : 45452060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-08T23:38:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45452060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "Actually those appear to be something to do with the genesis block.\r\n\r\nEither way it's a trivial number of duplicate calls.",
      "created_at" : "2014-06-08T23:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45452156",
      "id" : 45452156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-08T23:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45452156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "Added a commit that removes all function arguments that were hashes of a CTransaction that is already passed, resulting in simpler code in many places.",
      "created_at" : "2014-06-09T08:04:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45469285",
      "id" : 45469285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-09T08:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45469285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Very nice!",
      "created_at" : "2014-06-09T08:09:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45469523",
      "id" : 45469523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-09T08:09:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45469523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Spiffy! I like it! Untested ACK",
      "created_at" : "2014-06-09T14:15:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45494824",
      "id" : 45494824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-09T14:15:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45494824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@pstratem What were your benchmark results? I remember something like 17% faster reindex to block 180k or so?",
      "created_at" : "2014-06-12T11:23:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-45879968",
      "id" : 45879968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-12T11:23:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45879968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa benchmarks show a ~15% faster reindex to block 150k",
      "created_at" : "2014-06-14T02:29:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46076015",
      "id" : 46076015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-14T02:29:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46076015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "I've been testing this on my nodes for ~2 weeks with no problems.",
      "created_at" : "2014-06-21T15:49:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46757078",
      "id" : 46757078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-21T15:49:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46757078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK\r\n\r\nCode reviewed and some testing.",
      "created_at" : "2014-06-21T16:34:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46758224",
      "id" : 46758224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-21T16:34:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46758224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "ACK.",
      "created_at" : "2014-06-21T20:43:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46764296",
      "id" : 46764296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-21T20:43:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46764296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gavinandresen Can you make some space for pulltester?",
      "created_at" : "2014-06-22T00:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46768576",
      "id" : 46768576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-22T00:18:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46768576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4309_d38da59bf68fbb37535e2579bfb7355a16baed0e/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-22T18:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46788859",
      "id" : 46788859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-22T18:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46788859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "This change seems unnecessary?  As a grep of all CMutableTransaction uses helpfully highlights, there is never a case where a TX is accessed in parallel or stored in a parallel-access container while also being mutated.\r\n\r\nAs such, you may apply the common \"I'm done mutating this data structure, update cached data\" pattern without needing a new class.\r\n\r\nETA: I'm posting this on a closed issue because I'm updating the bitcoin-tx code for this change :)\r\n```\r\n - CTransaction tx;\r\n - DecodeHexTx(tx, strHexTx);\r\n + CTransaction txDecodeTmp;\r\n + DecodeHexTx(txDecodeTmp, strHexTx);\r\n + CMutableTransaction tx(txDecodeTmp);\r\n```",
      "created_at" : "2014-06-24T02:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4309#issuecomment-46926512",
      "id" : 46926512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4309",
      "updated_at" : "2014-06-24T02:50:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46926512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
