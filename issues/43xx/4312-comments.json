[
   {
      "body" : "Seems to work here, but pulltester is unhappy :(",
      "created_at" : "2014-06-09T19:37:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45534120",
      "id" : 45534120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-09T19:37:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45534120",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Pulltester problem doesn't look too bad:\r\n\r\n    make[2]: Entering directory `/mnt/bitcoin/src/secp256k1'\r\n    make[2]: *** No rule to make target `distdir'.  Stop.\r\n",
      "created_at" : "2014-06-10T06:28:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45578204",
      "id" : 45578204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-10T06:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45578204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "By the way, at least initially I would prefer it if --enable-libsecp256k1 was mutually incompatible with --enable-wallet. Ideally, there would be a way to remove the mining code too :)",
      "created_at" : "2014-06-10T07:31:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45582168",
      "id" : 45582168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-10T07:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45582168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581000"
         }
      },
      "body" : "NACK, just pull in libsecp256k1 as a normal dependency. No subtree garbage necessary.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:37:49Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581000",
      "id" : 13581000,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581008"
         }
      },
      "body" : "Dependencies are supposed to be AC_ARG_WITH/--with-libsecp256k1",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:38:23Z",
      "diff_hunk" : "@@ -62,6 +63,12 @@ AC_ARG_ENABLE([upnp-default],\n   [use_upnp_default=$enableval],\n   [use_upnp_default=no])\n \n+AC_ARG_ENABLE([libsecp256k1],\n+  [AS_HELP_STRING([--enable-libsecp256k1],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581008",
      "id" : 13581008,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 13,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581027"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581027"
         }
      },
      "body" : "Define \"normal dependency\"?",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:39:06Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581027",
      "id" : 13581027,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581044"
         }
      },
      "body" : "Should secp256k1_ecdsa_privkey_export really NEVER return NULL in ordinary circumstances here? If there's a normal condition it might, this shouldn't be an assert...",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:39:35Z",
      "diff_hunk" : "@@ -408,99 +434,167 @@ bool CKey::SetPrivKey(const CPrivKey &privkey, bool fCompressedIn) {\n \n CPrivKey CKey::GetPrivKey() const {\n     assert(fValid);\n+    CPrivKey privkey;\n+#ifdef USE_SECP256K1\n+    privkey.resize(279);\n+    int privkeylen = 279;\n+    int ret = secp256k1_ecdsa_privkey_export(begin(), (unsigned char*)&privkey[0], &privkeylen, fCompressed);\n+    assert(ret);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581044",
      "id" : 13581044,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 78,
      "path" : "src/key.cpp",
      "position" : 70,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581047"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581047"
         }
      },
      "body" : "Including it as subtree is better IMO. It leaves us control over the code (which is one of the reasons for moving away from OpenSSL in the first place!), and avoids that the person building it has to install a dependency that's pretty much unknown right now.\r\n",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:39:40Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581047",
      "id" : 13581047,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581106"
         }
      },
      "body" : "@sipa Like Qt, boost, or any other dependency.\r\n\r\n@laanwj We already have \"control over the code\" - @sipa is upstream! People building code are prepared to deal with dependencies.\r\n\r\nSubtree messes just *de*modularise the code into one big ugly blob. Our goal should be modularising, not the opposite!",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:42:25Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581106",
      "id" : 13581106,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581165"
         }
      },
      "body" : "Currently there is no code path that could make it return 0 even.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:44:06Z",
      "diff_hunk" : "@@ -408,99 +434,167 @@ bool CKey::SetPrivKey(const CPrivKey &privkey, bool fCompressedIn) {\n \n CPrivKey CKey::GetPrivKey() const {\n     assert(fValid);\n+    CPrivKey privkey;\n+#ifdef USE_SECP256K1\n+    privkey.resize(279);\n+    int privkeylen = 279;\n+    int ret = secp256k1_ecdsa_privkey_export(begin(), (unsigned char*)&privkey[0], &privkeylen, fCompressed);\n+    assert(ret);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581165",
      "id" : 13581165,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 78,
      "path" : "src/key.cpp",
      "position" : 70,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581241"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581241"
         }
      },
      "body" : "But something could be said that secp256k is in exactly the same spot as leveldb. It's critical to the consensus.\r\nSure, @sipa is upstream here which helps, *but* by including the code we avoid having to take version mismatches into account, for example. We test with one bitcoind-secp256k-leveldb combination and everyone will use that.\r\n",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:47:27Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581241",
      "id" : 13581241,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581444"
         }
      },
      "body" : "LevelDB shouldn't be subtree'd either. If you want to tie release code to a specific version, just put it in the configure.ac as a requirement... but that's a bad idea IMO. Especially for libsecp256k1 since upstream understands consensus-critical needs.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T07:53:35Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13581444",
      "id" : 13581444,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13581444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13583242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13583242"
         }
      },
      "body" : "I'm all for modularizing where it makes sense (eject the wallet today!). But the consensus logic by nature is an ugly atomic blob. There's nothing to be gained by modularizing it.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T08:53:22Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13583242",
      "id" : 13583242,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13583242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584090"
         }
      },
      "body" : "There is plenty to be gained by modularising it. Other software can use bits.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T09:16:31Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584090",
      "id" : 13584090,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584752"
         }
      },
      "body" : "Other software can use libsecp256k1 regardless of whether we subtree it or not.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T09:36:38Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584752",
      "id" : 13584752,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584774"
         }
      },
      "body" : "Not quite, it will reside in memory twice.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T09:37:43Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13584774",
      "id" : 13584774,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13584774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13587955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13587955"
         }
      },
      "body" : "It's 30 kB of object code.\r\n\r\nAnd 600 kB of precomputed data (which wouldn't be shared across processes anyway).",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T11:19:21Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13587955",
      "id" : 13587955,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13587955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "The pull-tester issue is actually a pretty nasty problem. I'm still debating which \"fix\" to use, I'll push something up soon.",
      "created_at" : "2014-06-10T17:16:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45643839",
      "id" : 45643839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-10T17:16:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45643839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13615806"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13615806"
         }
      },
      "body" : "I'm pretty indifferent on the matter, I just hooked it up as requested. Either outcome is fine by me.",
      "commit_id" : "fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab",
      "created_at" : "2014-06-10T20:05:23Z",
      "diff_hunk" : "@@ -701,4 +717,17 @@ AC_SUBST(BUILD_TEST_QT)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull-tester/run-bitcoind-for-test.sh])\n AC_CONFIG_FILES([qa/pull-tester/build-tests.sh],[chmod +x qa/pull-tester/build-tests.sh])\n+\n+if test x$use_libsecp256k1 != xno; then\n+  dnl boost's m4 checks do something really nasty: they export these vars. As a\n+  dnl result, they leak into secp256k1's configure and crazy things happen.\n+  dnl Until this is fixed upstream and we've synced, we'll just un-export them.\n+  export -n CPPFLAGS\n+  export -n LIBS\n+  export -n LDFLAGS\n+\n+  ac_configure_args=\"${ac_configure_args} --disable-shared --with-pic\"\n+  AC_CONFIG_SUBDIRS([src/secp256k1])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#discussion_r13615806",
      "id" : 13615806,
      "original_commit_id" : "98ad8d70247fc1c1b75c12a274a171d0a90c4032",
      "original_position" : 58,
      "path" : "configure.ac",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4312",
      "updated_at" : "2014-07-01T16:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/13615806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "I get the following error with\r\n```bash\r\n#!/bin/bash\r\nPARALLELISM=6\r\n./autogen.sh && ./configure --with-gui=qt5 --enable-libsecp256k1 --disable-wallet && make clean && make -j${PARALLELISM}\r\n```\r\n```\r\nmake[2]: Entering directory `/store/orion/projects/bitcoin/bitcoin/src'\r\n  AR       libbitcoin_server.a\r\n  CXX      libbitcoin_common_a-key.o\r\nkey.cpp: In function Ã¢ÂÂbool ECC_InitSanityCheck()Ã¢ÂÂ:\r\nkey.cpp:740:5: error: Ã¢ÂÂEC_KEYÃ¢ÂÂ was not declared in this scope\r\n     EC_KEY *pkey = EC_KEY_new_by_curve_name(NID_secp256k1);\r\n     ^\r\nkey.cpp:740:13: error: Ã¢ÂÂpkeyÃ¢ÂÂ was not declared in this scope\r\n     EC_KEY *pkey = EC_KEY_new_by_curve_name(NID_secp256k1);\r\n             ^\r\nkey.cpp:740:45: error: Ã¢ÂÂNID_secp256k1Ã¢ÂÂ was not declared in this scope\r\n     EC_KEY *pkey = EC_KEY_new_by_curve_name(NID_secp256k1);\r\n                                             ^\r\nkey.cpp:740:58: error: Ã¢ÂÂEC_KEY_new_by_curve_nameÃ¢ÂÂ was not declared in this scope\r\n     EC_KEY *pkey = EC_KEY_new_by_curve_name(NID_secp256k1);\r\n                                                          ^\r\nkey.cpp:743:21: error: Ã¢ÂÂEC_KEY_freeÃ¢ÂÂ was not declared in this scope\r\n     EC_KEY_free(pkey);\r\n                     ^\r\nmake[2]: *** [libbitcoin_common_a-key.o] Error 1\r\n```\r\n(Ubuntu 14.04 AMD64)\r\n**Edit:** oops, yes, as @sipa notes below I've tested a version that was merged into master, instead of your branch directly, I should mention that.\r\n\r\n",
      "created_at" : "2014-06-11T12:13:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45733141",
      "id" : 45733141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-11T12:24:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45733141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yes, this needs rebasing on top of #4277.",
      "created_at" : "2014-06-11T12:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45733333",
      "id" : 45733333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-11T12:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45733333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "rebased. I made a minimal change for @laanwj's error and squashed it into the first commit.",
      "created_at" : "2014-06-11T18:37:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45781727",
      "id" : 45781727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-11T18:37:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45781727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Idea: call secp256k1_start from ECC_InitSanityCheck?\r\n\r\nThat way, we don't spend the time for building the precomputation tables in bitcoin-cli...",
      "created_at" : "2014-06-11T23:37:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45814089",
      "id" : 45814089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-11T23:37:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45814089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Good point, though I'm not sure the sanity check function is the best place. \r\nI think in general it would be good to move from 'hidden' static classes with constructors and destructors (CInit in util.cpp, CMainCleanup in main.cpp, and now CSecp256k1Init) and implicit initialization (GetDataDir and al) to explicit initialization and shutdown sequences. It's easier (well: possible!) to track of the sequence and what depends on what.\r\n\r\nSomething could be said that bitcoin-cli shouldn't be linking key.cpp at all. But that's an issue for another day :)",
      "created_at" : "2014-06-12T02:48:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45824632",
      "id" : 45824632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-12T02:48:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45824632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Agree, I'm fine with an explicit initializer/finalizer as well, independent from the ecc check.\r\n\r\nAnd of course, bitcoin-cli shouldn't use key.cpp at all, but I don't know how far we're away from that.",
      "created_at" : "2014-06-12T08:13:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-45841124",
      "id" : 45841124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-12T08:13:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45841124",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "*** Error in `bitcoin/src/bitcoind': munmap_chunk(): invalid pointer: 0x0000000000a2e430 ***\r\n\r\n#0  0x00007ffff5d71f79 in __GI_raise (sig=sig@entry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56\r\n#1  0x00007ffff5d75388 in __GI_abort () at abort.c:89\r\n#2  0x00007ffff5daf1d4 in __libc_message (do_abort=do_abort@entry=1, fmt=fmt@entry=0x7ffff5ebda10 \"*** Error in `%s': %s: 0x%s ***\\n\") at ../sysdeps/posix/libc_fatal.c:175\r\n#3  0x00007ffff5db9f37 in malloc_printerr (action=<optimized out>, str=0x7ffff5ebdd90 \"munmap_chunk(): invalid pointer\", ptr=<optimized out>) at malloc.c:4996\r\n#4  0x00007ffff6b9ef4d in CRYPTO_free (str=0xa2e430) at mem.c:397\r\n#5  0x00007ffff6bd7a05 in BN_free (a=0xa46670) at bn_lib.c:261\r\n#6  0x00000000005f9a86 in secp256k1_num_free (r=0xa46670) at src/num_openssl_impl.h:21\r\n#7  secp256k1_ge_stop () at src/group_impl.h:396\r\n#8  secp256k1_stop () at src/secp256k1.c:19\r\n#9  0x00007ffff5d77509 in __run_exit_handlers (status=0, listp=0x7ffff60fa6c8 <__exit_funcs>, run_list_atexit=run_list_atexit@entry=true) at exit.c:82\r\n#10 0x00007ffff5d77555 in __GI_exit (status=<optimized out>) at exit.c:104\r\n#11 0x00007ffff5d5cecc in __libc_start_main (main=0x41bf10 <main(int, char**)>, argc=2, argv=0x7fffffffe408, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffe3f8) at libc-start.c:321\r\n#12 0x0000000000424d19 in _start ()\r\n",
      "created_at" : "2014-06-15T21:18:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-46128260",
      "id" : 46128260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-15T21:18:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46128260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "See bitcoin/secp256k1#28 for a fix.",
      "created_at" : "2014-06-15T21:45:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-46128936",
      "id" : 46128936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-15T21:47:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46128936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Would you prefer that I sync and rebase this as these come up? Or leave it as-is with the understanding that a sync will be done before merge?",
      "created_at" : "2014-06-15T22:05:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-46129610",
      "id" : 46129610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-15T22:05:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46129610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Up to you. Constantly rebasing will take work, but may make some things easier to review.\r\n\r\n",
      "created_at" : "2014-06-15T23:04:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-46130945",
      "id" : 46130945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-15T23:04:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46130945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Needs rebase.\r\nStrange: I tried a rebase to see where the conflict is with, but rebase gets confused between src/util.h and src/secp256k1/util.h!\r\n",
      "created_at" : "2014-06-23T09:28:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-46822959",
      "id" : 46822959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-23T09:28:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46822959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2014-06-24T20:55:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47029469",
      "id" : 47029469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-24T20:55:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47029469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "```\r\n2014-06-24 21:30:27 Bitcoin version v0.9.99.0-2e04a3d (2014-06-24 16:52:34 -0400)\r\n2014-06-24 21:30:27 Using OpenSSL version OpenSSL 1.0.1e-fips 11 Feb 2013\r\n2014-06-24 21:30:27 Using BerkeleyDB version Berkeley DB 4.8.30: (August  3, 2013)\r\n```\r\n\r\nCould you add a print during runtime to display the fact that it is using libsecp256k1 similar to these others?  Otherwise it is difficult to know which library you are using.",
      "created_at" : "2014-06-24T21:36:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47034399",
      "id" : 47034399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-24T21:36:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47034399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "I want to merge this as soon as possible due to the build system changes. Is it ready @theuni?\r\n\r\nImprovements like @wtogami's (which I fully agree with) can be done later.\r\n",
      "created_at" : "2014-06-25T08:07:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47072099",
      "id" : 47072099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-25T08:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47072099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj From the build-side, I think it's ok to merge. Up to @sipa on the readiness of the lib itself.\r\n\r\nAre you just worried about the (time) cost of rebasing this for build-system changes? If so, I can split it into 2 parts: Build-system changes that are useless without the 2nd part, and the actual secp and configure switch addition. We could merge the first now to prevent future rebasing, then do the 2nd whenever @sipa is happy.",
      "created_at" : "2014-06-25T21:27:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47161081",
      "id" : 47161081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-25T21:27:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47161081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "If there is a clear condition when the lib is ready we can wait for that, I just want to avoid keeping this open up to some arbitrary time. My belief at the start of this project was that secp256k1 was ready for experimental use in bitcoin core.\r\n\r\nSo once the code review comments with regard to the integration are processed, and things are not obviously crashing or failing, I think we should aim to merge this. We can then periodically update the secp256k1 lib from upstream.\r\n\r\nSplitting it into two parts, a build system change and the rest, also sounds good to me.\r\n",
      "created_at" : "2014-06-26T05:29:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47189077",
      "id" : 47189077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-26T05:29:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47189077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok, I'll split this into 2 PRs. The build-side can be merged, then the discussion can be about the readiness of secp256k1 itself.",
      "created_at" : "2014-06-26T16:32:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47248192",
      "id" : 47248192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-26T16:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47248192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Split up. @laanwj You can pull as much of this one as you want whenever you're ready. It's a complete no-op without the lib itself and the configure option.\r\n\r\nThe rest is here (on top of this PR) for reference: https://github.com/theuni/bitcoin/commits/secp256k1-integration-part2",
      "created_at" : "2014-06-26T22:09:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47286634",
      "id" : 47286634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-26T22:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47286634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Sorry for commenting late.\r\n\r\nIf we want to merge for experimental use, fine by me. I'd like to make it disable wallet and mining when doing so, but perhaps people compiling from source could easily bypass that anyway.\r\n\r\nI do plan to change the API significantly at some point, but everything is functional now, and that won't be immediately. If we want to wait for something like an actual \"release\" of libsecp256k1... that may take a while, and the glue code would probably need to be different too.",
      "created_at" : "2014-06-26T23:49:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47293960",
      "id" : 47293960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-26T23:49:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47293960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Will merge this after rebase.\r\n\r\nI definitely don't think we should wait for an actual \"release\" of libsecp256k1. The more testing it gets the better.\r\n",
      "created_at" : "2014-06-29T08:22:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47448613",
      "id" : 47448613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-06-29T08:22:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47448613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased and ready for merge afaik.\r\n@sipa Would you prefer to take the top commits here and PR it yourself so that I'm not in the way of it? https://github.com/theuni/bitcoin/commits/secp256k1-integration-part2\r\n\r\nOtherwise, if you're ok with it as-is, I can just PR those once this one is merged.",
      "created_at" : "2014-07-01T16:33:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47678806",
      "id" : 47678806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-07-01T16:33:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47678806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4312_fda3fed18aedc4bfc8ccffe89d8d2cabb12677ab/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-07-01T16:49:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4312#issuecomment-47680811",
      "id" : 47680811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4312",
      "updated_at" : "2014-07-01T16:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47680811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
