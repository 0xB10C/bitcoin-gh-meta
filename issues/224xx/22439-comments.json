[
   {
      "author_association" : "MEMBER",
      "body" : "I have failed to get a completed build so far, but have kept retrying.\r\n\r\nIt is very resource hungry, and the absence of apt-cacher means it has to restart downloads every time one fails.\r\n\r\nI need to use my disksize patch for gitian to have enough space. https://github.com/devrandom/gitian-builder/pull/172",
      "created_at" : "2021-07-13T22:11:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-879437680",
      "id" : 879437680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3OTQzNzY4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-13T22:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/879437680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21851 by fanquake\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-07-14T05:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-879601464",
      "id" : 879601464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3OTYwMTQ2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T05:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/879601464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\nfab02ca332c5d79bcf1d62455a5e47e1b022522fb78ca81f2f07bde53d889a9f  aarch64-linux-gnu/bitcoin-21.99-guixtest1-aarch64-linux-gnu-debug.tar.gz\r\n83c2e2a991bd2ae635e24667a1048e1735b77a887dc5a5f424f09b774c5bfb61  aarch64-linux-gnu/bitcoin-21.99-guixtest1-aarch64-linux-gnu.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  aarch64-linux-gnu/inputs.SHA256SUMS\r\ndb2d740831bc70cb443f2b855c076a905c99ed2567a3240d89c99f036dba1cf6  arm-linux-gnueabihf/bitcoin-21.99-guixtest1-arm-linux-gnueabihf-debug.tar.gz\r\n92e3c65cacff6e522d8daf2bf71ca3eb2c62da67557990c4ee24ab9e17142a39  arm-linux-gnueabihf/bitcoin-21.99-guixtest1-arm-linux-gnueabihf.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  arm-linux-gnueabihf/inputs.SHA256SUMS\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855  dist-archive/SKIPATTEST.TAG\r\n10d67c880c5d1753ca2dc667241089d2e8a155282aabd17e483838239120cc87  dist-archive/bitcoin-21.99-guixtest1.tar.gz\r\ncea5acf03c64d1f6958ee7ea5572b4ccbaee3525dde372f2e751e53bccd53137  powerpc64-linux-gnu/bitcoin-21.99-guixtest1-powerpc64-linux-gnu-debug.tar.gz\r\nd71b0bc9f3ee82c5edf334547eb5c4383e51fc440192f95c8a1e0ab008668906  powerpc64-linux-gnu/bitcoin-21.99-guixtest1-powerpc64-linux-gnu.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  powerpc64-linux-gnu/inputs.SHA256SUMS\r\n0e6cf8800b577a717177dedfc2f527522c8afbb1243688465747a0c1395883c9  powerpc64le-linux-gnu/bitcoin-21.99-guixtest1-powerpc64le-linux-gnu-debug.tar.gz\r\n59d6d8f630d77676bcd88ecb28d8f6acd9e859ff16013b4b76e9033709755cd3  powerpc64le-linux-gnu/bitcoin-21.99-guixtest1-powerpc64le-linux-gnu.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  powerpc64le-linux-gnu/inputs.SHA256SUMS\r\ne8e0622c8e748edaafeb38c7621980d9e29bebefe9fd25ff5dbd4d687e75ed08  riscv64-linux-gnu/bitcoin-21.99-guixtest1-riscv64-linux-gnu-debug.tar.gz\r\nc45b797ff1092e015de43dfbeb8b911f0febc5d4c11f695d2ef9dc5118626059  riscv64-linux-gnu/bitcoin-21.99-guixtest1-riscv64-linux-gnu.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  riscv64-linux-gnu/inputs.SHA256SUMS\r\nda94fccd6278cbd116d218f74150b0c1230bb40e1ac68bb0cba52503801b2366  x86_64-linux-gnu/bitcoin-21.99-guixtest1-x86_64-linux-gnu-debug.tar.gz\r\nb925b9444131b1da245d5dd314040085f4dd9e9e513c28cfb6ae12fb0c5e6ba4  x86_64-linux-gnu/bitcoin-21.99-guixtest1-x86_64-linux-gnu.tar.gz\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  x86_64-linux-gnu/inputs.SHA256SUMS\r\n5f79485f8299691166e860036149bc6d600b9d25db1e2d3a0a75a7bb18e4cbc3  x86_64-w64-mingw32/bitcoin-21.99-guixtest1-win-unsigned.tar.gz\r\n157b6457bc8d4fafd680144fd684905a934985cdb8997e074c57b6134e5eb081  x86_64-w64-mingw32/bitcoin-21.99-guixtest1-win64-debug.zip\r\n49ef90b5e9124203770c6c2dc154cbdab4098675fe4db93592bfef60eb31fb4a  x86_64-w64-mingw32/bitcoin-21.99-guixtest1-win64-setup-unsigned.exe\r\nf4a8a7e079326a8500536eee5dfab38cb34a554f216a4aa2e7ab6d230b0dc813  x86_64-w64-mingw32/bitcoin-21.99-guixtest1-win64.zip\r\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  x86_64-w64-mingw32/inputs.SHA256SUMS\r\n26f2f35486684b4b323359d11897a17e69a20a46a3524683f7e2bbc3391b1e07  bitcoin-core-guix-linux-win-res.yml\r\n```",
      "created_at" : "2021-07-14T16:36:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-880041744",
      "id" : 880041744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDA0MTc0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T16:36:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880041744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673433986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22439"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673433986"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't `file` be `\"${KEYFILE}\"` still? (and do we actually need sudo to read it?)",
      "commit_id" : "f019d68d5a924aad5db1208534e9313bdbe396ba",
      "created_at" : "2021-07-20T19:51:54Z",
      "diff_hunk" : "@@ -0,0 +1,98 @@\n+---\n+name: \"bitcoin-core-guix-linux-win\"\n+enable_cache: true\n+sudo: true\n+distro: \"ubuntu\"\n+suites:\n+- \"bionic\"\n+architectures:\n+- \"amd64\"\n+packages:\n+- \"ca-certificates\"\n+- \"curl\"\n+- \"gnupg\"\n+- \"netbase\"\n+- \"wget\"\n+remotes:\n+- \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n+  \"dir\": \"bitcoin\"\n+files: []\n+script: |\n+  set -e -o pipefail\n+\n+  export TZ=\"UTC\"\n+  export BUILD_DIR=\"$PWD\"\n+  if test -n \"$GBUILD_CACHE_ENABLED\"; then\n+    export SOURCES_PATH=${GBUILD_COMMON_CACHE}\n+    export BASE_CACHE=${GBUILD_PACKAGE_CACHE}\n+    mkdir -p ${BASE_CACHE} ${SOURCES_PATH}\n+    GUIX_CACHE=${GBUILD_COMMON_CACHE}/guix\n+\n+    GUIX_SCRIPT=${GUIX_CACHE}/guix-install.sh\n+    if [[ -f \"${GUIX_SCRIPT}\" ]]; then\n+      cp ${GUIX_SCRIPT} $BUILD_DIR\n+    fi\n+    GUIX_TARBALL=${GUIX_CACHE}/guix-tarball-pack-x86_64-linux.tar.gz\n+    if [[ -f \"${GUIX_TARBALL}\" ]]; then\n+      export GUIX_BINARY_FILE_NAME=${GUIX_TARBALL}\n+    fi\n+  fi\n+  export JOBS=${NUM_PROCS}\n+\n+  # Install guix with the installer script\n+  wget -nc https://git.savannah.gnu.org/cgit/guix.git/plain/etc/guix-install.sh\n+  chmod +x guix-install.sh\n+  # We don't want SIGPIPE from running `yes`, so temporarily remove pipefail\n+  set +o pipefail\n+  yes | sudo -E ./guix-install.sh\n+  set -o pipefail\n+\n+  # Check guix-daemon is running\n+  if ! guix gc --list-failures > /dev/null; then\n+    # Not running, try starting it\n+    # Not all virtualization methods have systemd available, so start guix-daemon manually\n+    export GUIX_LOCPATH=/var/guix/profiles/per-user/root/guix-profile/lib/locale\n+    export LC_ALL=en_US.utf8\n+    sudo /var/guix/profiles/per-user/root/current-guix/bin/guix-daemon --build-users-group=guixbuild --substitute-urls=\"https://guix.carldong.io https://ci.guix.gnu.org\"&\n+  fi\n+\n+  # Import guix cache\n+  if test -n \"$GBUILD_CACHE_ENABLED\"; then\n+    mkdir -p ${GUIX_CACHE}\n+    KEYFILE=\"${GUIX_CACHE}/signing-key.pub\"\n+    STORE_FILE=\"${GUIX_CACHE}/guix_store.nar\"\n+    if [[ -f \"$KEYFILE\" && -f \"$STORE_FILE\" ]]; then\n+      sudo cat file | sudo guix archive --authorize",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673433986",
      "id" : 673433986,
      "line" : 65,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MzQzMzk4Ng==",
      "original_commit_id" : "f019d68d5a924aad5db1208534e9313bdbe396ba",
      "original_line" : 65,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-guix-linux-win.yml",
      "position" : 65,
      "pull_request_review_id" : 711007248,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22439",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-20T19:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673433986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673438418"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22439"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673438418"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For safety, there should be double quotes around the variables\r\n\r\n```suggestion\r\n    mkdir -p \"${BASE_CACHE}\" \"${SOURCES_PATH}\"\r\n```",
      "commit_id" : "f019d68d5a924aad5db1208534e9313bdbe396ba",
      "created_at" : "2021-07-20T19:56:24Z",
      "diff_hunk" : "@@ -0,0 +1,98 @@\n+---\n+name: \"bitcoin-core-guix-linux-win\"\n+enable_cache: true\n+sudo: true\n+distro: \"ubuntu\"\n+suites:\n+- \"bionic\"\n+architectures:\n+- \"amd64\"\n+packages:\n+- \"ca-certificates\"\n+- \"curl\"\n+- \"gnupg\"\n+- \"netbase\"\n+- \"wget\"\n+remotes:\n+- \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n+  \"dir\": \"bitcoin\"\n+files: []\n+script: |\n+  set -e -o pipefail\n+\n+  export TZ=\"UTC\"\n+  export BUILD_DIR=\"$PWD\"\n+  if test -n \"$GBUILD_CACHE_ENABLED\"; then\n+    export SOURCES_PATH=${GBUILD_COMMON_CACHE}\n+    export BASE_CACHE=${GBUILD_PACKAGE_CACHE}\n+    mkdir -p ${BASE_CACHE} ${SOURCES_PATH}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673438418",
      "id" : 673438418,
      "line" : 28,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MzQzODQxOA==",
      "original_commit_id" : "f019d68d5a924aad5db1208534e9313bdbe396ba",
      "original_line" : 28,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-guix-linux-win.yml",
      "position" : 28,
      "pull_request_review_id" : 711007248,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22439",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-20T19:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/673438418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
