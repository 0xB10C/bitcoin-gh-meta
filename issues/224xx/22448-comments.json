[
   {
      "author_association" : "MEMBER",
      "body" : "Wouldn't the 4bf2400ab0d53b5e31c05ffe56db7524c162a2fc commit need to be squashed into the merge commit to avoid git bisect build failures?",
      "created_at" : "2021-07-14T18:02:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#issuecomment-880099214",
      "id" : 880099214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22448",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDA5OTIxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T18:02:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880099214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke I'm not sure that's possible without breaking git-subtree.",
      "created_at" : "2021-07-14T18:11:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#issuecomment-880105001",
      "id" : 880105001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22448",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDEwNTAwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T19:06:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880105001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Do you have steps to reproduce? I am almost sure I did this in the past and it was working fine. You can try:\r\n\r\n```sh\r\ngit reset --soft HEAD~\r\ngit commit --amend\r\ngit diff HEAD 4bf2400ab0d53b5e31c05ffe56db7524c162a2fc  # empty\r\n./test/lint/git-subtree-check.sh src/secp256k1  # green",
      "created_at" : "2021-07-14T19:26:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#issuecomment-880150514",
      "id" : 880150514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22448",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDE1MDUxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T19:26:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880150514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Here is the commit where I did this previously: faaeeb0d3e777d991c7cfee983bea369c109f5cc",
      "created_at" : "2021-07-14T19:27:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#issuecomment-880151001",
      "id" : 880151001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22448",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDE1MTAwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T19:27:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880151001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke Cool, didn't know that'd just work. Pushed.",
      "created_at" : "2021-07-14T21:44:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#issuecomment-880230797",
      "id" : 880230797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22448",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg4MDIzMDc5Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-14T21:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/880230797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22448#discussion_r670316589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22448"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670316589"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    return secp256k1_schnorrsig_verify(secp256k1_context_verify, sigbytes.data(), msg.begin(), /* msg_len */ 32, &pubkey);\r\n```",
      "commit_id" : "e4ffb44716bb7a7b9f0a5d70ac07058632234370",
      "created_at" : "2021-07-15T09:56:53Z",
      "diff_hunk" : "@@ -191,7 +191,7 @@ bool XOnlyPubKey::VerifySchnorr(const uint256& msg, Span<const unsigned char> si\n     assert(sigbytes.size() == 64);\n     secp256k1_xonly_pubkey pubkey;\n     if (!secp256k1_xonly_pubkey_parse(secp256k1_context_verify, &pubkey, m_keydata.data())) return false;\n-    return secp256k1_schnorrsig_verify(secp256k1_context_verify, sigbytes.data(), msg.begin(), &pubkey);\n+    return secp256k1_schnorrsig_verify(secp256k1_context_verify, sigbytes.data(), msg.begin(), 32, &pubkey);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#discussion_r670316589",
      "id" : 670316589,
      "line" : 194,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDMxNjU4OQ==",
      "original_commit_id" : "e4ffb44716bb7a7b9f0a5d70ac07058632234370",
      "original_line" : 194,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/pubkey.cpp",
      "position" : 5,
      "pull_request_review_id" : 707160021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22448",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-15T10:07:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670316589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22448#discussion_r670319649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22448"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670319649"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, /* aux_rand32 */ aux ? (unsigned char*)aux->data() : nullptr);\r\n```",
      "commit_id" : "e4ffb44716bb7a7b9f0a5d70ac07058632234370",
      "created_at" : "2021-07-15T10:01:07Z",
      "diff_hunk" : "@@ -274,7 +274,7 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         uint256 tweak = XOnlyPubKey(pubkey_bytes).ComputeTapTweakHash(merkle_root->IsNull() ? nullptr : merkle_root);\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n-    bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, secp256k1_nonce_function_bip340, aux ? (void*)aux->data() : nullptr);\n+    bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22448#discussion_r670319649",
      "id" : 670319649,
      "line" : 277,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MDMxOTY0OQ==",
      "original_commit_id" : "e4ffb44716bb7a7b9f0a5d70ac07058632234370",
      "original_line" : 277,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/key.cpp",
      "position" : 5,
      "pull_request_review_id" : 707160021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22448",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-15T10:07:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/670319649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
