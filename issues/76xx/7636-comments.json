[
   {
      "body" : "That's the preview of the change, the qr image has the bitcoin address label underneath so that when it's saved you can match it:\r\n![](http://mkvd.s3.amazonaws.com/pics/qr_bc_core_pr.png)",
      "created_at" : "2016-03-03T11:27:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191717414",
      "id" : 191717414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191717414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14677?v=3",
         "events_url" : "https://api.github.com/users/makevoid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/makevoid/followers",
         "following_url" : "https://api.github.com/users/makevoid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/makevoid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/makevoid",
         "id" : 14677,
         "login" : "makevoid",
         "organizations_url" : "https://api.github.com/users/makevoid/orgs",
         "received_events_url" : "https://api.github.com/users/makevoid/received_events",
         "repos_url" : "https://api.github.com/users/makevoid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/makevoid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/makevoid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/makevoid"
      }
   },
   {
      "body" : "Haven't looked at the code, but screenshot looks good to me, nice work.\r\n",
      "created_at" : "2016-03-03T11:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191719546",
      "id" : 191719546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191719546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Thanks!\r\n\r\nHaving a malicious QRCode can probably only  happen if you system, Bitcoin-Core or at least libqrencode is compromise.\r\n\r\nYour PR would only protect from an attack on libqrencode and only if the user uses a self-compiled Bitcoin-Core (official binaries are static linked). Because, if you could tamper Bitcoin-Core, you could change the address at a core point which would also provide a malicious address below the QRCode.\r\n\r\nThis change would def. make sense if we would have HD for key derivation.\r\nYou could use a smartphone with the same xpub master key and verify the address at given keypath by comparing QRCodes or addresses together with the keypath.\r\n\r\nIMO this PR does not hurt, although I don't believe that it increases security.\r\n\r\nUtACK.",
      "created_at" : "2016-03-03T11:42:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191721180",
      "id" : 191721180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:44:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191721180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> IMO this PR does not hurt, although I don't believe that is increases security.\r\n\r\nIf anything at the printer side is compromised, you're out of luck. But what about a malicious QR code *reader*? I think it could help there, comparing the address before accepting the transaction in your wallet.\r\n",
      "created_at" : "2016-03-03T11:44:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191721856",
      "id" : 191721856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:44:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191721856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Right, I think it makes sense to have a human readable version of the QR code besides it. Concept ACK.",
      "created_at" : "2016-03-03T11:47:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191722303",
      "id" : 191722303,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:47:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191722303",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Yes. I just thought people could already do this because they have the address below the QRCode already. But this PR makes it more prominent available.\r\n\r\n",
      "created_at" : "2016-03-03T11:49:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191722853",
      "id" : 191722853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T11:49:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191722853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Testing on OS X. The image is blurred. Original image is OK:\r\n\r\nCurrent master: \r\n![before](https://cloud.githubusercontent.com/assets/6848764/13494701/2c81a37c-e146-11e5-8cb0-46b445e491db.png)\r\n\r\nThis PR:\r\n![after](https://cloud.githubusercontent.com/assets/6848764/13494704/32154172-e146-11e5-976b-c1773a7283d2.png)\r\n\r\nThe Request payment window shows only the top part of the address:\r\n\r\n<img width=\"493\" alt=\"screen shot 2016-03-03 at 13 43 03\" src=\"https://cloud.githubusercontent.com/assets/6848764/13494723/512705d2-e146-11e5-9f9d-9cb438736507.png\">\r\n\r\nCan you fix these problems?\r\n",
      "created_at" : "2016-03-03T12:47:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191749292",
      "id" : 191749292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T12:47:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191749292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7636#discussion_r54874745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7636"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54874745"
         }
      },
      "body" : "QRCodes should not use anti-aliasing (QT::SmoothTransformation). I guess this should be removed.",
      "commit_id" : "a1b9b7e71efe59ccbae8360f09ae3bcf240e99d0",
      "created_at" : "2016-03-03T12:48:27Z",
      "diff_hunk" : "@@ -45,7 +45,7 @@ QImage QRImageWidget::exportImage()\n {\n     if(!pixmap())\n         return QImage();\n-    return pixmap()->toImage().scaled(EXPORT_IMAGE_SIZE, EXPORT_IMAGE_SIZE);\n+    return pixmap()->toImage().scaled(EXPORT_IMAGE_SIZE, EXPORT_IMAGE_SIZE, Qt::KeepAspectRatio, Qt::SmoothTransformation);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#discussion_r54874745",
      "id" : 54874745,
      "original_commit_id" : "a1b9b7e71efe59ccbae8360f09ae3bcf240e99d0",
      "original_position" : 5,
      "path" : "src/qt/receiverequestdialog.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7636",
      "updated_at" : "2016-03-03T12:48:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/54874745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I removed the anti-aliasing (I should I've imagined that it was bad for qr code scanning) and now it shouldn't have that blurring problem on OSX as it uses the same size as the size it's using to display it (`300`), anyway I will double-check it in few hours on that OS.\r\n\r\nThe only thing that's changed now is the export size, the final image is 44 pixel larger for each dimension. The good thing that is now I can reuse the constant `EXPORT_IMAGE_SIZE` (now changed to `QR_IMAGE_SIZE`, used only in this file) for the dimensions, also there's no need to re-scale the image again and again anymore.\r\n\r\nI can squash the three commits to a single one and force push to this branch when needed.",
      "created_at" : "2016-03-03T13:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191764749",
      "id" : 191764749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T13:44:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191764749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14677?v=3",
         "events_url" : "https://api.github.com/users/makevoid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/makevoid/followers",
         "following_url" : "https://api.github.com/users/makevoid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/makevoid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/makevoid",
         "id" : 14677,
         "login" : "makevoid",
         "organizations_url" : "https://api.github.com/users/makevoid/orgs",
         "received_events_url" : "https://api.github.com/users/makevoid/received_events",
         "repos_url" : "https://api.github.com/users/makevoid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/makevoid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/makevoid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/makevoid"
      }
   },
   {
      "body" : "One new warning generated:\r\n\r\n```\r\n+qt/receiverequestdialog.cpp:184:73: warning: implicit conversion from 'double' to 'int' changes value from 8.5 to 8 [-Wliteral-conversion]\r\n+            painter.setFont(QFont(GUIUtil::fixedPitchFont().toString(), 8.5));\r\n+                            ~~~~~                                       ^~~\r\n+1 warning generated.\r\n```",
      "created_at" : "2016-03-03T13:57:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191770357",
      "id" : 191770357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T13:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191770357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "So now the window displays the address twice? Maybe just add it to the image when it's being saved...?",
      "created_at" : "2016-03-03T13:59:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191771738",
      "id" : 191771738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T13:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191771738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr If displayed properly, the address is displayed four times! Title bar, image, bitcoin: URL and address. 8)",
      "created_at" : "2016-03-03T14:02:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7636#issuecomment-191773522",
      "id" : 191773522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7636",
      "updated_at" : "2016-03-03T14:02:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/191773522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   }
]
