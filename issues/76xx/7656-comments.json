[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r55495527"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55495527"
         }
      },
      "body" : "Nit: Shouldn't this comment go up one line?",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-09T10:01:51Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1;\n+    std::vector<unsigned char> b58(size); // log(256) / log(58), rounded up.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r55495527",
      "id" : 55495527,
      "original_commit_id" : "56472eaef04fe4868b5949331b4928df5f602b0e",
      "original_position" : 12,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-09T10:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55495527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r55496562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55496562"
         }
      },
      "body" : ":+1:",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-09T10:09:56Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1;\n+    std::vector<unsigned char> b58(size); // log(256) / log(58), rounded up.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r55496562",
      "id" : 55496562,
      "original_commit_id" : "56472eaef04fe4868b5949331b4928df5f602b0e",
      "original_position" : 12,
      "path" : "src/base58.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-09T10:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/55496562",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "> For example, calling listunspents with my wallet results in 313ms in EncodeBase58 whereas before was 578ms.\r\n\r\nInteresting result. I was not aware anything was bottlenecked by base58 encoding.\r\nAs you've demonstrated a concrete performance improvement: concept ACK",
      "created_at" : "2016-03-11T07:35:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-195234142",
      "id" : 195234142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-11T07:36:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/195234142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Indeed, thanks for the concrete result. Concept ack.",
      "created_at" : "2016-03-11T07:47:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-195238468",
      "id" : 195238468,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-11T07:47:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/195238468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Ping @luke-jr, I think it makes sense for you to review this because of libbase58",
      "created_at" : "2016-03-11T08:49:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-195262107",
      "id" : 195262107,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-11T08:49:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/195262107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Untested ACK.\n\nThis should result in an asymptotic 2x speedup. I didn't expect that it would matter anywhere, but as it seems it does, great.",
      "created_at" : "2016-03-12T17:23:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-195777335",
      "id" : 195777335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-12T17:23:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/195777335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56383345"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56383345"
         }
      },
      "body" : "Do you really need both ```i``` and ```length```?\r\nIt seems you could simply ```++length;``` here. I see your ```i < length``` condition, but I don't see how can it possibly be ever true.\r\n",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-16T17:53:27Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {\n             carry += 256 * (*it);\n             *it = carry % 58;\n             carry /= 58;\n         }\n+\n         assert(carry == 0);\n+        length = i;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56383345",
      "id" : 56383345,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 26,
      "path" : "src/base58.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-16T17:55:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56383345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Very nice, utACK besides nit.",
      "created_at" : "2016-03-16T17:54:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-197457602",
      "id" : 197457602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-16T17:54:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197457602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "utACK 3252208\r\n",
      "created_at" : "2016-03-17T01:20:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#issuecomment-197635223",
      "id" : 197635223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7656",
      "updated_at" : "2016-03-17T01:20:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/197635223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56476584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56476584"
         }
      },
      "body" : "It isn't simply `++length`, it can be `length += 0|1|2`, but there is possible to remove `i`:\r\n`length = it - b58.begin()`\r\n",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-17T09:36:08Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {\n             carry += 256 * (*it);\n             *it = carry % 58;\n             carry /= 58;\n         }\n+\n         assert(carry == 0);\n+        length = i;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56476584",
      "id" : 56476584,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 26,
      "path" : "src/base58.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-17T09:36:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56476584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2633065?v=3",
         "events_url" : "https://api.github.com/users/fanatid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanatid/followers",
         "following_url" : "https://api.github.com/users/fanatid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanatid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanatid",
         "id" : 2633065,
         "login" : "fanatid",
         "organizations_url" : "https://api.github.com/users/fanatid/orgs",
         "received_events_url" : "https://api.github.com/users/fanatid/received_events",
         "repos_url" : "https://api.github.com/users/fanatid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanatid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanatid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanatid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56476755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56476755"
         }
      },
      "body" : "Wouldn't `++it` faster than `it++`?",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-17T09:37:00Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56476755",
      "id" : 56476755,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 19,
      "path" : "src/base58.cpp",
      "position" : 19,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-17T09:37:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56476755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2633065?v=3",
         "events_url" : "https://api.github.com/users/fanatid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanatid/followers",
         "following_url" : "https://api.github.com/users/fanatid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanatid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanatid",
         "id" : 2633065,
         "login" : "fanatid",
         "organizations_url" : "https://api.github.com/users/fanatid/orgs",
         "received_events_url" : "https://api.github.com/users/fanatid/received_events",
         "repos_url" : "https://api.github.com/users/fanatid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanatid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanatid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanatid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56478626"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56478626"
         }
      },
      "body" : "Presumably, yes: http://stackoverflow.com/a/35085/2084795",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-17T09:52:08Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56478626",
      "id" : 56478626,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 19,
      "path" : "src/base58.cpp",
      "position" : 19,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-17T09:52:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56478626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56560564"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56560564"
         }
      },
      "body" : "mhmm, I need to read this more deeply for an utACK, I think. I retire my utACK but maintain the concept ACK.",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-17T19:05:34Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {\n             carry += 256 * (*it);\n             *it = carry % 58;\n             carry /= 58;\n         }\n+\n         assert(carry == 0);\n+        length = i;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56560564",
      "id" : 56560564,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 26,
      "path" : "src/base58.cpp",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-17T19:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56560564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56562954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56562954"
         }
      },
      "body" : "This should depend on the compiler and target machine anyway, but it is my understanding that in x86 there are separated instructions with different performance (how big is the difference I have no idea). I also suspect that many compilers are smart enough to do this for you.\r\nSo if it may not do anything but if it may do something good, why not?\r\nOf course this is not to say we should do it everywhere. But in new code, why not? It may be useful for some platforms. The cons from stackoverflow seem very week, but I'm very curious if anybody else has some other more solid concerns or benchmarks showing this is not really something to think much about (or just data showing that, yes, compilers are currently smart for this too). This is a recurring discussion that I would like to stop thinking about one way or the other.\r\n",
      "commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "created_at" : "2016-03-17T19:22:17Z",
      "diff_hunk" : "@@ -68,26 +68,31 @@ std::string EncodeBase58(const unsigned char* pbegin, const unsigned char* pend)\n {\n     // Skip & count leading zeroes.\n     int zeroes = 0;\n+    int length = 0;\n     while (pbegin != pend && *pbegin == 0) {\n         pbegin++;\n         zeroes++;\n     }\n     // Allocate enough space in big-endian base58 representation.\n-    std::vector<unsigned char> b58((pend - pbegin) * 138 / 100 + 1); // log(256) / log(58), rounded up.\n+    int size = (pend - pbegin) * 138 / 100 + 1; // log(256) / log(58), rounded up.\n+    std::vector<unsigned char> b58(size);\n     // Process the bytes.\n     while (pbegin != pend) {\n         int carry = *pbegin;\n+        int i = 0;\n         // Apply \"b58 = b58 * 256 + ch\".\n-        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); it != b58.rend(); it++) {\n+        for (std::vector<unsigned char>::reverse_iterator it = b58.rbegin(); (carry != 0 || i < length) && (it != b58.rend()); it++, i++) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7656#discussion_r56562954",
      "id" : 56562954,
      "original_commit_id" : "3252208cb10be645bae415c90fb2ed8217838490",
      "original_position" : 19,
      "path" : "src/base58.cpp",
      "position" : 19,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7656",
      "updated_at" : "2016-03-17T19:22:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/56562954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
