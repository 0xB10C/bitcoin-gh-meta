[
   {
      "body" : "Will review later.",
      "created_at" : "2017-07-14T20:09:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315455544",
      "id" : 315455544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-14T20:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315455544",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "Code changes look good, concept ACK, but haven't read the other alternative PRs so can't say which implementation I prefer yet",
      "created_at" : "2017-07-14T20:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315456335",
      "id" : 315456335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-14T20:13:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315456335",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "body" : "```\r\n$ ./src/bitcoind -daemon -wallet=w1.dat -wallet=w2.dat\r\n```\r\n\r\nNamed arguments work as expected:\r\n```\r\n$ ./src/bitcoin-cli -named getbalance wallet=w1.dat\r\n0.00000000\r\n```\r\n\r\nThe PR description says that the default wallet is used with positional arguments, however:\r\n```\r\n$ ./src/bitcoin-cli getbalance\r\nerror code: -32601\r\nerror message:\r\nMethod not found (disabled)\r\n```\r\n",
      "created_at" : "2017-07-15T00:33:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315496601",
      "id" : 315496601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-15T00:33:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315496601",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127586188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127586188"
         }
      },
      "body" : "I think it might be nice to also add this string to each of the individual wallet helps?\r\nOr if there is some way to return it when it is the cause of the error?\r\n\r\nAt least for me I rarely use the overall help or I grep it for the type of thing I'm looking for since it is so much output.  And I worry that users will waste a lot of time not realizing what the problem is.",
      "commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "created_at" : "2017-07-15T15:11:41Z",
      "diff_hunk" : "@@ -213,6 +213,12 @@ std::string CRPCTable::help(const std::string& strCommand, const JSONRPCRequest&\n                     std::string firstLetter = category.substr(0,1);\n                     boost::to_upper(firstLetter);\n                     strRet += \"== \" + firstLetter + category.substr(1) + \" ==\\n\";\n+                    if (category == \"wallet\") {\n+                        strRet += \"\\nWhen more than one wallet is loaded (multiple -`wallet=filename` options passed\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127586188",
      "id" : 127586188,
      "original_commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "original_position" : 5,
      "path" : "src/rpc/server.cpp",
      "position" : 5,
      "pull_request_review_id" : 50191071,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829",
      "updated_at" : "2017-07-15T15:41:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127586188",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127586692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127586692"
         }
      },
      "body" : "Named arguments allow you to specify an argument more than once and then the last specified value controls.  \r\nI'm not sure if this is desirable behavior before this PR, but certainly after this PR it could lead to unexpected actions if for some reason multiple wallet arguments are specified.",
      "commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "created_at" : "2017-07-15T15:39:32Z",
      "diff_hunk" : "@@ -472,6 +478,11 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n             hole += 1;\n         }\n     }\n+    auto wallet = argsIn.find(\"wallet\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127586692",
      "id" : 127586692,
      "original_commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "original_position" : 17,
      "path" : "src/rpc/server.cpp",
      "position" : 17,
      "pull_request_review_id" : 50191071,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829",
      "updated_at" : "2017-07-15T15:41:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127586692",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Tested 21eeaa43d415d4397663eaee06d40decab0073f1 a bit. Named arguments work with multiwallet and single wallet, and positional arguments work with single wallet. I'm not sure if the observed behavior for multiwallet with positional arguments in intended.",
      "created_at" : "2017-07-15T18:19:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315552536",
      "id" : 315552536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-15T18:19:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315552536",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127641215"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127641215"
         }
      },
      "body" : "> Named arguments allow you to specify an argument more than once and then the last specified value controls.\r\n\r\nWe could make it an error to specify a key twice, that seems acceptable in the context of JSON parsing because the standard doesn't say anything about duplicate keys (so it can depend on the context). But let's not add that to the scope of this PR.\r\n\r\n(this would need to be enforced for any named argument, not just `wallet=`)\r\n",
      "commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "created_at" : "2017-07-17T06:55:37Z",
      "diff_hunk" : "@@ -472,6 +478,11 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n             hole += 1;\n         }\n     }\n+    auto wallet = argsIn.find(\"wallet\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#discussion_r127641215",
      "id" : 127641215,
      "original_commit_id" : "21eeaa43d415d4397663eaee06d40decab0073f1",
      "original_position" : 17,
      "path" : "src/rpc/server.cpp",
      "position" : 17,
      "pull_request_review_id" : 50245284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10829",
      "updated_at" : "2017-07-17T07:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127641215",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This is much simpler in implementation than #10650.\r\n\r\nBut for the record I've argued against named-argument based multiwallet before: https://github.com/bitcoin/bitcoin/pull/10653#issuecomment-310833084 . Forgetting to provide the named argument anywhere in the end-user code will cause the operation to happen on the default wallet. This can result in dangerous, or at least hard to debug, mistakes.\r\n\r\n(this concern could be avoided by having `wallet=` argument mandatory if multiple wallets are loaded)",
      "created_at" : "2017-07-17T07:03:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315680769",
      "id" : 315680769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-17T07:06:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315680769",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> this concern could be avoided by having wallet= argument mandatory if multiple wallets are loaded\r\n\r\nThis is actually what the PR does, the commit message was just out of date.\r\n\r\n> The PR description says that the default wallet is used with positional arguments, however [...]\r\n> I'm not sure if the observed behavior for multiwallet with positional arguments in intended.\r\n\r\nSorry the commit message was just out of date.\r\n\r\nAmended commit message (no code changes) 21eeaa43d415d4397663eaee06d40decab0073f1 -> 36ecc16ba7df491690a4723540ccaabbe217b1b6 ([pr/multiparam.2](https://github.com/ryanofsky/bitcoin/commits/pr/multiparam.2) -> [pr/multiparam.3](https://github.com/ryanofsky/bitcoin/commits/pr/multiparam.3))\r\n",
      "created_at" : "2017-07-17T09:47:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10829#issuecomment-315710973",
      "id" : 315710973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10829",
      "updated_at" : "2017-07-17T09:48:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315710973",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
