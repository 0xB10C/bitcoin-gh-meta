[
   {
      "body" : "I think such policy changes should first be discussed on the bitcoin-dev mailing list and eventually deserve a BIP.",
      "created_at" : "2017-07-14T18:31:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315433537",
      "id" : 315433537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-14T18:31:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315433537",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r127528160"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127528160"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe use `SignalsOptInRBF()`",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-07-14T19:06:30Z",
      "diff_hunk" : "@@ -499,15 +500,22 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n                 // first-seen mempool behavior should be checking all\n                 // unconfirmed ancestors anyway; doing otherwise is hopelessly\n                 // insecure.\n+                //\n+                // All transactions in mempool become replaceable after the timeout.\n                 bool fReplacementOptOut = true;\n                 if (fEnableReplacement)\n                 {\n-                    for (const CTxIn &_txin : ptxConflicting->vin)\n+                    const int64_t nConflictingTime = pool.info(ptxConflicting->GetHash()).nTime;\n+                    fReplacementOptOut = nAcceptTime - nConflictingTime < nReplacementTimeout;\n+                    if (fReplacementOptOut)\n                     {\n-                        if (_txin.nSequence < std::numeric_limits<unsigned int>::max()-1)\n+                        for (const CTxIn &_txin : ptxConflicting->vin)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r127528160",
      "id" : 127528160,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzUyODE2MA==",
      "original_commit_id" : "bea046166a61b6548ff6b3096a6d5ef9daa6ddb1",
      "original_position" : 23,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 50128217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127528160",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r127535455"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127535455"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I only moved the code but indeed that's a good idea (addressed in 38f4c85b47351d40700e088122317aa385c5ee65) - thanks!",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-07-14T19:50:08Z",
      "diff_hunk" : "@@ -499,15 +500,22 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n                 // first-seen mempool behavior should be checking all\n                 // unconfirmed ancestors anyway; doing otherwise is hopelessly\n                 // insecure.\n+                //\n+                // All transactions in mempool become replaceable after the timeout.\n                 bool fReplacementOptOut = true;\n                 if (fEnableReplacement)\n                 {\n-                    for (const CTxIn &_txin : ptxConflicting->vin)\n+                    const int64_t nConflictingTime = pool.info(ptxConflicting->GetHash()).nTime;\n+                    fReplacementOptOut = nAcceptTime - nConflictingTime < nReplacementTimeout;\n+                    if (fReplacementOptOut)\n                     {\n-                        if (_txin.nSequence < std::numeric_limits<unsigned int>::max()-1)\n+                        for (const CTxIn &_txin : ptxConflicting->vin)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r127535455",
      "id" : 127535455,
      "in_reply_to_id" : 127528160,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNzUzNTQ1NQ==",
      "original_commit_id" : "bea046166a61b6548ff6b3096a6d5ef9daa6ddb1",
      "original_position" : 23,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 50136973,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/127535455",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "Yea, agreed that this should get a BIP (sadly probably means endlessly trolled), but does seem awesome to me. Does this need a new option? We dont currently have an option for opt-in-rbf, why not just leave this as hardcoded policy?",
      "created_at" : "2017-07-14T19:53:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315452140",
      "id" : 315452140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-14T19:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315452140",
      "user" : {
         "avatar_url" : "https://avatars4.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt replacement can be disabled (as a node policy afaik rather than wallet) and the new option i added  allows for easier testing and for people to run values that they like different from the default (either to be same as previous behavior or to get the other end without running some fork/patched core).\r\n\r\n@TheBlueMatt @jonasschnelli  I am happy to do a BIP and discuss in the dev mailing list as needed.  I thought the changes may be borderline like the change from 72h to 2 weeks for mempool expiry but happy (minus potential trolling) to learn otherwise and or try to reduce the impact of the changes if this is an option.\r\n",
      "created_at" : "2017-07-14T20:05:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315454683",
      "id" : 315454683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-14T20:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315454683",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "I disagree that this needs a BIP.\r\n\r\nOpt-in RBF added a new way to interpret a transaction, which just barely qualified as something you might want to do a BIP for.\r\n\r\nThis however makes an existing behavior - transactions being replaceable in spite of them not signalling opt-in RBF - happen a little sooner in some circumstances, just like adding expiration did in the first place. We didn't create a BIP for expiry, so why does this need a BIP?\r\n\r\nSecondly, writing a BIP for such a trivial change gives the misleading impression that you could rely on the opposite behavior. We've had continual problems with people misunderstanding the security properties of zeroconf; there's no reason to add to that problem.",
      "created_at" : "2017-07-14T23:06:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315488050",
      "id" : 315488050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-14T23:06:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315488050",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Indeed, mere policies are not BIP material...",
      "created_at" : "2017-07-15T00:31:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315496443",
      "id" : 315496443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-15T00:31:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315496443",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "People might want to know about it... and a BIP might be a good way to communicate it...  but we certainly didn't write a BIP about the expiration time changes over time, and this is strictly a narrower change.\r\n\r\nDunno how ideal 6 hours is though.",
      "created_at" : "2017-07-15T01:27:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315500284",
      "id" : 315500284,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-15T01:27:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315500284",
      "user" : {
         "avatar_url" : "https://avatars5.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I'd suggest to put the timeout at 72h - at least when introducing the functionality. This way the behviour is similar to pre 0.14.x code. It's less likely to create havoc / confusion for operators who are still used to regularly see 0-conf transactions being re-spent after that time-frame (but not earlier).",
      "created_at" : "2017-07-16T04:18:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315584435",
      "id" : 315584435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-16T04:18:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315584435",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/2886147?v=4",
         "events_url" : "https://api.github.com/users/EagleTM/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EagleTM/followers",
         "following_url" : "https://api.github.com/users/EagleTM/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EagleTM/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EagleTM",
         "id" : 2886147,
         "login" : "EagleTM",
         "organizations_url" : "https://api.github.com/users/EagleTM/orgs",
         "received_events_url" : "https://api.github.com/users/EagleTM/received_events",
         "repos_url" : "https://api.github.com/users/EagleTM/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EagleTM/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EagleTM/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EagleTM"
      }
   },
   {
      "body" : "@gmaxwell I suggested six hours because it's more than long enough (36 blocks) that if you wanted that tx mined relatively quickly, you're probably getting annoyed that it isn't.\r\n\r\n@EagleTM Try actually doublespending some time - it's a lot easier than you think it is.",
      "created_at" : "2017-07-16T05:20:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-315586610",
      "id" : 315586610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-16T05:20:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315586610",
      "user" : {
         "avatar_url" : "https://avatars6.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I think 6hrs is very short, I've seen many TXs confirmed after 24hrs+, there's plenty of people who, during bigger mempool periods, even try to aim for that...\r\n\r\nthough it might feel a bit insignificant for a BIP, this PR impacts a lot of assumptions people have about 0conf txs, it would get more significant exposure and discussion if proposed as a BIP. ",
      "created_at" : "2017-07-31T21:05:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-319196177",
      "id" : 319196177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-07-31T21:05:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319196177",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/649160?v=4",
         "events_url" : "https://api.github.com/users/rubensayshi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rubensayshi/followers",
         "following_url" : "https://api.github.com/users/rubensayshi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rubensayshi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rubensayshi",
         "id" : 649160,
         "login" : "rubensayshi",
         "organizations_url" : "https://api.github.com/users/rubensayshi/orgs",
         "received_events_url" : "https://api.github.com/users/rubensayshi/received_events",
         "repos_url" : "https://api.github.com/users/rubensayshi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rubensayshi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rubensayshi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rubensayshi"
      }
   },
   {
      "body" : "@rubensayshi You seem to be arguing that the time interval should be longer for security reasons. For that argument to be valid, you'd have to substantiate the claim that a transaction with a fee so low that it fails to confirm after 36 blocks - 10 blocks more than the fee estimator even supports - is still difficult to double spend.",
      "created_at" : "2017-08-01T04:26:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-319264207",
      "id" : 319264207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-08-01T04:26:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319264207",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@rubensayshi this doesn't stop those transactions from being confirmed if that's what the user wanted anyway it just allows people to replace transactions after a 6 hours long period - replacing them is already very easy to do ad-hoc even without the replacement flag but that full replacement it is currently painful to do for wallet developers without having to use different peering policies/full nodes with full replacement enabled.\r\n\r\nI'd argue for full replacement at all times given the farce that it is doing replacement even without flags but if people want to at least try to keep the illusion of zero conf then I think 6 hours gives plenty of time for people that use zero conf to keep using it at the same ~ [in]security as today inclusive of illusion while giving users the opportunity to not have txs stuck for 2 weeks and solve stuck transactions problems within a business day.",
      "created_at" : "2017-08-01T22:05:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-319510720",
      "id" : 319510720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-08-01T22:05:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319510720",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "conflicts; should I rebase and squash while at it?",
      "created_at" : "2017-08-01T22:06:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-319510929",
      "id" : 319510929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-08-01T22:07:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/319510929",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "body" : "@greenaddress +1",
      "created_at" : "2017-08-03T15:35:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-320005975",
      "id" : 320005975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-08-03T15:35:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/320005975",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr not sure i understand your first point\r\n\r\nI rebased as there was a conflict (new gArgs) and made sure feebumper.cpp handles the timeout too and added a test.",
      "created_at" : "2017-09-04T23:31:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-327039039",
      "id" : 327039039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-09-04T23:31:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/327039039",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136877687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136877687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove empty comment (not found in master).",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-09-05T00:07:02Z",
      "diff_hunk" : "@@ -503,17 +504,14 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n                 // first-seen mempool behavior should be checking all\n                 // unconfirmed ancestors anyway; doing otherwise is hopelessly\n                 // insecure.\n+                //",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136877687",
      "id" : 136877687,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjg3NzY4Nw==",
      "original_commit_id" : "2cf7f43134cd1a499c856c1929522b34b49a29ab",
      "original_position" : 12,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 60475734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136877687",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878332"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Factor out duplicate implementation to a new function?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-09-05T00:22:46Z",
      "diff_hunk" : "@@ -89,7 +89,8 @@ CFeeBumper::CFeeBumper(const CWallet *pWallet, const uint256 txidIn, const CCoin\n         return;\n     }\n \n-    if (!SignalsOptInRBF(wtx)) {\n+    const int64_t nReplacementTimeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878332",
      "id" : 136878332,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjg3ODMzMg==",
      "original_commit_id" : "2cf7f43134cd1a499c856c1929522b34b49a29ab",
      "original_position" : 5,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 60475734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878332",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878449"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878449"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Use `setmocktime` instead?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-09-05T00:25:02Z",
      "diff_hunk" : "@@ -136,6 +138,19 @@ def test_nonrbf_bumpfee_fails(peer_node, dest_address):\n     assert_raises_jsonrpc(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n \n \n+def test_nonrbf_bumpfee_fails_then_succeeds(test, peer_node, dest_address):\n+    test.stop_nodes()\n+    test.start_node(0, extra_args=[\"-prematurewitness\", \"-walletprematurewitness\", \"-mempoolreplacementtimeout=1\"])\n+    not_rbfid = peer_node.sendtoaddress(dest_address, Decimal(\"0.00090000\"))\n+    assert_raises_jsonrpc(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n+    time.sleep(1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878449",
      "id" : 136878449,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjg3ODQ0OQ==",
      "original_commit_id" : "2cf7f43134cd1a499c856c1929522b34b49a29ab",
      "original_position" : 25,
      "path" : "test/functional/bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 60475734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878449",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878471"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878471"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Update to new style.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-09-05T00:25:39Z",
      "diff_hunk" : "@@ -481,6 +481,7 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n \n     // Check for conflicts with in-memory transactions\n     std::set<uint256> setConflicts;\n+    const int64_t nReplacementTimeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r136878471",
      "id" : 136878471,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNjg3ODQ3MQ==",
      "original_commit_id" : "2cf7f43134cd1a499c856c1929522b34b49a29ab",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 60475734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/136878471",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2017-11-10T19:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-343568021",
      "id" : 343568021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-11-10T19:44:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343568021",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke rebased\r\n\r\n@promag moved to setmocktime, factored out the function, removed the white space and updated to new style - thanks!\r\n\r\nMore feedback welcome. I think it would be good to have more tests (ideas?) and I tried to be the least intrusive here but perhaps people have some refactoring suggestions.\r\n\r\nedit: there's a bit more work needed as something broke with the rebase around list transactions/mempool sync",
      "created_at" : "2017-12-09T12:13:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-350456809",
      "id" : 350456809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-12-09T12:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350456809",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 927666539bd61da5038b752ee60d106b9577ca42",
      "created_at" : "2017-12-09T19:58:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-350501619",
      "id" : 350501619,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-12-09T19:58:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350501619",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936037"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why stop `node[1]`?\r\n\r\nIf not, remove`stop_nodes` above and here can be:\r\n```py\r\ntest.restart_node(0, [\"-prematurewitness\", \"-walletprematurewitness\", \"-mempoolreplacementtimeout=30\"])\r\n```\r\nUse `restart_node` below.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-10T01:13:44Z",
      "diff_hunk" : "@@ -136,6 +138,21 @@ def test_nonrbf_bumpfee_fails(peer_node, dest_address):\n     assert_raises_rpc_error(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n \n \n+def test_nonrbf_bumpfee_fails_then_succeeds(test, dest_address):\n+    test.stop_nodes()\n+    test.start_node(0, extra_args=[\"-prematurewitness\", \"-walletprematurewitness\", \"-mempoolreplacementtimeout=30\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936037",
      "id" : 155936037,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTkzNjAzNw==",
      "original_commit_id" : "927666539bd61da5038b752ee60d106b9577ca42",
      "original_position" : 22,
      "path" : "test/functional/bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 82339255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936037",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936115"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Avoid 2nd call to `getrawmempool`.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-10T01:22:05Z",
      "diff_hunk" : "@@ -136,6 +138,21 @@ def test_nonrbf_bumpfee_fails(peer_node, dest_address):\n     assert_raises_rpc_error(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n \n \n+def test_nonrbf_bumpfee_fails_then_succeeds(test, dest_address):\n+    test.stop_nodes()\n+    test.start_node(0, extra_args=[\"-prematurewitness\", \"-walletprematurewitness\", \"-mempoolreplacementtimeout=30\"])\n+    not_rbfid = test.nodes[0].sendtoaddress(dest_address, Decimal(\"0.00090000\"))\n+    assert_raises_rpc_error(-4, \"not BIP 125 replaceable\", test.nodes[0].bumpfee, not_rbfid)\n+    test.nodes[0].setmocktime(int(time.time()) + 30)\n+    bumped_tx = test.nodes[0].bumpfee(not_rbfid)\n+    assert bumped_tx[\"txid\"] in test.nodes[0].getrawmempool()\n+    assert not_rbfid not in test.nodes[0].getrawmempool()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936115",
      "id" : 155936115,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTkzNjExNQ==",
      "original_commit_id" : "927666539bd61da5038b752ee60d106b9577ca42",
      "original_position" : 28,
      "path" : "test/functional/bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 82339255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936115",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936178"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936178"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IMO there should be better parameter validation. Validate (must be number and positive integer) and add tests? See https://github.com/bitcoin/bitcoin/blob/59d3dc85b698430f71f6e242a01a25a70c9ef397/test/functional/feature_logging.py#L33-L34",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-10T01:26:45Z",
      "diff_hunk" : "@@ -475,6 +475,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-datacarrier\", strprintf(_(\"Relay and mine data carrier transactions (default: %u)\"), DEFAULT_ACCEPT_DATACARRIER));\n     strUsage += HelpMessageOpt(\"-datacarriersize\", strprintf(_(\"Maximum size of data in data carrier transactions we relay and mine (default: %u)\"), MAX_OP_RETURN_RELAY));\n     strUsage += HelpMessageOpt(\"-mempoolreplacement\", strprintf(_(\"Enable transaction replacement in the memory pool (default: %u)\"), DEFAULT_ENABLE_REPLACEMENT));\n+    strUsage += HelpMessageOpt(\"-mempoolreplacementtimeout=<n>\", strprintf(_(\"Number of seconds after which transactions in mempool can be replaced (default: %u)\"), DEFAULT_REPLACEMENT_TIMEOUT));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936178",
      "id" : 155936178,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTkzNjE3OA==",
      "original_commit_id" : "927666539bd61da5038b752ee60d106b9577ca42",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 82339255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936178",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like this should be `BumpFeeTest` member (test = self)?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-10T01:32:26Z",
      "diff_hunk" : "@@ -136,6 +138,21 @@ def test_nonrbf_bumpfee_fails(peer_node, dest_address):\n     assert_raises_rpc_error(-4, \"not BIP 125 replaceable\", peer_node.bumpfee, not_rbfid)\n \n \n+def test_nonrbf_bumpfee_fails_then_succeeds(test, dest_address):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936238",
      "id" : 155936238,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTkzNjIzOA==",
      "original_commit_id" : "927666539bd61da5038b752ee60d106b9577ca42",
      "original_position" : 20,
      "path" : "test/functional/bumpfee.py",
      "position" : null,
      "pull_request_review_id" : 82339255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936238",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936255"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936255"
         }
      },
      "author_association" : "MEMBER",
      "body" : "int64_t?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-10T01:34:59Z",
      "diff_hunk" : "@@ -135,6 +135,8 @@ static const unsigned int DEFAULT_BANSCORE_THRESHOLD = 100;\n static const bool DEFAULT_PERSIST_MEMPOOL = true;\n /** Default for -mempoolreplacement */\n static const bool DEFAULT_ENABLE_REPLACEMENT = true;\n+/** Default for -mempoolreplacementtimeout in seconds after which transactions in mempool are replaceable (i.e. 6 hours) */\n+static const unsigned int DEFAULT_REPLACEMENT_TIMEOUT = 6 * 60 * 60;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r155936255",
      "id" : 155936255,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NTkzNjI1NQ==",
      "original_commit_id" : "927666539bd61da5038b752ee60d106b9577ca42",
      "original_position" : 5,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 82339255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155936255",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This test is failing https://github.com/bitcoin/bitcoin/blob/59d3dc85b698430f71f6e242a01a25a70c9ef397/test/functional/listtransactions.py#L180",
      "created_at" : "2017-12-10T01:41:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-350518849",
      "id" : 350518849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-12-10T01:41:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350518849",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag added a test for parameter validation. I also think the value should be below or equal to mempool expiry/eviction (two weeks) but very open to suggestions and thanks for catching the other issues",
      "created_at" : "2017-12-13T12:48:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-351381583",
      "id" : 351381583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "updated_at" : "2017-12-13T12:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351381583",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156701106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156701106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Comment needs update.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T16:00:33Z",
      "diff_hunk" : "@@ -19,10 +19,13 @@ enum RBFTransactionState {\n // opt-in to replace-by-fee, according to BIP 125\n bool SignalsOptInRBF(const CTransaction &tx);\n \n+// Check whether the replacement policy has expired\n+bool ExpiredOptInRBFPolicy(const int64_t now, const int64_t accepted, const int64_t timeout);\n+\n // Determine whether an in-mempool transaction is signaling opt-in to RBF\n // according to BIP 125",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156701106",
      "id" : 156701106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcwMTEwNg==",
      "original_commit_id" : "4fc450a4a118922a812cb047968a4be4ab347831",
      "original_position" : 8,
      "path" : "src/policy/rbf.h",
      "position" : null,
      "pull_request_review_id" : 83221394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156701106",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156702059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156702059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure if you might also want to check if it is accidentally(?) set above 6hours and print a warning?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T16:03:39Z",
      "diff_hunk" : "@@ -1104,6 +1105,11 @@ bool AppInitParameterInteraction()\n         boost::split(vstrReplacementModes, strReplacementModeList, boost::is_any_of(\",\"));\n         fEnableReplacement = (std::find(vstrReplacementModes.begin(), vstrReplacementModes.end(), \"fee\") != vstrReplacementModes.end());\n     }\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    const int64_t expiry = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    if (replacement_timeout < 0 || replacement_timeout > expiry) {\n+            return InitError(\"mempoolreplacementtimeout has to be a non negative number below or equal to mempoolexpiry (in seconds)\");\n+    }\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156702059",
      "id" : 156702059,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcwMjA1OQ==",
      "original_commit_id" : "4fc450a4a118922a812cb047968a4be4ab347831",
      "original_position" : 17,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 83221394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156702059",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156712186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156712186"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's a good question. Would there be a good reason to set it above 6 hours if 6 hours is the default, especially long term?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T16:35:29Z",
      "diff_hunk" : "@@ -1104,6 +1105,11 @@ bool AppInitParameterInteraction()\n         boost::split(vstrReplacementModes, strReplacementModeList, boost::is_any_of(\",\"));\n         fEnableReplacement = (std::find(vstrReplacementModes.begin(), vstrReplacementModes.end(), \"fee\") != vstrReplacementModes.end());\n     }\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    const int64_t expiry = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    if (replacement_timeout < 0 || replacement_timeout > expiry) {\n+            return InitError(\"mempoolreplacementtimeout has to be a non negative number below or equal to mempoolexpiry (in seconds)\");\n+    }\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156712186",
      "id" : 156712186,
      "in_reply_to_id" : 156702059,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjcxMjE4Ng==",
      "original_commit_id" : "4fc450a4a118922a812cb047968a4be4ab347831",
      "original_position" : 17,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 83234737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156712186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156736968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156736968"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably not, since you'd be potentially censoring yourself from valid and about-to-be-mined txes.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T18:04:35Z",
      "diff_hunk" : "@@ -1104,6 +1105,11 @@ bool AppInitParameterInteraction()\n         boost::split(vstrReplacementModes, strReplacementModeList, boost::is_any_of(\",\"));\n         fEnableReplacement = (std::find(vstrReplacementModes.begin(), vstrReplacementModes.end(), \"fee\") != vstrReplacementModes.end());\n     }\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    const int64_t expiry = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    if (replacement_timeout < 0 || replacement_timeout > expiry) {\n+            return InitError(\"mempoolreplacementtimeout has to be a non negative number below or equal to mempoolexpiry (in seconds)\");\n+    }\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156736968",
      "id" : 156736968,
      "in_reply_to_id" : 156702059,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjczNjk2OA==",
      "original_commit_id" : "4fc450a4a118922a812cb047968a4be4ab347831",
      "original_position" : 17,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 83264137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156736968",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156738960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156738960"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe it can be useful in testing or to have old behavior, hence adding a log warning entry seems to me a good idea but i'll maybe wait for others to agree as we don't want to spam the logs either",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T18:12:54Z",
      "diff_hunk" : "@@ -1104,6 +1105,11 @@ bool AppInitParameterInteraction()\n         boost::split(vstrReplacementModes, strReplacementModeList, boost::is_any_of(\",\"));\n         fEnableReplacement = (std::find(vstrReplacementModes.begin(), vstrReplacementModes.end(), \"fee\") != vstrReplacementModes.end());\n     }\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    const int64_t expiry = gArgs.GetArg(\"-mempoolexpiry\", DEFAULT_MEMPOOL_EXPIRY) * 60 * 60;\n+    if (replacement_timeout < 0 || replacement_timeout > expiry) {\n+            return InitError(\"mempoolreplacementtimeout has to be a non negative number below or equal to mempoolexpiry (in seconds)\");\n+    }\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156738960",
      "id" : 156738960,
      "in_reply_to_id" : 156702059,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NjczODk2MA==",
      "original_commit_id" : "4fc450a4a118922a812cb047968a4be4ab347831",
      "original_position" : 17,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 83266564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156738960",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156753076"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156753076"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Dunno that we want to support replacing a transaction in wallet based on this. If nothing else it needs a buffer in excess of the replacement timeout to ensure propagation works well, and probably shouldn't let the user override the replacement timeout in wallet. May also be good to wait some time for network upgrade, ie amybe this should be a separate PR in a separate release.",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T19:09:04Z",
      "diff_hunk" : "@@ -70,11 +70,17 @@ static feebumper::Result PreconditionChecks(const CWallet* wallet, const CWallet\n \n namespace feebumper {\n \n+bool TransactionCanBeReplaced(const CWalletTx& wtx)\n+{\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    return ExpiredOptInRBFPolicy(GetTime(), wtx.nTimeReceived, replacement_timeout) || SignalsOptInRBF(*wtx.tx);\n+}\n+\n bool TransactionCanBeBumped(CWallet* wallet, const uint256& txid)\n {\n     LOCK2(cs_main, wallet->cs_wallet);\n     const CWalletTx* wtx = wallet->GetWalletTx(txid);\n-    return wtx && SignalsOptInRBF(*wtx->tx) && !wtx->mapValue.count(\"replaced_by_txid\");\n+    return wtx && TransactionCanBeReplaced(*wtx) && !wtx->mapValue.count(\"replaced_by_txid\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156753076",
      "id" : 156753076,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc1MzA3Ng==",
      "original_commit_id" : "6ff7196e5c5c15af161293563f0a02410bdc3764",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 83283391,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156753076",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156757995"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156757995"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fair enough, I'll move the wallet part to a new PR. What sort of buffer you had in mind?  a percentage of the replacement timeout, say 10%? or perhaps better to have fixed buffer of a few minutes?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T19:27:43Z",
      "diff_hunk" : "@@ -70,11 +70,17 @@ static feebumper::Result PreconditionChecks(const CWallet* wallet, const CWallet\n \n namespace feebumper {\n \n+bool TransactionCanBeReplaced(const CWalletTx& wtx)\n+{\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    return ExpiredOptInRBFPolicy(GetTime(), wtx.nTimeReceived, replacement_timeout) || SignalsOptInRBF(*wtx.tx);\n+}\n+\n bool TransactionCanBeBumped(CWallet* wallet, const uint256& txid)\n {\n     LOCK2(cs_main, wallet->cs_wallet);\n     const CWalletTx* wtx = wallet->GetWalletTx(txid);\n-    return wtx && SignalsOptInRBF(*wtx->tx) && !wtx->mapValue.count(\"replaced_by_txid\");\n+    return wtx && TransactionCanBeReplaced(*wtx) && !wtx->mapValue.count(\"replaced_by_txid\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156757995",
      "id" : 156757995,
      "in_reply_to_id" : 156753076,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc1Nzk5NQ==",
      "original_commit_id" : "6ff7196e5c5c15af161293563f0a02410bdc3764",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 83289240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156757995",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156760920"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156760920"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just need something to capture the time for the original transaction to propagate. A few minutes is probably fine, but no reason not to be conservative...say, 20 minutes?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T19:38:20Z",
      "diff_hunk" : "@@ -70,11 +70,17 @@ static feebumper::Result PreconditionChecks(const CWallet* wallet, const CWallet\n \n namespace feebumper {\n \n+bool TransactionCanBeReplaced(const CWalletTx& wtx)\n+{\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    return ExpiredOptInRBFPolicy(GetTime(), wtx.nTimeReceived, replacement_timeout) || SignalsOptInRBF(*wtx.tx);\n+}\n+\n bool TransactionCanBeBumped(CWallet* wallet, const uint256& txid)\n {\n     LOCK2(cs_main, wallet->cs_wallet);\n     const CWalletTx* wtx = wallet->GetWalletTx(txid);\n-    return wtx && SignalsOptInRBF(*wtx->tx) && !wtx->mapValue.count(\"replaced_by_txid\");\n+    return wtx && TransactionCanBeReplaced(*wtx) && !wtx->mapValue.count(\"replaced_by_txid\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156760920",
      "id" : 156760920,
      "in_reply_to_id" : 156753076,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc2MDkyMA==",
      "original_commit_id" : "6ff7196e5c5c15af161293563f0a02410bdc3764",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 83292581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156760920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156764330"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156764330"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Seems reasonable to me",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2017-12-13T19:50:42Z",
      "diff_hunk" : "@@ -70,11 +70,17 @@ static feebumper::Result PreconditionChecks(const CWallet* wallet, const CWallet\n \n namespace feebumper {\n \n+bool TransactionCanBeReplaced(const CWalletTx& wtx)\n+{\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    return ExpiredOptInRBFPolicy(GetTime(), wtx.nTimeReceived, replacement_timeout) || SignalsOptInRBF(*wtx.tx);\n+}\n+\n bool TransactionCanBeBumped(CWallet* wallet, const uint256& txid)\n {\n     LOCK2(cs_main, wallet->cs_wallet);\n     const CWalletTx* wtx = wallet->GetWalletTx(txid);\n-    return wtx && SignalsOptInRBF(*wtx->tx) && !wtx->mapValue.count(\"replaced_by_txid\");\n+    return wtx && TransactionCanBeReplaced(*wtx) && !wtx->mapValue.count(\"replaced_by_txid\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r156764330",
      "id" : 156764330,
      "in_reply_to_id" : 156753076,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1Njc2NDMzMA==",
      "original_commit_id" : "6ff7196e5c5c15af161293563f0a02410bdc3764",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 83296465,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/156764330",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt I rebased and added the 20 minutes buffer. I also made the wallet part and rpc part off by default such that it can be turned on once the network upgrades in a second release (and perhaps remove entirely the config option as I configured it as debug_only, won't show up w/ -help)\r\n\r\nThis means that unless a user sets -enablewalletreplacementtimeout=1 (0 by default) they won't see transaction rbfable via rpc/gui wallet. I left this in because is more useful for testing and because allows #reckless to try the feature in advance of a release even if the network is only partially upgraded.",
      "created_at" : "2018-07-21T22:41:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-406827982",
      "id" : 406827982,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjgyNzk4Mg==",
      "updated_at" : "2018-07-21T22:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406827982",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204223462"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204223462"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is now all addressed",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-07-21T22:42:40Z",
      "diff_hunk" : "@@ -70,11 +70,17 @@ static feebumper::Result PreconditionChecks(const CWallet* wallet, const CWallet\n \n namespace feebumper {\n \n+bool TransactionCanBeReplaced(const CWalletTx& wtx)\n+{\n+    const int64_t replacement_timeout = gArgs.GetArg(\"-mempoolreplacementtimeout\", DEFAULT_REPLACEMENT_TIMEOUT);\n+    return ExpiredOptInRBFPolicy(GetTime(), wtx.nTimeReceived, replacement_timeout) || SignalsOptInRBF(*wtx.tx);\n+}\n+\n bool TransactionCanBeBumped(CWallet* wallet, const uint256& txid)\n {\n     LOCK2(cs_main, wallet->cs_wallet);\n     const CWalletTx* wtx = wallet->GetWalletTx(txid);\n-    return wtx && SignalsOptInRBF(*wtx->tx) && !wtx->mapValue.count(\"replaced_by_txid\");\n+    return wtx && TransactionCanBeReplaced(*wtx) && !wtx->mapValue.count(\"replaced_by_txid\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204223462",
      "id" : 204223462,
      "in_reply_to_id" : 156753076,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDIyMzQ2Mg==",
      "original_commit_id" : "6ff7196e5c5c15af161293563f0a02410bdc3764",
      "original_position" : 15,
      "path" : "src/wallet/feebumper.cpp",
      "position" : null,
      "pull_request_review_id" : 139270858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-21T22:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204223462",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag if you have time I'd be keen on your feedback/re-review",
      "created_at" : "2018-07-21T22:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-406828223",
      "id" : 406828223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjgyODIyMw==",
      "updated_at" : "2018-07-21T22:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406828223",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204263936"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204263936"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "20 minutes seems a bit long to me.\r\n\r\nHow long do transactions take to propagate to miners these days? Surely more like a minute or two? In the replacement case it's ok if not every last miner actually gets the replacement; having the occasional one missing isn't a big deal.\r\n\r\nHow about five minutes?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-07-23T01:18:05Z",
      "diff_hunk" : "@@ -122,6 +122,12 @@ static const unsigned int DEFAULT_BANSCORE_THRESHOLD = 100;\n static const bool DEFAULT_PERSIST_MEMPOOL = true;\n /** Default for -mempoolreplacement */\n static const bool DEFAULT_ENABLE_REPLACEMENT = true;\n+/** Default for -mempoolreplacementtimeout in seconds after which transactions in mempool are replaceable (i.e. 6 hours) */\n+static const int64_t DEFAULT_REPLACEMENT_TIMEOUT = 6 * 60 * 60;\n+/** Default for buffer in seconds on top of the timeout after which transactions in mempool are replaceable (i.e. 6 hours) in the GUI */\n+static const int64_t REPLACEMENT_TIMEOUT_BUFFER = 20 * 60;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204263936",
      "id" : 204263936,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDI2MzkzNg==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 7,
      "path" : "src/validation.h",
      "position" : 7,
      "pull_request_review_id" : 139311009,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-23T01:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204263936",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204316325"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204316325"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think 5 minutes would be fine. @TheBlueMatt ?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-07-23T08:18:59Z",
      "diff_hunk" : "@@ -122,6 +122,12 @@ static const unsigned int DEFAULT_BANSCORE_THRESHOLD = 100;\n static const bool DEFAULT_PERSIST_MEMPOOL = true;\n /** Default for -mempoolreplacement */\n static const bool DEFAULT_ENABLE_REPLACEMENT = true;\n+/** Default for -mempoolreplacementtimeout in seconds after which transactions in mempool are replaceable (i.e. 6 hours) */\n+static const int64_t DEFAULT_REPLACEMENT_TIMEOUT = 6 * 60 * 60;\n+/** Default for buffer in seconds on top of the timeout after which transactions in mempool are replaceable (i.e. 6 hours) in the GUI */\n+static const int64_t REPLACEMENT_TIMEOUT_BUFFER = 20 * 60;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r204316325",
      "id" : 204316325,
      "in_reply_to_id" : 204263936,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDMxNjMyNQ==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 7,
      "path" : "src/validation.h",
      "position" : 7,
      "pull_request_review_id" : 139372348,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-07-23T08:18:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204316325",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5269298?v=4",
         "events_url" : "https://api.github.com/users/greenaddress/events{/privacy}",
         "followers_url" : "https://api.github.com/users/greenaddress/followers",
         "following_url" : "https://api.github.com/users/greenaddress/following{/other_user}",
         "gists_url" : "https://api.github.com/users/greenaddress/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/greenaddress",
         "id" : 5269298,
         "login" : "greenaddress",
         "node_id" : "MDQ6VXNlcjUyNjkyOTg=",
         "organizations_url" : "https://api.github.com/users/greenaddress/orgs",
         "received_events_url" : "https://api.github.com/users/greenaddress/received_events",
         "repos_url" : "https://api.github.com/users/greenaddress/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/greenaddress/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/greenaddress/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/greenaddress"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR doesn't compile when rebased on `master` :-)",
      "created_at" : "2018-09-15T07:56:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-421539460",
      "id" : 421539460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMTUzOTQ2MA==",
      "updated_at" : "2018-09-15T07:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/421539460",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r217878960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217878960"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be `const` reference instead?",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-09-15T07:57:24Z",
      "diff_hunk" : "@@ -33,13 +39,14 @@ RBFTransactionState IsRBFOptIn(const CTransaction &tx, CTxMemPool &pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n+    const uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n     std::string dummy;\n-    CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n+    const CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n     pool.CalculateMemPoolAncestors(entry, setAncestors, noLimit, noLimit, noLimit, noLimit, dummy, false);\n \n-    for (CTxMemPool::txiter it : setAncestors) {\n-        if (SignalsOptInRBF(it->GetTx())) {\n+    for (const CTxMemPool::txiter it : setAncestors) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r217878960",
      "id" : 217878960,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzg3ODk2MA==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 36,
      "path" : "src/policy/rbf.cpp",
      "position" : 36,
      "pull_request_review_id" : 155707060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-09-15T07:57:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217878960",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r217885077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217885077"
         }
      },
      "author_association" : "MEMBER",
      "body" : "txiter is already const_txiter, no need to change anything here",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-09-15T13:31:09Z",
      "diff_hunk" : "@@ -33,13 +39,14 @@ RBFTransactionState IsRBFOptIn(const CTransaction &tx, CTxMemPool &pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n+    const uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n     std::string dummy;\n-    CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n+    const CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n     pool.CalculateMemPoolAncestors(entry, setAncestors, noLimit, noLimit, noLimit, noLimit, dummy, false);\n \n-    for (CTxMemPool::txiter it : setAncestors) {\n-        if (SignalsOptInRBF(it->GetTx())) {\n+    for (const CTxMemPool::txiter it : setAncestors) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r217885077",
      "id" : 217885077,
      "in_reply_to_id" : 217878960,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzg4NTA3Nw==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 36,
      "path" : "src/policy/rbf.cpp",
      "position" : 36,
      "pull_request_review_id" : 155713772,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-09-15T13:31:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217885077",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r219420896"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219420896"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\n2018-09-20 04:25:54 clang-tidy(pr=10823): policy/rbf.cpp:47:35: warning: loop variable 'it' of type 'const CTxMemPool::txiter' (aka 'const hashed_index_iterator<hashed_index_node<ordered_index_node<boost::multi_index::detail::null_augment_policy, ordered_index_node<boost::multi_index::detail::null_augment_policy, ordered_index_node<boost::multi_index::detail::null_augment_policy, index_node_base<CTxMemPoolEntry, std::allocator<CTxMemPoolEntry> > > > >, boost::multi_index::detail::hashed_unique_tag>, bucket_array<allocator<CTxMemPoolEntry> >, boost::multi_index::detail::hashed_index_global_iterator_tag>') creates a copy from type 'const CTxMemPool::txiter' [-Wrange-loop-analysis]\r\n2018-09-20 04:25:54 clang-tidy(pr=10823): policy/rbf.cpp:47:10: note: use reference type 'const CTxMemPool::txiter &' (aka 'const hashed_index_iterator<hashed_index_node<ordered_index_node<boost::multi_index::detail::null_augment_policy, ordered_index_node<boost::multi_index::detail::null_augment_policy, ordered_index_node<boost::multi_index::detail::null_augment_policy, index_node_base<CTxMemPoolEntry, std::allocator<CTxMemPoolEntry> > > > >, boost::multi_index::detail::hashed_unique_tag>, bucket_array<allocator<CTxMemPoolEntry> >, boost::multi_index::detail::hashed_index_global_iterator_tag> &') to prevent copying\r\n```",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-09-21T08:31:50Z",
      "diff_hunk" : "@@ -33,13 +39,14 @@ RBFTransactionState IsRBFOptIn(const CTransaction &tx, CTxMemPool &pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n+    const uint64_t noLimit = std::numeric_limits<uint64_t>::max();\n     std::string dummy;\n-    CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n+    const CTxMemPoolEntry entry = *pool.mapTx.find(tx.GetHash());\n     pool.CalculateMemPoolAncestors(entry, setAncestors, noLimit, noLimit, noLimit, noLimit, dummy, false);\n \n-    for (CTxMemPool::txiter it : setAncestors) {\n-        if (SignalsOptInRBF(it->GetTx())) {\n+    for (const CTxMemPool::txiter it : setAncestors) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r219420896",
      "id" : 219420896,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTQyMDg5Ng==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 36,
      "path" : "src/policy/rbf.cpp",
      "position" : 36,
      "pull_request_review_id" : 157592215,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-09-21T08:32:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219420896",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r219421460"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219421460"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Replace with:\r\n\r\n```\r\nbool fReplacementOptOut = conflicting_pretimeout && !SignalsOptInRBF(*ptxConflicting);\r\n```\r\n\r\n`fReplacementOptOut` is not needed above :-)",
      "commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "created_at" : "2018-09-21T08:34:06Z",
      "diff_hunk" : "@@ -632,6 +635,9 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n                             break;\n                         }\n                     }\n+                const int64_t conflicting_time = pool.info(ptxConflicting->GetHash()).nTime;\n+                const bool conflicting_pretimeout = !ExpiredOptInRBFPolicy(nAcceptTime, conflicting_time, replacement_timeout);\n+                fReplacementOptOut = conflicting_pretimeout && !SignalsOptInRBF(*ptxConflicting);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#discussion_r219421460",
      "id" : 219421460,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTQyMTQ2MA==",
      "original_commit_id" : "39103725ddf8decc3cbd012bd94646d15101e22c",
      "original_position" : 23,
      "path" : "src/validation.cpp",
      "position" : 23,
      "pull_request_review_id" : 157592956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10823",
      "updated_at" : "2018-09-21T08:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219421460",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #14296 ([wallet] Remove addwitnessaddress by jnewbery)\n* #13804 (Transaction Pool Layer by MarcoFalke)\n* #13311 (Don't edit Chainparams after initialization by jtimon)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-09-21T13:33:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-423532289",
      "id" : 423532289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzUzMjI4OQ==",
      "updated_at" : "2018-09-24T22:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423532289",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-09-24T22:24:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10823#issuecomment-424145506",
      "id" : 424145506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10823",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNDE0NTUwNg==",
      "updated_at" : "2018-09-24T22:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/424145506",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
