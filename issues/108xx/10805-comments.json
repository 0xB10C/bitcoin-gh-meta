[
   {
      "body" : "I think the real issue here is less ability to write a manpage once, and more whether it will be maintained. Without the generation being automated based on things that do get maintained, we've seen man pages and stuff like this go out of date and be forgotten about for a release or two :/.",
      "created_at" : "2017-07-12T15:56:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314814601",
      "id" : 314814601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T15:56:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314814601",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Maintaining the manpage, IMHO, is an integral part of maintaining the utility itself.\r\nThe help2man-generated \"manpages\" are of abysmall quality and it seems to be an assumption that nobody will read them anyway: it's all in the --help anyway, by definition.\r\nThat's precisely what I want to change: maintain the manpage as a part of the software;\r\nmake it _the_ place where the utility is documented, as expected on a UNIX system.",
      "created_at" : "2017-07-12T16:24:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314822642",
      "id" : 314822642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T21:47:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314822642",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2013679?v=3",
         "events_url" : "https://api.github.com/users/janstary/events{/privacy}",
         "followers_url" : "https://api.github.com/users/janstary/followers",
         "following_url" : "https://api.github.com/users/janstary/following{/other_user}",
         "gists_url" : "https://api.github.com/users/janstary/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/janstary",
         "id" : 2013679,
         "login" : "janstary",
         "organizations_url" : "https://api.github.com/users/janstary/orgs",
         "received_events_url" : "https://api.github.com/users/janstary/received_events",
         "repos_url" : "https://api.github.com/users/janstary/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/janstary/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/janstary/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/janstary"
      }
   },
   {
      "body" : "The travis integration build has failed. Looking at the detailed log,\r\nI don't see how the fails is connected to the proposed change at all\r\n(being a change in a manage).\r\n",
      "created_at" : "2017-07-12T16:25:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314822910",
      "id" : 314822910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T16:25:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314822910",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2013679?v=3",
         "events_url" : "https://api.github.com/users/janstary/events{/privacy}",
         "followers_url" : "https://api.github.com/users/janstary/followers",
         "following_url" : "https://api.github.com/users/janstary/following{/other_user}",
         "gists_url" : "https://api.github.com/users/janstary/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/janstary",
         "id" : 2013679,
         "login" : "janstary",
         "organizations_url" : "https://api.github.com/users/janstary/orgs",
         "received_events_url" : "https://api.github.com/users/janstary/received_events",
         "repos_url" : "https://api.github.com/users/janstary/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/janstary/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/janstary/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/janstary"
      }
   },
   {
      "body" : "Looks like it is related to the man page change \"make[1]: *** No rule to make target `bitcoin-cli.1', needed by `distdir'.  Stop.\", configure wants to build the man page itself.",
      "created_at" : "2017-07-12T16:28:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314823661",
      "id" : 314823661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T16:28:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314823661",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "New manpage does look better, but I don't think it's so much better that it's worth maintaining two different copies of documentation for every command line option. (Which would turn into 3 different copies with `bitcoind.1` and `bitcoin-qt.1` because they share most options.)\r\n\r\n@janstary, I'm wondering what specific restrictions help2man has that prevent you from making your documentation improvements? And if help2man doesn't do something important that you want it to do, maybe we could replace it with another script?",
      "created_at" : "2017-07-12T17:21:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314838223",
      "id" : 314838223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T17:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314838223",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "@ryanofsky \r\nThat's a misunderstanding - in what I propose there's no \"two different copies of documentation\" - the manpage is the one and only place. As is ls(1) and any other manpage.\r\n\r\nRe help2man: there is no way to \"make my documentation improvements\" because there is no place to write documentation if the manages are just regenerated from --help. A real manpage is a piece of free-form prose, describing the utility in all detail; that's not something you put into a help() printf. Which is precisely what I want to change: have a proper manpage - the one and only place where the thing is documented. As expected.\r\n\r\nHow do you learn the details of ls(1)? Exactly.",
      "created_at" : "2017-07-12T20:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314891835",
      "id" : 314891835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T21:00:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314891835",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2013679?v=3",
         "events_url" : "https://api.github.com/users/janstary/events{/privacy}",
         "followers_url" : "https://api.github.com/users/janstary/followers",
         "following_url" : "https://api.github.com/users/janstary/following{/other_user}",
         "gists_url" : "https://api.github.com/users/janstary/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/janstary",
         "id" : 2013679,
         "login" : "janstary",
         "organizations_url" : "https://api.github.com/users/janstary/orgs",
         "received_events_url" : "https://api.github.com/users/janstary/received_events",
         "repos_url" : "https://api.github.com/users/janstary/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/janstary/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/janstary/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/janstary"
      }
   },
   {
      "body" : "@TheBlueMatt \r\nYes. This is the first step, trying to find out if there's interest in this.\r\nI need and will track down all the pieces in the build procedure.\r\n\r\n(Notice how absurdly simplier it is already. \"./configure wants to build the manpage itself\". What?!)",
      "created_at" : "2017-07-12T20:49:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314892508",
      "id" : 314892508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T20:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314892508",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2013679?v=3",
         "events_url" : "https://api.github.com/users/janstary/events{/privacy}",
         "followers_url" : "https://api.github.com/users/janstary/followers",
         "following_url" : "https://api.github.com/users/janstary/following{/other_user}",
         "gists_url" : "https://api.github.com/users/janstary/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/janstary",
         "id" : 2013679,
         "login" : "janstary",
         "organizations_url" : "https://api.github.com/users/janstary/orgs",
         "received_events_url" : "https://api.github.com/users/janstary/received_events",
         "repos_url" : "https://api.github.com/users/janstary/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/janstary/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/janstary/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/janstary"
      }
   },
   {
      "body" : "Heh, maybe ls is a bad example...on my system the man ls and ls --help output are identical +/- copyright/author one-liners. I think @ryanofsky's question was more of a \"OK, so lets write a script which pulls from --help and then adds some additional prose to generate the manpage, that way we dont have a bunch of stuff that goes out of date cause no one remembers to update the manpage\".",
      "created_at" : "2017-07-12T21:05:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314896845",
      "id" : 314896845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T21:05:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314896845",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Currently, the user learns about the basic usage of e.g. bitcoin-cli(1) not by running `man bitcoin-cli`, as one would  expect, but by seeing the output of bitcoin-cli's function `AppInitRPC()` whose puropse is, quote\r\n\r\n```\r\n//\r\n// This function returns either one of EXIT_ codes when it's expected to stop the process or\r\n// CONTINUE_EXECUTION when it's expected to continue further.\r\n//\r\n```\r\n\r\nNo. This is not documentation. Have a proper manpage.\r\n\r\n(Repeat: I am willing to do it.)",
      "created_at" : "2017-07-12T21:19:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10805#issuecomment-314900316",
      "id" : 314900316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10805",
      "updated_at" : "2017-07-12T21:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/314900316",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2013679?v=3",
         "events_url" : "https://api.github.com/users/janstary/events{/privacy}",
         "followers_url" : "https://api.github.com/users/janstary/followers",
         "following_url" : "https://api.github.com/users/janstary/following{/other_user}",
         "gists_url" : "https://api.github.com/users/janstary/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/janstary",
         "id" : 2013679,
         "login" : "janstary",
         "organizations_url" : "https://api.github.com/users/janstary/orgs",
         "received_events_url" : "https://api.github.com/users/janstary/received_events",
         "repos_url" : "https://api.github.com/users/janstary/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/janstary/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/janstary/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/janstary"
      }
   }
]
