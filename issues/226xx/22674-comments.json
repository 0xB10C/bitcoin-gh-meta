[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r685983817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/685983817"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I have no clue about details of packages and related PRs. Interested in this RPC which can be helpful in my tests. Is this like broadcasting transactions in batches?\r\n\r\n```C++\r\nfor (int i = 0; i < MAX; i++) {\r\n  if (consensus and mempool policies) {\r\n  // add to broadcast queue\r\n} else {\r\n  // Error\r\n}\r\n}\r\n\r\n//BroadcastTransaction(node, queue);\r\n\r\n```\r\n\r\nIs it possible to select peer for broadcasting this package? Not sure if enough people will ever agree to add such option in `sendrawtransaction` but we can experiment with test RPCs if its easy to implement. Context: https://github.com/bitcoin/bitcoin/issues/21876\r\n\r\nSo RPC can have one argument to mention peer address.\r\n",
      "commit_id" : "db6451ac3f63a924025fb693844a78518bff8d61",
      "created_at" : "2021-08-10T12:48:30Z",
      "diff_hunk" : "@@ -1023,6 +1023,131 @@ static RPCHelpMan testmempoolaccept()\n     };\n }\n \n+static RPCHelpMan submitrawpackage()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r685983817",
      "id" : 685983817,
      "line" : 1026,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NTk4MzgxNw==",
      "original_commit_id" : "0ab20f3581a4f0933fcbf96613c308973e5bba93",
      "original_line" : 1026,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 726388097,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-10T12:48:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/685983817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r685987629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/685987629"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this like broadcasting transactions in batches?\r\n\r\nNo, but you can make multiple calls to `sendrawtransaction`\r\n\r\n> Is it possible to select peer for broadcasting this package?\r\n\r\nNo, I don't think that would be very helpful here. If you're interested in enabling specific functionality, perhaps open a PR?",
      "commit_id" : "db6451ac3f63a924025fb693844a78518bff8d61",
      "created_at" : "2021-08-10T12:53:17Z",
      "diff_hunk" : "@@ -1023,6 +1023,131 @@ static RPCHelpMan testmempoolaccept()\n     };\n }\n \n+static RPCHelpMan submitrawpackage()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r685987629",
      "id" : 685987629,
      "in_reply_to_id" : 685983817,
      "line" : 1026,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NTk4NzYyOQ==",
      "original_commit_id" : "0ab20f3581a4f0933fcbf96613c308973e5bba93",
      "original_line" : 1026,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 726395047,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-10T12:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/685987629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r686001324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/686001324"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks",
      "commit_id" : "db6451ac3f63a924025fb693844a78518bff8d61",
      "created_at" : "2021-08-10T13:10:11Z",
      "diff_hunk" : "@@ -1023,6 +1023,131 @@ static RPCHelpMan testmempoolaccept()\n     };\n }\n \n+static RPCHelpMan submitrawpackage()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#discussion_r686001324",
      "id" : 686001324,
      "in_reply_to_id" : 685983817,
      "line" : 1026,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NjAwMTMyNA==",
      "original_commit_id" : "0ab20f3581a4f0933fcbf96613c308973e5bba93",
      "original_line" : 1026,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 14,
      "pull_request_review_id" : 726413839,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22674",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-10T13:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/686001324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nJust reviewing my [notes](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-June/019148.html) from the L2 onchain support workshops. It was agreed that restricting to 1 child in a package would be sufficient for discussed L2 use cases (at least for now) and this PR implements multiple parents, 1 child packages rather than restricting to 1 parent, 1 child because of minimal increased implementation complexity. ",
      "created_at" : "2021-08-10T13:18:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#issuecomment-896020657",
      "id" : 896020657,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22674",
      "node_id" : "IC_kwDOABII5841aDCx",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T13:18:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896020657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you @michaelfolkson. Indeed you are correct, we discussed that [multiple parent + 1 child would be best but 1 parent + 1 child sufficient](https://gist.github.com/ariard/32b51ecceccc5c6f647bae86d083c442#file-l2-onchain-support-meeting2-txt-L57-L72) for addressing L2 use cases. After speaking with @TheBlueMatt offline and getting further into the implementation, I realized that the multi-parent case would be significantly more helpful without being that much more complex.",
      "created_at" : "2021-08-10T14:59:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#issuecomment-896102884",
      "id" : 896102884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22674",
      "node_id" : "IC_kwDOABII5841aXHk",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T14:59:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896102884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22567](https://github.com/bitcoin/bitcoin/pull/22567) (test: Implicitly sync after generate* to preempt races and intermittent test failures by MarcoFalke)\n* [#22290](https://github.com/bitcoin/bitcoin/pull/22290) (Package Mempool Submission with Package Fee-Bumping by glozow)\n* [#22097](https://github.com/bitcoin/bitcoin/pull/22097) (validation: Move package acceptance size limit from KvB to WU by ariard)\n* [#21515](https://github.com/bitcoin/bitcoin/pull/21515) (Erlay: bandwidth-efficient transaction relay protocol by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-08-10T18:55:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#issuecomment-896235448",
      "id" : 896235448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22674",
      "node_id" : "IC_kwDOABII5841a3e4",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T18:55:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/896235448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> After speaking with @TheBlueMatt offline and getting further into the implementation, I realized that the multi-parent case would be significantly more helpful without being that much more complex.\r\n\r\nThis came, in part, out of a discussion between @ariard and I about an implementation @ariard had to implement the lightning \"anchor output\" protocol in LDK[1], and later a discussion between @sdaftuar and I had about how practical it is to avoid some of the complexity @ariard suggested there. Specifically, in order to work around issues with potential package relay systems, @ariard suggested a somewhat complicated approach involving chaining spends and broadcasting conflicts to see which one confirms first. This avoids us having to implement the \"one on-chain output for future feerate bumping per open channel\" logic that others have, which is incredibly wasteful of on-chain space and also adds a lot of complexity for LDK's downstream users. If we can do replacement and multiple (no-onchain-parent) parents without a lot of complexity, it will save us a lot of heartache later. @sdaftuar suggested that it likely won't add a lot of complexity, so I suggested that to @glozow, who seemed to agree.\r\n\r\n[1] https://github.com/rust-bitcoin/rust-lightning/issues/989",
      "created_at" : "2021-08-12T20:37:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22674#issuecomment-897951289",
      "id" : 897951289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22674",
      "node_id" : "IC_kwDOABII5841haY5",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-12T20:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/897951289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
