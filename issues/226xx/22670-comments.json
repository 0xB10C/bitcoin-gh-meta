[
   {
      "author_association" : "NONE",
      "body" : "In the wallet state where this error is surely reproduced, stop v22.0 and start v0.21.1. And when I execute the same transaction, no error occurs. v0.21.1 calculates fee correctly.\r\nSimilar confirmations were made for v0.21.0 and v0.20.0. These calculate the fee correctly.\r\n\r\nFrom the above test results, it can be said that the calculation of fee before remittance of v22.0 has changed significantly from the past version.",
      "created_at" : "2021-08-10T04:58:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22670#issuecomment-895729528",
      "id" : 895729528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22670",
      "node_id" : "IC_kwDOABII5841Y794",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T04:58:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895729528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "For reference, attach the debug.log of the relevant part when an error occurs.\r\n[debug.log](https://github.com/bitcoin/bitcoin/files/6959757/debug.log)\r\n",
      "created_at" : "2021-08-10T07:27:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22670#issuecomment-895796394",
      "id" : 895796394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22670",
      "node_id" : "IC_kwDOABII5841ZMSq",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T07:27:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895796394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I made a program with python and calculated fee from raw Tx. In my calculation the fee was 2.57729334.\r\nTherefore, it is correct to be out of memoly pool due to insufficient remittance fee.\r\n\r\n@fujicoin Did you try to abandon the transaction using [`abandontransaction`](https://bitcoincore.org/en/doc/0.21.0/rpc/wallet/abandontransaction/) and use a higher fee rate?\r\n\r\nThere are few questions with similar issues in which low fee rate was used and transaction timed out: https://bitcoin.stackexchange.com/search?q=not+in+memory+pool\r\n\r\nSimilar thing is mentioned in your log file:\r\n\r\n```\r\n2021-08-10T00:24:04Z [default wallet] Submitting wtx c6281e449ad08aa694d28c32cc545b8ddb3d01f74e3b0eff4f81ce9e9c6e616d to mempool for relay\r\n2021-08-10T00:24:04Z [default wallet] CommitTransaction(): Transaction cannot be broadcast immediately, min relay fee not met, 257729334 < 527440000\r\n```\r\n\r\n> I often create large transactions with more than 350 inputs\r\n\r\nNot sure what all changes you made in your altcoin, there are some size limits on transactions too in Bitcoin. For example someone was getting an error in NBitcoin recently for using lot of inputs: https://gitter.im/MetacoSA/NBitcoin?at=60eef4327473bf3d7825ab85\r\n\r\nDon't think there are any issues in Bitcoin Core so this issue is off-topic IMO.",
      "created_at" : "2021-08-10T08:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/22670#issuecomment-895820701",
      "id" : 895820701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22670",
      "node_id" : "IC_kwDOABII5841ZSOd",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-10T08:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/895820701",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
