[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16195#discussion_r292991730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16195"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292991730"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit,\r\n```\r\nstd::pair<char*, size_t> freed{static_cast<char*>(i->first), i->second};\r\n```\r\nor\r\n```\r\nauto freed = std::make_pair(static_cast<char*>(i->first), i->second);\r\n```",
      "commit_id" : "102b565ac081257d7eac64cb4b93c9aeb040eb2b",
      "created_at" : "2019-06-12T15:54:02Z",
      "diff_hunk" : "@@ -95,11 +97,11 @@ void Arena::free(void *ptr)\n     }\n \n     // Remove chunk from used map\n-    auto i = chunks_used.find(static_cast<char*>(ptr));\n+    auto i = chunks_used.find(ptr);\n     if (i == chunks_used.end()) {\n         throw std::runtime_error(\"Arena: invalid or double free\");\n     }\n-    std::pair<char*, size_t> freed = *i;\n+    std::pair<char*, size_t> freed = std::make_pair(static_cast<char*>(i->first), i->second);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#discussion_r292991730",
      "id" : 292991730,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Mjk5MTczMA==",
      "original_commit_id" : "018c7d380486d70bbb7fec1f38e9291f8733c90b",
      "original_position" : 59,
      "path" : "src/support/lockedpool.cpp",
      "position" : null,
      "pull_request_review_id" : 248858970,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16195",
      "updated_at" : "2019-06-12T23:33:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292991730",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16195#discussion_r292992487"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16195"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292992487"
         }
      },
      "author_association" : "MEMBER",
      "body" : "make `free_chunk` const?",
      "commit_id" : "102b565ac081257d7eac64cb4b93c9aeb040eb2b",
      "created_at" : "2019-06-12T15:55:37Z",
      "diff_hunk" : "@@ -71,20 +72,21 @@ void* Arena::alloc(size_t size)\n \n     // Create the used-chunk, taking its space from the end of the free-chunk\n     const size_t size_remaining = size_ptr_it->first - size;\n-    auto allocated = chunks_used.emplace(size_ptr_it->second + size_remaining, size).first;\n-    chunks_free_end.erase(size_ptr_it->second + size_ptr_it->first);\n+    char* free_chunk = static_cast<char*>(size_ptr_it->second);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#discussion_r292992487",
      "id" : 292992487,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Mjk5MjQ4Nw==",
      "original_commit_id" : "018c7d380486d70bbb7fec1f38e9291f8733c90b",
      "original_position" : 29,
      "path" : "src/support/lockedpool.cpp",
      "position" : null,
      "pull_request_review_id" : 248858970,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16195",
      "updated_at" : "2019-06-12T23:33:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/292992487",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jkczyz Nice first-time contribution! Welcome as a contributor! \r\n\r\nWhat compiler is it that is failing to compile?",
      "created_at" : "2019-06-12T16:13:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#issuecomment-501345642",
      "id" : 501345642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16195",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTM0NTY0Mg==",
      "updated_at" : "2019-06-12T16:13:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501345642",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@practicalswift Thanks! My organization uses a customized STL. It provides a char* specialization for std::hash, which contains a static_assert that always fails. This is to prevent code from keying by pointers when keying by the pointed-to string is what is probably desired.",
      "created_at" : "2019-06-12T17:14:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#issuecomment-501370908",
      "id" : 501370908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16195",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTM3MDkwOA==",
      "updated_at" : "2019-06-12T17:14:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501370908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4015903?v=4",
         "events_url" : "https://api.github.com/users/jkczyz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jkczyz/followers",
         "following_url" : "https://api.github.com/users/jkczyz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jkczyz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jkczyz",
         "id" : 4015903,
         "login" : "jkczyz",
         "node_id" : "MDQ6VXNlcjQwMTU5MDM=",
         "organizations_url" : "https://api.github.com/users/jkczyz/orgs",
         "received_events_url" : "https://api.github.com/users/jkczyz/received_events",
         "repos_url" : "https://api.github.com/users/jkczyz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jkczyz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jkczyz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jkczyz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jkczyz Thanks for the clarification! Please squash into one commit.\r\n\r\nPlease report any other issues or warnings you encounter when using your organisations' compiler environment. Diversity in testing is good :-)",
      "created_at" : "2019-06-12T20:55:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#issuecomment-501451820",
      "id" : 501451820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16195",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTQ1MTgyMA==",
      "updated_at" : "2019-06-12T20:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501451820",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16161](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16161.html) (util: Fix compilation errors in support/lockedpool.cpp by jkczyz)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-06-12T21:12:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#issuecomment-501457264",
      "id" : 501457264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16195",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTQ1NzI2NA==",
      "updated_at" : "2019-06-12T21:12:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501457264",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n@sipa can you please comment on this? you seem to have a good grasp around subtle issues with regard to UB around pointer casts",
      "created_at" : "2019-06-13T10:47:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16195#issuecomment-501651730",
      "id" : 501651730,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16195",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTY1MTczMA==",
      "updated_at" : "2019-06-13T10:47:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501651730",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
