[
   {
      "author_association" : "MEMBER",
      "body" : ">I think it should be possible to get this merged over the next few weeks. \r\n\r\nThis has Concept NACKs and should not be merged.",
      "created_at" : "2020-05-05T03:01:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-623808486",
      "id" : 623808486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzgwODQ4Ng==",
      "updated_at" : "2020-05-05T03:01:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623808486",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact @jamesob @talkless @sipa @fjahr @pinheadmz @jonasnick @jkczyz @practicalswift @marcinja @MarcoFalke @kilrau @TheBlueMatt - thank you for your reviews on the original PR. I'm going to try to respond to feedback quickly to make progress on this. Please help by reviewing the linked PRs!",
      "created_at" : "2020-05-05T03:05:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-623809127",
      "id" : 623809127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzgwOTEyNw==",
      "updated_at" : "2020-05-05T03:05:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623809127",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18877 (Serve cfcheckpt requests by jnewbery)\n* #18698 (Make g_chainman internal to validation by MarcoFalke)\n* #18638 (net: Use mockable time for ping/pong, add tests by MarcoFalke)\n* #18354 (Protect wallet by using shared pointers by bvbfan)\n* #18242 (Add BIP324 encrypted p2p transport de-/serializer (only used in tests) by jonasschnelli)\n* #18165 (Consolidate service flag bit-to-name conversion to a shared serviceFlagToStr function by luke-jr)\n* #18000 (Index for UTXO Set Statistics by fjahr)\n* #17479 (Return BlockValidationState from ProcessNewBlock if CheckBlock/AcceptBlock fails by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-05-05T09:26:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-623950927",
      "id" : 623950927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMzk1MDkyNw==",
      "updated_at" : "2020-05-07T18:41:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/623950927",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nCurrent Travis linter error:\r\n```\r\ntest/functional/p2p_cfilters.py:11:1: F401 'test_framework.messages.NODE_COMPACT_FILTERS' imported but unused\r\n^---- failure generated from test/lint/lint-python.sh\r\n```",
      "created_at" : "2020-05-06T21:11:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-624893632",
      "id" : 624893632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNDg5MzYzMg==",
      "updated_at" : "2020-05-06T21:11:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/624893632",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Withdrawing my Concept NACK on the previous PR, ecosystem-wise, BIP157 is better that current light client solutions. Even if there is still long-term serious concerns, it's a broader point that this specific protocol. I can also envision people always servicing filters-headers only to provide filters correctness cheap services.\r\n\r\nFew points, maybe for follow-up works:\r\n*  signal NODE_COMPACT_FILTERS_HEADERS only, both filter-headers and filters are quite different in size, first one is the same order of magnitude that header and even a more resource-preserving peer still want to offer them\r\n* it could be the opportunity to experiment on filters services some bandwidth DoS-protection, you may need to tie inbound peer addresses with some accounting logic to do so\r\n* dissociating messages path from `net_processing` in the future, `ProcessMessages` may fan-out between classes of messages like `ProcessAddr`, `ProcessBlock`, `ProcessTransaction`, `ProcessFilters`. It would make easier to reason on their buffer and timers.",
      "created_at" : "2020-05-07T09:08:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625129827",
      "id" : 625129827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTEyOTgyNw==",
      "updated_at" : "2020-05-07T09:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625129827",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nI need a stronger, more convincing argument that improved light client protocols will drive the number of independent parties running and using a listening full node down.\r\n\r\nIf I can be convinced of that I'd consider reversing the Concept ACK. It is clear that that metric is critically important to network health, I don't think there is any disagreement there. But I think a future where every mobile is a light client is just as likely to drive that number up.\r\n\r\nI will continue to follow the discussion on the [mailing list](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-May/017818.html).",
      "created_at" : "2020-05-07T18:32:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625424908",
      "id" : 625424908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTQyNDkwOA==",
      "updated_at" : "2020-05-07T18:32:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625424908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@michaelfolkson for discussion clarity, and maybe it isn't clear in my mail sorry, I don't think in any case it will drive the number of independent parties running and using a listening full node down. If bandwidth cost is too high, node operators are just going to stop turn `peerscfilters=false`. The concern is for the light clients ecosystem in itself. ",
      "created_at" : "2020-05-08T07:12:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625673702",
      "id" : 625673702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTY3MzcwMg==",
      "updated_at" : "2020-05-08T07:12:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625673702",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure, that was clear from your mail @ariard. I'm referring to some of the responses to your mailing list post which make arguments for this specific PR to be NACKed. All this project (Bitcoin Core) can do is facilitate superior light client protocols (assuming they are not harmful to the full node ecosystem which I haven't been convinced they are). If the light client ecosystem doesn't take off or if node operators all choose to turn `peerscfilters=false` there isn't much Core can do or should do. That is down to the node operators. But I'm trying to keep the arguments specific to this particular PR here. Any brainstorming on how we can make the light client ecosystem successful should **definitely** not be done here and should be done on the mailing list. \r\n\r\nPersonally, I think Concept ACK, Concept NACKs are fine to post here with a short explanation. But if we can keep as much of the discussion on the mailing list as possible I think that is preferable.",
      "created_at" : "2020-05-08T09:08:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625719986",
      "id" : 625719986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTcxOTk4Ng==",
      "updated_at" : "2020-05-08T09:10:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625719986",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">I need a stronger, more convincing argument that improved light client protocols will drive the number of independent parties running and using a listening full node down.\r\n\r\nCurrently, there is a strong incentive to use your own node for privacy. Widely-deployed on nodes, BIP157 destroys this incentive.",
      "created_at" : "2020-05-08T16:18:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625893978",
      "id" : 625893978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTg5Mzk3OA==",
      "updated_at" : "2020-05-08T16:18:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625893978",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Running a full node will always be the superior option for privacy (and trust minimization) versus using a light client (improved or otherwise). If your primary objective is privacy the incentive is still there to run a full node. BIP157 reduces the gap between full node privacy and light client privacy that is true (light client privacy is improving). But this only affects a cohort of people who are wavering on whether to run a full node or not and see the privacy improvements of light clients as a reason not to. I have no idea how to quantify this cohort of people but I would be shocked if it was significant. Hence \"destroys\" seems to me to be a superlative.\r\n\r\nOn the upside, if the light client ecosystem was to grow and prosper post BIP157 it would need an increased number of full nodes to serve them filters. If the number of full nodes didn't increase to serve this filter demand then the light client ecosystem will be stunted forcing the cohort discussed above to lean back towards running a full node.\r\n\r\nIf the metric is \"number of independent parties running and using a listening full node\" I think growth of one ecosystem (light clients) has a positive impact on the growth of another (full nodes). If the metric is the **ratio** of light clients to \"number of independent parties running and using a listening full node\" then I think you have a point. I was of the understanding that we are more interested in the former than the latter.\r\n\r\n",
      "created_at" : "2020-05-08T16:52:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18876#issuecomment-625911768",
      "id" : 625911768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNTkxMTc2OA==",
      "updated_at" : "2020-05-08T16:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/625911768",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   }
]
