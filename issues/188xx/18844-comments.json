[
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK: This breaks backward compatibility, which is why we've always stuck to 4.8.\r\n\r\n`--with-incompatible-bdb` *isn't* \"needed\" - it's available, and not recommended.\r\nOnly BDB 4.8 *should* be used.",
      "created_at" : "2020-05-01T19:47:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18844#issuecomment-622536272",
      "id" : 622536272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjUzNjI3Mg==",
      "updated_at" : "2020-05-01T19:47:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622536272",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept NACK: This breaks backward compatibility, which is why we've always stuck to 4.8.\r\n\r\nThis is maybe addressed in the PR description, which says that database format hasn't actually changes just log format.\r\n\r\nI'm confused about motivation for this PR though. The goal of this is to make database writes more reliable? Have we seen cases where data has been lost and we think this change would fix? What exactly is the case where this would happen? Or is the goal something different like making writes more efficient?\r\n",
      "created_at" : "2020-05-01T19:53:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18844#issuecomment-622538604",
      "id" : 622538604,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjUzODYwNA==",
      "updated_at" : "2020-05-01T19:53:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622538604",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept NACK: This breaks backward compatibility, which is why we've always stuck to 4.8.\r\n\r\nIt doesn't and testing that is incredibly easy. You don't even need the changes in this PR to find that out for yourself. The log changes here aren't strictly necessary for BDB 5.3 The wallet.dat files themselves are portable between these versions. From the documentation that I've found, we should be able to use the same wallet.dat files down to BDB 4.0, and up to the latest version of BDB\r\n\r\n> I'm confused about motivation for this PR though.\r\n\r\nThe goal is to remove the strict requirement for BDB 4.8.\r\n\r\n> The goal of this is to make database writes more reliable?\r\n\r\nIt actually does the opposite currently, which is why I added the section at the bottom about alternatives. When I wrote this, I assumed that flushes were occurring immediately after we were done writing a record, but this appears to not be the case. There is a bit of a delay which is mostly not human noticeable but this has an effect on a test like `feature_backwards_compatibility` where a wallet file ends up being copied before it's flushed so is missing data.",
      "created_at" : "2020-05-01T21:36:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18844#issuecomment-622578361",
      "id" : 622578361,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjU3ODM2MQ==",
      "updated_at" : "2020-05-01T21:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622578361",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 \r\n\r\n> the Oracle keeps changing the log file format\r\n\r\n> From the documentation that I've found, we should be able to use the same wallet.dat files down to BDB 4.0, and up to the latest version of BDB\r\n\r\nMind pointing to the docs?",
      "created_at" : "2020-05-01T22:41:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18844#issuecomment-622597301",
      "id" : 622597301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18844",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMjU5NzMwMQ==",
      "updated_at" : "2020-05-01T22:41:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/622597301",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
