{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Bitcoin Core has a single gArgs, which is used by all binaries (bitcoind, bitcoin-qt, bench_bitcoin, bitcoin-wallet, ...). This is generally fine, because binaries only need to parse arguments for themselves.\r\n\r\nHowever, for testing purposes in bench_bitcoin, some benchmarks (at the time of writing I believe two) spin up a Bitcoin Core node via the TestingSetup NodeContext. Thus, they will end up with conflicting use of gArgs. This issue is fixed in bitcoin #18662 \r\n\r\nMoreover, test_bitcoin might want to set up and pass around local ArgsManagers without modifying the \"main\" global gArgs. Also, some args are parsed from gArgs inside the mempool or other validation code, which also makes it hard for unit tests to mock those settings. Slowly getting rid of usages of gArgs is going to help with that.\r\n\r\nAnd finally, globals usually come with other issues such as the static initialization fiasco. Getting rid of them will make the code cleaner.\r\n\r\nMarco started doing that in [commit fa6b97c](https://github.com/MarcoFalke/bitcoin-core/commit/fa6b97ce38baaa91991d8efa3e32d260fea298fa), as an example.\r\n\r\nThey can be found with git grep -W 'gArgs.AddArg(\"'.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18804/comments",
   "created_at" : "2020-04-28T15:21:17Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18804/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/18804",
   "id" : 608403982,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18804/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU2MDg0MDM5ODI=",
   "number" : 18804,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Pass ArgsManager into functions that register args with AddArg",
   "updated_at" : "2020-04-28T15:21:54Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18804",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/38899812?v=4",
      "events_url" : "https://api.github.com/users/glowang/events{/privacy}",
      "followers_url" : "https://api.github.com/users/glowang/followers",
      "following_url" : "https://api.github.com/users/glowang/following{/other_user}",
      "gists_url" : "https://api.github.com/users/glowang/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/glowang",
      "id" : 38899812,
      "login" : "glowang",
      "node_id" : "MDQ6VXNlcjM4ODk5ODEy",
      "organizations_url" : "https://api.github.com/users/glowang/orgs",
      "received_events_url" : "https://api.github.com/users/glowang/received_events",
      "repos_url" : "https://api.github.com/users/glowang/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/glowang/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/glowang/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/glowang"
   }
}
