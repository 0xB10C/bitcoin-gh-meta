[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Perhaps both add a new `check-functional` target that does `./test/functional/test_runner.py` and make it the final step of `check` target?",
      "created_at" : "2020-04-29T15:18:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18816#issuecomment-621279778",
      "id" : 621279778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18816",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTI3OTc3OA==",
      "updated_at" : "2020-04-29T15:18:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621279778",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7646953?v=4",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "node_id" : "MDQ6VXNlcjc2NDY5NTM=",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Personally I like that `make check` is relatively quick thanks to not running the heavy functional tests. \r\n\r\nWhat about adding another target (say `make check-all`?) which runs `make check` + `test/functional/test_runner.py`? _(Edit: Oh, perhaps that was the suggestion with `make check-functional`. Sorry!)_",
      "created_at" : "2020-04-29T15:51:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18816#issuecomment-621300545",
      "id" : 621300545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18816",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTMwMDU0NQ==",
      "updated_at" : "2020-04-29T15:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621300545",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The unit tests run in 1 minute and 9 seconds on my system. Mostly because the libsecp tests are not run in parallel. The functional tests run in under 3 minutes.\r\n\r\nAn alternative would be to have `./configure --with-functional-tests --without-subtree-tests && make check` run Bitcoin Core tests only.",
      "created_at" : "2020-04-29T16:06:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18816#issuecomment-621309155",
      "id" : 621309155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18816",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTMwOTE1NQ==",
      "updated_at" : "2020-04-29T16:06:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621309155",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hi,\r\n\r\nI have played a bit with Makefiles and came with this cheap \"solution\". Not sure if idiomatic or proper in any way, but it works.\r\n\r\n* Add new `Makefile` file to top *test* directory with this content:\r\n\r\n```shell\r\ncheck-functional:\r\n  $(PYTHON) ../test/functional/test_runner.py\r\n```\r\n\r\n* Change Makefile.am\r\n\r\n```diff\r\ndiff --git a/Makefile.am b/Makefile.am\r\nindex c35f5080a..bcf3b064c 100644\r\n--- a/Makefile.am\r\n+++ b/Makefile.am\r\n@@ -342,3 +342,6 @@ clean-local: clean-docs\r\n        rm -rf coverage_percent.txt test_bitcoin.coverage/ total.coverage/ fuzz.coverage/ test/tmp/ cache/ $(OSX_APP)\r\n        rm -rf test/functional/__pycache__ test/functional/test_framework/__pycache__ test/cache share/rpcauth/__pycache__\r\n        rm -rf osx_volname dist/ dpi36.background.tiff dpi72.background.tiff\r\n+\r\n+check-functional:\r\n+       $(MAKE) -C $(top_builddir)/test\r\n```\r\n\r\n* test run with `make check-functional`\r\n\r\n![make_check_functional](https://raw.githubusercontent.com/brakmic/bazaar/master/images/random/make_check_functional_2.png)\r\n\r\n--EDIT: *I should have maybe added option for passing arguments?* Like `make check-functional p2p_segwit.py`\r\n\r\n--EDIT2: [my repo containing this solution](https://github.com/brakmic/bitcoin/commit/96237a2f73853dcec93c1024523f61b0c1298976).",
      "created_at" : "2020-04-29T16:23:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/18816#issuecomment-621318941",
      "id" : 621318941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18816",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyMTMxODk0MQ==",
      "updated_at" : "2020-04-29T16:30:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/621318941",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   }
]
