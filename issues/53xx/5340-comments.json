[
   {
      "body" : "In the mingw bug report there is also a free-standing version given: http://sourceforge.net/p/mingw/bugs/1912/?page=1\r\nI'd feel safer using that if we can't rely on memchr being correct either.\r\n```c++\r\nstatic __inline__ size_t strnlen( const char *start, size_t maxlen )\r\n{\r\n  /* Determine the length of a NUL terminated string, subject\r\n   * to a maximum permitted length constraint.\r\n   */\r\n  const char *stop = start;\r\n\r\n  /* Scan at most maxlen bytes, seeking a NUL terminator;\r\n   * note that we MUST enforce the length check, BEFORE the\r\n   * terminator check, otherwise we could scan maxlen + 1\r\n   * bytes, which POSIX forbids.\r\n   */\r\n  while( ((stop - start) < maxlen) && *stop )\r\n    ++stop;\r\n\r\n  /* Result is the number of non-NUL bytes actually scanned.\r\n   */\r\n  return stop - start;\r\n}\r\n```\r\n\r\nBTW @cfields is util.cpp the right place for compatibility functions, or do we have a better place for those?\r\n",
      "created_at" : "2014-11-21T12:22:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63962937",
      "id" : 63962937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:22:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63962937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'd prefer getting rid of strnlen completely... Writing such backwards compatible stuff can only bring in new issues. And in this case, both environments have their solutions (fork of mingw, updated Mac OS X/Xcode)...",
      "created_at" : "2014-11-21T12:26:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63963309",
      "id" : 63963309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:26:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63963309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "i agree with @paveljanik. I don't think support for old or non-posix system should end up in core code.",
      "created_at" : "2014-11-21T12:28:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63963520",
      "id" : 63963520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:28:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63963520",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@paveljanik so you're proposing that we just close this? Fine with me, too.\r\n",
      "created_at" : "2014-11-21T12:34:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63964065",
      "id" : 63964065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:34:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63964065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I'd like to see the original problem fixed somehow ;) In this PR or elsewhere. The previous check before strnlen was OK. Is it acceptable for you to revert it and use \"if\" check as before?",
      "created_at" : "2014-11-21T12:43:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63964941",
      "id" : 63964941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:43:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63964941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "No, it is not acceptable to revert it. The old code was incorrect.\r\n\r\nAs it seems, strnlen is only not supported on old and broken platforms, so IMO we should just keep it this way.\r\n",
      "created_at" : "2014-11-21T12:45:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63965132",
      "id" : 63965132,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:45:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63965132",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj we could revert it intelligently, of course ;)",
      "created_at" : "2014-11-21T12:50:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63965661",
      "id" : 63965661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63965661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "No. Using POSIX functions should be ok.\r\n\r\nEither we add a compatibility fallback for strnlen, or we don't, but that code is going to stay the same. I don't want to change everything down to the lowest common denominator of broken platforms.",
      "created_at" : "2014-11-21T12:58:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63966441",
      "id" : 63966441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T12:58:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63966441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Agreed. So I think the compatibility fallback is the way to go (I really would like to see Bitcoin Core compilable there).\r\n@cfields I also do not like util.h/cpp for this. Maybe under compat/ somewhere/new files?\r\n",
      "created_at" : "2014-11-21T13:16:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63968274",
      "id" : 63968274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T13:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63968274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "compat-way approach in https://github.com/paveljanik/bitcoin/compare/strnlen2",
      "created_at" : "2014-11-21T16:43:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-63998826",
      "id" : 63998826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T16:43:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63998826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Agreed that somewhere in compat/ is better. We probably have a few other things like this (atoi64 as a quick bad example) that we could justify moving to a new dependency-less compat file.",
      "created_at" : "2014-11-21T18:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64015072",
      "id" : 64015072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T18:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64015072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@paveljanik I like that approach. A separate file just for that is a bit overkill, but it also ensures that unrelated junk won't end up there in the future. I don't mind either way.",
      "created_at" : "2014-11-21T18:48:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64017728",
      "id" : 64017728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T18:48:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64017728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Yes, having one file for one function is not optimal. Can you come up with a better name for it? ;-) misc_functions.cpp and waiting for atoi64 and others?\r\n",
      "created_at" : "2014-11-21T18:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64018527",
      "id" : 64018527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-21T18:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64018527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik ACK. I like that approach. A function per file may be overkill, but it's better than stuffing everything in util.cpp. We can always group them later if there are a lot and it makes sense. Can you push that to this branch?\r\n",
      "created_at" : "2014-11-24T08:57:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64166056",
      "id" : 64166056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T08:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64166056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@ laanwj  Done",
      "created_at" : "2014-11-24T09:35:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64169513",
      "id" : 64169513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T09:35:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64169513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@LinuXperia can you please verify with the standard mingw please?",
      "created_at" : "2014-11-24T09:43:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64170438",
      "id" : 64170438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T09:43:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64170438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2014-11-24T14:32:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64201165",
      "id" : 64201165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T14:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64201165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Being nitpicky: It looks like compat.h needs to include config/bitcoin-config.h. We've probably gotten away with it only by accident (include ordering) in the past.",
      "created_at" : "2014-11-24T17:32:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64230851",
      "id" : 64230851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T17:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64230851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Also being nitpicky: if the intention here is to avoid lumping things together needlessly.. this now pulls compat.h in as a dependency for anything that requires strnlen. compat/strnlen.h would avoid that, if necessary.",
      "created_at" : "2014-11-24T17:37:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64231592",
      "id" : 64231592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T17:37:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64231592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni yes, compat.h needs bitcoin-config.h. Even now, because there is:\r\n\r\n```c\r\n// As Solaris does not have the MSG_NOSIGNAL flag for send(2) syscall, it is defined as 0\r\n#if !defined(HAVE_MSG_NOSIGNAL) && !defined(MSG_NOSIGNAL)\r\n#define MSG_NOSIGNAL 0\r\n#endif\r\n```\r\nalready.\r\nstrnlen.h means, that everyone using strnlen needs to include it. I do not want that ;-)\r\n",
      "created_at" : "2014-11-24T18:05:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64236094",
      "id" : 64236094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-24T18:05:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64236094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@theuni bitcoin-config.h added. OK now?",
      "created_at" : "2014-11-26T07:20:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64523965",
      "id" : 64523965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T07:20:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64523965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Thanks. utACK.",
      "created_at" : "2014-11-26T07:57:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64526677",
      "id" : 64526677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T07:57:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64526677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "*[Strange - this only worked for me after manually `rm src/bitcoin-config.h`. Seemingly this file moved to `src/config` and my build was still picking up the old file]*\r\n\r\nFor google-ability it was failing with the following error:\r\n```\r\nIn file included from util.h:17:0,\r\n                 from chainparamsbase.cpp:8:\r\ncompat.h:92:8: error: previous declaration of Ã¢ÂÂsize_t strnlen(const char*, size_t)Ã¢ÂÂ with Ã¢ÂÂC++Ã¢ÂÂ linkage\r\n size_t strnlen( const char *start, size_t max_len);\r\n        ^\r\nIn file included from /usr/include/c++/4.8/cstring:42:0,\r\n                 from /usr/include/boost/filesystem/path.hpp:36,\r\n                 from util.h:27,\r\n                 from chainparamsbase.cpp:8:\r\n/usr/include/string.h:407:74: error: conflicts with new declaration with Ã¢ÂÂCÃ¢ÂÂ linkage\r\n      __THROW __attribute_pure__ __nonnull ((1));\r\n                                                                          ^\r\n/usr/include/string.h:407:74: error: declaration of Ã¢ÂÂsize_t strnlen(const char*, size_t) throw ()Ã¢ÂÂ has a different exception specifier\r\nIn file included from util.h:17:0,\r\n                 from chainparamsbase.cpp:8:\r\ncompat.h:92:8: error: from previous declaration Ã¢ÂÂsize_t strnlen(const char*, size_t)Ã¢ÂÂ\r\n size_t strnlen( const char *start, size_t max_len);\r\n        ^\r\n```\r\nProblem is unrelated to this pull specifically though.\r\n\r\nACK commithash c8ed6130a4f7cfae897220ec093b440d21727cde https://dev.visucore.com/bitcoin/acks/5340",
      "created_at" : "2014-11-26T08:43:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64531009",
      "id" : 64531009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T08:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64531009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Isn't this because of this?\r\n\r\ncrypto/common.h:#include \"bitcoin-config.h\"\r\nnetbase.cpp:#include \"bitcoin-config.h\"\r\n",
      "created_at" : "2014-11-26T08:50:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64531660",
      "id" : 64531660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T08:50:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64531660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@laanwj Very strange. bitcoin-compat.h was moved to a new path to avoid problems like that where a stale file could be found. I'm not following your compiler's logic, since util.h explicitly includes \"config/bitcoin-config.h\".\r\n\r\nUnless it's a linker error due to netbase.cpp, that'd be different. (that one should be fixed either way).\r\n",
      "created_at" : "2014-11-26T08:52:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64531815",
      "id" : 64531815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T08:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64531815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "No, it was not a linker error.",
      "created_at" : "2014-11-26T08:53:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64531891",
      "id" : 64531891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T08:53:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64531891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@paveljanik the first one is correct, the second should be fixed.\r\ncrypto/ is setup to not have access to core headers by default, and uses -Iconfig/ so that it can read only config/bitcoin-config.h",
      "created_at" : "2014-11-26T08:54:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5340#issuecomment-64531978",
      "id" : 64531978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5340",
      "updated_at" : "2014-11-26T08:54:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64531978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
