[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [Fi3](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587152706), [sipa](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587485219), [ariard](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1590322328), [dunxen](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1591759027), [kristapsk](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1598574675), [luke-jr](https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1605237375) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27896](https://github.com/bitcoin/bitcoin/pull/27896) (Remove the syscall sandbox by fanquake)\n* [#26966](https://github.com/bitcoin/bitcoin/pull/26966) (index: blockfilter initial sync speedup, parallelize process by furszy)\n* [#24539](https://github.com/bitcoin/bitcoin/pull/24539) (Add a \"tx output spender\" index by sstone)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-06-11T08:54:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1586080747",
      "id" : 1586080747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585eiavr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1586080747/reactions"
      },
      "updated_at" : "2023-06-24T02:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1586080747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What are the reasons for not having this as a separate piece of software that calls the Bitcoin Core RPCs? From glancing at the code here it seems like `getblocktemplate` and `submitblock` would be the only needed RPCs. I've seen the discussion about separation (multi-process) in https://github.com/bitcoin/bitcoin/pull/23049 but wasn't convinced by the arguments there (e.g. https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-926009122). I am worried about the maintenance burden of this and would prefer it being a separate thing.\r\n\r\nIf stratumv3 or \"some other cool new mining protocol\" comes out tomorrow, are we gonna add support for that too? In my opinion, Bitcoin Core's interfaces should accommodate projects like this but direct integration should be reserved for strictly necessary things.",
      "created_at" : "2023-06-12T09:53:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1586988190",
      "id" : 1586988190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585el4Se",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1586988190/reactions"
      },
      "updated_at" : "2023-06-12T09:53:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1586988190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "One reason is that `getblocktemplate` require polling bitcoind where `NewTemplate` will be pushed by bitcoind. What you call stratumV3 would likely be an extension of Sv2 and will likley use the same binary data format and framing of Sv2.\r\n\r\n",
      "created_at" : "2023-06-12T11:01:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587095727",
      "id" : 1587095727,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585emSiv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587095727/reactions"
      },
      "updated_at" : "2023-06-12T11:01:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587095727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> One reason is that getblocktemplate require polling bitcoind where NewTemplate will be pushed by bitcoind.\r\n\r\nI'm imagining a separate process `stratumv2d` that implements the server from this PR but polls the block template through `getblocktemplate` instead of using the BlockAssembler directly (which is equivalent to a poll, minus the rpc roundtrip). stratumv2d could then still push template updates after polling from bitcoind.\r\n\r\n> What you call stratumV3 would likely be an extension of Sv2 and will likley use the same binary data format and framing of Sv2.\r\n\r\nI was just trying to make a point about Bitcoin Core probably not wanting to support every mining protocol that will ever exist.",
      "created_at" : "2023-06-12T11:12:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587116056",
      "id" : 1587116056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585emXgY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587116056/reactions"
      },
      "updated_at" : "2023-06-12T11:12:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587116056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I'm imagining a separate process stratumv2d that implements the server from this PR but polls the block template through getblocktemplate instead of using the BlockAssembler directly (which is equivalent to a poll, minus the rpc roundtrip). stratumv2d could then still push template updates after polling from bitcoind.\r\n\r\nhaving it implemented into bitcoind is not a big change and will allow more flexibility  when templates are pushed respect to just poll  `getblocktemplate`\r\n\r\n> I was just trying to make a point about Bitcoin Core probably not wanting to support every mining protocol that will ever exist.\r\n\r\nSure, and I agree. What I want to say is that in the case of an improvement of Sv2 that needs new/different messages to be supported by bitcoind these messages will use the same data format and framing' proposed here. So there wont be the need to support a completely new protocol.  \r\n\r\n' please note that the framing implemented if this PR is not the one on the spec so when I say the one proposed here I mean the one that is specified in the Sv2 spec.  The framing will be updated if there will be sufficient support for an concept ACK\r\n\r\n",
      "created_at" : "2023-06-12T11:35:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587152706",
      "id" : 1587152706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585emgdC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587152706/reactions"
      },
      "updated_at" : "2023-06-12T12:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587152706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> having it implemented into bitcoind is not a big change and will allow more flexibility in when templates are pushed respect to just poll getblocktemplate\r\n\r\nWhat are you thinking of in terms of flexibility that the current interfaces do not offer? I can't think of anything that would not work by using the current interfaces or exposing extra functionality through them. For example, looking at Matt's comment https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-926009122:\r\n\r\n> do things like pre-construct next-next-block templates in advance and push them out quicker\r\n\r\nThis is not something we currently support and would (afaik) require significant changes to our mining/mempool logic (entirely separate of any stratum v2 changes). Once we have that functionality we should expose it through our interfaces (e.g. zmq, rpc, rest) such that applications like stratum v2 can make use of it.\r\n\r\n> the inefficiencies of getblocktemplate have been a real source of pain for pool operators for some time, I'm excited its going away.\r\n\r\nCorrect me if I'm wrong but the inefficiencies of `getblocktemplate` (for the most part) stem from the underlying mining algorithm's runtime complexity. This is not something that stratum v2 magically solves.",
      "created_at" : "2023-06-12T13:08:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587311912",
      "id" : 1587311912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585enHUo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587311912/reactions"
      },
      "updated_at" : "2023-06-12T13:08:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587311912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Can not answer about Matt comment. (@TheBlueMatt maybe can clarify?)\r\n\r\nWhat I intended is  for example create a new template as soon as txs in mempool allow creations of new template with a fee amount that is bigger than x than the one of last created template. Or create a future template based on the one that miner is mining (next-next-block). \r\n\r\n> This is not something we currently support and would (afaik) require significant changes to our mining/mempool logic (entirely separate of any stratum v2 changes). Once we have that functionality we should expose it through our interfaces (e.g. zmq, rpc, rest) such that applications like stratum v2 can make use of it.\r\n\r\nIt make sense to me. But I would like to know also Matt opinion on that. ",
      "created_at" : "2023-06-12T13:28:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587347653",
      "id" : 1587347653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585enQDF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587347653/reactions"
      },
      "updated_at" : "2023-06-12T13:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587347653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm Concept ACK on eventually replacing the current `getblocktemplate` with another interface, for the following reasons:\r\n* The poll-based nature introduces unnecessary latency over a hypothetical push-based one.\r\n* Being RPC based, `getblocktemplate` is bandwidth and CPU inefficient due to JSON and hex encoding (for large amounts of data being transferred on every call).\r\n* `getblocktemplate` provides too much information for clients that do not care about performing their own transaction selection (full transaction hex and dependency information), with no way to opt out.\r\n\r\nNone of these deficiencies require the full StratumV2 approach to address; e.g. longpolling RPC could partially address the polling concern, a binary REST or ZMQ interface instead of RPC could address encoding issues, and additional RPC options to reduce verbosity could address that concern. Still, I don't think there was much impetus to improve upon these in an ecosystem that is `getblocktemplate`-based.\r\n\r\nIf (and that is an if) it is clear that the ecosystem is likely to adopt StratumV2, then I believe it makes sense to consider it as an interface too now. An alternative could still be a more \"neutral\" interface that is also push-based, binary, and efficient, and keep the StratumV2 logic as a separate daemon. That has advantages and disadvantages:\r\n\r\n* Advantages:\r\n  * Less complexity in Bitcoin Core to review and maintain.\r\n  * Less tied to the specific protocol, so wouldn't need Bitcoin Core changes when further protocol changes occur (as long as those don't introduce additional data requirements not exposed by the interface), perhaps making it easier to evolve StratumV2 (and/or successors).\r\n* Disadvantages:\r\n  * Slight efficiency/latency loss due to needing an additional process/layer to do the translation.\r\n  * Additional deployment friction (I do think it's important in general to make sure mining is as easy and efficient as possible, and having easily usable interfaces helps with that).\r\n  * In case a feature like outsourcing transaction selection is considered, I can imagine having one party performing the coinbase construction (the pool), and another performing transaction selection (the bitcoind talked to). In case this involves communicating e.g. the size/sigops of that coinbase to bitcoind for block construction, that may be harder to incorporate in a \"neutral\" protocol (it'd necessarily be bidirectional, while REST/ZMQ are inherently uni-directional I believe).\r\n\r\nI haven't reviewed StratumV2 itself, so I'm curious how people see these. Perhaps one can also consider different trade-offs in between \"`bitcoind` speaks the mining protocol directly\" and \"`bitcoind` only speaks a neutral interface\":\r\n* I assume what is considered in this PR is already only a subset of StratumV2 (as I remember there are multiple subprotocols, and I imagine not all of them are relevant to Bitcoin Core). But seeing things like Noise being part of the protocol, I do wonder if it's a possibility to just consider an unencrypted/unauthenticated subset, requiring a (perhaps much thinner) separate daemon to add that. Doing so may perhaps reduce the complexity to maintain in Bitcoin Core significantly.\r\n* Perhaps we see what is considered here as StratumV2 not so much as \"the\" mining protocol we expect everything to use, but just as the de facto binary interface protocol chosen because we need one anyway, and StratumV2 is already designed to cover the needs of such a protocol. If StratumV2 expansions/evolutions come along, or whatever other protocol, it may not be unreasonable to expect that to need a separate daemon that speaks StratumV2 with Bitcoin Core still.\r\n\r\n> This is not something we currently support and would (afaik) require significant changes to our mining/mempool logic (entirely separate of any stratum v2 changes). Once we have that functionality we should expose it through our interfaces (e.g. zmq, rpc, rest) such that applications like stratum v2 can make use of it.\r\n\r\nIt's true that we don't current support this, and that Stratum V2 does not magically solve this, but I do believe that part of the reason we don't is exactly because it's not that trivial in an RPC-based setting, and hard to move away from that in an ecosystem that's reliant on `getblocktemplate`. And in the long term, I do believe it's reasonable to consider at least the possibility of doing block template construction asynchronously in Bitcoin Core, because it is the one piece of infrastructure that has all the information to do so, and moving to such an approach enables for more computationally heavy block building without burdening the critical path.",
      "created_at" : "2023-06-12T14:40:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587485219",
      "id" : 1587485219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585enxoj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 5,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 5,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587485219/reactions"
      },
      "updated_at" : "2023-06-12T15:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587485219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> An alternative could still be a more \"neutral\" interface that is also push-based, binary, and efficient, and keep the StratumV2 logic as a separate daemon. \r\n\r\nGiven that Sv2 logic for TP is already minimal. The option of not using an already existent interface (zmq,rpc) neiter using the already specified Sv2 interface but redesign from scratch a new one, do not make much sense to me. \r\n\r\n> \r\n    Advantages:\r\n        Less complexity in Bitcoin Core to review and maintain.\r\n        Less tied to the specific protocol, so wouldn't need Bitcoin Core changes when further protocol changes occur (as long as those don't introduce additional data requirements not exposed by the interface), perhaps making it easier to evolve StratumV2 (and/or successors).\r\n    Disadvantages:\r\n        Slight efficiency/latency loss due to needing an additional process/layer to do the translation.\r\n        Additional deployment friction (I do think it's important in general to make sure mining is as easy and efficient as possible, and having easily usable interfaces helps with that).\r\n        In case a feature like outsourcing transaction selection is considered, I can imagine having one party performing the coinbase construction (the pool), and another performing transaction selection (the bitcoind talked to). In case this involves communicating e.g. the size/sigops of that coinbase to bitcoind for block construction, that may be harder to incorporate in a \"neutral\" protocol.\r\n\r\n* Less complexity on Bitcoin Core: not sure how less complex we can be, maybe a little bit, but this with the need to introduce a new interface with his own spec.\r\n* Slight efficiency/latency loss: I don't think that this could ever be a real world issue but the point is right. \r\n* Additional deployment friction: this is one of the main reason for why we want to include noise in the TP and not doing it as a separate layer.\r\n* About the last point the pool/miner communicate how much space at maximum he need for the coinbase outputs and the TP create a template considering it.\r\n\r\n> I assume what is considered in this PR is already only a subset of StratumV2 (as I remember there are multiple subprotocols, and I imagine not all of them are relevant to Bitcoin Core). But seeing things like Noise being part of the protocol, I do wonder if it's a possibility to just consider an unencrypted/unauthenticated subset, requiring a (perhaps much thinner) separate daemon to add that. Doing so may perhaps reduce the complexity to maintain in Bitcoin Core significantly.\r\n\r\nAlso this make sense to me but I still would like to hear the opinion from someone else that have insight into Sv2.\r\n\r\n> Perhaps we see what is considered here as StratumV2 not so much as \"the\" mining protocol we expect everything to use, but just as the de facto binary interface protocol chosen because we need one anyway, and StratumV2 is already designed to cover the needs of such a protocol. If StratumV2 expansions/evolutions come along, or whatever other protocol, it may not be unreasonable to expect that to need a separate daemon that speaks StratumV2 with Bitcoin Core still.\r\n\r\nyep\r\n",
      "created_at" : "2023-06-12T15:17:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587553321",
      "id" : 1587553321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585eoCQp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587553321/reactions"
      },
      "updated_at" : "2023-06-12T15:17:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587553321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> None of these deficiencies require the full StratumV2 approach to address;\n\nThis protocol basically is a protocol designed exactly for this use-case. The fact that it comes under a \"StratumV2\" banner is somewhat unrelated, there's only some common framing. It's also not a substantial protocol, arguably simpler than getblocktemplate in full.\n\nThis protocol exists basically to create an alternative to getblocktemplate which solves key problems in it, and can be used with or without any other Stratumv2 content.\n\n* it is (much, much) lower bandwidth than getblocktemplate,\n* it explicitly moves decisions of when to switch to a new block to bitcoin core with a push model, rather than long polling which almost never gets used in practice. This allows for substantially better optimization of transaction selection and next-block switching across the ecosystem. This also implies we cannot build this das some kind of layer on the existing bitcoin core APIs, there needs to be something new.\n* it provides some cryptographic authentication, allowing the protocol to go over the open internet without fear - this allows the protocol to take the place of current systems like CK's \"solopool\", which allows miners to solo mine without the complexity of running a full node and pool stack, and can now be replicated by any full node. More generally, abstracting the block construction logic from a pool via a protocol which doesn't require tight integration could allow pools or miners with regulatory risk to use a third party template provider.\n\nThis protocol is certainly not set in stone, if someone has ideas for other goals that should be addressed or other protocol tweaks that can still happen at this phase, though ideally not a complete rewrite :).",
      "created_at" : "2023-06-12T16:15:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587650914",
      "id" : 1587650914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585eoaFi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587650914/reactions"
      },
      "updated_at" : "2023-06-12T16:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587650914",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> What are the reasons for not having this as a separate piece of software that calls the Bitcoin Core RPCs? From glancing at the code here it seems like `getblocktemplate` and `submitblock` would be the only needed RPCs. I've seen the discussion about separation (multi-process) in #23049 but wasn't convinced by the arguments there (e.g. [#23049 (comment)](https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-926009122)). I am worried about the maintenance burden of this and would prefer it being a separate thing.\r\n> \r\n> If stratumv3 or \"some other cool new mining protocol\" comes out tomorrow, are we gonna add support for that too? In my opinion, Bitcoin Core's interfaces should accommodate projects like this but direct integration should be reserved for strictly necessary things.\r\n\r\nThanks and appreciate the time for reviewing the PR. A lot of the points are valid especially concerns around maintenance burden and supporting numerous project integrations.\r\n\r\nIn terms of RPC calls, this is of course possible. With stratum v2 some of the goals are around improving performance and reducing latency. JSON RPC can fall short in speed and efficiency. If the sv2 TP were to be run as a separate   process that uses the existing RPC calls, then at a very high level we have the overhead:\r\n\r\n- Encoding Template fields to bytes\r\n- Encode bytes to HexStr\r\n- Build a JSON representation with HexStr fields\r\n- Serialize JSON representation to utf8 binary and send over the wire\r\n\r\nwhere as if sv2 provided templates:\r\n\r\n- Encode Template fields to bytes (sv2 encoding)\r\n- Send sv2 bytes over the wire\r\n\r\nThere are different approaches we could take, none of which I think has necessarily strong support for a particular direction but I guess the common goal would be, to be able to extract templates and submit work more efficiently with less overhead than the current RPCs available",
      "created_at" : "2023-06-12T17:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587728576",
      "id" : 1587728576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585eotDA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587728576/reactions"
      },
      "updated_at" : "2023-06-12T17:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587728576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18324680?v=4",
         "events_url" : "https://api.github.com/users/ccdle12/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ccdle12/followers",
         "following_url" : "https://api.github.com/users/ccdle12/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ccdle12/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ccdle12",
         "id" : 18324680,
         "login" : "ccdle12",
         "node_id" : "MDQ6VXNlcjE4MzI0Njgw",
         "organizations_url" : "https://api.github.com/users/ccdle12/orgs",
         "received_events_url" : "https://api.github.com/users/ccdle12/received_events",
         "repos_url" : "https://api.github.com/users/ccdle12/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ccdle12/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ccdle12/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ccdle12"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> In terms of RPC calls, this is of course possible. With stratum v2 some of the goals are around improving performance and reducing latency. JSON RPC can fall short in speed and efficiency.\r\n\r\nIts not just latency and overhead, however - one of the important goals of replacing GBT in Bitcoin Core broadly is to move towards everything being push, rather than polling. In general, block templates should come out of Bitcoin Core very aggressively - when a new block comes in and has been validated, before the mempool gets updated, we should be able to get a new block template out based on some prediction and conflict-removal, from there, we can update the mempool and then do a full new block generation, updating the template again. During steady-state, we should make decisions about when to update the block template based on new transactions (ignore 30-second-old transactions unless they have lots of fees, do a block template update immediately if a huge-fee transaction comes in, etc). This is important for long-term sustainability of Bitcoin Core as a block template constructor, and while GBT technically supports polling, I don't think any major production pool servers actually use it - it being optional means you can't make decisions like most of the above without assuming everyone uses GBT long-polling, which just isn't true.",
      "created_at" : "2023-06-12T19:32:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1587954425",
      "id" : 1587954425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585epkL5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587954425/reactions"
      },
      "updated_at" : "2023-06-12T19:32:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1587954425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Over-turning my comment from https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-925446441. After studying more Stratum V2 and the inner details of mining operations, and in light of more âreactive\" block template construction in future in function of the processed mempool content, I think this more valuable to have Stratum V2 TP integrated in Bitcoin Core to enhance decentralization of the mining ecosystem. From a maintenance viewpoint, the changes are very âperipheralâ from other subsystem like the validation engine or the p2p stack so concept ACK to have Stratum V2 TP in Core.\r\n\r\n> Another architectural approach other than a new thread and server for the Sv2 TP might be preferred such as the current work in the [multiprocess project](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/Process-Separation)\r\n\r\nIn the future, it might make sense to split the `bitcoin-node` process in a bunch of more granualr process (e.g `bitcoin-validation`, `bitcoin-server` with indexes, `bitcoin-p2p`) to avoid exposed DoS leakage between them or having redundance of some functionality like block-relay. What can be a good architecture/deployment fit for a âhobbyistâ full-node might not work for a substantial mining pool or Lightning Service Provider.",
      "created_at" : "2023-06-14T01:56:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1590322328",
      "id" : 1590322328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585eymSY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1590322328/reactions"
      },
      "updated_at" : "2023-06-14T01:56:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1590322328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK as an alternative to getblocktemplate. Iâm still digging into the deeper bits of StratumV2 though. :)",
      "created_at" : "2023-06-14T18:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1591759027",
      "id" : 1591759027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585e4FCz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591759027/reactions"
      },
      "updated_at" : "2023-06-14T18:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591759027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3072149?v=4",
         "events_url" : "https://api.github.com/users/dunxen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dunxen/followers",
         "following_url" : "https://api.github.com/users/dunxen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dunxen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dunxen",
         "id" : 3072149,
         "login" : "dunxen",
         "node_id" : "MDQ6VXNlcjMwNzIxNDk=",
         "organizations_url" : "https://api.github.com/users/dunxen/orgs",
         "received_events_url" : "https://api.github.com/users/dunxen/received_events",
         "repos_url" : "https://api.github.com/users/dunxen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dunxen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dunxen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dunxen"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've been playing around with Stratum v2 in recent months and may get my hands on an old S9. So hopefully I can test this when electricity prices go negative, soon(tm).",
      "created_at" : "2023-06-14T20:04:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1591898368",
      "id" : 1591898368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585e4nEA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 2,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591898368/reactions"
      },
      "updated_at" : "2023-06-14T20:04:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1591898368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\n> may get my hands on an old S9. So hopefully I can test this when electricity prices go negative\r\n\r\nI even have S9 and could be ok to pay that electricity bill for some tests, but currently it's already too hot in my flat (I use it as a space heater from time to time, when it's too cold).",
      "created_at" : "2023-06-20T11:07:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1598574675",
      "id" : 1598574675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585fSFBT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598574675/reactions"
      },
      "updated_at" : "2023-06-20T11:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598574675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2023-06-24T02:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1605237375",
      "id" : 1605237375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585frfp_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605237375/reactions"
      },
      "updated_at" : "2023-06-24T02:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605237375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kristapsk I removed two of the three hashboards and set the target consumption to 100W. In practice it's more like 130, but that's fine; not hot and not too noisy (mine came with BrainsOS+ installed)",
      "created_at" : "2023-06-26T14:53:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27854#issuecomment-1607656508",
      "id" : 1607656508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27854",
      "node_id" : "IC_kwDOABII585f0uQ8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607656508/reactions"
      },
      "updated_at" : "2023-06-26T14:54:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607656508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
