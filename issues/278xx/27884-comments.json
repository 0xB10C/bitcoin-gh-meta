[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/27884#pullrequestreview-1492865143), [willcl-ark](https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1612636549) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27101](https://github.com/bitcoin/bitcoin/pull/27101) (Support JSON-RPC 2.0 when requested by client by pinheadmz)\n* [#20892](https://github.com/bitcoin/bitcoin/pull/20892) (tests: Run both descriptor and legacy tests within a single test invocation by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-06-14T10:31:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1590934093",
      "id" : 1590934093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585e07pN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1590934093/reactions"
      },
      "updated_at" : "2023-06-29T08:37:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1590934093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks",
      "created_at" : "2023-06-16T11:28:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1594530245",
      "id" : 1594530245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fCpnF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594530245/reactions"
      },
      "updated_at" : "2023-06-16T11:28:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594530245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85792632?v=4",
         "events_url" : "https://api.github.com/users/Dadudidas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Dadudidas/followers",
         "following_url" : "https://api.github.com/users/Dadudidas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Dadudidas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Dadudidas",
         "id" : 85792632,
         "login" : "Dadudidas",
         "node_id" : "MDQ6VXNlcjg1NzkyNjMy",
         "organizations_url" : "https://api.github.com/users/Dadudidas/orgs",
         "received_events_url" : "https://api.github.com/users/Dadudidas/received_events",
         "repos_url" : "https://api.github.com/users/Dadudidas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Dadudidas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Dadudidas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Dadudidas"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nIn addition to those highlighted by TheStack, there are also quite a few other places we could update to use this, e.g. some of these matches:\r\n\r\n```sh\r\n$ git grep -n \"os.path\" test/functional | rg -e '.*\\.chain*'\r\ntest/functional/feature_addrman.py:56:        peers_dat = os.path.join(self.nodes[0].datadir, self.chain, \"peers.dat\")\r\ntest/functional/feature_asmap.py:116:        self.datadir = os.path.join(self.node.datadir, self.chain)\r\ntest/functional/feature_blocksdir.py:33:        assert os.path.isfile(os.path.join(blocksdir_path, self.chain, \"blocks\", \"blk00000.dat\"))\r\ntest/functional/feature_blocksdir.py:34:        assert os.path.isdir(os.path.join(self.nodes[0].datadir, self.chain, \"blocks\", \"index\"))\r\ntest/functional/feature_config_args.py:418:        assert os.path.exists(os.path.join(new_data_dir, self.chain, 'blocks'))\r\ntest/functional/feature_config_args.py:424:        assert os.path.exists(os.path.join(new_data_dir_2, self.chain, 'blocks'))\r\ntest/functional/feature_fee_estimation.py:323:        fee_dat = os.path.join(self.nodes[0].datadir, self.chain, \"fee_estimates.dat\")\r\ntest/functional/feature_filelock.py:27:        datadir = os.path.join(self.nodes[0].datadir, self.chain)\r\ntest/functional/feature_loadblock.py:40:        blocks_dir = os.path.join(data_dir, self.chain, \"blocks\")\r\ntest/functional/feature_logging.py:19:        return os.path.join(self.nodes[0].datadir, self.chain, name)\r\ntest/functional/feature_posix_fs_permissions.py:34:        datadir = os.path.join(self.nodes[0].datadir, self.chain)\r\ntest/functional/feature_pruning.py:94:        self.prunedir = os.path.join(self.nodes[2].datadir, self.chain, 'blocks', '')\r\ntest/functional/feature_pruning.py:293:            return os.path.isfile(os.path.join(self.nodes[node_number].datadir, self.chain, \"blocks\", f\"blk{index:05}.dat\"))\r\ntest/functional/feature_reindex.py:42:        blk0 = os.path.join(self.nodes[0].datadir, self.nodes[0].chain, 'blocks', 'blk00000.dat')\r\ntest/functional/feature_remove_pruned_files_on_startup.py:23:        blk0 = os.path.join(self.nodes[0].datadir, self.nodes[0].chain, 'blocks', 'blk00000.dat')\r\ntest/functional/feature_remove_pruned_files_on_startup.py:24:        rev0 = os.path.join(self.nodes[0].datadir, self.nodes[0].chain, 'blocks', 'rev00000.dat')\r\ntest/functional/feature_remove_pruned_files_on_startup.py:25:        blk1 = os.path.join(self.nodes[0].datadir, self.nodes[0].chain, 'blocks', 'blk00001.dat')\r\ntest/functional/feature_remove_pruned_files_on_startup.py:26:        rev1 = os.path.join(self.nodes[0].datadir, self.nodes[0].chain, 'blocks', 'rev00001.dat')\r\ntest/functional/feature_txindex_compatibility.py:53:        legacy_chain_dir = os.path.join(self.nodes[0].datadir, self.chain)\r\ntest/functional/feature_txindex_compatibility.py:56:        migrate_chain_dir = os.path.join(self.nodes[2].datadir, self.chain)\r\ntest/functional/feature_txindex_compatibility.py:67:        drop_index_chain_dir = os.path.join(self.nodes[1].datadir, self.chain)\r\ntest/functional/interface_rpc.py:49:        assert_equal(info['logpath'], os.path.join(self.nodes[0].datadir, self.chain, 'debug.log'))\r\ntest/functional/mempool_compatibility.py:58:        old_node_mempool = os.path.join(old_node.datadir, self.chain, 'mempool.dat')\r\ntest/functional/mempool_compatibility.py:59:        new_node_mempool = os.path.join(new_node.datadir, self.chain, 'mempool.dat')\r\ntest/functional/mempool_persist.py:146:        mempooldat0 = os.path.join(self.nodes[0].datadir, self.chain, 'mempool.dat')\r\ntest/functional/mempool_persist.py:147:        mempooldat1 = os.path.join(self.nodes[1].datadir, self.chain, 'mempool.dat')\r\ntest/functional/test_framework/test_framework.py:826:                return os.path.join(cache_node_dir, self.chain, *paths)\r\ntest/functional/tool_wallet.py:404:        self.wallet_path = os.path.join(self.nodes[0].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename)\r\ntest/functional/wallet_backup.py:112:        os.remove(os.path.join(self.nodes[0].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename))\r\ntest/functional/wallet_backup.py:113:        os.remove(os.path.join(self.nodes[1].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename))\r\ntest/functional/wallet_backup.py:114:        os.remove(os.path.join(self.nodes[2].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename))\r\ntest/functional/wallet_backup.py:121:        not_created_wallet_file = os.path.join(node.datadir, self.chain, 'wallets', wallet_name)\r\ntest/functional/wallet_backup.py:131:        not_created_wallet_file = os.path.join(node.datadir, self.chain, 'wallets', wallet_name)\r\ntest/functional/wallet_backup.py:138:        wallet_file = os.path.join(node.datadir, self.chain, 'wallets', wallet_name)\r\ntest/functional/wallet_backup.py:209:        assert os.path.exists(os.path.join(self.nodes[3].datadir, self.chain, 'wallets', \"res0\"))\r\ntest/functional/wallet_backup.py:210:        assert os.path.exists(os.path.join(self.nodes[3].datadir, self.chain, 'wallets', \"res1\"))\r\ntest/functional/wallet_backup.py:211:        assert os.path.exists(os.path.join(self.nodes[3].datadir, self.chain, 'wallets', \"res2\"))\r\ntest/functional/wallet_backup.py:229:            shutil.rmtree(os.path.join(self.nodes[2].datadir, self.chain, 'blocks'))\r\ntest/functional/wallet_backup.py:230:            shutil.rmtree(os.path.join(self.nodes[2].datadir, self.chain, 'chainstate'))\r\ntest/functional/wallet_backup.py:251:            os.path.join(self.nodes[0].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename),\r\ntest/functional/wallet_backup.py:252:            os.path.join(self.nodes[0].datadir, self.chain, '.', 'wallets', self.default_wallet_name, self.wallet_data_filename),\r\ntest/functional/wallet_backup.py:253:            os.path.join(self.nodes[0].datadir, self.chain, 'wallets', self.default_wallet_name),\r\ntest/functional/wallet_backup.py:254:            os.path.join(self.nodes[0].datadir, self.chain, 'wallets')]\r\ntest/functional/wallet_descriptor.py:237:        wallet_db = os.path.join(self.nodes[0].datadir, self.chain, \"wallets\", \"crashme\", self.wallet_data_filename)\r\ntest/functional/wallet_hd.py:90:        shutil.rmtree(os.path.join(self.nodes[1].datadir, self.chain, \"blocks\"))\r\ntest/functional/wallet_hd.py:91:        shutil.rmtree(os.path.join(self.nodes[1].datadir, self.chain, \"chainstate\"))\r\ntest/functional/wallet_hd.py:94:            os.path.join(self.nodes[1].datadir, self.chain, 'wallets', self.default_wallet_name, self.wallet_data_filename),\r\ntest/functional/wallet_hd.py:118:        shutil.rmtree(os.path.join(self.nodes[1].datadir, self.chain, \"blocks\"))\r\ntest/functional/wallet_hd.py:119:        shutil.rmtree(os.path.join(self.nodes[1].datadir, self.chain, \"chainstate\"))\r\ntest/functional/wallet_hd.py:122:            os.path.join(self.nodes[1].datadir, self.chain, \"wallets\", self.default_wallet_name, self.wallet_data_filename),\r\ntest/functional/wallet_keypool_topup.py:36:        wallet_path = os.path.join(self.nodes[1].datadir, self.chain, \"wallets\", self.default_wallet_name, self.wallet_data_filename)\r\ntest/functional/wallet_listtransactions.py:237:        wallet0 = os.path.join(self.nodes[0].datadir, self.chain, self.default_wallet_name, \"wallet.dat\")\r\ntest/functional/wallet_listtransactions.py:238:        wallet2 = os.path.join(self.nodes[2].datadir, self.chain, self.default_wallet_name, \"wallet.dat\")\r\ntest/functional/wallet_multiwallet.py:65:        data_dir = lambda *p: os.path.join(node.datadir, self.chain, *p)\r\ntest/functional/wallet_pruning.py:109:        return os.path.isfile(os.path.join(self.nodes[1].datadir, self.chain, \"blocks\", f\"blk{block_index:05}.dat\"))\r\ntest/functional/wallet_reorgsrestore.py:92:        shutil.copyfile(os.path.join(self.nodes[0].datadir, 'wallet.bak'), os.path.join(self.nodes[1].datadir, self.chain, self.default_wallet_name, self.wallet_data_filename))\r\n```\r\n\r\n...although, changing some of these occurences does require additional changes for example when watching logs.\r\n\r\nAre we looking to change all of these out and switch to the os.Path operator syntax throughout?\r\n",
      "created_at" : "2023-06-16T11:45:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1594548189",
      "id" : 1594548189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fCt_d",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594548189/reactions"
      },
      "updated_at" : "2023-06-16T11:45:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594548189",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> `$ git grep -n \"os.path\" test/functional | rg -e '.*\\.chain*'`\r\n\r\nThanks, added a scripted-diff as second commit\r\n\r\n> `$ git grep join.*regtest ./test`\r\n\r\nThanks, modified the last commit",
      "created_at" : "2023-06-16T16:26:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1594948175",
      "id" : 1594948175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fEPpP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594948175/reactions"
      },
      "updated_at" : "2023-06-16T16:26:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1594948175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Light crACK fa7f1251f8\r\n\r\nLooks good to me. \r\n\r\nThere are still instances in tests (outside of _test_framework/_) where we are using `os.path.join` on `self.datadir` which we could also switch to using `self.datadir_path` and the `/` operator. Is that something that we are looking to do here or in the future?",
      "created_at" : "2023-06-19T12:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1597126756",
      "id" : 1597126756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fMjhk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597126756/reactions"
      },
      "updated_at" : "2023-06-19T12:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597126756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is that something that we are looking to do here or in the future?\r\n\r\nThanks, fixed the remaining join calls that used `self.chain` on the datadir.",
      "created_at" : "2023-06-19T13:32:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1597202946",
      "id" : 1597202946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fM2IC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597202946/reactions"
      },
      "updated_at" : "2023-06-19T13:32:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597202946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Same, looks good here. Will ack if you want to make the anchors change.\r\n\r\nQuestion: Now that we use more `Path`s, would there be appetite to replace many of the `os.path.join()` calls with the `/` operator? It looks like ~100 lines or thereabouts, and not any performance wins, nor perfectly scripted-diff-able; so quite a lot of code churn (and might be considered \"many grains of sand\", and not a nice fat \"rock\"). But would make the tests more readable IMO?",
      "created_at" : "2023-06-19T22:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1597841494",
      "id" : 1597841494,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fPSBW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597841494/reactions"
      },
      "updated_at" : "2023-06-19T22:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1597841494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> As a follow-up, a new TestNode property wallets_path might also make sense, to deduplicate even more?\r\n\r\nThanks, added and updated the scripted-diff to avoid touching the same lines twice.",
      "created_at" : "2023-06-20T09:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1598444805",
      "id" : 1598444805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585fRlUF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598444805/reactions"
      },
      "updated_at" : "2023-06-20T09:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1598444805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1238316325"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238316325"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit (feel free to ignore for now, probably follow-up material): Now that this function is not handling decimals only anymore, I think it should be renamed from `EncodeDecimal` to something generic?",
      "commit_id" : "aaaa3aefbdfca1c9243057eeefdc19940e60bf18",
      "created_at" : "2023-06-22T10:15:20Z",
      "diff_hunk" : "@@ -62,6 +63,8 @@ def __init__(self, rpc_error, http_status=None):\n def EncodeDecimal(o):\n     if isinstance(o, decimal.Decimal):\n         return str(o)\n+    if isinstance(o, pathlib.Path):\n+        return str(o)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1238316325",
      "id" : 1238316325,
      "line" : 67,
      "node_id" : "PRRC_kwDOABII585JzzUl",
      "original_commit_id" : "dddd89962b26b5593860d016586ee8feb5aeea24",
      "original_line" : 67,
      "original_position" : 13,
      "original_start_line" : 66,
      "path" : "test/functional/test_framework/authproxy.py",
      "position" : 13,
      "pull_request_review_id" : 1492865143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238316325/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 66,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-06-22T10:15:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238316325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1238372085"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238372085"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, it should have been called `serialization_fallback`? May do on the next push or leave for a follow-up.",
      "commit_id" : "aaaa3aefbdfca1c9243057eeefdc19940e60bf18",
      "created_at" : "2023-06-22T11:04:06Z",
      "diff_hunk" : "@@ -62,6 +63,8 @@ def __init__(self, rpc_error, http_status=None):\n def EncodeDecimal(o):\n     if isinstance(o, decimal.Decimal):\n         return str(o)\n+    if isinstance(o, pathlib.Path):\n+        return str(o)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1238372085",
      "id" : 1238372085,
      "in_reply_to_id" : 1238316325,
      "line" : 67,
      "node_id" : "PRRC_kwDOABII585J0A71",
      "original_commit_id" : "dddd89962b26b5593860d016586ee8feb5aeea24",
      "original_line" : 67,
      "original_position" : 13,
      "original_start_line" : 66,
      "path" : "test/functional/test_framework/authproxy.py",
      "position" : 13,
      "pull_request_review_id" : 1492945189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238372085/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 66,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-06-22T11:04:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238372085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this rfm or does it need more review?",
      "created_at" : "2023-06-29T07:56:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1612585592",
      "id" : 1612585592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585gHhp4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1612585592/reactions"
      },
      "updated_at" : "2023-06-29T07:56:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1612585592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re-ACK aaaa3aefbdfca1c9243057eeefdc19940e60bf18\r\n\r\nLGTM with the wallets_path added.",
      "created_at" : "2023-06-29T08:37:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#issuecomment-1612636549",
      "id" : 1612636549,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27884",
      "node_id" : "IC_kwDOABII585gHuGF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1612636549/reactions"
      },
      "updated_at" : "2023-06-29T08:37:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1612636549",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1247740433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1247740433"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See #28011.",
      "commit_id" : "aaaa3aefbdfca1c9243057eeefdc19940e60bf18",
      "created_at" : "2023-06-30T11:02:52Z",
      "diff_hunk" : "@@ -62,6 +63,8 @@ def __init__(self, rpc_error, http_status=None):\n def EncodeDecimal(o):\n     if isinstance(o, decimal.Decimal):\n         return str(o)\n+    if isinstance(o, pathlib.Path):\n+        return str(o)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27884#discussion_r1247740433",
      "id" : 1247740433,
      "in_reply_to_id" : 1238316325,
      "line" : 67,
      "node_id" : "PRRC_kwDOABII585KXwIR",
      "original_commit_id" : "dddd89962b26b5593860d016586ee8feb5aeea24",
      "original_line" : 67,
      "original_position" : 13,
      "original_start_line" : 66,
      "path" : "test/functional/test_framework/authproxy.py",
      "position" : 13,
      "pull_request_review_id" : 1506988684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27884",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1247740433/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 66,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-06-30T11:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1247740433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
