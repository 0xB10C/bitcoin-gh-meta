{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Switch to using GCC 12 to build release binaries. Based on #27811 & #27813. Opening for testing / thoughts.\r\n\r\n`powerpc64-linux-gnu` builds are currently disabled, see the commit message.\r\n\r\nmacOS builds are failing because libtapi fails to configure against the newer GCC.\r\nWe should be able to fix this. I haven't had a chance to look:\r\n```bash\r\nConfiguring native_libtapi...\r\nBuilding native_libtapi...\r\n-- The C compiler identification is Clang 10.0.1\r\n-- The CXX compiler identification is Clang 10.0.1\r\n-- The ASM compiler identification is Clang\r\n-- Found assembler: /home/ubuntu/.guix-profile/bin/clang\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /home/ubuntu/.guix-profile/bin/clang - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Check for working CXX compiler: /home/ubuntu/.guix-profile/bin/clang++ - skipped\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Performing Test LLVM_NO_OLD_LIBSTDCXX\r\n-- Performing Test LLVM_NO_OLD_LIBSTDCXX - Failed\r\nCMake Error at cmake/modules/CheckCompilerVersion.cmake:38 (message):\r\n  Host Clang must be able to find libstdc++4.8 or newer!\r\nCall Stack (most recent call first):\r\n  cmake/config-ix.cmake:13 (include)\r\n  CMakeLists.txt:587 (include)\r\n\r\n\r\n-- Configuring incomplete, errors occurred!\r\n```\r\n\r\nGuix Builds. Currently non-deterministic for `powerpc64le-linux-gnu` & `x86_64-w64-mingw32`.\r\n\r\nx86_64:\r\n```bash\r\n5b42a00335951a7f4e7482896daf984161e32503de79e063d902f653a910b1fd  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/SHA256SUMS.part\r\nf0243cdc943be1808d68763bd9e169c0070e9d53af6969387687202693330d29  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/bitcoin-46c06bdd5fae-aarch64-linux-gnu-debug.tar.gz\r\n1228c32178f865712d55e0f74e4c54001aeb51426235df4d12048d7717ac11d0  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/bitcoin-46c06bdd5fae-aarch64-linux-gnu.tar.gz\r\n0c34de2932f46981f3db4b52ae138beb87d5000da7ccaa591843468bc3c700fa  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n94e724342bf2e034e0f10717b80c3595ecbc530949aa8abe5ab315dbbd31693f  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/bitcoin-46c06bdd5fae-arm-linux-gnueabihf-debug.tar.gz\r\nf35d6e2db1d8f9682e582a6449e98b17ba0bb43105dace3200b3cacf2f91bda7  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/bitcoin-46c06bdd5fae-arm-linux-gnueabihf.tar.gz\r\na494e18f675b79c79bf60db867404d0aefea4d1b97c63b336d2d7cc512cc1447  guix-build-46c06bdd5fae/output/dist-archive/bitcoin-46c06bdd5fae.tar.gz\r\nccb25d0012cb12a1e43134fefb94317dd2cdd5f0f76604dd11659cc71860c28e  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\ndd1e649c83f482eab7e438b121a2aee17e0b81e2bbf1eb9fc7dcc478d0c1b853  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/bitcoin-46c06bdd5fae-powerpc64le-linux-gnu-debug.tar.gz\r\na3848219b625c2fb5f9e6fd199ccc8be3aeae3bb390b9d9b9d02f5c653225bfd  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/bitcoin-46c06bdd5fae-powerpc64le-linux-gnu.tar.gz\r\nbd197e2cdac482784c23945caf731e051d2784cdb8a1936b74fb441315f6854c  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/SHA256SUMS.part\r\n52c8458bade7e7f608377a50db34891382fac559b0318af15f767932fc7449f7  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/bitcoin-46c06bdd5fae-riscv64-linux-gnu-debug.tar.gz\r\n1bfba2d04259fbd5f3eb0d2ab4a214f5be3846df6d3b1e4ae56c5af164b60044  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/bitcoin-46c06bdd5fae-riscv64-linux-gnu.tar.gz\r\n89da48a23555f31f88293839351dc6c9e1e647312adc925176b7d1c634eefac2  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/SHA256SUMS.part\r\n9c4bd8f6b6d3eb58cdf38632c96650556b48aa06fc25f80e012b6ae30d02cf53  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/bitcoin-46c06bdd5fae-x86_64-linux-gnu-debug.tar.gz\r\n2a12c5371ca86c47f720bb667e0af4563a29fce5945310fb5a7ce796fc23fa0d  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/bitcoin-46c06bdd5fae-x86_64-linux-gnu.tar.gz\r\n8d70b63e529e0a877b8fef9106e922d9d88c9a87f04070c77f0b009a10c8c8ce  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n56ea1bf2b57028db694c217262dd668fb0bcd38412da4381c95b7ea4e60827c6  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-debug.zip\r\n55801e00d6dcea564ae9242175b5371ee2f7b9a8d27ac79e200c9516e8cf299f  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-setup-unsigned.exe\r\n79fa388659115fe4ebc843d2a47b820e334f636bbef4cdf461664d3ffc3f85e1  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-unsigned.tar.gz\r\n0c817e04f2dcb215161abe0ceb56b0283bec38ecb07b6788df931d029c87adf2  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64.zip\r\n```\r\n\r\naarch64:\r\n```bash\r\n5b42a00335951a7f4e7482896daf984161e32503de79e063d902f653a910b1fd  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/SHA256SUMS.part\r\nf0243cdc943be1808d68763bd9e169c0070e9d53af6969387687202693330d29  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/bitcoin-46c06bdd5fae-aarch64-linux-gnu-debug.tar.gz\r\n1228c32178f865712d55e0f74e4c54001aeb51426235df4d12048d7717ac11d0  guix-build-46c06bdd5fae/output/aarch64-linux-gnu/bitcoin-46c06bdd5fae-aarch64-linux-gnu.tar.gz\r\n0c34de2932f46981f3db4b52ae138beb87d5000da7ccaa591843468bc3c700fa  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n94e724342bf2e034e0f10717b80c3595ecbc530949aa8abe5ab315dbbd31693f  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/bitcoin-46c06bdd5fae-arm-linux-gnueabihf-debug.tar.gz\r\nf35d6e2db1d8f9682e582a6449e98b17ba0bb43105dace3200b3cacf2f91bda7  guix-build-46c06bdd5fae/output/arm-linux-gnueabihf/bitcoin-46c06bdd5fae-arm-linux-gnueabihf.tar.gz\r\na494e18f675b79c79bf60db867404d0aefea4d1b97c63b336d2d7cc512cc1447  guix-build-46c06bdd5fae/output/dist-archive/bitcoin-46c06bdd5fae.tar.gz\r\n3b90918e7b3eb7522aa5baf55f0a9775bbded95af40720f77815fc28e7e6b7cd  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\n861ee9ac91f1de2b3c5c549b06dab6249085fbdc08ff54621e513097f2cd06bf  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/bitcoin-46c06bdd5fae-powerpc64le-linux-gnu-debug.tar.gz\r\n0db75d03b963d530101f76630e3d678d1b65fb2d3607dea9b3100850e205c82e  guix-build-46c06bdd5fae/output/powerpc64le-linux-gnu/bitcoin-46c06bdd5fae-powerpc64le-linux-gnu.tar.gz\r\nbd197e2cdac482784c23945caf731e051d2784cdb8a1936b74fb441315f6854c  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/SHA256SUMS.part\r\n52c8458bade7e7f608377a50db34891382fac559b0318af15f767932fc7449f7  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/bitcoin-46c06bdd5fae-riscv64-linux-gnu-debug.tar.gz\r\n1bfba2d04259fbd5f3eb0d2ab4a214f5be3846df6d3b1e4ae56c5af164b60044  guix-build-46c06bdd5fae/output/riscv64-linux-gnu/bitcoin-46c06bdd5fae-riscv64-linux-gnu.tar.gz\r\n89da48a23555f31f88293839351dc6c9e1e647312adc925176b7d1c634eefac2  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/SHA256SUMS.part\r\n9c4bd8f6b6d3eb58cdf38632c96650556b48aa06fc25f80e012b6ae30d02cf53  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/bitcoin-46c06bdd5fae-x86_64-linux-gnu-debug.tar.gz\r\n2a12c5371ca86c47f720bb667e0af4563a29fce5945310fb5a7ce796fc23fa0d  guix-build-46c06bdd5fae/output/x86_64-linux-gnu/bitcoin-46c06bdd5fae-x86_64-linux-gnu.tar.gz\r\nda613030128d7c3b4e5044307306657deace8e146af775a7da2944706b436893  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n40d3cb36beca5983b199acdb2f737757302e9fcd8f47f3e4c6a1806f35d86067  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-debug.zip\r\n55801e00d6dcea564ae9242175b5371ee2f7b9a8d27ac79e200c9516e8cf299f  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-setup-unsigned.exe\r\n79fa388659115fe4ebc843d2a47b820e334f636bbef4cdf461664d3ffc3f85e1  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64-unsigned.tar.gz\r\nfddca27e877576571546f3c0dd67ce13a825a82c347c870c9df926e1e3474b8d  guix-build-46c06bdd5fae/output/x86_64-w64-mingw32/bitcoin-46c06bdd5fae-win64.zip\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897/comments",
   "created_at" : "2023-06-16T09:57:15Z",
   "draft" : true,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/27897",
   "id" : 1760304776,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585TLGQA",
   "number" : 27897,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/27897.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27897",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/27897.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27897"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897/timeline",
   "title" : "guix: use GCC 12.2.0 to build releases",
   "updated_at" : "2023-06-16T09:57:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27897",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
