[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "created_at" : "2023-06-05T16:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#issuecomment-1577101823",
      "id" : 1577101823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
      "node_id" : "IC_kwDOABII585eAKn_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577101823/reactions"
      },
      "updated_at" : "2023-06-05T16:21:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577101823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I get that this is confusing, but this change isn't correct.\n\nThe `\"data\"` field itself is required when the object is present (as in `[{\"address\": amount, ..., {}]` would not be valid). What's optional is the object (the `{ ... }` around it), which is at a higher level.\n\nMaybe it's worth elaborating in the prose text above?",
      "created_at" : "2023-06-05T16:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#issuecomment-1577106762",
      "id" : 1577106762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
      "node_id" : "IC_kwDOABII585eAL1K",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577106762/reactions"
      },
      "updated_at" : "2023-06-05T16:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577106762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I get that this is confusing, but this change isn't correct.\r\n> \r\n> The `\"data\"` field itself is required when the object is present (as in `[{\"address\": amount, ..., {}]` would not be valid). What's optional is the object (the `{ ... }` around it), which is at a higher level.\r\n> \r\n> Maybe it's worth elaborating in the prose text above?\r\n\r\nUnderstood you're saying the change isn't correct. How would someone properly indicate the \"data\" is optional if not specifying it as optional? The parent output is required and some of it's children elements are optional. From my perspective what I would expect to see is a required \"outputs\" and within outputs there being required and optional fields. \r\n\r\nFor instance: `\"address\": amount,           (numeric or string, required` makes sense as address and amount are necessary.\r\nBut `\"data\": \"hex\",               (string, required)` seems like a bug because this is not required and can be left out. If you specify \"data\" then of course there will be a required value for it, but this is implied with how json works.\r\n\r\nFull text of for outputs as reference:\r\n```\r\n2. outputs                            (json array, required) The outputs (key-value pairs), where none of the keys are duplicated.\r\n                                      That is, each address can only appear once and there can only be one 'data' object.\r\n                                      For compatibility reasons, a dictionary, which holds the key-value pairs directly, is also\r\n                                      accepted as second parameter.\r\n     [\r\n       {                              (json object)\r\n         \"address\": amount,           (numeric or string, required) A key-value pair. The key (string) is the bitcoin address,\r\n                                      the value (float or string) is the amount in BTC\r\n         ...\r\n       },\r\n       {                              (json object)\r\n         \"data\": \"hex\",               (string, required) A key-value pair. The key must be \"data\", the value is hex-encoded data\r\n       },\r\n       ...\r\n     ]\r\n```",
      "created_at" : "2023-06-05T16:44:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#issuecomment-1577132445",
      "id" : 1577132445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
      "node_id" : "IC_kwDOABII585eASGd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577132445/reactions"
      },
      "updated_at" : "2023-06-05T16:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577132445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7761473?v=4",
         "events_url" : "https://api.github.com/users/miketwenty1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/miketwenty1/followers",
         "following_url" : "https://api.github.com/users/miketwenty1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/miketwenty1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/miketwenty1",
         "id" : 7761473,
         "login" : "miketwenty1",
         "node_id" : "MDQ6VXNlcjc3NjE0NzM=",
         "organizations_url" : "https://api.github.com/users/miketwenty1/orgs",
         "received_events_url" : "https://api.github.com/users/miketwenty1/received_events",
         "repos_url" : "https://api.github.com/users/miketwenty1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/miketwenty1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/miketwenty1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/miketwenty1"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The `\"data\": ...` part cannot be left out. It's the `{\"data\": ...}` that can be left out.",
      "created_at" : "2023-06-05T16:52:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#issuecomment-1577142430",
      "id" : 1577142430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
      "node_id" : "IC_kwDOABII585eAUie",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577142430/reactions"
      },
      "updated_at" : "2023-06-05T16:52:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577142430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The `\"data\": ...` part cannot be left out. It's the `{\"data\": ...}` that can be left out.\r\n\r\nLet me rephrase my question:\r\nHow would someone know `{\"data\" ...}` is optional if not specifying it as optional? If every field is optional within an obj maybe it's implied the obj itself is optional?\r\n\r\nDoes there need to be a new idea of specifying whether the (json object) itself is optional?\r\n\r\nEdit: Is this what \"prose text\" means?",
      "created_at" : "2023-06-05T16:56:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#issuecomment-1577147866",
      "id" : 1577147866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27829",
      "node_id" : "IC_kwDOABII585eAV3a",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577147866/reactions"
      },
      "updated_at" : "2023-06-05T17:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577147866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7761473?v=4",
         "events_url" : "https://api.github.com/users/miketwenty1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/miketwenty1/followers",
         "following_url" : "https://api.github.com/users/miketwenty1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/miketwenty1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/miketwenty1",
         "id" : 7761473,
         "login" : "miketwenty1",
         "node_id" : "MDQ6VXNlcjc3NjE0NzM=",
         "organizations_url" : "https://api.github.com/users/miketwenty1/orgs",
         "received_events_url" : "https://api.github.com/users/miketwenty1/received_events",
         "repos_url" : "https://api.github.com/users/miketwenty1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/miketwenty1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/miketwenty1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/miketwenty1"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27829#discussion_r1219120387"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27829"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219120387"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I find this wording confusing. Do you mean to say that the user can combine data and address entries? Or that you can provide data or an address directly without putting \"data\" or \"address\" in front of it? (but then how it does it know the difference?)\r\n\r\nExamples can be helpful. Maybe say \"see send RPC for examples\" and then expand the `send` RPC docs with said examples. ",
      "commit_id" : "30acffa32023838d7b0c3f48d2a3688fae15490a",
      "created_at" : "2023-06-06T07:55:05Z",
      "diff_hunk" : "@@ -149,6 +149,7 @@ static std::vector<RPCArg> CreateTxDoc()\n         },\n         {\"outputs\", RPCArg::Type::ARR, RPCArg::Optional::NO, \"The outputs (key-value pairs), where none of the keys are duplicated.\\n\"\n                 \"That is, each address can only appear once and there can only be one 'data' object.\\n\"\n+                \"Either {\\\"data\\\"} or {\\\"address\\\"}, are required, but specifying both is optional.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27829#discussion_r1219120387",
      "id" : 1219120387,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII585Iqk0D",
      "original_commit_id" : "30acffa32023838d7b0c3f48d2a3688fae15490a",
      "original_line" : 152,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 1464521684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27829",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219120387/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-06T07:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1219120387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
