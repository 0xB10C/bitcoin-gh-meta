{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This pull request is part of the `libbitcoinkernel` project https://github.com/bitcoin/bitcoin/issues/27587 https://github.com/orgs/bitcoin/projects/3 and more specifically its \"Step 2: Decouple most non-consensus code from libbitcoinkernel\".\r\n\r\n---\r\n\r\nThis pull request contains a subset of patches originally proposed in #27711. It will be part of a series of changes required to make handling of interrupts (or in other words the current shutdown procedure) in the kernel library more transparent and less reliable on global mutable state. The set of patches contained here was originally proposed by @ryanofsky [here](https://github.com/bitcoin/bitcoin/pull/27711#issuecomment-1580779869). \r\n\r\nAs a standalone library the `libbitcoinkernel` should not have to rely on code that accesses the globally mutable shutdown flags. Instead, replace access to the global with an interrupt class that is owned by the kernel context. The `SignalInterrupt` kernel context member is passed by reference to the `ChainstateManager` to allow for the termination of long-running kernel functions and sending interrupt signals.\r\n\r\nFurther, this adds a commit that moves the remaining usages of the `uiInterface` out of the kernel code. The process of moving the `uiInterface` out of the kernel was started in https://github.com/bitcoin/bitcoin/pull/27636. The last user of the `uiInterface` currently in the kernel is the `AbortNode` function. The approach taken here uses the notification interface to externalize code calling `AbortNode` from the kernel library by introducing a `fatalError` notification. ",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861/comments",
   "created_at" : "2023-06-12T13:16:33Z",
   "draft" : true,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/27861",
   "id" : 1752750822,
   "labels" : [
      {
         "color" : "6060aa",
         "default" : false,
         "description" : null,
         "id" : 118379652,
         "name" : "Validation",
         "node_id" : "MDU6TGFiZWwxMTgzNzk2NTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585SxeMV",
   "number" : 27861,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/27861.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27861",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/27861.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27861"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861/timeline",
   "title" : "kernel: Add interrupt class",
   "updated_at" : "2023-06-12T13:53:59Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27861",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
      "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
      "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
      "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
      "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/TheCharlatan",
      "id" : 8421793,
      "login" : "TheCharlatan",
      "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
      "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
      "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
      "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/TheCharlatan"
   }
}
