[
   {
      "body" : "Concept ACK.",
      "created_at" : "2016-11-26T06:54:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263048115",
      "id" : 263048115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-26T06:54:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263048115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Nice. Concept ACK.\r\nNeeds test.",
      "created_at" : "2016-11-26T08:29:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263051382",
      "id" : 263051382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-26T08:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263051382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli I tried finding the fundrawtransaction tests but couldn't. Where are they?\r\n\r\nsrc/test/rpc_tests.cpp seems like the natural place for them, but I see no 'fund' in there at all.",
      "created_at" : "2016-11-26T08:45:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263051967",
      "id" : 263051967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-26T08:45:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263051967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "@dooglus \r\nThere is one at `./qa/rpc-tests/fundrawtransaction.py`.\r\nThe tests should make sure that the `subtractFeeFromAmount` option work in conjunction with the custom feerate option (haven't look at your code so far).",
      "created_at" : "2016-11-26T09:01:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263052532",
      "id" : 263052532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-26T09:01:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263052532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Thanks for pointing me at the `qa/` directory. I hadn't noticed it before.\r\n\r\nI have added tests for `subtractFeeFromAmount`, including checking that it works in combination with custom feerate.",
      "created_at" : "2016-11-27T09:21:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263111374",
      "id" : 263111374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-27T09:21:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263111374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2016-11-28T07:23:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263200387",
      "id" : 263200387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T07:23:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263200387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9222#discussion_r89728445"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9222"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/89728445"
         }
      },
      "body" : "This will thrown an exception if one of the elements in the array is numeric. But I think this is okay.",
      "commit_id" : "64955cf43033ee93ea2462368270908bd2ab670a",
      "created_at" : "2016-11-28T07:32:02Z",
      "diff_hunk" : "@@ -2553,6 +2561,19 @@ UniValue fundrawtransaction(const JSONRPCRequest& request)\n             feeRate = CFeeRate(AmountFromValue(options[\"feeRate\"]));\n             overrideEstimatedFeerate = true;\n         }\n+\n+        if (options.exists(\"subtractFeeFromAmount\")) {\n+            subtractFeeFromAmount = options[\"subtractFeeFromAmount\"].get_array();\n+            for (unsigned int idx = 0; idx < subtractFeeFromAmount.size(); idx++) {\n+                string strAddress(subtractFeeFromAmount[idx].get_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#discussion_r89728445",
      "id" : 89728445,
      "original_commit_id" : "a979010c80d5875ab26c9cdd5401e2b2905dd572",
      "original_position" : 47,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 47,
      "pull_request_review_id" : 10264915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9222",
      "updated_at" : "2016-11-28T08:17:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/89728445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Code Review ACK a979010c80d5875ab26c9cdd5401e2b2905dd572.\r\nSquash required.",
      "created_at" : "2016-11-28T07:36:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263202152",
      "id" : 263202152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T07:36:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263202152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "To 'squash' the commits do I just rewrite the same branch with a `push --force`? Or make a new branch and a new pull request?",
      "created_at" : "2016-11-28T07:47:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263203903",
      "id" : 263203903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T07:47:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263203903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "@dooglus: Yes. I normally do a `git rebase -I head~<amount-of-commits>`, find the commit you'd like to squash to and mark all later commits with a `s`. Then `git push --force`.",
      "created_at" : "2016-11-28T07:49:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263204233",
      "id" : 263204233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T07:49:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263204233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Thanks. The 'i' is lowercase and the 'HEAD' is uppercase but it was close enough.\r\n\r\nI used `git rebase -i HEAD~3` and it appears to have worked.",
      "created_at" : "2016-11-28T08:20:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263209117",
      "id" : 263209117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T08:20:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263209117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=3",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2016-11-28T20:41:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9222#issuecomment-263387858",
      "id" : 263387858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9222",
      "updated_at" : "2016-11-28T20:41:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/263387858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   }
]
