[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944290"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: instead of adding extended documentation to the release notes, the documentation can be added to the rpc itself. Affected/interested users can call `help rpc_method` or `--help` if needed.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T06:18:31Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by\n+  default. These two fields will be fully removed in the next major release.\n+  They can be accessed with the configuration options\n+  `-deprecatedrpc=getpeerinfo_inbound` and `-deprecatedrpc=getpeerinfo_addnode`\n+  respectively. However, it is recommended to instead use the `connection_type`\n+  field, which will indicate whether the peer is inbound, addnode(manual), or\n+  another type of connection.\n+\n+- The `getpeerinfo` RPC now returns a `connection_type` field. This indicates\n+  the type of connection established with the peer. It will return one of six\n+  options: 1. outbound full relay (default automatic connections) 2. block\n+  relay only (connections that only relay blocks, not transactions or\n+  addresses) 3. inbound (connection initiated by the peer) 4. manual (peers\n+  added via addnode or -connect configuration param) 5. feeler / 6. addrfetch\n+  (both short lived automatic connections used for robustness).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944290",
      "id" : 470944290,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0NDI5MA==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 119,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 467951589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944290",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944452"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944452"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For new code it would make sense to properly clang-format it. See e.g. https://github.com/bitcoin/bitcoin/tree/master/contrib/devtools#clang-format-diffpy ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T06:20:49Z",
      "diff_hunk" : "@@ -874,6 +875,25 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944452",
      "id" : 470944452,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0NDQ1Mg==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 878,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 467951589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944452",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This seems strangely implementation-specific to me. I think we should at least keep a simple connection direction somewhere?",
      "created_at" : "2020-08-15T06:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-674356692",
      "id" : 674356692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDM1NjY5Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-15T06:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674356692",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944663"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944663"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Would it make sense to replace the spaces with `-` to preserve the previous format of the log message? Also, if this was used in an arbitrary sentence, it might not be clear that this is a single word/\"operator\"",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T06:24:07Z",
      "diff_hunk" : "@@ -874,6 +875,25 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const {\n+        switch (m_conn_type) {\n+            case ConnectionType::INBOUND:\n+                return \"inbound\";\n+            case ConnectionType::MANUAL:\n+                return \"manual\";\n+            case ConnectionType::FEELER:\n+                return \"feeler\";\n+            case ConnectionType::OUTBOUND:\n+                return \"outbound full relay\";\n+            case ConnectionType::BLOCK_RELAY:\n+                return \"block relay only\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944663",
      "id" : 470944663,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0NDY2Mw==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 889,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 467951589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944663",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944955"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n                            {RPCResult::Type::STR, \"connection_type\", \"Type of connection:\\n \" + Join(foobar, \",\\n\") + \".\"},\r\n```\r\n\r\nWhat about moving the connection type documentation into a global like `NET_PERMISSIONS_DOC`?",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T06:27:41Z",
      "diff_hunk" : "@@ -133,6 +134,10 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                                                               \"When a message type is not listed in this json object, the bytes received are 0.\\n\"\n                                                               \"Only known message types can appear as keys in the object and all bytes received of unknown message types are listed under '\"+NET_MESSAGE_COMMAND_OTHER+\"'.\"}\n                             }},\n+                            {RPCResult::Type::STR, \"connection_type\", \"Type of connection: outbound full relay (default automatic connections),\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470944955",
      "id" : 470944955,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0NDk1NQ==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 137,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 467951589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470944955",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470945177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470945177"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n  field.\r\n```\r\n\r\nProbably can remove the extended documentation",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T06:30:38Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by\n+  default. These two fields will be fully removed in the next major release.\n+  They can be accessed with the configuration options\n+  `-deprecatedrpc=getpeerinfo_inbound` and `-deprecatedrpc=getpeerinfo_addnode`\n+  respectively. However, it is recommended to instead use the `connection_type`\n+  field, which will indicate whether the peer is inbound, addnode(manual), or",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470945177",
      "id" : 470945177,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0NTE3Nw==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 110,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 467951589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470945177",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470949512"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470949512"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it's premature to be deprecating these fields. It would be preferable to let the new code mature for a release or so and to implement how it might be presented in the GUI, before considering removing access to these via the RPC.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T07:28:55Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470949512",
      "id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk0OTUxMg==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 467954657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470949512",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470950595"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470950595"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree that we don't need to be overly aggressive with deprecation. If deprecation/removal is too controversial for now, it can be split up into another follow-up pull for later. I think adding the field should be uncontroversial and conceptually easier to get in.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T07:42:58Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470950595",
      "id" : 470950595,
      "in_reply_to_id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk1MDU5NQ==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 467955341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470950595",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470950954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470950954"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think there is a reason to remove \"inbound\", ever. It's very useful to filter RPC output by on its own.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-15T07:47:16Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r470950954",
      "id" : 470950954,
      "in_reply_to_id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDk1MDk1NA==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 467955546,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470950954",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on adding the connection type to `getpeerinfo` and the logging.",
      "created_at" : "2020-08-15T08:24:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-674367950",
      "id" : 674367950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NDM2Nzk1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-15T08:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674367950",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471732507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471732507"
         }
      },
      "author_association" : "MEMBER",
      "body" : "okay, removed the specifics. better?",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:38:21Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by\n+  default. These two fields will be fully removed in the next major release.\n+  They can be accessed with the configuration options\n+  `-deprecatedrpc=getpeerinfo_inbound` and `-deprecatedrpc=getpeerinfo_addnode`\n+  respectively. However, it is recommended to instead use the `connection_type`\n+  field, which will indicate whether the peer is inbound, addnode(manual), or\n+  another type of connection.\n+\n+- The `getpeerinfo` RPC now returns a `connection_type` field. This indicates\n+  the type of connection established with the peer. It will return one of six\n+  options: 1. outbound full relay (default automatic connections) 2. block\n+  relay only (connections that only relay blocks, not transactions or\n+  addresses) 3. inbound (connection initiated by the peer) 4. manual (peers\n+  added via addnode or -connect configuration param) 5. feeler / 6. addrfetch\n+  (both short lived automatic connections used for robustness).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471732507",
      "id" : 471732507,
      "in_reply_to_id" : 470944290,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMjUwNw==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 119,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 468779626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471732507",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733172"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733172"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks, think I've updated all the commits with proper clang formatting. moving forward, will try to incorporate this into my workflow. ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:39:46Z",
      "diff_hunk" : "@@ -874,6 +875,25 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733172",
      "id" : 471733172,
      "in_reply_to_id" : 470944452,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzE3Mg==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 878,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 468780459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733172",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733212"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:39:52Z",
      "diff_hunk" : "@@ -874,6 +875,25 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const {\n+        switch (m_conn_type) {\n+            case ConnectionType::INBOUND:\n+                return \"inbound\";\n+            case ConnectionType::MANUAL:\n+                return \"manual\";\n+            case ConnectionType::FEELER:\n+                return \"feeler\";\n+            case ConnectionType::OUTBOUND:\n+                return \"outbound full relay\";\n+            case ConnectionType::BLOCK_RELAY:\n+                return \"block relay only\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733212",
      "id" : 471733212,
      "in_reply_to_id" : 470944663,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzIxMg==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 889,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 468780514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733212",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733765"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733765"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:40:57Z",
      "diff_hunk" : "@@ -133,6 +134,10 @@ static UniValue getpeerinfo(const JSONRPCRequest& request)\n                                                               \"When a message type is not listed in this json object, the bytes received are 0.\\n\"\n                                                               \"Only known message types can appear as keys in the object and all bytes received of unknown message types are listed under '\"+NET_MESSAGE_COMMAND_OTHER+\"'.\"}\n                             }},\n+                            {RPCResult::Type::STR, \"connection_type\", \"Type of connection: outbound full relay (default automatic connections),\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733765",
      "id" : 471733765,
      "in_reply_to_id" : 470944955,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzc2NQ==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 137,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 468781168,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733765",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733938"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733938"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:41:17Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by\n+  default. These two fields will be fully removed in the next major release.\n+  They can be accessed with the configuration options\n+  `-deprecatedrpc=getpeerinfo_inbound` and `-deprecatedrpc=getpeerinfo_addnode`\n+  respectively. However, it is recommended to instead use the `connection_type`\n+  field, which will indicate whether the peer is inbound, addnode(manual), or",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471733938",
      "id" : 471733938,
      "in_reply_to_id" : 470945177,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczMzkzOA==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 110,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 468781365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471733938",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471738105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471738105"
         }
      },
      "author_association" : "MEMBER",
      "body" : "sounds good! I removed the \"deprecate inbound\" commit. I currently have left in the \"deprecate getpeerinfo addnode\" commit, but can also remove that one if reviewers would like. I do find the current way of calling it `addnode` (as is in master) misleading because it also returns `-connect` peers. But if having this information separately is desirable, I'm happy to remove that commit as well. I just don't want the default to be the RPC bloating over time with redundant information.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-17T19:49:52Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r471738105",
      "id" : 471738105,
      "in_reply_to_id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTczODEwNQ==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 468786447,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/471738105",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "thanks for the reviews! I've removed the \"deprecate getpeerinfo inbound\" commit & addressed all other review comments. ",
      "created_at" : "2020-08-17T19:51:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-675078635",
      "id" : 675078635,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NTA3ODYzNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-17T19:51:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/675078635",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473018587"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473018587"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure it's better to have `ConnectionTypeToString` as a method on CNode instead of a free function that simply takes a `ConnectionType`.\r\n\r\nBut if so, `ConnectionTypeAsString` might be a better name.\r\n\r\nEdit: Also, I'd prefer to move this function to the implementation file instead of the` .h`. Compact header files are better for readability, and there's imo no performance reason to have this inlinable.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T13:13:43Z",
      "diff_hunk" : "@@ -874,6 +884,26 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473018587",
      "id" : 473018587,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAxODU4Nw==",
      "original_commit_id" : "c8a5626f7d2a7721a15d1818a8a2df4f68a820df",
      "original_line" : 887,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 470442767,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473018587",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473020084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473020084"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please add `// no default case, so the compiler can warn about missing cases` comment (https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#c-data-structures)",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T13:15:39Z",
      "diff_hunk" : "@@ -874,6 +884,26 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const\n+    {\n+        switch (m_conn_type) {\n+        case ConnectionType::INBOUND:\n+            return \"inbound\";\n+        case ConnectionType::MANUAL:\n+            return \"manual\";\n+        case ConnectionType::FEELER:\n+            return \"feeler\";\n+        case ConnectionType::OUTBOUND:\n+            return \"outbound-full-relay\";\n+        case ConnectionType::BLOCK_RELAY:\n+            return \"block-relay-only\";\n+        case ConnectionType::ADDR_FETCH:\n+            return \"addr-fetch\";\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473020084",
      "id" : 473020084,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyMDA4NA==",
      "original_commit_id" : "c8a5626f7d2a7721a15d1818a8a2df4f68a820df",
      "original_line" : 902,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 470444678,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473020084",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473241366"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473241366"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah thanks. done in this PR. I've also introduced other switches without default in #19316 & #19724. I will also add this comment to the others in #19724.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T18:36:07Z",
      "diff_hunk" : "@@ -874,6 +884,26 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const\n+    {\n+        switch (m_conn_type) {\n+        case ConnectionType::INBOUND:\n+            return \"inbound\";\n+        case ConnectionType::MANUAL:\n+            return \"manual\";\n+        case ConnectionType::FEELER:\n+            return \"feeler\";\n+        case ConnectionType::OUTBOUND:\n+            return \"outbound-full-relay\";\n+        case ConnectionType::BLOCK_RELAY:\n+            return \"block-relay-only\";\n+        case ConnectionType::ADDR_FETCH:\n+            return \"addr-fetch\";\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473241366",
      "id" : 473241366,
      "in_reply_to_id" : 473020084,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI0MTM2Ng==",
      "original_commit_id" : "c8a5626f7d2a7721a15d1818a8a2df4f68a820df",
      "original_line" : 902,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 470736416,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473241366",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473251357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473251357"
         }
      },
      "author_association" : "MEMBER",
      "body" : "hm, I got a lot of review on #19316 expressing concerns around publicly exposing `m_conn_type`, which led to the current design of wrapper classes. since I need the return value in `net_processing`, I've opted to keep the function on `CNode` & updated the name to better reflect behavior, as per your suggestion. happy to reconsider if you still feel it would be better as a free function. \r\n\r\nalso moved into `net.cpp`. I'm still trying to understand when inlining is worth it. so far my heuristic has mainly been \"is this function computationally very simple\". but I hear your point of header files being readable. I'm interested in learning more if you have any other heuristics you consider / resources to share. ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T18:55:17Z",
      "diff_hunk" : "@@ -874,6 +884,26 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473251357",
      "id" : 473251357,
      "in_reply_to_id" : 473018587,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI1MTM1Nw==",
      "original_commit_id" : "c8a5626f7d2a7721a15d1818a8a2df4f68a820df",
      "original_line" : 887,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 470749231,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473251357",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "thanks for the review @laanwj. addressed all review comments ",
      "created_at" : "2020-08-19T18:56:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-676602064",
      "id" : 676602064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3NjYwMjA2NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-19T18:56:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/676602064",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473349526"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473349526"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd put this first.\r\n\r\nSide note, here and above, could add PR number? It's a quick way to get context from the release notes.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T21:40:23Z",
      "diff_hunk" : "@@ -102,6 +102,15 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `addnode` field by default. This\n+  field will be fully removed in the next major release.  It can be accessed\n+  with the configuration option `-deprecatedrpc=getpeerinfo_addnode`. However,\n+  it is recommended to instead use the `connection_type` field.\n+\n+- The `getpeerinfo` RPC now returns a `connection_type` field. This indicates",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473349526",
      "id" : 473349526,
      "line" : 105,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM0OTUyNg==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 105,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 4,
      "pull_request_review_id" : 470984600,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473349526",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473357337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473357337"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could say that connection_type=manual when addnode=true.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T21:49:42Z",
      "diff_hunk" : "@@ -102,6 +102,15 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `addnode` field by default. This\n+  field will be fully removed in the next major release.  It can be accessed\n+  with the configuration option `-deprecatedrpc=getpeerinfo_addnode`. However,\n+  it is recommended to instead use the `connection_type` field.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473357337",
      "id" : 473357337,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM1NzMzNw==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 108,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 470984600,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473357337",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473361238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473361238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why string? What's the problem of `ConnectionType m_connection_type` and a `std::string ConnectionTypeToString(ConnectionType)` function? Couldn't find past discussion after a quick look.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T21:54:23Z",
      "diff_hunk" : "@@ -644,6 +653,7 @@ class CNodeStats\n     // Bind address of our side of the connection\n     CAddress addrBind;\n     uint32_t m_mapped_as;\n+    std::string m_connection_type;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473361238",
      "id" : 473361238,
      "line" : 656,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM2MTIzOA==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 656,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 20,
      "pull_request_review_id" : 470984600,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473361238",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473398457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473398457"
         }
      },
      "author_association" : "MEMBER",
      "body" : "do I understand your suggestion correctly: update `CNodeStats.m_connection_type` to the raw `ConnectionType`, then in `getpeerinfo` implementation, pass through a function `ConnectionTypeToString(m_connection_type)`? \r\n\r\nit's possible, what's the advantage? \r\n\r\nthe main downside I'm seeing is I'm trying to keep `m_connection_type` private, and need to access it from `net_processing` for the log commit. so having `ConnectionTypeAsString` just return the `std::string` is more convenient.\r\n\r\nopen to suggestions ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T22:42:50Z",
      "diff_hunk" : "@@ -644,6 +653,7 @@ class CNodeStats\n     // Bind address of our side of the connection\n     CAddress addrBind;\n     uint32_t m_mapped_as;\n+    std::string m_connection_type;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473398457",
      "id" : 473398457,
      "in_reply_to_id" : 473361238,
      "line" : 656,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM5ODQ1Nw==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 656,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 20,
      "pull_request_review_id" : 471013601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473398457",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473400568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473400568"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah thanks, forgot to update after actually opening the PR ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T22:45:30Z",
      "diff_hunk" : "@@ -102,6 +102,15 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `addnode` field by default. This\n+  field will be fully removed in the next major release.  It can be accessed\n+  with the configuration option `-deprecatedrpc=getpeerinfo_addnode`. However,\n+  it is recommended to instead use the `connection_type` field.\n+\n+- The `getpeerinfo` RPC now returns a `connection_type` field. This indicates",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473400568",
      "id" : 473400568,
      "in_reply_to_id" : 473349526,
      "line" : 105,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwMDU2OA==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 105,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 4,
      "pull_request_review_id" : 471014721,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473400568",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473405298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473405298"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T22:51:45Z",
      "diff_hunk" : "@@ -102,6 +102,15 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `addnode` field by default. This\n+  field will be fully removed in the next major release.  It can be accessed\n+  with the configuration option `-deprecatedrpc=getpeerinfo_addnode`. However,\n+  it is recommended to instead use the `connection_type` field.\n+\n+- The `getpeerinfo` RPC now returns a `connection_type` field. This indicates",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473405298",
      "id" : 473405298,
      "in_reply_to_id" : 473349526,
      "line" : 105,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNTI5OA==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 105,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : 4,
      "pull_request_review_id" : 471017171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473405298",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473405410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473405410"
         }
      },
      "author_association" : "MEMBER",
      "body" : "done ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-19T22:51:54Z",
      "diff_hunk" : "@@ -102,6 +102,15 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `addnode` field by default. This\n+  field will be fully removed in the next major release.  It can be accessed\n+  with the configuration option `-deprecatedrpc=getpeerinfo_addnode`. However,\n+  it is recommended to instead use the `connection_type` field.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473405410",
      "id" : 473405410,
      "in_reply_to_id" : 473357337,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQwNTQxMA==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 108,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 471017230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-19T22:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473405410",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473830352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473830352"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it possible to add an assert that the size of this vector is the same as the size of ConnectionType, so it's not possible to update one without the other?",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-20T09:50:39Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r473830352",
      "id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzgzMDM1Mg==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 471436684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-20T09:55:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/473830352",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19776 (net, rpc: expose high bandwidth mode state via getpeerinfo by theStack)\n* #19724 ([net] Cleanup connection types- followups by amitiuttarwar)\n* #19476 (rpc: Add mempoolchanges by promag)\n* #17167 (Allow whitelisting outgoing connections by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-08-20T20:22:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-677884187",
      "id" : 677884187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3Nzg4NDE4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-21T16:40:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/677884187",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474365890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474365890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I like the idea, but it looks like there's no straightforward way to get the length of the enum? :( ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-21T02:00:15Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474365890",
      "id" : 474365890,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM2NTg5MA==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 472095066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-21T02:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474365890",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474384712"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384712"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe you can't in general.\n\nBut you can add a \"MAX\" element to the enum, which is the length.\n\nIf you make the list an std::array instead of std::vector, you can make it a static_assert with that even.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-21T03:13:22Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474384712",
      "id" : 474384712,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM4NDcxMg==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 472118393,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-21T03:13:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474384712",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474391634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474391634"
         }
      },
      "author_association" : "MEMBER",
      "body" : "added c99b26010eaf4d446eb5118e38dbcc03fabba11c in #19724 ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-21T03:43:47Z",
      "diff_hunk" : "@@ -874,6 +884,26 @@ class CNode\n         assert(false);\n     }\n \n+    std::string ConnectionTypeToString() const\n+    {\n+        switch (m_conn_type) {\n+        case ConnectionType::INBOUND:\n+            return \"inbound\";\n+        case ConnectionType::MANUAL:\n+            return \"manual\";\n+        case ConnectionType::FEELER:\n+            return \"feeler\";\n+        case ConnectionType::OUTBOUND:\n+            return \"outbound-full-relay\";\n+        case ConnectionType::BLOCK_RELAY:\n+            return \"block-relay-only\";\n+        case ConnectionType::ADDR_FETCH:\n+            return \"addr-fetch\";\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474391634",
      "id" : 474391634,
      "in_reply_to_id" : 473020084,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM5MTYzNA==",
      "original_commit_id" : "c8a5626f7d2a7721a15d1818a8a2df4f68a820df",
      "original_line" : 902,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 472125872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-21T03:43:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474391634",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474615942"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474615942"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@sipa what would you static assert on? When you declare the std_array type, you need to specify the length of the array, and the array is always going to be that size. eg this compiles:\r\n\r\n```\r\nenum class en {\r\n    thing1,\r\n    thing2,\r\n    thing3,  // added a new thing\r\n    MAX,\r\n};\r\n\r\nint main()\r\n{\r\n    std::array<std::string, (int)en::MAX> a {\"thing1 description\", \"thing2 description\"}; // oops, didn't add a thing3 description. a[2] is default initialized to empty string\r\n    static_assert(a.size() == (int)en::MAX); // always passes\r\n    for (const auto& x : a) {\r\n        std::cout << x << std::endl;\r\n    }\r\n}\r\n```\r\n\r\nWould you replace the value in the static_assert with a hard-coded value?",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-21T10:33:02Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r474615942",
      "id" : 474615942,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYxNTk0Mg==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 472384134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-21T10:33:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/474615942",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475038829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475038829"
         }
      },
      "author_association" : "MEMBER",
      "body" : "or maybe hardcode the length of the array? ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-22T03:12:24Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475038829",
      "id" : 475038829,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTAzODgyOQ==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 472892783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-22T03:12:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475038829",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475041442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475041442"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jnewbery Right, of course! I wasn't considering that you could use MAX directly as array size. That's obviously better.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-22T03:45:05Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475041442",
      "id" : 475041442,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA0MTQ0Mg==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 472894462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-22T03:45:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475041442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK f7f3ef4f099d1f44b25c255baa0d25de448f3bdf (code review, light manual testing on a busy node)",
      "created_at" : "2020-08-24T13:17:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-679120318",
      "id" : 679120318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTEyMDMxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T17:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679120318",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It may be prudent to not aggressively deprecate the addnode field in the same release as the conn_type field addition, as this provides no transition period; users will need to change code or config to avoid breakage.\n\n> Doing so also makes two of the existing fields (inbound & addnode booleans) redundant, so this PR begins deprecating those fields as well.\n\nInbound isn't being deprecated IIUC. Mind updating the PR description?\n",
      "created_at" : "2020-08-24T13:34:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-679129374",
      "id" : 679129374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTEyOTM3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T13:34:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679129374",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475620465"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475620465"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> makes two of the existing fields (inbound & addnode booleans) redundant\r\n\r\n> sounds good! I removed the \"deprecate inbound\" commit. I currently have left in the \"deprecate getpeerinfo addnode\" commit, but can also remove that one if reviewers would like. I do find the current way of calling it `addnode` (as is in master) misleading because it also returns `-connect` peers. But if having this information separately is desirable, I'm happy to remove that commit as well.\r\n\r\nIf `addnode` has different behavior, which users may depend on, is it redundant?\r\n\r\n(Edit: I apologize if I seem keen on addnode; I use both the rpc/cli/config option and the getpeerinfo field frequently)",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-24T13:49:35Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475620465",
      "id" : 475620465,
      "in_reply_to_id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTYyMDQ2NQ==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 473507811,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-24T13:53:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475620465",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475807892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475807892"
         }
      },
      "author_association" : "MEMBER",
      "body" : "it's not different behavior. its the same. \r\n\r\n`getpeerinfo` field `addnode` returns a bool that indicates if the connection was manually added, either via `addnode` RPC or `-connect` command line argument. \r\n\r\nwith this PR, `getpeerinfo` field `connection_type` will return `manual` for these connections.\r\n\r\nI'm saying that # 2 is more clear and accurate. I think your confusion around possible difference of behavior supports my point that it is unclear :) ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-24T18:19:15Z",
      "diff_hunk" : "@@ -102,6 +102,22 @@ will trigger BIP 125 (replace-by-fee) opt-in. (#11413)\n   option `-deprecatedrpc=banscore` is used. The `banscore` field will be fully\n   removed in the next major release. (#19469)\n \n+- The `getpeerinfo` RPC no longer returns the `inbound` or `addnode` fields by",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475807892",
      "id" : 475807892,
      "in_reply_to_id" : 470949512,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgwNzg5Mg==",
      "original_commit_id" : "26baed40876577ef6bc07cc4a301197951a95fe3",
      "original_line" : 105,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 473748117,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-24T18:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475807892",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475812568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475812568"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm unclear on what's being recommended here. \r\n\r\nShould I update to make `CONNECTION_TYPE_DOC` an array, allocate size based on `MAX` from enum, then hardcode the `MAX` value into the static assert to compare it to the size of array? ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-24T18:27:56Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475812568",
      "id" : 475812568,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgxMjU2OA==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 473754035,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-24T18:27:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475812568",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonatack \r\n\r\n> Inbound isn't being deprecated IIUC. Mind updating the PR description?\r\n\r\ndone, thanks!\r\n\r\n> It may be prudent to not aggressively deprecate the addnode field in the same release as the conn_type field addition, as this provides no transition period; users will need to change code or config to avoid breakage.\r\n\r\nI don't quite follow your logic. In this patch, users can support the old behavior with the configuration option `-deprecatedrpc=getpeerinfo_addnode`, as with any other time we deprecate a field. What is the difference between doing it in this version versus a future version? \r\n\r\nFor the case of the `inbound` field, reviewers made a case that having the isolated boolean of connection direction is useful, so I removed the deprecation commit and left the field. I'm open to leaving the `addnode` field if there is a good reason. I believe it makes sense to remove because `getpeerinfo` is already huge, and I don't want to bloat it with redundant information unless we have a specific reason to do so. ",
      "created_at" : "2020-08-24T18:36:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-679295920",
      "id" : 679295920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTI5NTkyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T18:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679295920",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475818284"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475818284"
         }
      },
      "author_association" : "MEMBER",
      "body" : "resolving this convo for now, feel free to reopen/comment if you'd like me consider an alternative approach :) ",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-24T18:38:54Z",
      "diff_hunk" : "@@ -644,6 +653,7 @@ class CNodeStats\n     // Bind address of our side of the connection\n     CAddress addrBind;\n     uint32_t m_mapped_as;\n+    std::string m_connection_type;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475818284",
      "id" : 475818284,
      "in_reply_to_id" : 473361238,
      "line" : 656,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgxODI4NA==",
      "original_commit_id" : "49a537170ff24d2bfc279a3fef2490ea94bb2712",
      "original_line" : 656,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 20,
      "pull_request_review_id" : 473761357,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-24T18:39:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475818284",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What is the difference between doing it in this version versus a future version?\r\n\r\nThere is a slight difference in how urgent a user will need to update scripts. If there is one more version in-between the user can even upgrade without any `-deprecatedrpc` hassle.\r\n\r\n* release n: New feature added (user can upgrade Bitcoin core without using the new feature, see if there are any issues, if no issues after a month, they can start using the new feature)\r\n* release n+1: Old feature deprecated (user unaffected. If this was in release n, they'd either have to supply `-deprecatedrpc` or upgrade their script to use the new feature right away.)\r\n\r\nNo strong opinion, just mentioning that there is a slight difference.",
      "created_at" : "2020-08-24T19:29:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-679321400",
      "id" : 679321400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTMyMTQwMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T19:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679321400",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475851670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475851670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Just in theory it would be possible to get the number of enum values via the preprocessor:\r\n\r\n\r\n```cpp\r\ncat src/util/enum_class.h \r\n// Copyright (c) 2020 The Bitcoin Core developers\r\n// Distributed under the MIT software license, see the accompanying\r\n// file COPYING or http://www.opensource.org/licenses/mit-license.php.\r\n\r\n#ifndef BITCOIN_UTIL_ENUM_CLASS_H\r\n#define BITCOIN_UTIL_ENUM_CLASS_H\r\n\r\n#include <boost/preprocessor/variadic/size.hpp>\r\n\r\n#define ENUM_CLASS(name, ...)        \\\r\n    enum class name { __VA_ARGS__ }; \\\r\n    constexpr size_t name##_##SIZE { BOOST_PP_VARIADIC_SIZE(__VA_ARGS__) }\r\n\r\n#endif // BITCOIN_UTIL_ENUM_CLASS_H\r\n```\r\n\r\nThis could be used to write\r\n\r\n```cpp\r\nstatic_assert(CONNECTION_TYPE_DOC.size() == ConnectionType_SIZE, \"inconsistent docs\");\r\n```\r\n\r\nProbably not worth the effort. Just saying that it is possible.",
      "commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "created_at" : "2020-08-24T19:43:28Z",
      "diff_hunk" : "@@ -114,6 +114,15 @@ struct CSerializedNetMsg\n     std::string m_type;\n };\n \n+const std::vector<std::string> CONNECTION_TYPE_DOC{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#discussion_r475851670",
      "id" : 475851670,
      "in_reply_to_id" : 473830352,
      "line" : 117,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg1MTY3MA==",
      "original_commit_id" : "f7f3ef4f099d1f44b25c255baa0d25de448f3bdf",
      "original_line" : 117,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 473803383,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19725",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-24T19:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/475851670",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "okay fair, I hear the point about having a longer window of time during which to upgrade. that said, the minimum effort required to upgrade would still be the same. \r\n\r\nhaving a longer transition time makes sense for more complex features, but this is an extremely simple case and there's not much that would benefit from being manually tested. we can hardly even call it a new feature: \r\n**existing master:** `getpeerinfo#addnode` returns a boolean based on `stats.m_manual_connection` which checks `m_conn_type == ConnectionType::MANUAL`\r\n**proposed patch:** `getpeerinfo#connection_type` returns `manual` if `m_conn_type` is `ConectionType::MANUAL` based on a switch statement.\r\n\r\nI still don't understand what advantages a user would gain from having a ~6 month window to make this switch. on the flip side I see a downside of the maintenance burden of the code. We would either have to add a TODO in the code or remember to update in next version. based on these factors, I believe we should either remove the `getpeerinfo#addnode` field with this PR unless we have a reason & want to leave it in for the long run (as with the `inbound` field). ",
      "created_at" : "2020-08-24T20:17:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19725#issuecomment-679343513",
      "id" : 679343513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19725",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY3OTM0MzUxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-08-24T20:17:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/679343513",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   }
]
