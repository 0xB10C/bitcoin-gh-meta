[
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK, this would indeed be useful.",
      "created_at" : "2018-05-02T13:04:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-385970579",
      "id" : 385970579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T13:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385970579",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185489034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185489034"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit, space after `for`.",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-02T13:08:29Z",
      "diff_hunk" : "@@ -624,6 +624,58 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getaddress ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"\n+            \"    \\\"servicesHex\\\": \\\"xxxxxxxxxxxxxxxx\\\",  (string) The hex string of services offered\\n\"\n+            \"    \\\"addr\\\": \\\"host\\\",                     (string) The IP address of the peer\\n\"\n+            \"    \\\"port\\\": n                           (numeric) The port of the peer\\n\"\n+            \"  }\\n\"\n+            \"  ,....\\n\"\n+            \"]\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"getaddress\", \"8\")\n+            + HelpExampleRpc(\"getaddress\", \"8\")\n+        );\n+    }\n+    if (!g_connman) {\n+        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    }\n+\n+    int count = 1;\n+    if (!request.params[0].isNull()) {\n+        count = request.params[0].get_int();\n+    }\n+\n+    // returns a shuffled list of CAddress\n+    std::vector<CAddress> vAddr = g_connman->GetAddresses();\n+    UniValue ret(UniValue::VARR);\n+\n+    int address_return_count = std::min(count, (int)vAddr.size());\n+    for(int i = 0; i < address_return_count; ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185489034",
      "id" : 185489034,
      "original_commit_id" : "a5e0fc8eafcffa8b77e80e88ec9bd02f0c77900c",
      "original_position" : 42,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 116887034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185489034",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185489689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185489689"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not return all?",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-02T13:10:50Z",
      "diff_hunk" : "@@ -624,6 +624,58 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getaddress ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185489689",
      "id" : 185489689,
      "original_commit_id" : "a5e0fc8eafcffa8b77e80e88ec9bd02f0c77900c",
      "original_position" : 11,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 116887034,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185489689",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Please advise me on the best approach for writing an automated test\r\n\r\nAt least it can test arguments (valid and invalid) and result format and fields (their presence and types).",
      "created_at" : "2018-05-02T13:14:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-385973503",
      "id" : 385973503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T13:14:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385973503",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I think this call should be called differently. `getaddress` is too easy to confuse with a bitcoin address (e.g. `getnewaddress`). Maybe `getnodeaddresses`?\r\n\r\n> Why not extend getpeerinfo?\r\n\r\nYou misunderstand what this does. It doesn't return currently conneced nodes, but potentially connectable addresses.\r\n",
      "created_at" : "2018-05-02T13:23:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-385975827",
      "id" : 385975827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T13:23:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385975827",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Renamed to `getnodeaddresses` and fixed nits.\r\n\r\nLooks like something went wrong with the rebase and now other people's commits are involved too. Does anyone know how I can fix this. (edit: fixed)\r\n\r\n> At least it can test arguments (valid and invalid) and result format and fields (their presence and types).\r\n\r\nI think in the test suite the node won't know about any other addresses, so this RPC will return an empty json object, so it can't be tested. What would be the best way around this? Maybe to populate the `vAddr` somehow.",
      "created_at" : "2018-05-02T14:16:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-385993137",
      "id" : 385993137,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T15:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385993137",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Fixed git weirdness (thanks to viasil).\r\n",
      "created_at" : "2018-05-02T15:32:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386020149",
      "id" : 386020149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T15:35:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386020149",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185540844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185540844"
         }
      },
      "author_association" : "NONE",
      "body" : "Returning all would typically result in a massive json array with thousands of entries, about 2500 or so depending. Normally applications only need to connect to a few nodes, they don't need anywhere near that many.",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-02T15:35:37Z",
      "diff_hunk" : "@@ -624,6 +624,58 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getaddress(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getaddress ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185540844",
      "id" : 185540844,
      "in_reply_to_id" : 185489689,
      "original_commit_id" : "a5e0fc8eafcffa8b77e80e88ec9bd02f0c77900c",
      "original_position" : 11,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 116950728,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185540844",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please rename PR.",
      "created_at" : "2018-05-02T16:02:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386030266",
      "id" : 386030266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T16:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386030266",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Does getnodeaddresses command return a list of reachable nodes in the network known by a node? like the result of getaddr message? is getaddress/getnodeaddresses RPC command currently available in v0.16.0rc4?\r\n",
      "created_at" : "2018-05-02T20:32:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386111315",
      "id" : 386111315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T20:39:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386111315",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/38924981?v=4",
         "events_url" : "https://api.github.com/users/MasterGrad17/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MasterGrad17/followers",
         "following_url" : "https://api.github.com/users/MasterGrad17/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MasterGrad17/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MasterGrad17",
         "id" : 38924981,
         "login" : "MasterGrad17",
         "organizations_url" : "https://api.github.com/users/MasterGrad17/orgs",
         "received_events_url" : "https://api.github.com/users/MasterGrad17/received_events",
         "repos_url" : "https://api.github.com/users/MasterGrad17/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MasterGrad17/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MasterGrad17/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MasterGrad17"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MasterGrad17 Yes the result is very similar as from the p2p getaddr method. The addresses come from gossiping between nodes, so the IP address _may_ be reachable but that isn't guaranteed.",
      "created_at" : "2018-05-02T20:37:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386112718",
      "id" : 386112718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T20:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386112718",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@MasterGrad17 You're commenting on the request to get it merged into Bitcoin Core, so obviously no.",
      "created_at" : "2018-05-02T21:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386127499",
      "id" : 386127499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-02T21:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386127499",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185708979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185708979"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: could also be a tor address",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T06:58:03Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"\n+            \"    \\\"servicesHex\\\": \\\"xxxxxxxxxxxxxxxx\\\",  (string) The hex string of services offered\\n\"\n+            \"    \\\"addr\\\": \\\"host\\\",                     (string) The IP address of the peer\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185708979",
      "id" : 185708979,
      "original_commit_id" : "c83ccf76b0df2aceedddc23c8e081e877e5a878d",
      "original_position" : 18,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117151380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185708979",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185709516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185709516"
         }
      },
      "author_association" : "MEMBER",
      "body" : "would be handy to have a string representation here. Like (`\"NODE_NETWORK | NODE_NETWORK_LIMITED |ÃÂ NODE_BLOOM\"`, etc.). But can be done later.",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T07:01:30Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"\n+            \"    \\\"servicesHex\\\": \\\"xxxxxxxxxxxxxxxx\\\",  (string) The hex string of services offered\\n\"\n+            \"    \\\"addr\\\": \\\"host\\\",                     (string) The IP address of the peer\\n\"\n+            \"    \\\"port\\\": n                           (numeric) The port of the peer\\n\"\n+            \"  }\\n\"\n+            \"  ,....\\n\"\n+            \"]\\n\"\n+            \"\\nExamples:\\n\"\n+            + HelpExampleCli(\"getnodeaddresses\", \"8\")\n+            + HelpExampleRpc(\"getnodeaddresses\", \"8\")\n+        );\n+    }\n+    if (!g_connman) {\n+        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    }\n+\n+    int count = 1;\n+    if (!request.params[0].isNull()) {\n+        count = request.params[0].get_int();\n+    }\n+\n+    // returns a shuffled list of CAddress\n+    std::vector<CAddress> vAddr = g_connman->GetAddresses();\n+    UniValue ret(UniValue::VARR);\n+\n+    int address_return_count = std::min(count, (int)vAddr.size());\n+    for (int i = 0; i < address_return_count; ++i) {\n+        UniValue obj(UniValue::VOBJ);\n+        CAddress addr = vAddr[i];\n+        obj.pushKV(\"time\", (int)addr.nTime);\n+        obj.pushKV(\"services\", addr.nServices);\n+        obj.pushKV(\"servicesHex\", strprintf(\"%016x\", addr.nServices));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185709516",
      "id" : 185709516,
      "original_commit_id" : "c83ccf76b0df2aceedddc23c8e081e877e5a878d",
      "original_position" : 47,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117151965,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185709516",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@jonasschnelli `listpeeraddresses` sounds like it's somehow exhaustive, or at least a complete specific subset of addresses. It's just giving a bunch of random ones; `getpeeraddresses` sounds clearer to me. Am i missing something?",
      "created_at" : "2018-05-03T07:09:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386208397",
      "id" : 386208397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-03T07:09:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386208397",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> listpeeraddresses sounds like it's somehow exhaustive, or at least a complete specific subset of addresses. It's just giving a bunch of random ones; getpeeraddresses sounds clearer to me. Am I missing something?\r\n\r\nGood point.",
      "created_at" : "2018-05-03T07:16:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386209598",
      "id" : 386209598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-03T07:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386209598",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "`peer` implies it returns addresses of peers you're actually connected to. Like how `getpeerinfo` gives information only about connected peers. How about `getpossiblepeeraddresses`? It's a bit of a mouthful admittedly. Other options could be `getgossipedpeeraddresses` or `getpotentialpeeraddresses`.",
      "created_at" : "2018-05-03T09:20:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386236963",
      "id" : 386236963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-03T09:20:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386236963",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Yes, I intentionally avoided 'peer' in my suggested name for that reason, as it's easy to confuse and a lot of people confused it already. Also let's stop asking the guy to rename his RPC call :)\r\nI think `getnodeaddresses` is fine, just make sure that the documentation explains the functionality.",
      "created_at" : "2018-05-03T09:50:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386243960",
      "id" : 386243960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-03T09:51:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386243960",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Fixed nit",
      "created_at" : "2018-05-03T13:03:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-386288017",
      "id" : 386288017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-03T13:03:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386288017",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185885253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185885253"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should document that the maximum number of nodes to return is:\r\n- 2500 (due to `ADDRMAN_GETADDR_MAX` in `CAddrMan::GetAddr_()`); or\r\n- 23% of all known nodes.\r\n(whichever is smaller)",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T17:50:32Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185885253",
      "id" : 185885253,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 11,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117365749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185885253",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185886489"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185886489"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What does 'address timestamp' mean here?",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T17:54:38Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185886489",
      "id" : 185886489,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 15,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117365749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185886489",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185887440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185887440"
         }
      },
      "author_association" : "MEMBER",
      "body" : "return fields should be named in camel_case",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T17:57:44Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"\n+            \"    \\\"servicesHex\\\": \\\"xxxxxxxxxxxxxxxx\\\",  (string) The hex string of services offered\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185887440",
      "id" : 185887440,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 17,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117365749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185887440",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185887516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185887516"
         }
      },
      "author_association" : "MEMBER",
      "body" : "prefer to name this `address`. No need to save characters!",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T17:58:00Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"\n+            \"    \\\"servicesHex\\\": \\\"xxxxxxxxxxxxxxxx\\\",  (string) The hex string of services offered\\n\"\n+            \"    \\\"addr\\\": \\\"host\\\",                     (string) The address of the peer\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185887516",
      "id" : 185887516,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 18,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117365749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185887516",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185901257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185901257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think this is useful. Services is a bitfield. Displaying it as an int doesn't give any useful information to the user. Just display the hex version.",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-03T18:46:29Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r185901257",
      "id" : 185901257,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 16,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117365749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185901257",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r186398872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186398872"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Depends on what 'the user' is. Programmatic RPC users will want the int, not have to do an additional step of parsing a hex string (though I don't care deeply in this case, just be mindful that manual command-line users are not the only clients of the RPC interface).",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-07T11:43:36Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r186398872",
      "id" : 186398872,
      "in_reply_to_id" : 185901257,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 16,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117967330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186398872",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r186414329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186414329"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> be mindful that manual command-line users are not the only clients of the RPC interface\r\n\r\nYes good point. In general though, I think we should avoid RPCs returning the same data in multiple formats.",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-07T12:56:03Z",
      "diff_hunk" : "@@ -624,6 +624,57 @@ UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)\n+{\n+    if (request.fHelp || request.params.size() > 1) {\n+        throw std::runtime_error(\n+            \"getnodeaddresses ( count )\\n\"\n+            \"\\nReturn known addresses which can potentially be used to find new nodes in the network\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"count\\\"    (numeric, optional) How many addresses to return, if available (default = 1)\\n\"\n+            \"\\nResult:\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"time\\\": ttt,                        (numeric) Address timestamp in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"    \\\"services\\\": n,                      (numeric) The services offered\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r186414329",
      "id" : 186414329,
      "in_reply_to_id" : 185901257,
      "original_commit_id" : "9e6cac24db67617df56c564408e9f57f06cc6c2d",
      "original_position" : 16,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 117985838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/186414329",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Fixed nits and created a test in `rpc_net.py`.",
      "created_at" : "2018-05-21T16:27:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-390706895",
      "id" : 390706895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-21T16:27:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390706895",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189650820"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189650820"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: should be `static`",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:01:08Z",
      "diff_hunk" : "@@ -624,6 +624,55 @@ static UniValue setnetworkactive(const JSONRPCRequest& request)\n     return g_connman->GetNetworkActive();\n }\n \n+UniValue getnodeaddresses(const JSONRPCRequest& request)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189650820",
      "id" : 189650820,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 4,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 121871442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189650820",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189654039"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189654039"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: sort imports (in PEP-8 ordering)",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:13:36Z",
      "diff_hunk" : "@@ -16,6 +17,8 @@\n     p2p_port,\n     wait_until,\n )\n+from test_framework.mininode import P2PInterface, network_thread_start",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189654039",
      "id" : 189654039,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 12,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121871442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189654039",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189657575"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189657575"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be `nServices`",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:27:27Z",
      "diff_hunk" : "@@ -96,5 +100,29 @@ def _test_getpeerinfo(self):\n         assert_equal(peer_info[0][0]['addrbind'], peer_info[1][0]['addr'])\n         assert_equal(peer_info[1][0]['addrbind'], peer_info[0][0]['addr'])\n \n+    def _test_getnodeaddresses(self):\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        network_thread_start()\n+        self.nodes[0].p2p.wait_for_verack()\n+\n+        # send some addresses to the node via the p2p message addr\n+        imported_addrs = set([\"123.123.\" + str(i//255) + \".\" + str(i%255) for i in range(1000)])\n+        now = int(time.time())\n+        msg = msg_addr()\n+        for a in imported_addrs:\n+            addr = CAddress()\n+            addr.time = now\n+            addr.services = NODE_NETWORK | NODE_WITNESS",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189657575",
      "id" : 189657575,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 41,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121871442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189657575",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189658422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189658422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: move this into the range loop below and use string formatters rather than concatenation:\r\n\r\n```python\r\n        # send some addresses to the node via the p2p message addr\r\n        now = int(time.time())\r\n        msg = msg_addr()\r\n        imported_addrs = []\r\n        for i in range(1000):\r\n            a = \"123.123.{}.{}\".format(i // 255, i % 256)\r\n            imported_addrs.append(a)\r\n            addr = CAddress()\r\n            ...\r\n```",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:30:49Z",
      "diff_hunk" : "@@ -96,5 +100,29 @@ def _test_getpeerinfo(self):\n         assert_equal(peer_info[0][0]['addrbind'], peer_info[1][0]['addr'])\n         assert_equal(peer_info[1][0]['addrbind'], peer_info[0][0]['addr'])\n \n+    def _test_getnodeaddresses(self):\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        network_thread_start()\n+        self.nodes[0].p2p.wait_for_verack()\n+\n+        # send some addresses to the node via the p2p message addr\n+        imported_addrs = set([\"123.123.\" + str(i//255) + \".\" + str(i%255) for i in range(1000)])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189658422",
      "id" : 189658422,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 35,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121871442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189658422",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189658929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189658929"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: drop the set comparisons, loop over the return items and test all fields, eg:\r\n\r\n```python\r\n        for a in node_addresses:\r\n            assert a[\"address\"] in imported_addrs\r\n            assert_equal(a[\"services\"], NODE_NETWORK | NODE_WITNESS)\r\n            assert_equal(a[\"time\"], now)\r\n            assert_equal(a[\"port\"], 8333)\r\n```",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:32:50Z",
      "diff_hunk" : "@@ -96,5 +100,29 @@ def _test_getpeerinfo(self):\n         assert_equal(peer_info[0][0]['addrbind'], peer_info[1][0]['addr'])\n         assert_equal(peer_info[1][0]['addrbind'], peer_info[0][0]['addr'])\n \n+    def _test_getnodeaddresses(self):\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        network_thread_start()\n+        self.nodes[0].p2p.wait_for_verack()\n+\n+        # send some addresses to the node via the p2p message addr\n+        imported_addrs = set([\"123.123.\" + str(i//255) + \".\" + str(i%255) for i in range(1000)])\n+        now = int(time.time())\n+        msg = msg_addr()\n+        for a in imported_addrs:\n+            addr = CAddress()\n+            addr.time = now\n+            addr.services = NODE_NETWORK | NODE_WITNESS\n+            addr.ip = a\n+            addr.port = 8333\n+            msg.addrs.append(addr)\n+        self.nodes[0].p2p.send_and_ping(msg)\n+\n+        # obtain addresses via rpc call and check they are a subset\n+        NODE_ADDRESSES_REQUEST_COUNT = 10\n+        node_addresses = self.nodes[0].getnodeaddresses(NODE_ADDRESSES_REQUEST_COUNT)\n+        assert len(node_addresses) == NODE_ADDRESSES_REQUEST_COUNT\n+        assert set([addr[\"address\"] for addr in node_addresses]).issubset(imported_addrs)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189658929",
      "id" : 189658929,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 51,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121871442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189658929",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189661118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189661118"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: You're only using `time` to set the time field in the ADDR message. As long as the `CAddress`'s time is greater than             100000000, it'll be accepted. You can avoid this import by just setting time to `100000000 + i` or similar",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T17:41:20Z",
      "diff_hunk" : "@@ -6,6 +6,7 @@\n \n Tests correspond to code in rpc/net.cpp.\n \"\"\"\n+import time",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189661118",
      "id" : 189661118,
      "original_commit_id" : "dd7e1e6f19e9873fce1ff74525ac30753cf502f3",
      "original_position" : 4,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121883993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189661118",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Fixed nits, thanks for reviewing @jnewbery.\r\n\r\nbitcoind modifies the timestamp so it's complicated to check whether the time was equal. That's not the point of the RPC or the test anyway so the test only checks whether the \"time\" field exists.",
      "created_at" : "2018-05-21T19:25:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-390756258",
      "id" : 390756258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-21T19:25:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390756258",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/8398185?v=4",
         "events_url" : "https://api.github.com/users/chris-belcher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chris-belcher/followers",
         "following_url" : "https://api.github.com/users/chris-belcher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chris-belcher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chris-belcher",
         "id" : 8398185,
         "login" : "chris-belcher",
         "organizations_url" : "https://api.github.com/users/chris-belcher/orgs",
         "received_events_url" : "https://api.github.com/users/chris-belcher/received_events",
         "repos_url" : "https://api.github.com/users/chris-belcher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chris-belcher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chris-belcher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chris-belcher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189710592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189710592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note that you'll only ever be able to get a maximum of 64 entries into the new addresses buckets by doing this. All of these addresses are in the same /16 address range, which means that addrman will place them into the same new bucket, and start evicting addresses once there are 64 entries (see the comment in addrman.h).\r\n\r\nYou may wish to simplify this to just send 256 addresses:\r\n\r\n```python\r\n        for i in range(256):\r\n            a = \"123.123.123.{}\".format(i)\r\n```",
      "commit_id" : "f10e38063048294afc6bd45c3a51687cdbdd96a3",
      "created_at" : "2018-05-21T20:53:01Z",
      "diff_hunk" : "@@ -96,5 +98,35 @@ def _test_getpeerinfo(self):\n         assert_equal(peer_info[0][0]['addrbind'], peer_info[1][0]['addr'])\n         assert_equal(peer_info[1][0]['addrbind'], peer_info[0][0]['addr'])\n \n+    def _test_getnodeaddresses(self):\n+        self.nodes[0].add_p2p_connection(P2PInterface())\n+        network_thread_start()\n+        self.nodes[0].p2p.wait_for_verack()\n+\n+        # send some addresses to the node via the p2p message addr\n+        msg = msg_addr()\n+        imported_addrs = []\n+        for i in range(1000):\n+            a = \"123.123.{}.{}\".format(i // 255, i % 256)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#discussion_r189710592",
      "id" : 189710592,
      "original_commit_id" : "21f7a190870240b0e1b74c5c1ae9e3b7dd58b82d",
      "original_position" : 38,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 121943454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13152",
      "updated_at" : "2018-05-21T21:37:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189710592",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli - can you remove your 'changes requested' status?",
      "created_at" : "2018-05-21T21:06:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13152#issuecomment-390782744",
      "id" : 390782744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13152",
      "updated_at" : "2018-05-21T21:06:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390782744",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
