[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~If the wallet folder name contains Chinese, it will create a new folder that has same wallet file with a weird name on Windows, maybe the encoding issue~~ (Not related)\r\n\r\nAlso, the seperator is incorrect on Windows\r\n![image](https://user-images.githubusercontent.com/11154118/39339224-243a5762-49fa-11e8-8ba5-183cff638d4d.png)",
      "created_at" : "2018-04-27T01:33:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384836977",
      "id" : 384836977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-30T13:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384836977",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ken2812221 does the problem exists if you use the RPC command?",
      "created_at" : "2018-04-27T08:36:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384904672",
      "id" : 384904672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-27T08:36:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384904672",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~It shows wallet not found on RPC.~~ (Not related)\r\n\r\n",
      "created_at" : "2018-04-27T08:49:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384907883",
      "id" : 384907883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-30T13:15:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384907883",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ken2812221 but it does exists right? What if you launch the application with `-wallet=d:\\...`?",
      "created_at" : "2018-04-27T08:55:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384909246",
      "id" : 384909246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-27T08:55:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384909246",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`-wallet=d:\\Ã©ÂÂ¢Ã¥ÂÂ` does works, but the name displayed in Qt is incorrect\r\n![image](https://user-images.githubusercontent.com/11154118/39354932-60a17f3e-4a3e-11e8-8a5b-029d5caeaeec.png)\r\n\r\nAnd it crash when I quit Qt\r\n\r\nChecked that this isn't an issue on Linux.",
      "created_at" : "2018-04-27T09:14:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384913996",
      "id" : 384913996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-27T09:33:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384913996",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe windows or boost is using big5 encoding. which ends in a right square bracket `]`\r\n\r\n```python\r\n>>> 'Ã©ÂÂ¢Ã¥ÂÂ'.encode('big5')\r\nb'\\xbf\\xfa\\xa5]'\r\n>>> 'Ã©ÂÂ¢Ã¥ÂÂ'.encode('big5').decode('utf8', 'replace')\r\n'Ã¯Â¿Â½Ã¯Â¿Â½Ã¯Â¿Â½]'\r\n```",
      "created_at" : "2018-04-27T12:47:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384959985",
      "id" : 384959985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-27T12:51:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384959985",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ken2812221 thanks for the review and bug report. Let's move the bug discussion to #13103.",
      "created_at" : "2018-04-27T14:08:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-384981183",
      "id" : 384981183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-04-27T14:08:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384981183",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r184879025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184879025"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Use `QDir::toNativeSeparators` to convert `/` to `\\` on Windows",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-29T10:56:27Z",
      "diff_hunk" : "@@ -701,6 +707,20 @@ void BitcoinGUI::openClicked()\n     }\n }\n \n+void BitcoinGUI::openWalletClicked()\n+{\n+    QString fileName = QFileDialog::getExistingDirectory(this, tr(\"Open Wallet\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r184879025",
      "id" : 184879025,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 40,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 42,
      "pull_request_review_id" : 116162511,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184879025",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185064610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185064610"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This seems almost exactly duplicated from `loadwallet()` in rpcwallet.cpp. Does it make sense to factor it out to avoid repetition?",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-30T18:12:05Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185064610",
      "id" : 185064610,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 18,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116382295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185064610",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185065217"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185065217"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't understand why you're passing back an error string if it's always the string `ops`",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-30T18:14:24Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;\n+            std::string error;\n+\n+            if (!CWallet::Verify(wallet_file, false, error, dummy_warning)) {\n+                return { std::unique_ptr<Wallet>(), error };\n+            }\n+\n+            CWallet * const wallet = CWallet::CreateWalletFromFile(wallet_file, fs::absolute(wallet_file, GetWalletDir()));\n+            if (!wallet) {\n+                return { std::unique_ptr<Wallet>(), \"Wallet creation failed.\" };\n+            }\n+            AddWallet(wallet);\n+\n+            wallet->postInitProcess();\n+            return { MakeWallet(*wallet), std::string() };\n+        } catch (...) {\n+            return { std::unique_ptr<Wallet>(), \"ops\" };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185065217",
      "id" : 185065217,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 34,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116382295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185065217",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185065369"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185065369"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The use of `auto` here makes it difficult to understand the `result.second` below.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-30T18:15:01Z",
      "diff_hunk" : "@@ -701,6 +707,20 @@ void BitcoinGUI::openClicked()\n     }\n }\n \n+void BitcoinGUI::openWalletClicked()\n+{\n+    QString fileName = QFileDialog::getExistingDirectory(this, tr(\"Open Wallet\"),\n+                                                QString(),\n+                                                QFileDialog::ShowDirsOnly\n+                                                | QFileDialog::DontResolveSymlinks);\n+    if (fileName.isEmpty()) return;\n+    const auto& result = m_node.loadWallet(fileName.toStdString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185065369",
      "id" : 185065369,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 45,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 116382295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185065369",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185066891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185066891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I would like to move to `WalletManager`",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-30T18:20:40Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185066891",
      "id" : 185066891,
      "in_reply_to_id" : 185064610,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 18,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116384968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185066891",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185067127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185067127"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ops, it's unfinished. Not sure if it should return the pair.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-04-30T18:21:32Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;\n+            std::string error;\n+\n+            if (!CWallet::Verify(wallet_file, false, error, dummy_warning)) {\n+                return { std::unique_ptr<Wallet>(), error };\n+            }\n+\n+            CWallet * const wallet = CWallet::CreateWalletFromFile(wallet_file, fs::absolute(wallet_file, GetWalletDir()));\n+            if (!wallet) {\n+                return { std::unique_ptr<Wallet>(), \"Wallet creation failed.\" };\n+            }\n+            AddWallet(wallet);\n+\n+            wallet->postInitProcess();\n+            return { MakeWallet(*wallet), std::string() };\n+        } catch (...) {\n+            return { std::unique_ptr<Wallet>(), \"ops\" };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185067127",
      "id" : 185067127,
      "in_reply_to_id" : 185065217,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 34,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116385235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185067127",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-05-02T09:12:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-385914386",
      "id" : 385914386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13100",
      "updated_at" : "2018-05-02T09:12:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385914386",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jnewbery done in #9888dc2.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-05-02T16:32:25Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559257",
      "id" : 185559257,
      "in_reply_to_id" : 185064610,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 18,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116973344,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:32:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559257",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559376"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559376"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed, changed the return type.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-05-02T16:32:53Z",
      "diff_hunk" : "@@ -228,6 +229,32 @@ class NodeImpl : public Node\n         return wallets;\n #else\n         throw std::logic_error(\"Node::getWallets() called in non-wallet build.\");\n+#endif\n+    }\n+    std::pair<std::unique_ptr<Wallet>, std::string> loadWallet(const std::string& wallet_file) override\n+    {\n+#ifdef ENABLE_WALLET\n+        try {\n+            std::string dummy_warning;\n+            std::string error;\n+\n+            if (!CWallet::Verify(wallet_file, false, error, dummy_warning)) {\n+                return { std::unique_ptr<Wallet>(), error };\n+            }\n+\n+            CWallet * const wallet = CWallet::CreateWalletFromFile(wallet_file, fs::absolute(wallet_file, GetWalletDir()));\n+            if (!wallet) {\n+                return { std::unique_ptr<Wallet>(), \"Wallet creation failed.\" };\n+            }\n+            AddWallet(wallet);\n+\n+            wallet->postInitProcess();\n+            return { MakeWallet(*wallet), std::string() };\n+        } catch (...) {\n+            return { std::unique_ptr<Wallet>(), \"ops\" };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559376",
      "id" : 185559376,
      "in_reply_to_id" : 185065217,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 34,
      "path" : "src/interfaces/node.cpp",
      "position" : null,
      "pull_request_review_id" : 116973514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:32:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559376",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No an issue now, return value is not necessary.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-05-02T16:33:34Z",
      "diff_hunk" : "@@ -701,6 +707,20 @@ void BitcoinGUI::openClicked()\n     }\n }\n \n+void BitcoinGUI::openWalletClicked()\n+{\n+    QString fileName = QFileDialog::getExistingDirectory(this, tr(\"Open Wallet\"),\n+                                                QString(),\n+                                                QFileDialog::ShowDirsOnly\n+                                                | QFileDialog::DontResolveSymlinks);\n+    if (fileName.isEmpty()) return;\n+    const auto& result = m_node.loadWallet(fileName.toStdString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559596",
      "id" : 185559596,
      "in_reply_to_id" : 185065369,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 45,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : null,
      "pull_request_review_id" : 116973804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:33:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559596",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559631"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-05-02T16:33:41Z",
      "diff_hunk" : "@@ -701,6 +707,20 @@ void BitcoinGUI::openClicked()\n     }\n }\n \n+void BitcoinGUI::openWalletClicked()\n+{\n+    QString fileName = QFileDialog::getExistingDirectory(this, tr(\"Open Wallet\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185559631",
      "id" : 185559631,
      "in_reply_to_id" : 184879025,
      "original_commit_id" : "f61aff5796bd42001531d15a87d39854b1e65754",
      "original_position" : 40,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 42,
      "pull_request_review_id" : 116973856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-02T16:33:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185559631",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185743384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185743384"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jnewbery @laanwj ATM the wallet is loaded in the UI thread, should I refactor to load it in the background?",
      "commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "created_at" : "2018-05-03T09:37:52Z",
      "diff_hunk" : "@@ -701,6 +708,22 @@ void BitcoinGUI::openClicked()\n     }\n }\n \n+void BitcoinGUI::openWalletClicked()\n+{\n+    QString fileName = QFileDialog::getExistingDirectory(this, tr(\"Open Wallet\"),\n+                                                QString(),\n+                                                QFileDialog::ShowDirsOnly\n+                                                | QFileDialog::DontResolveSymlinks);\n+    if (fileName.isEmpty()) return;\n+\n+    std::vector<std::string> errors;\n+    m_node.loadWallet(QDir::toNativeSeparators(fileName).toStdString(), errors);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13100#discussion_r185743384",
      "id" : 185743384,
      "original_commit_id" : "462bf7fd69128929b5b2f7a90fdca15a1ca017f7",
      "original_position" : 49,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 49,
      "pull_request_review_id" : 117192519,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13100",
      "updated_at" : "2018-05-03T09:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/185743384",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
