[
   {
      "author_association" : "MEMBER",
      "body" : "This will need rebase after https://github.com/bitcoin/bitcoin/pull/11739 , won't it?",
      "created_at" : "2018-02-05T17:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-363159119",
      "id" : 363159119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-05T17:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363159119",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This will need rebase after #11739 , won't it?\r\n\r\nThere are no dependencies between the two, but you're correct that there are some minor conflicts in the implementations. I'm happy to rebase if 11739 is merged first.",
      "created_at" : "2018-02-05T18:08:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-363169671",
      "id" : 363169671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-05T18:08:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363169671",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166125724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166125724"
         }
      },
      "author_association" : "OWNER",
      "body" : "Duplicated line?",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-05T21:59:58Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166125724",
      "id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94158290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166125724",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126145"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes? :trollface: ",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-05T22:01:52Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126145",
      "id" : 166126145,
      "in_reply_to_id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94158790,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126145",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126752"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Any good reason for reference?",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-05T22:04:23Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@ void CChainParams::UpdateVersionBitsParameters(Consensus::DeploymentPos d, int64\n     consensus.vDeployments[d].nTimeout = nTimeout;\n }\n \n+void CChainParams::UpdateSegwitHeight(const int& height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126752",
      "id" : 166126752,
      "original_commit_id" : "b58d5603c07870398baa51403b372898e2d8f10b",
      "original_position" : 4,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 94159521,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126752",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130917"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130917"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-05T22:21:27Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130917",
      "id" : 166130917,
      "in_reply_to_id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94164228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130917",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "None. Removed.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-05T22:21:36Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@ void CChainParams::UpdateVersionBitsParameters(Consensus::DeploymentPos d, int64\n     consensus.vDeployments[d].nTimeout = nTimeout;\n }\n \n+void CChainParams::UpdateSegwitHeight(const int& height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130947",
      "id" : 166130947,
      "in_reply_to_id" : 166126752,
      "original_commit_id" : "b58d5603c07870398baa51403b372898e2d8f10b",
      "original_position" : 4,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 94164270,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130947",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167066834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167066834"
         }
      },
      "author_association" : "NONE",
      "body" : "Is it helpful to continue referencing the BIP numbers in these comments? I would guess so.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-08T21:04:39Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167066834",
      "id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95232089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167066834",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167072716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167072716"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure. Comments added.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-08T21:27:26Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167072716",
      "id" : 167072716,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95238980,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167072716",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167545915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167545915"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why not refer to the BIP numbers solely instead of alternating?",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T12:54:25Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167545915",
      "id" : 167545915,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95779175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167545915",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/413395?v=4",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546381"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546381"
         }
      },
      "author_association" : "MEMBER",
      "body" : "the segwit deployment covered more than one bip",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T12:56:24Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546381",
      "id" : 167546381,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95779694,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546507"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit: any reason this isn't just `rv.pushKV(\"active\", ...);` for consistency?",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T12:57:00Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546507",
      "id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 39,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546507",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167549111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167549111"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We don't seem to have any testing for the contents of this key - is this the case? Happy to either write some for this PR or file a follow-up.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T13:08:58Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"\n-            \"  \\\"chainwork\\\": \\\"xxxx\\\"           (string) total amount of work in active chain, in hexadecimal\\n\"\n-            \"  \\\"size_on_disk\\\": xxxxxx,       (numeric) the estimated size of the block and undo files on disk\\n\"\n-            \"  \\\"pruned\\\": xx,                 (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,        (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n-            \"  \\\"automatic_pruning\\\": xx,      (boolean) whether automatic pruning is enabled (only present if pruning is enabled)\\n\"\n-            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if automatic pruning is enabled)\\n\"\n-            \"  \\\"softforks\\\": [                (array) status of softforks in progress\\n\"\n-            \"     {\\n\"\n-            \"        \\\"id\\\": \\\"xxxx\\\",           (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,          (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {             (object) progress toward rejecting pre-softfork blocks\\n\"\n-            \"           \\\"status\\\": xx,        (boolean) true if threshold reached\\n\"\n+            \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"softforks\\\": {               (object) status of softforks\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167549111",
      "id" : 167549111,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 135,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167549111",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167551652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167551652"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Curious why removal of this key and others (e.g. `size_on_disk`) is bundled with this changeset. Seems like RPC interface changes should be handled separately.\r\n\r\nEdit: looks like these were just removed from the help message; still probably don't want to do that in this changeset, no?",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T13:15:44Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167551652",
      "id" : 167551652,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 119,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167551652",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167560635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167560635"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Requires #12193",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T13:52:39Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167560635",
      "id" : 167560635,
      "in_reply_to_id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 39,
      "pull_request_review_id" : 95795387,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167560635",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167561009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167561009"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You're right. `rpc_blockchain.py` should be updated. If you're happy to contribute a commit to add tests, I can include it in this PR.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T13:54:10Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"\n-            \"  \\\"chainwork\\\": \\\"xxxx\\\"           (string) total amount of work in active chain, in hexadecimal\\n\"\n-            \"  \\\"size_on_disk\\\": xxxxxx,       (numeric) the estimated size of the block and undo files on disk\\n\"\n-            \"  \\\"pruned\\\": xx,                 (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,        (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n-            \"  \\\"automatic_pruning\\\": xx,      (boolean) whether automatic pruning is enabled (only present if pruning is enabled)\\n\"\n-            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if automatic pruning is enabled)\\n\"\n-            \"  \\\"softforks\\\": [                (array) status of softforks in progress\\n\"\n-            \"     {\\n\"\n-            \"        \\\"id\\\": \\\"xxxx\\\",           (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,          (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {             (object) progress toward rejecting pre-softfork blocks\\n\"\n-            \"           \\\"status\\\": xx,        (boolean) true if threshold reached\\n\"\n+            \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"softforks\\\": {               (object) status of softforks\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167561009",
      "id" : 167561009,
      "in_reply_to_id" : 167549111,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 135,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95795826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167561009",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167564397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167564397"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops. Bad rebase. Should be fixed now.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T14:07:42Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167564397",
      "id" : 167564397,
      "in_reply_to_id" : 167551652,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 119,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95799929,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T14:07:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167564397",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167604687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167604687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah. It's just been merged. Will rebase.",
      "commit_id" : "7ef753e1a1b07dd9eb4d804730736b3270d6754c",
      "created_at" : "2018-02-12T16:14:05Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167604687",
      "id" : 167604687,
      "in_reply_to_id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 39,
      "pull_request_review_id" : 95846757,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-02-12T16:14:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167604687",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased now that #12193 has been merged.\r\n\r\nACK @jamesob's 0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e commit.",
      "created_at" : "2018-02-13T16:10:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365315132",
      "id" : 365315132,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-13T16:10:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365315132",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Biased ACK https://github.com/bitcoin/bitcoin/pull/12360/commits/0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e",
      "created_at" : "2018-02-14T18:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365694953",
      "id" : 365694953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-14T18:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365694953",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e",
      "created_at" : "2018-02-14T20:08:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365729478",
      "id" : 365729478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-14T20:08:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365729478",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2018-03-07T18:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-371240941",
      "id" : 371240941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-07T18:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371240941",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
