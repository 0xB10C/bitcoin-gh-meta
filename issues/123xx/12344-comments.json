[
   {
      "author_association" : "MEMBER",
      "body" : "onlynet=onion tells your node to only attempt outbound connections to onion peers.  It doesn't have anything to do with inbound, and in fact it can't actually tell which inbound are onion or not (the logs say that say they are are peer self reports).  To only get onion inbounds, bind your p2p port only to 127.0.0.1 or firewall off the port. ",
      "created_at" : "2018-02-04T08:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-362890971",
      "id" : 362890971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "updated_at" : "2018-02-04T08:48:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362890971",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I agree that setting `onlynet=onion` should tell your node to only attempt outbound connections to onion peers but, v0.15.1 still makes some IPv4 connections (I presume they are made using the proxy settings - I have no easy way to check at hand - my network log box is away in storage!). Onion peers always report as `us=[::]:0` in the log but these were IPv4 addresses as noted. As you can see from the `bitcoin.conf` file I have posted I am using `bind=127.0.0.1` already and do not expect any incoming connects on IPv4 either. All of the connections from the log snippet I posted are outbound, I have added peer 6 to that now.",
      "created_at" : "2018-02-04T10:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-362895356",
      "id" : 362895356,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "updated_at" : "2018-02-04T10:20:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362895356",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Using Bitcoin Core v0.17.0rc2\r\n\r\nI've noticed an exclusive `onlynet=onion` is ignored in a couple cases as a result of DNS seeding:\r\n\r\n1.  If `proxy=127.0.0.1:9050` is set, I get log entries like \r\n```\r\nYYYY-MM-DDTHH:MM:SSZ SOCKS5 connected dnsseed.bluematt.me\r\n...\r\nYYYY-MM-DDTHH:MM:SSZ New outbound peer connected: version: xxxxx, blocks=xxxxxx, peer=1, peeraddr=[::]:0\r\n```\r\n\r\n2. If `proxy` is unset, and a service bit DNS seed lookup fails \r\n\t\r\n```\r\n$ dig +short x9.seed.bitcoin.jonasschnelli.ch | wc -l\r\n0\r\n```\r\n\r\ndebug.log:\r\n```\r\nYYYY-MM-DDTHH:MM:SSZ Added connection to seed.bitcoin.jonasschnelli.ch peer=0\r\n...\r\nYYYY-MM-DDTHH:MM:SSZ New outbound peer connected: version: xxxxx, blocks=xxxxxx, peer=0, peeraddr=xx.xx.xx.xx:8333\r\n```",
      "created_at" : "2018-08-28T18:36:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-416694990",
      "id" : 416694990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNjY5NDk5MA==",
      "updated_at" : "2018-08-28T18:46:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416694990",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42760560?v=4",
         "events_url" : "https://api.github.com/users/hyp-hen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hyp-hen/followers",
         "following_url" : "https://api.github.com/users/hyp-hen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hyp-hen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hyp-hen",
         "id" : 42760560,
         "login" : "hyp-hen",
         "node_id" : "MDQ6VXNlcjQyNzYwNTYw",
         "organizations_url" : "https://api.github.com/users/hyp-hen/orgs",
         "received_events_url" : "https://api.github.com/users/hyp-hen/received_events",
         "repos_url" : "https://api.github.com/users/hyp-hen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hyp-hen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hyp-hen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hyp-hen"
      }
   }
]
