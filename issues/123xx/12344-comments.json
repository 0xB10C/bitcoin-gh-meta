[
   {
      "author_association" : "MEMBER",
      "body" : "onlynet=onion tells your node to only attempt outbound connections to onion peers.  It doesn't have anything to do with inbound, and in fact it can't actually tell which inbound are onion or not (the logs say that say they are are peer self reports).  To only get onion inbounds, bind your p2p port only to 127.0.0.1 or firewall off the port. ",
      "created_at" : "2018-02-04T08:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-362890971",
      "id" : 362890971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "updated_at" : "2018-02-04T08:48:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362890971",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I agree that setting `onlynet=onion` should tell your node to only attempt outbound connections to onion peers but, v0.15.1 still makes some IPv4 connections (I presume they are made using the proxy settings - I have no easy way to check at hand - my network log box is away in storage!). Onion peers always report as `us=[::]:0` in the log but these were IPv4 addresses as noted. As you can see from the `bitcoin.conf` file I have posted I am using `bind=127.0.0.1` already and do not expect any incoming connects on IPv4 either. All of the connections from the log snippet I posted are outbound, I have added peer 6 to that now.",
      "created_at" : "2018-02-04T10:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-362895356",
      "id" : 362895356,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "updated_at" : "2018-02-04T10:20:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/362895356",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Using Bitcoin Core v0.17.0rc2\r\n\r\nI've noticed an exclusive `onlynet=onion` is ignored in a couple cases as a result of DNS seeding:\r\n\r\n1.  If `proxy=127.0.0.1:9050` is set, I get log entries like \r\n```\r\nYYYY-MM-DDTHH:MM:SSZ SOCKS5 connected dnsseed.bluematt.me\r\n...\r\nYYYY-MM-DDTHH:MM:SSZ New outbound peer connected: version: xxxxx, blocks=xxxxxx, peer=1, peeraddr=[::]:0\r\n```\r\n\r\n2. If `proxy` is unset, and a service bit DNS seed lookup fails \r\n\t\r\n```\r\n$ dig +short x9.seed.bitcoin.jonasschnelli.ch | wc -l\r\n0\r\n```\r\n\r\ndebug.log:\r\n```\r\nYYYY-MM-DDTHH:MM:SSZ Added connection to seed.bitcoin.jonasschnelli.ch peer=0\r\n...\r\nYYYY-MM-DDTHH:MM:SSZ New outbound peer connected: version: xxxxx, blocks=xxxxxx, peer=0, peeraddr=xx.xx.xx.xx:8333\r\n```",
      "created_at" : "2018-08-28T18:36:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-416694990",
      "id" : 416694990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNjY5NDk5MA==",
      "updated_at" : "2018-08-28T18:46:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416694990",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42760560?v=4",
         "events_url" : "https://api.github.com/users/hyp-hen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hyp-hen/followers",
         "following_url" : "https://api.github.com/users/hyp-hen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hyp-hen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hyp-hen",
         "id" : 42760560,
         "login" : "hyp-hen",
         "node_id" : "MDQ6VXNlcjQyNzYwNTYw",
         "organizations_url" : "https://api.github.com/users/hyp-hen/orgs",
         "received_events_url" : "https://api.github.com/users/hyp-hen/received_events",
         "repos_url" : "https://api.github.com/users/hyp-hen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hyp-hen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hyp-hen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hyp-hen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Even with Tor proxy set the client is capable of resolving and making a connection to DNS resolved entries via the proxy (I presume that it correctly uses Tor to resolve the DNS?). If you don't even want that then you need to look at `-dns` and `-dnsseed` settings. \r\n\r\n",
      "created_at" : "2018-10-14T06:49:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-429601276",
      "id" : 429601276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyOTYwMTI3Ng==",
      "updated_at" : "2018-10-14T06:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/429601276",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this still an issue with a recent version of Bitcoin Core? If yes, what are the steps to reproduce?",
      "created_at" : "2020-05-08T22:31:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-626048035",
      "id" : 626048035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNjA0ODAzNQ==",
      "updated_at" : "2020-05-08T22:31:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626048035",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is still an issue with v18.1\r\n![Screenshot from 2020-05-09 13-32-01](https://user-images.githubusercontent.com/1173622/81463002-a2a79f80-91f9-11ea-87a3-21e302336c45.png)\r\n\r\nA brief check seems to indicate that when `onlynet=onion` is set Bitcoin Core will use the `proxy=` to establish IPv4 connections (to talk to seed nodes) otherwise does not seem to do so if that is not configured.  This behaviour is not consistent with the description of operation of  `onlynet=onion` ",
      "created_at" : "2020-05-09T03:49:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-626100329",
      "id" : 626100329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYyNjEwMDMyOQ==",
      "updated_at" : "2020-05-09T03:49:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/626100329",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this still an issue with a recent version of Bitcoin Core? If yes, what are the steps to reproduce?\r\n\r\nRun Bitcoin Core using the `bitcoin.conf` I provided in the OP.\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/12641#issuecomment-1345576117",
      "created_at" : "2022-12-11T15:05:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12344#issuecomment-1345578014",
      "id" : 1345578014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12344",
      "node_id" : "IC_kwDOABII585QM-Qe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345578014/reactions"
      },
      "updated_at" : "2022-12-11T15:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1345578014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   }
]
