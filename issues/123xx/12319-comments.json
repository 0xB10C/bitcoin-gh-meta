[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I would leave the original code on this line, since `size()` (and `GetLen()`) specifically returns 0 to signal an invalid header byte.\r\n\r\nKeep in mind that `size()` can only return three potential values (zero or one of the two sizes), so any size in between will never be returned.\r\n",
      "commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "created_at" : "2018-02-03T17:35:13Z",
      "diff_hunk" : "@@ -164,7 +172,7 @@ class CPubKey\n      */\n     bool IsValid() const\n     {\n-        return size() > 0;\n+        return size() >= COMPRESSED_SIZE && size() <= SIZE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820206",
      "id" : 165820206,
      "original_commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "original_position" : 72,
      "path" : "src/pubkey.h",
      "position" : 72,
      "pull_request_review_id" : 93822254,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319",
      "updated_at" : "2018-02-03T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820206",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820278"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Might be good to move these two static methods under `CPubKey`, but maybe that's a job for another PR.",
      "commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "created_at" : "2018-02-03T17:37:52Z",
      "diff_hunk" : "@@ -61,17 +61,17 @@ static inline void popstack(std::vector<valtype>& stack)\n }\n \n bool static IsCompressedOrUncompressedPubKey(const valtype &vchPubKey) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820278",
      "id" : 165820278,
      "original_commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "original_position" : 3,
      "path" : "src/script/interpreter.cpp",
      "position" : 3,
      "pull_request_review_id" : 93822254,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319",
      "updated_at" : "2018-02-03T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820278",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820288"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820288"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Might be good to have this under `CPubKey`",
      "commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "created_at" : "2018-02-03T17:38:27Z",
      "diff_hunk" : "@@ -35,6 +35,10 @@ const char* GetTxnOutputType(txnouttype t)\n     return nullptr;\n }\n \n+static constexpr bool ValidPubKeySize(std::vector<unsigned char>::size_type size) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820288",
      "id" : 165820288,
      "original_commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "original_position" : 4,
      "path" : "src/script/standard.cpp",
      "position" : 4,
      "pull_request_review_id" : 93822254,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319",
      "updated_at" : "2018-02-03T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820288",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820336"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820336"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "maybe reword to \"COMPRESSED_SIZE must be smaller than SIZE\"",
      "commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "created_at" : "2018-02-03T17:40:37Z",
      "diff_hunk" : "@@ -26,40 +26,48 @@ class CKeyID : public uint160\n \n typedef uint256 ChainCode;\n \n+class CPubKeySig\n+{\n+public:\n+  /**\n+   * secp256k1:\n+   */\n+  static const unsigned int SIZE         = 72;\n+  static const unsigned int COMPACT_SIZE = 65;\n+};\n+\n /** An encapsulated public key. */\n class CPubKey\n {\n public:\n     /**\n      * secp256k1:\n      */\n-    static const unsigned int PUBLIC_KEY_SIZE             = 65;\n-    static const unsigned int COMPRESSED_PUBLIC_KEY_SIZE  = 33;\n-    static const unsigned int SIGNATURE_SIZE              = 72;\n-    static const unsigned int COMPACT_SIGNATURE_SIZE      = 65;\n+    static const unsigned int SIZE            = 65;\n+    static const unsigned int COMPRESSED_SIZE = 33;\n     /**\n      * see www.keylength.com\n      * script supports up to 75 for single byte push\n      */\n     static_assert(\n-        PUBLIC_KEY_SIZE >= COMPRESSED_PUBLIC_KEY_SIZE,\n-        \"COMPRESSED_PUBLIC_KEY_SIZE is larger than PUBLIC_KEY_SIZE\");\n+        SIZE >= COMPRESSED_SIZE,\n+        \"COMPRESSED_SIZE is larger than SIZE\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820336",
      "id" : 165820336,
      "original_commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "original_position" : 35,
      "path" : "src/pubkey.h",
      "position" : 35,
      "pull_request_review_id" : 93822254,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319",
      "updated_at" : "2018-02-03T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820336",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820370"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "maybe reword",
      "commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "created_at" : "2018-02-03T17:41:51Z",
      "diff_hunk" : "@@ -30,15 +30,15 @@ class CKey\n     /**\n      * secp256k1:\n      */\n-    static const unsigned int PRIVATE_KEY_SIZE            = 279;\n-    static const unsigned int COMPRESSED_PRIVATE_KEY_SIZE = 214;\n+    static const unsigned int SIZE            = 279;\n+    static const unsigned int COMPRESSED_SIZE = 214;\n     /**\n      * see www.keylength.com\n      * script supports up to 75 for single byte push\n      */\n     static_assert(\n-        PRIVATE_KEY_SIZE >= COMPRESSED_PRIVATE_KEY_SIZE,\n-        \"COMPRESSED_PRIVATE_KEY_SIZE is larger than PRIVATE_KEY_SIZE\");\n+        SIZE >= COMPRESSED_SIZE,\n+        \"COMPRESSED_SIZE is larger than SIZE\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12319#discussion_r165820370",
      "id" : 165820370,
      "original_commit_id" : "ed1483b712c05699716641dd2013609f47e4202b",
      "original_position" : 25,
      "path" : "src/key.h",
      "position" : 25,
      "pull_request_review_id" : 93822254,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12319",
      "updated_at" : "2018-02-03T18:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165820370",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/107096?v=4",
         "events_url" : "https://api.github.com/users/devrandom/events{/privacy}",
         "followers_url" : "https://api.github.com/users/devrandom/followers",
         "following_url" : "https://api.github.com/users/devrandom/following{/other_user}",
         "gists_url" : "https://api.github.com/users/devrandom/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/devrandom",
         "id" : 107096,
         "login" : "devrandom",
         "organizations_url" : "https://api.github.com/users/devrandom/orgs",
         "received_events_url" : "https://api.github.com/users/devrandom/received_events",
         "repos_url" : "https://api.github.com/users/devrandom/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/devrandom/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/devrandom"
      }
   }
]
