[
   {
      "author_association" : "MEMBER",
      "body" : "Split in multiple commits for easier review.",
      "created_at" : "2019-01-04T21:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#issuecomment-451572553",
      "id" : 451572553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15101",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTU3MjU1Mw==",
      "updated_at" : "2019-01-04T21:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451572553",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14998](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14998.html) (Run CI against ubuntu 14.04 by Empact)\n* [#14517](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14517.html) (qt: Fix start with the `-min` option by hebasto)\n* [#11625](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/11625.html) (Add BitcoinApplication & RPCConsole tests by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-01-05T16:42:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#issuecomment-451670247",
      "id" : 451670247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15101",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTY3MDI0Nw==",
      "updated_at" : "2019-01-05T16:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451670247",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245687054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245687054"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why was this `2` in the past?",
      "commit_id" : "5e4cb35d16663987eaf3d6938953e5ae4fa0b098",
      "created_at" : "2019-01-07T15:16:37Z",
      "diff_hunk" : "@@ -702,7 +702,7 @@ void RPCConsole::addWallet(WalletModel * const walletModel)\n         // First wallet added, set to default so long as the window isn't presently visible (and potentially in use)\n         ui->WalletSelector->setCurrentIndex(1);\n     }\n-    if (ui->WalletSelector->count() > 2) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245687054",
      "id" : 245687054,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTY4NzA1NA==",
      "original_commit_id" : "6d545162c98404c7dacb142a90a5c5fb95ceca05",
      "original_position" : 4,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 4,
      "pull_request_review_id" : 189850379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101",
      "updated_at" : "2019-01-07T22:42:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245687054",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245701745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245701745"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm confused, what is this `m_history`?",
      "commit_id" : "5e4cb35d16663987eaf3d6938953e5ae4fa0b098",
      "created_at" : "2019-01-07T15:55:17Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_QT_WALLETCONTROLLER_H\n+#define BITCOIN_QT_WALLETCONTROLLER_H\n+\n+#include <qt/walletmodel.h>\n+\n+#include <list>\n+#include <memory>\n+#include <vector>\n+\n+class BitcoinGUI;\n+class OptionsModel;\n+class PlatformStyle;\n+\n+namespace interfaces {\n+class Handler;\n+class Node;\n+} // namespace interfaces\n+\n+/**\n+ * WalletController\n+ */\n+class WalletController : public QObject\n+{\n+    Q_OBJECT\n+\n+public:\n+    WalletController(interfaces::Node& node, const PlatformStyle* platform_style, OptionsModel* options_model, QObject* parent);\n+    ~WalletController();\n+\n+    void setWindow(BitcoinGUI* window);\n+\n+public Q_SLOTS:\n+    void setCurrentWallet(WalletModel* wallet_model);\n+\n+private Q_SLOTS:\n+    void addWallet(WalletModel* wallet_model);\n+\n+Q_SIGNALS:\n+    void walletAdded(WalletModel* wallet_model);\n+    void walletRemoved(WalletModel* wallet_model);\n+    void currentWalletChanged(WalletModel* wallet_model);\n+\n+    void coinsSent(WalletModel* wallet_model, SendCoinsRecipient recipient, QByteArray transaction);\n+\n+private:\n+    interfaces::Node& m_node;\n+    const PlatformStyle* const m_platform_style;\n+    OptionsModel* const m_options_model;\n+    std::vector<WalletModel*> m_wallets;\n+    std::list<WalletModel*> m_history;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245701745",
      "id" : 245701745,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTcwMTc0NQ==",
      "original_commit_id" : "0da9457583673b28738fd0d25b67c0cfe597b801",
      "original_position" : 54,
      "path" : "src/qt/walletcontroller.h",
      "position" : 54,
      "pull_request_review_id" : 189850379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101",
      "updated_at" : "2019-01-07T22:42:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245701745",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245712601"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245712601"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Before the wallet selector would be visible with only 2 wallets. However I think it makes sense to show the selector even with 1 wallet only because otherwise you can't decide to execute `unloadwallet` with or without a wallet.",
      "commit_id" : "5e4cb35d16663987eaf3d6938953e5ae4fa0b098",
      "created_at" : "2019-01-07T16:23:07Z",
      "diff_hunk" : "@@ -702,7 +702,7 @@ void RPCConsole::addWallet(WalletModel * const walletModel)\n         // First wallet added, set to default so long as the window isn't presently visible (and potentially in use)\n         ui->WalletSelector->setCurrentIndex(1);\n     }\n-    if (ui->WalletSelector->count() > 2) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245712601",
      "id" : 245712601,
      "in_reply_to_id" : 245687054,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTcxMjYwMQ==",
      "original_commit_id" : "6d545162c98404c7dacb142a90a5c5fb95ceca05",
      "original_position" : 4,
      "path" : "src/qt/rpcconsole.cpp",
      "position" : 4,
      "pull_request_review_id" : 189882724,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101",
      "updated_at" : "2019-01-07T22:42:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245712601",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245716463"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245716463"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry, should have some comment there. I'm also willing to remove this now and add it later.\r\n\r\nThis is like the stack of wallets, the smaller the index the most recent viewed wallet. With this when the user closes a the current wallet it goes to the previous used wallet.",
      "commit_id" : "5e4cb35d16663987eaf3d6938953e5ae4fa0b098",
      "created_at" : "2019-01-07T16:33:22Z",
      "diff_hunk" : "@@ -0,0 +1,59 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_QT_WALLETCONTROLLER_H\n+#define BITCOIN_QT_WALLETCONTROLLER_H\n+\n+#include <qt/walletmodel.h>\n+\n+#include <list>\n+#include <memory>\n+#include <vector>\n+\n+class BitcoinGUI;\n+class OptionsModel;\n+class PlatformStyle;\n+\n+namespace interfaces {\n+class Handler;\n+class Node;\n+} // namespace interfaces\n+\n+/**\n+ * WalletController\n+ */\n+class WalletController : public QObject\n+{\n+    Q_OBJECT\n+\n+public:\n+    WalletController(interfaces::Node& node, const PlatformStyle* platform_style, OptionsModel* options_model, QObject* parent);\n+    ~WalletController();\n+\n+    void setWindow(BitcoinGUI* window);\n+\n+public Q_SLOTS:\n+    void setCurrentWallet(WalletModel* wallet_model);\n+\n+private Q_SLOTS:\n+    void addWallet(WalletModel* wallet_model);\n+\n+Q_SIGNALS:\n+    void walletAdded(WalletModel* wallet_model);\n+    void walletRemoved(WalletModel* wallet_model);\n+    void currentWalletChanged(WalletModel* wallet_model);\n+\n+    void coinsSent(WalletModel* wallet_model, SendCoinsRecipient recipient, QByteArray transaction);\n+\n+private:\n+    interfaces::Node& m_node;\n+    const PlatformStyle* const m_platform_style;\n+    OptionsModel* const m_options_model;\n+    std::vector<WalletModel*> m_wallets;\n+    std::list<WalletModel*> m_history;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15101#discussion_r245716463",
      "id" : 245716463,
      "in_reply_to_id" : 245701745,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTcxNjQ2Mw==",
      "original_commit_id" : "0da9457583673b28738fd0d25b67c0cfe597b801",
      "original_position" : 54,
      "path" : "src/qt/walletcontroller.h",
      "position" : 54,
      "pull_request_review_id" : 189887635,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15101",
      "updated_at" : "2019-01-07T22:42:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245716463",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
