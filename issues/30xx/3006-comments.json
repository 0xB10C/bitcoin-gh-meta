[
   {
      "body" : "This is from my debug.log:\r\n\r\n<pre>\r\nBitcoin-Qt: \"NotifyAddressBookChanged : 3QJmnh  isMine=0 purpose=unknown status=0\" \r\n</pre>",
      "created_at" : "2013-09-17T12:56:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-24585631",
      "id" : 24585631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-09-17T12:56:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24585631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "It seems in ``WalletModel::SendCoinsReturn WalletModel::sendCoins(WalletModelTransaction &transaction)`` there is something happening, which causes this. I tried to output ``rcp.address`` and ``rcp.label`` to debug.log and both are plain emtpy.\r\n\r\nI debugged further and found out that this gets called (with empty or invalid parameters):\r\nhttps://github.com/bitcoin/bitcoin/blob/master/src/qt/walletmodel.cpp#L272",
      "created_at" : "2013-09-17T13:12:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-24586611",
      "id" : 24586611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-09-17T13:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24586611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I bet this is fixed with #1850 ? Maybe finally an easy test case for it...",
      "created_at" : "2013-09-19T00:31:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-24709978",
      "id" : 24709978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-09-19T00:31:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24709978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@laanwj This needs your help...",
      "created_at" : "2013-10-04T08:45:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-25683961",
      "id" : 25683961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-10-04T08:45:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25683961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "That's a very strange address indeed.\r\nI've done the paymentrequests tests myself and did not encounter this.\r\n\r\n@diapolo Can you confirm or deny @luke-jr's suspicion that this is solved with #1850? It could indeed have to do with a non-standard output somehow being converted to an (invalid, unlabaled) address.",
      "created_at" : "2013-10-07T11:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-25802085",
      "id" : 25802085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-10-07T11:46:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25802085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I'm going to integrate @luke-jr's patch, can you try to use the label, address and condition in my initial post to see if you can re-create the issue?",
      "created_at" : "2013-10-07T11:57:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-25802728",
      "id" : 25802728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-10-07T11:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25802728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I included @luke-jr's patch into my local build and still get the weird ``3QJmnh`` address added to my addressbook.\r\nPerhaps it is important to mention that my testnet wallet is encrypted.\r\n\r\nHere is the link to the payment-request:\r\nhttps://bitcoincore.org/~gavin/createpaymentrequest.php?merchant=bitcoincore&address1=mfYEyfXvxhiRWyqmMUnVCTHrdjaCb5dvPn&amount1=0.001&address2=&amount2=&address3=&amount3=&time=0&expires=never&memo=My+Memo...&payment_url=on&ACK_message=Zahlung+erfolgreich%2C+danke!&produce_uri=on&submit=Create+Payment+Request",
      "created_at" : "2013-10-07T12:16:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-25803699",
      "id" : 25803699,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-10-07T12:16:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25803699",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@laanwj Alright, we HAVE a problem in ``void SendCoinsDialog::on_sendButton_clicked()``, when we have a payment request, ``entry->getValue()`` has nothing in address or label, just amount and authenticatedMerchant are filled. We shouldn't try to add anything to our addressbook, when we have a payment request IMHO?",
      "created_at" : "2013-10-08T11:46:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3006#issuecomment-25883016",
      "id" : 25883016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3006",
      "updated_at" : "2013-10-08T11:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25883016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   }
]
