[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/c2b705f0ce0a1c51f71db62b757d43f752499e8a for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-10-04T23:20:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25736597",
      "id" : 25736597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-04T23:20:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25736597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "NACK from me. Compilers are very good at optimizing away creation of temporary objects, and I'm against this kind of \"worry about micro-optimizations that used to matter in some compiler somewhere but aren't relevant any more\" change.\r\n",
      "created_at" : "2013-10-04T23:53:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25737552",
      "id" : 25737552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-04T23:53:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25737552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "g++ 4.8.1 isn't that good then as I have verified that the generated binaries after the patch were smaller.\r\n\r\nI have seen computation programs execution time reduced from 2 hours to 25 mins by doing just that.\r\n\r\nGranted bitcoin is probably more io bounded than it is doing heavy STL iterations but why doing gratuitous pessimization when a better form that does not affect readability or code complexity exist is offered?\r\n\r\nI want to contribute to your project and before taking on more ambitious tasks, I want to slowly gain your trust by doing small improvements.\r\n\r\nGreetings,\r\n",
      "created_at" : "2013-10-05T06:10:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25742924",
      "id" : 25742924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-05T06:10:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25742924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4829131?v=3",
         "events_url" : "https://api.github.com/users/lano1106/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lano1106/followers",
         "following_url" : "https://api.github.com/users/lano1106/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lano1106/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lano1106",
         "id" : 4829131,
         "login" : "lano1106",
         "organizations_url" : "https://api.github.com/users/lano1106/orgs",
         "received_events_url" : "https://api.github.com/users/lano1106/received_events",
         "repos_url" : "https://api.github.com/users/lano1106/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lano1106/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lano1106/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lano1106"
      }
   },
   {
      "body" : "Our bottleneck is testing and review, so the best way to slowly gain our trust is to help test and review existing pull requests, before adding to the general workload by submitting small improvements that must still be tested and reviewed.\r\n\r\nRE: generated binaries are smaller: how much smaller for release builds?  Eleven bytes or eleven-hundred K? Significantly smaller binaries would be a good reason to accept this patch (and should have been mentioned at the start as a reason to accept).\r\n",
      "created_at" : "2013-10-05T06:52:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25743331",
      "id" : 25743331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-05T06:52:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25743331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "> I have seen computation programs execution time reduced from 2 hours to 25 mins by doing just that.\r\n\r\nAnd the improvement here was?\r\n",
      "created_at" : "2013-10-05T15:07:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25750200",
      "id" : 25750200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-05T15:07:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25750200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Gavin,\r\n\r\nWe are talking about 10KB on the 64-bits build but I think that you were right and I must say that this is before stripping the exec. After stripping they have the same size.\r\n\r\nI have explored the question further with these small test program\r\n\r\nlano1106@Wailaba2 ~/dev/test :( $ cat pre.cpp\r\n#include <iostream>\r\n#include <map>\r\n\r\nint main( int argc, char *argv[] )\r\n{\r\n\tstd::map<int,int> m;\r\n\r\n\tfor( int i = 0; i < 10; ++i )\r\n\t\tm[i] = i;\r\n\r\n\tfor( auto it = m.begin(); it != m.end(); ++it )\r\n\t{\r\n\t\tstd::cout << it->first << ':' << it->second << '\\n';\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\nlano1106@Wailaba2 ~/dev/test $ cat post.cpp \r\n#include <iostream>\r\n#include <map>\r\n\r\nint main( int argc, char *argv[] )\r\n{\r\n\tstd::map<int,int> m;\r\n\r\n\tfor( int i = 0; i < 10; ++i )\r\n\t\tm[i] = i;\r\n\r\n\tfor( auto it = m.begin(); it != m.end(); it++ )\r\n\t{\r\n\t\tstd::cout << it->first << ':' << it->second << '\\n';\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n\r\nlano1106@Wailaba2 ~/dev/test $ g++ -S -std=c++11 pre.cpp\r\nlano1106@Wailaba2 ~/dev/test $ g++ -S -std=c++11 post.cpp \r\nlano1106@Wailaba2 ~/dev/test $ diff pre.s post.s\r\n\r\nThe output is significantly different but as soon as you put a -O switch the difference goes away.\r\n\r\nI have learn something from this discussion.\r\n\r\nThanks",
      "created_at" : "2013-10-06T05:12:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25762528",
      "id" : 25762528,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-06T05:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25762528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4829131?v=3",
         "events_url" : "https://api.github.com/users/lano1106/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lano1106/followers",
         "following_url" : "https://api.github.com/users/lano1106/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lano1106/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lano1106",
         "id" : 4829131,
         "login" : "lano1106",
         "organizations_url" : "https://api.github.com/users/lano1106/orgs",
         "received_events_url" : "https://api.github.com/users/lano1106/received_events",
         "repos_url" : "https://api.github.com/users/lano1106/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lano1106/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lano1106/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lano1106"
      }
   },
   {
      "body" : "We're not a big fan of commits that make changes all over the place. If you want to optimize, it's better to pick a function that's used a lot, benchmark it, then re-benchmark it after the changes.\r\n",
      "created_at" : "2013-10-06T07:33:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-25763768",
      "id" : 25763768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2013-10-06T07:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25763768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@gavinandresen I'm pretty sure it would violate the C++ spec to optimise away postfix copying.\r\n\r\n@lano1106 Gaining trust should not be a goal here. Every change must be carefully reviewed, tested, and audited, regardless of how much \"trust\" anyone has for the author.",
      "created_at" : "2014-02-20T22:34:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3054#issuecomment-35677755",
      "id" : 35677755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3054",
      "updated_at" : "2014-02-20T22:34:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35677755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
