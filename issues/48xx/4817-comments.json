[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4817#discussion_r16992269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4817"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16992269"
         }
      },
      "body" : "Can you refactor so this isn't repeated in txmempool.cpp and core.cpp? If not, then a comment in both places is in order, so if we decide it should be 42U + ... we update in both places.",
      "commit_id" : "c26649f9ed03fa9505e44aaf7f8cfdaa81f734cc",
      "created_at" : "2014-09-02T15:03:35Z",
      "diff_hunk" : "@@ -23,6 +23,14 @@ CTxMemPoolEntry::CTxMemPoolEntry(const CTransaction& _tx, int64_t _nFee,\n     tx(_tx), nFee(_nFee), nTime(_nTime), dPriority(_dPriority), nHeight(_nHeight)\n {\n     nTxSize = ::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION);\n+\n+    nModSize = nTxSize;\n+    BOOST_FOREACH(const CTxIn& txin, tx.vin)\n+    {\n+        unsigned int offset = 41U + std::min(110U, (unsigned int)txin.scriptSig.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#discussion_r16992269",
      "id" : 16992269,
      "original_commit_id" : "9bc8c20bfec24f7aa73786576046edd3b0f114b8",
      "original_position" : 8,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4817",
      "updated_at" : "2014-09-08T15:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/16992269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "OK I added a function `CalculateModifiedSize` to `CTransaction` and now that code is only called once.  I find the plethora of priority calculating functions (`CTransaction::ComputePriority`, `CConsViewCache::GetPriority`, `CTxMemPoolEntry::GetPriority`) a bit hard to follow on first look, but I couldn't see any reasonable way to clean them up.  Should I get rid of the `GetModSize()` accessor since it's not used?",
      "created_at" : "2014-09-02T19:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54201667",
      "id" : 54201667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-02T19:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54201667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "If something isn't used, yes, get rid of it!",
      "created_at" : "2014-09-02T19:10:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54202188",
      "id" : 54202188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-02T19:10:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54202188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Maybe you can squash these commits? Still, ut ACK.",
      "created_at" : "2014-09-08T06:46:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54781904",
      "id" : 54781904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-08T06:46:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54781904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "untested ACK",
      "created_at" : "2014-09-08T13:18:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54815479",
      "id" : 54815479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-08T13:18:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54815479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ok squashed",
      "created_at" : "2014-09-08T15:32:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54838383",
      "id" : 54838383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-08T15:32:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54838383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4817_c26649f9ed03fa9505e44aaf7f8cfdaa81f734cc/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-09-08T15:50:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-54841271",
      "id" : 54841271,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-08T15:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54841271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2014-09-15T01:59:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4817#issuecomment-55547204",
      "id" : 55547204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4817",
      "updated_at" : "2014-09-15T01:59:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/55547204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
