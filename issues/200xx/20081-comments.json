[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "please take a view at  #19419 could u check if that PR applied on top of master  might fix ur problem?",
      "created_at" : "2020-10-05T08:26:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-703483511",
      "id" : 703483511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMzQ4MzUxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-05T08:26:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/703483511",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I am having trouble compiling bitcoind on my Windows machine so I am afraid I cannot test that PR.",
      "created_at" : "2020-10-11T19:34:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-706756859",
      "id" : 706756859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjc1Njg1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-11T19:34:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706756859",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/24950563?v=4",
         "events_url" : "https://api.github.com/users/Linrono/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Linrono/followers",
         "following_url" : "https://api.github.com/users/Linrono/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Linrono/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Linrono",
         "id" : 24950563,
         "login" : "Linrono",
         "node_id" : "MDQ6VXNlcjI0OTUwNTYz",
         "organizations_url" : "https://api.github.com/users/Linrono/orgs",
         "received_events_url" : "https://api.github.com/users/Linrono/received_events",
         "repos_url" : "https://api.github.com/users/Linrono/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Linrono/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Linrono/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Linrono"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The Bitcoin Core software uses stock standard win32 API's to access the Windows file system. I think the main issue here is how the software ended up trying to access the ` System Volume Information` directory in the first place. That directory isn't meant to be directly accessed by applications.\r\n\r\nIf you still have it could you paste a copy of your `bitcoin.conf` file (with any sensitive info removed)? ",
      "created_at" : "2020-12-02T20:42:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-737483599",
      "id" : 737483599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczNzQ4MzU5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-02T20:42:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737483599",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake I think this issue can be closed. No Windows application will work properly if it attempts to use the `System Volume Information` directory.\r\n\r\nThe only outstanding question is how/why `bitcoin-qt` attempted to use that directory in the first place. Without further info it's just guess work.",
      "created_at" : "2020-12-07T09:51:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-739805758",
      "id" : 739805758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTgwNTc1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T09:51:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739805758",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm sorry, I guess I wasn't clear as to why I believe this is happening. Bitcoin-QT is trying to find any local wallets. Default setting created wallets beyond the initial wallet are stored in folders in the Data Directory. When I try to open a different wallet, Bitcoin-QT searches the Data Directory for folders with possible wallets in them, and it finds the System Volume Information folder, and tries to access it, then it crashes. At least without a dive into the code, that is what it looks like is happening. This only happens when the Data Directory is set to the Root of a Hard Drive because that is where the System Volume Information folder is. All I had to do was move the Data Directory into a folder a step up from the Root of the Drive and this was no longer an issue. I guess a fix would be for Bitcoin-QT to recognize that any folder named System Volume Information is off limits, or at least stop trying to access it if it fails. By the way, this also happens when just running bitcoind.exe and bitcoin-cli.exe getwalletdir, so it isn't just Bitcoin-QT that is affected.\r\nHere is my bitcoin.conf if that helps.  \r\n`server=1\r\ntxindex=1\r\ndaemon=0\r\nzmqpubrawblock=tcp://127.0.0.1:28332\r\nzmqpubrawtx=tcp://127.0.0.1:28333\r\nassumevalid=0`",
      "created_at" : "2020-12-07T18:13:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-740089209",
      "id" : 740089209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDA4OTIwOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T18:18:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740089209",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/24950563?v=4",
         "events_url" : "https://api.github.com/users/Linrono/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Linrono/followers",
         "following_url" : "https://api.github.com/users/Linrono/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Linrono/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Linrono",
         "id" : 24950563,
         "login" : "Linrono",
         "node_id" : "MDQ6VXNlcjI0OTUwNTYz",
         "organizations_url" : "https://api.github.com/users/Linrono/orgs",
         "received_events_url" : "https://api.github.com/users/Linrono/received_events",
         "repos_url" : "https://api.github.com/users/Linrono/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Linrono/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Linrono/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Linrono"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Linrono great, thanks for the additional info. I'll attempt to replicate the problem and if it does cause a crash or fills up the log it's definitely something that should be fixed.",
      "created_at" : "2020-12-07T20:33:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-740163878",
      "id" : 740163878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDE2Mzg3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T20:33:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740163878",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Linrono I'm not having much luck being able to replicate the problem with the latest code. It could well be that the #19419 PR mentioned above has removed the attempt to list the contents of the wallet directory.\r\n\r\nUsing a recent build of the `master` I've used the command below and get the expected error that the wallet path does not exist. The debug log does not record anything untoward and there's no unexpected crash:\r\n\r\n`bitcoin-qt -regtest -walletdir=\"c:\\system volume information\"`\r\n\r\nIf you're able to execute that command from the command line and report your results that would be very useful.\r\n\r\nFailing that, or in addition to it, you can download the latest release candidate from https://bitcoincore.org/bin/bitcoin-core-0.21.0/test.rc2/ and see if it now behaves. \r\n\r\nOf course don't try any of this with a `mainnet` wallet.\r\n",
      "created_at" : "2020-12-07T21:10:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/20081#issuecomment-740181807",
      "id" : 740181807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20081",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MDE4MTgwNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T21:10:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/740181807",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   }
]
