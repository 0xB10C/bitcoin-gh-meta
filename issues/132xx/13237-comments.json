[
   {
      "author_association" : "MEMBER",
      "body" : "Sounds sensible to add support to replace the 2nd `%s` with the wallet name.\r\n\r\nConcept ACK.\r\n\r\n",
      "created_at" : "2018-05-15T14:52:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13237#issuecomment-389196330",
      "id" : 389196330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13237",
      "updated_at" : "2018-05-15T14:52:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389196330",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually it's preferable to use a different placeholder for the wallet name, like @Kexkey suggests, because currently\r\n```cpp\r\nboost::replace_all(strCmd, \"%s\", wtxIn.GetHash().GetHex());\r\n```\r\nso this should work:\r\n```cpp\r\nboost::replace_all(strCmd, \"%w\", GetName());\r\n```",
      "created_at" : "2018-05-15T15:13:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13237#issuecomment-389204112",
      "id" : 389204112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13237",
      "updated_at" : "2018-05-15T15:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389204112",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just throwing my two cents in, this is how I currently deal with incoming transactions.\r\nOthers might not be aware of this or just getting started.\r\nIt could simply adjust someone's perspective and allow them to create something entirely better.\r\n\r\n**Incoming Transaction Pseudocode**\r\n```\r\nInstant Payment URL Notification\r\n-------------------------------------------\r\nwalletnotify=someurl/btc/:txid\r\n[url.get receiver]\r\naddtransaction(get txid parameter in url)\r\n\r\nBackground Cron Job\r\n--------------------------------------------\r\ncron listtransactions every minute\r\niterate through all the txids\r\naddtransaction(txid)\r\n\r\nfunction addtransaction(txid)\r\ntxdata = gettransaction txid\r\nif txdata.account = \"users_wallet\"  \r\n   add txdata as new record in table user_transactions\r\n  confirmations = txdata.confirmations\r\n  trans_amount = txdata.amount\r\n  ...\r\nend if\r\nend function\r\n```\r\n\r\n`if txdata.account = \"users_wallet\"` might be better to do `if txdata.label = \"users_wallet\"`.  Noticed those variables always match up, is the account name being deprecated?\r\n\r\nSample JSON RPC Output - gettransaction <txid>\r\n```\r\n[\r\n  {\r\n    \"account\": \"indospace\",\r\n    \"address\": \"bitcoincash:qq730w3dys53j3msnldex84shw695atvuvh7hj3u3q\",\r\n    \"category\": \"receive\",\r\n    \"amount\": 0.00009754,\r\n    \"label\": \"indospace\",\r\n    \"vout\": 0,\r\n    \"confirmations\": 234,\r\n    \"blockhash\": \"000000000000000000939cd1b4771d1762b86fbac7f89a4cd9618103f7d992d1\",\r\n    \"blockindex\": 106,\r\n    \"blocktime\": 1526261896,\r\n    \"txid\": \"339c1604a03ca14d956b76037fa71e453e7c1edf1029f7fc94a8bbe3bee38c00\",\r\n    \"walletconflicts\": [\r\n    ],\r\n    \"time\": 1526261567,\r\n    \"timereceived\": 1526261567\r\n  }\r\n]\r\n```\r\n\r\n",
      "created_at" : "2018-05-15T15:33:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13237#issuecomment-389211311",
      "id" : 389211311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13237",
      "updated_at" : "2018-05-15T15:45:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389211311",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7561190?v=4",
         "events_url" : "https://api.github.com/users/knoxcard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/knoxcard/followers",
         "following_url" : "https://api.github.com/users/knoxcard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/knoxcard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/knoxcard",
         "id" : 7561190,
         "login" : "knoxcard",
         "organizations_url" : "https://api.github.com/users/knoxcard/orgs",
         "received_events_url" : "https://api.github.com/users/knoxcard/received_events",
         "repos_url" : "https://api.github.com/users/knoxcard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/knoxcard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/knoxcard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/knoxcard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "After taking a good look at this thread, I am leaning towards @Kexkey suggestion.  It is could be worth adding primarily due to programming structure, secondarily to ridding an unnecessary iterative process.  If you are a busy platform receiving thousands of payments, you still have to iterate through every incoming transaction to determine if it belongs to a particular wallet.  Now, what does this cost CPU and memory wise?  Maybe not much at all, but I find it kind of ugly in terms of programmatical structure.  \r\n",
      "created_at" : "2018-05-15T15:49:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13237#issuecomment-389216766",
      "id" : 389216766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13237",
      "updated_at" : "2018-05-15T15:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389216766",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7561190?v=4",
         "events_url" : "https://api.github.com/users/knoxcard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/knoxcard/followers",
         "following_url" : "https://api.github.com/users/knoxcard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/knoxcard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/knoxcard",
         "id" : 7561190,
         "login" : "knoxcard",
         "organizations_url" : "https://api.github.com/users/knoxcard/orgs",
         "received_events_url" : "https://api.github.com/users/knoxcard/received_events",
         "repos_url" : "https://api.github.com/users/knoxcard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/knoxcard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/knoxcard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/knoxcard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should the wallet name be in ZMQ notifications too?",
      "created_at" : "2018-05-30T09:05:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13237#issuecomment-393087373",
      "id" : 393087373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13237",
      "updated_at" : "2018-05-30T09:05:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/393087373",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
