[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21284#discussion_r581594058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581594058"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Default should probably be \"as needed\", and let \"true\" (perhaps not now, but someday) be used to force additional inputs?",
      "commit_id" : "40bde1a8898813cdc7d724e429b12966e812a055",
      "created_at" : "2021-02-24T03:36:28Z",
      "diff_hunk" : "@@ -3444,6 +3444,7 @@ static RPCHelpMan bumpfee_helper(std::string method_name)\n                              \"are replaceable).\\n\"},\n                     {\"estimate_mode\", RPCArg::Type::STR, /* default */ \"unset\", std::string() + \"The fee estimate mode, must be one of (case insensitive):\\n\"\n     \"         \\\"\" + FeeModes(\"\\\"\\n\\\"\") + \"\\\"\"},\n+                    {\"add_inputs\", RPCArg::Type::BOOL, /* default */ \"true\", \"For a transaction with existing inputs, automatically include more if they are not enough.\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21284#discussion_r581594058",
      "id" : 581594058,
      "line" : 3447,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU5NDA1OA==",
      "original_commit_id" : "40bde1a8898813cdc7d724e429b12966e812a055",
      "original_line" : 3447,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 597037503,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21284",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T03:36:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581594058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Compiled successfully. Tests failed.\r\n\r\nTried experimenting with `add_inputs`:\r\n\r\n1.  Transaction with 2 inputs selected manually and custom change address (A new receive address created and used as change):\r\n\r\nFALSE\r\n\r\n<pre>bumpfee fe60cda11767cd6c6c46a173a3ffa9cf3f71bc5f7af774ab641f6ede92fcd46a \"{\\\"add_inputs\\\": false}\"\r\n</pre>\r\n\r\nError:\r\n\r\n<pre>\r\nUnable to create transaction. Insufficient funds (code -4)\r\n</pre>\r\n\r\nTRUE\r\n\r\n<pre>\r\nbumpfee fe60cda11767cd6c6c46a173a3ffa9cf3f71bc5f7af774ab641f6ede92fcd46a \"{\\\"add_inputs\\\": true}\"\r\n</pre>\r\n\r\n<pre>\r\n{\r\n  \"txid\": \"2915edc7e7b8b375dc37a701146025b547903014e4a9652ba4dcb8cf77718ff8\",\r\n  \"origfee\": 0.00000208,\r\n  \"fee\": 0.00005502,\r\n  \"errors\": [\r\n  ]\r\n}\r\n</pre>\r\n\r\n2. Transaction with 2 inputs selected manually and custom change address (A new change address created and used as change):\r\n\r\nFALSE\r\n\r\n<pre>bumpfee 86d1a738d652d4511810cf9c820b4bb294edcaff845ab9559ce4c7c33543662f \"{\\\"add_inputs\\\": false}\"</pre>\r\n\r\nNo Error:\r\n\r\n<pre>\r\n{\r\n  \"txid\": \"a1a564ae1983e1a87e731c4b9b205f3e8edbd724bb03d4474090f32ccd8f55a0\",\r\n  \"origfee\": 0.00000208,\r\n  \"fee\": 0.00001248,\r\n  \"errors\": [\r\n  ]\r\n}\r\n</pre>\r\n\r\nNot sure if this option is really solving the issue or will help users until we fix other related issues.\r\n\r\n",
      "created_at" : "2021-02-24T20:16:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21284#issuecomment-785345980",
      "id" : 785345980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21284",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NTM0NTk4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-24T20:16:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785345980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr I made the suggested change but am a little worried that it won't be clear to users what value to use if they don't want new inputs to be added.\r\n\r\n@prayank23 I will look into what causes a change address to behave differently and possibly propose something. I agree that the current change will make things worse if the behavior is inconsistent.",
      "created_at" : "2021-02-25T18:19:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21284#issuecomment-786104090",
      "id" : 786104090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21284",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NjEwNDA5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-25T18:19:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786104090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@danben Check https://github.com/bitcoin/bitcoin/issues/20795, https://github.com/bitcoin-core/gui/pull/186 and https://github.com/bitcoin/bitcoin/issues/20598",
      "created_at" : "2021-02-25T18:57:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21284#issuecomment-786127295",
      "id" : 786127295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21284",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NjEyNzI5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-25T18:57:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/786127295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
