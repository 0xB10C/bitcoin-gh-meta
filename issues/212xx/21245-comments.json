[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21170 (bench: Add benchmark to write JSON into a string by martinus)\n* #20286 (rpc: deprecate `addresses` and `reqSigs` from rpc outputs by mjdietzx)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-02-20T14:23:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-782683416",
      "id" : 782683416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4MjY4MzQxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-22T03:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782683416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Thanks for picking this up! Will have a closer look and test this soon.",
      "created_at" : "2021-02-23T21:21:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#issuecomment-784520925",
      "id" : 784520925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21245",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NDUyMDkyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-02-23T21:21:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784520925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581587569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581587569"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Where did \"height\" and \"generated\" go?",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T03:15:59Z",
      "diff_hunk" : "@@ -223,6 +223,17 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (display_prev_out && (nullptr != txundo)) {\n+            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            UniValue p(UniValue::VOBJ);\n+            UniValue o_script_pub_key(UniValue::VOBJ);\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581587569",
      "id" : 581587569,
      "line" : 237,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4NzU2OQ==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 237,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 24,
      "pull_request_review_id" : 597029872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581587569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581588425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581588425"
         }
      },
      "author_association" : "MEMBER",
      "body" : "no thx",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T03:18:36Z",
      "diff_hunk" : "@@ -154,30 +154,39 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, BlockToJsonVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case BlockToJsonVerbosity::DONT_SHOW_TX_DETAILS:\n+        for (const CTransactionRef& tx : block.vtx) {\n+            txs.push_back(tx->GetHash().GetHex());\n+        }\n+        break;\n+\n+      case BlockToJsonVerbosity::TX_DETAILS:\n+      case BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT:\n         CBlockUndo blockUndo;\n         const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n         for (size_t i = 0; i < block.vtx.size(); ++i) {\n             const CTransactionRef& tx = block.vtx.at(i);\n             // coinbase transaction (i == 0) doesn't have undo data\n             const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n+            const bool display_prev_out = (verbosity == BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT);\n             UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n+            std::cout << display_prev_out  << std::endl;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581588425",
      "id" : 581588425,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4ODQyNQ==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 184,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 597029872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581588425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581589321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581589321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can we just use `BlockToJsonVerbosity` here? (Maybe rename it)",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T03:20:55Z",
      "diff_hunk" : "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r581589321",
      "id" : 581589321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTU4OTMyMQ==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 49,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/core_io.h",
      "position" : null,
      "pull_request_review_id" : 597029872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581589321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284150"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284150"
         }
      },
      "author_association" : "NONE",
      "body" : "I renamed it to TxVerbosity, and moved it to src/core_io.h. Feels cleaner than passing bools.",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T20:36:30Z",
      "diff_hunk" : "@@ -46,6 +46,6 @@ std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr, const bool display_prev_out = false);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284150",
      "id" : 582284150,
      "in_reply_to_id" : 581589321,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDE1MA==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 49,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/core_io.h",
      "position" : null,
      "pull_request_review_id" : 597912109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:36:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6006469?v=4",
         "events_url" : "https://api.github.com/users/fyquah/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fyquah/followers",
         "following_url" : "https://api.github.com/users/fyquah/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fyquah/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fyquah",
         "id" : 6006469,
         "login" : "fyquah",
         "node_id" : "MDQ6VXNlcjYwMDY0Njk=",
         "organizations_url" : "https://api.github.com/users/fyquah/orgs",
         "received_events_url" : "https://api.github.com/users/fyquah/received_events",
         "repos_url" : "https://api.github.com/users/fyquah/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fyquah/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fyquah"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284273"
         }
      },
      "author_association" : "NONE",
      "body" : "Removed, sorry :)",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T20:36:38Z",
      "diff_hunk" : "@@ -154,30 +154,39 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n     return result;\n }\n \n-UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, bool txDetails)\n+UniValue blockToJSON(const CBlock& block, const CBlockIndex* tip, const CBlockIndex* blockindex, BlockToJsonVerbosity verbosity)\n {\n     UniValue result = blockheaderToJSON(tip, blockindex);\n \n     result.pushKV(\"strippedsize\", (int)::GetSerializeSize(block, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS));\n     result.pushKV(\"size\", (int)::GetSerializeSize(block, PROTOCOL_VERSION));\n     result.pushKV(\"weight\", (int)::GetBlockWeight(block));\n     UniValue txs(UniValue::VARR);\n-    if (txDetails) {\n+\n+    switch (verbosity) {\n+      case BlockToJsonVerbosity::DONT_SHOW_TX_DETAILS:\n+        for (const CTransactionRef& tx : block.vtx) {\n+            txs.push_back(tx->GetHash().GetHex());\n+        }\n+        break;\n+\n+      case BlockToJsonVerbosity::TX_DETAILS:\n+      case BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT:\n         CBlockUndo blockUndo;\n         const bool have_undo = !IsBlockPruned(blockindex) && UndoReadFromDisk(blockUndo, blockindex);\n+\n         for (size_t i = 0; i < block.vtx.size(); ++i) {\n             const CTransactionRef& tx = block.vtx.at(i);\n             // coinbase transaction (i == 0) doesn't have undo data\n             const CTxUndo* txundo = (have_undo && i) ? &blockUndo.vtxundo.at(i - 1) : nullptr;\n+            const bool display_prev_out = (verbosity == BlockToJsonVerbosity::TX_DETAILS_AND_PREV_OUT);\n             UniValue objTx(UniValue::VOBJ);\n-            TxToUniv(*tx, uint256(), objTx, true, RPCSerializationFlags(), txundo);\n+            std::cout << display_prev_out  << std::endl;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284273",
      "id" : 582284273,
      "in_reply_to_id" : 581588425,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDI3Mw==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 184,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 597912186,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6006469?v=4",
         "events_url" : "https://api.github.com/users/fyquah/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fyquah/followers",
         "following_url" : "https://api.github.com/users/fyquah/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fyquah/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fyquah",
         "id" : 6006469,
         "login" : "fyquah",
         "node_id" : "MDQ6VXNlcjYwMDY0Njk=",
         "organizations_url" : "https://api.github.com/users/fyquah/orgs",
         "received_events_url" : "https://api.github.com/users/fyquah/received_events",
         "repos_url" : "https://api.github.com/users/fyquah/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fyquah/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fyquah"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284718"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284718"
         }
      },
      "author_association" : "NONE",
      "body" : "Added it back",
      "commit_id" : "dc684798a0c936c04a10fb06562493c32e03f8f0",
      "created_at" : "2021-02-24T20:37:04Z",
      "diff_hunk" : "@@ -223,6 +223,17 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n             const CTxOut& prev_txout = txundo->vprevout[i].out;\n             amt_total_in += prev_txout.nValue;\n         }\n+        if (display_prev_out && (nullptr != txundo)) {\n+            const CTxOut& prev_txout = txundo->vprevout[i].out;\n+            UniValue p(UniValue::VOBJ);\n+            UniValue o_script_pub_key(UniValue::VOBJ);\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21245#discussion_r582284718",
      "id" : 582284718,
      "in_reply_to_id" : 581587569,
      "line" : 237,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NDcxOA==",
      "original_commit_id" : "6eede79af11d8fdfa55ad38a751c287864777b46",
      "original_line" : 237,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/core_write.cpp",
      "position" : 24,
      "pull_request_review_id" : 597912508,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21245",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-02-24T20:37:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/582284718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6006469?v=4",
         "events_url" : "https://api.github.com/users/fyquah/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fyquah/followers",
         "following_url" : "https://api.github.com/users/fyquah/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fyquah/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fyquah",
         "id" : 6006469,
         "login" : "fyquah",
         "node_id" : "MDQ6VXNlcjYwMDY0Njk=",
         "organizations_url" : "https://api.github.com/users/fyquah/orgs",
         "received_events_url" : "https://api.github.com/users/fyquah/received_events",
         "repos_url" : "https://api.github.com/users/fyquah/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fyquah/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fyquah/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fyquah"
      }
   }
]
