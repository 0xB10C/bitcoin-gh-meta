[
   {
      "author_association" : "MEMBER",
      "body" : "Nice, concept ACK, this is a surprisingly small patch.\r\n",
      "created_at" : "2020-12-16T11:14:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746126172",
      "id" : 746126172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjEyNjE3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:14:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746126172",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-12-16T11:21:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746133718",
      "id" : 746133718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjEzMzcxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:21:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746133718",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK -- nice",
      "created_at" : "2020-12-16T11:34:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746149990",
      "id" : 746149990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjE0OTk5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:34:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746149990",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\n#19806 could be rebased on this to remove the need for additional boost dependencies: https://github.com/bitcoin/bitcoin/pull/19806#discussion_r543721793.\r\n\r\n@MarcoFalke do you still consider #19426 a prerequisite for this? (https://github.com/bitcoin/bitcoin/pull/19183#issuecomment-733637916)",
      "created_at" : "2020-12-16T11:34:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746150621",
      "id" : 746150621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjE1MDYyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:34:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746150621",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: nice to get rid of old cruft",
      "created_at" : "2020-12-16T11:44:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746160465",
      "id" : 746160465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjE2MDQ2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:44:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746160465",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @MarcoFalke do you still consider #19426 a prerequisite for this? (#19183 (comment))\r\n\r\nI was hoping to get that in first, so that the first commit is easier to review. Though, it is not a strict requirement.",
      "created_at" : "2020-12-16T11:53:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746171853",
      "id" : 746171853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjE3MTg1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T11:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746171853",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "References for the third commit:\r\n\r\nhttps://www.boost.org/doc/libs/1_75_0/libs/optional/doc/html/boost_optional/reference/header__boost_optional_optional_hpp_/detailed_semantics___optional_values.html\r\n\r\nhttps://en.cppreference.com/w/cpp/utility/optional",
      "created_at" : "2020-12-16T12:07:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746189503",
      "id" : 746189503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjE4OTUwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T12:07:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746189503",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19806 (validation: UTXO snapshot activation by jamesob)\n* #19426 (refactor: Change * to & in MutableTransactionSignatureCreator by MarcoFalke)\n* #19183 ([WIP DONOTMERGE] Replace boost with C++17 by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-12-16T16:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-746626732",
      "id" : 746626732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NjYyNjczMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-16T16:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/746626732",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2020-12-18T09:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-747992140",
      "id" : 747992140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0Nzk5MjE0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-18T09:50:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/747992140",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545726169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545726169"
         }
      },
      "author_association" : "MEMBER",
      "body" : "To avoid conflicts with other pulls or backports? If so it could mention an acceptable time to remove this alias.",
      "commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "created_at" : "2020-12-18T10:00:23Z",
      "diff_hunk" : "@@ -5,22 +5,16 @@\n #ifndef BITCOIN_OPTIONAL_H\n #define BITCOIN_OPTIONAL_H\n \n+#include <optional>\n #include <utility>\n \n-#include <boost/optional.hpp>\n-\n //! Substitute for C++17 std::optional\n+//! DEPRECATED use std::optional in new code.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545726169",
      "id" : 545726169,
      "line" : 12,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTcyNjE2OQ==",
      "original_commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "original_line" : 12,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/optional.h",
      "position" : 10,
      "pull_request_review_id" : 555351380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-18T10:00:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545726169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545742067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545742067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd say when 0.21.1 is out or when 0.22 is about to get branched off, whichever happens first.",
      "commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "created_at" : "2020-12-18T10:29:52Z",
      "diff_hunk" : "@@ -5,22 +5,16 @@\n #ifndef BITCOIN_OPTIONAL_H\n #define BITCOIN_OPTIONAL_H\n \n+#include <optional>\n #include <utility>\n \n-#include <boost/optional.hpp>\n-\n //! Substitute for C++17 std::optional\n+//! DEPRECATED use std::optional in new code.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545742067",
      "id" : 545742067,
      "in_reply_to_id" : 545726169,
      "line" : 12,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc0MjA2Nw==",
      "original_commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "original_line" : 12,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/optional.h",
      "position" : 10,
      "pull_request_review_id" : 555371872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-18T10:29:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545742067",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545761989"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545761989"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sounds good to me.",
      "commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "created_at" : "2020-12-18T11:08:04Z",
      "diff_hunk" : "@@ -5,22 +5,16 @@\n #ifndef BITCOIN_OPTIONAL_H\n #define BITCOIN_OPTIONAL_H\n \n+#include <optional>\n #include <utility>\n \n-#include <boost/optional.hpp>\n-\n //! Substitute for C++17 std::optional\n+//! DEPRECATED use std::optional in new code.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#discussion_r545761989",
      "id" : 545761989,
      "in_reply_to_id" : 545726169,
      "line" : 12,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc2MTk4OQ==",
      "original_commit_id" : "fa9479319407751247e0c540786c029957c7f535",
      "original_line" : 12,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/optional.h",
      "position" : 10,
      "pull_request_review_id" : 555397224,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20671",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-18T11:08:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545761989",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Replace get_ptr() with &value() in UpdatePSBTOutput\r\n> This is safe because a value is always contained in this optional\r\n\r\nWhat do you think about explicitly stating that assumption at the top of the function:\r\n\r\n```diff\r\n--- a/src/psbt.cpp\r\n+++ b/src/psbt.cpp\r\n@@ -207,7 +207,11 @@ size_t CountPSBTUnsignedInputs(const PartiallySignedTransaction& psbt) {\r\n \r\n void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransaction& psbt, int index)\r\n {\r\n-    const CTxOut& out = psbt.tx->vout.at(index);\r\n+    // tx must be filled before updating this PSBT.\r\n+    assert(psbt.tx.has_value());\r\n+    CMutableTransaction& tx = psbt.tx.value();\r\n+\r\n+    const CTxOut& out = tx.vout.at(index);\r\n     PSBTOutput& psbt_out = psbt.outputs.at(index);\r\n \r\n     // Fill a SignatureData with output info\r\n@@ -217,7 +221,7 @@ void UpdatePSBTOutput(const SigningProvider& provider, PartiallySignedTransactio\r\n     // Construct a would-be spend of this output, to update sigdata with.\r\n     // Note that ProduceSignature is used to fill in metadata (not actual signatures),\r\n     // so provider does not need to provide any private keys (it can be a HidingSigningProvider).\r\n-    MutableTransactionSignatureCreator creator(&psbt.tx.value(), /* index */ 0, out.nValue, SIGHASH_ALL);\r\n+    MutableTransactionSignatureCreator creator(&tx, /* index */ 0, out.nValue, SIGHASH_ALL);\r\n```",
      "created_at" : "2020-12-18T11:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20671#issuecomment-748046093",
      "id" : 748046093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20671",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0ODA0NjA5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-18T11:55:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/748046093",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
