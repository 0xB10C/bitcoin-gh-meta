[
   {
      "author_association" : "MEMBER",
      "body" : "Needs backport to all branches that we plan on making further releases from.\r\n\r\nWe also need to verify that after doing the code signing that the behavior is what we expect, so @jonasschnelli will need to make a code signature for this PR.",
      "created_at" : "2020-12-12T16:59:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743783927",
      "id" : 743783927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0Mzc4MzkyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T16:59:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743783927",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541673242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541673242"
         }
      },
      "author_association" : "MEMBER",
      "body" : "an aside but 500k is crazy large for a cryptographic signature, i only know some of the quantum-hard signature algorithms produce such large signatures, is it known what algorithm they're using?",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T17:10:58Z",
      "diff_hunk" : "@@ -130,6 +131,23 @@ script: |\n     make ${MAKEOPTS} -C src check-symbols\n     make install-strip DESTDIR=${INSTALLPATH}\n \n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there. We use a fixed overestimate because that's easier. Looking at previous releases, the largest MacOS\n+    # code signature since 0.12.1 was ~408000 bytes, so using 500000 should be sufficiently large.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541673242",
      "id" : 541673242,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY3MzI0Mg==",
      "original_commit_id" : "ba8a52725f43019f0d3bebc7d187247020a9d9ea",
      "original_line" : 150,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550846137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541673242",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, thanks for investigating this weird problem.",
      "created_at" : "2020-12-12T17:22:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743786830",
      "id" : 743786830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0Mzc4NjgzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T17:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743786830",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541684017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541684017"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I assume it's just because without --pagesize 0, it splits the binary into pages, and signs every page separately. If a page is 4 kB by default (I don't know what the default is), it's not too surprising to get a huge result.\n\nWith --pagesize 0 the signature is just 20 kB. I believe it has still that size because \"resources\" that are embedded in the binary are still signed separately.",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T17:31:44Z",
      "diff_hunk" : "@@ -130,6 +131,23 @@ script: |\n     make ${MAKEOPTS} -C src check-symbols\n     make install-strip DESTDIR=${INSTALLPATH}\n \n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there. We use a fixed overestimate because that's easier. Looking at previous releases, the largest MacOS\n+    # code signature since 0.12.1 was ~408000 bytes, so using 500000 should be sufficiently large.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541684017",
      "id" : 541684017,
      "in_reply_to_id" : 541673242,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY4NDAxNw==",
      "original_commit_id" : "ba8a52725f43019f0d3bebc7d187247020a9d9ea",
      "original_line" : 150,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550847650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541684017",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541697807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541697807"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe it's RSA. The reason the signature is so big is because it's actually multiple signatures. By default, the binary is signed in page sized chunks with each piece getting its own signature. Or at least I think that's what the code is doing.",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T18:00:57Z",
      "diff_hunk" : "@@ -130,6 +131,23 @@ script: |\n     make ${MAKEOPTS} -C src check-symbols\n     make install-strip DESTDIR=${INSTALLPATH}\n \n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there. We use a fixed overestimate because that's easier. Looking at previous releases, the largest MacOS\n+    # code signature since 0.12.1 was ~408000 bytes, so using 500000 should be sufficiently large.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541697807",
      "id" : 541697807,
      "in_reply_to_id" : 541673242,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY5NzgwNw==",
      "original_commit_id" : "ba8a52725f43019f0d3bebc7d187247020a9d9ea",
      "original_line" : 150,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550849872,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541697807",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "MacOS Gitian build of 73d1a541147e72b07ce0e6c3a23ca6e94f74c3ce\r\n\r\n```\r\nbf682a0e960d153a6c862ad4af4f7fce584df3139ee74ecfd6c864ea91bf5c63  bitcoin-73d1a541147e-osx-unsigned.dmg\r\n836a13543e82062074400b7ef82d4e62ffc16a4f030c3e89e500e6164dca58ab  bitcoin-73d1a541147e-osx-unsigned.tar.gz\r\n87ba11ddf0fe08c531afd50ba2e638b1d74a857fcbf3f9a2a1dac1c2c515881e  bitcoin-73d1a541147e-osx64.tar.gz\r\ne6ee88e761dc0894daf6b094768453f9baea5a26209ecb64b44000cc6030dbdd  src/bitcoin-73d1a541147e.tar.gz\r\n```",
      "created_at" : "2020-12-12T18:02:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743793161",
      "id" : 743793161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0Mzc5MzE2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T18:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743793161",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541699717"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541699717"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks!\r\nyes 20kB isn't that surprising to me for RSA+metadata, and if it signs every page separately that definitely explains things",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T18:06:17Z",
      "diff_hunk" : "@@ -130,6 +131,23 @@ script: |\n     make ${MAKEOPTS} -C src check-symbols\n     make install-strip DESTDIR=${INSTALLPATH}\n \n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there. We use a fixed overestimate because that's easier. Looking at previous releases, the largest MacOS\n+    # code signature since 0.12.1 was ~408000 bytes, so using 500000 should be sufficiently large.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541699717",
      "id" : 541699717,
      "in_reply_to_id" : 541673242,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY5OTcxNw==",
      "original_commit_id" : "ba8a52725f43019f0d3bebc7d187247020a9d9ea",
      "original_line" : 150,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550850236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541699717",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\nThanks @achow101 and @sipa for investigating this cumbersome issue.\r\n\r\nWill do a gitian build (+ manual code signatures) asap.",
      "created_at" : "2020-12-12T18:53:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743799702",
      "id" : 743799702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0Mzc5OTcwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T18:53:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743799702",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20470 (build: Replace genisoimage with xorriso by dongcarl)\n* #17920 (guix: Build support for macOS by dongcarl)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-12-12T19:18:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743803042",
      "id" : 743803042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzgwMzA0Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T19:18:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743803042",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541743305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541743305"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This line seems outdated now.",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T19:20:36Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541743305",
      "id" : 541743305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTc0MzMwNQ==",
      "original_commit_id" : "3ca08c2d193705fc50044cc683387dac239337bc",
      "original_line" : 148,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550855385,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541743305",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've mostly worked out why the code signature is so big. The signature is primarily composed of hashes of 4096 byte pages of the unsigned binary. Then there is ~8kb of signature, and another ~10kb of overhead that I'm not quite sure. But given this, we can get a more accurate estimate of the actual size of the code signature.\r\n\r\nWith that in mind, I've dropped the commit that does `--pagesize 0`. As we can kind of predict what the signature size will be, it isn't necessary to make the signature as small as possible. Additionally, I believe MacOS is doing something with that list of hashes, perhaps an integrity check of each page as it is loaded into memory, so changing that may not be a good idea.",
      "created_at" : "2020-12-12T19:21:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743803381",
      "id" : 743803381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzgwMzM4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T19:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743803381",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541743953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541743953"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Which part?",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T19:21:48Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541743953",
      "id" : 541743953,
      "in_reply_to_id" : 541743305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTc0Mzk1Mw==",
      "original_commit_id" : "3ca08c2d193705fc50044cc683387dac239337bc",
      "original_line" : 148,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550855455,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541743953",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541744643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541744643"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's not way larger overestimate anymore.",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T19:22:59Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541744643",
      "id" : 541744643,
      "in_reply_to_id" : 541743305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTc0NDY0Mw==",
      "original_commit_id" : "3ca08c2d193705fc50044cc683387dac239337bc",
      "original_line" : 148,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550855520,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541744643",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541746112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541746112"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-12T19:25:23Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be way larger than actually needed, the signing step will not reduce \"vmsize\" so we",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541746112",
      "id" : 541746112,
      "in_reply_to_id" : 541743305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTc0NjExMg==",
      "original_commit_id" : "3ca08c2d193705fc50044cc683387dac239337bc",
      "original_line" : 148,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550855655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541746112",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "MacOS Gitian build for ef0ea90\r\n\r\n```\r\ne0f51c79af8598f8b99ed2341a476d97b846d2d556d375c3d93a163c77b6118a  bitcoin-ef0ea90d3e81-osx-unsigned.dmg\r\n017b20d59ef2c2594606dd0c3c1de11ab36c56b5cc34c2add1c78fc8db698b56  bitcoin-ef0ea90d3e81-osx-unsigned.tar.gz\r\n98560f5bef1938303a1f55448ba087f76ec7f35205ae64fec0efd129188fd8e1  bitcoin-ef0ea90d3e81-osx64.tar.gz\r\n8bd279c7439e19d783e70f2cf425c40b3306b97b9b2410297c2cb3e48f3bef33  src/bitcoin-ef0ea90d3e81.tar.gz\r\n```",
      "created_at" : "2020-12-12T19:32:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743804757",
      "id" : 743804757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzgwNDc1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T19:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743804757",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Approach ACK. Nice work.",
      "created_at" : "2020-12-12T19:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-743805893",
      "id" : 743805893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzgwNTg5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-12T19:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743805893",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541856915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541856915"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nIn gitian-osx.yml line 122:\r\n\r\n  UNSIGNED_SIZE=`stat -c %s ${BINARY_RESULT}`\r\n\r\n                ^---------------------------^ SC2006: Use $(...) notation instead of legacy backticked `...`.\r\n\r\nDid you mean: \r\n\r\n  UNSIGNED_SIZE=$(stat -c %s ${BINARY_RESULT})\r\n\r\nIn gitian-osx.yml line 123:\r\n\r\n  SIG_SIZE_EST=$(((((${UNSIGNED_SIZE} / 4096) + 1) * 32) + 50000))\r\n\r\n                     ^--------------^ SC2004: $/${} is unnecessary on arithmetic variables.\r\n\r\nFor more information:\r\n\r\n  https://www.shellcheck.net/wiki/SC2004 -- $/${} is unnecessary on arithmeti...\r\n\r\n  https://www.shellcheck.net/wiki/SC2006 -- Use $(...) notation instead of le...\r\n\r\n^---- failure generated from test/lint/lint-shell.sh",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-13T06:22:02Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there.\n+    #\n+    # From inspecting previous releases' code signatures, we find that the code signature primarily consists of SHA256 hashes of 4096 byte chunk\n+    # of the unsigned binary. There are a few other hashes of something. Then the signature itself, which is ~9kb. Then ~10kb of additional overhead.\n+    # We can thus produce an overestimate as follows: (((unsigned_size / 4096) + 1) * 32) + 50000. This gives us an expected number of SHA256 hashes\n+    # and how large they will be. By adding 50k, we can include the signature, overhead, and still have room if Apple decides to cram more stuff\n+    # into the code signature.\n+    BINARY_RESULT=\"dist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt\"\n+    UNSIGNED_SIZE=`stat -c %s ${BINARY_RESULT}`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541856915",
      "id" : 541856915,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1NjkxNQ==",
      "original_commit_id" : "ef0ea90d3e81e8d15a3513a747e46e34b640c95f",
      "original_line" : 157,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550888993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541856915",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541857842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541857842"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "6753b74195d80a75b3bceef459d767906bea8e7d",
      "created_at" : "2020-12-13T06:28:39Z",
      "diff_hunk" : "@@ -132,6 +133,31 @@ script: |\n \n     make osx_volname\n     make deploydir\n+\n+    # Hack to work around differences in the behavior of native_cctools' codesign_allocate and Apple distributed codesign and codesign_allocate.\n+    # Specifically, the signature is created by appending it to the end of the binary and then updating the size for the section __LINKEDIT\n+    # The \"vmsize\" attribute of this section is rounded to 0x1000, 0x2000, or 0x4000 depending on the architecture. For some reason, this also happens\n+    # to differ between what we can build ourselves in native_cctools (which uses Apple's published source code) and what Apple distributes\n+    # as \"Xcode command line tools\". It appears that the Apple distributed tool rounds to 0x2000.\n+    #\n+    # Fortunately codesign_allocate will not reduce the \"vmsize\" attribute, and when the signature is appended, the difference in actual size and\n+    # \"vmsize\" will not be present in the final binary.\n+    #\n+    # Thus we can workaround this by calculating an overestimate of what the signature will be and then using codesign_allocate to preallocate\n+    # space for the code signature. Because the same codesign_allocate is used in this step, the rounding problem will not be present.\n+    # Since the space allocated for the signature should be larger than actually needed, the signing step will not reduce \"vmsize\" so we\n+    # won't have any problems there.\n+    #\n+    # From inspecting previous releases' code signatures, we find that the code signature primarily consists of SHA256 hashes of 4096 byte chunk\n+    # of the unsigned binary. There are a few other hashes of something. Then the signature itself, which is ~9kb. Then ~10kb of additional overhead.\n+    # We can thus produce an overestimate as follows: (((unsigned_size / 4096) + 1) * 32) + 50000. This gives us an expected number of SHA256 hashes\n+    # and how large they will be. By adding 50k, we can include the signature, overhead, and still have room if Apple decides to cram more stuff\n+    # into the code signature.\n+    BINARY_RESULT=\"dist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt\"\n+    UNSIGNED_SIZE=`stat -c %s ${BINARY_RESULT}`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#discussion_r541857842",
      "id" : 541857842,
      "in_reply_to_id" : 541856915,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1Nzg0Mg==",
      "original_commit_id" : "ef0ea90d3e81e8d15a3513a747e46e34b640c95f",
      "original_line" : 157,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-osx.yml",
      "position" : null,
      "pull_request_review_id" : 550889344,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20638",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-13T06:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/541857842",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK ð",
      "created_at" : "2020-12-13T15:57:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20638#issuecomment-744028347",
      "id" : 744028347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20638",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NDAyODM0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-13T15:57:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/744028347",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/60179867?v=4",
         "events_url" : "https://api.github.com/users/decryp2kanon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/decryp2kanon/followers",
         "following_url" : "https://api.github.com/users/decryp2kanon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/decryp2kanon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/decryp2kanon",
         "id" : 60179867,
         "login" : "decryp2kanon",
         "node_id" : "MDQ6VXNlcjYwMTc5ODY3",
         "organizations_url" : "https://api.github.com/users/decryp2kanon/orgs",
         "received_events_url" : "https://api.github.com/users/decryp2kanon/received_events",
         "repos_url" : "https://api.github.com/users/decryp2kanon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/decryp2kanon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/decryp2kanon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/decryp2kanon"
      }
   }
]
