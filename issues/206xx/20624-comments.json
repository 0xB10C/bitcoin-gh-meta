[
   {
      "author_association" : "MEMBER",
      "body" : "IRC discussion about this PR: http://www.erisian.com.au/bitcoin-core-dev/log-2020-12-11.html#l-196\r\n",
      "created_at" : "2020-12-11T12:33:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20624#issuecomment-743167485",
      "id" : 743167485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzE2NzQ4NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-11T12:33:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743167485",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK f636008\r\n\r\nIIUC: we were already checking `fInitialDownload == false` and this PR drops an additional check `pindexNew->nHeight > pnode->nStartingHeight - 2000`. One of the criteria for initial block download is `m_chain.Tip()->GetBlockTime() < (GetTime() - nMaxTipAge`, i.e. the new block is less than 24 hours old. The most likely reason for a new node to be more than 2000 blocks ahead of us, is if we are in IBD, so in that case the check was indeed redundant.\r\n\r\nAnother reason for a node to be 2000 bocks ahead of us is if they know a longer chain. In that case they won't care about our header announcements (which we now start sending it), but won't punish us either afaik.",
      "created_at" : "2020-12-11T15:40:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20624#issuecomment-743267205",
      "id" : 743267205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20624",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MzI2NzIwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-11T15:40:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/743267205",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
