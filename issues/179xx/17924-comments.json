[
   {
      "author_association" : "MEMBER",
      "body" : "> Tests are only failing in 0.19 branch, likely because that release still uses p2sh-segwit addresses rather than bech32 by default.\r\n\r\nAll wallet tests should probably be run on all possible address types. See also https://github.com/bitcoin/bitcoin/pull/17199#discussion_r337534987",
      "created_at" : "2020-01-14T18:40:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#issuecomment-574314241",
      "id" : 574314241,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17924",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDMxNDI0MQ==",
      "updated_at" : "2020-01-14T18:40:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574314241",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It should ideally not be possible to footgun like this either by what I did. There's no situation I can think of that you'd want that conversion. ",
      "created_at" : "2020-01-14T18:48:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#issuecomment-574317236",
      "id" : 574317236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17924",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDMxNzIzNg==",
      "updated_at" : "2020-01-14T18:48:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574317236",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "pushed a very non-comprehensive commit that would have stopped me in my tracks if I thought \"nesting\" worked with `ScriptHash` destination.\r\n\r\nI can keep poking at something more comprehensive, but I felt this was unobtrusive enough to be a non-controversial start.",
      "created_at" : "2020-01-14T20:07:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#issuecomment-574349894",
      "id" : 574349894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17924",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NDM0OTg5NA==",
      "updated_at" : "2020-01-14T20:07:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/574349894",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366558505"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366558505"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Instead of deleting them, couldn't you just call `GetScriptForDestination` in the constructor?",
      "commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "created_at" : "2020-01-14T20:33:53Z",
      "diff_hunk" : "@@ -80,9 +80,15 @@ struct PKHash : public uint160\n     using uint160::uint160;\n };\n \n+struct WitnessV0KeyHash;\n+struct WitnessV0ScriptHash;\n struct ScriptHash : public uint160\n {\n     ScriptHash() : uint160() {}\n+    // These don't do what you'd expect.\n+    // Use ScriptHash(GetScriptForDestination(...)) instead.\n+    explicit ScriptHash(const WitnessV0KeyHash& hash) = delete;\n+    explicit ScriptHash(const WitnessV0ScriptHash& hash) = delete;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366558505",
      "id" : 366558505,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU1ODUwNQ==",
      "original_commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "original_position" : 12,
      "path" : "src/script/standard.h",
      "position" : 12,
      "pull_request_review_id" : 342820261,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924",
      "updated_at" : "2020-01-14T20:33:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366558505",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366563753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366563753"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, but that means I have to think more if we want to support more conversions, like `ScriptHash(PKHash())` etc. \r\n\r\nLike, is this a general tool for generating output scripts, or what?",
      "commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "created_at" : "2020-01-14T20:46:14Z",
      "diff_hunk" : "@@ -80,9 +80,15 @@ struct PKHash : public uint160\n     using uint160::uint160;\n };\n \n+struct WitnessV0KeyHash;\n+struct WitnessV0ScriptHash;\n struct ScriptHash : public uint160\n {\n     ScriptHash() : uint160() {}\n+    // These don't do what you'd expect.\n+    // Use ScriptHash(GetScriptForDestination(...)) instead.\n+    explicit ScriptHash(const WitnessV0KeyHash& hash) = delete;\n+    explicit ScriptHash(const WitnessV0ScriptHash& hash) = delete;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366563753",
      "id" : 366563753,
      "in_reply_to_id" : 366558505,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU2Mzc1Mw==",
      "original_commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "original_position" : 12,
      "path" : "src/script/standard.h",
      "position" : 12,
      "pull_request_review_id" : 342827141,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924",
      "updated_at" : "2020-01-14T20:46:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366563753",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366571077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366571077"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I guess highest priority is fixing the sharp edge. One way or another.",
      "commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "created_at" : "2020-01-14T21:03:53Z",
      "diff_hunk" : "@@ -80,9 +80,15 @@ struct PKHash : public uint160\n     using uint160::uint160;\n };\n \n+struct WitnessV0KeyHash;\n+struct WitnessV0ScriptHash;\n struct ScriptHash : public uint160\n {\n     ScriptHash() : uint160() {}\n+    // These don't do what you'd expect.\n+    // Use ScriptHash(GetScriptForDestination(...)) instead.\n+    explicit ScriptHash(const WitnessV0KeyHash& hash) = delete;\n+    explicit ScriptHash(const WitnessV0ScriptHash& hash) = delete;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17924#discussion_r366571077",
      "id" : 366571077,
      "in_reply_to_id" : 366558505,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU3MTA3Nw==",
      "original_commit_id" : "6fe6e0c5c00bc9995af85116b6abdb7e8940bb19",
      "original_position" : 12,
      "path" : "src/script/standard.h",
      "position" : 12,
      "pull_request_review_id" : 342836756,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17924",
      "updated_at" : "2020-01-14T21:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/366571077",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
