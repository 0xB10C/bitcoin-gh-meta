[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Will look more closely but I think this change seems good. It would also be good to follow up with https://github.com/bitcoin/bitcoin/pull/17905#issuecomment-577324304 and switch to hashes instead of heights, so GUI is updated reliably if there are reorgs",
      "created_at" : "2020-01-23T19:17:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577832245",
      "id" : 577832245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NzgzMjI0NQ==",
      "updated_at" : "2020-01-23T19:17:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577832245",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17877](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17877.html) (qt, refactor: Make enums in BitcoinUnits class scoped by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-01-23T19:32:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577838590",
      "id" : 577838590,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3NzgzODU5MA==",
      "updated_at" : "2020-01-23T19:32:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577838590",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "agree @ryanofsky . Once you cache the best tip hash in `clientModel`, I can just code a getter there and replace the `cachedNumBlocks` here for the hash.\r\n\r\n",
      "created_at" : "2020-01-23T19:38:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577841247",
      "id" : 577841247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzg0MTI0Nw==",
      "updated_at" : "2020-01-23T19:38:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577841247",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Once you cache the best tip hash in clientModel\r\n\r\nTo be sure, I didn't start to implement this at all. It'd be a welcome followup to this PR and #17905, or something that could be done alongside",
      "created_at" : "2020-01-23T19:51:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577846318",
      "id" : 577846318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzg0NjMxOA==",
      "updated_at" : "2020-01-23T19:51:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577846318",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "k. if you didn't start it (and want me doing it), i can tackle it over night. Just give me green light to not end up with both doing the same work. ",
      "created_at" : "2020-01-23T20:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577854632",
      "id" : 577854632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzg1NDYzMg==",
      "updated_at" : "2020-01-23T20:15:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577854632",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> k. if you didn't start it, i can tackle it over night. Just give me green light to not end up with both doing the same work.\r\n\r\nð¥\r\n\r\nFeel free to go ahead! I don't have immediate plans to work on this, and have no problem closing/rebasing/replacing my other PR if your changes supercede or conflict with it",
      "created_at" : "2020-01-23T20:17:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577857532",
      "id" : 577857532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzg1NzUzMg==",
      "updated_at" : "2020-01-23T20:17:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577857532",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Done. \r\nThe last commit is not really needed, it's just wrapping the tip data. I looked for a more manageable structure than keep adding arguments to the functions.",
      "created_at" : "2020-01-24T00:57:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#issuecomment-577947880",
      "id" : 577947880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17993",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzk0Nzg4MA==",
      "updated_at" : "2020-01-24T00:57:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577947880",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370769697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370769697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nShould remove extra newlines between methods (here and below) for consistency with existing code",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:10:29Z",
      "diff_hunk" : "@@ -183,6 +183,17 @@ class NodeImpl : public Node\n         LOCK(::cs_main);\n         return ::ChainActive().Height();\n     }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370769697",
      "id" : 370769697,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc2OTY5Nw==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 4,
      "path" : "src/interfaces/node.cpp",
      "position" : 4,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370769697",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370769965"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370769965"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nMaybe shorten these lines to\r\n\r\n```c++\r\nconst CBlockIndex* tip = WITH_LOCK(::cs_main,  return ::ChainActive().Tip());\r\n```",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:11:06Z",
      "diff_hunk" : "@@ -183,6 +183,17 @@ class NodeImpl : public Node\n         LOCK(::cs_main);\n         return ::ChainActive().Height();\n     }\n+\n+    uint256 getBestBlockHash() override\n+    {\n+        const CBlockIndex* tip = nullptr;\n+        {\n+            LOCK(::cs_main);\n+            tip = ::ChainActive().Tip();\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370769965",
      "id" : 370769965,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc2OTk2NQ==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 11,
      "path" : "src/interfaces/node.cpp",
      "position" : 11,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370769965",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370770284"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370770284"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nMaybe drop extra parentheses around (tip)",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:11:54Z",
      "diff_hunk" : "@@ -183,6 +183,17 @@ class NodeImpl : public Node\n         LOCK(::cs_main);\n         return ::ChainActive().Height();\n     }\n+\n+    uint256 getBestBlockHash() override\n+    {\n+        const CBlockIndex* tip = nullptr;\n+        {\n+            LOCK(::cs_main);\n+            tip = ::ChainActive().Tip();\n+        }\n+        return (tip) ? tip->GetBlockHash() : Params().GenesisBlock().GetHash();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370770284",
      "id" : 370770284,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MDI4NA==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 12,
      "path" : "src/interfaces/node.cpp",
      "position" : 12,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370770284",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370771096"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370771096"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nMaybe use reference type `const uint256&` to be a little more efficient and avoid a copy here and below",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:13:45Z",
      "diff_hunk" : "@@ -248,12 +251,12 @@ class Node\n \n     //! Register handler for block tip messages.\n     using NotifyBlockTipFn =\n-        std::function<void(bool initial_download, int height, int64_t block_time, double verification_progress)>;\n+        std::function<void(bool initial_download, const uint256 blockHash, int height, int64_t block_time, double verification_progress)>;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370771096",
      "id" : 370771096,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MTA5Ng==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 15,
      "path" : "src/interfaces/node.h",
      "position" : null,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370771096",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370772166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370772166"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nMaybe use reference type `const uint256&` to be a little more efficient and avoid a copy here",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:16:21Z",
      "diff_hunk" : "@@ -235,7 +246,7 @@ static void BannedListChanged(ClientModel *clientmodel)\n     assert(invoked);\n }\n \n-static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, const uint256 blockHash, int height, int64_t blockTime, double verificationProgress, bool fHeader)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370772166",
      "id" : 370772166,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3MjE2Ng==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 30,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370772166",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370774085"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370774085"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Added best block hash to the NotifyHeaderTip and NotifyBlockTip signals.\" (4948d4ee50d9960b23f43e14938845b0bb21772b)\r\n\r\nThese lines don't seem to work with my compiler version (clang version 6.0.0-1ubuntu2). I don't think it's possible to use std::atomic with the `uint256` class because it will only work for primitive int and pointer types. You probably need something like:\r\n\r\n```c++\r\nMutex m_cached_tip_mutex;\r\nuint256 m_cached_tip_headers;\r\nuint256 m_cached_tip_blocks;\r\n```",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:20:50Z",
      "diff_hunk" : "@@ -79,6 +81,9 @@ class ClientModel : public QObject\n     mutable std::atomic<int64_t> cachedBestHeaderTime;\n     mutable std::atomic<int> cachedNumBlocks;\n \n+    mutable std::atomic<uint256> cachedBestHeaderHash;\n+    mutable std::atomic<uint256> cachedBestBlockHash;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370774085",
      "id" : 370774085,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3NDA4NQ==",
      "original_commit_id" : "4948d4ee50d9960b23f43e14938845b0bb21772b",
      "original_position" : 21,
      "path" : "src/qt/clientmodel.h",
      "position" : null,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370774085",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370775871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370775871"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[WalletModel] Balance and Txrecord status change polling check based on the block hash and not the height.\" (997129bdb45c01390bffce991b680d58c9e7d18b)\r\n\r\nMaybe use `const uint256&` type to avoid copy here, similarly for other functions in this commit",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:24:52Z",
      "diff_hunk" : "@@ -162,7 +162,7 @@ QList<TransactionRecord> TransactionRecord::decomposeTransaction(const interface\n     return parts;\n }\n \n-void TransactionRecord::updateStatus(const interfaces::WalletTxStatus& wtx, int numBlocks, int64_t block_time)\n+void TransactionRecord::updateStatus(const interfaces::WalletTxStatus& wtx, uint256 block_hash, int numBlocks, int64_t block_time)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370775871",
      "id" : 370775871,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3NTg3MQ==",
      "original_commit_id" : "997129bdb45c01390bffce991b680d58c9e7d18b",
      "original_position" : 5,
      "path" : "src/qt/transactionrecord.cpp",
      "position" : 5,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370775871",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370777192"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370777192"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[WalletModel] Balance and Txrecord status change polling check based on the block hash and not the height.\" (997129bdb45c01390bffce991b680d58c9e7d18b)\r\n\r\nSuggest dropping initialization in the constructor body and using member initialization",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:27:54Z",
      "diff_hunk" : "@@ -37,9 +37,9 @@ WalletModel::WalletModel(std::unique_ptr<interfaces::Wallet> wallet, interfaces:\n     QObject(parent), m_wallet(std::move(wallet)), m_node(node), optionsModel(_optionsModel), clientModel(_clientModel), addressTableModel(nullptr),\n     transactionTableModel(nullptr),\n     recentRequestsTableModel(nullptr),\n-    cachedEncryptionStatus(Unencrypted),\n-    cachedNumBlocks(0)\n+    cachedEncryptionStatus(Unencrypted)\n {\n+    cachedLastBalanceUpdate = uint256();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370777192",
      "id" : 370777192,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3NzE5Mg==",
      "original_commit_id" : "997129bdb45c01390bffce991b680d58c9e7d18b",
      "original_position" : 8,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370777192",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370777825"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370777825"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[WalletModel] Balance and Txrecord status change polling check based on the block hash and not the height.\" (997129bdb45c01390bffce991b680d58c9e7d18b)\r\n\r\nAgain `std::atomic<uint256>` doesn't seem to be a valid type. You probably need something like\r\n\r\n```c++\r\nMutex m_cached_tip_mutex;\r\nuint256 m_cached_tip;\r\n```",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:29:21Z",
      "diff_hunk" : "@@ -179,7 +179,9 @@ class WalletModel : public QObject\n     // Cache some values to be able to detect changes\n     interfaces::WalletBalances m_cached_balances;\n     EncryptionStatus cachedEncryptionStatus;\n-    int cachedNumBlocks;\n+\n+    // Block hash denoting when the last balance, polling, update was done.\n+    mutable std::atomic<uint256> cachedLastBalanceUpdate;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370777825",
      "id" : 370777825,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3NzgyNQ==",
      "original_commit_id" : "997129bdb45c01390bffce991b680d58c9e7d18b",
      "original_position" : 7,
      "path" : "src/qt/walletmodel.h",
      "position" : null,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370777825",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370785497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370785497"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[WalletModel] Balance and Txrecord status change polling check based on the block hash and not the height.\" (997129bdb45c01390bffce991b680d58c9e7d18b)\r\n\r\nI don't think you need this function, since you can create instances just as easily with `BlockHash{height, time, hash}`",
      "commit_id" : "cacb52feb81b22801a2747c3ae40369972825f5d",
      "created_at" : "2020-01-24T18:46:53Z",
      "diff_hunk" : "@@ -266,6 +267,16 @@ class Node\n //! Return implementation of Node interface.\n std::unique_ptr<Node> MakeNode();\n \n+//! Block tip (could be a header or not, depends on the subscribed signal).\n+struct BlockTip\n+{\n+    int block_height;\n+    int64_t block_time;\n+    uint256 block_hash;\n+};\n+\n+BlockTip MakeTip(uint256 block_hash, int block_height, int64_t block_time);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17993#discussion_r370785497",
      "id" : 370785497,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4NTQ5Nw==",
      "original_commit_id" : "7e8e03743f1ef3f1b39429f46f77e44b1ede271c",
      "original_position" : 35,
      "path" : "src/interfaces/node.h",
      "position" : 45,
      "pull_request_review_id" : 348131355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17993",
      "updated_at" : "2020-01-24T18:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/370785497",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
