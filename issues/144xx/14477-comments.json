[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225654846"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225654846"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should this be returning m_descriptor->IsSolvable() instead of true? Maybe add an explanatory comment if returning true here is actually correct.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-16T18:22:29Z",
      "diff_hunk" : "@@ -298,6 +303,7 @@ class ConvertorDescriptor : public Descriptor\n     ConvertorDescriptor(std::unique_ptr<Descriptor> descriptor, const std::function<CScript(const CScript&)>& fn, const std::string& name) : m_convert_fn(fn), m_fn_name(name), m_descriptor(std::move(descriptor)) {}\n \n     bool IsRange() const override { return m_descriptor->IsRange(); }\n+    bool IsSolvable() const override { return true; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225654846",
      "id" : 225654846,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY1NDg0Ng==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 37,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225654846",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225660827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225660827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would it be useful to mention that raw and address descriptors are always considered unsolvable? It seems like this would make the description more concrete, and make it clear that a raw P2PK descriptor is not considered solvable (for example).",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-16T18:36:05Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225660827",
      "id" : 225660827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MDgyNw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225660827",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225661115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225661115"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Curious where this might be used in the future, since right now it is only called by test code.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-16T18:36:55Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */\n+    virtual bool IsSolvable() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225661115",
      "id" : 225661115,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MTExNQ==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 5,
      "path" : "src/script/descriptor.h",
      "position" : 6,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225661115",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225662927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225662927"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is a very picky comment, but maybe reverse the arguments so the test more consistently uses the CHECK_EQUAL(actual, expected) form.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-16T18:42:22Z",
      "diff_hunk" : "@@ -99,8 +99,17 @@ void Check(const std::string& prv, const std::string& pub, int flags, const std:\n                     spend.vout.resize(1);\n                     BOOST_CHECK_MESSAGE(SignSignature(Merge(keys_priv, script_provider), spks[n], spend, 0, 1, SIGHASH_ALL), prv);\n                 }\n-            }\n \n+                /* Infer a descriptor from the generated script, and verify its solvability and that it roundtrips. */\n+                auto inferred = InferDescriptor(spks[n], script_provider);\n+                BOOST_CHECK_EQUAL(!(flags & UNSOLVABLE), inferred->IsSolvable());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225662927",
      "id" : 225662927,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTY2MjkyNw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 8,
      "path" : "src/test/descriptor_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 165302107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225662927",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756320"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756320"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is actually correct, but so if your suggestion, which is much more obvious.\r\n\r\nThe reason is that the only non-solvable constructions (`raw` and `addr`) are only allowed at the top level anyway, so anything embedded in `sh` or `wsh` cannot be non-solvable.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T01:23:04Z",
      "diff_hunk" : "@@ -298,6 +303,7 @@ class ConvertorDescriptor : public Descriptor\n     ConvertorDescriptor(std::unique_ptr<Descriptor> descriptor, const std::function<CScript(const CScript&)>& fn, const std::string& name) : m_convert_fn(fn), m_fn_name(name), m_descriptor(std::move(descriptor)) {}\n \n     bool IsRange() const override { return m_descriptor->IsRange(); }\n+    bool IsSolvable() const override { return true; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756320",
      "id" : 225756320,
      "in_reply_to_id" : 225654846,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1NjMyMA==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 37,
      "path" : "src/script/descriptor.cpp",
      "position" : null,
      "pull_request_review_id" : 165426589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756320",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756795"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756795"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good idea.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T01:26:56Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756795",
      "id" : 225756795,
      "in_reply_to_id" : 225660827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1Njc5NQ==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 4,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 165427128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756795",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756980"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For example an `descriptorprocesspsbt` RPC can complain if a non-solvable descriptor is passed (which is useless for its purpose).",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T01:28:40Z",
      "diff_hunk" : "@@ -32,6 +32,9 @@ struct Descriptor {\n     /** Whether the expansion of this descriptor depends on the position. */\n     virtual bool IsRange() const = 0;\n \n+    /** Whether this descriptor has all information about signing (ignoring private keys). */\n+    virtual bool IsSolvable() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225756980",
      "id" : 225756980,
      "in_reply_to_id" : 225661115,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1Njk4MA==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 5,
      "path" : "src/script/descriptor.h",
      "position" : 6,
      "pull_request_review_id" : 165427361,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225756980",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225757067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225757067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T01:29:12Z",
      "diff_hunk" : "@@ -99,8 +99,17 @@ void Check(const std::string& prv, const std::string& pub, int flags, const std:\n                     spend.vout.resize(1);\n                     BOOST_CHECK_MESSAGE(SignSignature(Merge(keys_priv, script_provider), spks[n], spend, 0, 1, SIGHASH_ALL), prv);\n                 }\n-            }\n \n+                /* Infer a descriptor from the generated script, and verify its solvability and that it roundtrips. */\n+                auto inferred = InferDescriptor(spks[n], script_provider);\n+                BOOST_CHECK_EQUAL(!(flags & UNSOLVABLE), inferred->IsSolvable());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225757067",
      "id" : 225757067,
      "in_reply_to_id" : 225662927,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTc1NzA2Nw==",
      "original_commit_id" : "002bdef765a7cdb4dcf66fa186a4c4a1a7fc7b71",
      "original_position" : 8,
      "path" : "src/test/descriptor_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 165427463,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225757067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed all nits, and added some comments.",
      "created_at" : "2018-10-17T01:35:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430458223",
      "id" : 430458223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDQ1ODIyMw==",
      "updated_at" : "2018-10-17T01:35:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430458223",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Lightly tested a5e0b62; e.g. `getaddressinfo` shows a descriptor now.\r\n\r\nThe descriptors only show the public key, which is consistent with `getaddressinfo` not showing private keys and seeds. Maybe add a `descriptor` boolean argument to `dumpprivkey` as a way to obtain descriptors with a private key?",
      "created_at" : "2018-10-17T09:05:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430549843",
      "id" : 430549843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDU0OTg0Mw==",
      "updated_at" : "2018-10-17T09:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430549843",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225955422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225955422"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`assert found`",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T14:31:58Z",
      "diff_hunk" : "@@ -252,6 +261,14 @@ def run_test(self):\n             for n, to_node in enumerate(range(from_node + 1, from_node + 4)):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n+                found = False\n+                # Verify that the receiving wallet contains a UTXO with the expected address, and expected descriptor\n+                for utxo in self.nodes[to_node].listunspent():\n+                    if utxo['address'] == descriptors[to_node][0]:\n+                        assert_equal(utxo['descriptor'], descriptors[to_node][1])\n+                        found = True\n+                        break\n+                assert(found)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225955422",
      "id" : 225955422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTk1NTQyMg==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 80,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 165663289,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225955422",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225956442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225956442"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit sort.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-17T14:34:15Z",
      "diff_hunk" : "@@ -21,6 +21,7 @@\n #include <rpc/server.h>\n #include <rpc/util.h>\n #include <script/sign.h>\n+#include <script/descriptor.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r225956442",
      "id" : 225956442,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNTk1NjQ0Mg==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 165663289,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/225956442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK a5e0b620062bf00a5f24d195bcaf52839681cb5d. Only changes since last review were making some suggested changes and expanding the InferDescriptor.\r\n\r\nIt would also be nice to add release notes for the RPC changes in this PR.\r\n\r\n> For large wallets this will make listunspent perform a lot worse?\r\n\r\nIt seems like the new work listunspent is doing is similar to the work it was doing before with calling `ExtractDestination` and `pwallet->GetCScript`.",
      "created_at" : "2018-10-17T17:48:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-430724012",
      "id" : 430724012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMDcyNDAxMg==",
      "updated_at" : "2018-10-17T17:48:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/430724012",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry for the big change, but I realized that after #14150, we'll want to integrate origin information into the inferred descriptors this PR brings, so I went ahead and did that (it's based on 14150 now).",
      "created_at" : "2018-10-19T01:09:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#issuecomment-431212707",
      "id" : 431212707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14477",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTIxMjcwNw==",
      "updated_at" : "2018-10-19T01:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431212707",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-19T01:43:32Z",
      "diff_hunk" : "@@ -21,6 +21,7 @@\n #include <rpc/server.h>\n #include <rpc/util.h>\n #include <script/sign.h>\n+#include <script/descriptor.h>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514670",
      "id" : 226514670,
      "in_reply_to_id" : 225956442,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjUxNDY3MA==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 4,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 166355608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514670",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "cf4b935a0301972d0e1fc6a5cb32c6ff564dbbbc",
      "created_at" : "2018-10-19T01:43:41Z",
      "diff_hunk" : "@@ -252,6 +261,14 @@ def run_test(self):\n             for n, to_node in enumerate(range(from_node + 1, from_node + 4)):\n                 to_node %= 4\n                 assert_equal(new_balances[to_node], old_balances[to_node] + to_send * 10 * (2 + n))\n+                found = False\n+                # Verify that the receiving wallet contains a UTXO with the expected address, and expected descriptor\n+                for utxo in self.nodes[to_node].listunspent():\n+                    if utxo['address'] == descriptors[to_node][0]:\n+                        assert_equal(utxo['descriptor'], descriptors[to_node][1])\n+                        found = True\n+                        break\n+                assert(found)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14477#discussion_r226514688",
      "id" : 226514688,
      "in_reply_to_id" : 225955422,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyNjUxNDY4OA==",
      "original_commit_id" : "a5e0b620062bf00a5f24d195bcaf52839681cb5d",
      "original_position" : 80,
      "path" : "test/functional/wallet_address_types.py",
      "position" : null,
      "pull_request_review_id" : 166355627,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14477",
      "updated_at" : "2018-10-19T01:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/226514688",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
