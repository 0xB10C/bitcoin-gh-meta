[
   {
      "author_association" : "MEMBER",
      "body" : "The commits moved from https://github.com/bitcoin-core/gui/pull/86 already have two ACKs:\r\n- from @jnewbery https://github.com/bitcoin-core/gui/pull/86#issuecomment-691905056\r\n> Code review ACK https://github.com/bitcoin-core/gui/commit/6549abcb072d73e0ac91c7992cc5d86eb4064b70 (node changes only. Did not fully review qt changes)\r\n\r\n- from @Sjors https://github.com/bitcoin-core/gui/pull/86#pullrequestreview-489554178\r\n> tACK https://github.com/bitcoin-core/gui/commit/6549abcb072d73e0ac91c7992cc5d86eb4064b70 with notes for followup",
      "created_at" : "2020-10-16T22:03:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710673472",
      "id" : 710673472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20172",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMDY3MzQ3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-16T22:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/710673472",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506748086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506748086"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/all connection/all connections/",
      "commit_id" : "9371757d9031ad40ca99543bb4d24fc48e00b32e",
      "created_at" : "2020-10-16T22:30:20Z",
      "diff_hunk" : "@@ -533,10 +533,11 @@ static RPCHelpMan getnetworkinfo()\n                         }},\n                         {RPCResult::Type::BOOL, \"localrelay\", \"true if transaction relay is requested from peers\"},\n                         {RPCResult::Type::NUM, \"timeoffset\", \"the time offset\"},\n+                        {RPCResult::Type::BOOL, \"networkactive\", \"whether p2p networking is enabled\"},\n                         {RPCResult::Type::NUM, \"connections\", \"the total number of connections\"},\n                         {RPCResult::Type::NUM, \"connections_in\", \"the number of inbound connections\"},\n                         {RPCResult::Type::NUM, \"connections_out\", \"the number of outbound connections\"},\n-                        {RPCResult::Type::BOOL, \"networkactive\", \"whether p2p networking is enabled\"},\n+                        {RPCResult::Type::BOOL, \"connections_onion_only\", \"whether all connection are through the onion network\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506748086",
      "id" : 506748086,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc0ODA4Ng==",
      "original_commit_id" : "174848ffb88767fe9190dd7fa160e7187dfcdc07",
      "original_line" : 540,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 510831106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-17T12:20:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506748086",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506749645"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506749645"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Style nit: I'd put both of the ConnCounts declarations all on one line with `{}`. It looks like this is clang-format output, but ISTM this particular formatting is ugly, wastes space, and isn't followed in the new code additions we see while reviewing. Maybe others disagree :man_shrugging: ",
      "commit_id" : "9371757d9031ad40ca99543bb4d24fc48e00b32e",
      "created_at" : "2020-10-16T22:36:26Z",
      "diff_hunk" : "@@ -183,18 +183,28 @@ enum class ConnectionType {\n     ADDR_FETCH,\n };\n \n+struct ConnCounts\n+{\n+    const int all{0};\n+    const int in{0};\n+    const int out{0};\n+    const bool onion_only{false};\n+\n+    ConnCounts()\n+    {\n+    }\n+\n+    ConnCounts(int num_in, int num_out, bool is_onion_only)\n+        : all(num_in + num_out), in(num_in), out(num_out), onion_only(is_onion_only)\n+    {\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506749645",
      "id" : 506749645,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjc0OTY0NQ==",
      "original_commit_id" : "174848ffb88767fe9190dd7fa160e7187dfcdc07",
      "original_line" : 200,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 510831106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-17T12:20:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506749645",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19937 (signet mining utility by ajtowns)\n* #15936 (Unify bitcoin-qt and bitcoind persistent settings by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-17T02:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710734202",
      "id" : 710734202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20172",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMDczNDIwMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-17T02:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/710734202",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nAgree that a functional test for `connections_onion_only` would be good, but not sure how easy it is. You could spin up two test nodes, 0 with default settings, 1 with `-onlynet=onion` and `-bind=...=onion`, and then connect node 0 to node 1 via it's \"onion\" port. In that case node 1 should have `connections_onion_only=true`.",
      "created_at" : "2020-10-17T07:52:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710768868",
      "id" : 710768868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20172",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMDc2ODg2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-17T07:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/710768868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 174848ffb88767fe9190dd7fa160e7187dfcdc07 -> 9371757d9031ad40ca99543bb4d24fc48e00b32e ([pr20172.01](https://github.com/hebasto/bitcoin/commits/pr20172.01) -> [pr20172.02](https://github.com/hebasto/bitcoin/commits/pr20172.02), [diff](https://github.com/hebasto/bitcoin/compare/pr20172.01..pr20172.02)):\r\n\r\n- addressed all of @jonatack's and @Sjors' comments\r\n- added a functional test",
      "created_at" : "2020-10-17T12:25:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710886459",
      "id" : 710886459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20172",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMDg4NjQ1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-17T12:25:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/710886459",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506938197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506938197"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710886459).",
      "commit_id" : "9371757d9031ad40ca99543bb4d24fc48e00b32e",
      "created_at" : "2020-10-17T12:26:00Z",
      "diff_hunk" : "@@ -533,10 +533,11 @@ static RPCHelpMan getnetworkinfo()\n                         }},\n                         {RPCResult::Type::BOOL, \"localrelay\", \"true if transaction relay is requested from peers\"},\n                         {RPCResult::Type::NUM, \"timeoffset\", \"the time offset\"},\n+                        {RPCResult::Type::BOOL, \"networkactive\", \"whether p2p networking is enabled\"},\n                         {RPCResult::Type::NUM, \"connections\", \"the total number of connections\"},\n                         {RPCResult::Type::NUM, \"connections_in\", \"the number of inbound connections\"},\n                         {RPCResult::Type::NUM, \"connections_out\", \"the number of outbound connections\"},\n-                        {RPCResult::Type::BOOL, \"networkactive\", \"whether p2p networking is enabled\"},\n+                        {RPCResult::Type::BOOL, \"connections_onion_only\", \"whether all connection are through the onion network\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506938197",
      "id" : 506938197,
      "in_reply_to_id" : 506748086,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjkzODE5Nw==",
      "original_commit_id" : "174848ffb88767fe9190dd7fa160e7187dfcdc07",
      "original_line" : 540,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 510982042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-17T12:26:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506938197",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506938225"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506938225"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/20172#issuecomment-710886459).",
      "commit_id" : "9371757d9031ad40ca99543bb4d24fc48e00b32e",
      "created_at" : "2020-10-17T12:26:13Z",
      "diff_hunk" : "@@ -183,18 +183,28 @@ enum class ConnectionType {\n     ADDR_FETCH,\n };\n \n+struct ConnCounts\n+{\n+    const int all{0};\n+    const int in{0};\n+    const int out{0};\n+    const bool onion_only{false};\n+\n+    ConnCounts()\n+    {\n+    }\n+\n+    ConnCounts(int num_in, int num_out, bool is_onion_only)\n+        : all(num_in + num_out), in(num_in), out(num_out), onion_only(is_onion_only)\n+    {\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20172#discussion_r506938225",
      "id" : 506938225,
      "in_reply_to_id" : 506749645,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjkzODIyNQ==",
      "original_commit_id" : "174848ffb88767fe9190dd7fa160e7187dfcdc07",
      "original_line" : 200,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 510982056,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20172",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-17T12:26:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506938225",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
