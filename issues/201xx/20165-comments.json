[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506043961"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506043961"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            return taproot_active;\r\n```\r\n(Unless there is an assumption that there will be more stuff added below.)",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-16T04:25:01Z",
      "diff_hunk" : "@@ -183,6 +183,9 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             if (subscript.GetSigOpCount(true) > MAX_P2SH_SIGOPS) {\n                 return false;\n             }\n+        } else if (whichType == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Don't allow Taproot spends unless Taproot is active.\n+            if (!taproot_active) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506043961",
      "id" : 506043961,
      "line" : 188,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0Mzk2MQ==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 188,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/policy/policy.cpp",
      "position" : 15,
      "pull_request_review_id" : 510010269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-16T04:28:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506043961",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A suggestion that is not included here is rejecting the _creation_ of witness v1 spends during a period preceding activation to protect users sending to such outputs too early. It's easy to add if desired, but perhaps less necessary.\r\n\r\n@sdaftuar Doing this for the entire defined/started/lockedin period adds additional non-homogeneity to network relay policy. @ajtowns suggested doing it only during during the lockedin period, to provide a short but still coordinated window of additional protection.",
      "created_at" : "2020-10-16T04:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-709743739",
      "id" : 709743739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTc0MzczOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-16T04:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709743739",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506044677"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506044677"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, because we need to check all inputs. There can't be any return true's inside the loop body.",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-16T04:28:20Z",
      "diff_hunk" : "@@ -183,6 +183,9 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             if (subscript.GetSigOpCount(true) > MAX_P2SH_SIGOPS) {\n                 return false;\n             }\n+        } else if (whichType == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Don't allow Taproot spends unless Taproot is active.\n+            if (!taproot_active) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506044677",
      "id" : 506044677,
      "in_reply_to_id" : 506043961,
      "line" : 188,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0NDY3Nw==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 188,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/policy/policy.cpp",
      "position" : 15,
      "pull_request_review_id" : 510015222,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-16T04:28:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506044677",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506047552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506047552"
         }
      },
      "author_association" : "MEMBER",
      "body" : "D'oh, yep.",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-16T04:40:23Z",
      "diff_hunk" : "@@ -183,6 +183,9 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             if (subscript.GetSigOpCount(true) > MAX_P2SH_SIGOPS) {\n                 return false;\n             }\n+        } else if (whichType == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Don't allow Taproot spends unless Taproot is active.\n+            if (!taproot_active) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r506047552",
      "id" : 506047552,
      "in_reply_to_id" : 506043961,
      "line" : 188,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0NzU1Mg==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 188,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/policy/policy.cpp",
      "position" : 15,
      "pull_request_review_id" : 510044639,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-16T04:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/506047552",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 6d56873",
      "created_at" : "2020-10-16T09:57:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-709949608",
      "id" : 709949608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTk0OTYwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-16T09:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709949608",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 6d568731862b1d888fa8db9effb3663dfe8e0e46\r\n\r\n-------- \r\n\r\nCould you elaborate on what this means:\r\n>@ajtowns suggested doing it only during during the lockedin period, to provide a short but still coordinated window of additional protection.",
      "created_at" : "2020-10-19T07:30:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-711756967",
      "id" : 711756967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMTc1Njk2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-19T07:30:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/711756967",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK the change suggested in this PR.\r\n\r\n> A suggestion that is not included here is rejecting the _creation_ of witness v1 spends during a period preceding activation to protect users sending to such outputs too early. It's easy to add if desired, but perhaps less necessary.\r\n> \r\n> @sdaftuar Doing this for the entire defined/started/lockedin period adds additional non-homogeneity to network relay policy. @ajtowns suggested doing it only during during the lockedin period, to provide a short but still coordinated window of additional protection.\r\n\r\nI'm not sure I entirely see a reason for concern over the non-homogeneity of network relay policy with respect to anyone-can-spend outputs; in my view, taproot-enabled software (by which I mean software that is aware of all the taproot consensus changes, necessarily including activation criteria for enforcing those rules) should differ from other software with how it treats v1 addresses, because it is the only software that actually knows what they mean.\r\n\r\nOne way to think about this is that if the community is using bitcoind to determine whether it's reasonable to relay a transaction creating a v1 output, that having the taproot-enabled-version of bitcoind correctly say \"no\" prior to activation is a useful thing to do.  In the absence of us implementing that behavior, how would a user implement such footgun protection on their own?\r\n\r\nArguably, we could ship a taproot-enabled version of bitcoind that relayed such transactions anyway, if the user requested (eg by command-line option or something); but none of the reasons that come to mind right now of why someone might want to use such an option seem very good to me.",
      "created_at" : "2020-10-19T18:50:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-712373231",
      "id" : 712373231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMjM3MzIzMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-19T18:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712373231",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@naumenkogs Some background, this was discussed on the last IRC dev meeting, where I brought up two things we can do:\r\n* Making sure *spending* of witnesses isn't standard until an activation is defined (as the node shouldn't behave differently up to that point)\r\n* Making sure *creating* witness v1 outputs are not allowed to protect users potentially accidentally creating anyonecanspend outputs if they do it too soon, for some period of time prior to activation.\r\n\r\nThe PR here only does the first, as I think there are a few trade-offs to consider regarding the second.",
      "created_at" : "2020-10-20T02:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-712555558",
      "id" : 712555558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMjU1NTU1OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-20T02:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712555558",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK -- I think it makes sense to not do any \"create witness v1 outputs\" protection until an activation method is defined. \r\n\r\nMaking spends non-standard is valuable for signet (where standardness and consensus aren't all that different, so making something standard but not consensus-enforced means it can be relied on in practice).",
      "created_at" : "2020-10-20T09:41:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#issuecomment-712728451",
      "id" : 712728451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20165",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxMjcyODQ1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-20T09:41:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712728451",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512858207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512858207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't understand what this change is doing.",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-27T16:48:53Z",
      "diff_hunk" : "@@ -1451,7 +1451,7 @@ def run_test(self):\n \n         # Pre-taproot activation tests.\n         self.log.info(\"Pre-activation tests...\")\n-        self.test_spenders(self.nodes[0], spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])\n+        self.test_spenders(self.nodes[0], spenders_taproot_inactive() + spenders_taproot_inactive() + spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512858207",
      "id" : 512858207,
      "line" : 1454,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjg1ODIwNw==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 1454,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 23,
      "pull_request_review_id" : 517924401,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-27T16:55:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512858207",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512866757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512866757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's running every test twice.\n\nWhat motivated this: before this change, there are only 10 tests, the majority of which were non-standard. As a transaction is only standard when (at least) all its inputs are, this meant that almost all test transactions were expected to be nonstandard (as they contain more than one input). This means not much is tested: having one test incorrectly marked as standard would often not be caught, as it'd get combined with a nonstandard one. Having multiple instances of every test improves that somewhat.",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-27T17:00:31Z",
      "diff_hunk" : "@@ -1451,7 +1451,7 @@ def run_test(self):\n \n         # Pre-taproot activation tests.\n         self.log.info(\"Pre-activation tests...\")\n-        self.test_spenders(self.nodes[0], spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])\n+        self.test_spenders(self.nodes[0], spenders_taproot_inactive() + spenders_taproot_inactive() + spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512866757",
      "id" : 512866757,
      "in_reply_to_id" : 512858207,
      "line" : 1454,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjg2Njc1Nw==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 1454,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 23,
      "pull_request_review_id" : 517936000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-27T17:00:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512866757",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512980348"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512980348"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ok, in that case I think this would be a bit more obvious:\r\n\r\n```diff\r\ndiff --git a/test/functional/feature_taproot.py b/test/functional/feature_taproot.py\r\nindex ca523572bc..5984ea4161 100755\r\n--- a/test/functional/feature_taproot.py\r\n+++ b/test/functional/feature_taproot.py\r\n@@ -1143,6 +1143,9 @@ def spenders_taproot_inactive():\r\n     add_spender(spenders, \"inactive/scriptpath_valid_opsuccess\", key=sec, tap=tap, leaf=\"op_success\", standard=False, inputs=[getter(\"sign\")])\r\n     add_spender(spenders, \"inactive/scriptpath_valid_opsuccess\", key=sec, tap=tap, leaf=\"op_success\", standard=False, inputs=[getter(\"sign\")], sighash=bitflipper(default_sighash))\r\n \r\n+    # Repeat each test 3 times so that any input which is non-standard is more likely to be caught\r\n+    spenders *= 3\r\n+\r\n     return spenders\r\n \r\n # Consensus validation flags to use in dumps for tests with \"legacy/\" or \"inactive/\" prefix.\r\n@@ -1451,7 +1454,7 @@ class TaprootTest(BitcoinTestFramework):\r\n \r\n         # Pre-taproot activation tests.\r\n         self.log.info(\"Pre-activation tests...\")\r\n-        self.test_spenders(self.nodes[0], spenders_taproot_inactive() + spenders_taproot_inactive() + spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])\r\n+        self.test_spenders(self.nodes[0], spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])\r\n \r\n \r\n```",
      "commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "created_at" : "2020-10-27T19:42:45Z",
      "diff_hunk" : "@@ -1451,7 +1451,7 @@ def run_test(self):\n \n         # Pre-taproot activation tests.\n         self.log.info(\"Pre-activation tests...\")\n-        self.test_spenders(self.nodes[0], spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])\n+        self.test_spenders(self.nodes[0], spenders_taproot_inactive() + spenders_taproot_inactive() + spenders_taproot_inactive(), input_counts=[1, 2, 2, 2, 2, 3])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20165#discussion_r512980348",
      "id" : 512980348,
      "in_reply_to_id" : 512858207,
      "line" : 1454,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk4MDM0OA==",
      "original_commit_id" : "6d568731862b1d888fa8db9effb3663dfe8e0e46",
      "original_line" : 1454,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 23,
      "pull_request_review_id" : 518082020,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20165",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-27T19:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/512980348",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
