[
   {
      "author_association" : "MEMBER",
      "body" : "I think this also needs a mention and documentation in some `README.md`, probably that in `contrib/signet`, it's quite hard to discover random scripts.",
      "created_at" : "2020-10-15T09:57:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20145#issuecomment-709059861",
      "id" : 709059861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTA1OTg2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T09:57:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709059861",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The script is referenced from https://en.bitcoin.it/wiki/Signet#Using_the_command_line_tool (well the old .sh version anyway) which is probably more helpful for discovering it than a README in the same directory would be?\r\n\r\nProbably would be a good idea to update the faucet to give a more helpful error than \"Nuh-uh\" when the same IP requests multiple times.\r\n\r\nMight be interesting to make the rate limit be something like:\r\n\r\n```python\r\n   requests_from[ip] += 1\r\n   amt = int(1.1e8 / 1.1**(requests_from[ip]))\r\n```\r\n\r\nso that the first request gets 1 sBTC, the second gets 0.91 sBTC, the third gets 0.82 sBTC, etc; you can do ~120 requests from an IP before you're only getting 1000 sats per request, and it still limits it to 11 sBTC per IP per day.\r\n\r\nNote that if you want to pass options to bitcoin-cli you need to use `--` so python doesn't try interpreting the options already, eg `getcoins.py -c './bitcoin-cli' -- -rpcwallet= -signet`\r\n\r\nACK 355d0c4f6b8a7687a3940a2d90d66b08e560bfa7",
      "created_at" : "2020-10-15T10:38:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20145#issuecomment-709138744",
      "id" : 709138744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTEzODc0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T10:38:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709138744",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested as follows:\r\n```\r\n$ ./contrib/signet/getcoins.py -a tb1qacjkkdgkrm7fc50kws0740cdcnw78xynxgn8p5\r\nPayment of 8.10000000 BTC sent with txid 6690a2ef222544f162e8a68d70169c19a4d77aa8d8eeee963a65f7b45c4dfd21\r\n\r\n$ ./contrib/signet/getcoins.py -a tb1q6m9f3sh85ccpvr93xntrvvmt2pf580gq2jchey\r\nNuh-uh\r\n```\r\n...change of VPN location...\r\n```\r\n$ ./contrib/signet/getcoins.py -a tb1qacjkkdgkrm7fc50kws0740cdcnw78xynxgn8p5\r\nPayment of 7.29000000 BTC sent with txid 4d45e3c0ea795a3e05d38892fb4a007f5c5cd3ea64c4b2cb983d79a987471df8\r\n```\r\n\r\nI agree that \"Nuh-uh\" could be replaced with a more helpful message.\r\n\r\nThe help formatting could be more readable: \r\n```\r\n$ ./contrib/signet/getcoins.py -h\r\nusage: getcoins.py [-h] [-c CMD] [-f FAUCET] [-a ADDR] [-p PASSWORD] [bitcoin_cli_args [bitcoin_cli_args ...]]\r\n\r\nScript to get coins from a faucet.\r\n\r\npositional arguments:\r\n  bitcoin_cli_args      Arguments to pass on to bitcoin-cli (default: -signet)\r\n\r\noptional arguments:\r\n  -h, --help            show this help message and exit\r\n  -c CMD, --cmd CMD     bitcoin-cli command to use\r\n  -f FAUCET, --faucet FAUCET\r\n                        URL of the faucet\r\n  -a ADDR, --addr ADDR  Bitcoin address to which the faucet should send\r\n  -p PASSWORD, --password PASSWORD\r\n                        Faucet password, if any\r\n\r\nYou may need to start with double-dash (--) when providing bitcoin-cli arguments.\r\n```\r\n",
      "created_at" : "2020-10-15T11:09:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20145#issuecomment-709204179",
      "id" : 709204179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20145",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTIwNDE3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T11:15:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709204179",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20145#discussion_r505457254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/505457254"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe s/Bitcoin address/signet address/",
      "commit_id" : "355d0c4f6b8a7687a3940a2d90d66b08e560bfa7",
      "created_at" : "2020-10-15T11:10:17Z",
      "diff_hunk" : "@@ -0,0 +1,36 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import argparse\n+import subprocess\n+import requests\n+import sys\n+\n+parser = argparse.ArgumentParser(description='Script to get coins from a faucet.', epilog='You may need to start with double-dash (--) when providing bitcoin-cli arguments.')\n+parser.add_argument('-c', '--cmd', dest='cmd', default='bitcoin-cli', help='bitcoin-cli command to use')\n+parser.add_argument('-f', '--faucet', dest='faucet', default='https://signetfaucet.com/claim', help='URL of the faucet')\n+parser.add_argument('-a', '--addr', dest='addr', default='', help='Bitcoin address to which the faucet should send')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20145#discussion_r505457254",
      "id" : 505457254,
      "line" : 14,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ1NzI1NA==",
      "original_commit_id" : "355d0c4f6b8a7687a3940a2d90d66b08e560bfa7",
      "original_line" : 14,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 14,
      "pull_request_review_id" : 509265918,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-15T11:11:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/505457254",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20145#discussion_r505457683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20145"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/505457683"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe s/coins/signet coins/",
      "commit_id" : "355d0c4f6b8a7687a3940a2d90d66b08e560bfa7",
      "created_at" : "2020-10-15T11:11:04Z",
      "diff_hunk" : "@@ -0,0 +1,36 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+import argparse\n+import subprocess\n+import requests\n+import sys\n+\n+parser = argparse.ArgumentParser(description='Script to get coins from a faucet.', epilog='You may need to start with double-dash (--) when providing bitcoin-cli arguments.')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20145#discussion_r505457683",
      "id" : 505457683,
      "line" : 11,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ1NzY4Mw==",
      "original_commit_id" : "355d0c4f6b8a7687a3940a2d90d66b08e560bfa7",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 11,
      "pull_request_review_id" : 509266453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20145",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-15T11:11:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/505457683",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
