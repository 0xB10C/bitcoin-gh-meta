[
   {
      "author_association" : "MEMBER",
      "body" : "Probably @ mentions should be removed from the OP.",
      "created_at" : "2020-10-09T18:59:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706351504",
      "id" : 706351504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM1MTUwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T18:59:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706351504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. Removed @ mentions.",
      "created_at" : "2020-10-09T18:59:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706351783",
      "id" : 706351783,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM1MTc4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T18:59:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706351783",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK f639a88e720eb30c170e84710341b9c64ccf4ce4\r\n\r\nBuild, ran functional & unit tests, used `-netinfo` on testnet and signet.",
      "created_at" : "2020-10-09T19:49:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706372153",
      "id" : 706372153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjM3MjE1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T19:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706372153",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: I'm a big fan of `-netinfo` - thanks for improving!",
      "created_at" : "2020-10-09T21:39:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706413337",
      "id" : 706413337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjQxMzMzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-09T21:39:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706413337",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-10-10T02:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-706472287",
      "id" : 706472287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwNjQ3MjI4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T21:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/706472287",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503724577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503724577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This produces the following output with `bitcoin-cli -testnet -netinfo` for me\r\n\r\n```\r\nBitcoin Core v0.20.99.0-8b0aa43e2 testnet - 70016/Satoshi:0.20.99/\r\n\r\n        ipv4    ipv6   onion   total  block-relay\r\nin         0       0       0       0       0\r\nout        9       0       1      10       2\r\ntotal      9       0       1      10       2\r\n\r\nnetworks: ipv4 ipv6 onion - local addresses:\r\n2002:b10c:b10c:0:1234::5057     port  18333    score      1\r\n2002:b10c:b10c:0:1234::33ed     port  18333    score      1\r\nb10cabcdefaqqqhf.onion          port  18333    score     13\r\n```\r\n\r\nI'm not sure if this adds that much in its current form. Someone, who didn't look at the code, wouldn't know that `ipv4 ipv6 onion` is dynamically constructed from `networkinfo` and not just a constant. Additionally, it's for 1) quite hidden and 2) not self-explanatory that these are the reachable networks. \r\n\r\nSomething like the following might be better:\r\n```\r\nreachable networks: ipv4 ipv6 onion\r\nlocal addresses:\r\n2002:b10c:b10c:0:1234::5057     port  18333    score      1\r\n2002:b10c:b10c:0:1234::33ed     port  18333    score      1\r\nb10cabcdefaqqqhf.onion          port  18333    score     13\r\n```",
      "commit_id" : "f639a88e720eb30c170e84710341b9c64ccf4ce4",
      "created_at" : "2020-10-13T07:27:32Z",
      "diff_hunk" : "@@ -491,11 +491,16 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         result += strprintf(\"out    %5i   %5i   %5i   %5i   %5i\\n\", ipv4_o, ipv6_o, onion_o, total_o, block_relay_o);\n         result += strprintf(\"total  %5i   %5i   %5i   %5i   %5i\\n\", ipv4_i + ipv4_o, ipv6_i + ipv6_o, onion_i + onion_o, total_i + total_o, block_relay_i + block_relay_o);\n \n-        // Report local addresses, ports, and scores.\n-        result += \"\\nLocal addresses\";\n+        // Report reachable networks and local addresses info.\n+        result += \"\\nnetworks:\";\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            const std::string name{network[\"name\"].get_str()};\n+            if (!name.empty() && network[\"reachable\"].get_bool()) result += \" \" + name;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503724577",
      "id" : 503724577,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyNDU3Nw==",
      "original_commit_id" : "8b0aa43e290e5944335cab65d9b3477f73d57648",
      "original_line" : 499,
      "original_position" : 11,
      "original_start_line" : 495,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 507140932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-13T08:51:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503724577",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503780665"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503780665"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the testing and feedback, @0xB10C. I'm not sure it would add much either. Dropped the commit to not invalidate your previous ACK. Thanks!",
      "commit_id" : "f639a88e720eb30c170e84710341b9c64ccf4ce4",
      "created_at" : "2020-10-13T08:53:56Z",
      "diff_hunk" : "@@ -491,11 +491,16 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         result += strprintf(\"out    %5i   %5i   %5i   %5i   %5i\\n\", ipv4_o, ipv6_o, onion_o, total_o, block_relay_o);\n         result += strprintf(\"total  %5i   %5i   %5i   %5i   %5i\\n\", ipv4_i + ipv4_o, ipv6_i + ipv6_o, onion_i + onion_o, total_i + total_o, block_relay_i + block_relay_o);\n \n-        // Report local addresses, ports, and scores.\n-        result += \"\\nLocal addresses\";\n+        // Report reachable networks and local addresses info.\n+        result += \"\\nnetworks:\";\n+        for (const UniValue& network : networkinfo[\"networks\"].getValues()) {\n+            const std::string name{network[\"name\"].get_str()};\n+            if (!name.empty() && network[\"reachable\"].get_bool()) result += \" \" + name;\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#discussion_r503780665",
      "id" : 503780665,
      "in_reply_to_id" : 503724577,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzc4MDY2NQ==",
      "original_commit_id" : "8b0aa43e290e5944335cab65d9b3477f73d57648",
      "original_line" : 499,
      "original_position" : 11,
      "original_start_line" : 495,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 507212308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20115",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-10-13T08:53:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/503780665",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-10-15T17:25:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-709474780",
      "id" : 709474780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwOTQ3NDc4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-15T17:25:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709474780",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK 43ee49f2c42f078763be55d666161507a2d7707b\r\n\r\nBuild and used -netinfo on mainnet, testnet and signet.",
      "created_at" : "2020-10-24T13:27:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20115#issuecomment-715915074",
      "id" : 715915074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20115",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTkxNTA3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T13:27:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715915074",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1223908?v=4",
         "events_url" : "https://api.github.com/users/Emzy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Emzy/followers",
         "following_url" : "https://api.github.com/users/Emzy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Emzy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Emzy",
         "id" : 1223908,
         "login" : "Emzy",
         "node_id" : "MDQ6VXNlcjEyMjM5MDg=",
         "organizations_url" : "https://api.github.com/users/Emzy/orgs",
         "received_events_url" : "https://api.github.com/users/Emzy/received_events",
         "repos_url" : "https://api.github.com/users/Emzy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Emzy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Emzy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Emzy"
      }
   }
]
