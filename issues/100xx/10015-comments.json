[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106509226"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106509226"
         }
      },
      "body" : "The new error message is a bit confussing to me because it doesn't provides a reason or error code. IMO if something can fail for two different reasons, it should let the caller know the reason in order to let him take the appropiate actions, show the best error message, etc.",
      "commit_id" : "2d825c8582a5b6e9a78e48776b5ec3240141b050",
      "created_at" : "2017-03-16T19:22:32Z",
      "diff_hunk" : "@@ -316,7 +316,7 @@ def run_test(self):\n         rawtx   = self.nodes[2].createrawtransaction(inputs, outputs)\n         dec_tx  = self.nodes[2].decoderawtransaction(rawtx)\n \n-        assert_raises_jsonrpc(-4, \"Insufficient funds\", self.nodes[2].fundrawtransaction, rawtx)\n+        assert_raises_jsonrpc(-4, \"Coin Selection Failed\", self.nodes[2].fundrawtransaction, rawtx)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106509226",
      "id" : 106509226,
      "original_commit_id" : "97cb164f54f48f9c91293d08f6afc7d5628dc789",
      "original_position" : 5,
      "path" : "qa/rpc-tests/fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 27435440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015",
      "updated_at" : "2017-03-16T19:22:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106509226",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/127973?v=3",
         "events_url" : "https://api.github.com/users/lontivero/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lontivero/followers",
         "following_url" : "https://api.github.com/users/lontivero/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lontivero/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lontivero",
         "id" : 127973,
         "login" : "lontivero",
         "organizations_url" : "https://api.github.com/users/lontivero/orgs",
         "received_events_url" : "https://api.github.com/users/lontivero/received_events",
         "repos_url" : "https://api.github.com/users/lontivero/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lontivero/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lontivero/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lontivero"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106511904"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106511904"
         }
      },
      "body" : "I agree it'd be better to have more precise error codes/messages returned. However, I think this is an improvement since we're returning \"Insufficient funds\" when the problem may be something different.",
      "commit_id" : "2d825c8582a5b6e9a78e48776b5ec3240141b050",
      "created_at" : "2017-03-16T19:35:19Z",
      "diff_hunk" : "@@ -316,7 +316,7 @@ def run_test(self):\n         rawtx   = self.nodes[2].createrawtransaction(inputs, outputs)\n         dec_tx  = self.nodes[2].decoderawtransaction(rawtx)\n \n-        assert_raises_jsonrpc(-4, \"Insufficient funds\", self.nodes[2].fundrawtransaction, rawtx)\n+        assert_raises_jsonrpc(-4, \"Coin Selection Failed\", self.nodes[2].fundrawtransaction, rawtx)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106511904",
      "id" : 106511904,
      "original_commit_id" : "97cb164f54f48f9c91293d08f6afc7d5628dc789",
      "original_position" : 5,
      "path" : "qa/rpc-tests/fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 27438409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015",
      "updated_at" : "2017-03-16T19:35:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106511904",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106623497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106623497"
         }
      },
      "body" : "Agree that if there are really insufficient funds it'd be good to reply that. A specific error is better than a non-specific one *if the message is correct*. Better an aspecific error than an incorrect one though. An incorrect \"insufficient funds\" error could set the caller on a wild goose chase or get them to panic. In that case it's better to return something general which prompts the caller to do their own research.\r\n\r\n\r\n",
      "commit_id" : "2d825c8582a5b6e9a78e48776b5ec3240141b050",
      "created_at" : "2017-03-17T10:38:18Z",
      "diff_hunk" : "@@ -316,7 +316,7 @@ def run_test(self):\n         rawtx   = self.nodes[2].createrawtransaction(inputs, outputs)\n         dec_tx  = self.nodes[2].decoderawtransaction(rawtx)\n \n-        assert_raises_jsonrpc(-4, \"Insufficient funds\", self.nodes[2].fundrawtransaction, rawtx)\n+        assert_raises_jsonrpc(-4, \"Coin Selection Failed\", self.nodes[2].fundrawtransaction, rawtx)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10015#discussion_r106623497",
      "id" : 106623497,
      "original_commit_id" : "97cb164f54f48f9c91293d08f6afc7d5628dc789",
      "original_position" : 5,
      "path" : "qa/rpc-tests/fundrawtransaction.py",
      "position" : 5,
      "pull_request_review_id" : 27554868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10015",
      "updated_at" : "2017-03-17T10:38:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/106623497",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
