[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-09-17T16:16:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-921920121",
      "id" : 921920121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII584282J5",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-17T16:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/921920121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15936](https://github.com/bitcoin/bitcoin/pull/15936) (Unify bitcoin-qt and bitcoind persistent settings by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-09-18T02:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-922163977",
      "id" : 922163977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII58429xsJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/922163977/reactions"
      },
      "updated_at" : "2021-10-06T14:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/922163977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "External signers can in principle be used without wallet support, though currently only the `enumeratesigners` RPC call works (not very useful). See `rpc_signer.py`. This is consistent with RPC calls like `signrawtransactionwithkey` which also don't need a wallet. This is why I initially picked the Node interface. Not sure how much this matters, or even if anyone cares about using external signers without a (watch-only) wallet.",
      "created_at" : "2021-09-29T09:14:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-929995625",
      "id" : 929995625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII5843bptp",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-29T09:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929995625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-10-05T08:17:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-934176086",
      "id" : 934176086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII5843rmVW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934176086/reactions"
      },
      "updated_at" : "2021-10-05T08:17:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934176086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> External signers can in principle be used without wallet support, though currently only the `enumeratesigners` RPC call works (not very useful). See `rpc_signer.py`. This is consistent with RPC calls like `signrawtransactionwithkey` which also don't need a wallet. This is why I initially picked the Node interface. Not sure how much this matters, or even if anyone cares about using external signers without a (watch-only) wallet.\r\n\r\nFair enough. I moved the signers list method back to the `Node` interface instead of adding it to the `WalletClient` interface so the signer code will keep running in the node process instead of the wallet process and there's no behavior change. This makes the PR smaller, and if there is ever any reason to switch which process signing code runs in, it can be moved later.\r\n\r\nNow this PR only adds the `interfaces::ExternalSigner` class, which is needed so there is some way of passing signers between processes.\r\n\r\n---\r\n\r\nRebased c74e5706a46d063adbdef93b1cf2582086a78382 -> e3afe660a44aec9cc6ce6a2e04461fdf5ade2483 ([`pr/ipc-signer.1`](https://github.com/ryanofsky/bitcoin/commits/pr/ipc-signer.1) -> [`pr/ipc-signer.2`](https://github.com/ryanofsky/bitcoin/commits/pr/ipc-signer.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/ipc-signer.1-rebase..pr/ipc-signer.2)) due to conflict with #22951, and also moved list signers method back to the Node interface as sjors suggested",
      "created_at" : "2021-10-06T02:59:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-935320497",
      "id" : 935320497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII5843v9ux",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935320497/reactions"
      },
      "updated_at" : "2021-10-06T02:59:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/935320497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2021-10-23T14:50:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#issuecomment-950163719",
      "id" : 950163719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23004",
      "node_id" : "IC_kwDOABII5844olkH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/950163719/reactions"
      },
      "updated_at" : "2021-10-23T14:50:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/950163719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23004#discussion_r734988184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23004"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734988184"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why `m_signer` is not a `private:` member?",
      "commit_id" : "e3afe660a44aec9cc6ce6a2e04461fdf5ade2483",
      "created_at" : "2021-10-23T16:29:40Z",
      "diff_hunk" : "@@ -67,6 +67,16 @@ using interfaces::WalletClient;\n \n namespace node {\n namespace {\n+class ExternalSignerImpl : public interfaces::ExternalSigner\n+{\n+public:\n+#ifdef ENABLE_EXTERNAL_SIGNER\n+    ExternalSignerImpl(::ExternalSigner signer) : m_signer(std::move(signer)) {}\n+    std::string getName() override { return m_signer.m_name; }\n+    ::ExternalSigner m_signer;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23004#discussion_r734988184",
      "id" : 734988184,
      "line" : 76,
      "node_id" : "PRRC_kwDOABII584rzweY",
      "original_commit_id" : "e3afe660a44aec9cc6ce6a2e04461fdf5ade2483",
      "original_line" : 76,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 10,
      "pull_request_review_id" : 787405429,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23004",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734988184/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-23T16:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/734988184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
