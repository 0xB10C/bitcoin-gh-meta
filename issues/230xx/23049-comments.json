[
   {
      "author_association" : "NONE",
      "body" : "To build it:\r\n```\r\n./contrib/guix/guix-build\r\nenv HOSTS='x86_64-linux-gnu' ./contrib/guix/guix-build\r\n```\r\n\r\nTo test it:\r\n```\r\n ./guix-build-bb059e4be395/distsrc-bb059e4be395-x86_64-linux-gnu/src/bitcoind\r\n```\r\n\r\nAn example of how to import `sv2-ffi` in a generic c++ projecy can be found [here](https://github.com/stratum-mining/stratum/tree/main/examples/interop-cpp)",
      "created_at" : "2021-09-20T16:49:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-923099972",
      "id" : 923099972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23049",
      "node_id" : "IC_kwDOABII5843BWNE",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-20T16:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923099972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23049#discussion_r712351205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712351205"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think Bitcoin Core build should ever call cargo for rust stuff - we should call rustc directly with the relevant libraries.",
      "commit_id" : "bb059e4be395a34433149c6d1b465a1584c4c285",
      "created_at" : "2021-09-20T16:58:23Z",
      "diff_hunk" : "@@ -0,0 +1,36 @@\n+#! /bin/sh\n+\n+SCRIPT_DIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" &> /dev/null && pwd )\"\n+\n+rm -rf ${SCRIPT_DIR}/target\n+mkdir ${SCRIPT_DIR}/target\n+mkdir ${SCRIPT_DIR}/target/package\n+\n+cargo package --manifest-path ${SCRIPT_DIR}/sv2-ffi/Cargo.toml --allow-dirty",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23049#discussion_r712351205",
      "id" : 712351205,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII584qdZ3l",
      "original_commit_id" : "bb059e4be395a34433149c6d1b465a1584c4c285",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/rusty/build-for-guix.sh",
      "position" : 9,
      "pull_request_review_id" : 758883359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23049",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-20T16:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712351205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK for Rust, until a secure bootstrap without trusted third party binaries is practical.",
      "created_at" : "2021-09-20T17:30:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-923132229",
      "id" : 923132229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23049",
      "node_id" : "IC_kwDOABII5843BeFF",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-20T17:30:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923132229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23049#discussion_r712859234"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23049"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712859234"
         }
      },
      "author_association" : "NONE",
      "body" : "I'm gonna remove the cargo dependency. And subtree all the rust sources. ",
      "commit_id" : "bb059e4be395a34433149c6d1b465a1584c4c285",
      "created_at" : "2021-09-21T09:22:33Z",
      "diff_hunk" : "@@ -0,0 +1,36 @@\n+#! /bin/sh\n+\n+SCRIPT_DIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" &> /dev/null && pwd )\"\n+\n+rm -rf ${SCRIPT_DIR}/target\n+mkdir ${SCRIPT_DIR}/target\n+mkdir ${SCRIPT_DIR}/target/package\n+\n+cargo package --manifest-path ${SCRIPT_DIR}/sv2-ffi/Cargo.toml --allow-dirty",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23049#discussion_r712859234",
      "id" : 712859234,
      "in_reply_to_id" : 712351205,
      "line" : 9,
      "node_id" : "PRRC_kwDOABII584qfV5i",
      "original_commit_id" : "bb059e4be395a34433149c6d1b465a1584c4c285",
      "original_line" : 9,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/rusty/build-for-guix.sh",
      "position" : 9,
      "pull_request_review_id" : 759506311,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23049",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-21T09:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712859234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Concept NACK for Rust, until a secure bootstrap without trusted third party binaries is practical.\r\n\r\nIsn't that already achieved with guix?",
      "created_at" : "2021-09-21T09:23:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23049#issuecomment-923797532",
      "id" : 923797532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23049",
      "node_id" : "IC_kwDOABII5843EAgc",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-21T09:23:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/923797532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6207037?v=4",
         "events_url" : "https://api.github.com/users/Fi3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fi3/followers",
         "following_url" : "https://api.github.com/users/Fi3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fi3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fi3",
         "id" : 6207037,
         "login" : "Fi3",
         "node_id" : "MDQ6VXNlcjYyMDcwMzc=",
         "organizations_url" : "https://api.github.com/users/Fi3/orgs",
         "received_events_url" : "https://api.github.com/users/Fi3/received_events",
         "repos_url" : "https://api.github.com/users/Fi3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fi3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fi3"
      }
   }
]
