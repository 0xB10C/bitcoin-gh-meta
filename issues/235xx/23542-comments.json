[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-11-18T10:31:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972737837",
      "id" : 972737837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5845-s0t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972737837/reactions"
      },
      "updated_at" : "2021-11-18T10:31:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972737837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752117889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752117889"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure about this list of bad ports because more ports can be added to this list if we need it in Bitcoin Core. I had followed the comments in other PR: https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T10:45:06Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame\n+    case 102:   // iso-tsap\n+    case 103:   // gppitnp\n+    case 104:   // acr-nema\n+    case 109:   // pop2\n+    case 110:   // pop3\n+    case 111:   // sunrpc\n+    case 113:   // auth\n+    case 115:   // sftp\n+    case 117:   // uucp-path\n+    case 119:   // nntp\n+    case 123:   // NTP\n+    case 135:   // loc-srv /epmap\n+    case 137:   // netbios\n+    case 139:   // netbios\n+    case 143:   // imap2\n+    case 161:   // snmp\n+    case 179:   // BGP\n+    case 389:   // ldap\n+    case 427:   // SLP (Also used by Apple Filing Protocol)\n+    case 465:   // smtp+ssl\n+    case 512:   // print / exec\n+    case 513:   // login\n+    case 514:   // shell\n+    case 515:   // printer\n+    case 526:   // tempo\n+    case 530:   // courier\n+    case 531:   // chat\n+    case 532:   // netnews\n+    case 540:   // uucp\n+    case 548:   // AFP (Apple Filing Protocol)\n+    case 554:   // rtsp\n+    case 556:   // remotefs\n+    case 563:   // nntp+ssl\n+    case 587:   // smtp (rfc6409)\n+    case 601:   // syslog-conn (rfc3195)\n+    case 636:   // ldap+ssl\n+    case 989:   // ftps-data\n+    case 990:   // ftps\n+    case 993:   // ldap+ssl\n+    case 995:   // pop3+ssl\n+    case 1719:  // h323gatestat\n+    case 1720:  // h323hostcall\n+    case 1723:  // pptp\n+    case 2049:  // nfs\n+    case 3659:  // apple-sasl / PasswordServer\n+    case 4045:  // lockd\n+    case 5060:  // sip\n+    case 5061:  // sips\n+    case 6000:  // X11\n+    case 6566:  // sane-port\n+    case 6665:  // Alternate IRC [Apple addition]\n+    case 6666:  // Alternate IRC [Apple addition]\n+    case 6667:  // Standard IRC [Apple addition]\n+    case 6668:  // Alternate IRC [Apple addition]\n+    case 6669:  // Alternate IRC [Apple addition]\n+    case 6697:  // IRC + TLS\n+    case 10080: // Amanda",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752117889",
      "id" : 752117889,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584s1GiB",
      "original_commit_id" : "38a7cf975ce552a29cd15bc1dc7546250582f0da",
      "original_line" : 841,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 87,
      "pull_request_review_id" : 809752913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752117889/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T10:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752117889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-11-18T10:57:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972756964",
      "id" : 972756964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5845-xfk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972756964/reactions"
      },
      "updated_at" : "2021-11-18T10:57:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972756964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`38a7cf975c...a47716aa5a`: warn if configured to listen on a \"bad\" port.",
      "created_at" : "2021-11-18T11:01:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972760140",
      "id" : 972760140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5845-yRM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972760140/reactions"
      },
      "updated_at" : "2021-11-18T11:01:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972760140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-11-18T11:53:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972796058",
      "id" : 972796058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5845-7Ca",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972796058/reactions"
      },
      "updated_at" : "2021-11-18T11:53:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972796058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2021-11-18T12:00:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-972800830",
      "id" : 972800830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5845-8M-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972800830/reactions"
      },
      "updated_at" : "2021-11-18T12:00:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/972800830",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752422141"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752422141"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "any reason these 2 shouldn't be bad ports?",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T16:35:42Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752422141",
      "id" : 752422141,
      "line" : 586,
      "node_id" : "PRRC_kwDOABII584s2Qz9",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 586,
      "original_position" : 11,
      "original_start_line" : 585,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 11,
      "pull_request_review_id" : 810173114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752422141/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 585,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-18T16:35:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752422141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752438216"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752438216"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess, on one side a lot of connections and connection attempts are to be expected by operators of web servers which are often open to the public and everybody is expected to be able to connect to them, so it is not likely that a web server operator complains like \"why are you trying to connect to my web server?\".\r\n\r\nOn the other side, there are lots of restrictive firewalls that only allow outbound traffic to the internet to ports 80 and 443. So, I think it is good that 80 and 443 are not \"bad\". Ideally Bitcoin Core should listen on 443 and talk SSL, so it is indistinguishable from normal HTTPS traffic.",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T16:52:30Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752438216",
      "id" : 752438216,
      "in_reply_to_id" : 752422141,
      "line" : 586,
      "node_id" : "PRRC_kwDOABII584s2UvI",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 586,
      "original_position" : 11,
      "original_start_line" : 585,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 11,
      "pull_request_review_id" : 810195236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752438216/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 585,
      "start_side" : "RIGHT",
      "updated_at" : "2021-11-18T16:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752438216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752569187"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752569187"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@prayank23: You just mean additional ports can always be added at a later date? I agree the comment seems reasonable",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:40:12Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame\n+    case 102:   // iso-tsap\n+    case 103:   // gppitnp\n+    case 104:   // acr-nema\n+    case 109:   // pop2\n+    case 110:   // pop3\n+    case 111:   // sunrpc\n+    case 113:   // auth\n+    case 115:   // sftp\n+    case 117:   // uucp-path\n+    case 119:   // nntp\n+    case 123:   // NTP\n+    case 135:   // loc-srv /epmap\n+    case 137:   // netbios\n+    case 139:   // netbios\n+    case 143:   // imap2\n+    case 161:   // snmp\n+    case 179:   // BGP\n+    case 389:   // ldap\n+    case 427:   // SLP (Also used by Apple Filing Protocol)\n+    case 465:   // smtp+ssl\n+    case 512:   // print / exec\n+    case 513:   // login\n+    case 514:   // shell\n+    case 515:   // printer\n+    case 526:   // tempo\n+    case 530:   // courier\n+    case 531:   // chat\n+    case 532:   // netnews\n+    case 540:   // uucp\n+    case 548:   // AFP (Apple Filing Protocol)\n+    case 554:   // rtsp\n+    case 556:   // remotefs\n+    case 563:   // nntp+ssl\n+    case 587:   // smtp (rfc6409)\n+    case 601:   // syslog-conn (rfc3195)\n+    case 636:   // ldap+ssl\n+    case 989:   // ftps-data\n+    case 990:   // ftps\n+    case 993:   // ldap+ssl\n+    case 995:   // pop3+ssl\n+    case 1719:  // h323gatestat\n+    case 1720:  // h323hostcall\n+    case 1723:  // pptp\n+    case 2049:  // nfs\n+    case 3659:  // apple-sasl / PasswordServer\n+    case 4045:  // lockd\n+    case 5060:  // sip\n+    case 5061:  // sips\n+    case 6000:  // X11\n+    case 6566:  // sane-port\n+    case 6665:  // Alternate IRC [Apple addition]\n+    case 6666:  // Alternate IRC [Apple addition]\n+    case 6667:  // Standard IRC [Apple addition]\n+    case 6668:  // Alternate IRC [Apple addition]\n+    case 6669:  // Alternate IRC [Apple addition]\n+    case 6697:  // IRC + TLS\n+    case 10080: // Amanda",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752569187",
      "id" : 752569187,
      "in_reply_to_id" : 752117889,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584s20tj",
      "original_commit_id" : "38a7cf975ce552a29cd15bc1dc7546250582f0da",
      "original_line" : 841,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 87,
      "pull_request_review_id" : 810376626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752569187/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T19:40:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752569187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752571046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752571046"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm a bit confused as to why bitcoin cares about what a brower's fetch api considers a \"bad port\", it's not clear what this even means? Maybe I'm missing something.",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:41:57Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752571046",
      "id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s21Km",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 810378235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752571046/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T19:42:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752571046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574310"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "looks like I was missing this context: https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:46:45Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574310",
      "id" : 752574310,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s219m",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 810382661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574310/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T19:46:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574723"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just to get a starting list of bad ports I think. Can adjust from there if certain ports should be added or removed from that.",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:47:23Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752574723",
      "id" : 752574723,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s22ED",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 810383256,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574723/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T19:47:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752574723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16323900?v=4",
         "events_url" : "https://api.github.com/users/michaelfolkson/events{/privacy}",
         "followers_url" : "https://api.github.com/users/michaelfolkson/followers",
         "following_url" : "https://api.github.com/users/michaelfolkson/following{/other_user}",
         "gists_url" : "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/michaelfolkson",
         "id" : 16323900,
         "login" : "michaelfolkson",
         "node_id" : "MDQ6VXNlcjE2MzIzOTAw",
         "organizations_url" : "https://api.github.com/users/michaelfolkson/orgs",
         "received_events_url" : "https://api.github.com/users/michaelfolkson/received_events",
         "repos_url" : "https://api.github.com/users/michaelfolkson/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/michaelfolkson/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/michaelfolkson"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752576326"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752576326"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Adding entries to the list may be undesirable, as it may mean that someone running a node on such a port silently stops getting connections.\n\nNot a very serious concern, as this would happen spread over some amount of time anyway, but still a reason I think to err on the side of caution and start with a possibly overly expansive list here ",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:49:49Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752576326",
      "id" : 752576326,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s22dG",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 810385506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752576326/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T19:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752576326",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752582198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752582198"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: hostname (looks like a OCR fail that made it to the browsers' lists)",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T19:58:34Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752582198",
      "id" : 752582198,
      "line" : 784,
      "node_id" : "PRRC_kwDOABII584s2342",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 784,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 30,
      "pull_request_review_id" : 810393608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752582198/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T20:48:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752582198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752588232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752588232"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll still point out that the link provided doesn't explain why a particular port is \"bad\". Following the link to get an explaination leads to: \"A port is a bad port if it is listed in the first column of the following table\". ok...??? ð I found this pretty confusing from a user perspective trying to understand this warning.",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T20:08:03Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752588232",
      "id" : 752588232,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s25XI",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 8,
      "pull_request_review_id" : 810402514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752588232/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T20:08:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752588232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752599118"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752599118"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was wondering which of the 3 sources the used list is based on, but they seem to be identical with the exception of port 0, which is considered bad by [Mozilla](https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp#l1389). Should we add port 0 too?",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T20:24:39Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752599118",
      "id" : 752599118,
      "line" : 253,
      "node_id" : "PRRC_kwDOABII584s28BO",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 253,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 8,
      "pull_request_review_id" : 810393608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752599118/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T20:48:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752599118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752608314"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752608314"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If there is a clear definition of what Bitcoin Core is considering a bad port maybe they can be added right now",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T20:39:19Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame\n+    case 102:   // iso-tsap\n+    case 103:   // gppitnp\n+    case 104:   // acr-nema\n+    case 109:   // pop2\n+    case 110:   // pop3\n+    case 111:   // sunrpc\n+    case 113:   // auth\n+    case 115:   // sftp\n+    case 117:   // uucp-path\n+    case 119:   // nntp\n+    case 123:   // NTP\n+    case 135:   // loc-srv /epmap\n+    case 137:   // netbios\n+    case 139:   // netbios\n+    case 143:   // imap2\n+    case 161:   // snmp\n+    case 179:   // BGP\n+    case 389:   // ldap\n+    case 427:   // SLP (Also used by Apple Filing Protocol)\n+    case 465:   // smtp+ssl\n+    case 512:   // print / exec\n+    case 513:   // login\n+    case 514:   // shell\n+    case 515:   // printer\n+    case 526:   // tempo\n+    case 530:   // courier\n+    case 531:   // chat\n+    case 532:   // netnews\n+    case 540:   // uucp\n+    case 548:   // AFP (Apple Filing Protocol)\n+    case 554:   // rtsp\n+    case 556:   // remotefs\n+    case 563:   // nntp+ssl\n+    case 587:   // smtp (rfc6409)\n+    case 601:   // syslog-conn (rfc3195)\n+    case 636:   // ldap+ssl\n+    case 989:   // ftps-data\n+    case 990:   // ftps\n+    case 993:   // ldap+ssl\n+    case 995:   // pop3+ssl\n+    case 1719:  // h323gatestat\n+    case 1720:  // h323hostcall\n+    case 1723:  // pptp\n+    case 2049:  // nfs\n+    case 3659:  // apple-sasl / PasswordServer\n+    case 4045:  // lockd\n+    case 5060:  // sip\n+    case 5061:  // sips\n+    case 6000:  // X11\n+    case 6566:  // sane-port\n+    case 6665:  // Alternate IRC [Apple addition]\n+    case 6666:  // Alternate IRC [Apple addition]\n+    case 6667:  // Standard IRC [Apple addition]\n+    case 6668:  // Alternate IRC [Apple addition]\n+    case 6669:  // Alternate IRC [Apple addition]\n+    case 6697:  // IRC + TLS\n+    case 10080: // Amanda",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752608314",
      "id" : 752608314,
      "in_reply_to_id" : 752117889,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584s2-Q6",
      "original_commit_id" : "38a7cf975ce552a29cd15bc1dc7546250582f0da",
      "original_line" : 841,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 87,
      "pull_request_review_id" : 810431061,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752608314/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T20:39:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752608314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635122"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think i2p uses port 0, so we'd need to make an exception for that",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T21:22:58Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635122",
      "id" : 752635122,
      "in_reply_to_id" : 752599118,
      "line" : 253,
      "node_id" : "PRRC_kwDOABII584s3Ezy",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 253,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 8,
      "pull_request_review_id" : 810468611,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635122/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T21:22:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "TCP port 0 does not exist. It also doesn't appear in the Mozilla list; it's just a terminator to indicate \"end of list\" there.\r\n\r\n@benthecarman Right; this list should only apply to IPv4/IPv6.",
      "commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "created_at" : "2021-11-18T21:24:17Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635951",
      "id" : 752635951,
      "in_reply_to_id" : 752599118,
      "line" : 253,
      "node_id" : "PRRC_kwDOABII584s3FAv",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 253,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 8,
      "pull_request_review_id" : 810469777,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635951/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-18T21:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/752635951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753020571"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753020571"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "For me, the following comment answers the question:\r\n\r\n> \"why am I seeing a failed SSH-login to my server on port 22 from your IP-address w.x.y.z?\"\r\n\r\n(from https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736)\r\n\r\nThere is some similarity between browser logic and Bitcoin node logic in this aspect where a malicious actor may trick a honest node to try to open a connection to a \"victim\" target:\r\n* a honest web-browser user may be tricked to click specially crafted (malicious) links like e.g. http://area51.gov:22/\r\n* a honest node may be tricked to try to open connection to `area51.gov:22` if that address gets gossiped over the bitcoin network",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-11-19T09:36:49Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753020571",
      "id" : 753020571,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s4i6b",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 810988903,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753020571/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:19:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753020571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`a47716aa5a...cb3887ee36`: avoid connections to bad ports only over clearnet (https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752635951), minor other changes.",
      "created_at" : "2021-11-19T10:28:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-973946417",
      "id" : 973946417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846DT4x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973946417/reactions"
      },
      "updated_at" : "2021-11-19T10:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973946417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753073377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753073377"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good catch! Fixed.",
      "commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "created_at" : "2021-11-19T10:29:46Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753073377",
      "id" : 753073377,
      "in_reply_to_id" : 752582198,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584s4vzh",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 784,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 811044057,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753073377/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-19T10:29:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753073377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753077440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753077440"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "All 3 sources agree on which ports are bad (which is good, pun intended). Can ignore port 0, that is something like opening connection to port 70000 or to IP address `1.2.3.500`.\r\n\r\nChanged the logic to apply only to clearnet (IPv4 and IPv6).",
      "commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "created_at" : "2021-11-19T10:34:56Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753077440",
      "id" : 753077440,
      "in_reply_to_id" : 752599118,
      "line" : 253,
      "node_id" : "PRRC_kwDOABII584s4wzA",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 253,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 8,
      "pull_request_review_id" : 811048973,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753077440/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-19T10:34:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753077440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`cb3887ee36...634f2838ee`: fix arguments to `AddArg()`",
      "created_at" : "2021-11-19T10:44:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-973964001",
      "id" : 973964001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846DYLh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973964001/reactions"
      },
      "updated_at" : "2021-11-19T10:44:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/973964001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753085741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753085741"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There is/was not a definition before, but I guess that will be settled up with this PR.",
      "commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "created_at" : "2021-11-19T10:47:08Z",
      "diff_hunk" : "@@ -755,3 +755,91 @@ void InterruptSocks5(bool interrupt)\n {\n     interruptSocks5Recv = interrupt;\n }\n+\n+bool IsBadPort(uint16_t port)\n+{\n+    switch (port) {\n+    case 1:     // tcpmux\n+    case 7:     // echo\n+    case 9:     // discard\n+    case 11:    // systat\n+    case 13:    // daytime\n+    case 15:    // netstat\n+    case 17:    // qotd\n+    case 19:    // chargen\n+    case 20:    // ftp data\n+    case 21:    // ftp access\n+    case 22:    // ssh\n+    case 23:    // telnet\n+    case 25:    // smtp\n+    case 37:    // time\n+    case 42:    // name\n+    case 43:    // nicname\n+    case 53:    // domain\n+    case 69:    // tftp\n+    case 77:    // priv-rjs\n+    case 79:    // finger\n+    case 87:    // ttylink\n+    case 95:    // supdup\n+    case 101:   // hostriame\n+    case 102:   // iso-tsap\n+    case 103:   // gppitnp\n+    case 104:   // acr-nema\n+    case 109:   // pop2\n+    case 110:   // pop3\n+    case 111:   // sunrpc\n+    case 113:   // auth\n+    case 115:   // sftp\n+    case 117:   // uucp-path\n+    case 119:   // nntp\n+    case 123:   // NTP\n+    case 135:   // loc-srv /epmap\n+    case 137:   // netbios\n+    case 139:   // netbios\n+    case 143:   // imap2\n+    case 161:   // snmp\n+    case 179:   // BGP\n+    case 389:   // ldap\n+    case 427:   // SLP (Also used by Apple Filing Protocol)\n+    case 465:   // smtp+ssl\n+    case 512:   // print / exec\n+    case 513:   // login\n+    case 514:   // shell\n+    case 515:   // printer\n+    case 526:   // tempo\n+    case 530:   // courier\n+    case 531:   // chat\n+    case 532:   // netnews\n+    case 540:   // uucp\n+    case 548:   // AFP (Apple Filing Protocol)\n+    case 554:   // rtsp\n+    case 556:   // remotefs\n+    case 563:   // nntp+ssl\n+    case 587:   // smtp (rfc6409)\n+    case 601:   // syslog-conn (rfc3195)\n+    case 636:   // ldap+ssl\n+    case 989:   // ftps-data\n+    case 990:   // ftps\n+    case 993:   // ldap+ssl\n+    case 995:   // pop3+ssl\n+    case 1719:  // h323gatestat\n+    case 1720:  // h323hostcall\n+    case 1723:  // pptp\n+    case 2049:  // nfs\n+    case 3659:  // apple-sasl / PasswordServer\n+    case 4045:  // lockd\n+    case 5060:  // sip\n+    case 5061:  // sips\n+    case 6000:  // X11\n+    case 6566:  // sane-port\n+    case 6665:  // Alternate IRC [Apple addition]\n+    case 6666:  // Alternate IRC [Apple addition]\n+    case 6667:  // Standard IRC [Apple addition]\n+    case 6668:  // Alternate IRC [Apple addition]\n+    case 6669:  // Alternate IRC [Apple addition]\n+    case 6697:  // IRC + TLS\n+    case 10080: // Amanda",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753085741",
      "id" : 753085741,
      "in_reply_to_id" : 752117889,
      "line" : 841,
      "node_id" : "PRRC_kwDOABII584s4y0t",
      "original_commit_id" : "38a7cf975ce552a29cd15bc1dc7546250582f0da",
      "original_line" : 841,
      "original_position" : 87,
      "original_start_line" : null,
      "path" : "src/netbase.cpp",
      "position" : 87,
      "pull_request_review_id" : 811060348,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753085741/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-19T10:47:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753085741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753362442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753362442"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I understand that from reading the comment on github, but I was just pointing out from a user perspective there is no insight from the link in the warning in this commit. Perhaps it could be reworded: \"See https://fetch.spec.whatwg.org/#port-blocking for a list of bad ports\". Or perhaps (eventually? :sweat_smile: ) a link to docs within bitcoin itself that lists our bad ports with an explanation of why they are bad.",
      "commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "created_at" : "2021-11-19T16:51:25Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r753362442",
      "id" : 753362442,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584s52YK",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 811447206,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753362442/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-11-19T16:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/753362442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "tACK",
      "created_at" : "2021-11-21T18:20:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-974867964",
      "id" : 974867964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846G038",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974867964/reactions"
      },
      "updated_at" : "2021-11-25T13:22:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/974867964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "node_id" : "MDQ6VXNlcjE1MzAyODM=",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`634f2838ee..0671bc5313`: include the port when deciding a relay destination (append 3 commits)",
      "created_at" : "2021-11-29T11:13:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981535572",
      "id" : 981535572,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846gQtU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981535572/reactions"
      },
      "updated_at" : "2021-11-29T11:13:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981535572",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24213](https://github.com/bitcoin/bitcoin/pull/24213) (refactor: use Span in random.*; make GetRand a template, remove GetRandInt by PastaPastaPasta)\n* [#24116](https://github.com/bitcoin/bitcoin/pull/24116) (Document listening on port 0 assigns a random unused port by thonkle)\n* [#18642](https://github.com/bitcoin/bitcoin/pull/18642) (Use std::chrono for the time to rotate destination of addr messages + tests by naumenkogs)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-11-29T19:26:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981945234",
      "id" : 981945234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846h0uS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981945234/reactions"
      },
      "updated_at" : "2022-02-01T00:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981945234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-11-29T19:48:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-981960896",
      "id" : 981960896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846h4jA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981960896/reactions"
      },
      "updated_at" : "2021-11-29T19:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981960896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2021-12-02T14:10:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-984661753",
      "id" : 984661753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5846sL75",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/984661753/reactions"
      },
      "updated_at" : "2021-12-02T14:10:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/984661753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765759725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765759725"
         }
      },
      "author_association" : "MEMBER",
      "body" : "634f283 maybe perform less expensive checks first\r\n```suggestion\r\n            if (nTries < 50 && (addr.IsIPv4() || addr.IsIPv6()) && IsBadPort(addr.GetPort())) {\r\n```",
      "commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "created_at" : "2021-12-09T12:52:04Z",
      "diff_hunk" : "@@ -2084,12 +2084,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 continue;\n             }\n \n-            // Do not allow non-default ports, unless after 50 invalid\n-            // addresses selected already. This is to prevent malicious peers\n-            // from advertising themselves as a service on another host and\n-            // port, causing a DoS attack as nodes around the network attempt\n-            // to connect to it fruitlessly.\n-            if (addr.GetPort() != Params().GetDefaultPort(addr.GetNetwork()) && nTries < 50) {\n+            // Do not connect to bad ports, unless 50 invalid addresses have been selected already.\n+            if (IsBadPort(addr.GetPort()) && (addr.IsIPv4() || addr.IsIPv6()) && nTries < 50) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765759725",
      "id" : 765759725,
      "line" : 2088,
      "node_id" : "PRRC_kwDOABII584tpJDt",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 2088,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 11,
      "pull_request_review_id" : 827639287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765759725/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T15:24:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765759725",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765778916"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765778916"
         }
      },
      "author_association" : "MEMBER",
      "body" : "634f2838ee137234093a1fc89162f395366a387f might be a good place to use `std::count_if`, or alternatively, possibly faster given the number of iterations with\r\n```suggestion\r\n    for (uint16_t port = std::numeric_limits<uint16_t>::max(); port != 0; --port) {\r\n```",
      "commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "created_at" : "2021-12-09T13:17:56Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));\n+    BOOST_CHECK(!IsBadPort(8333));\n+\n+    // Check all ports, there must be 80 bad ports in total.\n+    size_t total_bad_ports{0};\n+    for (uint16_t port = std::numeric_limits<uint16_t>::max(); port > 0; --port) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765778916",
      "id" : 765778916,
      "line" : 591,
      "node_id" : "PRRC_kwDOABII584tpNvk",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 591,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 827639287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765778916/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765778916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765785857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765785857"
         }
      },
      "author_association" : "MEMBER",
      "body" : "b3a1a3ba A comment documenting why (0, 0) is passed to CServiceHash may be nice (or perhaps a dedicated/named ctor).",
      "commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "created_at" : "2021-12-09T13:26:52Z",
      "diff_hunk" : "@@ -1707,8 +1707,10 @@ void PeerManagerImpl::RelayAddress(NodeId originator,\n     // Relay to a limited number of other nodes\n     // Use deterministic randomness to send to the same nodes for 24 hours\n     // at a time so the m_addr_knowns of the chosen nodes prevent repeats\n-    uint64_t hashAddr = addr.GetHash();\n-    const CSipHasher hasher = m_connman.GetDeterministicRandomizer(RANDOMIZER_ID_ADDRESS_RELAY).Write(hashAddr << 32).Write((GetTime() + hashAddr) / (24 * 60 * 60));\n+    const uint64_t hash_addr = CServiceHash(0, 0)(addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765785857",
      "id" : 765785857,
      "line" : 1710,
      "node_id" : "PRRC_kwDOABII584tpPcB",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 1710,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 6,
      "pull_request_review_id" : 827639287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765785857/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765785857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765892209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765892209"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Still not sure about few things and comment above was marked as resolved even though few other reviewers have similar confusion about ports:\r\n\r\n1. What is a BAD port for Bitcoin Core?\r\n2. Why browsers (bad ports) are referenced here because Bitcoin Core is not a browser and I was unable to find anything relevant for other P2P networks. Example: [i2p](https://geti2p.net/en/faq#ports)\r\n3. https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736 this doesn't look like a big issue or maybe there is some misunderstanding\r\n4. What was the reason to allow p2p connections to nodes that are not using default ports? Why would someone use non-default port? Two reasons that I could think of: Privacy and Security. If someone wants to use a port that looks like other service but is Bitcoin Core, isn't that something we should encourage/allow?",
      "commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "created_at" : "2021-12-09T15:21:36Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking\n+ * https://chromium.googlesource.com/chromium/src.git/+/refs/heads/main/net/base/port_util.cc\n+ * https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp\n+ * https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765892209",
      "id" : 765892209,
      "line" : 256,
      "node_id" : "PRRC_kwDOABII584tppZx",
      "original_commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "original_line" : 256,
      "original_position" : 11,
      "original_start_line" : 250,
      "path" : "src/netbase.h",
      "position" : 11,
      "pull_request_review_id" : 827828400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765892209/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 250,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T15:21:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765892209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`0671bc5313...36bae788e1`: address https://github.com/bitcoin/bitcoin/pull/23542#discussion_r765759725",
      "created_at" : "2021-12-10T13:25:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-990972268",
      "id" : 990972268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5847EQls",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990972268/reactions"
      },
      "updated_at" : "2021-12-10T13:25:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990972268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766677135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766677135"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Although I think that in practice this is irrelevant (a few CPU cycles saved in a code that is not executed in a hot loop). Also, in most of the cases `nTries < 50` will be `true`, so the other conditions will be executed anyway.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:28:00Z",
      "diff_hunk" : "@@ -2084,12 +2084,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 continue;\n             }\n \n-            // Do not allow non-default ports, unless after 50 invalid\n-            // addresses selected already. This is to prevent malicious peers\n-            // from advertising themselves as a service on another host and\n-            // port, causing a DoS attack as nodes around the network attempt\n-            // to connect to it fruitlessly.\n-            if (addr.GetPort() != Params().GetDefaultPort(addr.GetNetwork()) && nTries < 50) {\n+            // Do not connect to bad ports, unless 50 invalid addresses have been selected already.\n+            if (IsBadPort(addr.GetPort()) && (addr.IsIPv4() || addr.IsIPv6()) && nTries < 50) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766677135",
      "id" : 766677135,
      "in_reply_to_id" : 765759725,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tspCP",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 2088,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 828891608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766677135/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:28:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766677135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766679194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766679194"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`std::count_if` works with iterators, how could I use it to go over the numbers 1..64k? Are you saying `!=` is faster than `>`? Even if \"yes\", I would leave it as is coz I find the `>` more natural/readable.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:31:00Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));\n+    BOOST_CHECK(!IsBadPort(8333));\n+\n+    // Check all ports, there must be 80 bad ports in total.\n+    size_t total_bad_ports{0};\n+    for (uint16_t port = std::numeric_limits<uint16_t>::max(); port > 0; --port) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766679194",
      "id" : 766679194,
      "in_reply_to_id" : 765778916,
      "line" : 591,
      "node_id" : "PRRC_kwDOABII584tspia",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 591,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 828894657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766679194/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766679194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766680459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680459"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The comment above says `// Use deterministic randomness ...`. I think that is sufficient but would be happy to reword the existent comment if you have a suggestion.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:32:56Z",
      "diff_hunk" : "@@ -1707,8 +1707,10 @@ void PeerManagerImpl::RelayAddress(NodeId originator,\n     // Relay to a limited number of other nodes\n     // Use deterministic randomness to send to the same nodes for 24 hours\n     // at a time so the m_addr_knowns of the chosen nodes prevent repeats\n-    uint64_t hashAddr = addr.GetHash();\n-    const CSipHasher hasher = m_connman.GetDeterministicRandomizer(RANDOMIZER_ID_ADDRESS_RELAY).Write(hashAddr << 32).Write((GetTime() + hashAddr) / (24 * 60 * 60));\n+    const uint64_t hash_addr = CServiceHash(0, 0)(addr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766680459",
      "id" : 766680459,
      "in_reply_to_id" : 765785857,
      "line" : 1710,
      "node_id" : "PRRC_kwDOABII584tsp2L",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 1710,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net_processing.cpp",
      "position" : 6,
      "pull_request_review_id" : 828896461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:32:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766680497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680497"
         }
      },
      "author_association" : "MEMBER",
      "body" : "True; my initial thought was to suggest only the IP `m_net` check first.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:32:58Z",
      "diff_hunk" : "@@ -2084,12 +2084,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 continue;\n             }\n \n-            // Do not allow non-default ports, unless after 50 invalid\n-            // addresses selected already. This is to prevent malicious peers\n-            // from advertising themselves as a service on another host and\n-            // port, causing a DoS attack as nodes around the network attempt\n-            // to connect to it fruitlessly.\n-            if (addr.GetPort() != Params().GetDefaultPort(addr.GetNetwork()) && nTries < 50) {\n+            // Do not connect to bad ports, unless 50 invalid addresses have been selected already.\n+            if (IsBadPort(addr.GetPort()) && (addr.IsIPv4() || addr.IsIPv6()) && nTries < 50) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766680497",
      "id" : 766680497,
      "in_reply_to_id" : 765759725,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tsp2x",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 2088,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 828896503,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680497/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766680497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766685970"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766685970"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> ... comment above was marked as resolved even though ...\r\n\r\nWhich comment? https://github.com/bitcoin/bitcoin/pull/23542#discussion_r752571046 is still open.\r\n\r\n> 1. What is a BAD port for Bitcoin Core?\r\n\r\nSince this PR, if it gets merged, a bad port (for making automatic outgoing connections to) is one for which `IsBadPort()` returns `true`.\r\n\r\n> 2. Why browsers (bad ports) are referenced here because Bitcoin Core is not a browser ...\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/23542#discussion_r753020571\r\n\r\n> 4. What was the reason to allow p2p connections to nodes that are not using default ports?\r\n\r\nFrom this PR OP: \"because connections over clearnet that involve\r\nport 8333 make it easy to detect, analyze, block or divert Bitcoin p2p\r\ntraffic before the connection is even established (at TCP SYN time)\"\r\n\r\n> Why would someone use non-default port?\r\n\r\nSee above, and also the reasons you state below:\r\n\r\n> Two reasons that I could think of: Privacy and Security. If someone wants to use a port that looks like other service but is Bitcoin Core, isn't that something we should encourage/allow?\r\n\r\nYes. This is what the current PR aims to achieve.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:40:52Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking\n+ * https://chromium.googlesource.com/chromium/src.git/+/refs/heads/main/net/base/port_util.cc\n+ * https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp\n+ * https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766685970",
      "id" : 766685970,
      "in_reply_to_id" : 765892209,
      "line" : 256,
      "node_id" : "PRRC_kwDOABII584tsrMS",
      "original_commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "original_line" : 256,
      "original_position" : 11,
      "original_start_line" : 250,
      "path" : "src/netbase.h",
      "position" : 11,
      "pull_request_review_id" : 828904368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766685970/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 250,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-10T13:40:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766685970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766694953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766694953"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Right, and `std::ranges::count_if` is C++20 (and test code doesn't need to be elegant).\r\n\r\n`!= 0` might be a faster iterator comparator (e.g. https://www.youtube.com/watch?v=oelQ4uAw2WQ) but in this case of a \"manual\" loop it may also be inlined by compilers in optimized non-debug modes. A non-blocking thought in any case.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T13:53:24Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));\n+    BOOST_CHECK(!IsBadPort(8333));\n+\n+    // Check all ports, there must be 80 bad ports in total.\n+    size_t total_bad_ports{0};\n+    for (uint16_t port = std::numeric_limits<uint16_t>::max(); port > 0; --port) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766694953",
      "id" : 766694953,
      "in_reply_to_id" : 765778916,
      "line" : 591,
      "node_id" : "PRRC_kwDOABII584tstYp",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 591,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 828917032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766694953/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T13:53:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766694953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 36bae788e1c34261b108d57fc2ffff0954a33848\r\n",
      "created_at" : "2021-12-10T14:00:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-990996657",
      "id" : 990996657,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5847EWix",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990996657/reactions"
      },
      "updated_at" : "2021-12-10T14:00:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/990996657",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766710022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766710022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Huh, just rewatched the video and it seems `!=` (jump if not equal instead of jump if not greater/less than) was also what a ranged for-loop generated (GCC 10.2 -O3). Ofc feel free to ignore.",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T14:14:06Z",
      "diff_hunk" : "@@ -576,4 +576,24 @@ BOOST_AUTO_TEST_CASE(caddress_unserialize_v2)\n     BOOST_CHECK(fixture_addresses == addresses_unserialized);\n }\n \n+BOOST_AUTO_TEST_CASE(isbadport)\n+{\n+    BOOST_CHECK(IsBadPort(1));\n+    BOOST_CHECK(IsBadPort(22));\n+    BOOST_CHECK(IsBadPort(6000));\n+\n+    BOOST_CHECK(!IsBadPort(80));\n+    BOOST_CHECK(!IsBadPort(443));\n+    BOOST_CHECK(!IsBadPort(8333));\n+\n+    // Check all ports, there must be 80 bad ports in total.\n+    size_t total_bad_ports{0};\n+    for (uint16_t port = std::numeric_limits<uint16_t>::max(); port > 0; --port) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766710022",
      "id" : 766710022,
      "in_reply_to_id" : 765778916,
      "line" : 591,
      "node_id" : "PRRC_kwDOABII584tsxEG",
      "original_commit_id" : "0671bc5313b0a5fd125ef40c7ed4590bdca6b347",
      "original_line" : 591,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 828938936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766710022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T14:14:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766710022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766906987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766906987"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> There is some similarity between browser logic and Bitcoin node logic in this aspect where a malicious actor may trick a honest node to try to open a connection to a \"victim\" target:\r\n> a honest web-browser user may be tricked to click specially crafted (malicious) links like e.g. http://area51.gov:22/\r\n> a honest node may be tricked to try to open connection to area51.gov:22 if that address gets gossiped over the bitcoin network\r\n\r\nIf this is the reason for adding a list of bad ports then we can add lot of other port numbers. Right now there are only 80 ports in the list. Example: 3389\r\n\r\nAlso this goes against the main reason we are allowing p2p connections to non-default ports: https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766685970",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T18:51:08Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766906987",
      "id" : 766906987,
      "in_reply_to_id" : 752571046,
      "line" : 1777,
      "node_id" : "PRRC_kwDOABII584tthJr",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1777,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 17,
      "pull_request_review_id" : 829221820,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766906987/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-10T18:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766906987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766907182"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766907182"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Replied here: https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766906987",
      "commit_id" : "36bae788e1c34261b108d57fc2ffff0954a33848",
      "created_at" : "2021-12-10T18:51:27Z",
      "diff_hunk" : "@@ -246,4 +246,17 @@ void InterruptSocks5(bool interrupt);\n  */\n bool Socks5(const std::string& strDest, uint16_t port, const ProxyCredentials* auth, const Sock& socket);\n \n+/**\n+ * Determine if a port is \"bad\" from the perspective of attempting to connect\n+ * to a node on that port.\n+ * See\n+ * https://fetch.spec.whatwg.org/#port-blocking\n+ * https://chromium.googlesource.com/chromium/src.git/+/refs/heads/main/net/base/port_util.cc\n+ * https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp\n+ * https://github.com/bitcoin/bitcoin/pull/23306#issuecomment-947516736",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r766907182",
      "id" : 766907182,
      "in_reply_to_id" : 765892209,
      "line" : 256,
      "node_id" : "PRRC_kwDOABII584tthMu",
      "original_commit_id" : "634f2838ee137234093a1fc89162f395366a387f",
      "original_line" : 256,
      "original_position" : 11,
      "original_start_line" : 250,
      "path" : "src/netbase.h",
      "position" : 11,
      "pull_request_review_id" : 829222112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766907182/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 250,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-10T18:51:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/766907182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-01-06T01:36:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1006214263",
      "id" : 1006214263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5847-Zx3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1006214263/reactions"
      },
      "updated_at" : "2022-01-06T01:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1006214263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`36bae788e1...8f40ea6e45`: rebase due to conflicts\r\n\r\nInvalidates ACK from @jonatack ",
      "created_at" : "2022-01-06T17:12:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1006759223",
      "id" : 1006759223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848Ae03",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1006759223/reactions"
      },
      "updated_at" : "2022-01-06T17:12:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1006759223",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "It might be worthwhile to add an option to just use the vanilla port for outgoing connections in the case that the node software is triggering abuse complaints on your own network by reaching out to things it can't handshake with. Without an option to only consider 8333 as valid, you would need to use external tools to achieve the same, or shut down the software. ",
      "created_at" : "2022-01-09T19:57:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1008363416",
      "id" : 1008363416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848GmeY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008363416/reactions"
      },
      "updated_at" : "2022-01-09T20:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008363416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/60858013?v=4",
         "events_url" : "https://api.github.com/users/wpeckr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wpeckr/followers",
         "following_url" : "https://api.github.com/users/wpeckr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wpeckr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wpeckr",
         "id" : 60858013,
         "login" : "wpeckr",
         "node_id" : "MDQ6VXNlcjYwODU4MDEz",
         "organizations_url" : "https://api.github.com/users/wpeckr/orgs",
         "received_events_url" : "https://api.github.com/users/wpeckr/received_events",
         "repos_url" : "https://api.github.com/users/wpeckr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wpeckr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wpeckr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wpeckr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on moving away from the 8333-only policy.\r\n\r\nWhile this is purely client policy, I think it's a pretty impactful for the network. It may be worth at least sending a mail to the bitcoin-dev list for discussion.\r\n\r\nThe explanation of the bad ports in the current PR is pretty minimal and unclear, I think. I'd like to see those addressed (exactly why do we care about not connecting to some ports? I know there are links one can follow, but I feel it should be clearer in the documentation itself.\r\n\r\nAs far as which ports are included in the bad ports list, I'd prefer to include too many over too little at this point. Effectively, right now every port except 8333 is a bad port, and we're reducing the list to just the explicitly included ones. Reducing further is always possible later, but adding ones may be hard if people start relying on being able to certain ports.\r\n\r\nAlso, being able to run Bitcoin nodes on well-known ports (particularly 443, https) would be the most useful way to hide traffic, but I think that's a bit premature, and we should keep it in the bad ports list for now. With the work underway on BIP324 we may get encrypted P2P traffic, and with that, it should be (in a next step) be much easier to masquerade traffic as actual HTTPS running on port 443. Avoiding that port for now would make such a transition a lot easier.\r\n\r\n> It might be worthwhile to add an option to just use the vanilla port for outgoing connections in the case that the node software is triggering abuse complaints on your own network by reaching out to things it can't handshake with.\r\n\r\n@wpeckr I believe that's exactly why certain ports are blacklisted (the whole \"bad ports\" discussion). I think it may be useful to permit providing a custom list for that.",
      "created_at" : "2022-01-09T22:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1008440717",
      "id" : 1008440717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848G5WN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008440717/reactions"
      },
      "updated_at" : "2022-01-09T23:01:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008440717",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "`--vanilla-p2p-port-only` is much easier than providing a custom blacklist, parsing or loading that from the configuration. With a blacklist to achieve this I need to include 2**16-1 entries to my bitcoin.conf.\r\n\r\nThis should definitely go to the mailing list for discussion though, it seems to me like is a very significant change with unclear advantages; I don't think it meaningfully improves censorship resistance enough to warrant it. Bitcoin's traffic is always very obvious and it's unlikely that's ever going to be obscured, given it is almost entirely an open network where the participants advertise their sockets. ",
      "created_at" : "2022-01-10T04:40:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1008540204",
      "id" : 1008540204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848HRos",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008540204/reactions"
      },
      "updated_at" : "2022-01-10T04:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008540204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/60858013?v=4",
         "events_url" : "https://api.github.com/users/wpeckr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wpeckr/followers",
         "following_url" : "https://api.github.com/users/wpeckr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wpeckr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wpeckr",
         "id" : 60858013,
         "login" : "wpeckr",
         "node_id" : "MDQ6VXNlcjYwODU4MDEz",
         "organizations_url" : "https://api.github.com/users/wpeckr/orgs",
         "received_events_url" : "https://api.github.com/users/wpeckr/received_events",
         "repos_url" : "https://api.github.com/users/wpeckr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wpeckr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wpeckr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wpeckr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> `--vanilla-p2p-port-only` is much easier than providing a custom blacklist, parsing or loading that from the configuration. With a blacklist to achieve this I need to include 2**16-1 entries to my bitcoin.conf.\r\n\r\nIs there a particular scenario you're thinking of where you care about *specifically* only making connections to 8333? If there are particular services/ports you worry about angering, I think those should just be included in the bad ports list. Note that there are also non-Bitcoin Core clients on the network already which connect out to everything (including moderately aggressive crawlers), so all IP:port combinations rumoured on the network do get some traffic already.\r\n\r\n> I don't think it meaningfully improves censorship resistance enough to warrant it. Bitcoin's traffic is always very obvious and it's unlikely that's ever going to be obscured, given it is almost entirely an open network where the participants advertise their sockets. \r\n\r\nI think that's too black-and-white. Clearly, it is very hard to protect against targetted censorship attack with unbounded resources, but costs matter. Indiscriminately blocking port 8333 is extremely simple and effective right now.  Needing to do packet inspection to detect the Bitcoin P2P traffic is more complex and costly, and will stop working if BIP324 gets adopted. Needing to update censoring rules based on what gets rumoured on the P2P network is even more complex, and can easily be triggered to block legitimate services too. Disguising traffic as HTTPS or another popular service is nontrivial but doable, I believe, and even harder to block reliably. Lastly, of course powerful attackers can also just try sybiling the network, or eclipsing specific nodes, but ideas like [optional authentication](https://gist.github.com/sipa/d7dcaae0419f10e5be0270fada84c20b) can make that more detectable as well.\r\n\r\nOverall, I don't want to claim that this is an easy problem, or that silver bullet solutions exist. But I do think that very meaningful improvements are possible, and all of them depend on at the very least not gratuitously revealing \"Bitcoin node here!\" by using port 8333.\r\n\r\nYet, I agree this deserves wider discussion.",
      "created_at" : "2022-01-10T14:54:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1008950001",
      "id" : 1008950001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848I1rx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008950001/reactions"
      },
      "updated_at" : "2022-01-10T14:56:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1008950001",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Is there a particular scenario you're thinking of where you care about specifically only making connections to 8333?\r\n\r\nNo, just if there *is* an issue caused by it, having a simple toggle to disable non-8333 ports seems trivial to implement, and may come in useful. ",
      "created_at" : "2022-01-10T18:27:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1009210652",
      "id" : 1009210652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5848J1Uc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009210652/reactions"
      },
      "updated_at" : "2022-01-10T18:27:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1009210652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/60858013?v=4",
         "events_url" : "https://api.github.com/users/wpeckr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wpeckr/followers",
         "following_url" : "https://api.github.com/users/wpeckr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wpeckr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wpeckr",
         "id" : 60858013,
         "login" : "wpeckr",
         "node_id" : "MDQ6VXNlcjYwODU4MDEz",
         "organizations_url" : "https://api.github.com/users/wpeckr/orgs",
         "received_events_url" : "https://api.github.com/users/wpeckr/received_events",
         "repos_url" : "https://api.github.com/users/wpeckr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wpeckr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wpeckr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wpeckr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had shared this pull request and related things in an email sent to bitcoin dev mailing list: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019837.html",
      "created_at" : "2022-01-31T16:26:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1025964509",
      "id" : 1025964509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5849Jvnd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025964509/reactions"
      },
      "updated_at" : "2022-01-31T16:26:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1025964509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "### Deriving a \"good list\" based on difficulty\r\n\r\n<details>\r\n<summary>off topic</summary>\r\n<p>\r\n\r\nIf for example the difficulty is 26643185256535.46\r\nWe could parse the value into 4 and 5 digit values (removing the decimal)\r\nto get a list of values:\r\n2664\r\n6643\r\n6431\r\n4318\r\n3185\r\n1852\r\n8525\r\n5256\r\n5653\r\n6535\r\n5354\r\n3546\r\n 26643 etc...\r\n\r\nBasing these values on difficulty - the proposed good list would be in lock step over the network.\r\nThe node could open and listen on each of these possible ports (excluding any values hard coded\r\non a bad list) every new day UTC Time.\r\nIf a threshold of other listeners (10-100?) are also listening on that port - that port value is marked as good.\r\nIf it is not - it is purged from the potential candidates and the next port is tried. If no good candidates are\r\nfound - the entire list is incremented by 1 and tried again.\r\n\r\nWhile network quality and availability may vary in different regions - we can use the difficulty. This gives\r\nflexibility to the \"good list\" based on local conditions.\r\nIMO a process like this is robust and dynamic. It also removes developers from making this decision.\r\n\r\n</p>\r\n</details>\r\n",
      "created_at" : "2022-02-01T03:34:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1026447024",
      "id" : 1026447024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5849Llaw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1026447024/reactions"
      },
      "updated_at" : "2022-02-01T19:54:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1026447024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/152159?v=4",
         "events_url" : "https://api.github.com/users/RandyMcMillan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RandyMcMillan/followers",
         "following_url" : "https://api.github.com/users/RandyMcMillan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RandyMcMillan",
         "id" : 152159,
         "login" : "RandyMcMillan",
         "node_id" : "MDQ6VXNlcjE1MjE1OQ==",
         "organizations_url" : "https://api.github.com/users/RandyMcMillan/orgs",
         "received_events_url" : "https://api.github.com/users/RandyMcMillan/received_events",
         "repos_url" : "https://api.github.com/users/RandyMcMillan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RandyMcMillan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RandyMcMillan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@RandyMcMillan, this PR and all the discussion is about whether to connect to a peer who listens on port `X`. Not whether to listen on port `X`. On which port to listen ourselves is a separate topic.\r\n\r\n<details>\r\n<summary>offtopic</summary>\r\n\r\nCurrently on which port to listen is statically configured by the user using the `-bind=` and `-port` arguments and is more or less constant - you do not want to change your listening port often or automatically because that may require adjusting your firewall to allow incoming connections to it and also, more importantly, your addr+port need some time to propagate to the network so that other peers are aware of it.\r\n\r\nBut please, do not dilute this PR with discussion about on which port to listen.\r\n</details>",
      "created_at" : "2022-02-01T09:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1026660686",
      "id" : 1026660686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5849MZlO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1026660686/reactions"
      },
      "updated_at" : "2022-02-01T09:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1026660686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nIt seems impossible to know the reason a node is using a particular port - not sure why this is a debate.\r\nIn fact - this should be a high priority change. (see off topic)\r\n\r\n<details>\r\n<summary>off topic</summary>\r\n<p>\r\n\r\nTo my previous comment - it would be useful to derive a list of alternate qualified ports for a user to select from, if circumstances dictated they could not use 8333. In a worst case scenario (or IBD) - all the user would need to know is the current difficulty - to have a predictable list of ports to use with a higher degree of certainty that multiple honest nodes would be using them (due to local network/political/whatever conditions). In a desperate situation the user would not want to eclipse themself unknowingly.\r\n\r\nA rolling port list may augment obfuscation and censorship resistance.\r\n\r\nNo further off topic comments - my apologize.\r\n</p>\r\n</details>",
      "created_at" : "2022-02-01T19:53:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1027227367",
      "id" : 1027227367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5849Oj7n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1027227367/reactions"
      },
      "updated_at" : "2022-02-01T19:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1027227367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/152159?v=4",
         "events_url" : "https://api.github.com/users/RandyMcMillan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RandyMcMillan/followers",
         "following_url" : "https://api.github.com/users/RandyMcMillan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RandyMcMillan",
         "id" : 152159,
         "login" : "RandyMcMillan",
         "node_id" : "MDQ6VXNlcjE1MjE1OQ==",
         "organizations_url" : "https://api.github.com/users/RandyMcMillan/orgs",
         "received_events_url" : "https://api.github.com/users/RandyMcMillan/received_events",
         "repos_url" : "https://api.github.com/users/RandyMcMillan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RandyMcMillan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RandyMcMillan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r798479810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798479810"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I will revert this change because the original text will still be true even after this PR is released. It will be true for some time and will start becoming less true once this PR becomes widely used. The text should be removed _then_.",
      "commit_id" : "794319bc7787fb47f3de58f9526d33f9a7e90fea",
      "created_at" : "2022-02-03T11:42:09Z",
      "diff_hunk" : "@@ -447,7 +447,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-peerbloomfilters\", strprintf(\"Support filtering of blocks and transaction with bloom filters (default: %u)\", DEFAULT_PEERBLOOMFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-peerblockfilters\", strprintf(\"Serve compact block filters to peers per BIP 157 (default: %u)\", DEFAULT_PEERBLOCKFILTERS), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-permitbaremultisig\", strprintf(\"Relay non-P2SH multisig (default: %u)\", DEFAULT_PERMIT_BAREMULTISIG), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-port=<port>\", strprintf(\"Listen for connections on <port>. Nodes not using the default ports (default: %u, testnet: %u, signet: %u, regtest: %u) are unlikely to get incoming connections. Not relevant for I2P (see doc/i2p.md).\", defaultChainParams->GetDefaultPort(), testnetChainParams->GetDefaultPort(), signetChainParams->GetDefaultPort(), regtestChainParams->GetDefaultPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-port=<port>\", \"Listen for connections on <port>. Not relevant for I2P (see doc/i2p.md).\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r798479810",
      "id" : 798479810,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vl9XC",
      "original_commit_id" : "8f40ea6e4569ceea3b55e9dee94664f6c3c4bd9f",
      "original_line" : 450,
      "original_position" : 5,
      "original_start_line" : 450,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 871723548,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798479810/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2022-02-03T11:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798479810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r798517599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798517599"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Or perhaps (eventually? sweat_smile ) a link to docs within bitcoin itself that lists our bad ports with an explanation of why they are bad.\r\n\r\nDone.",
      "commit_id" : "794319bc7787fb47f3de58f9526d33f9a7e90fea",
      "created_at" : "2022-02-03T12:33:30Z",
      "diff_hunk" : "@@ -1770,6 +1770,13 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         if (index == std::string::npos) {\n             if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n                 connOptions.vBinds.push_back(bind_addr);\n+                if (IsBadPort(bind_addr.GetPort())) {\n+                    InitWarning(strprintf(\n+                        _(\"-bind request to listen on port %u. This port is considered \\\"bad\\\" and \"\n+                          \"thus it is unlikely that any Bitcoin Core peers connect to it. See \"\n+                          \"https://fetch.spec.whatwg.org/#port-blocking\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#discussion_r798517599",
      "id" : 798517599,
      "in_reply_to_id" : 752571046,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vmGlf",
      "original_commit_id" : "a47716aa5a747fd86653246e460db6c84512319d",
      "original_line" : 1692,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 871776746,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23542",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798517599/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-03T12:33:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/798517599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`8f40ea6e45...794319bc77`: add a formal definition of a \"bad\" port in `doc/p2p-bad-ports.md` together with an explanation why it is considered bad.\r\n\r\nInvalidates ACKs from @jonatack, @prayank23 ",
      "created_at" : "2022-02-03T12:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23542#issuecomment-1028946784",
      "id" : 1028946784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23542",
      "node_id" : "IC_kwDOABII5849VHtg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028946784/reactions"
      },
      "updated_at" : "2022-02-03T12:37:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028946784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
