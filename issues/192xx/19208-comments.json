[
   {
      "author_association" : "MEMBER",
      "body" : "Nice! Concept ACK",
      "created_at" : "2020-06-08T13:03:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-640589283",
      "id" : 640589283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDU4OTI4Mw==",
      "updated_at" : "2020-06-08T13:03:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640589283",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Seems like the style of those files are auto-formatted by `autopep8`. I'll leave the reviewers to comment about the format. \r\n\r\nOne question about the implementation. Does it make sense  to move `assert (all([len(x.getpeerinfo()) for x in rpc_connections]))` up to immediately after the while loop starts? It will assert sooner and save some time and operations.",
      "created_at" : "2020-06-08T13:12:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-640594378",
      "id" : 640594378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDU5NDM3OA==",
      "updated_at" : "2020-06-08T13:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640594378",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Looks like `wallet_avoidreuse.py` failed in travis but it works fine on my machine. Is there a way to replay the travis failed tests?",
      "created_at" : "2020-06-08T18:03:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-640784583",
      "id" : 640784583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDc4NDU4Mw==",
      "updated_at" : "2020-06-08T18:03:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640784583",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19198 (test: Check that peers with forcerelay permission are not asked to feefilter by MarcoFalke)\n* #19134 (test: Replace global wait_until with BitcoinTestFramework.wait_until and mininode.wait_until by dboures)\n* #18788 (wallet: tests: Update more tests to work with descriptor wallets by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-09T00:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-640950923",
      "id" : 640950923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDk1MDkyMw==",
      "updated_at" : "2020-06-09T00:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640950923",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> If you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\r\n\r\nCould someone explain what does conflicts mean here? Is there a logical order of PRs mentioned + mine to review and merge? \r\n",
      "created_at" : "2020-06-09T01:26:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-640973462",
      "id" : 640973462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDk3MzQ2Mg==",
      "updated_at" : "2020-06-09T01:26:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640973462",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ycshao DrahtBot crawls over open PRs and alerts you when there is a conflict with the main branch that requires a rebase or, in this case, other PRs that may lead to future conflicts indicating that you are working on similar code. DrahtBot is not sentient enough to decide the merge order. It's just raising it to your attention.",
      "created_at" : "2020-06-09T14:03:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-641318819",
      "id" : 641318819,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTMxODgxOQ==",
      "updated_at" : "2020-06-09T14:03:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/641318819",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Re the format - autopep8 is making the diff much larger. I think it's easier, for now, to keep the diff as minimal as possible so reviewers can focus on the changes relevant to your patch. At the very least, you can break the formatting changes into their own commit and follow the lead of this [reformat](https://github.com/bitcoin/bitcoin/pull/19206/commits/faedb50d89cf113084adfa50c280c295c95571a8).\r\n\r\nI'd also suggest squashing your second commit since the first commit doesn't pass the linter without it.",
      "created_at" : "2020-06-09T15:48:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-641392613",
      "id" : 641392613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTM5MjYxMw==",
      "updated_at" : "2020-06-09T16:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/641392613",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@adamjonas thanks for the answer and suggestion. I'll squash and break formatting into it's own commit.",
      "created_at" : "2020-06-09T17:32:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-641464751",
      "id" : 641464751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTQ2NDc1MQ==",
      "updated_at" : "2020-06-09T17:32:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/641464751",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r437665086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437665086"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I have a question - it's probably not a big deal to require at least one node to be updated, but would it be appropriate to have an optional `blockhash` parameter and enforce that hash instead?",
      "commit_id" : "4563520ee34e4be508232e1e503b1b4c889d23ad",
      "created_at" : "2020-06-09T19:24:50Z",
      "diff_hunk" : "@@ -542,15 +564,53 @@ def join_network(self):\n         connect_nodes(self.nodes[1], 2)\n         self.sync_all()\n \n-    def sync_blocks(self, nodes=None, **kwargs):\n-        sync_blocks(nodes or self.nodes, **kwargs)\n-\n-    def sync_mempools(self, nodes=None, **kwargs):\n-        sync_mempools(nodes or self.nodes, **kwargs)\n+    def sync_blocks(self, nodes=None, wait=1, timeout=60):\n+        \"\"\"\n+        Wait until everybody has the same tip.\n \n-    def sync_all(self, nodes=None, **kwargs):\n-        self.sync_blocks(nodes, **kwargs)\n-        self.sync_mempools(nodes, **kwargs)\n+        sync_blocks needs to be called with an rpc_connections set that has least",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r437665086",
      "id" : 437665086,
      "line" : 569,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY2NTA4Ng==",
      "original_commit_id" : "36404ae22c067c2297c185e7ae8b0ee85856493a",
      "original_line" : 545,
      "original_position" : 233,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 233,
      "pull_request_review_id" : 427472253,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-09T21:10:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437665086",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Oo first PR? Concept ACK :) I'm guessing \"contextual information of test framework\" is the `timeout_factor`?\r\n\r\nYeah for now `timeout_factor` is easiest to be used. There are other things potentially can be used. I'm open to suggestions.\r\n* `rpc_timeout` - I think `rpc_timeout` is usually sometime different than timeout people want to configure for syncing operations. Unless there is a factor that can be applied to `rpc_timeout` to estimate syncing timeout. Open to suggestions. \r\n* `nodes` - We can by default sync all nodes and take in a parameter in `sync_blocks` and `sync_mempool` in case subset of nodes need to be synced. This way we get rid of `nodes` input of those two functions. \r\n\r\n> +1 to Jonas, just appeasing test/lint/lint-python.sh for now would be better.\r\n \r\n`lint-python.sh` gives me other linting errors which is not related to the file I touched. I guess I'll just make those five files I touched to be pep8 in a separate commit. If it's not necessary, it's easy to take it out.\r\n```\r\ntest/functional/p2p_compactblocks.py:688:43: E741 ambiguous variable name 'l'\r\ntest/functional/p2p_compactblocks.py:694:13: E741 ambiguous variable name 'l'\r\ntest/functional/p2p_compactblocks.py:697:17: E741 ambiguous variable name 'l'\r\ntest/functional/p2p_dos_header_tree.py:37:38: E741 ambiguous variable name 'l'\r\ntest/functional/p2p_dos_header_tree.py:42:31: E741 ambiguous variable name 'l'\r\ntest/functional/p2p_dos_header_tree.py:43:55: E741 ambiguous variable name 'l'\r\ntest/functional/test_framework/messages.py:70:22: E741 ambiguous variable name 'l'\r\ntest/functional/test_framework/messages.py:142:16: E741 ambiguous variable name 'l'\r\ntest/functional/test_framework/messages.py:161:24: E741 ambiguous variable name 'l'\r\ntest/functional/test_framework/messages.py:177:23: E741 ambiguous variable name 'l'\r\ntest/functional/wallet_labels.py:149:13: E741 ambiguous variable name 'l'\r\ntest/functional/wallet_labels.py:155:13: E741 ambiguous variable name 'l'\r\ntest/lint/lint-python.sh: line 105: mypy: command not found\r\n```\r\n\r\n> > Does it make sense to move `assert (all([len(x.getpeerinfo()) for x in rpc_connections]))` up to immediately after the while loop starts? It will assert sooner and save some time and operations. \r\n>\r\n> I had this thought too. But I think it would fail if the nodes happened to all be synced up (despite not being connected right now) before the first iteration of the while loop. I think it's possible...?\r\n\r\nI guess it's theoretically possible. \r\n",
      "created_at" : "2020-06-09T21:07:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#issuecomment-641575406",
      "id" : 641575406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19208",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MTU3NTQwNg==",
      "updated_at" : "2020-06-09T21:07:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/641575406",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r437743043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437743043"
         }
      },
      "author_association" : "NONE",
      "body" : "I don't see a use case like that in current code. But I think one benefit your idea will give is to shorten test run time if the block we need to sync to is not usually the tip. ",
      "commit_id" : "4563520ee34e4be508232e1e503b1b4c889d23ad",
      "created_at" : "2020-06-09T21:51:39Z",
      "diff_hunk" : "@@ -542,15 +564,53 @@ def join_network(self):\n         connect_nodes(self.nodes[1], 2)\n         self.sync_all()\n \n-    def sync_blocks(self, nodes=None, **kwargs):\n-        sync_blocks(nodes or self.nodes, **kwargs)\n-\n-    def sync_mempools(self, nodes=None, **kwargs):\n-        sync_mempools(nodes or self.nodes, **kwargs)\n+    def sync_blocks(self, nodes=None, wait=1, timeout=60):\n+        \"\"\"\n+        Wait until everybody has the same tip.\n \n-    def sync_all(self, nodes=None, **kwargs):\n-        self.sync_blocks(nodes, **kwargs)\n-        self.sync_mempools(nodes, **kwargs)\n+        sync_blocks needs to be called with an rpc_connections set that has least",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r437743043",
      "id" : 437743043,
      "in_reply_to_id" : 437665086,
      "line" : 569,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc0MzA0Mw==",
      "original_commit_id" : "36404ae22c067c2297c185e7ae8b0ee85856493a",
      "original_line" : 545,
      "original_position" : 233,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 233,
      "pull_request_review_id" : 427571381,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-09T21:51:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/437743043",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1574776?v=4",
         "events_url" : "https://api.github.com/users/ycshao/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ycshao/followers",
         "following_url" : "https://api.github.com/users/ycshao/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ycshao/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ycshao",
         "id" : 1574776,
         "login" : "ycshao",
         "node_id" : "MDQ6VXNlcjE1NzQ3NzY=",
         "organizations_url" : "https://api.github.com/users/ycshao/orgs",
         "received_events_url" : "https://api.github.com/users/ycshao/received_events",
         "repos_url" : "https://api.github.com/users/ycshao/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ycshao/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ycshao/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ycshao"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r440946740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440946740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am not sure it this is actually more readable (we've generally been using more a limit of 120 instead of 80).\r\nAnd taking into account the large number of conflicts due to the pep-8 change, maybe leave it out for now?",
      "commit_id" : "4563520ee34e4be508232e1e503b1b4c889d23ad",
      "created_at" : "2020-06-16T15:34:20Z",
      "diff_hunk" : "@@ -204,11 +213,13 @@ def setup(self):\n             \"bitcoin-cli\" + config[\"environment\"][\"EXEEXT\"],\n         )\n         self.options.bitcoind = os.getenv(\"BITCOIND\", default=fname_bitcoind)\n-        self.options.bitcoincli = os.getenv(\"BITCOINCLI\", default=fname_bitcoincli)\n+        self.options.bitcoincli = os.getenv(\n+            \"BITCOINCLI\", default=fname_bitcoincli)\n \n         os.environ['PATH'] = os.pathsep.join([\n             os.path.join(config['environment']['BUILDDIR'], 'src'),\n-            os.path.join(config['environment']['BUILDDIR'], 'src', 'qt'), os.environ['PATH']\n+            os.path.join(config['environment']['BUILDDIR'],\n+                         'src', 'qt'), os.environ['PATH']",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19208#discussion_r440946740",
      "id" : 440946740,
      "line" : 222,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk0Njc0MA==",
      "original_commit_id" : "4563520ee34e4be508232e1e503b1b4c889d23ad",
      "original_line" : 222,
      "original_position" : 97,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 106,
      "pull_request_review_id" : 431635418,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19208",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-16T15:34:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440946740",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
