[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439822415"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439822415"
         }
      },
      "author_association" : "MEMBER",
      "body" : "splitting up msg_type and size could match them on different lines, while we want to match both on the same line",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-14T11:59:37Z",
      "diff_hunk" : "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', msg_type, str(size)]):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439822415",
      "id" : 439822415,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgyMjQxNQ==",
      "original_commit_id" : "bc42270f216454fb9fb79183cb4a159d0f92f9c1",
      "original_line" : 106,
      "original_position" : 79,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 430212838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439822415",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19304 (test: Check that message sends successfully when header is split across two buffers by troygiorshev)\n* #19293 (net: Avoid redundant and confusing FAILED log by MarcoFalke)\n* #19145 (Add hash_type options for gettxoutsetinfo by fjahr)\n* #19107 (p2p: Refactor, move all header verification into the network layer, without changing behavior by troygiorshev)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-14T18:01:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-643800731",
      "id" : 643800731,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MzgwMDczMQ==",
      "updated_at" : "2020-06-17T23:58:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/643800731",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439861808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439861808"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point! Fixed. This made it apparent that in `net_processing.cpp` the debug logging for misbehaving from `headers` message size was a bit different from the equivalent misbehavior logging for `inv`, `getdata`, and `addr` message sizes. Fixed. If we don't want to touch it, we can also have each test pass in their own debug log message to test for.",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-14T19:47:42Z",
      "diff_hunk" : "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', msg_type, str(size)]):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r439861808",
      "id" : 439861808,
      "in_reply_to_id" : 439822415,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg2MTgwOA==",
      "original_commit_id" : "bc42270f216454fb9fb79183cb4a159d0f92f9c1",
      "original_line" : 106,
      "original_position" : 79,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 430246154,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/439861808",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440531901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440531901"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe this should specify \"other peers\"?  As it stands someone may miss the difference between `conn` and `conn2`.\r\n```suggestion\r\n        self.log.info(\"(b) Check node still services other peers in a timely way\")\r\n```",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-16T01:18:11Z",
      "diff_hunk" : "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test serving many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")\n         for _ in range(80):\n             conn.send_message(msg_at_size)\n \n         # Check that, even though the node is being hammered by nonsense from one\n         # connection, it can still service other peers in a timely way.\n+        self.log.info(\"(b) Check node still services peer in a timely way\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440531901",
      "id" : 440531901,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUzMTkwMQ==",
      "original_commit_id" : "6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "original_line" : 135,
      "original_position" : 112,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 431094873,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440531901",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5553787?v=4",
         "events_url" : "https://api.github.com/users/troygiorshev/events{/privacy}",
         "followers_url" : "https://api.github.com/users/troygiorshev/followers",
         "following_url" : "https://api.github.com/users/troygiorshev/following{/other_user}",
         "gists_url" : "https://api.github.com/users/troygiorshev/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/troygiorshev",
         "id" : 5553787,
         "login" : "troygiorshev",
         "node_id" : "MDQ6VXNlcjU1NTM3ODc=",
         "organizations_url" : "https://api.github.com/users/troygiorshev/orgs",
         "received_events_url" : "https://api.github.com/users/troygiorshev/received_events",
         "repos_url" : "https://api.github.com/users/troygiorshev/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/troygiorshev/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/troygiorshev/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/troygiorshev"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "created_at" : "2020-06-16T02:51:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-644499712",
      "id" : 644499712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NDQ5OTcxMg==",
      "updated_at" : "2020-06-16T02:51:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644499712",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5553787?v=4",
         "events_url" : "https://api.github.com/users/troygiorshev/events{/privacy}",
         "followers_url" : "https://api.github.com/users/troygiorshev/followers",
         "following_url" : "https://api.github.com/users/troygiorshev/following{/other_user}",
         "gists_url" : "https://api.github.com/users/troygiorshev/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/troygiorshev",
         "id" : 5553787,
         "login" : "troygiorshev",
         "node_id" : "MDQ6VXNlcjU1NTM3ODc=",
         "organizations_url" : "https://api.github.com/users/troygiorshev/orgs",
         "received_events_url" : "https://api.github.com/users/troygiorshev/received_events",
         "repos_url" : "https://api.github.com/users/troygiorshev/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/troygiorshev/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/troygiorshev/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/troygiorshev"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440664439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440664439"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-16T08:08:06Z",
      "diff_hunk" : "@@ -93,40 +101,47 @@ def test_msgtype(self):\n             conn.sync_with_ping(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n-    def test_large_inv(self):\n-        conn = self.nodes[0].add_p2p_connection(P2PInterface())\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (0 -> 20): message inv size() = 50001']):\n-            msg = msg_inv([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (20 -> 40): message getdata size() = 50001']):\n-            msg = msg_getdata([CInv(MSG_TX, 1)] * 50001)\n-            conn.send_and_ping(msg)\n-        with self.nodes[0].assert_debug_log(['Misbehaving', 'peer=4 (40 -> 60): headers message size = 2001']):\n-            msg = msg_headers([CBlockHeader()] * 2001)\n-            conn.send_and_ping(msg)\n+    def test_oversized(self, msg_type, msg, size):\n+        self.log.info(\"Test {} message of size {} is logged as misbehaving\".format(msg_type, size))\n+        with self.nodes[0].assert_debug_log(['Misbehaving', 'message {} size() = {}'.format(msg_type, size)]):\n+            self.nodes[0].add_p2p_connection(P2PInterface()).send_and_ping(msg)\n         self.nodes[0].disconnect_p2ps()\n \n+    def test_oversized_inv(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('inv', msg_inv([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_getdata(self):\n+        size = MAX_INV_SIZE + 1\n+        self.test_oversized('getdata', msg_getdata([CInv(MSG_TX, 1)] * size), size)\n+\n+    def test_oversized_headers(self):\n+        size = MAX_HEADERS_RESULTS + 1\n+        self.test_oversized('headers', msg_headers([CBlockHeader()] * size), size)\n+\n     def test_resource_exhaustion(self):\n+        self.log.info(\"Test serving many large junk messages\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n         conn2 = self.nodes[0].add_p2p_connection(P2PDataStore())\n         msg_at_size = msg_unrecognized(str_data=\"b\" * VALID_DATA_LIMIT)\n-        assert len(msg_at_size.serialize()) == MSG_LIMIT\n+        assert len(msg_at_size.serialize()) == MAX_PROTOCOL_MESSAGE_LENGTH\n \n-        self.log.info(\"Sending a bunch of large, junk messages to test memory exhaustion. May take a bit...\")\n-\n-        # Run a bunch of times to test for memory exhaustion.\n+        self.log.info(\"(a) Send 80 messages of max data size 4MB to test for memory exhaustion\")\n         for _ in range(80):\n             conn.send_message(msg_at_size)\n \n         # Check that, even though the node is being hammered by nonsense from one\n         # connection, it can still service other peers in a timely way.\n+        self.log.info(\"(b) Check node still services peer in a timely way\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r440664439",
      "id" : 440664439,
      "in_reply_to_id" : 440531901,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY2NDQzOQ==",
      "original_commit_id" : "6b18bfefed402a904db45a19b9cd8c1cb5d4c337",
      "original_line" : 135,
      "original_position" : 112,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 431259474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/440664439",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for reviewing @troygiorshev. Took your suggestion and also removed an unnecessary `disconnect_p2ps()` call in `test_oversized_msg()`.",
      "created_at" : "2020-06-16T08:10:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-644607169",
      "id" : 644607169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NDYwNzE2OQ==",
      "updated_at" : "2020-06-16T08:10:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/644607169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r441167690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441167690"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "i.e. \r\n```suggestion\r\n            conn.send_raw_message(msg)\r\n```",
      "commit_id" : "beecd6b5ef454f240510c690ea301cf679b299a6",
      "created_at" : "2020-06-16T22:02:51Z",
      "diff_hunk" : "@@ -72,16 +78,17 @@ def test_checksum(self):\n             self.nodes[0].disconnect_p2ps()\n \n     def test_size(self):\n+        self.log.info(\"Test message with oversized payload disconnects peer\")\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['']):\n-            # Create a message with oversized payload\n+        with self.nodes[0].assert_debug_log(['disconnecting peer=']):\n             msg = msg_unrecognized(str_data=\"d\" * (VALID_DATA_LIMIT + 1))\n             msg = conn.build_message(msg)\n             self.nodes[0].p2p.send_raw_message(msg)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r441167690",
      "id" : 441167690,
      "line" : 86,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE2NzY5MA==",
      "original_commit_id" : "beecd6b5ef454f240510c690ea301cf679b299a6",
      "original_line" : 86,
      "original_position" : 54,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : 54,
      "pull_request_review_id" : 431924124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-16T22:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/441167690",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thank you for reviewing, @gzhao408. Took your suggestion and credited you as co-author in the commit.",
      "created_at" : "2020-06-17T10:14:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645285506",
      "id" : 645285506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTI4NTUwNg==",
      "updated_at" : "2020-06-17T10:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645285506",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think we should be removing the `disconnect_p2ps` calls at the end of each subtest. Ideally the subtest finishes by leaving the node and fixture in as close a state to they were in originally. See https://github.com/bitcoin/bitcoin/pull/19304#discussion_r441643412",
      "created_at" : "2020-06-17T15:57:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645462753",
      "id" : 645462753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTQ2Mjc1Mw==",
      "updated_at" : "2020-06-17T15:57:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645462753",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery good point... \r\n> Ideally the subtest finishes by leaving the node and fixture in as close a state to they were in originally\r\n\r\nIn terms of state, I'm thinking state = (1) the `test_node.p2ps` array and (2) the connections between the node and its peers. \r\n\r\n(1) I think it's ok if the array has an extra entry if we're not using the `.p2p` property? Would you agree? If not, then yeah, we need to put `disconnect_p2ps()` back ð .\r\n\r\n(2) For connections: Definitely agree that subtests should disconnect peers to clean up after themselves. Either `node.disconnect_p2ps` or `peer.peer_disconnect` Some of the subtests call `wait_for_disconnect` which makes sure that they are disconnected from the peer's POV (no peer._transport). With #19252,`disconnect_p2ps` waits for node's POV (not in node.getpeerinfo()). \r\n\r\nI'm not sure if disconnected from peer's POV  == disconnected from the node's POV. If they're effectively the same, I'd say it's unnecessary to call `disconnect_p2ps` after `wait_for_disconnect`.\r\n\r\nI might be overthinking this haha, I dug into this when I thought superfluous `disconnect_p2ps` would cause performance problems ð .",
      "created_at" : "2020-06-17T16:53:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645494091",
      "id" : 645494091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTQ5NDA5MQ==",
      "updated_at" : "2020-06-17T19:08:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645494091",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "AFAICT the tests are order-independent with this PR, and I checked that this passes when rebased to current master:\r\n```diff\r\n+from test_framework.util import assert_equal\r\n  \r\n+    def assert_no_connected_peers(self):\r\n+        assert_equal(self.nodes[0].num_connected_mininodes(), 0)\r\n+\r\n     def run_test(self):\r\n         self.test_magic_bytes()\r\n+        self.assert_no_connected_peers()\r\n         self.test_checksum()\r\n+        self.assert_no_connected_peers()\r\n         self.test_size()\r\n+        self.assert_no_connected_peers()\r\n         self.test_msgtype()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_inv_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_getdata_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_oversized_headers_msg()\r\n+        self.assert_no_connected_peers()\r\n         self.test_resource_exhaustion()\r\n+        self.assert_no_connected_peers()\r\n```\r\n\r\n",
      "created_at" : "2020-06-18T04:53:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645771410",
      "id" : 645771410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTc3MTQxMA==",
      "updated_at" : "2020-06-18T04:53:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645771410",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Anyway, removed the removal of `disconnect_p2ps`, and rebased to master to be sure all is well with the latest version of `disconnect_p2ps`. Edit: Improved the logging and the assertions with new ideas after reviewing #19107.",
      "created_at" : "2020-06-18T05:14:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645777808",
      "id" : 645777808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTc3NzgwOA==",
      "updated_at" : "2020-06-18T10:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645777808",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke several PRs on this test have been merged but no approval from you on this one. I think they are good improvements but feel free to close it if you disagree; it will save me from spinning my wheels.",
      "created_at" : "2020-06-18T11:47:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645964504",
      "id" : 645964504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTk2NDUwNA==",
      "updated_at" : "2020-06-18T11:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645964504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I generally use the conflicts list of DrahtBot to see which pr has the most reviews and is the most ready to merge and then get them in one by one if they have received their ACKs.\r\n\r\nWill take another look here. One sec",
      "created_at" : "2020-06-18T11:56:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#issuecomment-645968808",
      "id" : 645968808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19272",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0NTk2ODgwOA==",
      "updated_at" : "2020-06-18T11:56:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/645968808",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174152"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why is this changed?",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:02:35Z",
      "diff_hunk" : "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174152",
      "id" : 442174152,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NDE1Mg==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 46,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433212471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174152",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nMSG_LIMIT = MAX_PROTOCOL_MESSAGE_LENGTH\r\n```",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:02:49Z",
      "diff_hunk" : "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442174257",
      "id" : 442174257,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NDI1Nw==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 24,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433212471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442174257",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177051"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177051"
         }
      },
      "author_association" : "MEMBER",
      "body" : "i thought it was faster but can revert that change while rebasing",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:08:15Z",
      "diff_hunk" : "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177051",
      "id" : 442177051,
      "in_reply_to_id" : 442174152,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzA1MQ==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 46,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433216288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177051",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177573"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why would it be faster to copy the blocksdir as opposed to copy nothing?",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:09:19Z",
      "diff_hunk" : "@@ -39,19 +43,22 @@ def __repr__(self):\n class InvalidMessagesTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n+        self.setup_clean_chain = False",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177573",
      "id" : 442177573,
      "in_reply_to_id" : 442174152,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzU3Mw==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 46,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433217003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177573",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177828"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good eye; that's an error introduced this morning in my last rebase, will fix",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:09:47Z",
      "diff_hunk" : "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442177828",
      "id" : 442177828,
      "in_reply_to_id" : 442174257,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3NzgyOA==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 24,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433217378,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442177828",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442178368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442178368"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That line should be removed.",
      "commit_id" : "255fbcaee556e743fc41532c13d80edd25941d50",
      "created_at" : "2020-06-18T12:10:53Z",
      "diff_hunk" : "@@ -19,7 +22,8 @@\n from test_framework.test_framework import BitcoinTestFramework\n \n MSG_LIMIT = 4 * 1000 * 1000  # 4MB, per MAX_PROTOCOL_MESSAGE_LENGTH",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19272#discussion_r442178368",
      "id" : 442178368,
      "in_reply_to_id" : 442174257,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjE3ODM2OA==",
      "original_commit_id" : "efb9a952723d38312540ca4ce0fa2495b7fcbe52",
      "original_line" : 24,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/p2p_invalid_messages.py",
      "position" : null,
      "pull_request_review_id" : 433218135,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19272",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-06-18T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/442178368",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
