[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-06-07T23:30:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#issuecomment-640296153",
      "id" : 640296153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19203",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDI5NjE1Mw==",
      "updated_at" : "2020-06-07T23:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640296153",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19415 (net: Make DNS lookup mockable, add fuzzing harness by practicalswift)\n* #19259 (tests: Add fuzzing harness for LoadMempool(...) and DumpMempool(...) by practicalswift)\n* #19143 (tests: Add fuzzing harnesses for CAutoFile, CBufferedFile, LoadExternalBlockFile and other FILE* consumers by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-06-07T23:34:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#issuecomment-640296575",
      "id" : 640296575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19203",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY0MDI5NjU3NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-11T20:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/640296575",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-09T16:32:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#issuecomment-656228768",
      "id" : 656228768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19203",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NjIyODc2OA==",
      "updated_at" : "2020-07-09T16:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/656228768",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-11T10:39:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#issuecomment-657039312",
      "id" : 657039312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19203",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY1NzAzOTMxMg==",
      "updated_at" : "2020-07-11T10:39:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657039312",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-07-18T07:45:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#issuecomment-660444979",
      "id" : 660444979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19203",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDQ0NDk3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-18T07:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660444979",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r457793470"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457793470"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is a redundant declaration, it's defined lower on line 164.",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-07-21T02:09:06Z",
      "diff_hunk" : "@@ -37,6 +41,98 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r457793470",
      "id" : 457793470,
      "line" : 47,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzc5MzQ3MA==",
      "original_commit_id" : "5da912d7cbf86c697f65ec777f06c3e00c57e120",
      "original_line" : 47,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 20,
      "pull_request_review_id" : 452077139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/457793470",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458016843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458016843"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just would like to point out that this is currently unused. Is this intentional?",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-07-21T11:09:37Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458016843",
      "id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAxNjg0Mw==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 452077139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458016843",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458020094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458020094"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `m_fuzzed_data_provider` so the reference in the constructor can just be `fuzzed_data_provider`?",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-07-21T11:16:02Z",
      "diff_hunk" : "@@ -470,4 +470,63 @@ void ReadFromStream(FuzzedDataProvider& fuzzed_data_provider, Stream& stream) no\n     }\n }\n \n+class FuzzedSocket : public Socket\n+{\n+    FuzzedDataProvider& fuzzed_data_provider;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458020094",
      "id" : 458020094,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAyMDA5NA==",
      "original_commit_id" : "4f18edbe5500033ef619659b980b257c16a3834a",
      "original_line" : 475,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : null,
      "pull_request_review_id" : 452077139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458020094",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458022084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458022084"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here it is still possible for `random_bytes.size() < len` since that condition is only checked if `ConsumeBool` returns true. Shouldn't the correct number of bytes be returned if possible?",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-07-21T11:20:04Z",
      "diff_hunk" : "@@ -470,4 +470,63 @@ void ReadFromStream(FuzzedDataProvider& fuzzed_data_provider, Stream& stream) no\n     }\n }\n \n+class FuzzedSocket : public Socket\n+{\n+    FuzzedDataProvider& fuzzed_data_provider;\n+\n+public:\n+    explicit FuzzedSocket(FuzzedDataProvider& fuzzed_data_provider_) : fuzzed_data_provider{fuzzed_data_provider_}\n+    {\n+    }\n+\n+    ssize_t send(const char* buf, size_t len, int flags) override\n+    {\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            return len;\n+        }\n+        return fuzzed_data_provider.ConsumeIntegralInRange<ssize_t>(-1, len);\n+    }\n+\n+    ssize_t recv(char* buf, size_t len, int flags) override\n+    {\n+        if (buf == nullptr || len == 0 || fuzzed_data_provider.ConsumeBool()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        const std::vector<uint8_t> random_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(len);\n+        if (random_bytes.empty()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        std::memcpy(buf, random_bytes.data(), random_bytes.size());\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            if (len > random_bytes.size()) {\n+                std::memset(buf + random_bytes.size(), 0, len - random_bytes.size());\n+            }\n+            return len;\n+        }\n+        return random_bytes.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r458022084",
      "id" : 458022084,
      "line" : 506,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAyMjA4NA==",
      "original_commit_id" : "4f18edbe5500033ef619659b980b257c16a3834a",
      "original_line" : 506,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : 37,
      "pull_request_review_id" : 452077139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458022084",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470748302"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470748302"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is used in `netbase.cpp`? :)\r\n\r\n```\r\n$ git grep SocketImpl\r\nsrc/netbase.cpp:        SocketImpl socket{hSocket};\r\nsrc/netbase.cpp:        SocketImpl socket{hSocket};\r\nsrc/netbase.h:class SocketImpl : public Socket\r\nsrc/netbase.h:    explicit SocketImpl(SOCKET socket) : m_socket{socket}\r\n```",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:08:04Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470748302",
      "id" : 470748302,
      "in_reply_to_id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0ODMwMg==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 467735377,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470748302",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470750075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470750075"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I meant that even though it's used, the coverage isn't updated for `SocketImpl` functions. Might be a bug with `lcov` perhaps.",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:11:41Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470750075",
      "id" : 470750075,
      "in_reply_to_id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1MDA3NQ==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 467737622,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470750075",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470751725"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470751725"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is now used prior to L164, so it must be on L44 -- but removing L164. Thanks!",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:14:46Z",
      "diff_hunk" : "@@ -37,6 +41,98 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470751725",
      "id" : 470751725,
      "in_reply_to_id" : 457793470,
      "line" : 47,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1MTcyNQ==",
      "original_commit_id" : "5da912d7cbf86c697f65ec777f06c3e00c57e120",
      "original_line" : 47,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 20,
      "pull_request_review_id" : 467739574,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470751725",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470753145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470753145"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think that is expected: it is currently only from `ConnectThroughProxy` which is not fuzzed :)",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:17:29Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470753145",
      "id" : 470753145,
      "in_reply_to_id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1MzE0NQ==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 467741240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470753145",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470753243"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470753243"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good nit! Adressed!",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:17:43Z",
      "diff_hunk" : "@@ -470,4 +470,63 @@ void ReadFromStream(FuzzedDataProvider& fuzzed_data_provider, Stream& stream) no\n     }\n }\n \n+class FuzzedSocket : public Socket\n+{\n+    FuzzedDataProvider& fuzzed_data_provider;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470753243",
      "id" : 470753243,
      "in_reply_to_id" : 458020094,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1MzI0Mw==",
      "original_commit_id" : "4f18edbe5500033ef619659b980b257c16a3834a",
      "original_line" : 475,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : null,
      "pull_request_review_id" : 467741353,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470753243",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470755486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470755486"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah derp! I mistakenly thought it was fuzzed for some reason, but `FuzzedSocket` is the one that's used. Is the idea that they be used together in some manner eventually?",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:22:29Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470755486",
      "id" : 470755486,
      "in_reply_to_id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1NTQ4Ng==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 467744215,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:22:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470755486",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470755741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470755741"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We want to make it so that the fuzzer driven `recv` can return _up to_ `len` bytes like the real `recv`, right? :)",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:23:02Z",
      "diff_hunk" : "@@ -470,4 +470,63 @@ void ReadFromStream(FuzzedDataProvider& fuzzed_data_provider, Stream& stream) no\n     }\n }\n \n+class FuzzedSocket : public Socket\n+{\n+    FuzzedDataProvider& fuzzed_data_provider;\n+\n+public:\n+    explicit FuzzedSocket(FuzzedDataProvider& fuzzed_data_provider_) : fuzzed_data_provider{fuzzed_data_provider_}\n+    {\n+    }\n+\n+    ssize_t send(const char* buf, size_t len, int flags) override\n+    {\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            return len;\n+        }\n+        return fuzzed_data_provider.ConsumeIntegralInRange<ssize_t>(-1, len);\n+    }\n+\n+    ssize_t recv(char* buf, size_t len, int flags) override\n+    {\n+        if (buf == nullptr || len == 0 || fuzzed_data_provider.ConsumeBool()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        const std::vector<uint8_t> random_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(len);\n+        if (random_bytes.empty()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        std::memcpy(buf, random_bytes.data(), random_bytes.size());\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            if (len > random_bytes.size()) {\n+                std::memset(buf + random_bytes.size(), 0, len - random_bytes.size());\n+            }\n+            return len;\n+        }\n+        return random_bytes.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470755741",
      "id" : 470755741,
      "in_reply_to_id" : 458022084,
      "line" : 506,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1NTc0MQ==",
      "original_commit_id" : "4f18edbe5500033ef619659b980b257c16a3834a",
      "original_line" : 506,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : 37,
      "pull_request_review_id" : 467744522,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:23:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470755741",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470758852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470758852"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@Crypt-iQ It is only used as a way to wrap an existing `SOCKET`  as a `Socket` instance: no further plans beyond that :)",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T17:29:03Z",
      "diff_hunk" : "@@ -37,6 +41,91 @@ class proxyType\n     bool randomize_credentials;\n };\n \n+struct timeval MillisToTimeval(int64_t nTimeout);\n+\n+// Represents a read/write socket.\n+class Socket\n+{\n+public:\n+    virtual ssize_t send(const char* buf, size_t len, int flags) = 0;\n+\n+    virtual ssize_t recv(char* buf, size_t len, int flags) = 0;\n+\n+#ifdef USE_POLL\n+    virtual int poll(short events, int timeout_ms) = 0;\n+#endif\n+\n+    virtual int select(bool watch_read, bool watch_write, int timeout_ms) = 0;\n+\n+    virtual bool IsSelectable() const = 0;\n+};\n+\n+// Represents a non-owned SOCKET.\n+//\n+// The underlying SOCKET will NOT be closed automatically on object destruction.\n+class SocketImpl : public Socket",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470758852",
      "id" : 470758852,
      "in_reply_to_id" : 458016843,
      "line" : 69,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc1ODg1Mg==",
      "original_commit_id" : "544a8705578cdecc532a209929a7ca2d846efd6a",
      "original_line" : 69,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/netbase.h",
      "position" : 42,
      "pull_request_review_id" : 467748299,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T17:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470758852",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470820694"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470820694"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, yes that makes sense, thanks for clarifying. ",
      "commit_id" : "c19e41d90a8fab587d262bd2f86e9bb92181ef1e",
      "created_at" : "2020-08-14T19:15:08Z",
      "diff_hunk" : "@@ -470,4 +470,63 @@ void ReadFromStream(FuzzedDataProvider& fuzzed_data_provider, Stream& stream) no\n     }\n }\n \n+class FuzzedSocket : public Socket\n+{\n+    FuzzedDataProvider& fuzzed_data_provider;\n+\n+public:\n+    explicit FuzzedSocket(FuzzedDataProvider& fuzzed_data_provider_) : fuzzed_data_provider{fuzzed_data_provider_}\n+    {\n+    }\n+\n+    ssize_t send(const char* buf, size_t len, int flags) override\n+    {\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            return len;\n+        }\n+        return fuzzed_data_provider.ConsumeIntegralInRange<ssize_t>(-1, len);\n+    }\n+\n+    ssize_t recv(char* buf, size_t len, int flags) override\n+    {\n+        if (buf == nullptr || len == 0 || fuzzed_data_provider.ConsumeBool()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        const std::vector<uint8_t> random_bytes = fuzzed_data_provider.ConsumeBytes<uint8_t>(len);\n+        if (random_bytes.empty()) {\n+            return fuzzed_data_provider.ConsumeBool() ? 0 : -1;\n+        }\n+        std::memcpy(buf, random_bytes.data(), random_bytes.size());\n+        if (fuzzed_data_provider.ConsumeBool()) {\n+            if (len > random_bytes.size()) {\n+                std::memset(buf + random_bytes.size(), 0, len - random_bytes.size());\n+            }\n+            return len;\n+        }\n+        return random_bytes.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19203#discussion_r470820694",
      "id" : 470820694,
      "in_reply_to_id" : 458022084,
      "line" : 506,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgyMDY5NA==",
      "original_commit_id" : "4f18edbe5500033ef619659b980b257c16a3834a",
      "original_line" : 506,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util.h",
      "position" : 37,
      "pull_request_review_id" : 467819128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19203",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-08-14T19:15:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470820694",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/15145615?v=4",
         "events_url" : "https://api.github.com/users/Crypt-iQ/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Crypt-iQ/followers",
         "following_url" : "https://api.github.com/users/Crypt-iQ/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Crypt-iQ/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Crypt-iQ",
         "id" : 15145615,
         "login" : "Crypt-iQ",
         "node_id" : "MDQ6VXNlcjE1MTQ1NjE1",
         "organizations_url" : "https://api.github.com/users/Crypt-iQ/orgs",
         "received_events_url" : "https://api.github.com/users/Crypt-iQ/received_events",
         "repos_url" : "https://api.github.com/users/Crypt-iQ/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Crypt-iQ/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Crypt-iQ/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Crypt-iQ"
      }
   }
]
