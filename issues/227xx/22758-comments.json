[
   {
      "author_association" : "MEMBER",
      "body" : "See https://github.com/bitcoin-core/packaging/issues/55",
      "created_at" : "2021-08-21T05:59:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22758#issuecomment-903065266",
      "id" : 903065266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22758",
      "node_id" : "IC_kwDOABII5841066y",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-21T05:59:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903065266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hi @MarcoFalke,\r\n\r\nI didnât got your point on the refereed packaging as this pull request isnât a concurrent for the current âcontinuous integrationâ *gitian* in place, but itâs also one more solution to **heavily** increase the user base by putting an official Bitcoin-core image on docker hub.\r\n\r\nit also isnât a random dockerfile as I hardly managed to produce a static binary without **any** dependencies (you can check with ldd) and my following plans are to run this right after kernel boot.\r\n\r\nBy your comments I seen some misunderstood about how docker images work because after we find a good dockerfile we donât have to actively maintain it, as the build process will stay the same for a long time. We donât have to keep changing itâs contents every time we deploy a new version but instead docker hub will detect the change in our GitHub, fetch the code, build and deploy direct into the biggest marketplace to cloud deployers.\r\n\r\nItâs a totally different approach to download some random guy dockerfile, who could put some random code inside the container, so you have to check his source file, line by line. And them you have to build yourself and it takes a lot of time, and the worst, most images you referred in your packaging will end up with more than 600mb (1.2Gb during building phase) just to deploy what is supposed to be a very simple deployment.\r\n\r\nas you can see by my files it produces a very simple image using a very simple build structure and build the code using the own GitHub source code and tracking the versions without any human interaction.\r\n\r\nif I push some new code into GitHub it will reflect in maybe 40min into docker.hub official image.\r\n\r\nI hope you can understand that as BITCOIN grows, more deployers will want to use BITCOIN as a service and they didnât spect to get into Bitcoin .com .org .net or something searching for instructions on how to build (Slackware 2001 feeling) but instead they want deploy automatically using their kubernetes infrastructure and Bitcoin-core is far behind this kind of technology.\r\n\r\nWell, Iâm a long time BITCOIN enthusiastic and Iâm very happy to be able to deploy BITCOIN inside my clouds without that kind of hassle using a minimal image from a trusted source. \r\n\r\nI can understand the need of everyone build their own code from source as I have been user of Slackware and gentoo for a long time, but this approach is more suitable to enthusiasts than for cloud formations.\r\n\r\nAlso I want keep the attention that the current pull request didnât change **any** significant code, build process, or any previous work that were being done.\r\n\r\nHaving a official docker hub image for Bitcoin-core is an important step to reduce the distance between the users and the developers and can raise *significantly* the numbers of nodes in the network.\r\n\r\nif you have any more questions Iâm glad to help.\r\n",
      "created_at" : "2021-08-21T11:34:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22758#issuecomment-903103094",
      "id" : 903103094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22758",
      "node_id" : "IC_kwDOABII58411EJ2",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-21T11:34:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903103094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/105643?v=4",
         "events_url" : "https://api.github.com/users/tegila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tegila/followers",
         "following_url" : "https://api.github.com/users/tegila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tegila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tegila",
         "id" : 105643,
         "login" : "tegila",
         "node_id" : "MDQ6VXNlcjEwNTY0Mw==",
         "organizations_url" : "https://api.github.com/users/tegila/orgs",
         "received_events_url" : "https://api.github.com/users/tegila/received_events",
         "repos_url" : "https://api.github.com/users/tegila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tegila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tegila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tegila"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We absolutely do see builds breaking when the dependency packages change, so there is additional maintenance to keep Bitcoin Core running with the alpine packages.\r\n\r\nAlso, with dependencies changing from down under us without our control, the \"moving\" dockerfile will only be tested in production (whenever the docker cache is cleared and the new dependency package versions are downloaded).\r\n\r\nFinally, I am not familiar how and who maintains the alpine packages. It wouldn't be ideal if one of the packages was updated (even intermittently) to include a key-stealer.\r\n\r\nOur static release builds fix all those issues, which is why most other docker images use them: https://github.com/bitcoin-core/packaging/issues/55#issuecomment-749510989 ",
      "created_at" : "2021-08-21T12:14:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22758#issuecomment-903107853",
      "id" : 903107853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22758",
      "node_id" : "IC_kwDOABII58411FUN",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-21T12:14:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903107853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> We absolutely do see builds breaking when the dependency packages change, so there is additional maintenance to keep Bitcoin Core running with the alpine packages.\r\n\r\nI've been building bitcoin since 2015 in the same way, cd depends;make....cd ..; ./configure; make; make install, so not much change. As the dependency packages change they will probably be added to depends folder to pass the tests and if it's too much of a problem I can maintain it myself for the best of our community.\r\n\r\n> Also, with dependencies changing from down under us without our control, the \"moving\" dockerfile will only be tested in production (whenever the docker cache is cleared and the new dependency package versions are downloaded).\r\n> \r\n> Finally, I am not familiar how and who maintains the alpine packages. It wouldn't be ideal if one of the packages was updated (even intermittently) to include a key-stealer.\r\n\r\nwell, alpine docker is an official docker image from docker hub team.\r\n**Docker, Inc. sponsors a dedicated team that is responsible for reviewing and publishing all content in the Docker Official Images. This team works in collaboration with upstream software maintainers, security experts, and the broader Docker community.** https://docs.docker.com/docker-hub/official_images/\r\n\r\nIt has 1bi downloads and it's embedded in most cloud servers this days, like: nginx, mysql, mongo, etc.\r\nhttps://hub.docker.com/_/alpine\r\n\r\nSo if someone can inject something inside an alpine package they can shutdown the entire internet this days. Not saying it's not possible but maybe you're being toooo strict with something helpful.\r\n\r\n> Our static release builds fix all those issues, which is why most other docker images use them: [bitcoin-core/packaging#55 (comment)](https://github.com/bitcoin-core/packaging/issues/55#issuecomment-749510989)\r\n\r\nI mean, I got your point in defend what you have working with and I was carefully when pulling this request to NOT change any of that.\r\n\r\nI can understand the importance of a 'continuous deployment' focused only on development as a point of trust to check tests and reproducibility. BUT, you can't put all your energy in one single point of failure. In the same way someone can inject a key stealing inside any CI environment and get advantage of that.\r\n\r\nThe point here is create a NEW alternative, which have been expected for many years now, by many people in our community.\r\n\r\nIf you aren't happy by my work here you can simply put your pre-build packages inside docker hub. But arging alpine isn't trustable...\r\n\r\nbut please put the bitcoin thing inside docker hub.",
      "created_at" : "2021-08-21T13:58:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22758#issuecomment-903120209",
      "id" : 903120209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22758",
      "node_id" : "IC_kwDOABII58411IVR",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-21T13:58:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903120209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/105643?v=4",
         "events_url" : "https://api.github.com/users/tegila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tegila/followers",
         "following_url" : "https://api.github.com/users/tegila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tegila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tegila",
         "id" : 105643,
         "login" : "tegila",
         "node_id" : "MDQ6VXNlcjEwNTY0Mw==",
         "organizations_url" : "https://api.github.com/users/tegila/orgs",
         "received_events_url" : "https://api.github.com/users/tegila/received_events",
         "repos_url" : "https://api.github.com/users/tegila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tegila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tegila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tegila"
      }
   }
]
