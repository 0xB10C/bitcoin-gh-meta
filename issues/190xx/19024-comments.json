[
   {
      "author_association" : "MEMBER",
      "body" : "I am wondering why the tread sanitizer on Ubuntu does not detect this issue",
      "created_at" : "2020-05-19T23:47:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19024#issuecomment-631146948",
      "id" : 631146948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19024",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTE0Njk0OA==",
      "updated_at" : "2020-05-19T23:47:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631146948",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Confirm:\r\n- Fedora 32, Clang 10.0.0: `WARNING: ThreadSanitizer: double lock of a mutex`\r\n- Ubuntu 20.04, Clang 10.0.0: no warnings",
      "created_at" : "2020-05-20T11:48:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19024#issuecomment-631424665",
      "id" : 631424665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19024",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTQyNDY2NQ==",
      "updated_at" : "2020-05-20T11:48:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631424665",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke \r\nMind testing #19029?",
      "created_at" : "2020-05-20T15:50:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19024#issuecomment-631561209",
      "id" : 631561209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19024",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTU2MTIwOQ==",
      "updated_at" : "2020-05-20T15:50:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631561209",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Same bug in debian, so I guess this should be reported to the debian clang maintainer?",
      "created_at" : "2020-05-20T20:04:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19024#issuecomment-631696545",
      "id" : 631696545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19024",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTY5NjU0NQ==",
      "updated_at" : "2020-05-20T20:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631696545",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "[`llvm-project-10.0.0/compiler-rt/test/tsan/mutex_double_lock.cpp`](https://github.com/llvm-mirror/compiler-rt/blob/master/test/tsan/mutex_double_lock.cpp):\r\n```C++\r\n// RUN: %clangxx_tsan -O1 %s -o %t && %deflake %run %t | FileCheck %s\r\n#include <pthread.h>\r\n#include <unistd.h>\r\n\r\nextern \"C\" void AnnotateRWLockAcquired(const char *f, int l, void *m, long rw);\r\n\r\nvoid *ThreadFunc(void *m) {\r\n  AnnotateRWLockAcquired(__FILE__, __LINE__, m, 1);\r\n  return 0;\r\n}\r\n\r\nint main() {\r\n  int m = 0;\r\n  AnnotateRWLockAcquired(__FILE__, __LINE__, &m, 1);\r\n  pthread_t th;\r\n  pthread_create(&th, 0, ThreadFunc, &m);\r\n  pthread_join(th, 0);\r\n  return 0;\r\n}\r\n\r\n// CHECK: WARNING: ThreadSanitizer: double lock of a mutex\r\n// CHECK:     #0 AnnotateRWLockAcquired\r\n// CHECK:     #1 ThreadFunc\r\n// CHECK: Location is stack of main thread.\r\n// CHECK:   Mutex {{.*}} created at:\r\n// CHECK:     #0 AnnotateRWLockAcquired\r\n// CHECK:     #1 main\r\n// CHECK: SUMMARY: ThreadSanitizer: double lock of a mutex {{.*}}mutex_double_lock.cpp{{.*}}ThreadFunc\r\n```",
      "created_at" : "2020-05-21T04:06:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/19024#issuecomment-631866811",
      "id" : 631866811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19024",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMTg2NjgxMQ==",
      "updated_at" : "2020-05-21T04:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/631866811",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
