[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nYou might want to add some validationfor the option value: at the least whether it's `<addr>:port`, to prevent passing weird values to Tor's control port with unclear outcomes.\r\n\r\nEdit: this is also the first step towards making #8973 possible.\r\nEdit.2: apparently that uses the `unix:/tmp/path/to/tor/socket` syntax. We'd also want to support that at some point, though right now is pointless as bitcoind can't bind on a UNIX socket.",
      "created_at" : "2020-05-26T10:58:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-633955433",
      "id" : 633955433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzk1NTQzMw==",
      "updated_at" : "2020-05-26T11:02:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633955433",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm confused how torcontrol is talking to Tor on another host?",
      "created_at" : "2020-06-03T03:56:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-637937425",
      "id" : 637937425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNzkzNzQyNQ==",
      "updated_at" : "2020-06-03T03:56:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637937425",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nSome validation and testing would be nice here. \r\n\r\n@MDrollette, are you still active on this?",
      "created_at" : "2020-07-17T13:26:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660106211",
      "id" : 660106211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDEwNjIxMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T13:26:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660106211",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj \r\n> You might want to add some validationfor the option value: at the least whether it's `<addr>:port`, to prevent passing weird values to Tor's control port with unclear outcomes.\r\n\r\nI've added what I believe to be some sanitation/validation. I am happy to do something differently if anyone can point to a better example. My apologies, I'm not a C developer, so this is very much an introduction for me.\r\n\r\n\r\n@luke-jr \r\n> I'm confused how torcontrol is talking to Tor on another host?\r\n\r\n`-torcontrol` can be a remote host or a different interface on the same host (ie. when running in a container) - particularly when used in combination with `-torpassword` instead of the cookie file method.\r\n\r\n\r\n",
      "created_at" : "2020-07-17T18:52:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660282449",
      "id" : 660282449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDI4MjQ0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T18:52:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660282449",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329784?v=4",
         "events_url" : "https://api.github.com/users/MDrollette/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MDrollette/followers",
         "following_url" : "https://api.github.com/users/MDrollette/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MDrollette/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MDrollette",
         "id" : 329784,
         "login" : "MDrollette",
         "node_id" : "MDQ6VXNlcjMyOTc4NA==",
         "organizations_url" : "https://api.github.com/users/MDrollette/orgs",
         "received_events_url" : "https://api.github.com/users/MDrollette/received_events",
         "repos_url" : "https://api.github.com/users/MDrollette/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MDrollette/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MDrollette/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MDrollette"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19485 (torcontrol: Create also a V3 ed25519-V3 onion address. by Saibato)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-07-17T22:25:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#issuecomment-660362786",
      "id" : 660362786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19043",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY2MDM2Mjc4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-07-17T22:25:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660362786",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r462967925"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/462967925"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Looks like the port is missing in the default value ?",
      "commit_id" : "7e57666f34bdac01088cf6251134b8a9aae573f2",
      "created_at" : "2020-07-30T12:43:03Z",
      "diff_hunk" : "@@ -531,12 +531,20 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             SetReachable(NET_ONION, true);\n         }\n \n+        // Validate the target of the hidden service\n+        std::string targetArg = gArgs.GetArg(\"-tortarget\", \"127.0.0.1\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19043#discussion_r462967925",
      "id" : 462967925,
      "line" : 535,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2NzkyNQ==",
      "original_commit_id" : "7e57666f34bdac01088cf6251134b8a9aae573f2",
      "original_line" : 535,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/torcontrol.cpp",
      "position" : 5,
      "pull_request_review_id" : 458362299,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19043",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-07-30T12:55:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/462967925",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   }
]
