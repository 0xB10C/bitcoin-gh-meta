[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK and approach half-ACK. This seems like a good change to make with the caveat that it shouldn't be necessary to add new global `NodeContext` variables and add new node initialization and caching code to fix a GUI problem.\r\n\r\nInstead of having `AppInitMain` set global variables in `NodeContext` that get returned by a new `Node::getInitialChainState` method, and having the node cache information about itself on behalf of the GUI, I think the GUI should be able to query the node at the right time and pass the information where it needs to go during its initialization.\r\n\r\nThis would mean instead of having a new `Node::getInitialChainState` method returning cached information, there would be a new `Node::getBlockTip` method [1] returning live information. The GUI could call this right after it calls `Node::appInitMain`, and pass the returned values along to `setClientModel`. It might also be good to define a `BlockTip` struct to avoid repeating the same function arguments multiple places.\r\n\r\n[1] Suggesting `getBlockTip` as a method name to be consistent with other existing method names: [`getHeaderTip`](https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/src/interfaces/node.h#L146), [`handleNotifyBlockTip`](https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/src/interfaces/node.h#L253), [`handleNotifyHeaderTip`](https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/src/interfaces/node.h#L258) as well as the new struct [`BlockTip`](https://github.com/bitcoin/bitcoin/blob/a33fd3fa4e668b19495a1d11e44c7d405aaa6e10/src/interfaces/node.h#L270-L276) from #17993\r\n\r\n",
      "created_at" : "2020-05-18T22:15:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19011#issuecomment-630464246",
      "id" : 630464246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19011",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDQ2NDI0Ng==",
      "updated_at" : "2020-05-18T22:15:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630464246",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
