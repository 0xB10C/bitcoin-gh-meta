[
   {
      "author_association" : "NONE",
      "body" : "El mar., 26 de mayo de 2020 2:55 a. m., Michael <notifications@github.com>\nescribiÃ³:\n\n> Implements #18128 <https://github.com/bitcoin/bitcoin/issues/18128>\n> (mostly). From discussion on that issue we've got 3 ACKs (to move from\n> .dmg to .zip), 1 ~0 and 1 NACK. So I've opened this PR to give a better\n> overview of what the changes might actually look like.\n>\n> Gitian builds currently work, however I haven't tested the signer, and\n> that likely needs some additional changes. As mentioned we can drop quite a\n> few packages from depends. There's some commits here that can cleaned up,\n> squashed or dropped.\n>\n> If you're compiling macOS, make appbundle will (as before) build a\n> dynamically linked Bitcoin Core.app. make deploy will still build a\n> statically linked dist/Bitcoin Core.app and will now also create a\n> dist/Bitcoin-Core.zip.\n>\n> Compiling on Linux there has never been a make appbundle rule, and with\n> these changes, make deploy now behaves the same as on macOS. The make\n> deploydir rule has been removed.\n>\n> Initially I was unconvinced (of a swap from .dmg to .zip), however I have\n> come around after looking at these changes. If there is not agreement that\n> \"this is the way\", then I'll revive #18151\n> <https://github.com/bitcoin/bitcoin/pull/18151> and fix it up to include\n> xorriso in depends etc.\n> ------------------------------\n> You can view, comment on, or merge this pull request online at:\n>\n>   https://github.com/bitcoin/bitcoin/pull/19068\n> Commit Summary\n>\n>    - build: add -zip option to macdeployqtplus\n>    - build: remove native_libdmg-hfsplus from depends\n>    - build: remove native_cdrit from depends\n>    - build: remove macOS .dmg background image and generation\n>    - build: remove macOS .DS_Store and .plist generation\n>    - build: note why we set CFBundle*\n>    - build: update gitian descriptors to use zip method\n>    - build: remove -dmg and -fancy argument from macdeployqtplus\n>    - build: remove -sign argument from macdeployqtplus\n>    - build: merge -zip and -volname arguments in macdeployqtplus\n>    - build: move qt_conf to where it's actually used in macdeployqtplus\n>    - build: remove -add-resources argument from macdeployqtplus\n>    - docs: update macOS docs for new zip deployment method\n>\n> File Changes\n>\n>    - *M* Makefile.am\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-c949f93d03f44a4217d7a138f9e2e54a>\n>    (65)\n>    - *M* ci/test/00_setup_env_mac.sh\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-f8f760195adbee096a0a78c72242bce4>\n>    (2)\n>    - *M* configure.ac\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-67e997bcfdac55191033d57a16d1408a>\n>    (6)\n>    - *M* contrib/gitian-descriptors/gitian-osx-signer.yml\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-e93eadfeb0c10fed75cd1434371bb41c>\n>    (8)\n>    - *M* contrib/gitian-descriptors/gitian-osx.yml\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-2bf50096db55445178e7238c402f2e5c>\n>    (19)\n>    - *M* contrib/macdeploy/README.md\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-9de36befe13356841c2699ee0eff4a0a>\n>    (45)\n>    - *D* contrib/macdeploy/background.svg\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-8552c751b30ae0c0bbb7a7994e13a986>\n>    (34)\n>    - *D* contrib/macdeploy/custom_dsstore.py\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-b7d8f8738f97ba32c64050567a536ab4>\n>    (59)\n>    - *D* contrib/macdeploy/fancy.plist\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-c5ee10fdc4e723d0e3bc04985a9b0a88>\n>    (32)\n>    - *M* contrib/macdeploy/macdeployqtplus\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-e2c1caf49768933aa4719737154e63c8>\n>    (275)\n>    - *M* depends/README.md\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-36bb097207a4bca436880cdc4cd3f66b>\n>    (2)\n>    - *D* depends/packages/native_biplist.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-1dd190bdf3a4e6a2d8035444e4517948>\n>    (15)\n>    - *D* depends/packages/native_cdrkit.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-84e75f47808eba6dd2903afee0156b54>\n>    (26)\n>    - *D* depends/packages/native_ds_store.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-6d3cefe7abc09f03958627a7c0e9256d>\n>    (16)\n>    - *D* depends/packages/native_libdmg-hfsplus.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-70c3d4e88ebfdac4940b759ec8d4e35f>\n>    (24)\n>    - *D* depends/packages/native_mac_alias.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-1fdc24ec38b3c7b6d35d21494e93a296>\n>    (15)\n>    - *M* depends/packages/packages.mk\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-d7aa5d84559a1c436fb56a7def7f98c0>\n>    (4)\n>    - *D* depends/patches/native_cdrkit/cdrkit-deterministic.patch\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-fc6091667acaa99f573220e16a7bc06b>\n>    (86)\n>    - *D*\n>    depends/patches/native_libdmg-hfsplus/remove-libcrypto-dependency.patch\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-92b035867966adf9ac5dff978c7c4096>\n>    (45)\n>    - *M* doc/build-osx.md\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-5c9db1d4619895b002078a3529a8dc72>\n>    (13)\n>    - *M* doc/dependencies.md\n>    <https://github.com/bitcoin/bitcoin/pull/19068/files#diff-0c8311709d11060c5156268e58f5f209>\n>    (4)\n>\n> Patch Links:\n>\n>    - https://github.com/bitcoin/bitcoin/pull/19068.patch\n>    - https://github.com/bitcoin/bitcoin/pull/19068.diff\n>\n> â\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/19068>, or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AO23BJAVI7UXVROZA2C5PHTRTNYYNANCNFSM4NKCADEQ>\n> .\n>\n",
      "created_at" : "2020-05-26T08:35:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19068#issuecomment-633888593",
      "id" : 633888593,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19068",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMzg4ODU5Mw==",
      "updated_at" : "2020-05-26T08:35:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/633888593",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/62238884?v=4",
         "events_url" : "https://api.github.com/users/ollitsac107/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ollitsac107/followers",
         "following_url" : "https://api.github.com/users/ollitsac107/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ollitsac107/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ollitsac107",
         "id" : 62238884,
         "login" : "ollitsac107",
         "node_id" : "MDQ6VXNlcjYyMjM4ODg0",
         "organizations_url" : "https://api.github.com/users/ollitsac107/orgs",
         "received_events_url" : "https://api.github.com/users/ollitsac107/received_events",
         "repos_url" : "https://api.github.com/users/ollitsac107/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ollitsac107/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ollitsac107/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ollitsac107"
      }
   }
]
