[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nIt would be good to motivate the change. Maybe something like this?\r\n\r\nThe scriptnum test (https://github.com/bitcoin/bitcoin/pull/14816) is a roundtrip test of the test framwork. Thus, it would be better suited as a unit test. This is now possible with the introduction of the unit test module for the functional tests. See https://github.com/bitcoin/bitcoin/pull/18576",
      "created_at" : "2020-05-27T17:18:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#issuecomment-634814645",
      "id" : 634814645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19082",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDgxNDY0NQ==",
      "updated_at" : "2020-05-27T17:18:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634814645",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431312915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431312915"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think for a unit test it could make sense to simply hard-code the value of `coinbase_tx.vin[0].scriptSig` instead of computing it every single time by mining 200 blocks.",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T17:21:06Z",
      "diff_hunk" : "@@ -731,3 +731,37 @@ def test_bn2vch(self):\n         self.assertEqual(bn2vch(0xFFFFFFFF), bytes([0xFF, 0xFF, 0xFF, 0xFF, 0x00]))\n         self.assertEqual(bn2vch(123456789), bytes([0x15, 0xCD, 0x5B, 0x07]))\n         self.assertEqual(bn2vch(-54321), bytes([0x31, 0xD4, 0x80]))\n+\n+    def test_mining(self):\n+        self.mine_chain()\n+        node = self.nodes[0]\n+\n+        self.log.info('getmininginfo')\n+        mining_info = node.getmininginfo()\n+        self.assert_equal(mining_info['blocks'], 200)\n+        self.assert_equal(mining_info['chain'], self.chain)\n+        assert 'currentblocktx' not in mining_info\n+        assert 'currentblockweight' not in mining_info\n+        self.assert_equal(mining_info['difficulty'], Decimal('4.656542373906925E-10'))\n+        self.assert_equal(mining_info['networkhashps'], Decimal('0.003333333333333334'))\n+        self.assert_equal(mining_info['pooledtx'], 0)\n+\n+        # Mine a block to leave initial block download\n+        node.generatetoaddress(1, node.get_deterministic_priv_key().address)\n+        tmpl = node.getblocktemplate({'rules': ['segwit']})\n+        self.log.info(\"getblocktemplate: Test capability advertised\")\n+        assert 'proposal' in tmpl['capabilities']\n+        assert 'coinbasetxn' not in tmpl\n+\n+        next_height = int(tmpl[\"height\"])\n+        coinbase_tx = create_coinbase(height=next_height)\n+        # sequence numbers must not be max for nLockTime to have effect\n+        coinbase_tx.vin[0].nSequence = 2 ** 32 - 2\n+        coinbase_tx.rehash()\n+\n+        # round-trip the encoded bip34 block height commitment\n+        self.assert_equal(CScriptNum.decode(coinbase_tx.vin[0].scriptSig), next_height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431312915",
      "id" : 431312915,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxMjkxNQ==",
      "original_commit_id" : "4b38a1cd1bc88e23e1e74cacfdb441e315fad3f5",
      "original_line" : 763,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 419446839,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431312915",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431331283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431331283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this one was actually testing the miner, so should be kept in this file.",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T17:50:32Z",
      "diff_hunk" : "@@ -83,20 +81,8 @@ def assert_submitblock(block, result_str_1, result_str_2=None):\n         self.log.info(\"getblocktemplate: Test capability advertised\")\n         assert 'proposal' in tmpl['capabilities']\n         assert 'coinbasetxn' not in tmpl\n-\n-        next_height = int(tmpl[\"height\"])\n-        coinbase_tx = create_coinbase(height=next_height)\n-        # sequence numbers must not be max for nLockTime to have effect\n-        coinbase_tx.vin[0].nSequence = 2 ** 32 - 2\n-        coinbase_tx.rehash()\n-\n-        # round-trip the encoded bip34 block height commitment\n-        assert_equal(CScriptNum.decode(coinbase_tx.vin[0].scriptSig), next_height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431331283",
      "id" : 431331283,
      "line" : 94,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMzMTI4Mw==",
      "original_commit_id" : "0107629e29641da7b21d14906743c19716f933e4",
      "original_line" : 94,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/functional/mining_basic.py",
      "position" : 20,
      "pull_request_review_id" : 419471139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431331283",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431357527"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431357527"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think you should only really be touching these 4 lines in `mining_basic.py`. The first assertion should stay like Marco said, and you'll need to keep the import statement in order for it to work.",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T18:32:09Z",
      "diff_hunk" : "@@ -83,20 +81,9 @@ def assert_submitblock(block, result_str_1, result_str_2=None):\n         self.log.info(\"getblocktemplate: Test capability advertised\")\n         assert 'proposal' in tmpl['capabilities']\n         assert 'coinbasetxn' not in tmpl\n-\n-        next_height = int(tmpl[\"height\"])\n-        coinbase_tx = create_coinbase(height=next_height)\n-        # sequence numbers must not be max for nLockTime to have effect\n+        coinbase_tx = create_coinbase(height=int(tmpl[\"height\"]) + 1)\n         coinbase_tx.vin[0].nSequence = 2 ** 32 - 2\n         coinbase_tx.rehash()\n-\n-        # round-trip the encoded bip34 block height commitment\n-        assert_equal(CScriptNum.decode(coinbase_tx.vin[0].scriptSig), next_height)\n-        # round-trip negative and multi-byte CScriptNums to catch python regression\n-        assert_equal(CScriptNum.decode(CScriptNum.encode(CScriptNum(1500))), 1500)\n-        assert_equal(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1500))), -1500)\n-        assert_equal(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1))), -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431357527",
      "id" : 431357527,
      "line" : 98,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM1NzUyNw==",
      "original_commit_id" : "fba67c6672242cb39d06b6aa5ffdc83cde6fd4b0",
      "original_line" : 98,
      "original_position" : 26,
      "original_start_line" : 95,
      "path" : "test/functional/mining_basic.py",
      "position" : 24,
      "pull_request_review_id" : 419499651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "LEFT",
      "start_line" : 95,
      "start_side" : "LEFT",
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431357527",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431367857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431367857"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maybe name this `test_cscriptnum_encoding` or something else more specific? Since there are other encode/decode functions in this file, i.e. for `CScriptOp`.",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T18:50:58Z",
      "diff_hunk" : "@@ -731,3 +731,11 @@ def test_bn2vch(self):\n         self.assertEqual(bn2vch(0xFFFFFFFF), bytes([0xFF, 0xFF, 0xFF, 0xFF, 0x00]))\n         self.assertEqual(bn2vch(123456789), bytes([0x15, 0xCD, 0x5B, 0x07]))\n         self.assertEqual(bn2vch(-54321), bytes([0x31, 0xD4, 0x80]))\n+\n+    def test_decode(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431367857",
      "id" : 431367857,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2Nzg1Nw==",
      "original_commit_id" : "fba67c6672242cb39d06b6aa5ffdc83cde6fd4b0",
      "original_line" : 735,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 419499651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431367857",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431369690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431369690"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Does this comment apply here?",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T18:54:10Z",
      "diff_hunk" : "@@ -731,3 +731,11 @@ def test_bn2vch(self):\n         self.assertEqual(bn2vch(0xFFFFFFFF), bytes([0xFF, 0xFF, 0xFF, 0xFF, 0x00]))\n         self.assertEqual(bn2vch(123456789), bytes([0x15, 0xCD, 0x5B, 0x07]))\n         self.assertEqual(bn2vch(-54321), bytes([0x31, 0xD4, 0x80]))\n+\n+    def test_decode(self):\n+        # round-trip the encoded bip34 block height commitment",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431369690",
      "id" : 431369690,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2OTY5MA==",
      "original_commit_id" : "fba67c6672242cb39d06b6aa5ffdc83cde6fd4b0",
      "original_line" : 736,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 419499651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431369690",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431371299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431371299"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe out of scope for this PR, but would it be helpful to add more tests (e.g. big numbers up to 4 bytes)?",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-27T18:57:00Z",
      "diff_hunk" : "@@ -731,3 +731,11 @@ def test_bn2vch(self):\n         self.assertEqual(bn2vch(0xFFFFFFFF), bytes([0xFF, 0xFF, 0xFF, 0xFF, 0x00]))\n         self.assertEqual(bn2vch(123456789), bytes([0x15, 0xCD, 0x5B, 0x07]))\n         self.assertEqual(bn2vch(-54321), bytes([0x31, 0xD4, 0x80]))\n+\n+    def test_decode(self):\n+        # round-trip the encoded bip34 block height commitment\n+        self.assertEqual(CScriptNum.decode(b'\\x02\\xcb\\x00'), 203)\n+        # round-trip negative and multi-byte CScriptNums to catch python regression\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(1500))), 1500)\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1500))), -1500)\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1))), -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431371299",
      "id" : 431371299,
      "line" : 739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM3MTI5OQ==",
      "original_commit_id" : "fba67c6672242cb39d06b6aa5ffdc83cde6fd4b0",
      "original_line" : 739,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : 9,
      "pull_request_review_id" : 419499651,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-27T22:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431371299",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/gzhao408/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gzhao408/followers",
         "following_url" : "https://api.github.com/users/gzhao408/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gzhao408/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gzhao408",
         "id" : 25183001,
         "login" : "gzhao408",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/gzhao408/orgs",
         "received_events_url" : "https://api.github.com/users/gzhao408/received_events",
         "repos_url" : "https://api.github.com/users/gzhao408/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gzhao408/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gzhao408/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gzhao408"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK: more testing is better!\r\n\r\nWelcome as a contributor @gillichu :)",
      "created_at" : "2020-05-27T19:06:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#issuecomment-634878006",
      "id" : 634878006,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19082",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDg3ODAwNg==",
      "updated_at" : "2020-05-27T19:06:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634878006",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17977 ([WIP] Implement BIP 340-342 validation (Schnorr/taproot/tapscript) by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-05-27T19:47:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#issuecomment-634902275",
      "id" : 634902275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19082",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNDkwMjI3NQ==",
      "updated_at" : "2020-05-27T19:47:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/634902275",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431769307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431769307"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason to remove this comment and the empty lines?",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-28T11:34:35Z",
      "diff_hunk" : "@@ -83,20 +82,12 @@ def assert_submitblock(block, result_str_1, result_str_2=None):\n         self.log.info(\"getblocktemplate: Test capability advertised\")\n         assert 'proposal' in tmpl['capabilities']\n         assert 'coinbasetxn' not in tmpl\n-\n         next_height = int(tmpl[\"height\"])\n         coinbase_tx = create_coinbase(height=next_height)\n-        # sequence numbers must not be max for nLockTime to have effect",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431769307",
      "id" : 431769307,
      "line" : 89,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTc2OTMwNw==",
      "original_commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "original_line" : 89,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/mining_basic.py",
      "position" : 15,
      "pull_request_review_id" : 420019996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-28T11:34:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431769307",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for you contribution. Looks good to me.\r\n\r\nA small nit: please change the git commit message to a short title (up to say, 70 characters), then an empty line, then the rest of the description. This because tools (such as `git pretty=oneline`) will otherwise put it all on one line instead of displaying just the title:\r\n```\r\n9d5dd8752â¦ (pull/19082/head) [test] Migrates the CScriptNum decode tests into a unit test, moving some changes made in #14816. This was made possible by the integration of test_framework unit testing in #18576.\r\n```",
      "created_at" : "2020-05-28T14:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#issuecomment-635404401",
      "id" : 635404401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19082",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzNTQwNDQwMQ==",
      "updated_at" : "2020-05-28T14:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635404401",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431909280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431909280"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yesâmore tests would be welcome here IMO, \r\nMaybe the list of test numbers in [scriptnum_tests.cpp](https://github.com/bitcoin/bitcoin/blob/master/src/test/scriptnum_tests.cpp#L17) also comes in useful here.",
      "commit_id" : "9d5dd8752a1bc89f7fcfc1a9b6e0d042b9c20616",
      "created_at" : "2020-05-28T15:05:07Z",
      "diff_hunk" : "@@ -731,3 +731,11 @@ def test_bn2vch(self):\n         self.assertEqual(bn2vch(0xFFFFFFFF), bytes([0xFF, 0xFF, 0xFF, 0xFF, 0x00]))\n         self.assertEqual(bn2vch(123456789), bytes([0x15, 0xCD, 0x5B, 0x07]))\n         self.assertEqual(bn2vch(-54321), bytes([0x31, 0xD4, 0x80]))\n+\n+    def test_decode(self):\n+        # round-trip the encoded bip34 block height commitment\n+        self.assertEqual(CScriptNum.decode(b'\\x02\\xcb\\x00'), 203)\n+        # round-trip negative and multi-byte CScriptNums to catch python regression\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(1500))), 1500)\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1500))), -1500)\n+        self.assertEqual(CScriptNum.decode(CScriptNum.encode(CScriptNum(-1))), -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19082#discussion_r431909280",
      "id" : 431909280,
      "in_reply_to_id" : 431371299,
      "line" : 739,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkwOTI4MA==",
      "original_commit_id" : "fba67c6672242cb39d06b6aa5ffdc83cde6fd4b0",
      "original_line" : 739,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : 9,
      "pull_request_review_id" : 420207117,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19082",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-28T15:05:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/431909280",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
