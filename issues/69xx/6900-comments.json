[
   {
      "body" : "Does this change the minimum compatible system glibc/libstdc++ version of the Linux binary?  If the new glibc or libstdc++ added new symbols @theuni may need to add more wrappers to the compat library.",
      "created_at" : "2015-10-29T18:59:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152287333",
      "id" : 152287333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-29T22:40:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152287333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "> Does this change the minimum compatible system glibc/libstdc++ version of the Linux binary?\r\n\r\nIt shouldn't. That's what the symbols check (`contrib/devtools/symbols-check.py`) checks for.\r\n",
      "created_at" : "2015-10-29T20:40:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152312553",
      "id" : 152312553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-29T20:40:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152312553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Well that was easy :)\r\n\r\nFor Windows, patching seems like it'd be the easiest, but I'd worry about breaking checksums. I suppose if Tor did it that way, either it's not an issue or updating the checksums is doable as well. Will look into it.\r\n\r\n@sipa mentioned on IRC that depends are currently broken for him on his dev machine, and the fix is the change you made here to qt.mk. Rather than removing the hackish sed, let's make a patch which properly ifdefs, so that it'll work on old/new mingw.\r\n\r\nAlso, I'd be more comfortable with this if we could wait for Trusty on Travis. I've pinged them to try to get an idea of a timeline. Obviously if it's going to drag on too long, we can just bump the compiler versions we use in our current env in order to simulate a bump to Trusty.",
      "created_at" : "2015-10-30T02:52:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152396510",
      "id" : 152396510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-30T02:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152396510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "> For Windows, patching seems like it'd be the easiest, but I'd worry about breaking checksums. I suppose if Tor did it that way, either it's not an issue or updating the checksums is doable as well. Will look into it.\r\n\r\n[Tor uses 'strip' to recompute the checksum](https://blog.torproject.org/blog/deterministic-builds-part-two-technical-details). I'm not sure what they used to find the index of the bytes, as it is not a fixed offset into any section in the final file. Maybe they used the linker map like me. We could ask them.\r\n\r\n> Rather than removing the hackish sed, let's make a patch which properly ifdefs, so that it'll work on old/new mingw.\r\n\r\nRight - Qt did an attempt at this, but they apparantly got the version threshold wrong. Though it is not impossible that Ubuntu complicated this by backporting things into older releases. From `qwindowsdialoghelpers.cpp`:\r\n```\r\n/* The correct declaration of the SHGetPathFromIDList symbol is\r\n * being used in mingw-w64 as of r6215, which is a v3 snapshot.  */\r\n#if defined(Q_CC_MINGW) && (!defined(__MINGW64_VERSION_MAJOR) || __MINGW64_VERSION_MAJOR < 3)\r\ntypedef ITEMIDLIST *qt_LpItemIdList;\r\n#else\r\ntypedef PIDLIST_ABSOLUTE qt_LpItemIdList;\r\n#endif\r\n```\r\nOr maybe it is correct! this kind of armoring is missing completely for the use of `PIDLIST_ABSOLUTE` in `qwindowscontext.h`, and that is what Travis is failing on.\r\n\r\n> Also, I'd be more comfortable with this if we could wait for Trusty on Travis\r\n\r\nI'd like so, too. Depends on the time frame - IMO it would be nice to build 0.12 using the new compiler, as it appears to be pretty much a hassle free upgrade.\r\n",
      "created_at" : "2015-10-30T09:00:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152464178",
      "id" : 152464178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-30T09:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152464178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "OK, [this is Tor's workaround](https://gitweb.torproject.org/builders/tor-browser-bundle.git/tree/gitian/descriptors/windows/gitian-firefox.yml?id=8cc3dbc4db0307699d292f6fac7615dae2849779).\r\n```\r\n  # XXX: What the hell are these three bytes anyways?\r\n  sed 's/\\x94\\x0C\\xE7\\x6A\\xB8\\x0C\\xE7\\x6A\\x08...\\x04\\xBA\\xCB\\x7E/\\x94\\x0c\\xe7\\x6a\\xb8\\x0c\\xe7\\x6a\\x08\\x23\\x23\\x23\\x04\\xba\\xcb\\x7e/M' -i $INSTDIR/App/Firefox/xul.dll\r\n  sed 's/\\x94\\xb1\\x24\\x65\\xb8\\xb1\\x24\\x65\\xf8...\\x04\\xba\\xcb\\x7e/\\x94\\xb1\\x24\\x65\\xb8\\xb1\\x24\\x65\\xf8\\x23\\x23\\x23\\x04\\xba\\xcb\\x7e/M' -i $INSTDIR/App/Firefox/gkmedias.dll\r\n  # Stripping again updates the PE header checksums to be correct\r\n  i686-w64-mingw32-strip $INSTDIR/App/Firefox/gkmedias.dll\r\n  i686-w64-mingw32-strip $INSTDIR/App/Firefox/xul.dll\r\n```\r\nUsing sed for binary patching is not anything I've seen before, or would necessarily encourage (fragility as the surrounding data may move).\r\nAll trace of this is gone in their new builders, so I assume they use a newer version now: https://gitweb.torproject.org/builders/tor-browser-bundle.git/tree/gitian/descriptors/windows/gitian-firefox.yml\r\n\r\nThey're patching binutils: https://gitweb.torproject.org/builders/tor-browser-bundle.git/commit/gitian/descriptors/windows/gitian-firefox.yml?id=fd14de1870b38987c25eba1d3f8ca87b22f3bb8b\r\nThen they commented out the hacks: https://gitweb.torproject.org/builders/tor-browser-bundle.git/commit/gitian/descriptors/windows/gitian-firefox.yml?id=95446ee9fef932ba2c443968a90b650a36cd2182\r\n",
      "created_at" : "2015-10-30T09:04:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152465249",
      "id" : 152465249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-30T09:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152465249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Wrote a script that overwrites the bytes given an executable and linker map, then calls strip to recompute the checksum. It was somewhat more involved than I thought as it has to parse the PE sections to find the file offset: https://gist.github.com/laanwj/01dc996c4755d19e134e\r\n\r\nBut it works for 32/64 bit, tested using\r\n```bash\r\n#!/bin/bash\r\n$1 mtest.c -o mtest_1 -Wl,-Map=mtest.map\r\n$1 mtest.c -o mtest_2 -Wl,-Map=mtest.map                                                                    \r\n$1 mtest.c -o mtest_3 -Wl,-Map=mtest.map                                                                    \r\nsha256sum mtest_1 mtest_2 mtest_3                                                                                           \r\n~/projects/bitcoin/bitcoin/contrib/devtools/bitstomp.py  mtest_1 mtest.map\r\n~/projects/bitcoin/bitcoin/contrib/devtools/bitstomp.py  mtest_2 mtest.map                                                    \r\n~/projects/bitcoin/bitcoin/contrib/devtools/bitstomp.py  mtest_3 mtest.map                                                    \r\nsha256sum mtest_1 mtest_2 mtest_3\r\n```\r\n\r\n```\r\n$ ./mtest.sh i686-w64-mingw32-gcc\r\n570f42e57f2a5b864f2464eab5f9e49d64545f36992f8429c6a2555ec29272ed  mtest_1\r\nab53006e857d3e8eb14d380a94cdc0a6cc9291a1d4a284961c5fd323bd915dec  mtest_2\r\n46e6caae3a29378b0bd023124c4000856f6049c4a0602ff599aa2b6035417fa1  mtest_3\r\nmtest_1: Patching e8833007 to 00000000 at offset 0000205c (virtual address 000000000040425c)\r\nmtest_2: Patching e8735bdb to 00000000 at offset 0000205c (virtual address 000000000040425c)\r\nmtest_3: Patching e8638e8d to 00000000 at offset 0000205c (virtual address 000000000040425c)\r\ndf8a954df2aedb9d004e863449be180aad85490fee5856159102c408e8204ecd  mtest_1\r\ndf8a954df2aedb9d004e863449be180aad85490fee5856159102c408e8204ecd  mtest_2\r\ndf8a954df2aedb9d004e863449be180aad85490fee5856159102c408e8204ecd  mtest_3\r\n```\r\n```\r\n$ ./mtest.sh x86_64-w64-mingw32-gcc                                                                                                 \r\n4647ac5ed9c73aa7cb33324d0222b6c45c3ced70b495e92771c323033f9670bb  mtest_1\r\ne43b0fac2bcaa09173c5f5d9b529a9f7ffa2e15e7f67881a8c12226a09058998  mtest_2\r\nd8664c15f4a69de0f605a9c8692db954d47480d281205ef946f0879edb705e73  mtest_3\r\nmtest_1: Patching e8d60fa24e7f0000 to 0000000000000000 at offset 00002880 (virtual address 0000000000404280)\r\nmtest_2: Patching e8d6dbeb997f0000 to 0000000000000000 at offset 00002880 (virtual address 0000000000404280)\r\nmtest_3: Patching e836fb54c67f0000 to 0000000000000000 at offset 00002880 (virtual address 0000000000404280)\r\n51e8cba15304fa7ff52de698b0c9b3ba8a4502df3b099589b56b0e37619e332c  mtest_1\r\n51e8cba15304fa7ff52de698b0c9b3ba8a4502df3b099589b56b0e37619e332c  mtest_2\r\n51e8cba15304fa7ff52de698b0c9b3ba8a4502df3b099589b56b0e37619e332c  mtest_3\r\n```",
      "created_at" : "2015-10-30T12:52:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152515503",
      "id" : 152515503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-30T12:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152515503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Now uses another approach (suggested by @theuni) to make the windows build deterministic, until binutils can be updated.\r\n",
      "created_at" : "2015-10-31T07:48:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152709077",
      "id" : 152709077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-10-31T07:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152709077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@theuni I replaced the qt PIDLIST_ABSOLUTE patching with a patch that should work for both old and new mingw.\r\n\r\nShould be ready for merge.\r\n",
      "created_at" : "2015-11-01T13:08:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-152824551",
      "id" : 152824551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-01T15:41:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/152824551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Anyone testing this?",
      "created_at" : "2015-11-05T11:29:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-154036077",
      "id" : 154036077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-05T11:29:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154036077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yes. Will post back shortly.\n\nOn Thursday, November 5, 2015, Wladimir J. van der Laan <\nnotifications@github.com> wrote:\n\n> Anyone testing this?\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-154036077>.\n>\n",
      "created_at" : "2015-11-05T11:32:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-154036578",
      "id" : 154036578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-05T11:32:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154036578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "I'll try this within the next couple of hours.",
      "created_at" : "2015-11-05T11:32:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-154036619",
      "id" : 154036619,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-05T11:32:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/154036619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli , @fanquake any luck?",
      "created_at" : "2015-11-10T14:10:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-155430752",
      "id" : 155430752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-10T14:10:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/155430752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Anyone? I'd like to move forward with this, don't think there is anything really holding this back anymore.",
      "created_at" : "2015-11-16T12:28:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157013192",
      "id" : 157013192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T12:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157013192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I really think this is useful.\r\nBut i can't get it running on my Debian 8 jessy machine (see below).\r\nI tried to track this down but it seem after a VirtualBox mkfs issue. Couldn't solve it after investing 1-2h.\r\n\r\n```shell\r\n$bin/make-base-vm --arch amd64 --suite trusty\r\n-------------- snip -------------------\r\n2015-11-16 13:47:09,510 INFO    : Creating file systems\r\n2015-11-16 13:47:09,666 INFO    : mke2fs 1.42.12 (29-Aug-2014)\r\n2015-11-16 13:47:09,666 INFO    : The file /dev/mapper/loop0p1 does not exist and no size was specified.\r\n2015-11-16 13:47:09,667 INFO    : Cleaning up\r\n2015-11-16 13:47:12,684 ERROR   : Process (['mkfs.ext4', '-F', '/dev/mapper/loop0p1']) returned 1. stdout: , stderr: mke2fs 1.42.12 (29-Aug-2014)\r\nThe file /dev/mapper/loop0p1 does not exist and no size was specified.\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/vmbuilder\", line 24, in <module>\r\n    cli.main()\r\n  File \"/usr/local/lib/python2.7/dist-packages/VMBuilder/contrib/cli.py\", line 228, in main\r\n```",
      "created_at" : "2015-11-16T12:49:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157017902",
      "id" : 157017902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T12:49:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157017902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Have you tried the latest Python vmbuilder? That solved that issue for me,\ncheck in the gitian guide for the updated link.\n\nI haven't had a chance to continue testing after getting that initial issue\nsolved. I can do tomorrow.\n\nOn Monday, November 16, 2015, Jonas Schnelli <notifications@github.com>\nwrote:\n\n> I really think this is useful.\n> But i can't get it running on my Debian 8 jessy machine (see below).\n> I tried to track this down but it seem after a VirtualBox mkfs issue.\n> Couldn't solve it after investing 1-2h.\n>\n> $bin/make-base-vm --arch amd64 --suite trusty\n> -------------- snip -------------------\n> 2015-11-16 13:47:09,510 INFO    : Creating file systems\n> 2015-11-16 13:47:09,666 INFO    : mke2fs 1.42.12 (29-Aug-2014)\n> 2015-11-16 13:47:09,666 INFO    : The file /dev/mapper/loop0p1 does not exist and no size was specified.\n> 2015-11-16 13:47:09,667 INFO    : Cleaning up\n> 2015-11-16 13:47:12,684 ERROR   : Process (['mkfs.ext4', '-F', '/dev/mapper/loop0p1']) returned 1. stdout: , stderr: mke2fs 1.42.12 (29-Aug-2014)\n> The file /dev/mapper/loop0p1 does not exist and no size was specified.\n>\n> Traceback (most recent call last):\n>   File \"/usr/local/bin/vmbuilder\", line 24, in <module>\n>     cli.main()\n>   File \"/usr/local/lib/python2.7/dist-packages/VMBuilder/contrib/cli.py\", line 228, in main\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157017902>.\n>\n",
      "created_at" : "2015-11-16T12:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157019839",
      "id" : 157019839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T12:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157019839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "@fanquake: Thanks! Damit. I forgot that Debian does not have the python vmbuilder tools over apt. Manually updated and it works now...\r\n\r\nTesting gitian building this PR now...",
      "created_at" : "2015-11-16T13:32:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157027676",
      "id" : 157027676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T13:32:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157027676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "On my debian 8 machine I got the following errors:\r\n\r\n#### Linux:\r\n- boost linking problems\r\n  - (check the very bottom of the linux.log: ~~https://bitcoin.jonasschnelli.ch/pulls/6900/build-linux.log~~)\r\n\r\n#### MinGW:\r\n```\r\n---snip---\r\nconfigure: error: No working boost sleep implementation found.\r\n```\r\n(check: ~~https://bitcoin.jonasschnelli.ch/pulls/6900/build-win.log~~)\r\n\r\n#### OSX:\r\nworks: ~~https://bitcoin.jonasschnelli.ch/pulls/6900/build-osx.log~~",
      "created_at" : "2015-11-16T14:46:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157055187",
      "id" : 157055187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T15:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157055187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Rebased this to master - going to retry my builds",
      "created_at" : "2015-11-16T15:41:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157072776",
      "id" : 157072776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T15:41:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157072776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Re-Kicked the builder... log-links above are invalid now.",
      "created_at" : "2015-11-16T15:43:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157073620",
      "id" : 157073620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-16T15:43:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157073620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Getting this now on the windows build, since rebase:\r\n```\r\ngcc gen_context.o -o gen_context\r\n/usr/bin/x86_64-w64-mingw32-ld: unrecognised emulation mode: elf_x86_64\r\nSupported emulations: i386pep i386pe\r\ncollect2: error: ld returned 1 exit status\r\n```\r\nThis is because of:\r\n```\r\nexport COMPILER_PATH=${WRAP_DIR}/${i}\r\n```\r\nThe workaround to set `MALLOC_PERTURB_` for linking no longer works. Our collect2 gets invoked for building a native executable too, which obviously fails.\r\n@cfields any idea how to fix this?\r\nI guess moving the `export COMPILER_PATH=xxx` to `${tuple}-g++/gcc` wrappers may work.\r\n\r\n",
      "created_at" : "2015-11-17T07:22:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157297607",
      "id" : 157297607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-17T07:22:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157297607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Pushed a new commit - all builds including windows should work now.",
      "created_at" : "2015-11-18T18:05:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6900#issuecomment-157804559",
      "id" : 157804559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6900",
      "updated_at" : "2015-11-18T18:05:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157804559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
