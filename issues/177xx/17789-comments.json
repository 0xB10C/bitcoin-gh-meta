[
   {
      "author_association" : "MEMBER",
      "body" : "Is there no way to hardcode the compiler version and then bump it together with the qt binaries? Otherwise it will be an endless cat-mouse game with appveyor/GitHub CI",
      "created_at" : "2019-12-22T19:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568296342",
      "id" : 568296342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODI5NjM0Mg==",
      "updated_at" : "2019-12-22T19:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568296342",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke how would it work with tracking the compiler version?\r\n\r\nThe Qt binaries have to be rebuilt manually so even if the CI job detects the compiler on the build image has changed the best it can do is display a better error message.\r\n\r\nAn additional complicating factor is Visual Studio is new getting updated as frequently as every two weeks. Not every update causes an ABI incompatibility. This particular issue has come about in Visual Studio 2019 16.4. The 16.1, 16.2, 16.3 and other minor version updates didn't break ABI compatibility.\r\n\r\nI don't think it's a coincidence that since \"automated\" CI became a thing DevOps roles have also taken off. The latter to look after the former. We're in the same boat. Over time I'd expect the \"automated\" CI's will start adding features like detecting vcpkg and other dependencies being out of date and automatically reinstalling.\r\n",
      "created_at" : "2019-12-22T19:41:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568297343",
      "id" : 568297343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODI5NzM0Mw==",
      "updated_at" : "2019-12-22T19:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568297343",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Testing... Step \"Update vcpkg and install packages\" took 23 minutes.",
      "created_at" : "2019-12-22T20:07:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568299042",
      "id" : 568299042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODI5OTA0Mg==",
      "updated_at" : "2019-12-22T20:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568299042",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto that's right. To resolve the libzmq ABI error the safest thing to do is to reinstall all the vcpkg packages. If the job is successful the vcpkg install directory will be cached and the step will be skipped on subsequent builds.",
      "created_at" : "2019-12-22T20:14:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568299548",
      "id" : 568299548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODI5OTU0OA==",
      "updated_at" : "2019-12-22T20:14:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568299548",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipsorcery \r\nThe excerpt from the log of the \"Build\" step:\r\n```\r\nComponent too big for incremental LTCG with 32-bit toolset, build without incremental LTCG; Consider switching to 64-bit toolset.\r\n```\r\n\r\nIt is weird, isn't it?",
      "created_at" : "2019-12-22T20:22:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568300116",
      "id" : 568300116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODMwMDExNg==",
      "updated_at" : "2019-12-22T20:22:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568300116",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That warning has always been there. I've never worried about it. I guess it's because the GitHub and Appveyor vm's load a 32 bit msvc build environment. It doesn't affect the code generation since the build job set the target architecture as 64 bit. \r\n\r\nSeems there's an easy [fix](https://stackoverflow.com/questions/46327138/configure-visual-c-project-to-use-the-64-bit-tool-set-when-building-32-bit-exe). I'll test it out. ",
      "created_at" : "2019-12-22T20:31:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568300733",
      "id" : 568300733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODMwMDczMw==",
      "updated_at" : "2019-12-22T20:31:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568300733",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipsorcery \r\n> If the job is successful the vcpkg install directory will be cached and the step will be skipped on subsequent builds.\r\n\r\nThe first [job](https://github.com/hebasto/bitcoin/runs/360209430) is successful.\r\nBut it seems the vcpkg install step is not skipped on subsequent [builds](https://github.com/hebasto/bitcoin/runs/360240959).\r\n\r\nSomething wrong with cache?\r\n\r\nUPDATE\r\nThe excerpt from the log of \"Post actions/cache@v1\" step:\r\n```\r\nPost job cleanup.\r\n\"C:\\Program Files\\Git\\usr\\bin\\tar.exe\" -cz --force-local -f d:/a/_temp/5482216c-afb5-4ca3-92d5-879e4115cda0/cache.tgz -C C:/jobversion/$JOB_VERSION .\r\n/usr/bin/tar: C\\:/jobversion/$JOB_VERSION: Cannot open: No such file or directory\r\n/usr/bin/tar: Error is not recoverable: exiting now\r\n[warning]The process 'C:\\Program Files\\Git\\usr\\bin\\tar.exe' failed with exit code 2\r\n```\r\n",
      "created_at" : "2019-12-22T20:48:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17789#issuecomment-568301746",
      "id" : 568301746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17789",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODMwMTc0Ng==",
      "updated_at" : "2019-12-22T20:49:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568301746",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
