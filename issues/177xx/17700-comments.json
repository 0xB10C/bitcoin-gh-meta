[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, seems useful for testing\r\n(vaguely related to #17314 as for improving -cli user experience)",
      "created_at" : "2019-12-09T09:35:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#issuecomment-563145794",
      "id" : 563145794,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17700",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzE0NTc5NA==",
      "updated_at" : "2019-12-09T11:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563145794",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Mind adding some test to test/functional/interface_bitcoin_cli.py?",
      "created_at" : "2019-12-09T11:25:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#issuecomment-563192839",
      "id" : 563192839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17700",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzE5MjgzOQ==",
      "updated_at" : "2019-12-09T11:25:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563192839",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Mind adding some test to test/functional/interface_bitcoin_cli.py?\r\n\r\nYes, I spoke about it in the [original posting](https://github.com/bitcoin/bitcoin/issues/16000#issuecomment-557810257), but I am not sure how to do it the correct way. \r\n\r\nBut I'll look into it.",
      "created_at" : "2019-12-09T11:28:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#issuecomment-563193852",
      "id" : 563193852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17700",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzE5Mzg1Mg==",
      "updated_at" : "2019-12-09T11:28:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563193852",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@brakmic something like call `bitcoin-cli -generate ...` and check the response format and maybe also check the new tip against `getblockchaininfo`.",
      "created_at" : "2019-12-09T11:31:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#issuecomment-563194903",
      "id" : 563194903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17700",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzE5NDkwMw==",
      "updated_at" : "2019-12-09T11:31:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563194903",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355454614"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355454614"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is is needed to extend them with the defaults?",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T13:42:32Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355454614",
      "id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ1NDYxNA==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328925828,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355454614",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355457357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355457357"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In generatetoaddress the first and third param are **nblocks** and **maxtries**.  This is to make sure that all three args are there. But if there is a better way to handle it, please, give me a hint.",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T13:47:55Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355457357",
      "id" : 355457357,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ1NzM1Nw==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328929354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355457357",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355459349"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355459349"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If the user does not give a value, you can just pass nothing along as well (or null). The server then checks this and fills in the current default: https://github.com/bitcoin/bitcoin/blob/a739d207a39fc34c2e5adf4e14bfbb3a6288ede1/src/rpc/mining.cpp#L209",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T13:52:06Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355459349",
      "id" : 355459349,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ1OTM0OQ==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328931996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355459349",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355460219"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355460219"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "But I need it to construct the \"fake\" RPC call, because I also have to generate an address first. Then I go to create blocks. So I have to \"save\" all those params and their positions, so I can find them again.",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T13:53:43Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355460219",
      "id" : 355460219,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2MDIxOQ==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328933029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355460219",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @brakmic something like call `bitcoin-cli -generate ...` and check the response format and maybe also check the new tip against `getblockchaininfo`.\r\n\r\nI've added tests in test/functional/rpc_generate.py\r\nHowever, I am not sure if it should be prefixed with \"rpc\", because under the hood it uses CLI to mimic the old generate API. So maybe it should rather be called \"cli_generate\" or something along the line.\r\n\r\nThe current test checks for:\r\n\r\n* block generation (default, with or without args *nblocks* & *maxtries*)\r\n* errors (when args invalid)",
      "created_at" : "2019-12-09T13:57:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#issuecomment-563249928",
      "id" : 563249928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17700",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzI0OTkyOA==",
      "updated_at" : "2019-12-09T14:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563249928",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355466308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355466308"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "But of course, I could simply put a NULL there, no problem. Let me check it how it'll behave. :)",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T14:04:43Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355466308",
      "id" : 355466308,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2NjMwOA==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328940293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355466308",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355467767"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355467767"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hm, I'm now getting errors. No matter if I enter any args or none at all. Not sure if I should redo the logic? Is it really important that it **doesn't use** any default args?",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T14:07:45Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355467767",
      "id" : 355467767,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ2Nzc2Nw==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328942258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355467767",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355477600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355477600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So I tried this diff:\r\n\r\n```diff\r\ndiff --git a/src/bitcoin-cli.cpp b/src/bitcoin-cli.cpp\r\nindex ef05c910d4..2fff98c05c 100644\r\n--- a/src/bitcoin-cli.cpp\r\n+++ b/src/bitcoin-cli.cpp\r\n@@ -535,11 +535,11 @@ static int CommandLineRPC(int argc, char *argv[])\r\n                 if (args.size() == 0) {\r\n                     args.push_back(std::to_string(DEFAULT_GENERATED_NBLOCKS));\r\n                     args.push_back(std::move(address));\r\n-                    args.push_back(std::to_string(DEFAULT_GENERATED_MAXTRIES));\r\n                 }\r\n                 if (args.size() < 2) {\r\n                     args.push_back(std::move(address));\r\n-                    args.push_back(std::to_string(DEFAULT_GENERATED_MAXTRIES));\r\n                 }\r\n                 if (args.size() == 2) {\r\n                     const std::string nblocks = args[0];\r\n```\r\n\r\nAnd I get\r\n\r\n```\r\n$ ./src/bitcoin-cli -generate 1 \r\nerror: Error parsing JSON:bcrt1qyqfgcaddym58h6py4rrsz4g428gl5tmw84rt36\r\n```\r\n\r\nNot sure why that is. I might take another look later.",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T14:26:29Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355477600",
      "id" : 355477600,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ3NzYwMA==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328955251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355477600",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355479456"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355479456"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is surely because of the \"ephemeral\" calls in between. First, the address gets generated, then its JSON result flows into the second call, generatetoaddress. I am manipulating the args vector, which is being (re)used by the two APIs.",
      "commit_id" : "ed7f66638f08387ae3e9fc99cf8067bddd8ab7b2",
      "created_at" : "2019-12-09T14:29:51Z",
      "diff_hunk" : "@@ -474,6 +515,48 @@ static int CommandLineRPC(int argc, char *argv[])\n         if (gArgs.GetBoolArg(\"-getinfo\", false)) {\n             rh.reset(new GetinfoRequestHandler());\n             method = \"\";\n+        } else if (gArgs.GetBoolArg(\"-generate\", false)) {\n+            //-generate is special as it executes two RPC calls:\n+            // 1) \"getnewaddress\" without any parameters, which returns a bech32 address\n+            // 2) \"generatetoaddress\" with three params: numblocks, address and maxtries\n+            // If no args are given the args-vector will be extended with DEFAULT_GENERATED_NBLOCKS\n+            // and DEFAULT_GENERATED_MAXTRIES.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17700#discussion_r355479456",
      "id" : 355479456,
      "in_reply_to_id" : 355454614,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTQ3OTQ1Ng==",
      "original_commit_id" : "cf6a9d86b5d2fd7cb0083f28fcfdfa04130b27f2",
      "original_position" : 71,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 71,
      "pull_request_review_id" : 328957703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17700",
      "updated_at" : "2019-12-09T14:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355479456",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   }
]
