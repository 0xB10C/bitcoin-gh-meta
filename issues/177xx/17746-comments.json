[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17746#discussion_r357929476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17746"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357929476"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This might be more explicit and has a simpler `push_backV`\r\n```diff\r\n+ const std::vector<UniValue, std::allocator<UniValue> >::const_reverse_iterator txs_end = txs.rend() - nFrom;\r\n  UniValue result{UniValue::VARR};\r\n- result.push_backV({ txs.rend() - nFrom - nCount, txs.rend() - nFrom });\r\n+ result.push_backV({txs_end - nCount, txs_end});\r\n```",
      "commit_id" : "1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "created_at" : "2019-12-14T17:40:48Z",
      "diff_hunk" : "@@ -1491,23 +1491,10 @@ UniValue listtransactions(const JSONRPCRequest& request)\n     if ((nFrom + nCount) > (int)ret.size())\n         nCount = ret.size() - nFrom;\n \n-    std::vector<UniValue> arrTmp = ret.getValues();\n-\n-    std::vector<UniValue>::iterator first = arrTmp.begin();\n-    std::advance(first, nFrom);\n-    std::vector<UniValue>::iterator last = arrTmp.begin();\n-    std::advance(last, nFrom+nCount);\n-\n-    if (last != arrTmp.end()) arrTmp.erase(last, arrTmp.end());\n-    if (first != arrTmp.begin()) arrTmp.erase(arrTmp.begin(), first);\n-\n-    std::reverse(arrTmp.begin(), arrTmp.end()); // Return oldest to newest\n-\n-    ret.clear();\n-    ret.setArray();\n-    ret.push_backV(arrTmp);\n-\n-    return ret;\n+    const std::vector<UniValue>& txs = ret.getValues();\n+    UniValue result{UniValue::VARR};\n+    result.push_backV({ txs.rend() - nFrom - nCount, txs.rend() - nFrom });",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#discussion_r357929476",
      "id" : 357929476,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzkyOTQ3Ng==",
      "original_commit_id" : "1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "original_position" : 23,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 23,
      "pull_request_review_id" : 332224162,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17746",
      "updated_at" : "2019-12-15T08:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357929476",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "ACK 1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "created_at" : "2019-12-15T08:17:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#issuecomment-565787613",
      "id" : 565787613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTc4NzYxMw==",
      "updated_at" : "2019-12-15T08:17:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565787613",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1986950?v=4",
         "events_url" : "https://api.github.com/users/paymog/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paymog/followers",
         "following_url" : "https://api.github.com/users/paymog/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paymog/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paymog",
         "id" : 1986950,
         "login" : "paymog",
         "node_id" : "MDQ6VXNlcjE5ODY5NTA=",
         "organizations_url" : "https://api.github.com/users/paymog/orgs",
         "received_events_url" : "https://api.github.com/users/paymog/received_events",
         "repos_url" : "https://api.github.com/users/paymog/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paymog/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paymog/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paymog"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17746#discussion_r359401525"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17746"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/359401525"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'll leave the suggestion open for others to weight in.",
      "commit_id" : "1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "created_at" : "2019-12-18T15:17:48Z",
      "diff_hunk" : "@@ -1491,23 +1491,10 @@ UniValue listtransactions(const JSONRPCRequest& request)\n     if ((nFrom + nCount) > (int)ret.size())\n         nCount = ret.size() - nFrom;\n \n-    std::vector<UniValue> arrTmp = ret.getValues();\n-\n-    std::vector<UniValue>::iterator first = arrTmp.begin();\n-    std::advance(first, nFrom);\n-    std::vector<UniValue>::iterator last = arrTmp.begin();\n-    std::advance(last, nFrom+nCount);\n-\n-    if (last != arrTmp.end()) arrTmp.erase(last, arrTmp.end());\n-    if (first != arrTmp.begin()) arrTmp.erase(arrTmp.begin(), first);\n-\n-    std::reverse(arrTmp.begin(), arrTmp.end()); // Return oldest to newest\n-\n-    ret.clear();\n-    ret.setArray();\n-    ret.push_backV(arrTmp);\n-\n-    return ret;\n+    const std::vector<UniValue>& txs = ret.getValues();\n+    UniValue result{UniValue::VARR};\n+    result.push_backV({ txs.rend() - nFrom - nCount, txs.rend() - nFrom });",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#discussion_r359401525",
      "id" : 359401525,
      "in_reply_to_id" : 357929476,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1OTQwMTUyNQ==",
      "original_commit_id" : "1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "original_position" : 23,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 23,
      "pull_request_review_id" : 334045238,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17746",
      "updated_at" : "2019-12-18T15:22:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/359401525",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kristapsk thanks! Have you benchmarked with skip=32k?",
      "created_at" : "2019-12-18T19:25:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#issuecomment-567174855",
      "id" : 567174855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NzE3NDg1NQ==",
      "updated_at" : "2019-12-18T19:25:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/567174855",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, good to simplify this code, but does need careful review that it still does the same under all circumstances",
      "created_at" : "2019-12-19T12:49:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#issuecomment-567476433",
      "id" : 567476433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NzQ3NjQzMw==",
      "updated_at" : "2019-12-19T12:49:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/567476433",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept ACK, good to simplify this code, but does need careful review that it still does the same under all circumstances\r\n\r\nAgree, and listtransactions test coverage can be improved. I added some missing tests for it last week, will open after my current PR adding tests (#17535) is merged to not have too many open PRs.",
      "created_at" : "2019-12-19T18:53:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#issuecomment-567616525",
      "id" : 567616525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NzYxNjUyNQ==",
      "updated_at" : "2019-12-19T18:53:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/567616525",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 1f448777b76dfddf0e243f9bbf5dd08fea34f386",
      "created_at" : "2019-12-22T23:45:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17746#issuecomment-568313397",
      "id" : 568313397,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17746",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2ODMxMzM5Nw==",
      "updated_at" : "2019-12-22T23:45:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/568313397",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
