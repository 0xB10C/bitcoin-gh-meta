[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17727#discussion_r356871121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356871121"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Wtsapi32.lib\r\n\r\nWhy is this needed? A quick search suggests it is the library for the `Remote Desktop Services API`.",
      "commit_id" : "21f0f2fd69a27087c592c8e02ef28663e3c8efcc",
      "created_at" : "2019-12-11T22:32:18Z",
      "diff_hunk" : "@@ -107,15 +107,15 @@\n       <WarningLevel>Level3</WarningLevel>\n       <PrecompiledHeader>NotUsing</PrecompiledHeader>\n       <AdditionalOptions>/utf-8 %(AdditionalOptions)</AdditionalOptions>\n-      <DisableSpecificWarnings>4018;4221;4244;4267;4334;4715;4805;</DisableSpecificWarnings>\n+      <DisableSpecificWarnings>4018;4221;4244;4267;4334;4715;4805;4834</DisableSpecificWarnings>\n       <TreatWarningAsError>true</TreatWarningAsError>\n       <PreprocessorDefinitions>ZMQ_STATIC;NOMINMAX;WIN32;HAVE_CONFIG_H;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;_CONSOLE;_WIN32_WINNT=0x0601;%(PreprocessorDefinitions)</PreprocessorDefinitions>\n       <AdditionalIncludeDirectories>..\\..\\src;..\\..\\src\\univalue\\include;..\\..\\src\\secp256k1\\include;..\\..\\src\\leveldb\\include;..\\..\\src\\leveldb\\helpers\\memenv;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>\n     </ClCompile>\n     <Link>\n       <SubSystem>Console</SubSystem>\n       <GenerateDebugInformation>true</GenerateDebugInformation>\n-      <AdditionalDependencies>crypt32.lib;Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>\n+      <AdditionalDependencies>Wtsapi32.lib;crypt32.lib;Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17727#discussion_r356871121",
      "id" : 356871121,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Njg3MTEyMQ==",
      "original_commit_id" : "b2a6bb2ed81f11645a9c9cb300f53d38f40e0b8c",
      "original_position" : 14,
      "path" : "build_msvc/common.init.vcxproj",
      "position" : 14,
      "pull_request_review_id" : 330888462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17727",
      "updated_at" : "2019-12-11T22:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356871121",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17727#discussion_r356874151"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17727"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356874151"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Qt5.12.6 wanted it. That did raise an orange flag for me as well. Some quick research suggested it's to allow Qt apps to be served across remote terminal connections rather than any kind of hosting ability.",
      "commit_id" : "21f0f2fd69a27087c592c8e02ef28663e3c8efcc",
      "created_at" : "2019-12-11T22:39:58Z",
      "diff_hunk" : "@@ -107,15 +107,15 @@\n       <WarningLevel>Level3</WarningLevel>\n       <PrecompiledHeader>NotUsing</PrecompiledHeader>\n       <AdditionalOptions>/utf-8 %(AdditionalOptions)</AdditionalOptions>\n-      <DisableSpecificWarnings>4018;4221;4244;4267;4334;4715;4805;</DisableSpecificWarnings>\n+      <DisableSpecificWarnings>4018;4221;4244;4267;4334;4715;4805;4834</DisableSpecificWarnings>\n       <TreatWarningAsError>true</TreatWarningAsError>\n       <PreprocessorDefinitions>ZMQ_STATIC;NOMINMAX;WIN32;HAVE_CONFIG_H;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;_CONSOLE;_WIN32_WINNT=0x0601;%(PreprocessorDefinitions)</PreprocessorDefinitions>\n       <AdditionalIncludeDirectories>..\\..\\src;..\\..\\src\\univalue\\include;..\\..\\src\\secp256k1\\include;..\\..\\src\\leveldb\\include;..\\..\\src\\leveldb\\helpers\\memenv;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>\n     </ClCompile>\n     <Link>\n       <SubSystem>Console</SubSystem>\n       <GenerateDebugInformation>true</GenerateDebugInformation>\n-      <AdditionalDependencies>crypt32.lib;Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>\n+      <AdditionalDependencies>Wtsapi32.lib;crypt32.lib;Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17727#discussion_r356874151",
      "id" : 356874151,
      "in_reply_to_id" : 356871121,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1Njg3NDE1MQ==",
      "original_commit_id" : "b2a6bb2ed81f11645a9c9cb300f53d38f40e0b8c",
      "original_position" : 14,
      "path" : "build_msvc/common.init.vcxproj",
      "position" : 14,
      "pull_request_review_id" : 330891998,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17727",
      "updated_at" : "2019-12-11T22:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356874151",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "When the `Wstapi32.lib` is not referenced the linker error is:\r\n\r\n````\r\n\"c:\\Dev\\github\\sipsorcery_bitcoin\\build_msvc\\bitcoin.sln\" (build target) (1) ->\r\n\"c:\\Dev\\github\\sipsorcery_bitcoin\\build_msvc\\bitcoin-qt\\bitcoin-qt.vcxproj\" (default target) (23) ->\r\n(Link target) ->\r\n qwindows.lib(qwindowscontext.obj) : error LNK2001: unresolved external symbol WTSQuerySessionInformationW [c:\\\r\nDev\\github\\sipsorcery_bitcoin\\build_msvc\\bitcoin-qt\\bitcoin-qt.vcxproj]\r\n qwindows.lib(qwindowscontext.obj) : error LNK2001: unresolved external symbol WTSFreeMemory [c:\\Dev\\github\\sip\r\nsorcery_bitcoin\\build_msvc\\bitcoin-qt\\bitcoin-qt.vcxproj]\r\n c:\\Dev\\github\\sipsorcery_bitcoin\\build_msvc\\x64\\Release\\bitcoin-qt.exe : fatal error LNK1120: 2 unresolved ext\r\nernals [c:\\Dev\\github\\sipsorcery_bitcoin\\build_msvc\\bitcoin-qt\\bitcoin-qt.vcxproj]\r\n````\r\n\r\nThe two Remote Desktop functions being used are [WTSQuerySessionInformationW](https://docs.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtsquerysessioninformationw) and [WTSFreeMemory](https://docs.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtsfreememory).\r\n\r\nA query and free memory call so no obvious capabilities to start a remote session or such.\r\n\r\nI am working on a new build of Qt incorporating #17730 to see if the need for `Wstapi32.lib` can be eliminated. My gut feel is it can't since it's being called from the Qt `qwindows.lib` and based on Qt's `configure -list-features` and `configure -list-libraries` there are no obvious options related to it.\r\n\r\n",
      "created_at" : "2019-12-12T11:53:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17727#issuecomment-564976034",
      "id" : 564976034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17727",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NDk3NjAzNA==",
      "updated_at" : "2019-12-12T11:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564976034",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   }
]
