[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17738](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17738.html) (build: remove linking librt for backwards compatibility by fanquake)\n* [#17213](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17213.html) (gui: Add Windows taskbar progress by luke-jr)\n* [#16895](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16895.html) (External signer multisig support by Sjors)\n* [#16549](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16549.html) ([WIP] UI external signer support (e.g. hardware wallet) by Sjors)\n* [#16546](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16546.html) ([WIP] External signer support - Wallet Box edition by Sjors)\n* [#15382](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15382.html) (util: add runCommandParseJSON by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-12-13T03:20:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565284010",
      "id" : 565284010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTI4NDAxMA==",
      "updated_at" : "2019-12-13T14:51:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565284010",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1778e206c33a814c8c07d998196159b362263f16.\r\n\r\nNote the appveyor build failed on the python functional tests which is nothing to do with this PR.",
      "created_at" : "2019-12-13T09:45:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565374239",
      "id" : 565374239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTM3NDIzOQ==",
      "updated_at" : "2019-12-13T09:45:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565374239",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm not 100% sure about crypt32, even though the majority of our Windows cryptography usage, i.e CryptAcquireContextW or CryptGenRandom is provided by advapi32.\r\n\r\nAs for `crypt32`: we don't use any kind of weak linking of symbols, I'd say if it links, it's safe.\r\n\r\nThe only one that slightly scares me (that it can be dropped, not the change itself) is `mingwthrd` because in the deep past there have been issues with mingw not using the right threading runtime. ~~But *I suspect* this is simply because we require using the `-posix` variant of the tool chain (because of using C++11 threads, instead of using win32 threads directly), so the library is bypassed.~~",
      "created_at" : "2019-12-13T10:04:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565380571",
      "id" : 565380571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTM4MDU3MQ==",
      "updated_at" : "2019-12-13T10:09:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565380571",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~Hmm this has some information about the hack that `mingwthrd` does: https://gcc.gnu.org/ml/java/2006-07/msg00003.html~~\r\n~~it contains two functions which perform setup and cleanup based on loading/unloading notifications, so the symbols are not used directly.~~\r\n~~I'm not sure about this one! It might not be something that's ever required to explicitly link against, but it feels risky somehow.~~\r\n\r\nOh, I missed the \"none of these libs actually seem to be passed to the linker\"âok in that case, I don't see why it's checking for the library\r\n\r\nSo this is safe. These checks don't *cause* linkage. They just check whether the library exists. I suppose the explicit check for `mingwthrd` was added at some point to be sure a thread-supporting mingw is used. Maybe @theuni still knows.",
      "created_at" : "2019-12-13T10:08:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565382003",
      "id" : 565382003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTM4MjAwMw==",
      "updated_at" : "2019-12-13T11:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565382003",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added some additional changes for the  MSVC build system. ",
      "created_at" : "2019-12-13T13:38:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565443903",
      "id" : 565443903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTQ0MzkwMw==",
      "updated_at" : "2019-12-13T13:38:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565443903",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "fgep'ing for the defines below does not get any results for the `src` directory. As far as the msvc build goes if the define is not used in the code it's not used at all. They can be removed along with the ones already taken out. \r\n\r\nIt does actually seem a bit strange for any defines not to be used in the code no matter what the build system. I'd be surprised if the mingw makefile parses `bitcoin_config.h` to set it's linker command.\r\n\r\n````\r\n/* Define to 1 if you have the `advapi32' library (-ladvapi32). */\r\n#define HAVE_LIBADVAPI32 1\r\n\r\n/* Define to 1 if you have the `comctl32' library (-lcomctl32). */\r\n#define HAVE_LIBCOMCTL32 1\r\n\r\n/* Define to 1 if you have the `comdlg32' library (-lcomdlg32). */\r\n#define HAVE_LIBCOMDLG32 1\r\n\r\n/* Define to 1 if you have the `crypt32' library (-lcrypt32). */\r\n#define HAVE_LIBCRYPT32 1\r\n\r\n/* Define to 1 if you have the `gdi32' library (-lgdi32). */\r\n#define HAVE_LIBGDI32 1\r\n\r\n/* Define to 1 if you have the `imm32' library (-limm32). */\r\n#define HAVE_LIBIMM32 1\r\n\r\n/* Define to 1 if you have the `iphlpapi' library (-liphlpapi). */\r\n#define HAVE_LIBIPHLPAPI 1\r\n\r\n/* Define to 1 if you have the `kernel32' library (-lkernel32). */\r\n#define HAVE_LIBKERNEL32 1\r\n\r\n/* Define to 1 if you have the `mingwthrd' library (-lmingwthrd). */\r\n#define HAVE_LIBMINGWTHRD 1\r\n\r\n/* Define to 1 if you have the `mswsock' library (-lmswsock). */\r\n#define HAVE_LIBMSWSOCK 1\r\n\r\n/* Define to 1 if you have the `ole32' library (-lole32). */\r\n#define HAVE_LIBOLE32 1\r\n\r\n/* Define to 1 if you have the `oleaut32' library (-loleaut32). */\r\n#define HAVE_LIBOLEAUT32 1\r\n\r\n/* Define to 1 if you have the `rpcrt4' library (-lrpcrt4). */\r\n#define HAVE_LIBRPCRT4 1\r\n\r\n/* Define to 1 if you have the `rt' library (-lrt). */\r\n/* #undef HAVE_LIBRT */\r\n\r\n/* Define to 1 if you have the `shell32' library (-lshell32). */\r\n#define HAVE_LIBSHELL32 1\r\n\r\n/* Define to 1 if you have the `shlwapi' library (-lshlwapi). */\r\n#define HAVE_LIBSHLWAPI 1\r\n\r\n/* Define to 1 if you have the `ssp' library (-lssp). */\r\n#define HAVE_LIBSSP 1\r\n\r\n/* Define to 1 if you have the `user32' library (-luser32). */\r\n#define HAVE_LIBUSER32 1\r\n\r\n/* Define to 1 if you have the `uuid' library (-luuid). */\r\n#define HAVE_LIBUUID 1\r\n\r\n/* Define to 1 if you have the `winmm' library (-lwinmm). */\r\n#define HAVE_LIBWINMM 1\r\n\r\n/* Define to 1 if you have the `winspool' library (-lwinspool). */\r\n#define HAVE_LIBWINSPOOL 1\r\n\r\n/* Define to 1 if you have the `ws2_32' library (-lws2_32). */\r\n#define HAVE_LIBWS2_32 1\r\n\r\n/* Define to 1 if you have the `z ' library (-lz ). */\r\n#define HAVE_LIBZ_ 1\r\n````",
      "created_at" : "2019-12-13T13:54:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565448942",
      "id" : 565448942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTQ0ODk0Mg==",
      "updated_at" : "2019-12-13T13:54:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565448942",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17740#discussion_r357655446"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17740"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357655446"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can confirm removing those two libraries doesn't break the build.",
      "commit_id" : "fd33d90b3f9eef302a248d62c4363628a736fcca",
      "created_at" : "2019-12-13T13:56:11Z",
      "diff_hunk" : "@@ -115,7 +115,7 @@\n     <Link>\n       <SubSystem>Console</SubSystem>\n       <GenerateDebugInformation>true</GenerateDebugInformation>\n-      <AdditionalDependencies>crypt32.lib;Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>\n+      <AdditionalDependencies>Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#discussion_r357655446",
      "id" : 357655446,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NzY1NTQ0Ng==",
      "original_commit_id" : "fd33d90b3f9eef302a248d62c4363628a736fcca",
      "original_position" : 5,
      "path" : "build_msvc/common.init.vcxproj",
      "position" : 5,
      "pull_request_review_id" : 331882904,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17740",
      "updated_at" : "2019-12-13T13:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/357655446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Discussed with @theuni. Going to add specific symbols to each of the `AC_CHECK_LIB` calls in place of `main`.",
      "created_at" : "2019-12-13T16:55:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17740#issuecomment-565518122",
      "id" : 565518122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17740",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTUxODEyMg==",
      "updated_at" : "2019-12-13T16:55:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565518122",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
