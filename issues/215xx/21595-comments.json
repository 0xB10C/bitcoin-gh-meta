[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21158 (lib: Add Taproot support to libconsensus by jrawsthorne)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-04-04T17:05:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813066028",
      "id" : 813066028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzA2NjAyOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T17:05:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813066028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK: nice! :)",
      "created_at" : "2021-04-04T21:29:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813102291",
      "id" : 813102291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzEwMjI5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T21:29:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813102291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "P",
      "created_at" : "2021-04-04T22:32:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813109274",
      "id" : 813109274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzEwOTI3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-04T22:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813109274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/79517432?v=4",
         "events_url" : "https://api.github.com/users/szeli57/events{/privacy}",
         "followers_url" : "https://api.github.com/users/szeli57/followers",
         "following_url" : "https://api.github.com/users/szeli57/following{/other_user}",
         "gists_url" : "https://api.github.com/users/szeli57/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/szeli57",
         "id" : 79517432,
         "login" : "szeli57",
         "node_id" : "MDQ6VXNlcjc5NTE3NDMy",
         "organizations_url" : "https://api.github.com/users/szeli57/orgs",
         "received_events_url" : "https://api.github.com/users/szeli57/received_events",
         "repos_url" : "https://api.github.com/users/szeli57/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/szeli57/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/szeli57/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/szeli57"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks!\r\n\r\n> Question: Why make this a CLI command and not an RPC command? Seems useful as an RPC command.\r\n\r\nIt could, or a third path could be to add a boolean `totals` arg to the `getnodeaddresses` RPC to toggle a \"totals mode\" (that said, it might be a bit obscure/hard to discover).\r\n\r\nGenerally, CLI commands batch or wrap one or multiple RPC commands and are easier to change and improve without worrying about API stability. For example, this might evolve to returning other address info or statistics. In this case where only one RPC is wrapped, instead of batching multiple RPCs like `-getinfo`, `-netinfo` and `-generate` do, I don't have a strong opinion on the RPC vs CLI question.",
      "created_at" : "2021-04-05T11:10:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813342416",
      "id" : 813342416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzM0MjQxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T11:10:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813342416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure, but it's maybe more flexible to start life as a CLI and then become an RPC if there's a good reason, than vice-versa.",
      "created_at" : "2021-04-05T11:13:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813343583",
      "id" : 813343583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzM0MzU4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T11:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813343583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\n> Question: Why make this a CLI command and not an RPC command? Seems useful as an RPC command.\r\n\r\nMinimalism. I think it's a good choice to put functionality in the client that can be done client-side. Adding things server-side adds maintenance burden, means having to commit to a certain (machine parseable) interface, etc. And this is clearly functionality aimed at end users. Also agree with\r\n\r\n> Not sure, but it's maybe more flexible to start life as a CLI and then become an RPC if there's a good reason, than vice-versa.\r\n\r\nRight, it doesn't rule out making it a server-side RPC either. This is just the path of least resistance.",
      "created_at" : "2021-04-05T12:25:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813367693",
      "id" : 813367693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzM2NzY5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T12:26:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813367693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "An argument I could see for an RPC would be potentially better performance by avoiding a copy of a large object and by parsing Network enums rather than strings. Doesn't seem critical for occasional use though.",
      "created_at" : "2021-04-05T12:46:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813374999",
      "id" : 813374999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzM3NDk5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T12:46:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813374999",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj @jonatack Thanks for answering my question. Maybe this information, when a command should be a CLI or RPC command, should be added to the [developer-notes](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#rpc-interface-guidelines). ",
      "created_at" : "2021-04-05T17:37:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#issuecomment-813526176",
      "id" : 813526176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzUyNjE3Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-05T17:38:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813526176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23396902?v=4",
         "events_url" : "https://api.github.com/users/jarolrod/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jarolrod/followers",
         "following_url" : "https://api.github.com/users/jarolrod/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jarolrod/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jarolrod",
         "id" : 23396902,
         "login" : "jarolrod",
         "node_id" : "MDQ6VXNlcjIzMzk2OTAy",
         "organizations_url" : "https://api.github.com/users/jarolrod/orgs",
         "received_events_url" : "https://api.github.com/users/jarolrod/received_events",
         "repos_url" : "https://api.github.com/users/jarolrod/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jarolrod/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jarolrod"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608439638"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608439638"
         }
      },
      "author_association" : "MEMBER",
      "body" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15\r\n\r\nIMO avoid spaces in keys.",
      "commit_id" : "5f1ffbfa3fccb145a6724ef33f8de92d6b652a31",
      "created_at" : "2021-04-07T08:17:26Z",
      "diff_hunk" : "@@ -569,6 +569,56 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"> bitcoin-cli -netinfo help\\n\"};\n };\n \n+/** Process addressinfo requests */\n+class AddressinfoRequestHandler : public BaseRequestHandler\n+{\n+private:\n+    static constexpr uint8_t m_networks_size{5};\n+    const std::array<std::string, m_networks_size> m_networks{{\"ipv4\", \"ipv6\", \"torv2\", \"torv3\", \"i2p\"}};\n+    std::array<uint64_t, m_networks_size> m_counts{{}}; // Address counts by network\n+    uint64_t m_total{0}; // Total address count\n+    int8_t NetworkStringToId(const std::string& str) const\n+    {\n+        for (uint8_t i = 0; i < m_networks_size; ++i) {\n+            if (str == m_networks.at(i)) return i;\n+        }\n+        return UNKNOWN_NETWORK;\n+    }\n+\n+public:\n+    UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n+    {\n+        if (!args.empty()) {\n+            throw std::runtime_error(\"-addressinfo takes no arguments\");\n+        }\n+        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n+        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+    }\n+\n+    UniValue ProcessReply(const UniValue& reply) override\n+    {\n+        // Count the number of peers we know, by network.\n+        for (const UniValue& node : reply[\"result\"].getValues()) {\n+            std::string network_name{node[\"network\"].get_str()};\n+            if (network_name == \"onion\") {\n+                network_name = node[\"address\"].get_str().size() > 22 ? \"torv3\" : \"torv2\";\n+            }\n+            const int8_t network_id{NetworkStringToId(network_name)};\n+            if (network_id == UNKNOWN_NETWORK) continue;\n+            ++m_counts.at(network_id);\n+        }\n+        // Prepare result to return to user.\n+        UniValue result{UniValue::VOBJ}, addresses{UniValue::VOBJ};\n+        for (uint8_t i = 0; i < m_networks_size; ++i) {\n+            addresses.pushKV(m_networks.at(i), m_counts.at(i));\n+            m_total += m_counts.at(i);\n+        }\n+        addresses.pushKV(\"total\", m_total);\n+        result.pushKV(\"addresses known\", addresses);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608439638",
      "id" : 608439638,
      "line" : 618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODQzOTYzOA==",
      "original_commit_id" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15",
      "original_line" : 617,
      "original_position" : 65,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 73,
      "pull_request_review_id" : 629719990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-07T08:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608439638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608442632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608442632"
         }
      },
      "author_association" : "MEMBER",
      "body" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15\r\n\r\nNo need to have `m_networks` and `m_total` as members.",
      "commit_id" : "5f1ffbfa3fccb145a6724ef33f8de92d6b652a31",
      "created_at" : "2021-04-07T08:21:28Z",
      "diff_hunk" : "@@ -569,6 +569,56 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"> bitcoin-cli -netinfo help\\n\"};\n };\n \n+/** Process addressinfo requests */\n+class AddressinfoRequestHandler : public BaseRequestHandler\n+{\n+private:\n+    static constexpr uint8_t m_networks_size{5};\n+    const std::array<std::string, m_networks_size> m_networks{{\"ipv4\", \"ipv6\", \"torv2\", \"torv3\", \"i2p\"}};\n+    std::array<uint64_t, m_networks_size> m_counts{{}}; // Address counts by network\n+    uint64_t m_total{0}; // Total address count",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608442632",
      "id" : 608442632,
      "line" : 580,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODQ0MjYzMg==",
      "original_commit_id" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15",
      "original_line" : 579,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 35,
      "pull_request_review_id" : 629719990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-07T08:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608442632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608443683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608443683"
         }
      },
      "author_association" : "MEMBER",
      "body" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15\r\n\r\nDrop, and use `m_networks` size?",
      "commit_id" : "5f1ffbfa3fccb145a6724ef33f8de92d6b652a31",
      "created_at" : "2021-04-07T08:22:53Z",
      "diff_hunk" : "@@ -569,6 +569,56 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"> bitcoin-cli -netinfo help\\n\"};\n };\n \n+/** Process addressinfo requests */\n+class AddressinfoRequestHandler : public BaseRequestHandler\n+{\n+private:\n+    static constexpr uint8_t m_networks_size{5};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608443683",
      "id" : 608443683,
      "line" : 577,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODQ0MzY4Mw==",
      "original_commit_id" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15",
      "original_line" : 576,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 32,
      "pull_request_review_id" : 629719990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-07T08:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608443683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608444785"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608444785"
         }
      },
      "author_association" : "MEMBER",
      "body" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15\r\n\r\nI think you can omit template arguments, see https://stackoverflow.com/a/61371266/1978589.",
      "commit_id" : "5f1ffbfa3fccb145a6724ef33f8de92d6b652a31",
      "created_at" : "2021-04-07T08:24:31Z",
      "diff_hunk" : "@@ -569,6 +569,56 @@ class NetinfoRequestHandler : public BaseRequestHandler\n         \"> bitcoin-cli -netinfo help\\n\"};\n };\n \n+/** Process addressinfo requests */\n+class AddressinfoRequestHandler : public BaseRequestHandler\n+{\n+private:\n+    static constexpr uint8_t m_networks_size{5};\n+    const std::array<std::string, m_networks_size> m_networks{{\"ipv4\", \"ipv6\", \"torv2\", \"torv3\", \"i2p\"}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21595#discussion_r608444785",
      "id" : 608444785,
      "line" : 578,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwODQ0NDc4NQ==",
      "original_commit_id" : "57eb71ce0f27c0353ea0742a696c6d04ce048e15",
      "original_line" : 577,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 33,
      "pull_request_review_id" : 629719990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21595",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-07T08:40:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/608444785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
