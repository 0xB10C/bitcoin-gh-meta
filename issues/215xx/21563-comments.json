[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21571 (test: make sure non-IP peers get discouraged and disconnected (vasild) by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-04-01T04:24:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21563#issuecomment-811627872",
      "id" : 811627872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21563",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMTYyNzg3Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-02T15:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/811627872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This does indeed seem useless. The mutex was added by @TheBlueMatt in commit d7c58ad514ee00db00589216166808258bc16b60:\r\n\r\n>    Split CNode::cs_vSend: message processing and message sending\r\n>    \r\n>    cs_vSend is used for two purposes - to lock the datastructures used\r\n>    to queue messages to place on the wire and to only call\r\n>    SendMessages once at a time per-node. I believe SendMessages used\r\n>    to access some of the vSendMsg stuff, but it doesn't anymore, so\r\n>    these locks do not need to be on the same mutex, and also make\r\n>    deadlocking much more likely.\r\n\r\nWe're implicitly guaranteed to only call `SendMessages()` serially since it's only ever called by message handler thread. If we want to be explicit about it, it'd be better to add a global lock to `PeerManagerImpl` (or per-`Peer` object), so that net_processing is enforcing its own synchronization internally.",
      "created_at" : "2021-04-02T11:04:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21563#issuecomment-812483710",
      "id" : 812483710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21563",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMjQ4MzcxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-02T11:04:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812483710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-04-06T09:42:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21563#issuecomment-813983421",
      "id" : 813983421,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21563",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxMzk4MzQyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-06T09:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/813983421",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
