[
   {
      "author_association" : "MEMBER",
      "body" : "`doc/tor.md` explains this and suggests using `-bind=127.0.0.1` to mitigate this.\n\nIn general, it is not possible to control what networks incoming connections are from, because they're not observable. Some best guesses could be implemented, but I fear that adding this into `-onlynet` may also lead to less predictable behaviour.\n\nWhen you have a manually run Tor instance, configured with a Bitcoin hidden service, you generally run it on localhost. Bitcoin Core can be configured to only accept incoming connections from localhost, but that's independent from the Tor configuration - it does not actually at any point in time know that these connections are Tor ones. In theory, someome can also run their Tor instance elsewhere (on a local network, for example).",
      "created_at" : "2018-06-11T13:59:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13436#issuecomment-396252919",
      "id" : 396252919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13436",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjI1MjkxOQ==",
      "updated_at" : "2018-06-11T14:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396252919",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I didn't realize it wasn't possible to determine what incoming connections are coming from. I thought connections always had a source, and I assumed it was different for Tor connections... The only thing that could be leaked by this is if someone is careless to not do `-bind`, and someone else tries to see if they are running bitcoin. Could be bad for e.g. an exchange node with a fat wallet but they'd presumably be careful.",
      "created_at" : "2018-06-12T07:24:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13436#issuecomment-396492236",
      "id" : 396492236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13436",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjQ5MjIzNg==",
      "updated_at" : "2018-06-12T07:25:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396492236",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right, you can see the source of an incoming connection, but that source may be a proxy. Tor connections always come through tor which acts as proxy, so bitcoind just sees the IP address of the proxy. There may be other reasons why connections seem to come from a known or unknown proxy.",
      "created_at" : "2018-06-12T07:41:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13436#issuecomment-396496568",
      "id" : 396496568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13436",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjQ5NjU2OA==",
      "updated_at" : "2018-06-12T07:41:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396496568",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Got it. Perhaps it would be useful with a warning when seeing `-onlynet=tor` if it is not also seeing `-bind=localhost`.",
      "created_at" : "2018-06-12T07:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13436#issuecomment-396497710",
      "id" : 396497710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13436",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjQ5NzcxMA==",
      "updated_at" : "2018-06-12T07:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396497710",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
