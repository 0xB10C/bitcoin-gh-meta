{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "This commit is *almost* a move-only* and a fairly straightforward refactor which moves the p2p logic when a transaction received over the wire is accepted or rejected into their own functions instead of being embedded directly in ProcessMessages().\r\n\r\nMotivation: as a follow-up to #12934, I'm working on putting mempool acceptance behind a similar type of asynchronous queue. In order to do that, ATMP response logic in p2p needs to be cleanly separated out into separate functions. \r\n\r\n*Note that this commit introduces one behavior change: Currently, if -promiscuousmempool is set (only allowed on regtest and testnet), it is possible for AcceptToMemoryPool() to return true, but for the CValidationState() to contain DoS points if the transaction failed validation with policy standard script flags but then passed with promiscuous flags. This will cause you to ban the peer who sent the transaction. This commit fixes this behavior by reseting the validation state in that one situation.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13407/comments",
   "created_at" : "2018-06-06T17:23:35Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13407/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/13407",
   "id" : 329961030,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13407/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MTkzMDg1MjQw",
   "number" : 13407,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/13407.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13407",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/13407.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13407"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "[refactor, move-only-ish] Refactor mempool accept/reject logic",
   "updated_at" : "2018-06-06T18:34:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13407",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/195769?v=4",
      "events_url" : "https://api.github.com/users/skeees/events{/privacy}",
      "followers_url" : "https://api.github.com/users/skeees/followers",
      "following_url" : "https://api.github.com/users/skeees/following{/other_user}",
      "gists_url" : "https://api.github.com/users/skeees/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/skeees",
      "id" : 195769,
      "login" : "skeees",
      "node_id" : "MDQ6VXNlcjE5NTc2OQ==",
      "organizations_url" : "https://api.github.com/users/skeees/orgs",
      "received_events_url" : "https://api.github.com/users/skeees/received_events",
      "repos_url" : "https://api.github.com/users/skeees/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/skeees/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/skeees/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/skeees"
   }
}
