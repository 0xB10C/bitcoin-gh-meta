[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194295057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194295057"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Calling this out as a potential issue in the existing code - should this be a whitelist rather than a blacklist?",
      "commit_id" : "bdcde813bc95af4e48ea88fa87aaaec2db6f30e7",
      "created_at" : "2018-06-11T05:29:24Z",
      "diff_hunk" : "@@ -76,7 +76,7 @@ bool IsStandard(const CScript& scriptPubKey, txnouttype& whichType, const bool w\n     else if (!witnessEnabled && (whichType == TX_WITNESS_V0_KEYHASH || whichType == TX_WITNESS_V0_SCRIPTHASH))\n         return false;\n \n-    return whichType != TX_NONSTANDARD && whichType != TX_WITNESS_UNKNOWN;\n+    return true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194295057",
      "id" : 194295057,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDI5NTA1Nw==",
      "original_commit_id" : "24465c87bb7470a3ecd9cd80250e3dcdbb68738f",
      "original_position" : 21,
      "path" : "src/policy/policy.cpp",
      "position" : null,
      "pull_request_review_id" : 127437656,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429",
      "updated_at" : "2018-06-12T23:42:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194295057",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-06-12T16:51:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-396659101",
      "id" : 396659101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjY1OTEwMQ==",
      "updated_at" : "2018-06-12T16:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396659101",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-06-12T17:03:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-396662821",
      "id" : 396662821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjY2MjgyMQ==",
      "updated_at" : "2018-06-12T17:03:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396662821",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased for #13120",
      "created_at" : "2018-06-12T17:20:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-396667931",
      "id" : 396667931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjY2NzkzMQ==",
      "updated_at" : "2018-06-12T17:20:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396667931",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194918075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194918075"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: This `if` is unnecessary as TX_NONSTANDARD will return false anyways at the end of these `if` blocks.",
      "commit_id" : "bdcde813bc95af4e48ea88fa87aaaec2db6f30e7",
      "created_at" : "2018-06-12T23:28:04Z",
      "diff_hunk" : "@@ -124,47 +119,41 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, std::vector<std::v\n     // byte passes the IsPushOnly() test we don't care what exactly is in the\n     // script.\n     if (scriptPubKey.size() >= 1 && scriptPubKey[0] == OP_RETURN && scriptPubKey.IsPushOnly(scriptPubKey.begin()+1)) {\n-        typeRet = TX_NULL_DATA;\n-        return true;\n+        return TX_NULL_DATA;\n     }\n \n     std::vector<unsigned char> data;\n     if (MatchPayToPubkey(scriptPubKey, data)) {\n-        typeRet = TX_PUBKEY;\n         vSolutionsRet.push_back(std::move(data));\n-        return true;\n+        return TX_PUBKEY;\n     }\n \n     if (MatchPayToPubkeyHash(scriptPubKey, data)) {\n-        typeRet = TX_PUBKEYHASH;\n         vSolutionsRet.push_back(std::move(data));\n-        return true;\n+        return TX_PUBKEYHASH;\n     }\n \n     unsigned int required;\n     std::vector<std::vector<unsigned char>> keys;\n     if (MatchMultisig(scriptPubKey, required, keys)) {\n-        typeRet = TX_MULTISIG;\n         vSolutionsRet.push_back({static_cast<unsigned char>(required)}); // safe as required is in range 1..16\n         vSolutionsRet.insert(vSolutionsRet.end(), keys.begin(), keys.end());\n         vSolutionsRet.push_back({static_cast<unsigned char>(keys.size())}); // safe as size is in range 1..16\n-        return true;\n+        return TX_MULTISIG;\n     }\n \n     vSolutionsRet.clear();\n-    typeRet = TX_NONSTANDARD;\n-    return false;\n+    return TX_NONSTANDARD;\n }\n \n bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n {\n     std::vector<valtype> vSolutions;\n-    txnouttype whichType;\n-    if (!Solver(scriptPubKey, whichType, vSolutions))\n-        return false;\n+    txnouttype whichType = Solver(scriptPubKey, vSolutions);\n \n-    if (whichType == TX_PUBKEY)\n-    {\n+    if (whichType == TX_NONSTANDARD) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194918075",
      "id" : 194918075,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDkxODA3NQ==",
      "original_commit_id" : "36709313d616de62b394c44d941a0d13fd6fd7f0",
      "original_position" : 99,
      "path" : "src/script/standard.cpp",
      "position" : null,
      "pull_request_review_id" : 128183755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429",
      "updated_at" : "2018-06-12T23:42:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194918075",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Removed unnecessary `if` noted by @achow101",
      "created_at" : "2018-06-12T23:43:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-396768602",
      "id" : 396768602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5Njc2ODYwMg==",
      "updated_at" : "2018-06-12T23:43:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396768602",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194924605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194924605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit, add `{ }`.",
      "commit_id" : "bdcde813bc95af4e48ea88fa87aaaec2db6f30e7",
      "created_at" : "2018-06-13T00:11:49Z",
      "diff_hunk" : "@@ -73,7 +73,7 @@ bool IsStandard(const CScript& scriptPubKey, txnouttype& whichType)\n                (!fAcceptDatacarrier || scriptPubKey.size() > nMaxDatacarrierBytes))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#discussion_r194924605",
      "id" : 194924605,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDkyNDYwNQ==",
      "original_commit_id" : "bdcde813bc95af4e48ea88fa87aaaec2db6f30e7",
      "original_position" : 17,
      "path" : "src/policy/policy.cpp",
      "position" : 17,
      "pull_request_review_id" : 128191133,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13429",
      "updated_at" : "2018-06-13T00:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194924605",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK bdcde81.\r\n\r\nI wonder if `TX_NONSTANDARD` should have a note that it must be 0 (which is the enum default) for when `if (Solver(...))` is used?",
      "created_at" : "2018-06-13T00:18:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-396774333",
      "id" : 396774333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5Njc3NDMzMw==",
      "updated_at" : "2018-06-13T00:18:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396774333",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag I don't think that helps much, since, the only other bit of output is `vSolutions`, which can only be interpreted in light of the type, so in practice callers switch on the type.",
      "created_at" : "2018-06-13T21:08:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13429#issuecomment-397087282",
      "id" : 397087282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13429",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzA4NzI4Mg==",
      "updated_at" : "2018-06-13T21:08:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397087282",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   }
]
