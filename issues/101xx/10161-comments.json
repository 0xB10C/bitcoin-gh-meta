[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108691"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108691"
         }
      },
      "body" : "+1 on calling this flag non_anonymous",
      "commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "created_at" : "2017-04-06T08:50:12Z",
      "diff_hunk" : "@@ -372,6 +372,8 @@ class TorController\n     bool reconnect;\n     struct event *reconnect_ev;\n     float reconnect_timeout;\n+    /** Flag for Single Onion Service */\n+    bool non_anonymous;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108691",
      "id" : 110108691,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 5,
      "path" : "src/torcontrol.cpp",
      "position" : 14,
      "pull_request_review_id" : 31255438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-07T07:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108691",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108879"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108879"
         }
      },
      "body" : "As for option: maybe `-listenonion=2`?",
      "commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "created_at" : "2017-04-06T08:51:12Z",
      "diff_hunk" : "@@ -414,6 +416,9 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    // TODO: provide a way to configure it externally\n+    non_anonymous = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108879",
      "id" : 110108879,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 15,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31255652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-07T07:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110108879",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110135814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110135814"
         }
      },
      "body" : "Yes, thanks for the advice. That should be OK. Will finish it this evening.",
      "commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "created_at" : "2017-04-06T11:16:47Z",
      "diff_hunk" : "@@ -414,6 +416,9 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    // TODO: provide a way to configure it externally\n+    non_anonymous = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110135814",
      "id" : 110135814,
      "original_commit_id" : "c1f72779d4b4d4fcb1d5df383ee3b71169031ac2",
      "original_position" : 15,
      "path" : "src/torcontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 31284881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-07T07:28:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110135814",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110332698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110332698"
         }
      },
      "body" : "Having `-listenonion=<n>` flag requires allowed values checks and isn't obvious enough as for anonymous/non-anonymous service option. Maybe it would be better to just add another boolean flag instead, with some obvious name?",
      "commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "created_at" : "2017-04-07T07:38:27Z",
      "diff_hunk" : "@@ -414,6 +416,12 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    if (mode == 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110332698",
      "id" : 110332698,
      "original_commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "original_position" : 32,
      "path" : "src/torcontrol.cpp",
      "position" : 32,
      "pull_request_review_id" : 31498320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-07T07:38:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110332698",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7646953?v=3",
         "events_url" : "https://api.github.com/users/mrwhythat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mrwhythat/followers",
         "following_url" : "https://api.github.com/users/mrwhythat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mrwhythat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mrwhythat",
         "id" : 7646953,
         "login" : "mrwhythat",
         "organizations_url" : "https://api.github.com/users/mrwhythat/orgs",
         "received_events_url" : "https://api.github.com/users/mrwhythat/received_events",
         "repos_url" : "https://api.github.com/users/mrwhythat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mrwhythat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mrwhythat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mrwhythat"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110408636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110408636"
         }
      },
      "body" : "Yeah could do that. Though I think the number of options of bitcoind is kind of getting out of hand, and this seems quite obscure so I don't mind hiding it a bit. Could wait and see what other dev's opinions about this are.",
      "commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "created_at" : "2017-04-07T14:52:54Z",
      "diff_hunk" : "@@ -414,6 +416,12 @@ TorController::TorController(struct event_base* _base, const std::string& _targe\n         LogPrint(BCLog::TOR, \"tor: Reading cached private key from %s\\n\", GetPrivateKeyFile());\n         private_key = pkf.second;\n     }\n+    // Set Single Onion Service flag\n+    if (mode == 1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110408636",
      "id" : 110408636,
      "original_commit_id" : "a6fffa5f0520d0c56b332875988d314301a52457",
      "original_position" : 32,
      "path" : "src/torcontrol.cpp",
      "position" : 32,
      "pull_request_review_id" : 31581883,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10161",
      "updated_at" : "2017-04-07T14:53:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/110408636",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
