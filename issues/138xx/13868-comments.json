[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13868#discussion_r207623920"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207623920"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: since you re-indent the whole function body you might also remove this scope and put a `if (tx.IsCoinBase()) return true;` in the first line.",
      "commit_id" : "852c7aa528c607513c36113b2402ce3a950825a1",
      "created_at" : "2018-08-03T18:05:27Z",
      "diff_hunk" : "@@ -1392,7 +1392,7 @@ void InitScriptExecutionCache() {\n  *\n  * Non-static (and re-declared) in src/test/txvalidationcache_tests.cpp\n  */\n-bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsViewCache &inputs, bool fScriptChecks, unsigned int flags, bool cacheSigStore, bool cacheFullScriptStore, PrecomputedTransactionData& txdata, std::vector<CScriptCheck> *pvChecks)\n+bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsViewCache &inputs, unsigned int flags, bool cacheSigStore, bool cacheFullScriptStore, PrecomputedTransactionData& txdata, std::vector<CScriptCheck> *pvChecks)\n {\n     if (!tx.IsCoinBase())\n     {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#discussion_r207623920",
      "id" : 207623920,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzYyMzkyMA==",
      "original_commit_id" : "b161464d6e1042358983cd3e4d1dcf89da5b08e7",
      "original_position" : 52,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 143280641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13868",
      "updated_at" : "2018-08-27T16:52:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207623920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Reviewers, this pull request conflicts with the following ones:\n\n* #14505 (Make all single parameter constructors explicit (C++11) by practicalswift)\n* #13864 (validation: Document where we are intentionally ignoring bool return values from validation related functions by practicalswift)\n* #13204 (Faster sigcache nonce by JeremyRubin)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-08-03T19:35:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#issuecomment-410354838",
      "id" : 410354838,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMDM1NDgzOA==",
      "updated_at" : "2018-10-23T23:44:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410354838",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13868#discussion_r207667050"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13868"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207667050"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, single line?",
      "commit_id" : "852c7aa528c607513c36113b2402ce3a950825a1",
      "created_at" : "2018-08-03T21:03:17Z",
      "diff_hunk" : "@@ -1392,86 +1392,81 @@ void InitScriptExecutionCache() {\n  *\n  * Non-static (and re-declared) in src/test/txvalidationcache_tests.cpp\n  */\n-bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsViewCache &inputs, bool fScriptChecks, unsigned int flags, bool cacheSigStore, bool cacheFullScriptStore, PrecomputedTransactionData& txdata, std::vector<CScriptCheck> *pvChecks)\n+bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsViewCache &inputs, unsigned int flags, bool cacheSigStore, bool cacheFullScriptStore, PrecomputedTransactionData& txdata, std::vector<CScriptCheck> *pvChecks)\n {\n-    if (!tx.IsCoinBase())\n-    {\n-        if (pvChecks)\n-            pvChecks->reserve(tx.vin.size());\n-\n-        // The first loop above does all the inexpensive checks.\n-        // Only if ALL inputs pass do we perform expensive ECDSA signature checks.\n-        // Helps prevent CPU exhaustion attacks.\n-\n-        // Skip script verification when connecting blocks under the\n-        // assumevalid block. Assuming the assumevalid block is valid this\n-        // is safe because block merkle hashes are still computed and checked,\n-        // Of course, if an assumed valid block is invalid due to false scriptSigs\n-        // this optimization would allow an invalid chain to be accepted.\n-        if (fScriptChecks) {\n-            // First check if script executions have been cached with the same\n-            // flags. Note that this assumes that the inputs provided are\n-            // correct (ie that the transaction hash which is in tx's prevouts\n-            // properly commits to the scriptPubKey in the inputs view of that\n-            // transaction).\n-            uint256 hashCacheEntry;\n-            // We only use the first 19 bytes of nonce to avoid a second SHA\n-            // round - giving us 19 + 32 + 4 = 55 bytes (+ 8 + 1 = 64)\n-            static_assert(55 - sizeof(flags) - 32 >= 128/8, \"Want at least 128 bits of nonce for script execution cache\");\n-            CSHA256().Write(scriptExecutionCacheNonce.begin(), 55 - sizeof(flags) - 32).Write(tx.GetWitnessHash().begin(), 32).Write((unsigned char*)&flags, sizeof(flags)).Finalize(hashCacheEntry.begin());\n-            AssertLockHeld(cs_main); //TODO: Remove this requirement by making CuckooCache not require external locks\n-            if (scriptExecutionCache.contains(hashCacheEntry, !cacheFullScriptStore)) {\n-                return true;\n-            }\n+    if (tx.IsCoinBase()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#discussion_r207667050",
      "id" : 207667050,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNzY2NzA1MA==",
      "original_commit_id" : "1d7cc705eab3ae72ab305229c5292bd333d71cd0",
      "original_position" : 80,
      "path" : "src/validation.cpp",
      "position" : 71,
      "pull_request_review_id" : 143334121,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13868",
      "updated_at" : "2018-08-27T16:52:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/207667050",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nNice find!",
      "created_at" : "2018-08-04T05:55:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#issuecomment-410426185",
      "id" : 410426185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMDQyNjE4NQ==",
      "updated_at" : "2018-08-04T05:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410426185",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift @TheBlueMatt deserves the credit. :)",
      "created_at" : "2018-08-04T06:01:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#issuecomment-410426408",
      "id" : 410426408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMDQyNjQwOA==",
      "updated_at" : "2018-08-04T06:01:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/410426408",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased for #13527",
      "created_at" : "2018-08-07T15:32:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#issuecomment-411099276",
      "id" : 411099276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMTA5OTI3Ng==",
      "updated_at" : "2018-08-07T15:32:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/411099276",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased for #13083",
      "created_at" : "2018-08-27T16:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13868#issuecomment-416292204",
      "id" : 416292204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13868",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNjI5MjIwNA==",
      "updated_at" : "2018-08-27T16:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/416292204",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   }
]
