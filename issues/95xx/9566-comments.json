[
   {
      "body" : "Failed on both Windows builds with:\r\n```\r\nutiltime.cpp: In function Ã¢ÂÂconst tm gmtime_int(time_t)Ã¢ÂÂ:\r\nutiltime.cpp:31:25: error: cannot convert Ã¢ÂÂtime_t* {aka long int*}Ã¢ÂÂ to Ã¢ÂÂtm*Ã¢ÂÂ for argument Ã¢ÂÂ1Ã¢ÂÂ to Ã¢ÂÂerrno_t gmtime_s(tm*, const time_t*)Ã¢ÂÂ\r\n     gmtime_s(&time, &out);\r\n```",
      "created_at" : "2017-01-17T02:28:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9566#issuecomment-273006235",
      "id" : 273006235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9566",
      "updated_at" : "2017-01-17T02:28:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273006235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "_Of course_ windows has reversed arguments. Why wouldn't it?\r\n\r\nPushed the reversal.",
      "created_at" : "2017-01-17T03:58:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9566#issuecomment-273016693",
      "id" : 273016693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9566",
      "updated_at" : "2017-01-17T03:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/273016693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9566#discussion_r96350569"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9566"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96350569"
         }
      },
      "body" : "Needing something like this makes me wonder if we're not better off just using the C time functions, which guarantee being based on the UNIX epoch. \r\n\r\nEspecially as we're already probing for gmtime_int anyway. This seems double.\r\n\r\nDo we need something that is only offered by std::chrono? (or needs much less code with std::chrono)",
      "commit_id" : "9bd32ce6aa50df95fd5aeaece92b8b908c582c73",
      "created_at" : "2017-01-17T06:28:34Z",
      "diff_hunk" : "@@ -3,26 +3,85 @@\n // Distributed under the MIT software license, see the accompanying\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n+#define __STDC_WANT_LIB_EXT1__ 1 // for gmtime_s\n+\n #if defined(HAVE_CONFIG_H)\n #include \"config/bitcoin-config.h\"\n #endif\n \n #include \"utiltime.h\"\n \n+#include <chrono>\n+#include <thread>\n+#include <locale>\n+#include <sstream>\n+#include <string.h>\n+#include <time.h>\n #include <boost/date_time/posix_time/posix_time.hpp>\n #include <boost/thread.hpp>\n \n using namespace std;\n \n static int64_t nMockTime = 0; //!< For unit testing\n \n+static inline const tm gmtime_int(time_t time)\n+{\n+    tm out = {};\n+#if defined(HAVE_W32_GMTIME_S)\n+    gmtime_s(&out, &time);\n+#elif defined(HAVE_C11_GMTIME_S)\n+    gmtime_s(&time, &out);\n+#elif defined(HAVE_GMTIME_R)\n+    gmtime_r(&time, &out);\n+#else\n+    // Not thread-safe!\n+    out = *gmtime(&time);\n+#endif\n+    return out;\n+}\n+\n+bool ChronoSanityCheck()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9566#discussion_r96350569",
      "id" : 96350569,
      "original_commit_id" : "9bd32ce6aa50df95fd5aeaece92b8b908c582c73",
      "original_position" : 41,
      "path" : "src/utiltime.cpp",
      "position" : 41,
      "pull_request_review_id" : 16928243,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9566",
      "updated_at" : "2017-01-17T06:30:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/96350569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
