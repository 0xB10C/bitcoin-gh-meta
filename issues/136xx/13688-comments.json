[
   {
      "author_association" : "MEMBER",
      "body" : "Note that gitian builds should work on any host that provides apt-cacher-ng (see the instructions for debian and fedora in https://github.com/bitcoin-core/docs/blob/master/gitian-building.md#preparing-the-gitian-builder-host)\r\n\r\nAlternatively, if the host doesn't come with apt-cacher-ng or the vmbuilder doesn't work on the host, you could try docker: https://github.com/bitcoin-core/docs/pull/33",
      "created_at" : "2018-07-17T12:21:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13688#issuecomment-405562949",
      "id" : 405562949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13688",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTU2Mjk0OQ==",
      "updated_at" : "2018-07-17T12:21:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405562949",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can't remember what went wrong last time. Hopefully indeed it's purely a documentation change.",
      "created_at" : "2018-07-17T12:23:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13688#issuecomment-405563316",
      "id" : 405563316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13688",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTU2MzMxNg==",
      "updated_at" : "2018-07-17T12:23:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405563316",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just tried to do a Gitian build for master, with the new Python Gitian script from #13623 as well as `gitian-build.sh` on master. I can build the base image using `--setup`, but trying to do a build I get:\r\n\r\n```\r\n./gitian-build.sh --detach-sign --no-commit -b sjors -c master\r\n\r\nmaster\r\n~/bitcoin ~\r\n[...]\r\nBuilding Dependencies\r\n[...]\r\nmake: Leaving directory '/home/gitianuser/bitcoin/depends'\r\n\r\nCompiling master Linux\r\n\r\n--- Building for bionic amd64 ---\r\nStopping target if it is up\r\nMaking a new image copy\r\nFailed run an application inside container\r\nTraceback (most recent call last):\r\n\t6: from ./bin/gbuild:301:in `<main>'\r\n\t5: from ./bin/gbuild:301:in `each'\r\n\t4: from ./bin/gbuild:303:in `block in <main>'\r\n\t3: from ./bin/gbuild:303:in `each'\r\n\t2: from ./bin/gbuild:308:in `block (2 levels) in <main>'\r\n\t1: from ./bin/gbuild:57:in `build_one_configuration'\r\n./bin/gbuild:21:in `system!': failed to run make-clean-vm --suite bionic --arch amd64 (RuntimeError)\r\nTraceback (most recent call last):\r\n./bin/gsign:70:in `<main>': result/bitcoin-linux-0.17-res.yml does not exist (RuntimeError)\r\nmv: cannot stat 'build/out/bitcoin-*.tar.gz': No such file or directory\r\nmv: cannot stat 'build/out/src/bitcoin-*.tar.gz': No such file or directory\r\n```\r\n\r\nI'm guessing it's an LXC related thing.\r\n\r\nNo luck with Docker either (both Python and bash). It happily builds an image, but then:\r\n\r\n```\r\nCompiling master Linux\r\n--- Building for bionic amd64 ---\r\nStopping target if it is up\r\nMaking a new image copy\r\nError: No such container: gitian-target\r\n```",
      "created_at" : "2018-07-17T15:45:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13688#issuecomment-405629741",
      "id" : 405629741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13688",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTYyOTc0MQ==",
      "updated_at" : "2018-07-17T16:17:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405629741",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "From [IRC](https://botbot.me/freenode/bitcoin-core-dev/2018-07-17/?msg=102179281&page=3), @ken2812221 wrote:\r\n\r\n```\r\n[20:42:11] ken2812221_ Modify lxcbr0 to br0 at /etc/default/lxc-net\r\n[20:43:50] ken2812221_ And add \"export GITIAN_HOST_IP=10.0.3.1 LXC_GUEST_IP=10.0.3.5\" to your .profile\r\n```\r\n\r\nNote that `lxcbr0 to br0` is new (compared to Debian 9 instructions) and that the IP is now `10.0.3.1`  instead of `10.0.3.2`.\r\n\r\nThis indeed starts a build process for LXC (Docker still has the same issue).",
      "created_at" : "2018-07-17T18:56:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13688#issuecomment-405690409",
      "id" : 405690409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13688",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTY5MDQwOQ==",
      "updated_at" : "2018-07-17T18:56:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405690409",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> export GITIAN_HOST_IP=10.0.3.1 LXC_GUEST_IP=10.0.3.5\r\n\r\nWould be nice, if the environment variables were exported by the script, so it would't have to be done manually?",
      "created_at" : "2018-07-17T19:02:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13688#issuecomment-405692433",
      "id" : 405692433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13688",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTY5MjQzMw==",
      "updated_at" : "2018-07-17T19:02:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405692433",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
