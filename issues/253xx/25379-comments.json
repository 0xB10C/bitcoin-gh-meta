[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25218](https://github.com/bitcoin/bitcoin/pull/25218) (refactor: introduce generic 'Result' classes and connect them to CreateTransaction and GetNewDestination by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-06-21T00:28:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25379#issuecomment-1160987130",
      "id" : 1160987130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25379",
      "node_id" : "IC_kwDOABII585FM0H6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160987130/reactions"
      },
      "updated_at" : "2022-06-21T00:28:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160987130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902212751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902212751"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am pretty sure none of the utxos are mature, so the comment doesn't apply.\r\n\r\nso maybe this can be removed?\r\n\r\nIf not, you may just mine 200 blocks in one go instead of using cached/non-cached?",
      "commit_id" : "fab72801f021e707238ba5f4428f6257cf1c5251",
      "created_at" : "2022-06-21T06:35:37Z",
      "diff_hunk" : "@@ -6,48 +6,30 @@\n \n from decimal import Decimal\n \n-from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.messages import (\n     COIN,\n-    CTransaction,\n-    CTxInWitness,\n-    tx_from_hex,\n     WITNESS_SCALE_FACTOR,\n )\n-from test_framework.script import (\n-    CScript,\n-    OP_TRUE,\n-)\n from test_framework.util import (\n     assert_equal,\n )\n from test_framework.wallet import (\n+    MiniWallet,\n     bulk_transaction,\n-    create_child_with_parents,\n-    make_chain,\n-    DEFAULT_FEE,\n )\n \n class MempoolPackageLimitsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n-        self.log.info(\"Generate blocks to create UTXOs\")\n-        node = self.nodes[0]\n-        self.privkeys = [node.get_deterministic_priv_key().key]\n-        self.address = node.get_deterministic_priv_key().address\n-        self.coins = []\n-        # The last 100 coinbase transactions are premature\n-        for b in self.generatetoaddress(node, 200, self.address)[:100]:\n-            coinbase = node.getblock(blockhash=b, verbosity=2)[\"tx\"][0]\n-            self.coins.append({\n-                \"txid\": coinbase[\"txid\"],\n-                \"amount\": coinbase[\"vout\"][0][\"value\"],\n-                \"scriptPubKey\": coinbase[\"vout\"][0][\"scriptPubKey\"],\n-            })\n+        self.wallet = MiniWallet(self.nodes[0])\n+        # the pre-mined test framework chain contains coinbase outputs to the\n+        # MiniWallet's default address in blocks 76-100 (see method\n+        # BitcoinTestFramework._initialize_chain())\n+        self.wallet.rescan_utxos()\n+        self.generate(self.wallet, 100) # more mature UTXOs are needed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902212751",
      "id" : 902212751,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841xqyP",
      "original_commit_id" : "2b55bd364da1ee5148c33525dcd19064c3a9c0ab",
      "original_line" : 32,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "test/functional/mempool_package_limits.py",
      "position" : null,
      "pull_request_review_id" : 1013033449,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902212751/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T06:35:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902212751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902305464"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902305464"
         }
      },
      "author_association" : "NONE",
      "body" : "It matures the cached blocks, so I could phrase that in better way. But you are right, I changed it to mine the neccesary blocks on a clean chain.",
      "commit_id" : "fab72801f021e707238ba5f4428f6257cf1c5251",
      "created_at" : "2022-06-21T08:21:56Z",
      "diff_hunk" : "@@ -6,48 +6,30 @@\n \n from decimal import Decimal\n \n-from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.messages import (\n     COIN,\n-    CTransaction,\n-    CTxInWitness,\n-    tx_from_hex,\n     WITNESS_SCALE_FACTOR,\n )\n-from test_framework.script import (\n-    CScript,\n-    OP_TRUE,\n-)\n from test_framework.util import (\n     assert_equal,\n )\n from test_framework.wallet import (\n+    MiniWallet,\n     bulk_transaction,\n-    create_child_with_parents,\n-    make_chain,\n-    DEFAULT_FEE,\n )\n \n class MempoolPackageLimitsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n-        self.log.info(\"Generate blocks to create UTXOs\")\n-        node = self.nodes[0]\n-        self.privkeys = [node.get_deterministic_priv_key().key]\n-        self.address = node.get_deterministic_priv_key().address\n-        self.coins = []\n-        # The last 100 coinbase transactions are premature\n-        for b in self.generatetoaddress(node, 200, self.address)[:100]:\n-            coinbase = node.getblock(blockhash=b, verbosity=2)[\"tx\"][0]\n-            self.coins.append({\n-                \"txid\": coinbase[\"txid\"],\n-                \"amount\": coinbase[\"vout\"][0][\"value\"],\n-                \"scriptPubKey\": coinbase[\"vout\"][0][\"scriptPubKey\"],\n-            })\n+        self.wallet = MiniWallet(self.nodes[0])\n+        # the pre-mined test framework chain contains coinbase outputs to the\n+        # MiniWallet's default address in blocks 76-100 (see method\n+        # BitcoinTestFramework._initialize_chain())\n+        self.wallet.rescan_utxos()\n+        self.generate(self.wallet, 100) # more mature UTXOs are needed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902305464",
      "id" : 902305464,
      "in_reply_to_id" : 902212751,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841yBa4",
      "original_commit_id" : "2b55bd364da1ee5148c33525dcd19064c3a9c0ab",
      "original_line" : 32,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "test/functional/mempool_package_limits.py",
      "position" : null,
      "pull_request_review_id" : 1013172077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902305464/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T08:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902305464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902322139"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902322139"
         }
      },
      "author_association" : "MEMBER",
      "body" : "blocks 76-100 with a height of 200 should already be mature, no?",
      "commit_id" : "fab72801f021e707238ba5f4428f6257cf1c5251",
      "created_at" : "2022-06-21T08:32:11Z",
      "diff_hunk" : "@@ -6,48 +6,30 @@\n \n from decimal import Decimal\n \n-from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.messages import (\n     COIN,\n-    CTransaction,\n-    CTxInWitness,\n-    tx_from_hex,\n     WITNESS_SCALE_FACTOR,\n )\n-from test_framework.script import (\n-    CScript,\n-    OP_TRUE,\n-)\n from test_framework.util import (\n     assert_equal,\n )\n from test_framework.wallet import (\n+    MiniWallet,\n     bulk_transaction,\n-    create_child_with_parents,\n-    make_chain,\n-    DEFAULT_FEE,\n )\n \n class MempoolPackageLimitsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n-        self.log.info(\"Generate blocks to create UTXOs\")\n-        node = self.nodes[0]\n-        self.privkeys = [node.get_deterministic_priv_key().key]\n-        self.address = node.get_deterministic_priv_key().address\n-        self.coins = []\n-        # The last 100 coinbase transactions are premature\n-        for b in self.generatetoaddress(node, 200, self.address)[:100]:\n-            coinbase = node.getblock(blockhash=b, verbosity=2)[\"tx\"][0]\n-            self.coins.append({\n-                \"txid\": coinbase[\"txid\"],\n-                \"amount\": coinbase[\"vout\"][0][\"value\"],\n-                \"scriptPubKey\": coinbase[\"vout\"][0][\"scriptPubKey\"],\n-            })\n+        self.wallet = MiniWallet(self.nodes[0])\n+        # the pre-mined test framework chain contains coinbase outputs to the\n+        # MiniWallet's default address in blocks 76-100 (see method\n+        # BitcoinTestFramework._initialize_chain())\n+        self.wallet.rescan_utxos()\n+        self.generate(self.wallet, 100) # more mature UTXOs are needed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902322139",
      "id" : 902322139,
      "in_reply_to_id" : 902212751,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841yFfb",
      "original_commit_id" : "2b55bd364da1ee5148c33525dcd19064c3a9c0ab",
      "original_line" : 32,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "test/functional/mempool_package_limits.py",
      "position" : null,
      "pull_request_review_id" : 1013189081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902322139/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T08:32:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902322139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902338613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902338613"
         }
      },
      "author_association" : "NONE",
      "body" : "Yes but because those 25 blocks were not enough for the tests, I also used the 24 initially immature blocks by generating another 100 blocks. But what you suggested is more elegant thus I changed it to that.",
      "commit_id" : "fab72801f021e707238ba5f4428f6257cf1c5251",
      "created_at" : "2022-06-21T08:45:00Z",
      "diff_hunk" : "@@ -6,48 +6,30 @@\n \n from decimal import Decimal\n \n-from test_framework.address import ADDRESS_BCRT1_P2WSH_OP_TRUE\n from test_framework.test_framework import BitcoinTestFramework\n from test_framework.messages import (\n     COIN,\n-    CTransaction,\n-    CTxInWitness,\n-    tx_from_hex,\n     WITNESS_SCALE_FACTOR,\n )\n-from test_framework.script import (\n-    CScript,\n-    OP_TRUE,\n-)\n from test_framework.util import (\n     assert_equal,\n )\n from test_framework.wallet import (\n+    MiniWallet,\n     bulk_transaction,\n-    create_child_with_parents,\n-    make_chain,\n-    DEFAULT_FEE,\n )\n \n class MempoolPackageLimitsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.setup_clean_chain = True\n \n     def run_test(self):\n-        self.log.info(\"Generate blocks to create UTXOs\")\n-        node = self.nodes[0]\n-        self.privkeys = [node.get_deterministic_priv_key().key]\n-        self.address = node.get_deterministic_priv_key().address\n-        self.coins = []\n-        # The last 100 coinbase transactions are premature\n-        for b in self.generatetoaddress(node, 200, self.address)[:100]:\n-            coinbase = node.getblock(blockhash=b, verbosity=2)[\"tx\"][0]\n-            self.coins.append({\n-                \"txid\": coinbase[\"txid\"],\n-                \"amount\": coinbase[\"vout\"][0][\"value\"],\n-                \"scriptPubKey\": coinbase[\"vout\"][0][\"scriptPubKey\"],\n-            })\n+        self.wallet = MiniWallet(self.nodes[0])\n+        # the pre-mined test framework chain contains coinbase outputs to the\n+        # MiniWallet's default address in blocks 76-100 (see method\n+        # BitcoinTestFramework._initialize_chain())\n+        self.wallet.rescan_utxos()\n+        self.generate(self.wallet, 100) # more mature UTXOs are needed",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25379#discussion_r902338613",
      "id" : 902338613,
      "in_reply_to_id" : 902212751,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5841yJg1",
      "original_commit_id" : "2b55bd364da1ee5148c33525dcd19064c3a9c0ab",
      "original_line" : 32,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "test/functional/mempool_package_limits.py",
      "position" : null,
      "pull_request_review_id" : 1013207827,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25379",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902338613/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-06-21T08:45:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/902338613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18506343?v=4",
         "events_url" : "https://api.github.com/users/kouloumos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kouloumos/followers",
         "following_url" : "https://api.github.com/users/kouloumos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kouloumos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kouloumos",
         "id" : 18506343,
         "login" : "kouloumos",
         "node_id" : "MDQ6VXNlcjE4NTA2MzQz",
         "organizations_url" : "https://api.github.com/users/kouloumos/orgs",
         "received_events_url" : "https://api.github.com/users/kouloumos/received_events",
         "repos_url" : "https://api.github.com/users/kouloumos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kouloumos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kouloumos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kouloumos"
      }
   }
]
