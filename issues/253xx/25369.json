{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "At this point, maintaining Univalue as a subtree doesnât serve much purpose, other than being an inconvenience for making changes to the code (along with polluting our repo with a number of files we donât use). Our [Univalue fork](https://github.com/bitcoin-core/univalue-subtree) currently deviates from the [upstream API](https://github.com/jgarzik/univalue), and for some time has been marked as not-maintained for use by other projects (I'm not aware of any that use it). The upstream Univalue is not maintained, and has not been for some time. There are no new releases, bugs remain unfixed, and PR's we've upstreamed, https://github.com/jgarzik/univalue/pulls, are not being commented on/merged.\r\n\r\nAnother substantial benefit of no-longer maintaining a subtree is removing the rather awkward work-flow currently required to make changes to the Univalue code, particularly breaking changes / introducing new features, e.g. https://github.com/bitcoin-core/univalue-subtree/pull/27. We need to dance around and merge changes to our fork, with a flag, then pull them down here, then switch to using the new code, then go back to our Univalue repo, and remove the old code / flag, then pull the repo down here again, and remove our usage of the flag. Quite the overcomplicated mess.\r\n\r\nWith this PR I'm proposing we stop treating Univalue like a subtree, or upstream project/fork, and going forward, treat it as part of this codebase, which we can refactor directly (with pulls to this repo. Ideally, after this is merged, our univalue subtree repo could be marked as \"archived\". In this repo, I think there is a good chance that the Univalue code will ultimately be refactored away into \"modern\" C++, i.e using `std::variant` (at least one person has played around with doing this).\r\n\r\nUnivalue history:\r\n- Subtree first introduced: https://github.com/bitcoin/bitcoin/pull/6637\r\n- `--system-univalue` option introduced: https://github.com/bitcoin/bitcoin/pull/7349\r\n  Suggestion was to use system Univalue by default.\r\n  This was pushed back on by contributors, as well as the [upstream Univalue](https://github.com/jgarzik/univalue) maintainer (jgarzik).\r\n- Our fork's README was updated to say `It is not maintained for usage by other projects. Notably, the API may break in non-backward-compatible ways.` : https://github.com/bitcoin-core/univalue-subtree/pull/17\r\n- Our fork README additionally updated to say `the API is broken in non-backward-compatible ways.` : https://github.com/bitcoin-core/univalue-subtree/pull/30\r\n- `--system-univalue` option removed: https://github.com/bitcoin/bitcoin/pull/22646\r\n- Univalue \"subtree\" removed: This PR.\r\n\r\nGuix Build (x86_64):\r\n```bash\r\n3550c590c42b8c60181e4327c617bba8343a991e5f47672e916c08e7bd697032  guix-build-46e0aaf3e027/output/aarch64-linux-gnu/SHA256SUMS.part\r\n1777e8ad5f4ac1912ad084cdc827f5ced38c518697020a56902be45bdbab451b  guix-build-46e0aaf3e027/output/aarch64-linux-gnu/bitcoin-46e0aaf3e027-aarch64-linux-gnu-debug.tar.gz\r\ne4d12e8f35f0856196e2661ab016196f97f70cd34f8394e1bffc3bebd81bde74  guix-build-46e0aaf3e027/output/aarch64-linux-gnu/bitcoin-46e0aaf3e027-aarch64-linux-gnu.tar.gz\r\n48786075877ee009ca9341238172543a8949e69b6d3edf9cc825108d1abf97e8  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/SHA256SUMS.part\r\nea3dfc03b747c063f6b5555ede9845f05afc0052fe3df2e245b2feafdaafedde  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/bitcoin-46e0aaf3e027-arm-linux-gnueabihf-debug.tar.gz\r\na0791cf5430de0924ac4a0eedaab8756a5fae775d5fa1fd011f9105496de51c7  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/bitcoin-46e0aaf3e027-arm-linux-gnueabihf.tar.gz\r\nf4e570d19b0d196b471d1257abb11c2f85e3feefedddaa994c4a59e5a0fc2fc2  guix-build-46e0aaf3e027/output/arm64-apple-darwin/SHA256SUMS.part\r\n310f25c6f9fe31c89f68149cea4434324eb2887a155a3ad7d7613a113be3bc82  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin-unsigned.dmg\r\ndc4d7f228bf487835aa7218bdf7a590f8edc2418e10a519812830c54bebe5d36  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin-unsigned.tar.gz\r\nf3f06b1256fdb04a0418a852c0dd191866edf2269bd08439775361a7b0b2b41a  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin.tar.gz\r\nc1949bcd4604e66fecb9092f16754bf91a86d9f3f01d5d576fa4e961ade3424f  guix-build-46e0aaf3e027/output/dist-archive/bitcoin-46e0aaf3e027.tar.gz\r\n00722f3483b3085341b8854fac51f210d4b4fb140319bf957452a8a37893cfeb  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n2db3c272854874abd12f203e1596d52157c7851e154c93df631f54903a9ba3d7  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/bitcoin-46e0aaf3e027-powerpc64-linux-gnu-debug.tar.gz\r\nbf7a41a3d8a8e9136aeb878c93623c3b88fd31de9ef57f7512ddcc769f096797  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/bitcoin-46e0aaf3e027-powerpc64-linux-gnu.tar.gz\r\nb8e12cdd0bb66feebffe71d090df34da17e8e209a4c95a495fc598b95db65b9e  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\nf71a1bb822999d8872ff32c70bc1ac014db9a1a187a1ab802b12a7c1ca3f71c1  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/bitcoin-46e0aaf3e027-powerpc64le-linux-gnu-debug.tar.gz\r\n58a5d27a36b2722fd2a6230855c9bfbbfe3e39492e5fee641e51c02a8d1ce4f5  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/bitcoin-46e0aaf3e027-powerpc64le-linux-gnu.tar.gz\r\n2c7574fbfaba6cbf1a01ef58e0eee4eb8437a64c4592c0838beecbe5fab0798b  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/SHA256SUMS.part\r\nd6716a92025d3dc65fc700abb92aaba2d22e97b164db332181426a85036b554a  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/bitcoin-46e0aaf3e027-riscv64-linux-gnu-debug.tar.gz\r\n5ae1bb3e954981c41fc01942b40d788b86cdf04904955c756b1173ba0f39c067  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/bitcoin-46e0aaf3e027-riscv64-linux-gnu.tar.gz\r\n76616dc1648c83460ad234df3888294a65d40851febdc498533eb79b860c95d8  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/SHA256SUMS.part\r\n12bb563940ae88f5cc0835d42862f678e76f74da3cd135a9836db9b257c713fb  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin-unsigned.dmg\r\ne8e1e535a6e2c3936f2c4882526ff96a8da4898ca40817ca0fef4bf187b9a7fe  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin-unsigned.tar.gz\r\n9aed1875b19fb6a92f7b2792ba15a58f7e0839e290985329607449fded8b2f68  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin.tar.gz\r\ncbd2913f4f3a1d8a694834078a581af26f1c4358af8eca82002004beaef559be  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/SHA256SUMS.part\r\nac4198c2c3bf26a4e8301e1e23eab7e0b2fcce74b886af27b65e8fea4371a37d  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/bitcoin-46e0aaf3e027-x86_64-linux-gnu-debug.tar.gz\r\n42933b462a2412c942d8509925118c0055d447d76006916b593df0d282202525  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/bitcoin-46e0aaf3e027-x86_64-linux-gnu.tar.gz\r\ndc59ee6629ceb15397f885329643a60cf55ba3c9f5c394a39f2a1eb6d47849bc  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n1ca8cc2901b472788228e0b8434d8df5ea0ce021f30fbe7b3b6190bc4bf0a8ad  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-debug.zip\r\na596cc511302e9a876857992c404eaaf5a5ce227d353dcaeea5e880473a5aeaf  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-setup-unsigned.exe\r\n3b2ec478f0fb59f8be4699da53f4fc66525a56bbe4d179293f04c910c674356d  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-unsigned.tar.gz\r\nc68b5ccf59aabe6b9c62cf078aacb126298f3cc27dc0d94316808f0481a521a8  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64.zip\r\n```\r\n\r\nGuix Build (arm64):\r\n```bash\r\nd00a850daad461612a2e191a9bf2bb525e46fc8f0b6d780d3dcd1c87b5cb93c9  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n0ff57737af603bf133294f1dc22b9697306ddce94925614212950049a4aa4a50  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/bitcoin-46e0aaf3e027-arm-linux-gnueabihf-debug.tar.gz\r\n8c4a1557d7ea4934a004aed936c347b5c91a10015ba142498017496aad63343d  guix-build-46e0aaf3e027/output/arm-linux-gnueabihf/bitcoin-46e0aaf3e027-arm-linux-gnueabihf.tar.gz\r\n626c6eef9e296e3564833f67ea0082f1581fabea62be30c634c0c7a722aab504  guix-build-46e0aaf3e027/output/arm64-apple-darwin/SHA256SUMS.part\r\n5ab89d992ea68a17ea6f2247239487868b65e71bd07f5d912f506b2d7157a995  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin-unsigned.dmg\r\nd1743c770b24ed21ddd98f5f1e534688fe372133c3c24571ca3648979b75e7c4  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin-unsigned.tar.gz\r\nc48707aecf2da57395bc2b8226d2b0e7a2aae1cec711988965baac7aea1943c4  guix-build-46e0aaf3e027/output/arm64-apple-darwin/bitcoin-46e0aaf3e027-arm64-apple-darwin.tar.gz\r\nc1949bcd4604e66fecb9092f16754bf91a86d9f3f01d5d576fa4e961ade3424f  guix-build-46e0aaf3e027/output/dist-archive/bitcoin-46e0aaf3e027.tar.gz\r\n35b3dcc168958f7099043b6b6cd8a78e93b8f7c978c8ff2528b31ec3d9a08d2c  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n48645a1ad363346e229d32a6930daecf93f25621c74808b402c3ddaaa5b4de1e  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/bitcoin-46e0aaf3e027-powerpc64-linux-gnu-debug.tar.gz\r\nd3d4e995470857185b3594504e47b1eaac5f6627626b96cc7b51e6364b5c04aa  guix-build-46e0aaf3e027/output/powerpc64-linux-gnu/bitcoin-46e0aaf3e027-powerpc64-linux-gnu.tar.gz\r\n7786ab92f285d74149e22ccbd229a5b31e7fc181c426f193975d2943f2e16dc7  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/SHA256SUMS.part\r\ned89f298ef0ff2e6fc400bbd3463c24b6d0a72c3e3ab649445c84f7e978afd4d  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/bitcoin-46e0aaf3e027-powerpc64le-linux-gnu-debug.tar.gz\r\n4dea906cb488bb5d519c844108e526eb22958e1245269a6e1e11c664810e85f1  guix-build-46e0aaf3e027/output/powerpc64le-linux-gnu/bitcoin-46e0aaf3e027-powerpc64le-linux-gnu.tar.gz\r\nc058534244c3a17cc4883cfbe79b8bca0d71ff87f1c97565c14ba89bc47f1a10  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/SHA256SUMS.part\r\naa2d334ac7a8b6d99c88414463c1a442f88044b98f6be550fa1d051a3fcb14de  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/bitcoin-46e0aaf3e027-riscv64-linux-gnu-debug.tar.gz\r\n3b3ad97e9167360666d15b6989978eefe3bec9c6ff92fb91eed58f89bc0b6e1c  guix-build-46e0aaf3e027/output/riscv64-linux-gnu/bitcoin-46e0aaf3e027-riscv64-linux-gnu.tar.gz\r\n76616dc1648c83460ad234df3888294a65d40851febdc498533eb79b860c95d8  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/SHA256SUMS.part\r\n12bb563940ae88f5cc0835d42862f678e76f74da3cd135a9836db9b257c713fb  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin-unsigned.dmg\r\ne8e1e535a6e2c3936f2c4882526ff96a8da4898ca40817ca0fef4bf187b9a7fe  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin-unsigned.tar.gz\r\n9aed1875b19fb6a92f7b2792ba15a58f7e0839e290985329607449fded8b2f68  guix-build-46e0aaf3e027/output/x86_64-apple-darwin/bitcoin-46e0aaf3e027-x86_64-apple-darwin.tar.gz\r\n76a8f831fd9690ed0a391615a9a5a390335d23c1fd448155190e2ba889e966ef  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/SHA256SUMS.part\r\nf01b3ea30d4c7690e0689a61c9ccb9aada610e36d6bd2d59f4ef06adc295e0ed  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/bitcoin-46e0aaf3e027-x86_64-linux-gnu-debug.tar.gz\r\n4568e9b90750c6230c14ac8d6411a6b64f9b6fe7f073a75fa8a47f35ff89307c  guix-build-46e0aaf3e027/output/x86_64-linux-gnu/bitcoin-46e0aaf3e027-x86_64-linux-gnu.tar.gz\r\n96accf381c5e537a322ab30e3b009b7c7e8fd74e1340ce898c262ea54f327769  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n1e7638b3eee3aaee1cf6c71f6041205dcb4535d81a4c658ad71ba50962e9e18a  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-debug.zip\r\na596cc511302e9a876857992c404eaaf5a5ce227d353dcaeea5e880473a5aeaf  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-setup-unsigned.exe\r\n3b2ec478f0fb59f8be4699da53f4fc66525a56bbe4d179293f04c910c674356d  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64-unsigned.tar.gz\r\nf4f922d98910040f851120f59b8bfd55a4ae7188a8142399edf2d0cd6918a55e  guix-build-46e0aaf3e027/output/x86_64-w64-mingw32/bitcoin-46e0aaf3e027-win64.zip\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 7,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369/comments",
   "created_at" : "2022-06-14T11:48:54Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/25369",
   "id" : 1270683399,
   "labels" : [
      {
         "color" : "E6F6D6",
         "default" : false,
         "description" : null,
         "id" : 135961,
         "name" : "Refactoring",
         "node_id" : "MDU6TGFiZWwxMzU5NjE=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring"
      },
      {
         "color" : "0052cc",
         "default" : false,
         "description" : null,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "node_id" : "MDU6TGFiZWw5ODI3OTE3Nw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII5845oJSb",
   "number" : 25369,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/25369.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25369",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/25369.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25369"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369/timeline",
   "title" : "Unsubtree Univalue",
   "updated_at" : "2022-06-14T15:12:43Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25369",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
