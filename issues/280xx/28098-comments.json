[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Why are Linux tasks not affected? As far as I understand the blog post, there will be a monthly limit of 40 compute credits (= 40 USD) for all tasks, including Linux tasks. (Or are we already using a persistent worker for Linux?)",
      "created_at" : "2023-07-18T12:08:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1640091409",
      "id" : 1640091409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585hwc8R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1640091409/reactions"
      },
      "updated_at" : "2023-07-18T12:08:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1640091409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "We already use credits for some Linux tasks, so nothing will change for them. The others (or all) can be moved to persistent workers easily, I suspect.\r\n\r\nEdited OP to mention GitHub Actions CI as alternative. Last time we looked it required write access, but GitHub already has full write access, so I am not sure if this is still a concern or if it even applies?",
      "created_at" : "2023-07-18T18:08:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1640710663",
      "id" : 1640710663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585hy0IH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1640710663/reactions"
      },
      "updated_at" : "2023-07-18T18:08:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1640710663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Someone sets up Windows+macOS VMs and connects them to the bitcoin and bitcoin-core Cirrus CI account as a persistent worker. (I've only tested this with Linux, so no idea if it works)\r\n\r\nIf we can make this happen, this will probably be ideal in the short term. (Heck, even if we convince a sponsor to hire someone, this is much cheaper than paying for compute credits...)\r\n\r\n> Last time we looked it required write access,\r\n\r\nSee the discussion here: https://github.com/bitcoin/bitcoin/issues/17803 You had brought up strong arguments against it, but it may indeed be worth reconsidering. As you point out, we trust GitHub anyway. (Or we *don't* trust them anyway, in the sense that it's not the end of the world if they become hostile.) And GitHub Actions is hopefully more mature now, so I don't think the risk of vulnerabilities should be a showstopper.\r\n\r\n-----\r\n\r\nIn secp256k1, we currently rely on Cirrus CI's [\"Dockerfile as a CI environment\"](https://cirrus-ci.org/guide/docker-builder-vm/#dockerfile-as-a-ci-environment) feature for the Linux tasks. Moving away from it could require a bit of work. GitHub Actions apparently has a similar feature, but I haven't tried that one.",
      "created_at" : "2023-07-18T23:11:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1641104328",
      "id" : 1641104328,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585h0UPI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1641104328/reactions"
      },
      "updated_at" : "2023-07-18T23:12:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1641104328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Maybe Azure Pipelines can be used as an alternative to GitHub CI? Likely they use the same virtual machine pools, but the permissions and write access might be better handled?\r\nAlso, apparently all of Circle CI, Appveyor CI, and Travis CI now support macOS+Windows, so maybe they can be considered as alternative as well?\r\n\r\n> Cirrus CI's [\"Dockerfile as a CI env](https://cirrus-ci.org/guide/docker-builder-vm/#dockerfile-as-a-ci-environment)\r\n\r\nSame here. But Linux builds should be trivial to keep on Cirrus CI with persistent workers, which can run podman/docker themselves to cache the result.\r\nIdeally we figure out what to do with macOS/Windows within the next 30 days, then dealing with Linux should be trivial.",
      "created_at" : "2023-07-19T06:53:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1641518418",
      "id" : 1641518418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585h15VS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1641518418/reactions"
      },
      "updated_at" : "2023-07-19T06:53:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1641518418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Among free options, CircleCI looks better than others, IMO:\r\n- https://circleci.com/docs/plan-free/\r\n- https://circleci.com/pricing/\r\n\r\n> Personally, I don't use macOS nor Windows, and I can't recommend it to anyone, so I don't mind if the tasks are removed.\r\n\r\nWe are responsible for quality of every release we are [shipping](https://bitcoincore.org/en/download/). And the user is free to make their own choice.",
      "created_at" : "2023-07-23T20:42:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1646955146",
      "id" : 1646955146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585iKoqK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646955146/reactions"
      },
      "updated_at" : "2023-07-23T20:42:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646955146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> CircleCI looks better than others\r\n\r\nCan you elaborate on this? The free plan would give less than 10 hours of macOS and Windows per month. And the paid plan doesn't look cheaper than Cirrus CI, does it?",
      "created_at" : "2023-07-24T06:48:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1647312889",
      "id" : 1647312889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585iL__5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647312889/reactions"
      },
      "updated_at" : "2023-07-24T06:48:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647312889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > CircleCI looks better than others\r\n> \r\n> Can you elaborate on this? The free plan would give less than 10 hours of macOS and Windows per month. And the paid plan doesn't look cheaper than Cirrus CI, does it?\r\n\r\nI've made comparison among available free plans. I did not consider paid plans in my comment. ",
      "created_at" : "2023-07-24T06:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1647315920",
      "id" : 1647315920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585iMAvQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647315920/reactions"
      },
      "updated_at" : "2023-07-24T06:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647315920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If the goal is to stay on a free plan, I think the only option is GitHub Actions CI.\r\nIf the goal is to pay a similar amount as with the previous appveyor task, I think the only options are appveyor or travis.\r\n",
      "created_at" : "2023-07-24T07:27:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1647360046",
      "id" : 1647360046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585iMLgu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647360046/reactions"
      },
      "updated_at" : "2023-07-24T07:27:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647360046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If the goal is to stay on a free plan, I think the only option is GitHub Actions CI.\r\n\r\nGitHub Actions: [2000](https://github.com/pricing) minutes/month\r\n\r\nCircleCI: [6000](https://circleci.com/pricing/) minutes/month",
      "created_at" : "2023-07-24T16:30:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28098#issuecomment-1648237622",
      "id" : 1648237622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28098",
      "node_id" : "IC_kwDOABII585iPhw2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1648237622/reactions"
      },
      "updated_at" : "2023-07-24T16:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1648237622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
