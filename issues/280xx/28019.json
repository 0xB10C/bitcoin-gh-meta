{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Due to changes to the functions `V1TransportDeserializer::readHeader` and `V1TransportDeserializer::GetMessage`, the \"Fuzzing the Bitcoin Core P2P layer using Honggfuzz NetDriver\" section in `fuzzing.md` is outdated. The `git apply` command doesn't work.\r\n\r\n```sh\r\n$ git apply << \"EOF\"\r\ndiff --git a/src/bitcoind.cpp b/src/bitcoind.cpp\r\nindex 455a82e39..2faa3f80f 100644\r\n--- a/src/bitcoind.cpp\r\n+++ b/src/bitcoind.cpp\r\n@@ -158,7 +158,11 @@ static bool AppInit(int argc, char* argv[])\r\n     return fRet;\r\n }\r\n\r\n+#ifdef HFND_FUZZING_ENTRY_FUNCTION_CXX\r\n+HFND_FUZZING_ENTRY_FUNCTION_CXX(int argc, char* argv[])\r\n+#else\r\n int main(int argc, char* argv[])\r\n+#endif\r\n {\r\n #ifdef WIN32\r\n     util::WinCmdLineArgs winArgs;\r\ndiff --git a/src/net.cpp b/src/net.cpp\r\nindex cf987b699..636a4176a 100644\r\n--- a/src/net.cpp\r\n+++ b/src/net.cpp\r\n@@ -709,7 +709,7 @@ int V1TransportDeserializer::readHeader(const char *pch, unsigned int nBytes)\r\n     }\r\n\r\n     // Check start string, network magic\r\n-    if (memcmp(hdr.pchMessageStart, m_chain_params.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) {\r\n+    if (false && memcmp(hdr.pchMessageStart, m_chain_params.MessageStart(), CMessageHeader::MESSAGE_START_SIZE) != 0) { // skip network magic checking\r\n         LogPrint(BCLog::NET, \"HEADER ERROR - MESSAGESTART (%s, %u bytes), received %s, peer=%d\\n\", hdr.GetCommand(), hdr.nMessageSize, HexStr(hdr.pchMessageStart), m_node_id);\r\n         return -1;\r\n     }\r\n@@ -768,7 +768,7 @@ Optional<CNetMessage> V1TransportDeserializer::GetMessage(const std::chrono::mic\r\n     RandAddEvent(ReadLE32(hash.begin()));\r\n\r\n     // Check checksum and header command string\r\n-    if (memcmp(hash.begin(), hdr.pchChecksum, CMessageHeader::CHECKSUM_SIZE) != 0) {\r\n+    if (false && memcmp(hash.begin(), hdr.pchChecksum, CMessageHeader::CHECKSUM_SIZE) != 0) { // skip checksum checking\r\n         LogPrint(BCLog::NET, \"CHECKSUM ERROR (%s, %u bytes), expected %s was %s, peer=%d\\n\",\r\n                  SanitizeString(msg->m_command), msg->m_message_size,\r\n                  HexStr(Span<uint8_t>(hash.begin(), hash.begin() + CMessageHeader::CHECKSUM_SIZE)),\r\nEOF\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019/comments",
   "created_at" : "2023-07-01T21:39:21Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/28019",
   "id" : 1784271099,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII585qWdD7",
   "number" : 28019,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019/timeline",
   "title" : "docs: \"Fuzzing the Bitcoin Core P2P layer using Honggfuzz NetDriver\" is outdated",
   "updated_at" : "2023-07-01T21:42:46Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28019",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
      "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
      "followers_url" : "https://api.github.com/users/brunoerg/followers",
      "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
      "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/brunoerg",
      "id" : 19480819,
      "login" : "brunoerg",
      "node_id" : "MDQ6VXNlcjE5NDgwODE5",
      "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
      "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
      "repos_url" : "https://api.github.com/users/brunoerg/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/brunoerg"
   }
}
