{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "### Please describe the feature you'd like to see added.\r\n\r\nAuto detect if the host has connectivity to the IPv6 network and only attempt to make automatic outbound connections if it has.\r\n\r\n### Is your feature related to a problem, if so please describe it.\r\n\r\nIPv6 is set to reachable by default. If it is not in practice then some outbound connection attempts will be made in vain, trying to connect to IPv6 hosts.\r\n\r\n### Describe the solution you'd like\r\n\r\nIf the kernel does not have IPv6 support compiled in then `socket(2)`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/79e8247ddb166f9b980f40249b7372a502402a4d/src/netbase.cpp#L462\r\n\r\nshould return `EAFNOSUPPORT`.\r\n\r\nOr if the kernel has support, but the error from `connect(2)`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/79e8247ddb166f9b980f40249b7372a502402a4d/src/netbase.cpp#L527\r\n\r\nis `EADDRNOTAVAIL` then that means the machine has no IPv6 address configured (but it may be configured later).\r\n\r\nIn those cases, I guess, we can disable IPv6 with `SetReachable(NET_IPV6, false)` or at least log a warning prompting the user to explicitly list all reachable networks with `-onlynet` and omit IPv6 if it is not.\r\n\r\n### Describe any alternatives you've considered\r\n\r\nA workaround would be to list all other networks on `onlynet`, e.g. if there is connectivity to IPv4 and I2P, use `-onlynet=ipv4 -onlynet=i2p`. \r\n\r\n### Please leave any additional context\r\n\r\nInspired by https://github.com/bitcoin/bitcoin/pull/27213#pullrequestreview-1516531774",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061/comments",
   "created_at" : "2023-07-10T15:02:50Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/28061",
   "id" : 1796974074,
   "labels" : [
      {
         "color" : "7cf575",
         "default" : false,
         "description" : null,
         "id" : 64583,
         "name" : "Feature",
         "node_id" : "MDU6TGFiZWw2NDU4Mw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII585rG6X6",
   "number" : 28061,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061/timeline",
   "title" : "Auto detect IPv6 connectivity",
   "updated_at" : "2023-07-10T15:06:43Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28061",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
      "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
      "followers_url" : "https://api.github.com/users/vasild/followers",
      "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/vasild",
      "id" : 266751,
      "login" : "vasild",
      "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
      "organizations_url" : "https://api.github.com/users/vasild/orgs",
      "received_events_url" : "https://api.github.com/users/vasild/received_events",
      "repos_url" : "https://api.github.com/users/vasild/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/vasild"
   }
}
