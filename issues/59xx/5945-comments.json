[
   {
      "body" : "I tested this.  ACK.  \r\nI think it has the side effect of making reorgs a little faster too!",
      "created_at" : "2015-03-25T18:31:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5945#issuecomment-86161539",
      "id" : 86161539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5945",
      "updated_at" : "2015-03-25T18:31:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86161539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5945#discussion_r27178754"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5945"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27178754"
         }
      },
      "body" : "This could use some comments saying what this block of code is intending to actually do; not obvious right now.",
      "commit_id" : "c22adce0c1135055a51be8d5434f58322283ea9d",
      "created_at" : "2015-03-26T00:02:00Z",
      "diff_hunk" : "@@ -444,6 +444,14 @@ void CTxMemPool::remove(const CTransaction &origTx, std::list<CTransaction>& rem\n         LOCK(cs);\n         std::deque<uint256> txToRemove;\n         txToRemove.push_back(origTx.GetHash());\n+        if (fRecursive && !mapTx.count(origTx.GetHash())) {\n+            for (unsigned int i = 0; i < origTx.vout.size(); i++) {\n+                std::map<COutPoint, CInPoint>::iterator it = mapNextTx.find(COutPoint(origTx.GetHash(), i));\n+                if (it == mapNextTx.end())\n+                    continue;\n+                txToRemove.push_back(it->second.ptx->GetHash());\n+            }\n+        }\n         while (!txToRemove.empty())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5945#discussion_r27178754",
      "id" : 27178754,
      "original_commit_id" : "c22adce0c1135055a51be8d5434f58322283ea9d",
      "original_position" : 12,
      "path" : "src/txmempool.cpp",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5945",
      "updated_at" : "2015-03-26T00:02:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27178754",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   }
]
