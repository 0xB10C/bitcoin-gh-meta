[
   {
      "body" : "There is no need for a reject code, as this can never trigger for peer-to-peer initiated transactions, so it can never result in a reject message.\r\n\r\nIf you really need a reject code, add a REJECT_LOCAL or something, reserved for conditions that can only trigger locally (and mark it is an implementation detail, not related to BIP 61.",
      "created_at" : "2015-03-17T09:53:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-82251598",
      "id" : 82251598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-17T09:53:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82251598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I believe there should be a code, in case RPC users want to catch the error without having to match the text. Any convention for numbering or could I choose any arbitrary code? (0x60 perhaps)",
      "created_at" : "2015-03-17T13:02:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-82333121",
      "id" : 82333121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-17T13:02:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82333121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4781551?v=3",
         "events_url" : "https://api.github.com/users/shaulkf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaulkf/followers",
         "following_url" : "https://api.github.com/users/shaulkf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaulkf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaulkf",
         "id" : 4781551,
         "login" : "shaulkf",
         "organizations_url" : "https://api.github.com/users/shaulkf/orgs",
         "received_events_url" : "https://api.github.com/users/shaulkf/received_events",
         "repos_url" : "https://api.github.com/users/shaulkf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaulkf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaulkf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaulkf"
      }
   },
   {
      "body" : "Well you can't pick anything that could potentially be later used in the P2P protocol, which why I would prefer no actual code. If there really is a need for RPC error codes separately from what the peer to peer protocol does, perhaps there should just be two codes. In general, I think it's not possible to predict all possible reason for rejecting things, and not really viable to have codes for everything.",
      "created_at" : "2015-03-17T13:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-82339788",
      "id" : 82339788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-17T13:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82339788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I'm not sure what you mean by adding REJECT_LOCAL, should I create an error code which will be overloaded for any local error? How about REJECT_LOCAL = 0x00.",
      "created_at" : "2015-03-17T13:42:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-82357830",
      "id" : 82357830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-17T13:42:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82357830",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4781551?v=3",
         "events_url" : "https://api.github.com/users/shaulkf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaulkf/followers",
         "following_url" : "https://api.github.com/users/shaulkf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaulkf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaulkf",
         "id" : 4781551,
         "login" : "shaulkf",
         "organizations_url" : "https://api.github.com/users/shaulkf/orgs",
         "received_events_url" : "https://api.github.com/users/shaulkf/received_events",
         "repos_url" : "https://api.github.com/users/shaulkf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaulkf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaulkf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaulkf"
      }
   },
   {
      "body" : "You could use reject codes > 0x100 for local-only conditions. These cannot be passed over the P2P network.\r\n",
      "created_at" : "2015-03-18T08:11:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-82812237",
      "id" : 82812237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-18T08:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82812237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Is it okay to change reject message codes to `unsigned int` for this purpose? If not, please advise is we can assign a dedicated 2 byte code (e.g. 0x00 or 0xFF) for all REJECT_LOCAL errors. I prefer the first solution as RPC users can catch errors with explicit error codes.",
      "created_at" : "2015-03-18T18:49:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-83118660",
      "id" : 83118660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-18T18:49:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83118660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4781551?v=3",
         "events_url" : "https://api.github.com/users/shaulkf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaulkf/followers",
         "following_url" : "https://api.github.com/users/shaulkf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaulkf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaulkf",
         "id" : 4781551,
         "login" : "shaulkf",
         "organizations_url" : "https://api.github.com/users/shaulkf/orgs",
         "received_events_url" : "https://api.github.com/users/shaulkf/received_events",
         "repos_url" : "https://api.github.com/users/shaulkf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaulkf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaulkf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaulkf"
      }
   },
   {
      "body" : "@shaulkf Changing the internal type is fine with me, otherwise I wouldn't have suggested it. But be careful that you don't accidentally change the type that is sent in the protocol.",
      "created_at" : "2015-03-24T16:41:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-85592300",
      "id" : 85592300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-03-24T16:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85592300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-04-08T07:07:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-90826040",
      "id" : 90826040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-04-08T07:07:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/90826040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Needs rebase. I suggest leaving the const reject message codes (now in consensus/validation.h) as unsigned char, changing CValidationState as you already do, and putting the local codes in main.h (for now).",
      "created_at" : "2015-06-24T05:00:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-114727985",
      "id" : 114727985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-06-24T05:00:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/114727985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Also:\r\n```\r\nmain.cpp: In function Ã¢ÂÂvoid InvalidBlockFound(CBlockIndex*, const CValidationState&)Ã¢ÂÂ:\r\nmain.cpp:1369:56: warning: narrowing conversion of Ã¢ÂÂ(& state)->CValidationState::GetRejectCode()Ã¢ÂÂ from Ã¢ÂÂunsigned intÃ¢ÂÂ to Ã¢ÂÂunsigned charÃ¢ÂÂ inside { } is ill-formed in C++11 [-Wnarrowing]\r\n             CBlockReject reject = {state.GetRejectCode(), state.GetRejectReason().substr(0, MAX_REJECT_MESSAGE_LENGTH), pindex->GetBlockHash()};\r\n                                                        ^\r\n```\r\n\r\n",
      "created_at" : "2015-06-24T05:27:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-114731721",
      "id" : 114731721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-06-24T05:27:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/114731721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Needs rebase.\r\nI'd prefer to have something in really soon. RPC returns no clean error message and it is boring to look up the actual error in the debug log.\r\n",
      "created_at" : "2015-06-26T21:59:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-115901683",
      "id" : 115901683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-06-26T21:59:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115901683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Rebased and changed according to @luke-jr's recommendation",
      "created_at" : "2015-06-26T22:51:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5913#issuecomment-115911372",
      "id" : 115911372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5913",
      "updated_at" : "2015-06-26T22:51:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115911372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4781551?v=3",
         "events_url" : "https://api.github.com/users/shaulkf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaulkf/followers",
         "following_url" : "https://api.github.com/users/shaulkf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaulkf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaulkf",
         "id" : 4781551,
         "login" : "shaulkf",
         "organizations_url" : "https://api.github.com/users/shaulkf/orgs",
         "received_events_url" : "https://api.github.com/users/shaulkf/received_events",
         "repos_url" : "https://api.github.com/users/shaulkf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaulkf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaulkf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaulkf"
      }
   }
]
