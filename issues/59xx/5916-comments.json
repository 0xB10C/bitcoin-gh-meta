[
   {
      "body" : "Remembering where a key comes from, yeah, why not.\r\n",
      "created_at" : "2015-03-18T12:35:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-82950595",
      "id" : 82950595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-18T12:35:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82950595",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "\"generationtype\" may not be the best name though; we also have \"generated\" for wallet transactions that shows whether the coins were mined.\r\n",
      "created_at" : "2015-03-18T12:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-82951003",
      "id" : 82951003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-18T12:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82951003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "What about using `keyGenerationType`?\r\n",
      "created_at" : "2015-03-18T13:20:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-82967361",
      "id" : 82967361,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-18T13:20:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82967361",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "key_generation_type then, we don't tend to use lowerCamelCase in RPC",
      "created_at" : "2015-03-18T13:24:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-82968728",
      "id" : 82968728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-18T13:24:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82968728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Right.\r\nChanged and pushed.",
      "created_at" : "2015-03-18T13:30:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-82971389",
      "id" : 82971389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-18T13:30:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/82971389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5916#discussion_r26705426"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5916"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26705426"
         }
      },
      "body" : "Ramerewimberly ",
      "commit_id" : "c1bfd8128e164ea6526519d086ab9b176268c4f8",
      "created_at" : "2015-03-18T20:45:35Z",
      "diff_hunk" : "@@ -125,6 +125,8 @@ Value importprivkey(const Array& params, bool fHelp)\n             return Value::null;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#discussion_r26705426",
      "id" : 26705426,
      "original_commit_id" : "c1bfd8128e164ea6526519d086ab9b176268c4f8",
      "original_position" : 1,
      "path" : "src/rpcdump.cpp",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5916",
      "updated_at" : "2015-03-18T20:45:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26705426",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11310256?v=3",
         "events_url" : "https://api.github.com/users/rameredwimberly/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rameredwimberly/followers",
         "following_url" : "https://api.github.com/users/rameredwimberly/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rameredwimberly/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rameredwimberly",
         "id" : 11310256,
         "login" : "rameredwimberly",
         "organizations_url" : "https://api.github.com/users/rameredwimberly/orgs",
         "received_events_url" : "https://api.github.com/users/rameredwimberly/received_events",
         "repos_url" : "https://api.github.com/users/rameredwimberly/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rameredwimberly/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rameredwimberly/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rameredwimberly"
      }
   },
   {
      "body" : "Hm, one thought: Would the resulting wallet still be backwards compatible?\r\nWe have a versioning/upgrade system for wallets, not sure if it should be used here.",
      "created_at" : "2015-03-20T08:37:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-83956957",
      "id" : 83956957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-20T08:37:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83956957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Good point. I'll have to check/test the backward compatibility. I'm not sure what happens to the deserialization when there are one additional byte at the end.",
      "created_at" : "2015-03-20T09:02:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-83959645",
      "id" : 83959645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-20T09:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83959645",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "It's backward and forward compatible.\r\nTested.\r\n\r\nThe 1byte flag added at the end of the CKeyMetadata serialization stream will be ignored when running (old) master-branch. Using a \"new\" wallet on a \"old\" bitcoind will still keep the key generation data because Metadata is somehow immutable (will only be created/changes when a key gets generated).\r\nAlso testes with a full keypool generated with \"key generation type\". \r\n\r\n![bildschirmfoto-2015-03-20-um-10 50 30](https://cloud.githubusercontent.com/assets/178464/6749721/1855620a-cef3-11e4-8fc1-b29bd214339f.png)\r\n",
      "created_at" : "2015-03-20T10:20:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-83980596",
      "id" : 83980596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-20T10:20:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83980596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "SGTM, utACK\r\n",
      "created_at" : "2015-03-24T16:39:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-85591673",
      "id" : 85591673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-03-24T16:39:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85591673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5916#discussion_r31487702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5916"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/31487702"
         }
      },
      "body" : "Why are these 16-bit hex numbers for an 8-bit type?",
      "commit_id" : "b9bd7b22672bd5e435fc6eb77aca46d8d7e3639b",
      "created_at" : "2015-06-02T01:46:33Z",
      "diff_hunk" : "@@ -42,9 +42,15 @@ enum DBErrors\n class CKeyMetadata\n {\n public:\n-    static const int CURRENT_VERSION=1;\n+    static const int CURRENT_VERSION=2;\n+    static const uint8_t KEY_GENERATION_TYPE_UNKNOWN       = 0x0001;\n+    static const uint8_t KEY_GENERATION_TYPE_IMPORTED      = 0x0002;\n+    static const uint8_t KEY_GENERATION_TYPE_UNENC_WALLET  = 0x0004;\n+    static const uint8_t KEY_GENERATION_TYPE_ENC_WALLET    = 0x0008;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#discussion_r31487702",
      "id" : 31487702,
      "original_commit_id" : "b9bd7b22672bd5e435fc6eb77aca46d8d7e3639b",
      "original_position" : 9,
      "path" : "src/wallet/walletdb.h",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5916",
      "updated_at" : "2015-06-02T01:46:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/31487702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I don't understand the term \"generation\" in this context.",
      "created_at" : "2015-06-02T01:47:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5916#issuecomment-107770407",
      "id" : 107770407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5916",
      "updated_at" : "2015-06-02T01:47:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/107770407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
