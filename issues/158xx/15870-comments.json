[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nThere is an argument against doing things like this:  that it's better to fail deterministically rather than fail randomly at some point in the future and have created incorrect expectations of functionality.  But setting prune to some large \"future\" amount is a perfectly reasonable configuration.  And this doesn't cause it to fail randomly, but rather work until it doesn't.  So I don't believe the general argument against this sort of thing offsets the benefit.",
      "created_at" : "2019-04-22T18:44:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485509311",
      "id" : 485509311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTUwOTMxMQ==",
      "updated_at" : "2019-04-22T18:44:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485509311",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This seems to affect importaddress, importpubkey, importprivkey, and importwallet but not importmulti. I wonder how the new behavior compares to importmulti behavior, and if there's a difference, whether that's justified.",
      "created_at" : "2019-04-22T19:16:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485519649",
      "id" : 485519649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTUxOTY0OQ==",
      "updated_at" : "2019-04-22T19:16:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485519649",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15778](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15778.html) ([wallet] Move maxtxfee from node to wallet by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-04-22T19:30:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485523746",
      "id" : 485523746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTUyMzc0Ng==",
      "updated_at" : "2019-04-27T06:11:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485523746",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky The only difference between importmulti and the other calls is that in importmulti you can \"opt-out\" of scanning early blocks by setting a later timestamp. Otherwise, my change makes all calls behave in the same way.\r\n\r\nEdit: I believe the only difference is that importmulti will import the keys and then fail the rescan, whereas the other calls will exit early and not attempt to import anything.",
      "created_at" : "2019-04-22T19:34:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485524753",
      "id" : 485524753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTUyNDc1Mw==",
      "updated_at" : "2019-04-22T19:59:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485524753",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Edit: I believe the only difference is that importmulti will import the keys and then fail the rescan, whereas the other calls will exit early and not attempt to import anything.\r\n\r\nWhy a different behavior? It's already possible to call `importmulti ... '{\"rescan\": false}'` and then `rescanblockchain ...`? I think RPCs should (try to) be atomic so that the client doesn't have to figure out what succeeded or not.",
      "created_at" : "2019-04-24T20:12:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486407340",
      "id" : 486407340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NjQwNzM0MA==",
      "updated_at" : "2019-04-24T20:12:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486407340",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Why a different behavior?\r\n\r\nI don't know. I didn't write the importmulti RPC and I don't plan to change it in this pull request.",
      "created_at" : "2019-04-24T20:23:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486411063",
      "id" : 486411063,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NjQxMTA2Mw==",
      "updated_at" : "2019-04-24T20:23:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486411063",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278306246"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278306246"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Move to the chain lock?",
      "commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "created_at" : "2019-04-24T20:33:49Z",
      "diff_hunk" : "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278306246",
      "id" : 278306246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMwNjI0Ng==",
      "original_commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "original_position" : 5,
      "path" : "src/interfaces/chain.cpp",
      "position" : 5,
      "pull_request_review_id" : 230341302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
      "updated_at" : "2019-04-24T20:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278306246",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278307845"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278307845"
         }
      },
      "author_association" : "MEMBER",
      "body" : "A block can be pruned before RescanWallet (L202). What would be the error then?",
      "commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "created_at" : "2019-04-24T20:38:11Z",
      "diff_hunk" : "@@ -157,8 +157,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())\n             fRescan = request.params[2].get_bool();\n \n-        if (fRescan && pwallet->chain().getPruneMode()) {\n-            throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+        if (fRescan && pwallet->chain().havePruned()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278307845",
      "id" : 278307845,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMwNzg0NQ==",
      "original_commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "original_position" : 6,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 6,
      "pull_request_review_id" : 230341302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
      "updated_at" : "2019-04-24T20:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278307845",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315111"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It will throw an error `\"Rescan was unable to fully rescan the blockchain. Some transactions may be missing.\"`",
      "commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "created_at" : "2019-04-24T20:57:57Z",
      "diff_hunk" : "@@ -157,8 +157,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())\n             fRescan = request.params[2].get_bool();\n \n-        if (fRescan && pwallet->chain().getPruneMode()) {\n-            throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+        if (fRescan && pwallet->chain().havePruned()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315111",
      "id" : 278315111,
      "in_reply_to_id" : 278307845,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNTExMQ==",
      "original_commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "original_position" : 6,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 6,
      "pull_request_review_id" : 230352707,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
      "updated_at" : "2019-04-24T20:57:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315111",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315293"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315293"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why?",
      "commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "created_at" : "2019-04-24T20:58:28Z",
      "diff_hunk" : "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315293",
      "id" : 278315293,
      "in_reply_to_id" : 278306246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNTI5Mw==",
      "original_commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "original_position" : 5,
      "path" : "src/interfaces/chain.cpp",
      "position" : 5,
      "pull_request_review_id" : 230352946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
      "updated_at" : "2019-04-24T20:58:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315293",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278316048"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278316048"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry for the brief reply, but see here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/fad84519391a05f2ad42381cca9135323b709657/src/interfaces/chain.h#L69-L73\r\n\r\nThe chain lock is deprecated and will be removed in the future.",
      "commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "created_at" : "2019-04-24T21:00:32Z",
      "diff_hunk" : "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278316048",
      "id" : 278316048,
      "in_reply_to_id" : 278306246,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNjA0OA==",
      "original_commit_id" : "fad84519391a05f2ad42381cca9135323b709657",
      "original_position" : 5,
      "path" : "src/interfaces/chain.cpp",
      "position" : 5,
      "pull_request_review_id" : 230353926,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
      "updated_at" : "2019-04-24T21:00:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278316048",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept ACK. Correct me if I'm wrong, but it doesn't have to fail if all required blocks are available right?\r\n\r\nimportmulti does not fail the rescan when all blocks after the timestamp are available, but it fails *after* the import if a block is missing.\r\nthe other import* (after my change) also do not fail the rescan when all blocks after time=0 are available. However, they fail *before* the import if a block is missing.",
      "created_at" : "2019-04-24T21:03:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486425232",
      "id" : 486425232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NjQyNTIzMg==",
      "updated_at" : "2019-04-24T21:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486425232",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
