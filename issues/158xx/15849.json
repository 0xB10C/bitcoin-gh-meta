{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "I'm resurrecting this one (from #13168) because I need it to make progress on #15735. \r\n\r\nIt's now off by default and can be turned on with `-logthreadnames=1`.\r\n\r\nRan some benchmarks (IBD from local peer from 500_000 -> 504_000) and it's within spitting distance either on or off:\r\n\r\n### threadnames off (default)\r\n\r\n#### 2018-05-threadnames.3 vs. master (absolute)\r\n|                      name                      | iterations |   2018-05-threadnames.3    |           master           |\r\n|------------------------------------------------|-----------:|----------------------------|----------------------------|\r\n| ibd.local.500000.504000.dbcache=2048           |          3 | 376.1584 (ÃÂ± 9.2944)        | 392.3414 (ÃÂ± 13.4238)       |\r\n| ibd.local.500000.504000.dbcache=2048.mem-usage |          3 | 2236117.3333 (ÃÂ± 1845.9623) | 2238690.6667 (ÃÂ± 2669.3487) |\r\n\r\n#### 2018-05-threadnames.3 vs. master (relative)\r\n|                      name                      | iterations | 2018-05-threadnames.3 | master |\r\n|------------------------------------------------|-----------:|----------------------:|-------:|\r\n| ibd.local.500000.504000.dbcache=2048           |          3 |                     1 |  1.043 |\r\n| ibd.local.500000.504000.dbcache=2048.mem-usage |          3 |                     1 |  1.001 |\r\n\r\n\r\n\r\n### threadnames on\r\n\r\n#### 2018-05-threadnames-take-2 vs. master (absolute)\r\n|                      name                      | iterations | 2018-05-threadnames-take-2 |           master           |\r\n|------------------------------------------------|-----------:|----------------------------|----------------------------|\r\n| ibd.local.500000.504000.dbcache=2048           |          3 | 367.6861 (ÃÂ± 0.3941)        | 364.1667 (ÃÂ± 0.9776)        |\r\n| ibd.local.500000.504000.dbcache=2048.mem-usage |          3 | 2238461.3333 (ÃÂ± 3697.8730) | 2237014.6667 (ÃÂ± 3307.6966) |\r\n\r\n#### 2018-05-threadnames-take-2 vs. master (relative)\r\n|                      name                      | iterations | 2018-05-threadnames-take-2 | master |\r\n|------------------------------------------------|-----------:|---------------------------:|-------:|\r\n| ibd.local.500000.504000.dbcache=2048           |          3 |                      1.010 |   1.00 |\r\n| ibd.local.500000.504000.dbcache=2048.mem-usage |          3 |                      1.001 |   1.00 |\r\n```",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 9,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15849/comments",
   "created_at" : "2019-04-18T21:14:46Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15849/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/15849",
   "id" : 434962360,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 241832923,
         "name" : "Utils/log/libs",
         "node_id" : "MDU6TGFiZWwyNDE4MzI5MjM=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Utils/log/libs"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15849/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MjcxODM4MTMx",
   "number" : 15849,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/15849.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15849",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/15849.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15849"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Thread names in logs and deadlock debug tools",
   "updated_at" : "2019-04-27T18:11:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15849",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
      "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jamesob/followers",
      "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jamesob",
      "id" : 73197,
      "login" : "jamesob",
      "node_id" : "MDQ6VXNlcjczMTk3",
      "organizations_url" : "https://api.github.com/users/jamesob/orgs",
      "received_events_url" : "https://api.github.com/users/jamesob/received_events",
      "repos_url" : "https://api.github.com/users/jamesob/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jamesob"
   }
}
