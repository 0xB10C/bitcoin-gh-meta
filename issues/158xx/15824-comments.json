[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nVery nice!",
      "created_at" : "2019-04-16T07:04:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483537388",
      "id" : 483537388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzUzNzM4OA==",
      "updated_at" : "2019-04-16T07:04:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483537388",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\nping @theuni ",
      "created_at" : "2019-04-16T07:37:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483546894",
      "id" : 483546894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MzU0Njg5NA==",
      "updated_at" : "2019-04-16T07:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483546894",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK!",
      "created_at" : "2019-04-16T17:13:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-483764008",
      "id" : 483764008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4Mzc2NDAwOA==",
      "updated_at" : "2019-04-16T17:13:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/483764008",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276680669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276680669"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maybe align name params and description comments to ease readability, at least some functions in others parts of code are doing it ",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:10:33Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276680669",
      "id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MDY2OQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 73,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276680669",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276681943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276681943"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "maybe add a TODO to refactored out LookupNumeric by first-corresponding-service Lookup it seems feasible?",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:13:16Z",
      "diff_hunk" : "@@ -165,6 +220,16 @@ bool Lookup(const char *pszName, CService& addr, int portDefault, bool fAllowLoo\n     return true;\n }\n \n+/**\n+ * Resolve a service string with a numeric IP to its first corresponding",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276681943",
      "id" : 276681943,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MTk0Mw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 111,
      "path" : "src/netbase.cpp",
      "position" : 111,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276681943",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276683158"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276683158"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "redundancy between param hSocket and the note, maybe in param description stress on with \"has to be in non-blocking mode\"",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:15:52Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276683158",
      "id" : 276683158,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4MzE1OA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 146,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276683158",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276684265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276684265"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: SetSocketNonBlocking(const SOCKET&, true), bool doesn't imply socket is blocking/non-blocking (and maybe add a TODO to refactor SetSocketNonBlocking without fNonBlocking flag, which seems useless given function name expected semantic)",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:18:20Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276684265",
      "id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4NDI2NQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 149,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276684265",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276685084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276685084"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maximum to wait for \"readyness\" of any I/O operation?",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:20:09Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).\n  */\n static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n {\n     int64_t curTime = GetTimeMillis();\n     int64_t endTime = curTime + timeout;\n-    // Maximum time to wait in one select call. It will take up until this time (in millis)\n+    // Maximum time to wait for I/O. It will take up until this time (in millis)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276685084",
      "id" : 276685084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4NTA4NA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 158,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276685084",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276687892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276687892"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "^ above, nit: maybe ParseNetwork could get also a little comment on which networks are currently supported due to addr v1, notably diff between tor and onion",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-04-18T14:26:33Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r276687892",
      "id" : 276687892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NjY4Nzg5Mg==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : 4,
      "pull_request_review_id" : 228307868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/276687892",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice, concept ACK.",
      "created_at" : "2019-04-22T10:03:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-485382048",
      "id" : 485382048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4NTM4MjA0OA==",
      "updated_at" : "2019-04-22T10:03:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485382048",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r280125977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280125977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please don't add TODOs to the comments, especially not for refactors",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-01T16:24:35Z",
      "diff_hunk" : "@@ -165,6 +220,16 @@ bool Lookup(const char *pszName, CService& addr, int portDefault, bool fAllowLoo\n     return true;\n }\n \n+/**\n+ * Resolve a service string with a numeric IP to its first corresponding",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r280125977",
      "id" : 280125977,
      "in_reply_to_id" : 276681943,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDEyNTk3Nw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 111,
      "path" : "src/netbase.cpp",
      "position" : 111,
      "pull_request_review_id" : 232641829,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280125977",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15981](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15981.html) (Use __func__ for log messages by Bushstar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-05-08T20:44:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-490490963",
      "id" : 490490963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MDQ5MDk2Mw==",
      "updated_at" : "2019-05-08T20:44:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/490490963",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284311744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284311744"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I wrote `SetSocketNonBlocking(const SOCKET&, bool)` so that Doxygen would render it and auto-link to the correct function if we ever made this function public. The name for `SetSocketNonBlocking` is a little confusing but I think one look at the function declaration/comment is probably enough to clear that up.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-15T15:18:47Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284311744",
      "id" : 284311744,
      "in_reply_to_id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMxMTc0NA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 149,
      "pull_request_review_id" : 237894495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284311744",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284328949"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284328949"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure what exact alignment you mean, but my `netaddress` comments have been aligned like this as well. Lmk!",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-15T15:53:55Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284328949",
      "id" : 284328949,
      "in_reply_to_id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMyODk0OQ==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 73,
      "pull_request_review_id" : 237916548,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284328949",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284331856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284331856"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed in https://github.com/bitcoin/bitcoin/pull/16029",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-15T15:59:57Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284331856",
      "id" : 284331856,
      "in_reply_to_id" : 276687892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMTg1Ng==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : 4,
      "pull_request_review_id" : 237920288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284331856",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332657"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks!",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-15T16:01:39Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).\n  */\n static IntrRecvError InterruptibleRecv(uint8_t* data, size_t len, int timeout, const SOCKET& hSocket)\n {\n     int64_t curTime = GetTimeMillis();\n     int64_t endTime = curTime + timeout;\n-    // Maximum time to wait in one select call. It will take up until this time (in millis)\n+    // Maximum time to wait for I/O. It will take up until this time (in millis)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332657",
      "id" : 284332657,
      "in_reply_to_id" : 276685084,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMjY1Nw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 158,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 237921301,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332657",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332703"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332703"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks!",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-15T16:01:46Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284332703",
      "id" : 284332703,
      "in_reply_to_id" : 276683158,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzMjcwMw==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 146,
      "path" : "src/netbase.cpp",
      "position" : null,
      "pull_request_review_id" : 237921369,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-15T16:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284332703",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed comments",
      "created_at" : "2019-05-15T17:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-492738880",
      "id" : 492738880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MjczODg4MA==",
      "updated_at" : "2019-05-15T17:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492738880",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284504838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284504838"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Was thinking something likely to `BroadcastTransaction` in `transaction.h`, but that's a nit, doesn't matter!",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-16T00:53:22Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284504838",
      "id" : 284504838,
      "in_reply_to_id" : 276680669,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDUwNDgzOA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 73,
      "path" : "src/netbase.cpp",
      "position" : 73,
      "pull_request_review_id" : 238136182,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-16T00:53:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284504838",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284505400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284505400"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah okay, need to unset non-blocking socket was removed long time ago in #4869, but maybe there could be an usage of it for future new types of socket..",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-16T00:57:09Z",
      "diff_hunk" : "@@ -234,21 +299,30 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"\n+ * and \"see also\" sections for more detail.\n  *\n- * @param data Buffer to receive into\n- * @param len  Length of data to receive\n- * @param timeout  Timeout in milliseconds for receive operation\n+ * @param data The buffer where the read bytes should be stored.\n+ * @param len The number of bytes to read into the specified buffer.\n+ * @param timeout The total timeout in milliseconds for this read.\n+ * @param hSocket The socket (in non-blocking mode) from which to read bytes.\n  *\n- * @note This function requires that hSocket is in non-blocking mode.\n+ * @returns An IntrRecvError indicating the resulting status of this read.\n+ *          IntrRecvError::OK only if all of the specified number of bytes were\n+ *          read.\n+ *\n+ * @note This function requires that the specified socket is in non-blocking\n+ *       mode.\n+ *\n+ * @see This function can be interrupted by calling InterruptSocks5(bool).\n+ *      Sockets can be made non-blocking with SetSocketNonBlocking(const\n+ *      SOCKET&, bool).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r284505400",
      "id" : 284505400,
      "in_reply_to_id" : 276684265,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDUwNTQwMA==",
      "original_commit_id" : "8becd94b710ee81703655ffaec1a4396acf5ccdb",
      "original_position" : 151,
      "path" : "src/netbase.cpp",
      "position" : 149,
      "pull_request_review_id" : 238136839,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-16T00:57:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284505400",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 375d9c8",
      "created_at" : "2019-05-16T00:57:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-492876230",
      "id" : 492876230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5Mjg3NjIzMA==",
      "updated_at" : "2019-05-16T00:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492876230",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Will review.",
      "created_at" : "2019-05-16T16:42:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#issuecomment-493143897",
      "id" : 493143897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15824",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5MzE0Mzg5Nw==",
      "updated_at" : "2019-05-16T16:42:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493143897",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285698786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285698786"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: eliminate \"lengthy\" here, as it misrepresents the primary reason for disabling lookups (privacy, not performance).",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T17:39:20Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285698786",
      "id" : 285698786,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTY5ODc4Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 18,
      "path" : "src/netbase.cpp",
      "position" : 18,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285698786",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285704247"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285704247"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It occurs to me (because of this helpful new comment) that the addresses that we return for AF_UNSPEC lookups are hugely biased based on the order in which the OS returns them. For example, if the OS always returns ipv4 addresses before ipv6 addresses rather than interleaving, we may hit nMaxSolutions before adding a single ipv6 result.\r\n\r\nSimilarly, it could mean that different OSs are biased differently towards ipv4 or ipv6. That's an opportunity for fingerprinting, though the complexities of ipv6 deployments probably immunize us against that.\r\n\r\nWithout researching I'm not sure what to do, but we definitely should make sure that we understand and document the current behavior.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T17:54:32Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285704247",
      "id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcwNDI0Nw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 27,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285704247",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285707613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285707613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "See above comment about \"lengthy\".\r\n\r\nEdit: Aha! You got it from the manpages ;)\r\n```\r\nThe AI_NUMERICHOST flag suppresses any potentially lengthy network host address lookups.\r\n```\r\nWe're more interested in the \"suppresses\" part than the \"lengthy\" part.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T18:04:23Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285707613",
      "id" : 285707613,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcwNzYxMw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 82,
      "path" : "src/netbase.cpp",
      "position" : 82,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285707613",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285712343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285712343"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would be clearer to point out that we treat \".onion\" addresses the same way as we treat IPv4 a.b.c.d or IPv6 hex addresses, with the exception that the standard library resolving function don't support them.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T18:17:26Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285712343",
      "id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMjM0Mw==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : 4,
      "pull_request_review_id" : 239651925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T18:22:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285712343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713045"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What note?",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T18:19:22Z",
      "diff_hunk" : "@@ -234,22 +299,29 @@ enum class IntrRecvError {\n };\n \n /**\n- * Read bytes from socket. This will either read the full number of bytes requested\n- * or return False on error or timeout.\n- * This function can be interrupted by calling InterruptSocks5()\n+ * Try to read a specified number of bytes from a socket. Please read the \"note\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713045",
      "id" : 285713045,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMzA0NQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 130,
      "path" : "src/netbase.cpp",
      "position" : 130,
      "pull_request_review_id" : 239651925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T18:22:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713045",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"only allow parsing\" is dangerous here, because it strongly implies that only string parsing will be done. Additionally, onion addresses are \"resolved\" and getaddrinfo may still be called with AI_NUMERICHOST.\r\n\r\nHow about something more elegant than: \"fAllowLookup Whether or not hostname lookups are permitted. If yes, external queries may be performed.\"",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T18:20:51Z",
      "diff_hunk" : "@@ -137,6 +166,26 @@ bool LookupHost(const char *pszName, CNetAddr& addr, bool fAllowLookup)\n     return true;\n }\n \n+/**\n+ * Resolve a service string to its corresponding service.\n+ *\n+ * @param pszName The string representing a service. Could be a name or a\n+ *                numerical IP address (IPv6 addresses should be in their\n+ *                disambiguated bracketed form), optionally followed by a port\n+ *                number. (e.g. example.com:8333 or\n+ *                [2001:db8:85a3:8d3:1319:8a2e:370:7348]:420)\n+ * @param[out] vAddr The resulting services to which the specified service string\n+ *                   resolved.\n+ * @param portDefault The default port for resulting services if not specified\n+ *                    by the service string.\n+ * @param fAllowLookup Whether or not we allow lengthy lookups by hostnames, or\n+ *                     only allow parsing of numerical IPs.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285713584",
      "id" : 285713584,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMzU4NA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 83,
      "path" : "src/netbase.cpp",
      "position" : 83,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285713584",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285719598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285719598"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it a socket or a file descriptor? :)",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T18:37:47Z",
      "diff_hunk" : "@@ -464,17 +566,18 @@ SOCKET CreateSocket(const CService &addrConnect)\n \n #ifdef SO_NOSIGPIPE\n     int set = 1;\n-    // Different way of disabling SIGPIPE on BSD\n+    // Set the no-sigpipe option on the socket for BSD systems, other UNIXes\n+    // should use the MSG_NOSIGNAL flag for every send.\n     setsockopt(hSocket, SOL_SOCKET, SO_NOSIGPIPE, (void*)&set, sizeof(int));\n #endif\n \n-    //Disable Nagle's algorithm\n+    // Set the no-delay option (disable Nagle's algorithm) on the TCP socket.\n     SetSocketNoDelay(hSocket);\n \n-    // Set to non-blocking\n+    // Set the non-blocking option on the file descriptor.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285719598",
      "id" : 285719598,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxOTU5OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 263,
      "path" : "src/netbase.cpp",
      "position" : 263,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285719598",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285728451"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285728451"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: \"async I/O api (select/poll) synchronously\". Just so nobody goes looking for the missing magic to make this happen in the background.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T19:03:19Z",
      "diff_hunk" : "@@ -501,12 +617,17 @@ bool ConnectSocketDirectly(const CService &addrConnect, const SOCKET& hSocket, i\n         LogPrintf(\"Cannot connect to %s: unsupported network\\n\", addrConnect.ToString());\n         return false;\n     }\n+\n+    // Connect to the addrConnect service on the hSocket socket.\n     if (connect(hSocket, (struct sockaddr*)&sockaddr, len) == SOCKET_ERROR)\n     {\n         int nErr = WSAGetLastError();\n         // WSAEINVAL is here because some legacy version of winsock uses it\n         if (nErr == WSAEINPROGRESS || nErr == WSAEWOULDBLOCK || nErr == WSAEINVAL)\n         {\n+            // Connection didn't actually fail, but is being established\n+            // asynchronously. Thus, use async I/O api (select/poll) to check",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285728451",
      "id" : 285728451,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcyODQ1MQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 306,
      "path" : "src/netbase.cpp",
      "position" : 306,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285728451",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285737545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285737545"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe most of this comment is incorrect, or at least very misleading :(.\r\n\r\nSetNameProxy makes sure that all resolves are routed through a proxy rather than being done ourselves. No need to bring the higher-level 'getaddr' into it.\r\n\r\nMaybe you grepped for HasNameProxy and missed the use of GetNameProxy in ConnectNode()? If so, looking at that may change your understanding somewhat.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T19:31:14Z",
      "diff_hunk" : "@@ -572,6 +702,20 @@ bool GetProxy(enum Network net, proxyType &proxyInfoOut) {\n     return true;\n }\n \n+/**\n+ * Set the proxy to use for populating our peer list using a one-shot `getaddr`",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285737545",
      "id" : 285737545,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTczNzU0NQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 339,
      "path" : "src/netbase.cpp",
      "position" : 339,
      "pull_request_review_id" : 239634928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285737545",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285739868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285739868"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think it would be clearer to point out that we treat \".onion\" addresses the same way as we treat IPv4 a.b.c.d or IPv6 hex addresses\r\n\r\nNot 100% sure what you mean here, specifically, what is your specific meaning of \"treat the same way\"?",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T19:38:48Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285739868",
      "id" : 285739868,
      "in_reply_to_id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTczOTg2OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : 4,
      "pull_request_review_id" : 239686410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285739868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285740786"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285740786"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe @EthanHeilman has some experience with this?",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T19:41:49Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285740786",
      "id" : 285740786,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc0MDc4Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 27,
      "pull_request_review_id" : 239687601,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:41:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285740786",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285745810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285745810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For example \"1.2.3.4\" is a name, but it's one that directly encodes an IP address; no resolving is done when you turn it into a CNetAddr, it's just converted. The same is true for onion addresses; from our perspective, those are not hostnames - they're direct encodings of CNetAddr for onion addresses.\n\nIn contrast, \"sipa.be\" is a hostname that needs network activity to resolve to a CNetAddr.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T19:57:26Z",
      "diff_hunk" : "@@ -68,6 +68,8 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n \n     {\n         CNetAddr addr;\n+        // We can't actually resolve onion addresses, return a network address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285745810",
      "id" : 285745810,
      "in_reply_to_id" : 285712343,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc0NTgxMA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 4,
      "path" : "src/netbase.cpp",
      "position" : 4,
      "pull_request_review_id" : 239694191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T19:57:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285745810",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285764866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285764866"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I would have assumed just reading this code that the OS would not impose an order on the addresses returned. However after @theuni's comment I see no reason why that assumption is justified. It seems entirely plausible that the OS or some upstream source would impose an order. Randomizing the order of the linked list would negate all of this.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T20:55:49Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285764866",
      "id" : 285764866,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc2NDg2Ng==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 27,
      "pull_request_review_id" : 239718797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T20:55:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285764866",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285766861"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285766861"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@EthanHeilman Because AF_UNSPEC actually results in two separate/parallel resolves internally, I would assume that for performance reasons the final list would simply be those two lists concatenated.\r\n\r\nEdit: Unless libc's randomize internally to harden against this type of thing.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-20T21:01:21Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r285766861",
      "id" : 285766861,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTc2Njg2MQ==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 27,
      "pull_request_review_id" : 239721273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-20T21:03:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285766861",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286160778"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286160778"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@theuni Even if it turns out the OS randomizes the list, that make not hold in the future and/or across OSes. If we expect the lists to be randomized in this code and it seems like we do, we should randomize the lists ourselves. Seems like a neat starter project.",
      "commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "created_at" : "2019-05-21T18:18:21Z",
      "diff_hunk" : "@@ -77,15 +79,21 @@ bool static LookupIntern(const char *pszName, std::vector<CNetAddr>& vIP, unsign\n     struct addrinfo aiHint;\n     memset(&aiHint, 0, sizeof(struct addrinfo));\n \n+    // We want a TCP port, which is a streaming socket type\n     aiHint.ai_socktype = SOCK_STREAM;\n     aiHint.ai_protocol = IPPROTO_TCP;\n+    // We don't care which address family (IPv4 or IPv6) is returned\n     aiHint.ai_family = AF_UNSPEC;\n+    // If we allow lengthy lookups of hostnames, only return addresses whose\n+    // family we have an address configured for.\n     aiHint.ai_flags = fAllowLookup ? AI_ADDRCONFIG : AI_NUMERICHOST;\n     struct addrinfo *aiRes = nullptr;\n     int nErr = getaddrinfo(pszName, nullptr, &aiHint, &aiRes);\n     if (nErr)\n         return false;\n \n+    // Traverse the linked list starting with aiTrav, add all non-internal\n+    // IPv4,v6 addresses to vIP while respecting nMaxSolutions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15824#discussion_r286160778",
      "id" : 286160778,
      "in_reply_to_id" : 285704247,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NjE2MDc3OA==",
      "original_commit_id" : "375d9c8d0f52ab6e4438c9bc4c6702916a9da20f",
      "original_position" : 27,
      "path" : "src/netbase.cpp",
      "position" : 27,
      "pull_request_review_id" : 240218991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15824",
      "updated_at" : "2019-05-21T18:18:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/286160778",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   }
]
