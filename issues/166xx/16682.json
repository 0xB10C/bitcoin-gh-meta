{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "`-blocksonly` mode was introduced in\r\n4044f07d1c5eacb0ec732f1232489aa77fb7bb3b and allows nodes to request\r\nthat their peers don't relay txs to them. This is done by setting the\r\n'relay' field in the VERSION message (introduced in BIP37) to false.\r\n\r\nTx INVs received from peers when running in blocksonly mode previously\r\nresulted in a log message \"transaction inv sent in violation of\r\nprotocol\". When running in -blocksonly, it has been observed that\r\nseveral peers advertising as Satoshi:0.18.0 were persistently sending us\r\ntx INVs in violation of the protocol. These are suspected of being spy\r\nnodes.\r\n\r\nChange the behaviour to disconnect nodes that send us tx INVs after\r\nwe've requested no tx relay.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 7,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16682/comments",
   "created_at" : "2019-08-22T15:33:22Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16682/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/16682",
   "id" : 484065571,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      },
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16682/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzEwMDE5ODMz",
   "number" : 16682,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/16682.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16682",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/16682.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16682"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "net_processing: Disconnect blocks-only peers that send us tx INVs",
   "updated_at" : "2019-08-22T16:37:27Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16682",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
