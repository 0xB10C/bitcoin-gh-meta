[
   {
      "body" : "Is there a reason you didn't use the HTTP methods in rpc.cpp?  bitcoin already knows how to make http requests.\r\n\r\nAlso, fetching bitcoin addresses via http is insecure-- you're vulnerable to a man-in-the-middle attack.  Fetching securely means https and (probably) shipping bitcoin with certificate authority certificates, so you can be sure that you actually are talking to xkcd.com to get their address.\r\n",
      "created_at" : "2011-04-20T18:29:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1034690",
      "id" : 1034690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-20T18:29:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1034690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I guess methods in rcp wasn't available in the GUI (because they are not used by the GUI, right ?), so I inspired myself by the GetMyExternalIP function (in net.cpp) that retreive remote IP with a GET request. I'll have a look at them (I need a GET request with an uri and Host, I may create one so ?).\n\nFetching in https would be more secure indeed, but it's not available on every site (and there is a lot of self signed certificates). So, should we check https first and then use http as fallback ?\nBitcoin should use the certifcates of the OS instead of shipping them. Is it possible on windows ?",
      "created_at" : "2011-04-20T20:29:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1035641",
      "id" : 1035641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-20T21:05:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1035641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "No, falling back on http is a huge security risk (MITM attackers can easily block https).",
      "created_at" : "2011-04-20T23:19:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1036719",
      "id" : 1036719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-20T23:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1036719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "A bitcoin user is vulnerable to a MITM attack because of DNS resolution not using DNSSEC (irc connections, dnsseed and dyndns) and TCP connections to ip not using SSL verifiable certificates. Once he controls all connections...\nPossibilities for the attacker are :\n- make the user believe he has been paid by sending a transaction from already spent coins on the real nodes\n- generate fake blocks for confirmations and fake transactions\nSo, you can't really trust 100% what is displayed by your bitcoin client ?\n\nBy fetching addresses in http, it adds an additional risk :\n- a user can send coins directly to the attacker\nI admit it is a big risk, but it should not block the possibility to fetch an address even if the connection is not secured. However, the user should be warn in this case and decide what to do with a manual action (you won't send 500BTC that way do you ?).\n\nA way to do it securely would be to send the fetch request to connected first level nodes and compare results (or shasum to shorten the message). But, bitcoin network is not ready/designed for trusted nodes.\n\nAnother solution is to have a centralized site for address fetching. If a think a centralized solution was good i would already have linked my patch with my domain :p. Maybe, I could fetch both from a direct request to the website and make a second request to one of the trusted ip (declared like bitseed ips) ?",
      "created_at" : "2011-04-21T11:35:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1038827",
      "id" : 1038827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-21T12:07:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1038827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "- Use of rpc methods the read the request\r\n- use of HTTPS only to fetch address\r\n- using .json instead of .txt",
      "created_at" : "2011-04-21T21:53:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1041618",
      "id" : 1041618,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-21T21:53:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "Do you have any additional comment on this pull request ?",
      "created_at" : "2011-04-22T20:48:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1045543",
      "id" : 1045543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-22T20:50:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045543",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "Did you figure out how to get SSL to verify the identity of the server?  Just using SSL isn't sufficient to prevent MITM attacks, SSL has to actually verify that the server you're talking to presents a valid certificate.",
      "created_at" : "2011-04-22T20:54:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1045564",
      "id" : 1045564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-22T20:54:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1045564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "TheBlueMatt > the port here was not used, but i've cleaned it up, thanks.\n\ngavinandresen > this new patch checks certificate against locales certificates. It is currently configured only for linux by searching in '/etc/ssl/certs'. I don't know if other OS have a common path for certificates or if we should embed them with bitcoin ?\n\nIf you want to test :\nkhal@bitcoin-contact.org : valid CaCert certificate (now :p) => sould return a messageBox with infos in the GUI\nkhal@sky-animes.com : self signed (and with another domain name) => invalid address",
      "created_at" : "2011-04-23T12:06:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1047247",
      "id" : 1047247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-04-26T14:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1047247",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "The only remaining issue with this change, IMO, is privacy.\r\n\r\nThis change enables easier external observation of the precise moment when a bitcoin user is making a transaction.\r\n\r\nAs such, these lookups should be disabled by default, and proactively enabled by the user via command line switch or GUI option checkbox.\r\n",
      "created_at" : "2011-05-06T11:59:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1110897",
      "id" : 1110897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-05-06T11:59:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1110897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I don't know what kind of work would be needed, but it would be really nice to get this to work on OSX and/or Win32",
      "created_at" : "2011-05-06T12:36:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1111049",
      "id" : 1111049,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-05-06T12:36:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111049",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Include a list of root certificates with bitcoin i guess. Is-it an acceptable situation ?",
      "created_at" : "2011-05-06T12:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1111125",
      "id" : 1111125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-05-06T12:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/729047?v=3",
         "events_url" : "https://api.github.com/users/khalahan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/khalahan/followers",
         "following_url" : "https://api.github.com/users/khalahan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/khalahan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/khalahan",
         "id" : 729047,
         "login" : "khalahan",
         "organizations_url" : "https://api.github.com/users/khalahan/orgs",
         "received_events_url" : "https://api.github.com/users/khalahan/received_events",
         "repos_url" : "https://api.github.com/users/khalahan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/khalahan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/khalahan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/khalahan"
      }
   },
   {
      "body" : "That is what many browsers do, but I don't think we want to support that, do we? eg, Mozilla had to ship an update to firefox to blacklist certificates when one CA was compromised recently.",
      "created_at" : "2011-05-06T13:09:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-1111173",
      "id" : 1111173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-05-06T13:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1111173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "There's no secure way of doing this. If someone wants to send bitcoins they have to have an address to send to. It's their problem how to verify that the address is correct. The bitcoin client shouldn't try to do this because it's too hard and when it is compromised, it will be blamed. I'm reminded of the old saying \"Every application grows until it can send email\". How about we concentrate on our core function?",
      "created_at" : "2011-10-13T03:06:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/174#issuecomment-2390768",
      "id" : 2390768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/174",
      "updated_at" : "2011-10-13T03:06:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2390768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1066567?v=3",
         "events_url" : "https://api.github.com/users/ByteCoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ByteCoin/followers",
         "following_url" : "https://api.github.com/users/ByteCoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ByteCoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ByteCoin",
         "id" : 1066567,
         "login" : "ByteCoin",
         "organizations_url" : "https://api.github.com/users/ByteCoin/orgs",
         "received_events_url" : "https://api.github.com/users/ByteCoin/received_events",
         "repos_url" : "https://api.github.com/users/ByteCoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ByteCoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ByteCoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ByteCoin"
      }
   }
]
