[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120900829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120900829"
         }
      },
      "body" : "Probably s/TransactionAddedWallet/TransactionAddedToWallet/ for consistency",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-08T14:19:40Z",
      "diff_hunk" : "@@ -52,6 +53,8 @@ struct CMainSignals {\n     boost::signals2::signal<void (const CBlockIndex *, const CBlockIndex *, bool fInitialDownload)> UpdatedBlockTip;\n     /** Notifies listeners of a transaction having been added to mempool. */\n     boost::signals2::signal<void (const CTransactionRef &)> TransactionAddedToMempool;\n+    /** Notifies listeners of a transaction having been added to the wallet. */\n+    boost::signals2::signal<void (const CTransactionRef &, uint256 hashBlock)> TransactionAddedWallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120900829",
      "id" : 120900829,
      "original_commit_id" : "76d3e3bb9e2d5fd5e0c570489cc377ce95cc370f",
      "original_position" : 13,
      "path" : "src/validationinterface.h",
      "position" : null,
      "pull_request_review_id" : 42904618,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120900829",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120901050"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120901050"
         }
      },
      "body" : "Throughout the PR, should use `const uint256&` instead of `uint256` arg type to avoid unnecessary copies.",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-08T14:20:36Z",
      "diff_hunk" : "@@ -52,6 +53,8 @@ struct CMainSignals {\n     boost::signals2::signal<void (const CBlockIndex *, const CBlockIndex *, bool fInitialDownload)> UpdatedBlockTip;\n     /** Notifies listeners of a transaction having been added to mempool. */\n     boost::signals2::signal<void (const CTransactionRef &)> TransactionAddedToMempool;\n+    /** Notifies listeners of a transaction having been added to the wallet. */\n+    boost::signals2::signal<void (const CTransactionRef &, uint256 hashBlock)> TransactionAddedWallet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120901050",
      "id" : 120901050,
      "original_commit_id" : "76d3e3bb9e2d5fd5e0c570489cc377ce95cc370f",
      "original_position" : 13,
      "path" : "src/validationinterface.h",
      "position" : null,
      "pull_request_review_id" : 42904618,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120901050",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120901415"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120901415"
         }
      },
      "body" : "Maybe wrap these lines for consistency with rest of the file.",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-08T14:21:55Z",
      "diff_hunk" : "@@ -75,6 +77,11 @@ notification `-zmqpubhashtx` the topic is `hashtx` (no null\n terminator) and the body is the hexadecimal transaction hash (32\n bytes).\n \n+For wallet transaction notifications (both hash and tx), the topic also indicate if the transaction came from a block or mempool.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r120901415",
      "id" : 120901415,
      "original_commit_id" : "76d3e3bb9e2d5fd5e0c570489cc377ce95cc370f",
      "original_position" : 15,
      "path" : "doc/zmq.md",
      "position" : null,
      "pull_request_review_id" : 42904618,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120901415",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Concept ACK - however some comments:\r\n\r\n- This should respect `ENABLE_WALLET`, for compiling without wallet support\r\n- It should respect runtime `-wallet=0`\r\n- Wallet events should not go through `CValidationInterface`, it is for validation events only.  To do this correctly, zmq should subscribe to wallet events through `CWallet` directly.",
      "created_at" : "2017-06-08T14:41:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-307124685",
      "id" : 307124685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-08T14:53:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307124685",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@ryanofsky fixed the type, wrapped the docs and using `const uint256 &hashBlock`\r\n@laanwj using wallet directly (without going through CValidationInterface)  and respecting  `ENABLE_WALLET`. Respecting `-wallet=0` by checking if `pwalletMain` is not null.",
      "created_at" : "2017-06-08T23:05:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-307251062",
      "id" : 307251062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-08T23:05:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307251062",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "body" : "@ryanofsky @laanwj rebased the pull request on top of @jnewbery pull request #10555 and now all tests are passing",
      "created_at" : "2017-06-10T20:39:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-307588958",
      "id" : 307588958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-10T20:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307588958",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "body" : "Does ZMQ have any authentication? I believe originally nothing wallet-related was exposed through it, as there may at least by privacy issues from publishing this.",
      "created_at" : "2017-06-12T22:52:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-307957621",
      "id" : 307957621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-12T22:52:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307957621",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "zeromq does have authentication, but it is not being used within bitcoind.\r\nDo you think it is needed here? my only counter argument is that it should be exposed to internal network and trusted peers only.\r\n\r\nBut if you feel that it is needed I can add authentication for the wallet publishers.\r\n",
      "created_at" : "2017-06-13T06:41:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-308022200",
      "id" : 308022200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-13T06:41:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308022200",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "body" : "> Do you think it is needed here? my only counter argument is that it should be exposed to internal network and trusted peers only.\r\n\r\nWe could just add a warning (to the option help enabling this) that the API is unauthenticated, and thus wallet notifications should not be used when the zmq endpoints are accessible to other users - they can be restricted by other means, e.g. binding locally, binding to UNIX socket, firewall, etc.\r\n\r\n> But if you feel that it is needed I can add authentication for the wallet publishers.\r\n\r\nI'd insist on that only when adding control of the wallet to the ZMQ interface.",
      "created_at" : "2017-06-13T07:17:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-308029001",
      "id" : 308029001,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-13T07:17:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308029001",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I have no strong opinion on the need for authentication; I just wanted to bring up that I believed that was the reason for not having wallet specific notifications in ZMQ before.",
      "created_at" : "2017-06-13T08:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-308042133",
      "id" : 308042133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-13T08:16:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308042133",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2017-06-18T12:27:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-309274760",
      "id" : 309274760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-18T12:27:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309274760",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke rebased",
      "created_at" : "2017-06-20T17:31:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-309831165",
      "id" : 309831165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-20T17:31:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309831165",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123048670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123048670"
         }
      },
      "body" : "nit: missing braces `{` and `}` for the if block, also this need adjustment for multiwallet.",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-20T17:52:58Z",
      "diff_hunk" : "@@ -110,6 +116,12 @@ bool CZMQNotificationInterface::Initialize()\n void CZMQNotificationInterface::Shutdown()\n {\n     LogPrint(BCLog::ZMQ, \"zmq: Shutdown notification interface\\n\");\n+\n+#ifdef ENABLE_WALLET\n+    if (pwalletMain)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123048670",
      "id" : 123048670,
      "original_commit_id" : "3c0050839a1f77d3cf916f2e9c964d7471a71b07",
      "original_position" : 28,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 45216891,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123048670",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123075969"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123075969"
         }
      },
      "body" : "fixed both",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-20T19:44:23Z",
      "diff_hunk" : "@@ -110,6 +116,12 @@ bool CZMQNotificationInterface::Initialize()\n void CZMQNotificationInterface::Shutdown()\n {\n     LogPrint(BCLog::ZMQ, \"zmq: Shutdown notification interface\\n\");\n+\n+#ifdef ENABLE_WALLET\n+    if (pwalletMain)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123075969",
      "id" : 123075969,
      "original_commit_id" : "3c0050839a1f77d3cf916f2e9c964d7471a71b07",
      "original_position" : 28,
      "path" : "src/zmq/zmqnotificationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 45246178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123075969",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "body" : "@MarcoFalke fixed and rebased",
      "created_at" : "2017-06-20T20:14:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#issuecomment-309877974",
      "id" : 309877974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10554",
      "updated_at" : "2017-06-20T20:14:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309877974",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123296590"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123296590"
         }
      },
      "body" : "I think you should make this a static variable to make the zmq code simpler and less fragile and remove the dependency on ::vpwallets. Advantages of making this static:\r\n\r\n* It will let you get rid of the `ConnectToWalletSignals` method and all the ifdefed code around it and simply connect to the signal in `CZMQNotificationInterface::Initialize` consistent with you how currently disconnect in `CZMQNotificationInterface::Shutdown`\r\n* If will make it possible in the future for new wallets to be added to ::vpwallets at runtime without having to modify  zmq code and make it register for new notifications.",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-21T16:17:45Z",
      "diff_hunk" : "@@ -1069,6 +1069,9 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     boost::signals2::signal<void (CWallet *wallet, const uint256 &hashTx,\n             ChangeType status)> NotifyTransactionChanged;\n \n+    boost::signals2::signal<void (const CTransactionRef &ptxn,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123296590",
      "id" : 123296590,
      "original_commit_id" : "2c393441b8dc55322625670a7aaf37e2df583e29",
      "original_position" : 4,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 45486184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123296590",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123301453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123301453"
         }
      },
      "body" : "thanks, will make the change",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-21T16:36:53Z",
      "diff_hunk" : "@@ -1069,6 +1069,9 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     boost::signals2::signal<void (CWallet *wallet, const uint256 &hashTx,\n             ChangeType status)> NotifyTransactionChanged;\n \n+    boost::signals2::signal<void (const CTransactionRef &ptxn,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123301453",
      "id" : 123301453,
      "original_commit_id" : "2c393441b8dc55322625670a7aaf37e2df583e29",
      "original_position" : 4,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 45491506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123301453",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123547129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123547129"
         }
      },
      "body" : "You should be able to shorten this by getting rid of the assignment (it will just call the default constructor which is fine).",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-22T15:42:45Z",
      "diff_hunk" : "@@ -56,6 +56,12 @@ CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n  * Override with -fallbackfee\n  */\n CFeeRate CWallet::fallbackFee = CFeeRate(DEFAULT_FALLBACK_FEE);\n+/*\n+ * Signal when transactions are added to wallet\n+ */\n+boost::signals2::signal<void (const CTransactionRef &ptxn,\n+const uint256 &blockHash)> CWallet::TransactionAddedToWallet = boost::signals2::signal<void (const CTransactionRef &ptxn,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123547129",
      "id" : 123547129,
      "original_commit_id" : "123c3e75e96e56a78387353d10dd05b8d73e51c1",
      "original_position" : 8,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 45762331,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:39:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123547129",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123562416"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123562416"
         }
      },
      "body" : "fixed and rebased last commit. Do you want me to rebase everything into one commit?",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-22T16:41:52Z",
      "diff_hunk" : "@@ -56,6 +56,12 @@ CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n  * Override with -fallbackfee\n  */\n CFeeRate CWallet::fallbackFee = CFeeRate(DEFAULT_FALLBACK_FEE);\n+/*\n+ * Signal when transactions are added to wallet\n+ */\n+boost::signals2::signal<void (const CTransactionRef &ptxn,\n+const uint256 &blockHash)> CWallet::TransactionAddedToWallet = boost::signals2::signal<void (const CTransactionRef &ptxn,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123562416",
      "id" : 123562416,
      "original_commit_id" : "123c3e75e96e56a78387353d10dd05b8d73e51c1",
      "original_position" : 8,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 45779032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:41:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123562416",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2715638?v=3",
         "events_url" : "https://api.github.com/users/somdoron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/somdoron/followers",
         "following_url" : "https://api.github.com/users/somdoron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/somdoron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/somdoron",
         "id" : 2715638,
         "login" : "somdoron",
         "organizations_url" : "https://api.github.com/users/somdoron/orgs",
         "received_events_url" : "https://api.github.com/users/somdoron/received_events",
         "repos_url" : "https://api.github.com/users/somdoron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/somdoron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/somdoron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/somdoron"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123564631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123564631"
         }
      },
      "body" : "> fixed and rebased last commit. Do you want me to rebase everything into one commit?\r\n\r\nNo preference, either way seems fine.",
      "commit_id" : "d358230d10b00ef7e1a284d1b855fa1604bf1d28",
      "created_at" : "2017-06-22T16:50:56Z",
      "diff_hunk" : "@@ -56,6 +56,12 @@ CFeeRate CWallet::minTxFee = CFeeRate(DEFAULT_TRANSACTION_MINFEE);\n  * Override with -fallbackfee\n  */\n CFeeRate CWallet::fallbackFee = CFeeRate(DEFAULT_FALLBACK_FEE);\n+/*\n+ * Signal when transactions are added to wallet\n+ */\n+boost::signals2::signal<void (const CTransactionRef &ptxn,\n+const uint256 &blockHash)> CWallet::TransactionAddedToWallet = boost::signals2::signal<void (const CTransactionRef &ptxn,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10554#discussion_r123564631",
      "id" : 123564631,
      "original_commit_id" : "123c3e75e96e56a78387353d10dd05b8d73e51c1",
      "original_position" : 8,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 45781456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10554",
      "updated_at" : "2017-06-22T16:50:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123564631",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
