[
   {
      "body" : "It seems weird to move the datadir without the user noticing?",
      "created_at" : "2017-06-07T15:18:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-306828028",
      "id" : 306828028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-07T15:18:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306828028",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "> It seems weird to move the datadir without the user noticing?\r\n\r\n`/var/lib/bitcoind` seems to make more sense too. Without specifying it it will move to somewhere under `/home`, which is not recommended for a system-wide daemon.",
      "created_at" : "2017-06-07T16:01:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-306841714",
      "id" : 306841714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-07T16:01:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306841714",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Context: bitcoind's service scripts (at least the openrc one) has always used the bitcoin user's default datadir. This systemd script was incompatible with this for some reason.\r\n\r\nAt least on Gentoo systems, the bitcoin user's home directory is itself `/var/lib/bitcoin`, so the datadir ends up as  `/var/lib/bitcoin/.bitcoin/`",
      "created_at" : "2017-06-07T18:27:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-306883656",
      "id" : 306883656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-07T18:27:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306883656",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Besides what @luke-jr said, my rationale was that as few things as possible should be specified in the systemd service, all bitcoind specifics should go into `/etc/bitcoin/bitcoin.conf`. Thus the bare minium the service file has to specify how `bitcoind` should be invoked is\r\n1. `-daemon`\r\n2. `-conf=`\r\n3. `-pid=`\r\n\r\nI'm not sure if it's the case, but if command arguments override bitcoin.conf settings, then the user would not be able to change datadir without fiddling with the systemd service file.\r\n\r\nBut I'm happy to re-add `-datadir` if it's deemed necessary.",
      "created_at" : "2017-06-07T19:30:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-306900392",
      "id" : 306900392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-07T19:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306900392",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/432385?v=3",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "body" : "What about `TimeoutStartSec`? #10531 increases it to `120s`, this removes it completely. I'm not sure what you mean with 'should be set individually' in the OP. What is the default?",
      "created_at" : "2017-06-08T07:59:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-307029051",
      "id" : 307029051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-08T07:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307029051",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> What about TimeoutStartSec? #10531 increases it to 120s, this removes it completely.\r\n\r\nThe default is 90s, which is sufficient for most bitcoind setups I know. If a users has a particular cause for a different value (like a very slow system), then he can simply to override it, using the `systemctl edit bitocind.service` approach mentioned in the added comment block. That is what I meant with \"should be set individually\". The idea is that systemd's default are reasonable for most cases, and if it doesn't work for someone, then systemd allows you override the defaults. I could be wrong, but I don't see a reason why bitcoind should always need TimeoutStartSec set to 120s, instead of the default value (90s).",
      "created_at" : "2017-06-08T10:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-307060268",
      "id" : 307060268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-08T10:10:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307060268",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/432385?v=3",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "body" : "What does this timeout measure in the first place? Until RPC becomes reachable? Or until it becomes usable?",
      "created_at" : "2017-06-08T10:44:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-307067653",
      "id" : 307067653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-08T10:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307067653",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> What does this timeout measure in the first place?\r\n\r\nGood question. I can't find anything in the documentation. And a short look at the source also didn't help.\r\n\r\n> Until RPC becomes reachable? Or until it becomes usable?\r\n\r\nI doubt that, since systemd has no specific knowledge of the service. I'd guess that for 'forking' type services like bitcoind, it's the time the initial process needs to terminate.",
      "created_at" : "2017-06-08T11:24:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-307075474",
      "id" : 307075474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-08T11:24:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307075474",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/432385?v=3",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "body" : "So I'm not clear what to do here. This isn't gathering any (ut)ACKs and neither is #10531.\r\nWho is using these files and has an opinion about them?",
      "created_at" : "2017-06-25T10:13:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10529#issuecomment-310894206",
      "id" : 310894206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10529",
      "updated_at" : "2017-06-25T10:13:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310894206",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
