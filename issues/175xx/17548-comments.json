[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Adding a `std::any` or `void*` or similar `context` member to [`struct JSONRPCRequest`](https://github.com/bitcoin/bitcoin/blob/ae6943620ab369e8e0865c3ec2d2848ba9389325/src/rpc/request.h#L27-L40) is probably the simplest way to pass context to RPC methods and get rid of RPC globals without having to change the way RPC methods are written. But other ways would be possible like making RPC methods into objects: https://github.com/bitcoin/bitcoin/pull/16839#discussion_r324426030\r\n\r\nBut I wouldn't put much too much priority on getting rid of `g_rpc_node` and `g_rpc_chain` globals. It'd be nice to add `EnsureConnman` `EnsureBanman` functions similar to [`EnsureMempool`](https://github.com/bitcoin/bitcoin/blob/ae6943620ab369e8e0865c3ec2d2848ba9389325/src/rpc/blockchain.cpp#L57-L64) so the globals could be referenced in fewer places, but I don't think much would be gained practically by completely getting rid of them.",
      "created_at" : "2019-11-21T16:51:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17548#issuecomment-557174135",
      "id" : 557174135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17548",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzE3NDEzNQ==",
      "updated_at" : "2019-11-21T16:51:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557174135",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, I am mostly leaving this open to not forget about it. \r\n\r\n> But other ways would be possible like making RPC methods into objects\r\n\r\nI think I wanted to make them objects anyway for some `RPCHelpMan` work.",
      "created_at" : "2019-11-21T18:17:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17548#issuecomment-557209145",
      "id" : 557209145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17548",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NzIwOTE0NQ==",
      "updated_at" : "2019-11-21T18:17:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557209145",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
