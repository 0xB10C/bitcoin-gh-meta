[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17809](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17809.html) (rpc: Auto-format RPCResult by MarcoFalke)\n* [#17804](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17804.html) (doc: Misc RPC help fixes by MarcoFalke)\n* [#17578](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17578.html) (rpc: simplify getaddressinfo labels, deprecate previous behavior by jonatack)\n* [#17037](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17037.html) (Testschains: Many regtests with different genesis and default datadir by jtimon)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-11-25T04:16:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-557980209",
      "id" : 557980209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Nzk4MDIwOQ==",
      "updated_at" : "2019-12-28T22:39:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/557980209",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure about this. It wasn't too long ago that we deprecated \"account\" here. Now we're deprecating \"label\" too. For most purposes (like identifying invoices), assigning one label per address seems to be enough. If someone uses multiple labels per address then yes, a single \"label\" won't do. But I'm not sure it's worth the hassle for all current clients.\r\n",
      "created_at" : "2019-11-25T15:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-558215375",
      "id" : 558215375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODIxNTM3NQ==",
      "updated_at" : "2019-11-25T15:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558215375",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks. It seems to me that the current state of both label and labels being returned might be confusing. Based on the previous two wallet meeting discussions, at the moment I imagine one of these options going forward:\r\n\r\n1. deprecate `label`, and add multiple label capability to `labels` (seemed to be the most popular option)\r\n\r\n2. keep `label`, and deprecate `labels`\r\n\r\n3. keep `label`, and change `labels` to `tags` as a separate feature from the label\r\n",
      "created_at" : "2019-11-25T16:17:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-558227979",
      "id" : 558227979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODIyNzk3OQ==",
      "updated_at" : "2019-11-25T16:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558227979",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Maybe add 'label' only if there's a single label. Clients that don't use multiple-label-per-address functionality will be unaffected, while there's no need to guess what to return if there's multiple when you are using this.",
      "created_at" : "2019-11-26T11:44:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-558592440",
      "id" : 558592440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODU5MjQ0MA==",
      "updated_at" : "2019-11-26T11:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558592440",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Returning the same information in two places in the same RPC call is redundant and confusing (especially when we add support for multiple labels per address, as I believe has always been the plan).\r\n\r\n> change labels to tags as a separate feature from the label\r\n\r\nPlease no!\r\n\r\n> Maybe add 'label' only if there's a single label.\r\n\r\nI think it adds unnecessary complexity to clients to have the structure of the return object change based on values.\r\n\r\nA few comments on the approach (same comments as for #17578):\r\n\r\n- squash the first two commits (RPC changes and test changes) to avoid breaking git bisect\r\n- add more text to the deprecated RPC help text (what the user should do to retain the old behaviour and when the old behaviour will be removed entirely)\r\n- move the deprecation test to `rpc_deprecated.py`",
      "created_at" : "2019-11-26T15:11:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-558674393",
      "id" : 558674393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODY3NDM5Mw==",
      "updated_at" : "2019-11-26T15:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558674393",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think it adds unnecessary complexity to clients to have the structure of the return object change based on values.\r\n\r\n~~Could return it as \"\" then. That already happens if there's no label so clients can cope with it.~~\r\n\r\n~~I would be the last to complain about breaking backwards compatibility for good reason, but I really think we're going overboard here with RPC deprecation changes every release, but okay, I seem to be the only one with that opinion.~~",
      "created_at" : "2019-11-27T12:11:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-559061848",
      "id" : 559061848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTA2MTg0OA==",
      "updated_at" : "2019-11-27T12:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559061848",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "whoops :blush:  I think I'm confused here. joinmarket, for example, already switched to using `labels` in 2018\r\n```\r\ncommit b52bc06acfead65c2b88ee4f64af44bc223656e8\r\nAuthor: chris-belcher <chris-belcher@users.noreply.github.com>\r\nDate:   Thu Sep 6 18:03:17 2018 +0100\r\n\r\n    Switch over to using labels instead of accounts\r\n    \r\n    Bitcoin Core 0.17 deprecates the accounts feature and replaces it with\r\n    labels. The RPC functions using accounts still work for use with older\r\n    version of Core.\r\n```\r\nI thought it was something recently introduced, but it was added in 189e0ef33ec66f03abf85cfd4d0ede1a0c5c02d3 in the initial introduction of the labels API in 2016. I'm not exactly sure why a single \"label\" ever got added.\r\n\r\n- 0.16: did not have `getaddressinfo` at all, but `validateaddress`, with a `account` field (not label)\r\n- 189e0ef33ec66f03abf85cfd4d0ede1a0c5c02d3: `labels` was added\r\n- 109e05dcd163b8ddb7f4b3550db6b9ab833b2c04 : `label` was added\r\n- 0.17: `getaddressinfo` was introduced, with both `label` and `labels` already there\r\n\r\nMy confusion came from that I thought there was an intermediate release with only `label` (but it's even the other way around, `labels` was first!). Anyhow, no problem here. Concept ACK.",
      "created_at" : "2019-11-27T12:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-559067367",
      "id" : 559067367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTA2NzM2Nw==",
      "updated_at" : "2019-11-27T12:43:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559067367",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @jnewbery and @laanwj. I'm too recent here to have experienced the wrath of users but very much empathise and defer to more long-term contributors on whether 'tis better to suffer the arrows of causing breakage or leaving redundancy. Will update and rebase tomorrow.",
      "created_at" : "2019-11-27T12:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-559072672",
      "id" : 559072672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTA3MjY3Mg==",
      "updated_at" : "2019-11-27T12:44:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559072672",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-12-13T11:19:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-565405218",
      "id" : 565405218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2NTQwNTIxOA==",
      "updated_at" : "2019-12-13T11:19:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565405218",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2020-01-07T23:42:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17585#issuecomment-571825179",
      "id" : 571825179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17585",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3MTgyNTE3OQ==",
      "updated_at" : "2020-01-07T23:42:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/571825179",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
