[
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for working on this! Another step towards Guix builds.",
      "created_at" : "2019-11-26T10:47:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-558572917",
      "id" : 558572917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1ODU3MjkxNw==",
      "updated_at" : "2019-11-26T10:47:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/558572917",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks good.\r\n\r\nI've just completed a Guix time-machine build, I modified the changes here to only build the `x86_64-w64-mingw32` target, and the binaries are working fine in a Windows VM ð.\r\n\r\n```bash\r\nenv PATH=\"/root/.config/guix/current/bin${PATH:+:}$PATH\" guix describe\r\n  guix 44e70de\r\n    repository URL: https://git.savannah.gnu.org/git/guix.git\r\n    branch: master\r\n    commit: 44e70dee184c4e4190349def71dc07f05822f591\r\n\r\ngit rev-parse HEAD\r\n5e1614cce5216166bb9a43b9fbfa4ad0fa7e5e8c\r\n\r\nfind output/ -type f -print0 | sort -z | xargs -r0 sha256sum\r\naddd48c58db416b9e1ae46fa2adc2421578deef7ea013725b6b7ed4c1269b1c2  output/bitcoin-0.19.99-win-unsigned.tar.gz\r\nddb5691b16d0c865541f1a4a93f10b44b784d55e35e66bffad73174aa05345fe  output/bitcoin-0.19.99-win64-debug.zip\r\n006a97dfe6f1412800a3ec3072049e9ac1aa648ec22f0b32a1559cefb5179632  output/bitcoin-0.19.99-win64-setup-unsigned.exe\r\nd285db2c41e54973f3c6953c6defa4edaf1fa2b1811408147240fa23baa6bdda  output/bitcoin-0.19.99-win64.zip\r\n467dba326ec9cfb7839a603073aa2a82a49190eabe3d56cc2b8e3c0d284926ef  output/src/bitcoin-0.19.99.tar.gz\r\n```",
      "created_at" : "2020-01-24T05:37:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-577998443",
      "id" : 577998443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3Nzk5ODQ0Mw==",
      "updated_at" : "2020-01-24T05:37:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/577998443",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-01-28T02:48:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-579054839",
      "id" : 579054839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3OTA1NDgzOQ==",
      "updated_at" : "2020-01-31T18:53:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579054839",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dongcarl Could you rebase this on master and fixup any shellcheck complaints:\r\n```bash\r\nIn contrib/guix/guix-build.sh line 25:\r\n\r\nfor host in ${HOSTS=i686-linux-gnu x86_64-linux-gnu arm-linux-gnueabihf aarch64-linux-gnu riscv64-linux-gnu x86_64-w64-mingw32}; do\r\n\r\n            ^-- SC2153: Possible misspelling: HOSTS may not be assigned, but HOST is.\r\nFor more information:\r\n  https://www.shellcheck.net/wiki/SC2153 -- Possible misspelling: HOSTS may n...\r\n```",
      "created_at" : "2020-01-28T09:23:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-579153463",
      "id" : 579153463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU3OTE1MzQ2Mw==",
      "updated_at" : "2020-01-28T09:23:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/579153463",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can you also address the [follow up comment from #17933](https://github.com/bitcoin/bitcoin/pull/17933#discussion_r372120580).",
      "created_at" : "2020-01-30T00:38:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-580030602",
      "id" : 580030602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MDAzMDYwMg==",
      "updated_at" : "2020-01-30T07:27:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/580030602",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed up shellcheck complaints and addressed followup. Thanks for the reminders!\r\n\r\nYou can limit to building just mingw binaries like this btw:\r\n`env HOSTS=x86_64-w64-mingw32 ./contrib/guix/guix-build.sh`\r\n\r\nHere are my results (probably not reproducible, but let's triage here!):\r\n```\r\n$ git rev-parse HEAD\r\n20e9e0bf0af4d168e703d1a569d0d573b3ce22f4\r\n\r\n$ find output/ -type f -print0 | sort -z | xargs -r0 sha256sum\r\nb2127237a4e353924a597160ecd042f150050495fac9bda41b06084d90edd375  output/bitcoin-0.19.99-win64-debug.zip\r\n8bc76d6bf6d3aaff08a2ae143662882ef48ac4929f7457299905b1931fdea673  output/bitcoin-0.19.99-win64-setup-unsigned.exe\r\n3130ca0ec9090a834b7afa65ddb353208321a3b4e4a2c0c6635b84cd7263fbce  output/bitcoin-0.19.99-win64.zip\r\ncd96da19d52bfc0a061b36146b437a5a3612574b6ce106f1a3810f666a43f122  output/bitcoin-0.19.99-win-unsigned.tar.gz\r\n34c5fd0a228f2d0c087ccb26fd6b927d7de345da4a0f7226b52281ff58e084a7  output/src/bitcoin-0.19.99.tar.gz\r\n```",
      "created_at" : "2020-01-31T14:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-580766017",
      "id" : 580766017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MDc2NjAxNw==",
      "updated_at" : "2020-01-31T14:56:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/580766017",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Do we know what section / symbols these non-determinism differences are in? The first one (in the PE header) is probably the checksum. The second one is unclear to me, it doesn't look like assembly code but a 32-bit number.\r\n\r\nMaybe a literal timestamp? Yes, this works out, these are little-endian UNIX timestamps:\r\n```patch\r\nbitcoin-qt.exe\r\n\r\n-9f37355e    Sat Feb  1 09:32:31 2020\r\n+4b3f355e    Sat Feb  1 10:05:15 2020\r\n\r\nbitcoin-tx.exe\r\n\r\n-5b36355e    Sat Feb  1 09:27:07 2020\r\n+aa3e355e    Sat Feb  1 10:02:34 2020\r\n\r\nbitcoin-wallet.exe\r\n\r\n-6736355e    Sat Feb  1 09:27:19 2020\r\n+ae3e355e    Sat Feb  1 10:02:38 2020\r\n\r\nbitcoind.exe\r\n\r\n-8a37355e    Sat Feb  1 09:32:10 2020\r\n+383f355e    Sat Feb  1 10:04:56 2020\r\n\r\ntest_bitcoin.exe\r\n\r\n-8f37355e    Sat Feb  1 09:32:15 2020\r\n+3c3f355e    Sat Feb  1 10:05:00 2020\r\n\r\nlibbitcoinconsensus-0.dll\r\n\r\n-5136355e    Sat Feb  1 09:26:57 2020\r\n+a63e355e    Sat Feb  1 10:02:30 2020\r\n```",
      "created_at" : "2020-02-05T14:41:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-582439305",
      "id" : 582439305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MjQzOTMwNQ==",
      "updated_at" : "2020-02-05T14:41:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/582439305",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The first one (in the PE header) is probably the checksum.\r\n\r\nYeah I believe it's the checksum... Assuming that the checksum is of the whole file and not just of the header, perhaps fixing the timestamp will fix this checksum too?\r\n\r\n> Maybe a literal timestamp? Yes, this works out, these are little-endian UNIX timestamps:\r\n\r\nYay thanks! I was hoping we could avoid `libfaketime` like we did with the Linux binaries... But perhaps it's inevitable :-( I'm going to give `-Wl,--no-insert-timestamp` a try first though ([Source](https://blog.beuc.net/posts/Practical_basics_of_reproducible_builds_2/))",
      "created_at" : "2020-02-05T16:59:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17595#issuecomment-582507014",
      "id" : 582507014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4MjUwNzAxNA==",
      "updated_at" : "2020-02-05T16:59:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/582507014",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   }
]
