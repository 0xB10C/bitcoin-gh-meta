[
   {
      "body" : "Agreed.\r\n\r\nSide note: Windows has stupidly inefficient FD_SET and FD_ISSET macros that iterate over an array to find the end",
      "created_at" : "2013-03-24T05:42:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-15351894",
      "id" : 15351894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-03-24T05:42:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/15351894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I turned this into a pull request: #2569 ",
      "created_at" : "2013-04-25T23:08:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17046401",
      "id" : 17046401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-25T23:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17046401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@luke-jr With 1000 file descriptors, that effectively means O(1M) operations to construct these sets, which seems ridiculous. Is there any reason not to switch to using poll()?",
      "created_at" : "2013-04-25T23:16:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17046667",
      "id" : 17046667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-25T23:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17046667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "At least the performance penalty only occurs when the larger number of descriptors is actually used.  If maxconnections=125, there are at most 125^2 = 15-16k operations, even if FD_SETSIZE is 1024.",
      "created_at" : "2013-04-25T23:33:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17047255",
      "id" : 17047255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-25T23:33:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17047255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3847496?v=3",
         "events_url" : "https://api.github.com/users/jeremysawicki/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jeremysawicki/followers",
         "following_url" : "https://api.github.com/users/jeremysawicki/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jeremysawicki/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jeremysawicki",
         "id" : 3847496,
         "login" : "jeremysawicki",
         "organizations_url" : "https://api.github.com/users/jeremysawicki/orgs",
         "received_events_url" : "https://api.github.com/users/jeremysawicki/received_events",
         "repos_url" : "https://api.github.com/users/jeremysawicki/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jeremysawicki/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jeremysawicki/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jeremysawicki"
      }
   },
   {
      "body" : "@jeremysawicki Sure, it's no argument against this pull request - it's a strict improvement. Nonetheless, it's something we should look at. It seems Windows only has a poll()-like call as of Vista though, and currently we try to be compatible with XP...",
      "created_at" : "2013-04-25T23:37:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17047382",
      "id" : 17047382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-25T23:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17047382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Windows doesn't have poll(). Vista and newer (only) do have a WSAPoll which was supposed to emulate poll(), but has some weird bugs that someone would need to look more into if it were used..",
      "created_at" : "2013-04-25T23:49:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17047767",
      "id" : 17047767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-25T23:49:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17047767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Solved in #2569 ",
      "created_at" : "2013-04-29T23:09:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2408#issuecomment-17200414",
      "id" : 17200414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2408",
      "updated_at" : "2013-04-29T23:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17200414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
