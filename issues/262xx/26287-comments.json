[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25600](https://github.com/bitcoin/bitcoin/pull/25600) (p2p: Advertise `NODE_FULL_RBF` and connect to 4 outbound full-rbf peers if `-mempoolfullrbf` is set by ariard)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-10-10T16:33:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26287#issuecomment-1273565300",
      "id" : 1273565300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26287",
      "node_id" : "IC_kwDOABII585L6RB0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273565300/reactions"
      },
      "updated_at" : "2022-10-10T16:33:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1273565300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK fa1fff466d6f05b00bf97ccf571b7c440734ad6b\r\n\r\nMight be worthwhile making the default be true for test chains -- make it easier to observe full rbf behaviour on testnet/signet well in advance of actually enabling it on mainnet?",
      "created_at" : "2022-10-11T08:04:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26287#issuecomment-1274265041",
      "id" : 1274265041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26287",
      "node_id" : "IC_kwDOABII585L873R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274265041/reactions"
      },
      "updated_at" : "2022-10-11T08:04:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274265041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26287#discussion_r992500165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26287"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/992500165"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n            return strprintf(Untranslated(\"The -mempoolfullrbf configuration option is currently not supported for the %s chain\"), chainparams.NetworkIDString());\r\n```\r\n\r\n----\r\n\r\nMaybe consider removing or updating `-mempoolfullrbf` here as well:\r\n\r\n```diff\r\n--- a/doc/policy/mempool-replacements.md\r\n+++ b/doc/policy/mempool-replacements.md\r\n@@ -15,8 +15,6 @@ other consensus and policy rules, each of the following conditions are met:\r\n \r\n    *Rationale*: See [BIP125\r\n    explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\r\n-   Use the (`-mempoolfullrbf`) configuration option to allow transaction replacement without enforcement of the\r\n-   opt-in signaling rule.\r\n \r\n 2. The replacement transaction only include an unconfirmed input if that input was included in\r\n    one of the directly conflicting transactions. An unconfirmed input spends an output from a\r\n```\r\n",
      "commit_id" : "fa1fff466d6f05b00bf97ccf571b7c440734ad6b",
      "created_at" : "2022-10-11T15:44:05Z",
      "diff_hunk" : "@@ -92,7 +92,12 @@ std::optional<bilingual_str> ApplyArgsManOptions(const ArgsManager& argsman, con\n         return strprintf(Untranslated(\"acceptnonstdtxn is not currently supported for %s chain\"), chainparams.NetworkIDString());\n     }\n \n-    mempool_opts.full_rbf = argsman.GetBoolArg(\"-mempoolfullrbf\", mempool_opts.full_rbf);\n+    if (const auto fullrbf{argsman.GetBoolArg(\"-mempoolfullrbf\")}) {\n+        if (!chainparams.IsTestChain()) {\n+            return strprintf(Untranslated(\"The mempoolfullrbf setting is currently not supported for the %s chain\"), chainparams.NetworkIDString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26287#discussion_r992500165",
      "id" : 992500165,
      "line" : 97,
      "node_id" : "PRRC_kwDOABII5847KFnF",
      "original_commit_id" : "fa1fff466d6f05b00bf97ccf571b7c440734ad6b",
      "original_line" : 97,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/node/mempool_args.cpp",
      "position" : 7,
      "pull_request_review_id" : 1137756756,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26287",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/992500165/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-11T15:51:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/992500165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
