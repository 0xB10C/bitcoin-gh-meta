[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17229](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17229.html) (tests: Add fuzzing harnesses for various Base{32,58,64} and hex related functions by practicalswift)\n* [#17225](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17225.html) (tests: Test serialisation as part of deserialisation fuzzing. Test round-trip equality where possible. by practicalswift)\n* [#17136](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17136.html) (tests: Add fuzzing harness for various PSBT related functions by practicalswift)\n* [#17129](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17129.html) (tests: Add fuzzing harness for miniscript::FromScript(...) by practicalswift)\n* [#17109](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17109.html) (tests: Add fuzzing harness for various functions consuming only integrals by practicalswift)\n* [#17093](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17093.html) (tests: Add fuzzing harness for various CTx{In,Out} related functions by practicalswift)\n* [#17071](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17071.html) (tests: Add fuzzing harness for CheckBlock(...) and other CBlock related functions by practicalswift)\n* [#17051](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17051.html) (tests: Add deserialization fuzzing harnesses by practicalswift)\n* [#17050](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17050.html) (tests: Add fuzzing harnesses for functions parsing scripts, numbers, JSON and HD keypaths (bip32) by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-29T00:33:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17291#issuecomment-547204969",
      "id" : 547204969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17291",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzIwNDk2OQ==",
      "updated_at" : "2019-10-29T00:33:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547204969",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK :smile: ",
      "created_at" : "2019-10-29T19:32:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17291#issuecomment-547592784",
      "id" : 547592784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17291",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzU5Mjc4NA==",
      "updated_at" : "2019-10-29T19:32:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547592784",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17291#discussion_r340593673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340593673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "can you explain the rational for this if? shouldn't it always be 20?",
      "commit_id" : "72b77c76147c2676a8b9a46eceb87bc17afe49a8",
      "created_at" : "2019-10-30T12:50:47Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <util/time.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+\n+    const int64_t random_time = fuzzed_data_provider.ConsumeIntegral<int64_t>();\n+    const std::string random_string = fuzzed_data_provider.ConsumeRemainingBytesAsString();\n+\n+    const std::string iso8601_datetime = FormatISO8601DateTime(random_time);\n+    const int64_t parsed_time_1 = ParseISO8601DateTime(iso8601_datetime);\n+    if (random_time >= 0) {\n+        assert(parsed_time_1 >= 0);\n+        if (iso8601_datetime.length() == 20) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17291#discussion_r340593673",
      "id" : 340593673,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDU5MzY3Mw==",
      "original_commit_id" : "72b77c76147c2676a8b9a46eceb87bc17afe49a8",
      "original_position" : 25,
      "path" : "src/test/fuzz/parse_iso8601.cpp",
      "position" : 25,
      "pull_request_review_id" : 309172909,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17291",
      "updated_at" : "2019-10-30T12:50:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340593673",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n~~Though it might also be nice to fuzz them separately. (specifically the Parse function).\r\nBecause if Format works correctly than parse here is always checked under sunny day scenario.~~\r\n\r\nEDIT: You already do that :)",
      "created_at" : "2019-10-30T12:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17291#issuecomment-547886672",
      "id" : 547886672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17291",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0Nzg4NjY3Mg==",
      "updated_at" : "2019-10-30T12:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547886672",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2167860?v=4",
         "events_url" : "https://api.github.com/users/elichai/events{/privacy}",
         "followers_url" : "https://api.github.com/users/elichai/followers",
         "following_url" : "https://api.github.com/users/elichai/following{/other_user}",
         "gists_url" : "https://api.github.com/users/elichai/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/elichai",
         "id" : 2167860,
         "login" : "elichai",
         "node_id" : "MDQ6VXNlcjIxNjc4NjA=",
         "organizations_url" : "https://api.github.com/users/elichai/orgs",
         "received_events_url" : "https://api.github.com/users/elichai/received_events",
         "repos_url" : "https://api.github.com/users/elichai/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/elichai/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/elichai/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/elichai"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17291#discussion_r340598988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340598988"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unfortunately not:\r\n\r\n```\r\n$ FormatISO8601DateTime(std::numeric_limits<int64_t>::min())\r\n-219246529--2134443519-00T08:29:52Z\r\n\r\n$ FormatISO8601DateTime(0)\r\n1970-01-01T00:00:00Z\r\n\r\n$ FormatISO8601DateTime(std::numeric_limits<int64_t>::max())\r\n219250468--2134443519-00T15:30:07Z\r\n```\r\n\r\nThus we're only expecting the round-trip to work in the 20 char case :)",
      "commit_id" : "72b77c76147c2676a8b9a46eceb87bc17afe49a8",
      "created_at" : "2019-10-30T13:03:00Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <util/time.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+\n+    const int64_t random_time = fuzzed_data_provider.ConsumeIntegral<int64_t>();\n+    const std::string random_string = fuzzed_data_provider.ConsumeRemainingBytesAsString();\n+\n+    const std::string iso8601_datetime = FormatISO8601DateTime(random_time);\n+    const int64_t parsed_time_1 = ParseISO8601DateTime(iso8601_datetime);\n+    if (random_time >= 0) {\n+        assert(parsed_time_1 >= 0);\n+        if (iso8601_datetime.length() == 20) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17291#discussion_r340598988",
      "id" : 340598988,
      "in_reply_to_id" : 340593673,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDU5ODk4OA==",
      "original_commit_id" : "72b77c76147c2676a8b9a46eceb87bc17afe49a8",
      "original_position" : 25,
      "path" : "src/test/fuzz/parse_iso8601.cpp",
      "position" : 25,
      "pull_request_review_id" : 309180293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17291",
      "updated_at" : "2019-10-30T13:03:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340598988",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
