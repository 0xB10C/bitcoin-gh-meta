[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17109](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17109.html) (tests: Add fuzzing harness for various functions consuming only integrals by practicalswift)\n* [#17071](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17071.html) (tests: Add fuzzing harness for CheckBlock(...) and other CBlock related functions by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-10-23T20:26:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#issuecomment-545621176",
      "id" : 545621176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17229",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTYyMTE3Ng==",
      "updated_at" : "2019-12-06T14:52:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545621176",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-12-06T09:10:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#issuecomment-562493446",
      "id" : 562493446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17229",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjQ5MzQ0Ng==",
      "updated_at" : "2019-12-06T09:10:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562493446",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased! :)",
      "created_at" : "2019-12-06T09:21:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#issuecomment-562497166",
      "id" : 562497166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17229",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MjQ5NzE2Ng==",
      "updated_at" : "2019-12-06T09:21:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562497166",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r355662189"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355662189"
         }
      },
      "author_association" : "MEMBER",
      "body" : "All this does is strip the whitespace? Seems overkill to extend the generic helper `SanitizeString` for this use case.",
      "commit_id" : "370c0da20fcc7daa883e705f2d54f21d85b45af3",
      "created_at" : "2019-12-09T20:16:55Z",
      "diff_hunk" : "@@ -0,0 +1,55 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/fuzz.h>\n+\n+#include <base58.h>\n+#include <util/strencodings.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    const std::string random_encoded_string(buffer.begin(), buffer.end());\n+\n+    std::vector<unsigned char> decoded;\n+    if (DecodeBase58(random_encoded_string, decoded)) {\n+        const std::string encoded_string = EncodeBase58(decoded);\n+        assert(encoded_string == SanitizeString(encoded_string, SAFE_CHARS_BASE58));\n+        const std::string sanitized_random_encoded_string = SanitizeString(random_encoded_string, SAFE_CHARS_BASE58);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r355662189",
      "id" : 355662189,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NTY2MjE4OQ==",
      "original_commit_id" : "c6a20631dd5694bad000fe0a3c12d5140293a4c1",
      "original_position" : 23,
      "path" : "src/test/fuzz/base_encode_decode.cpp",
      "position" : 23,
      "pull_request_review_id" : 329191871,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229",
      "updated_at" : "2019-12-09T20:26:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/355662189",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased! :)",
      "created_at" : "2019-12-09T20:30:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#issuecomment-563424034",
      "id" : 563424034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17229",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2MzQyNDAzNA==",
      "updated_at" : "2019-12-09T20:30:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/563424034",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356144548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356144548"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, `random_encoded_string` can contain all kinds of crap and still pass `DecodeBase58` so it is not only for whitespace removal. To properly fuzz test this then knowledge of `SAFE_CHARS_BASE58` is needed, but if you want I can make the sanitation machinery local to the this file?",
      "commit_id" : "370c0da20fcc7daa883e705f2d54f21d85b45af3",
      "created_at" : "2019-12-10T16:33:17Z",
      "diff_hunk" : "@@ -0,0 +1,55 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/fuzz.h>\n+\n+#include <base58.h>\n+#include <util/strencodings.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    const std::string random_encoded_string(buffer.begin(), buffer.end());\n+\n+    std::vector<unsigned char> decoded;\n+    if (DecodeBase58(random_encoded_string, decoded)) {\n+        const std::string encoded_string = EncodeBase58(decoded);\n+        assert(encoded_string == SanitizeString(encoded_string, SAFE_CHARS_BASE58));\n+        const std::string sanitized_random_encoded_string = SanitizeString(random_encoded_string, SAFE_CHARS_BASE58);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356144548",
      "id" : 356144548,
      "in_reply_to_id" : 355662189,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjE0NDU0OA==",
      "original_commit_id" : "c6a20631dd5694bad000fe0a3c12d5140293a4c1",
      "original_position" : 23,
      "path" : "src/test/fuzz/base_encode_decode.cpp",
      "position" : 23,
      "pull_request_review_id" : 329975032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229",
      "updated_at" : "2019-12-10T16:33:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356144548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356148237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356148237"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain what kind of crap makes it pass? And does that sound like a bug where it should return false instead?",
      "commit_id" : "370c0da20fcc7daa883e705f2d54f21d85b45af3",
      "created_at" : "2019-12-10T16:39:28Z",
      "diff_hunk" : "@@ -0,0 +1,55 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/fuzz.h>\n+\n+#include <base58.h>\n+#include <util/strencodings.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    const std::string random_encoded_string(buffer.begin(), buffer.end());\n+\n+    std::vector<unsigned char> decoded;\n+    if (DecodeBase58(random_encoded_string, decoded)) {\n+        const std::string encoded_string = EncodeBase58(decoded);\n+        assert(encoded_string == SanitizeString(encoded_string, SAFE_CHARS_BASE58));\n+        const std::string sanitized_random_encoded_string = SanitizeString(random_encoded_string, SAFE_CHARS_BASE58);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356148237",
      "id" : 356148237,
      "in_reply_to_id" : 355662189,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjE0ODIzNw==",
      "original_commit_id" : "c6a20631dd5694bad000fe0a3c12d5140293a4c1",
      "original_position" : 23,
      "path" : "src/test/fuzz/base_encode_decode.cpp",
      "position" : 23,
      "pull_request_review_id" : 329979866,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229",
      "updated_at" : "2019-12-10T16:39:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356148237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356151479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356151479"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke Oh, I don't think it is an indication of a bug -- sorry for using sloppy language :)  With \"all kinds of crap\" I simply meant characters outside of `SAFE_CHARS_BASE58`. I'll get back with a more specific code example :)",
      "commit_id" : "370c0da20fcc7daa883e705f2d54f21d85b45af3",
      "created_at" : "2019-12-10T16:44:48Z",
      "diff_hunk" : "@@ -0,0 +1,55 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <test/fuzz/fuzz.h>\n+\n+#include <base58.h>\n+#include <util/strencodings.h>\n+\n+#include <cassert>\n+#include <cstdint>\n+#include <string>\n+#include <vector>\n+\n+void test_one_input(const std::vector<uint8_t>& buffer)\n+{\n+    const std::string random_encoded_string(buffer.begin(), buffer.end());\n+\n+    std::vector<unsigned char> decoded;\n+    if (DecodeBase58(random_encoded_string, decoded)) {\n+        const std::string encoded_string = EncodeBase58(decoded);\n+        assert(encoded_string == SanitizeString(encoded_string, SAFE_CHARS_BASE58));\n+        const std::string sanitized_random_encoded_string = SanitizeString(random_encoded_string, SAFE_CHARS_BASE58);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/17229#discussion_r356151479",
      "id" : 356151479,
      "in_reply_to_id" : 355662189,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NjE1MTQ3OQ==",
      "original_commit_id" : "c6a20631dd5694bad000fe0a3c12d5140293a4c1",
      "original_position" : 23,
      "path" : "src/test/fuzz/base_encode_decode.cpp",
      "position" : 23,
      "pull_request_review_id" : 329984017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/17229",
      "updated_at" : "2019-12-10T16:44:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/356151479",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
