[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12083#discussion_r160864194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12083"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160864194"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Wouldn't it be better to do:\r\n\r\n    blockhash = self.nodes[0].getblockhash(200)\r\n    self.nodes[0].invalidateblock(blockhash)\r\n    assert_raises_rpc_error()\r\n    self.nodes[0].reconsiderblock(blockhash)\r\n\r\nand drop the invalidateblock in _test_gettxoutsetinfo()?",
      "commit_id" : "5b95f96871a33aada918c54c4eff263cb3c55fec",
      "created_at" : "2018-01-11T04:43:52Z",
      "diff_hunk" : "@@ -100,6 +100,21 @@ def _test_getblockchaininfo(self):\n         assert_greater_than(res['size_on_disk'], 0)\n \n     def _test_getchaintxstats(self):\n+        # Test `getchaintxstats` invalid extra parameters\n+        assert_raises_rpc_error(-1, 'getchaintxstats', self.nodes[0].getchaintxstats, 0, '', 0)\n+\n+        # Test `getchaintxstats` invalid `nblocks`\n+        assert_raises_rpc_error(-1, \"JSON value is not an integer as expected\", self.nodes[0].getchaintxstats, '')\n+        assert_raises_rpc_error(-8, \"Invalid block count: should be between 0 and the block's height - 1\", self.nodes[0].getchaintxstats, -1)\n+        assert_raises_rpc_error(-8, \"Invalid block count: should be between 0 and the block's height - 1\", self.nodes[0].getchaintxstats, self.nodes[0].getblockcount())\n+\n+        # Test `getchaintxstats` invalid `blockhash`\n+        assert_raises_rpc_error(-1, \"JSON value is not a string as expected\", self.nodes[0].getchaintxstats, blockhash=0)\n+        assert_raises_rpc_error(-5, \"Block not found\", self.nodes[0].getchaintxstats, blockhash='0')\n+        blockhash = self.nodes[0].generate(1)[0];\n+        self.nodes[0].invalidateblock(blockhash)\n+        assert_raises_rpc_error(-8, \"Block is not in main chain\", self.nodes[0].getchaintxstats, blockhash=blockhash)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12083#discussion_r160864194",
      "id" : 160864194,
      "original_commit_id" : "5b95f96871a33aada918c54c4eff263cb3c55fec",
      "original_position" : 17,
      "path" : "test/functional/blockchain.py",
      "position" : 17,
      "pull_request_review_id" : 88056343,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12083",
      "updated_at" : "2018-01-11T04:44:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160864194",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
