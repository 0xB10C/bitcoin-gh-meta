[
   {
      "author_association" : "NONE",
      "body" : "Looks like configuration error, can you attach more log lines and list detailed /home/ec2-user/cron/receive.sh permissions? Configuration looks OK for me. Error message shows like correct command was executed. And if you can attach also receive.sh file.",
      "created_at" : "2018-01-05T00:14:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355437062",
      "id" : 355437062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-05T00:14:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355437062",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "After the night I have an idea, modify the line:\r\nwalletnotify=**/bin/bash** /home/ec2-user/cron/receive.sh %s\r\n\r\nSystem call does not work directly for shell scripts. It expects binary file so you have to call shell directly.",
      "created_at" : "2018-01-05T09:22:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355508726",
      "id" : 355508726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-05T09:22:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355508726",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks for your reply,\r\n\r\nI have changed the walletnotify value as above but still getting the same error.\r\nI have attached a file.zip folder which contains following files.\r\n\r\n1) Daemon log file.\r\n2) Configuration file.\r\n3) Directory snapshot for permissions.\r\n4) receive.sh file.\r\n\r\nIn the log file please search for the following transaction id you will find that the error is still appearing \r\n\r\nb82057b45b663acb04f3e6b9fd304c8e1dfa16b2eb32a1a4b74f25c7c5b3fbd0\r\n\r\n[files.zip](https://github.com/bitcoin/bitcoin/files/1606654/files.zip)\r\n\r\n\r\n",
      "created_at" : "2018-01-05T13:17:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355552350",
      "id" : 355552350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-05T13:17:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355552350",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13177022?v=4",
         "events_url" : "https://api.github.com/users/snomannaseem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/snomannaseem/followers",
         "following_url" : "https://api.github.com/users/snomannaseem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/snomannaseem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/snomannaseem",
         "id" : 13177022,
         "login" : "snomannaseem",
         "organizations_url" : "https://api.github.com/users/snomannaseem/orgs",
         "received_events_url" : "https://api.github.com/users/snomannaseem/received_events",
         "repos_url" : "https://api.github.com/users/snomannaseem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/snomannaseem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/snomannaseem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/snomannaseem"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I tried to reproduce this. Copied your config and `receive.sh` script. (only changing directories to have mine)\r\n\r\nIt works fine. \r\n\r\nThe only way to get `runCommand error: system....` messages was to modify bitcoin.conf to have wrong path to `receive.sh` file. So check if the filepath to `/home/ec2-user/cron/receive.sh` is OK.\r\n",
      "created_at" : "2018-01-05T21:10:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355666204",
      "id" : 355666204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-05T21:10:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355666204",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "If path is incorrect why it runs fine when I copy and paste the same command line to cli from error message?",
      "created_at" : "2018-01-06T13:06:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355745865",
      "id" : 355745865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-06T13:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355745865",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13177022?v=4",
         "events_url" : "https://api.github.com/users/snomannaseem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/snomannaseem/followers",
         "following_url" : "https://api.github.com/users/snomannaseem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/snomannaseem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/snomannaseem",
         "id" : 13177022,
         "login" : "snomannaseem",
         "organizations_url" : "https://api.github.com/users/snomannaseem/orgs",
         "received_events_url" : "https://api.github.com/users/snomannaseem/received_events",
         "repos_url" : "https://api.github.com/users/snomannaseem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/snomannaseem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/snomannaseem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/snomannaseem"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've tried this also on amazon could as you do. Works fine. Same file names, same directories. No problem.\r\n\r\nLooks like you are running bitcoind as ec2-user, the same one as all receive.sh so I have no idea what is wrong. It does not reproduce on my servers. \r\n\r\nHave you tried on other servers? \r\nOther sysops? I've trided on Debian 7 and Amazon standard linux. No problems found so its not bitcoind config problem. \r\n\r\nIn my opinion you have correct bitcoin.conf file.\r\n",
      "created_at" : "2018-01-06T22:10:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355781738",
      "id" : 355781738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-06T22:10:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355781738",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/35047517?v=4",
         "events_url" : "https://api.github.com/users/bolekC/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bolekC/followers",
         "following_url" : "https://api.github.com/users/bolekC/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bolekC/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bolekC",
         "id" : 35047517,
         "login" : "bolekC",
         "organizations_url" : "https://api.github.com/users/bolekC/orgs",
         "received_events_url" : "https://api.github.com/users/bolekC/received_events",
         "repos_url" : "https://api.github.com/users/bolekC/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bolekC/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bolekC/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bolekC"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "All above experiments were done with CentOS-7 (64bit) on my local VMWare machine and Red Hat Linux on Amazon EC2 server but got the same error.\r\n\r\nBy the way here is another post stating similar issue https://bitcointalk.org/index.php?topic=385146.0 \r\nLooks like I am missing something which is related to some default configuration of operating system. \r\n\r\nAnyways today I tried it with Debian 7 on my local machine here is what happened.\r\n\r\n1. I generated a new address through bitcoin-cli.\r\n2. Against the new address I tried to issue free bitcoins from one of the testnet faucet.\r\n3. I can see transaction number on the faucet website which shows transaction was created successfully on faucet website.\r\n4. But I don't see any wallet notify event in debug.log file. Please correct me If I am guessing wrong that one of the possible reason could be the db is in synchronization process with the main block chain testnet database. Once synchronization is completed then it will issue walletnotify command.\r\n\r\nIs there any other way I can trigger this walletnotify event separately without synchronizing the database  for testing purpose?\r\n \r\n\r\n\r\n  ",
      "created_at" : "2018-01-07T14:09:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355825247",
      "id" : 355825247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-07T14:10:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355825247",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13177022?v=4",
         "events_url" : "https://api.github.com/users/snomannaseem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/snomannaseem/followers",
         "following_url" : "https://api.github.com/users/snomannaseem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/snomannaseem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/snomannaseem",
         "id" : 13177022,
         "login" : "snomannaseem",
         "organizations_url" : "https://api.github.com/users/snomannaseem/orgs",
         "received_events_url" : "https://api.github.com/users/snomannaseem/received_events",
         "repos_url" : "https://api.github.com/users/snomannaseem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/snomannaseem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/snomannaseem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/snomannaseem"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Please let us know if\r\n\r\n./test/functional/notifications.py\r\n\r\npasses",
      "created_at" : "2018-01-07T14:26:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355826223",
      "id" : 355826223,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-07T14:27:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355826223",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ah, in case you are using the gitian compiled binaries provided on https://bitcoincore.org/bin:\r\n\r\nDownload the targz with the sources (including tests). And run the p2p-versionbits test, which uses \"alertnotify\" instead of walletnotify. But they use the same method `runCommand()`. So if there is an issue with `runCommand()`, the test should detect that.\r\n\r\n```sh\r\nbitcoin-0.15.1$ ./test/functional/p2p-versionbits-warning.py --srcdir=./bin/folder/where/your/bitcoind/is/\r\n```\r\n  \r\n  ",
      "created_at" : "2018-01-07T18:19:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/12090#issuecomment-355841511",
      "id" : 355841511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12090",
      "updated_at" : "2018-01-07T18:21:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/355841511",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
