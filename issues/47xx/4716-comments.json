[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4716_0d27dad8452704fa849832a0d28bf3e1b564d7b7/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-08-18T15:49:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-52511466",
      "id" : 52511466,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-18T15:49:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52511466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Untested ACK on each of the changes.",
      "created_at" : "2014-08-18T18:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-52537694",
      "id" : 52537694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-18T18:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52537694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ConnectBlock is called from more places than just ConnectTip. The only possibly problematic case I see is the call from CreateNewBlock by the internal miner. Missing the wallet update there may cause some transactions to not be properly updated in the GUI.\r\n",
      "created_at" : "2014-08-19T09:11:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-52608298",
      "id" : 52608298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-19T09:11:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52608298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Can you describe such a scenario?\r\nA miner only mines txs from the mempool, this means the txs are in the wallet as unconfirmed already,\r\nas we sync them to the wallet in AcceptToMemoryPool.\r\nNow if they get confirmed, they will be synced again through ConnectTip, independent of 'who has found the block'.\r\nThe coinbase tx also gets synced through ConnectTip, if the block makes it temporarily or permanent in the main chain. If the block gets orphaned immediately, I dont think anybody cares about that coinbase tx.",
      "created_at" : "2014-08-19T21:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-52703649",
      "id" : 52703649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-19T21:44:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52703649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "@laanwj The case of CreateNewBlock calling ConnectBlock directly is an argument in favor of why ConnectBlock shouldn't do wallet callbacks - it's a more low-level function that just applies the UTXO state changes of a block. As @cozz says, ConnectTip is called indirectly when a new block gets accepted.",
      "created_at" : "2014-08-19T22:35:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-52709859",
      "id" : 52709859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-19T22:35:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52709859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "OK. Untested ACK.",
      "created_at" : "2014-08-25T11:01:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4716#issuecomment-53251289",
      "id" : 53251289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4716",
      "updated_at" : "2014-08-25T11:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53251289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
