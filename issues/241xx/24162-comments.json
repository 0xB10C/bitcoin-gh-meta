[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24162#discussion_r792340195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792340195"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    const bool require_checksum{request.params[2].isNull() ? true : request.params[2].get_bool()};\r\n```\r\n\r\nnit: I prefer to print the default value as literal. This makes it easier to change the value without changing the logic.",
      "commit_id" : "48e99357daf3baef950a902819748d6f7a62f1c4",
      "created_at" : "2022-01-26T06:21:18Z",
      "diff_hunk" : "@@ -251,14 +252,17 @@ static RPCHelpMan deriveaddresses()\n                 }\n             },\n             RPCExamples{\n-                \"First three native segwit receive addresses\\n\" +\n+                \"First three native segwit receive addresses:\\n\" +\n                 HelpExampleCli(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\" \\\"[0,2]\\\"\") +\n-                HelpExampleRpc(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\", \\\"[0,2]\\\"\")\n+                HelpExampleRpc(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\", \\\"[0,2]\\\"\") +\n+                \"Derive all addresses from a privkey cPsQTSmMZ8e3AEUWGjS73f5R364yJxH6RxcgnwbHjbKbFPUP2Dtu:\\n\" +\n+                HelpExampleCli(\"deriveaddresses\", \"\\\"combo(cPsQTSmMZ8e3AEUWGjS73f5R364yJxH6RxcgnwbHjbKbFPUP2Dtu)\\\" null false\")\n             },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n-    RPCTypeCheck(request.params, {UniValue::VSTR, UniValueType()}); // Range argument is checked later\n+    RPCTypeCheck(request.params, {UniValue::VSTR, UniValueType(), UniValue::VBOOL}); // Range argument is checked later\n     const std::string desc_str = request.params[0].get_str();\n+    const bool require_checksum = request.params[2].isNull() || request.params[2].get_bool();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24162#discussion_r792340195",
      "id" : 792340195,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vOibj",
      "original_commit_id" : "12300e9b435436c21ddd6e46cfca1d7625e9231d",
      "original_line" : 265,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 863143348,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24162",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792340195/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T06:21:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792340195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24162#discussion_r792346874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24162"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792346874"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Makes sense, incorporated.",
      "commit_id" : "48e99357daf3baef950a902819748d6f7a62f1c4",
      "created_at" : "2022-01-26T06:37:36Z",
      "diff_hunk" : "@@ -251,14 +252,17 @@ static RPCHelpMan deriveaddresses()\n                 }\n             },\n             RPCExamples{\n-                \"First three native segwit receive addresses\\n\" +\n+                \"First three native segwit receive addresses:\\n\" +\n                 HelpExampleCli(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\" \\\"[0,2]\\\"\") +\n-                HelpExampleRpc(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\", \\\"[0,2]\\\"\")\n+                HelpExampleRpc(\"deriveaddresses\", \"\\\"\" + EXAMPLE_DESCRIPTOR + \"\\\", \\\"[0,2]\\\"\") +\n+                \"Derive all addresses from a privkey cPsQTSmMZ8e3AEUWGjS73f5R364yJxH6RxcgnwbHjbKbFPUP2Dtu:\\n\" +\n+                HelpExampleCli(\"deriveaddresses\", \"\\\"combo(cPsQTSmMZ8e3AEUWGjS73f5R364yJxH6RxcgnwbHjbKbFPUP2Dtu)\\\" null false\")\n             },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n-    RPCTypeCheck(request.params, {UniValue::VSTR, UniValueType()}); // Range argument is checked later\n+    RPCTypeCheck(request.params, {UniValue::VSTR, UniValueType(), UniValue::VBOOL}); // Range argument is checked later\n     const std::string desc_str = request.params[0].get_str();\n+    const bool require_checksum = request.params[2].isNull() || request.params[2].get_bool();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24162#discussion_r792346874",
      "id" : 792346874,
      "in_reply_to_id" : 792340195,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vOkD6",
      "original_commit_id" : "12300e9b435436c21ddd6e46cfca1d7625e9231d",
      "original_line" : 265,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/rpc/misc.cpp",
      "position" : null,
      "pull_request_review_id" : 863150419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24162",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792346874/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-26T06:37:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/792346874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The purpose of checksum is to ensure the integrity of data and ensure that the data has not been wrongly entered or tampered with.\r\n\r\nThe descriptor checksum, yes. The WIF format (private key) already has a built-in checksum.\r\n\r\nSee the alternative, where the *descriptor* checksum is derived using `getdescriptorinfo` first, before being passed to `deriveaddresses`. The scenario is identical, but it requires an extra step due to the checksum requirement.\r\n\r\n> * Say you use a misspelled private key and used it to generate an address. Any bitcoin received on that address would potentially be unrecoverable and hence burned, which is a potentially very devastating situation.\r\n\r\nIt would fail. The WIF format includes a checksum. Besides, a WIF privkey that had a typo and still passed the WIF checksum would be a valid private key, and all derived addresses would thus be valid recipients for whoever held that private key.\r\n",
      "created_at" : "2022-01-26T09:32:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24162#issuecomment-1022021197",
      "id" : 1022021197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24162",
      "node_id" : "IC_kwDOABII58486s5N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022021197/reactions"
      },
      "updated_at" : "2022-01-26T09:38:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1022021197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
