[
   {
      "author_association" : "MEMBER",
      "body" : "Ping @sanket1729 @apoelstra @darosior @achow101, others.",
      "created_at" : "2022-01-20T16:39:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017697672",
      "id" : 1017697672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848qNWI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017697672/reactions"
      },
      "updated_at" : "2022-01-20T16:45:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017697672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think this makes sense. Already mentioned elsewhere but to be noted here: the Rust implementation of Miniscript/Descriptors allows hashes inside `pkh()`/`pk_h()`.",
      "created_at" : "2022-01-20T17:09:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017726613",
      "id" : 1017726613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848qUaV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017726613/reactions"
      },
      "updated_at" : "2022-01-20T17:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017726613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@darosior It's my understanding that this is only the case if you instantiate it with a key type that does so, and not generally true for the descriptor language implementation. This is (not exactly the same, but similarly) true for the C++ code as well - e.g. the signing instantiation uses a key type where all keys are actually key hashes.\r\n\r\nSo to be clear, this isn't about the implementation(s), which already have some affordances for permitting things like this internally; only about the descriptor language (and miniscript-as-used-in-descriptors) specification.",
      "created_at" : "2022-01-20T17:13:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017730429",
      "id" : 1017730429,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848qVV9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017730429/reactions"
      },
      "updated_at" : "2022-01-20T17:16:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017730429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It's my understanding that this is only the case if you instantiate it with a key type that does so, and not generally true for descriptors\r\n\r\nIt's more complicated. It is the default to parse `pk_h()` descriptors for \"raw\" public keys using their hash. However it's the default to parse `pk_h()` descriptors for xpubs using the xpub itself.\r\nEDIT: the default in the xpub context is also to parse `pkh()` containing raw keys by their key, not its hash. I think how convoluted the implicit parsing of keyhash inside `pkh()` is makes a point for having explicit `rawpk()` descriptors.\r\nâââââââ Original Message âââââââ\r\nLe jeudi 20 janvier 2022 Ã  6:13 PM, Pieter Wuille ***@***.***> a Ã©crit :\r\n\r\n> ***@***.***(https://github.com/darosior) It's my understanding that this is only the case if you instantiate it with a key type that does so, and not generally true for descriptors. This is (not exactly the same, but similarly) true for the C++ code - e.g. the signing/inference instantiation uses a key type where all keys hashes.\r\n>\r\n> So to be clear, this isn't about the implementation(s), which already have some affordances for permitting things like this internally; only about the descriptor (and miniscript-as-used-in-descriptors) specification.\r\n>\r\n> â\r\n> Reply to this email directly, [view it on GitHub](https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017730429), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/AFLK3F7J5TNG6UMDZ6FRTM3UXA7CZANCNFSM5MNHXFKA).\r\n> Triage notifications on the go with GitHub Mobile for [iOS](https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675) or [Android](https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub).\r\n> You are receiving this because you were mentioned.Message ID: ***@***.***>",
      "created_at" : "2022-01-20T17:25:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017742704",
      "id" : 1017742704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848qYVw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017742704/reactions"
      },
      "updated_at" : "2022-01-21T10:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017742704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "concept ACK.\r\n\r\n@darosior after some IRC discussion, I think what this might look like is to replace our current `PkH(Pk::Hash)` with something like `PkH(Pk::Hash, Option<Pk>)`. That is, make it explicit that pubkeys may be available, or not, and that this may be different for different `pk_h`s in the same descriptor.\r\n\r\nSimilarly taptrees would be `(TapTreeHash, Option<TapTree>)` etc",
      "created_at" : "2022-01-20T18:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1017775233",
      "id" : 1017775233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848qgSB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017775233/reactions"
      },
      "updated_at" : "2022-01-20T18:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1017775233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1351933?v=4",
         "events_url" : "https://api.github.com/users/apoelstra/events{/privacy}",
         "followers_url" : "https://api.github.com/users/apoelstra/followers",
         "following_url" : "https://api.github.com/users/apoelstra/following{/other_user}",
         "gists_url" : "https://api.github.com/users/apoelstra/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/apoelstra",
         "id" : 1351933,
         "login" : "apoelstra",
         "node_id" : "MDQ6VXNlcjEzNTE5MzM=",
         "organizations_url" : "https://api.github.com/users/apoelstra/orgs",
         "received_events_url" : "https://api.github.com/users/apoelstra/received_events",
         "repos_url" : "https://api.github.com/users/apoelstra/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/apoelstra/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/apoelstra/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/apoelstra"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> we get the nice logistical benefit of being able to represent all information extracted from PSBT/SPKM/scripts/... into a descriptor regardless of what is present or missing. \r\n> ...and the signing logic becomes a descriptor method\r\n\r\n+1.  While implementing taproot miniscript descriptors, I found this wanting. Inferring descriptor from PSBTs is a very useful property to simplify signing/finalizing implementations. \r\n\r\n> Add a rawnode(HEX) fragment, only usable inside P2TR script tree expressions, indicating a tree node with specified hash, but no specified subtree.\r\n\r\nI believe we discussed `hidden(HEX)`, but I like `rawnode` is more in the spirit of `raw`. I like the overall idea that `raw*` means something other additional special information might be required at signing. ",
      "created_at" : "2022-01-21T01:54:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1018090358",
      "id" : 1018090358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5848rtN2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1018090358/reactions"
      },
      "updated_at" : "2022-01-21T01:54:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1018090358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6881849?v=4",
         "events_url" : "https://api.github.com/users/sanket1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sanket1729/followers",
         "following_url" : "https://api.github.com/users/sanket1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sanket1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sanket1729",
         "id" : 6881849,
         "login" : "sanket1729",
         "node_id" : "MDQ6VXNlcjY4ODE4NDk=",
         "organizations_url" : "https://api.github.com/users/sanket1729/orgs",
         "received_events_url" : "https://api.github.com/users/sanket1729/received_events",
         "repos_url" : "https://api.github.com/users/sanket1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sanket1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sanket1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sanket1729"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It has been suggested before (though I can't find a reference now)\r\n\r\nc/f N2KB taproot paths https://github.com/bitcoin/bitcoin/pull/21365#issuecomment-793027851",
      "created_at" : "2022-02-02T22:48:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1028430143",
      "id" : 1028430143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5849TJk_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028430143/reactions"
      },
      "updated_at" : "2022-02-02T22:48:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028430143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@JeremyRubin Thanks, included in description.",
      "created_at" : "2022-02-02T22:50:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24114#issuecomment-1028431516",
      "id" : 1028431516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24114",
      "node_id" : "IC_kwDOABII5849TJ6c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028431516/reactions"
      },
      "updated_at" : "2022-02-02T22:50:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1028431516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
