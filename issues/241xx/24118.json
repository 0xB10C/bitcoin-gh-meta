{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Currently, the wallet uses a `fSubtractFeeAmount` flag on the recipients objects for all forms of sending calls. The flag was presumably introduced to permit sweeping without manually calculating the fees of transactions.\r\nHowever, the flag leads to unintuitive behavior and makes it more complicated to test exhaustively many wallet RPCs. I'm proposing to introduce a dedicated `sweep` RPC which provides an avenue to easily empty wallets as a stepping stone towards removing the \"subtract from recipient\" option on other wallet RPC.\r\n\r\nThe proposed sweep call builds a transaction from the wallet's entire UTXO pool and assigns the funds to one or more recipients. Recipients can either be specified to receive a given amount or receive an equal share of the remaining unassigned funds. At least one recipient must be provided without assigned amount to collect the remainder. The call has a `sendmax` option that changes the default behavior of spending all UTXOs (\"no UTXO left behind\"), to maximizing the output amount of the transaction by skipping uneconomic UTXOs.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118/comments",
   "created_at" : "2022-01-20T22:20:52Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/24118",
   "id" : 1109821278,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII584xWeD7",
   "number" : 24118,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/24118.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24118",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/24118.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24118"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118/timeline",
   "title" : "Add 'sweep' RPC",
   "updated_at" : "2022-01-20T22:51:47Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24118",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
      "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Xekyo/followers",
      "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Xekyo",
      "id" : 4060799,
      "login" : "Xekyo",
      "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
      "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
      "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
      "repos_url" : "https://api.github.com/users/Xekyo/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Xekyo"
   }
}
