[
   {
      "body" : "concept NACK,  is two RPC requests really so bad?\r\n\r\n**edit:** *weak* concept NACK",
      "created_at" : "2016-09-12T03:10:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246233912",
      "id" : 246233912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T04:21:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246233912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@dcousens yes, two RPC calls is really bad, especially when you want the details of all the transactions in a block. Then you end up running getrawtransaction thousands of times. Also, AFAICT, this doesn't require the txindex in order to get the transactions, unlike getrawtransaction.",
      "created_at" : "2016-09-12T03:25:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246235290",
      "id" : 246235290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T03:25:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246235290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "> @dcousens yes, two RPC calls is really bad\r\n\r\nWhy?\r\nIf you're following best practices (RPC is over localhost only) in terms of access, the latency should be irrelevant.\r\n\r\nIn a batched RPC call,  the overhead is literally just 1RTT more.\r\nNot N (aka, thousands),  1.\r\n\r\n> AFAICT, this doesn't require the txindex in order to get the transactions, unlike getrawtransaction.\r\n\r\nPerhaps `getrawtransaction` should have an optional `block` parameter?\r\n\r\n*edit*: In fact, adding that option would be significantly more useful than this RTT optimisation IMHO.\r\n",
      "created_at" : "2016-09-12T03:50:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246237627",
      "id" : 246237627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T04:13:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246237627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : " > In a batched RPC call, the overhead is literally just 1RTT more.\r\nNot N (aka, thousands), 1.\r\n\r\nHow?\r\n\r\n> edit: In fact, adding that option would be significantly more useful than this RTT optimisation IMHO.\r\n\r\nWell the functionality to this was already in the code. The BlockToJson method took a parameter for txDetails which was by default false. This just lets you set that to true.",
      "created_at" : "2016-09-12T04:05:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246238855",
      "id" : 246238855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T04:05:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246238855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "http://www.jsonrpc.org/specification#batch\r\n\r\nWhat language are you using? Your RPC library should be able to handle this quite easily.",
      "created_at" : "2016-09-12T04:11:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246239406",
      "id" : 246239406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T04:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246239406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Huh. Didn't know that. I've been using bash with either curl or bitcoin-cli and python.",
      "created_at" : "2016-09-12T04:27:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246241245",
      "id" : 246241245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-12T04:27:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246241245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Saving roundtrip time is not a valid reason to add a RPC API (see discussion in #8457).\r\n\r\n>  Also, AFAICT, this doesn't require the txindex in order to get the transactions, unlike getrawtransaction.\r\n\r\nThis is the only important fact here: you *cannot* get this information any other way. getrawtransaction won't get you transactions in blocks, at least without tx index. \r\n\r\nThe only way to get this information right now is to getblock raw then parse the block locally.\r\n\r\nSo concept ACK because of that.\r\n",
      "created_at" : "2016-09-13T15:33:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246721942",
      "id" : 246721942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-13T15:35:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246721942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj would it maybe be better to add functionality via getrawtransaction w/ a block id? (perhaps in addition to this)",
      "created_at" : "2016-09-13T21:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246837676",
      "id" : 246837676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-13T21:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246837676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "> would it maybe be better to add functionality via getrawtransaction w/ a block id? (perhaps in addition to this)\r\n\r\nWell yes a \"gather transaction [X,...] from prespecified block Y\" RPC call could be useful in some rare cases. But on the other hand it'll still have to read the entire block from disk and deserialize it. It's terribly inefficient already.\r\nSo if it decoded the entire block why not report details for the entire block as done here?\r\n",
      "created_at" : "2016-09-14T09:24:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246955769",
      "id" : 246955769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-14T09:24:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246955769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj indeed!  Forgot about the whole deserialization.",
      "created_at" : "2016-09-14T12:06:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8704#issuecomment-246992130",
      "id" : 246992130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8704",
      "updated_at" : "2016-09-14T12:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/246992130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   }
]
