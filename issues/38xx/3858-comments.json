[
   {
      "body" : "Yes this can happen now, as we start with an empty mempool.\r\n\r\nI think that we should store ancestor transactions in the wallet in this case. This is what vtxPrev (which was removed) was for but it never worked.\r\n\r\nAnother option (not exclusive) would be to save/restore the mempool. This is also necessary for floating fees (implemented in #3335).\r\n",
      "created_at" : "2014-03-13T10:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37518648",
      "id" : 37518648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T11:32:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37518648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'd mark this as low priority; lets say you have a chain of unconfirmed transactions A->B->C.\r\n\r\nThe sender and receiver of A will rebroadcast it until it gets mined.\r\n\r\nAnd the senders of B and C will rebroadcast them until they get mined. The receivers may not, if they restart and lose their memory pool. But imagine A does get mined-- now all of the dependencies of transaction B are in the block chain, and sender and receiver will both rebroadcast until it is mined.\r\n\r\nAlso: part of the smart transaction fee work is to save and restore the memory pool, so there is no need to save parent transactions in the wallet.\r\n",
      "created_at" : "2014-03-13T13:42:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37533667",
      "id" : 37533667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T13:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37533667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "The mempool save/restore would solve the immediate issue, but I do think it would be safer to keep a copy of parent transactions in the wallet, and rebroadcast them if needed. \r\n\r\nIt will usually be the case that the owner(s) of those transactions will rebroadcast them themselves, but what if they do not? What if the transactions expire out of the mempool (or other nodes' mempools)? The child transaction would never confirm and data of parent transactions is just lost (also reorganizations could mess with this)\r\n\r\nIn the end the receiver wants to make sure that the transaction gets confirmed, and within that responsibility could be keeping a record of parent transactions 'just in case'. This was the idea behind vtxPrev.\r\n\r\nBut maybe I'm overly paranoid.\r\n",
      "created_at" : "2014-03-13T14:11:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37536855",
      "id" : 37536855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T14:11:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37536855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Mmm....  You open yourself up to a fill-up-memory DoS attack if you just blindly save parent transactions. There are probably also privacy-destroying attacks if you blindly rebroadcast unconfirmed parents.\r\n\r\nI'd vote for keeping the current simple behavior, and re-examining this if there is actually a problem in practice.",
      "created_at" : "2014-03-13T14:18:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37537719",
      "id" : 37537719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T14:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37537719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "This is a financial system. You can't be paranoid enough. :P\n\nHaving to rely on other peers to keep broadcasting transactions needed \nto confirm a payment sound like poor security to me, and may open the \ndoor to some kinds of social engineering attacks...",
      "created_at" : "2014-03-13T14:24:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37538374",
      "id" : 37538374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T14:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37538374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1192483?v=3",
         "events_url" : "https://api.github.com/users/rdponticelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rdponticelli/followers",
         "following_url" : "https://api.github.com/users/rdponticelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rdponticelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rdponticelli",
         "id" : 1192483,
         "login" : "rdponticelli",
         "organizations_url" : "https://api.github.com/users/rdponticelli/orgs",
         "received_events_url" : "https://api.github.com/users/rdponticelli/received_events",
         "repos_url" : "https://api.github.com/users/rdponticelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rdponticelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rdponticelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rdponticelli"
      }
   },
   {
      "body" : "If you are paranoid, then DO NOT ACCEPT ZERO CONFIRMATION TRANSACTIONS. THEY ARE NOT SAFE.\r\n\r\nRebroadcasting them will not make them safer, and may lead to a false sense of security.\r\n",
      "created_at" : "2014-03-13T14:49:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-37541490",
      "id" : 37541490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-03-13T14:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37541490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "This doesn't seem to be an issue that people encounter in practice.",
      "created_at" : "2014-09-25T10:25:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3858#issuecomment-56800333",
      "id" : 56800333,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3858",
      "updated_at" : "2014-09-25T10:25:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/56800333",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
