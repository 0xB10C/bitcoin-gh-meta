[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126172925"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126172925"
         }
      },
      "body" : "Nothing replacing this code?",
      "commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "created_at" : "2017-07-07T15:17:55Z",
      "diff_hunk" : "@@ -187,11 +187,6 @@ void Shutdown()\n     StopREST();\n     StopRPC();\n     StopHTTPServer();\n-#ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126172925",
      "id" : 126172925,
      "original_commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "original_position" : 13,
      "path" : "src/init.cpp",
      "position" : 13,
      "pull_request_review_id" : 48635992,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767",
      "updated_at" : "2017-07-07T15:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126172925",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126174424"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126174424"
         }
      },
      "body" : "What about moving these `#ifdef ENABLE_WALLET` to `walletinit.cpp`?",
      "commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "created_at" : "2017-07-07T15:24:11Z",
      "diff_hunk" : "@@ -230,9 +225,7 @@ void Shutdown()\n         pblocktree = NULL;\n     }\n #ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126174424",
      "id" : 126174424,
      "original_commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "original_position" : 24,
      "path" : "src/init.cpp",
      "position" : 24,
      "pull_request_review_id" : 48635992,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767",
      "updated_at" : "2017-07-07T15:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126174424",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126175956"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126175956"
         }
      },
      "body" : "Because `walletinit.cpp` is in libbitcoin_wallet, so is not linked if `ENABLE_WALLET` isn't defined. #10762 will remove the libbitcoin_server -> libbitcoin_wallet dependencies entirely from init.cpp.",
      "commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "created_at" : "2017-07-07T15:30:38Z",
      "diff_hunk" : "@@ -230,9 +225,7 @@ void Shutdown()\n         pblocktree = NULL;\n     }\n #ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126175956",
      "id" : 126175956,
      "original_commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "original_position" : 24,
      "path" : "src/init.cpp",
      "position" : 24,
      "pull_request_review_id" : 48639473,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767",
      "updated_at" : "2017-07-07T15:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126175956",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126176298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126176298"
         }
      },
      "body" : "Correct - I don't believe the early wallet flush is necessary (although I may be wrong). See PR description:\r\n\r\n> The most important one is that Flush() no longer gets called twice on shutdown. I think this is fine, and all the tests pass, but this probably requires some careful consideration from people who are more familiar with the wallet code.",
      "commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "created_at" : "2017-07-07T15:32:01Z",
      "diff_hunk" : "@@ -187,11 +187,6 @@ void Shutdown()\n     StopREST();\n     StopRPC();\n     StopHTTPServer();\n-#ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#discussion_r126176298",
      "id" : 126176298,
      "original_commit_id" : "3696ed0026559892aa45e0c3d3cc69093a8035d4",
      "original_position" : 13,
      "path" : "src/init.cpp",
      "position" : 13,
      "pull_request_review_id" : 48639863,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10767",
      "updated_at" : "2017-07-07T15:32:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126176298",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Rebase needed :-)",
      "created_at" : "2017-07-17T12:52:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#issuecomment-315746555",
      "id" : 315746555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10767",
      "updated_at" : "2017-07-17T12:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315746555",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "body" : "This isn't going in until after 0.15. which includes some wallet changes. I'll rebase after 0.15 has been cut.",
      "created_at" : "2017-07-17T13:10:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#issuecomment-315750974",
      "id" : 315750974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10767",
      "updated_at" : "2017-07-17T13:10:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315750974",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@jnewbery Got it! Thanks for the clarification.",
      "created_at" : "2017-07-17T13:19:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#issuecomment-315753121",
      "id" : 315753121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10767",
      "updated_at" : "2017-07-17T13:19:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315753121",
      "user" : {
         "avatar_url" : "https://avatars7.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "body" : "This overlaps significantly with #10976, which is easier to review since it's mostly move-only.\r\n\r\nI'll rebase this on #10976 once that gets merged.",
      "created_at" : "2017-08-14T15:35:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10767#issuecomment-322224157",
      "id" : 322224157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10767",
      "updated_at" : "2017-08-14T15:35:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/322224157",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
