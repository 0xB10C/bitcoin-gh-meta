[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on building fuzz tests by default, but needs squashing and fixing of failing CI jobs :)\r\n\r\nHaven't reviewed any code or build changes.",
      "created_at" : "2021-01-20T10:03:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-763489023",
      "id" : 763489023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MzQ4OTAyMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-20T10:03:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/763489023",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r562499120"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562499120"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Isn't this typo an example of a bad argument?",
      "commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "created_at" : "2021-01-22T09:28:29Z",
      "diff_hunk" : "@@ -376,7 +376,7 @@ fi\n if test x$use_sanitizers != x; then\n   dnl First check if the compiler accepts flags. If an incompatible pair like\n   dnl -fsanitize=address,thread is used here, this check will fail. This will also\n-  dnl fail if a bad argument is passed, e.g. -fsanitize=undfeined\n+  dnl fail if a bad argument is passed, e.g. -fsanitize=undefined",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r562499120",
      "id" : 562499120,
      "line" : 379,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjQ5OTEyMA==",
      "original_commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "original_line" : 379,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 20,
      "pull_request_review_id" : 574086049,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-22T09:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562499120",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r562719599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562719599"
         }
      },
      "author_association" : "NONE",
      "body" : "Hi - apologies for making you read the code in this state. Initially I had opened the PR because I had a patch that was working under Linux and hadn't yet discovered the CI tests. Since then I've been pushing sporadically as a sanity check against the CI test behavior on my own machine. I just learned about the \"convert to draft\" feature and applied it for the time being.\r\n\r\nI'm not sure how those commits got duplicated or how someone else's commits got pulled in. I believe it happened the last time I was attempting to rebase onto master. In any case I do intend to clean everything up once I can get all the tests to pass.\r\n\r\nI'll restore the typo; at the time I hadn't realized that \"undefined\" was a valid argument.\r\n\r\nI'm confused by your comment about building under windows, so I think I'm missing some fundamental point about the original issue. I had expected that as part of making the change the fuzz tests would now be built by default in more contexts (ie Windows, and specifically as an example the win64 CI test) and any compilation errors would need to be fixed as part of it. If that's not true, then as alternatives I can imagine (a) explicitly not building under non-compiling environments regardless of the value of ENABLE_FUZZ, or (b) ignoring the fact that the CI tests break (if that is even possible), but neither seemed that desirable? Anyway please let me know what behavior you'd like and I'll make the change.",
      "commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "created_at" : "2021-01-22T15:42:39Z",
      "diff_hunk" : "@@ -376,7 +376,7 @@ fi\n if test x$use_sanitizers != x; then\n   dnl First check if the compiler accepts flags. If an incompatible pair like\n   dnl -fsanitize=address,thread is used here, this check will fail. This will also\n-  dnl fail if a bad argument is passed, e.g. -fsanitize=undfeined\n+  dnl fail if a bad argument is passed, e.g. -fsanitize=undefined",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r562719599",
      "id" : 562719599,
      "in_reply_to_id" : 562499120,
      "line" : 379,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjcxOTU5OQ==",
      "original_commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "original_line" : 379,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 20,
      "pull_request_review_id" : 574377313,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-22T22:51:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/562719599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21012 (ci: Fuzz with integer sanitizer by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-01-22T20:28:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-765665098",
      "id" : 765665098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NTY2NTA5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-29T02:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/765665098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r563168396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563168396"
         }
      },
      "author_association" : "NONE",
      "body" : "(I suppose a third option would be to require someone building under e.g. windows to specify --disable-fuzz)",
      "commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "created_at" : "2021-01-23T15:59:38Z",
      "diff_hunk" : "@@ -376,7 +376,7 @@ fi\n if test x$use_sanitizers != x; then\n   dnl First check if the compiler accepts flags. If an incompatible pair like\n   dnl -fsanitize=address,thread is used here, this check will fail. This will also\n-  dnl fail if a bad argument is passed, e.g. -fsanitize=undfeined\n+  dnl fail if a bad argument is passed, e.g. -fsanitize=undefined",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#discussion_r563168396",
      "id" : 563168396,
      "in_reply_to_id" : 562499120,
      "line" : 379,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzE2ODM5Ng==",
      "original_commit_id" : "f934ef4579105249dd28a5dc9681f18685ad940e",
      "original_line" : 379,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "configure.ac",
      "position" : 20,
      "pull_request_review_id" : 574856630,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20936",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-23T15:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563168396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The standard \"formula\" for a generic swap is:\n\n```c++\n...\n{\n    using std::swap;\n    swap(a, b);\n}\n...\n```\n\nNot sure what the problem is, but maybe that's worth trying.",
      "created_at" : "2021-01-23T23:34:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-766200312",
      "id" : 766200312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NjIwMDMxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-23T23:35:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766200312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The standard \"formula\" for a generic swap is:\r\n> \r\n> ```c++\r\n> ...\r\n> {\r\n>     using std::swap;\r\n>     swap(a, b);\r\n> }\r\n> ...\r\n> ```\r\n> \r\n> Not sure what the problem is, but maybe that's worth trying.\r\n\r\nThanks, I just hadn't looked carefully enough - it was a swap where one side was a vector location, and Element happened to be bool. Fingers crossed that this fixed it and I can clean up for review.",
      "created_at" : "2021-01-23T23:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-766227913",
      "id" : 766227913,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NjIyNzkxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-23T23:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766227913",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Well...almost there. I tried for a while to squash things down into a single commit, but I think Ive failed. The correct patch is at c7746f0 (except for the fact that I accidentally chopped off the first two lines of the commit message and now the linter is complaining), but I don't know how to get rid of the history (I used git rebase -i and manually squashed/dropped and this was the result). If someone could tell me how to fix this that would be much appreciated.\r\n\r\nAs far as the actual review, the substring match that I introduced feels kind of sketchy but I wasn't sure how else to accomplish what I wanted. The intent was to do some stuff only when libfuzzer was linked, which is what I thought the old check wanted to do as well but it still passed (that is, suppressed a main function etc) on e.g -fsanitize=thread. So I'm confused about what's going on there and would like feedback on that part in particular.",
      "created_at" : "2021-01-24T02:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-766281065",
      "id" : 766281065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NjI4MTA2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-24T02:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766281065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If you want to squash everything into one commit:\r\n\r\nReset the state to the latest commit that is in your branch, but not one of your changes.\r\nThis is usually the latest commit from master that you merged in.\r\nIn your case, it is 32b191fb66e644c690c94cbfdae6ddbc754769d7.\r\nSoftly reset to that commit, so that all your changes are staged as one in the git staging area.\r\n\r\n```\r\ngit reset --soft 32b191fb66e644c690c94cbfdae6ddbc754769d7\r\n```\r\n\r\nNow commit the staged changes with a message\r\n\r\n```\r\ngit commit -m 'build: build fuzz tests by default'\r\n```\r\n\r\npush as usual ...",
      "created_at" : "2021-01-24T07:59:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-766307944",
      "id" : 766307944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NjMwNzk0NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-24T08:03:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766307944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code-wise, this looks pretty good, and in a short test it also seems to work.\r\n\r\nI'm not entirely sure about the meaning of `--{enable,disable}-fuzz` that this introduces. There are really two distinct concepts now that are not exactly the same anymore:\r\n* Whether or not you're building for some form of actual *fuzzing* (whether through -fsanitize=fuzzer, AFL, or something else). Doing any of these should disable all other targets.\r\n* Whether or not you want to build the fuzz *code/binary* (which if fuzzing is enabled, will be what does the fuzzing; but otherwise is just a simple test binary that invokes the fuzz targets).\r\n\r\nSo I think this leads to problems if you'd want to fuzz with AFL. You'd need to specify (or get default) `--enable-fuzz`, and not enable `-fsanitize=fuzzer`, resulting in a situation where all the non-fuzz make targets aren't disabled. I don't think this is a big issue, and I'm perfectly fine with getting this merged as is, and iterate later. However, I think the following alternative may actually be less invasive change:\r\n* Add a new `--{enable,disable}-fuzz-binary` option (default on) to indicate the need to build a ./src/test/fuzz/fuzz binary\r\n* Leave `--{enable,disable}-fuzz` as option (default off) to indicate a fuzzing build (which disables all other make targets, and enables `--enable-fuzz-binary`)\r\n* The existing detection for whether a main function is needed can stay.\r\n\r\n",
      "created_at" : "2021-01-25T08:05:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-766629435",
      "id" : 766629435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2NjYyOTQzNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-25T08:05:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766629435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa Based on your comment I wasn't sure if I should make the change you suggested or wait for someone else to weigh in, but I wanted to make sure that I'm not dropping the ball on anything.\r\n\r\nI agree that your suggestion would be easy to implement. If we don't want to add another flag (perhaps desirable from a usability perspective?), I could also just disable non-fuzz targets when building with AFL or Honggfuzz. ",
      "created_at" : "2021-01-28T21:34:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-769413827",
      "id" : 769413827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2OTQxMzgyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-28T21:34:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769413827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/253639?v=4",
         "events_url" : "https://api.github.com/users/danben/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danben/followers",
         "following_url" : "https://api.github.com/users/danben/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danben/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danben",
         "id" : 253639,
         "login" : "danben",
         "node_id" : "MDQ6VXNlcjI1MzYzOQ==",
         "organizations_url" : "https://api.github.com/users/danben/orgs",
         "received_events_url" : "https://api.github.com/users/danben/received_events",
         "repos_url" : "https://api.github.com/users/danben/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danben/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danben/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danben"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@danben Yeah, up to you. Feel free to keep the PR as-is.\n\nI don't think there is much convenience difference; in general nobody should touch --disable-fuzz-binary in general (except maybe we do so for release builds).",
      "created_at" : "2021-01-28T21:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-769419786",
      "id" : 769419786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2OTQxOTc4Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-28T21:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769419786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-29T08:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20936#issuecomment-769649847",
      "id" : 769649847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20936",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2OTY0OTg0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-29T08:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/769649847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
