[
   {
      "body" : "Can you gdb into the process and give us a traceback for the thread(s) that\nhangs?\n\nAlso; anything unusual in the debug.log?",
      "created_at" : "2014-04-13T13:46:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4051#issuecomment-40307961",
      "id" : 40307961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4051",
      "updated_at" : "2014-04-13T13:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40307961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "(gdb) info threads\r\n  Id   Target Id         Frame\r\n  20   Thread 0x7f75e7ca5700 (LWP 27738) \"bitcoind\" 0x00007f75e88840fe in pthread_cond_timedwait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  19   Thread 0x7f75e74a4700 (LWP 27739) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  18   Thread 0x7f75e6ca3700 (LWP 27740) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  17   Thread 0x7f75e64a2700 (LWP 27741) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  16   Thread 0x7f75e5ca1700 (LWP 27742) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  15   Thread 0x7f75e54a0700 (LWP 27743) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  14   Thread 0x7f75e4c9f700 (LWP 27744) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  13   Thread 0x7f75cffff700 (LWP 27745) \"bitcoin-scriptc\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  12   Thread 0x7f75b7c76700 (LWP 27944) \"bitcoind\" 0x000000000079cda0 in ?? ()\r\n  11   Thread 0x7f75b5438700 (LWP 27952) \"bitcoin-net\" 0x00007f75e7d93763 in select ()\r\n   from /lib/x86_64-linux-gnu/libc.so.6\r\n  10   Thread 0x7f75b4c37700 (LWP 27953) \"bitcoin-addcon\" 0x00007f75e88840fe in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  9    Thread 0x7f759ffff700 (LWP 27954) \"bitcoin-opencon\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2\r\n    () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  8    Thread 0x7f759f7fe700 (LWP 27955) \"bitcoin-msghand\" 0x00000000007ac93c in ?? ()\r\n  7    Thread 0x7f759effd700 (LWP 27956) \"bitcoin-dumpadd\" 0x00007f75e88840fe in pthread_cond_timedwait@@GLIBC_2.3---Type <return> to continue, or q <return> to quit---\r\n.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  6    Thread 0x7f759e7fc700 (LWP 27957) \"bitcoind\" 0x00007f75e7d9aa93 in epoll_wait ()\r\n   from /lib/x86_64-linux-gnu/libc.so.6\r\n  5    Thread 0x7f759dffb700 (LWP 27958) \"bitcoind\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  4    Thread 0x7f759d7fa700 (LWP 27959) \"bitcoind\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  3    Thread 0x7f759cff9700 (LWP 27960) \"bitcoind\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0\r\n  2    Thread 0x7f757ffff700 (LWP 27961) \"bitcoin-wallet\" 0x00007f75e88840fe in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/x86_64-linux-gnu/libpthread.so.0\r\n* 1    Thread 0x7f75e90bf740 (LWP 27737) \"bitcoind\" 0x00007f75e8883d84 in pthread_cond_wait@@GLIBC_2.3.2 ()\r\n   from /lib/x86_64-linux-gnu/libpthread.so.0",
      "created_at" : "2014-04-14T04:55:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4051#issuecomment-40333263",
      "id" : 40333263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4051",
      "updated_at" : "2014-04-14T04:55:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40333263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/124767?v=3",
         "events_url" : "https://api.github.com/users/cmingxu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cmingxu/followers",
         "following_url" : "https://api.github.com/users/cmingxu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cmingxu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cmingxu",
         "id" : 124767,
         "login" : "cmingxu",
         "organizations_url" : "https://api.github.com/users/cmingxu/orgs",
         "received_events_url" : "https://api.github.com/users/cmingxu/received_events",
         "repos_url" : "https://api.github.com/users/cmingxu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cmingxu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cmingxu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cmingxu"
      }
   },
   {
      "body" : "2014-04-14 04:55:14 received block 0000000000000000e02dc60c31549ba43aa7a4d0ab9eb8abda030b80e26264eb\r\n2014-04-14 04:55:14 ERROR: ProcessBlock() : already have block 270572 0000000000000000e02dc60c31549ba43aa7a4d0ab9eb8abda030b80e26264eb\r\n2014-04-14 04:55:14 received block 00000000000000019d2c06191a81d51027b2d738552ebf8566219301dc800621\r\n2014-04-14 04:55:14 ERROR: ProcessBlock() : already have block 270559 00000000000000019d2c06191a81d51027b2d738552ebf8566219301dc800621\r\n2014-04-14 04:55:14 received block 0000000000000002890e15edd582772649775bbe7618c7fb7c7930d590b307e6\r\n2014-04-14 04:55:16 SetBestChain: new best=0000000000000002890e15edd582772649775bbe7618c7fb7c7930d590b307e6  height=270609  log2_work=74.061637  tx=27447111  date=2013-11-20 13:11:37 progress=0.541591\r\n2014-04-14 04:55:16 ProcessBlock: ACCEPTED\r\n2014-04-14 04:55:16 received block 0000000000000002890e15edd582772649775bbe7618c7fb7c7930d590b307e6\r\n2014-04-14 04:55:16 ERROR: ProcessBlock() : already have block 270609 0000000000000002890e15edd582772649775bbe7618c7fb7c7930d590b307e6\r\n2014-04-14 04:55:16 received block 0000000000000001bc303de18d5fc8f3516d6226241a21164c7523914bc0410f\r\n2014-04-14 04:55:16 ERROR: ProcessBlock() : already have block 270567 0000000000000001bc303de18d5fc8f3516d6226241a21164c7523914bc0410f\r\n2014-04-14 04:55:16 received block 00000000000000057f124916e87fee0c7c5158f6395dba4830806644d91bada7\r\n2014-04-14 04:55:16 ERROR: ProcessBlock() : already have block 270573 00000000000000057f124916e87fee0c7c5158f6395dba4830806644d91bada7\r\n2014-04-14 04:55:16 received block 0000000000000002e1ce99bab8a494cda6000dce4b89fc8f8e6515a23d166818\r\n2014-04-14 04:55:19 SetBestChain: new best=0000000000000002e1ce99bab8a494cda6000dce4b89fc8f8e6515a23d166818  height=270610  log2_work=74.061829  tx=27447443  date=2013-11-20 13:16:48 progress=0.541605\r\n2014-04-14 04:55:19 ProcessBlock: ACCEPTED\r\n2014-04-14 04:55:19 received block 0000000000000002e17bc0a5590b0608fa72d0e3a336c2d68a90c5d955716e93\r\n2014-04-14 04:55:19 ERROR: ProcessBlock() : already have block 270568 0000000000000002e17bc0a5590b0608fa72d0e3a336c2d68a90c5d955716e93\r\n2014-04-14 04:55:19 received block 00000000000000058813ca25de2d2d8821c4ae39dcdced5f63609c48d59ad0ce\r\n2014-04-14 04:55:19 ERROR: ProcessBlock() : already have block 270560 00000000000000058813ca25de2d2d8821c4ae39dcdced5f63609c48d59ad0ce\r\n^C",
      "created_at" : "2014-04-14T04:55:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4051#issuecomment-40333273",
      "id" : 40333273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4051",
      "updated_at" : "2014-04-14T04:55:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40333273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/124767?v=3",
         "events_url" : "https://api.github.com/users/cmingxu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cmingxu/followers",
         "following_url" : "https://api.github.com/users/cmingxu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cmingxu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cmingxu",
         "id" : 124767,
         "login" : "cmingxu",
         "organizations_url" : "https://api.github.com/users/cmingxu/orgs",
         "received_events_url" : "https://api.github.com/users/cmingxu/received_events",
         "repos_url" : "https://api.github.com/users/cmingxu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cmingxu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cmingxu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cmingxu"
      }
   },
   {
      "body" : "Above is the output when i list thread in gdb and the debug.log. \r\nhope this can help, i am happy to provide more info, thanks.",
      "created_at" : "2014-04-14T04:57:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4051#issuecomment-40333310",
      "id" : 40333310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4051",
      "updated_at" : "2014-04-14T04:57:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40333310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/124767?v=3",
         "events_url" : "https://api.github.com/users/cmingxu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cmingxu/followers",
         "following_url" : "https://api.github.com/users/cmingxu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cmingxu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cmingxu",
         "id" : 124767,
         "login" : "cmingxu",
         "organizations_url" : "https://api.github.com/users/cmingxu/orgs",
         "received_events_url" : "https://api.github.com/users/cmingxu/received_events",
         "repos_url" : "https://api.github.com/users/cmingxu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cmingxu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cmingxu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cmingxu"
      }
   }
]
