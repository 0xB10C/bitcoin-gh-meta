[
   {
      "body" : "Updated adding MANDATORY_SCRIPT_VERIFY_FLAGS to consensus.h and STANDARD_SCRIPT_VERIFY_FLAGS and STANDARD_NOT_MANDATORY_VERIFY_FLAGS to policy.h",
      "created_at" : "2015-01-26T12:31:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-71453906",
      "id" : 71453906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-01-26T12:31:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/71453906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Needed rebase.",
      "created_at" : "2015-02-03T19:45:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-72720146",
      "id" : 72720146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-02-03T19:45:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72720146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24052619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24052619"
         }
      },
      "body" : "Not sold on this part...MANDATORY_SCRIPT_VERIFY_FLAGS is more about \"what we accept now\", whereas consensus code is generally \"what we accept(ed) at the time the block was generated based on its version\"",
      "commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "created_at" : "2015-02-04T00:06:18Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CONSENSUS_CONSENSUS_H\n+#define BITCOIN_CONSENSUS_CONSENSUS_H\n+\n+#include \"script/interpreter.h\"\n+\n+/** The maximum allowed size for a serialized block, in bytes (network rule) */\n+static const unsigned int MAX_BLOCK_SIZE = 1000000;\n+/** The maximum allowed number of signature check operations in a block (network rule) */\n+static const unsigned int MAX_BLOCK_SIGOPS = MAX_BLOCK_SIZE/50;\n+/** Coinbase transaction outputs can only be spent after this number of new blocks (network rule) */\n+static const int COINBASE_MATURITY = 100;\n+/**\n+ * Mandatory script verification flags that all new blocks must comply with for\n+ * them to be valid. (but old blocks may not comply with) Currently just P2SH,\n+ * but in the future other flags may be added, such as a soft-fork to enforce\n+ * strict DER encoding.\n+ * \n+ * Failing one of these tests may trigger a DoS ban - see CheckInputs() for\n+ * details.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24052619",
      "id" : 24052619,
      "original_commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "original_position" : 26,
      "path" : "src/consensus/consensus.h",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696",
      "updated_at" : "2015-02-04T00:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24052619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24052681"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24052681"
         }
      },
      "body" : "Why not also move this?",
      "commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "created_at" : "2015-02-04T00:07:46Z",
      "diff_hunk" : "@@ -28,33 +28,6 @@ class CScriptID : public uint160\n static const unsigned int MAX_OP_RETURN_RELAY = 80;      //! bytes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24052681",
      "id" : 24052681,
      "original_commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "original_position" : 1,
      "path" : "src/script/standard.h",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696",
      "updated_at" : "2015-02-04T00:07:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24052681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24055568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24055568"
         }
      },
      "body" : "As explained in the PR:\r\n\"This will also open the door to some cleaning up on the includes.\r\nnMaxDatacarrierBytes and MAX_OP_RETURN_RELAY are not moved from script/standard.o to policy.o because policy.o is in server while script/standard.o is in common and wouldn't link.\"\r\n\r\nIt can be done later, see https://github.com/jtimon/bitcoin/commit/d66803ee06175d71ff7605ed1cfa8b91aec23f62\r\nI mean, I can move MAX_OP_RETURN_RELAY without moving nMaxDatacarrierBytes...",
      "commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "created_at" : "2015-02-04T01:08:29Z",
      "diff_hunk" : "@@ -28,33 +28,6 @@ class CScriptID : public uint160\n static const unsigned int MAX_OP_RETURN_RELAY = 80;      //! bytes",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24055568",
      "id" : 24055568,
      "original_commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "original_position" : 1,
      "path" : "src/script/standard.h",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696",
      "updated_at" : "2015-02-04T01:08:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24055568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24055862"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24055862"
         }
      },
      "body" : "I've been thinking that Consensus could be a factory of an interface taking nHeight as parameter instead of a namespace.\r\nExample:\r\n```\r\nif (Consensus(nHeight).CheckBlock(block, state))\r\n```\r\nOtherwise all consensus functions affected by softforks will have to take int nHeight as parameter.\r\nBut it's probably too soon for something like that.\r\nI'm not sure what you're proposing though, leaving it on script/standard ?",
      "commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "created_at" : "2015-02-04T01:14:13Z",
      "diff_hunk" : "@@ -0,0 +1,28 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2014 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CONSENSUS_CONSENSUS_H\n+#define BITCOIN_CONSENSUS_CONSENSUS_H\n+\n+#include \"script/interpreter.h\"\n+\n+/** The maximum allowed size for a serialized block, in bytes (network rule) */\n+static const unsigned int MAX_BLOCK_SIZE = 1000000;\n+/** The maximum allowed number of signature check operations in a block (network rule) */\n+static const unsigned int MAX_BLOCK_SIGOPS = MAX_BLOCK_SIZE/50;\n+/** Coinbase transaction outputs can only be spent after this number of new blocks (network rule) */\n+static const int COINBASE_MATURITY = 100;\n+/**\n+ * Mandatory script verification flags that all new blocks must comply with for\n+ * them to be valid. (but old blocks may not comply with) Currently just P2SH,\n+ * but in the future other flags may be added, such as a soft-fork to enforce\n+ * strict DER encoding.\n+ * \n+ * Failing one of these tests may trigger a DoS ban - see CheckInputs() for\n+ * details.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#discussion_r24055862",
      "id" : 24055862,
      "original_commit_id" : "3163087972d4af902401b6868b00bb39c5e74ca4",
      "original_position" : 26,
      "path" : "src/consensus/consensus.h",
      "position" : 26,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5696",
      "updated_at" : "2015-02-04T01:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/24055862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased adding LOCKTIME_THRESHOLD to consensus.h",
      "created_at" : "2015-02-15T21:03:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-74436826",
      "id" : 74436826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-02-15T21:03:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/74436826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Moved MANDATORY_SCRIPT_VERIFY_FLAGS to policy as suggested by @TheBlueMatt and @sipa ",
      "created_at" : "2015-02-21T21:46:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-75394676",
      "id" : 75394676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-02-22T05:49:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75394676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Renamed policy.o to policy/policy.o ",
      "created_at" : "2015-03-03T19:33:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-77017023",
      "id" : 77017023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-03-03T19:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77017023",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Not exactly sure why, but it needed rebase. Ping @laanwj @theuni \r\nThis is quite trivial and the best first step for any consensus and policy code movements IMO.",
      "created_at" : "2015-03-11T13:28:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5696#issuecomment-78262222",
      "id" : 78262222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5696",
      "updated_at" : "2015-03-11T13:28:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78262222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
