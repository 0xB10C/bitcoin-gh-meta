[
   {
      "body" : "~~FIXME: allow more than one OP_RETURN on testnet and regtest according to chain params.~~\r\n\r\n",
      "created_at" : "2015-06-27T15:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116083536",
      "id" : 116083536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T09:24:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116083536",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "OP_RETURN <data> transactions are relayed in order to minimize harm to the network. Do you think this change will convert people from UTXO spam to the less-bad OP_RETURN spam, or will it just make it easier for non-spammers to start spamming? I have a feeling it's the latter unfortunately.",
      "created_at" : "2015-06-27T16:24:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116093115",
      "id" : 116093115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T16:24:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116093115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2560255?v=3",
         "events_url" : "https://api.github.com/users/lapp0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lapp0/followers",
         "following_url" : "https://api.github.com/users/lapp0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lapp0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lapp0",
         "id" : 2560255,
         "login" : "lapp0",
         "organizations_url" : "https://api.github.com/users/lapp0/orgs",
         "received_events_url" : "https://api.github.com/users/lapp0/received_events",
         "repos_url" : "https://api.github.com/users/lapp0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lapp0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lapp0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lapp0"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414547"
         }
      },
      "body" : "Key probably should be named \"commitment\" or \"data\", not \"OP_RETURN\" (which is just a technical implementation detail).",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-27T17:51:08Z",
      "diff_hunk" : "@@ -334,12 +334,18 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ,...\\n\"\n             \"    }\\n\"\n \n+            \"\\n\"\n+            \"    If you want to create OP_RETURN output instead of an address output, entries should be in the following format:\\n\"\n+            \"\\n\"\n+            \"      \\\"OP_RETURN\\\": \\\"hex\\\" (string, required) The key is \\\"OP_RETURN\\\", the value is hex encoded data\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414547",
      "id" : 33414547,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 7,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414547",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414553"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414553"
         }
      },
      "body" : "Prefer expounding on the proper use cases here to avoid people getting the impression it should be used incorrectly.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-27T17:51:45Z",
      "diff_hunk" : "@@ -334,12 +334,18 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ,...\\n\"\n             \"    }\\n\"\n \n+            \"\\n\"\n+            \"    If you want to create OP_RETURN output instead of an address output, entries should be in the following format:\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414553",
      "id" : 33414553,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 5,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414558"
         }
      },
      "body" : "createrawtransaction shouldn't enforce policy.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-27T17:52:21Z",
      "diff_hunk" : "@@ -369,20 +375,36 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n \n     set<CBitcoinAddress> setAddress;\n     vector<string> addrList = sendTo.getKeys();\n+    bool fOpReturnFound = false;\n     BOOST_FOREACH(const string& name_, addrList) {\n-        CBitcoinAddress address(name_);\n-        if (!address.IsValid())\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, string(\"Invalid Bitcoin address: \")+name_);\n \n-        if (setAddress.count(address))\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Invalid parameter, duplicated address: \")+name_);\n-        setAddress.insert(address);\n+        if (name_ == \"OP_RETURN\") {\n+\t    if (fOpReturnFound)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Only one OP_RETURN transaction output permitted\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414558",
      "id" : 33414558,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 34,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414567"
         }
      },
      "body" : "Again, policy. Although maybe okay if you use nMaxDatacarrierBytes instead.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-27T17:53:07Z",
      "diff_hunk" : "@@ -369,20 +375,36 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n \n     set<CBitcoinAddress> setAddress;\n     vector<string> addrList = sendTo.getKeys();\n+    bool fOpReturnFound = false;\n     BOOST_FOREACH(const string& name_, addrList) {\n-        CBitcoinAddress address(name_);\n-        if (!address.IsValid())\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, string(\"Invalid Bitcoin address: \")+name_);\n \n-        if (setAddress.count(address))\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Invalid parameter, duplicated address: \")+name_);\n-        setAddress.insert(address);\n+        if (name_ == \"OP_RETURN\") {\n+\t    if (fOpReturnFound)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Only one OP_RETURN transaction output permitted\"));\n+\t    fOpReturnFound = true;\n \n-        CScript scriptPubKey = GetScriptForDestination(address.Get());\n-        CAmount nAmount = AmountFromValue(sendTo[name_]);\n+            std::vector<unsigned char> data = ParseHexV(sendTo[name_].getValStr(),\"OP_RETURN data\");\n \n-        CTxOut out(nAmount, scriptPubKey);\n-        rawTx.vout.push_back(out);\n+            if (data.size() > MAX_OP_RETURN_RELAY)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"OP_RETURN data too long\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33414567",
      "id" : 33414567,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 44,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33414567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "To address @lapp0 's concern, I'd recommend instead focussing on doing this in bitcoin-tx, or even more ideal, beginning work on a tx utility library (that bitcoin-tx would wrap).",
      "created_at" : "2015-06-27T17:55:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116109053",
      "id" : 116109053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T17:55:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116109053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Nice work!\r\nBut i also agree with @luke-jr. Best would be to add OP_RETURN support to `bitcoin-tx`. Together with now merged `fundrawtransaction` this would make sense. There it would be good to avoid policy and support multiple OP_RETURN outputs.",
      "created_at" : "2015-06-27T18:45:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116116041",
      "id" : 116116041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T18:45:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116116041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "`bitcoin-tx` support added (to make it much easier for me - read: I'm lazy - I allow to specify the value for OP_RETURN transaction output. This is worth a few moments to rethink carefully - opinions? Maybe we should only allow zero as the output value... but this way, it is more generic).\r\n\r\nThe above `createrawtransaction` call rewritten for `bitcoin-tx` looks much better and is easier to red/write:\r\n\r\n```\r\n$ ./bitcoin-tx -testnet -create in=f7640e528c4ecbcf437adc22e1a02634aefcd286b0affc8a0edde34dcfaef60b:1 outdata=0:54686973204f505f52455455524e207472616e73616374696f6e206f7574707574207761732063726561746564206279206d6f646966696564206372656174657261777472616e73616374696f6e2e outaddr=1.89999:msj42CCGruhRsFrGATiUuh25dtxYtnpbTx\r\n01000000010bf6aecf4de3dd0e8afcafb086d2fcae3426a0e122dc7a43cfcb4e8c520e64f70100000000ffffffff020000000000000000526a4c4f54686973204f505f52455455524e207472616e73616374696f6e206f7574707574207761732063726561746564206279206d6f646966696564206372656174657261777472616e73616374696f6e2e9827530b000000001976a91485eb47fe98f349065d6f044e27a4ac541af79ee288ac00000000\r\n$\r\n```\r\n\r\n@luke-jr I have to sort in my head first why we should allow to create transaction with two OP_RETURN txouts and mainnet inputs/outputs when the resulting TX is unusable there. The same applies to the size of the data.\r\nWhen we do not check against policy, the output may be unusable and users will ask... When we check against current policy rules, the transactions will be usable. This is the reason why I have chosen to check against policy rules.\r\n\r\n@lapp0 No opinion on your concern (I do not care enough - there are zillions of other ways to create OP_RETURN outputs and people already use them anyway). I also do not understand @luke-jr 's answer to your concern 8) Did it addressed your concern at all?\r\n",
      "created_at" : "2015-06-27T19:58:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116123729",
      "id" : 116123729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T19:58:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116123729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik *Users* should not be doing anything with OP_RETURN in the first place. Policy is node-specific and cannot be expected to be consistent. Nothing should be designed around specific policies.",
      "created_at" : "2015-06-27T20:14:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116130936",
      "id" : 116130936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T20:14:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116130936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr There are several types of users... :-)\r\n\r\nAd policy: got it. I'll delete every policy rules checks (even `MAX_OP_RETURN_RELAY`/`nMaxDatacarrierBytes` because the transaction can be created on this system but sent via another where there are different rules).",
      "created_at" : "2015-06-27T20:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116134546",
      "id" : 116134546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T20:24:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116134546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "mostly ACK.  Comments:\r\n* The long term direction is to move \"pure function\" stuff out of bitcoind and into bitcoin-tx and similar utilities.  IRC discussion has proposed similar tools \"bitcoin-key\", etc.\r\n* Thus, _not_ implementing it at all in bitcoind is _weakly_ preferred.  (\"weak\" preference = may be useful in the short term, even if long term it is certain the code will be deleted)\r\n* Missing bitcoin-tx test\r\n",
      "created_at" : "2015-06-27T21:53:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116151125",
      "id" : 116151125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-27T21:53:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116151125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Travis builds fail on some systems - can't find the file txcreatedata1.hex. Strange. Any ideas?\r\n",
      "created_at" : "2015-06-28T09:19:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116236143",
      "id" : 116236143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T09:19:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116236143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421056"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421056"
         }
      },
      "body" : "Done.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T09:38:02Z",
      "diff_hunk" : "@@ -334,12 +334,18 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ,...\\n\"\n             \"    }\\n\"\n \n+            \"\\n\"\n+            \"    If you want to create OP_RETURN output instead of an address output, entries should be in the following format:\\n\"\n+            \"\\n\"\n+            \"      \\\"OP_RETURN\\\": \\\"hex\\\" (string, required) The key is \\\"OP_RETURN\\\", the value is hex encoded data\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421056",
      "id" : 33421056,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 7,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421061"
         }
      },
      "body" : "Policy check removed.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T09:38:19Z",
      "diff_hunk" : "@@ -369,20 +375,36 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n \n     set<CBitcoinAddress> setAddress;\n     vector<string> addrList = sendTo.getKeys();\n+    bool fOpReturnFound = false;\n     BOOST_FOREACH(const string& name_, addrList) {\n-        CBitcoinAddress address(name_);\n-        if (!address.IsValid())\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, string(\"Invalid Bitcoin address: \")+name_);\n \n-        if (setAddress.count(address))\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Invalid parameter, duplicated address: \")+name_);\n-        setAddress.insert(address);\n+        if (name_ == \"OP_RETURN\") {\n+\t    if (fOpReturnFound)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Only one OP_RETURN transaction output permitted\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421061",
      "id" : 33421061,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 34,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421064"
         }
      },
      "body" : "I have removed policy checks completely.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T09:38:34Z",
      "diff_hunk" : "@@ -369,20 +375,36 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n \n     set<CBitcoinAddress> setAddress;\n     vector<string> addrList = sendTo.getKeys();\n+    bool fOpReturnFound = false;\n     BOOST_FOREACH(const string& name_, addrList) {\n-        CBitcoinAddress address(name_);\n-        if (!address.IsValid())\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, string(\"Invalid Bitcoin address: \")+name_);\n \n-        if (setAddress.count(address))\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Invalid parameter, duplicated address: \")+name_);\n-        setAddress.insert(address);\n+        if (name_ == \"OP_RETURN\") {\n+\t    if (fOpReturnFound)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"Only one OP_RETURN transaction output permitted\"));\n+\t    fOpReturnFound = true;\n \n-        CScript scriptPubKey = GetScriptForDestination(address.Get());\n-        CAmount nAmount = AmountFromValue(sendTo[name_]);\n+            std::vector<unsigned char> data = ParseHexV(sendTo[name_].getValStr(),\"OP_RETURN data\");\n \n-        CTxOut out(nAmount, scriptPubKey);\n-        rawTx.vout.push_back(out);\n+            if (data.size() > MAX_OP_RETURN_RELAY)\n+                throw JSONRPCError(RPC_INVALID_PARAMETER, string(\"OP_RETURN data too long\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33421064",
      "id" : 33421064,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 44,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33421064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "I'll keep both `createrawtransaction` and `bitcoin-tx` parts here in this PR. We can later decide to remove it.\r\nStill have to rewrite the `createrawtransaction` help text and squash into nice commits.\r\n",
      "created_at" : "2015-06-28T09:41:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116246967",
      "id" : 116246967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T09:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116246967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424581"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424581"
         }
      },
      "body" : "Is there a use case for burning a value?",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T17:00:57Z",
      "diff_hunk" : "@@ -69,6 +69,7 @@ static bool AppInitRawTx(int argc, char* argv[])\n         strUsage += HelpMessageOpt(\"locktime=N\", _(\"Set TX lock time to N\"));\n         strUsage += HelpMessageOpt(\"nversion=N\", _(\"Set TX version to N\"));\n         strUsage += HelpMessageOpt(\"outaddr=VALUE:ADDRESS\", _(\"Add address-based output to TX\"));\n+        strUsage += HelpMessageOpt(\"outdata=VALUE:DATA\", _(\"Add data-based output to TX\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424581",
      "id" : 33424581,
      "original_commit_id" : "f35154f426ea2cdf2bfc6ca2b02e9ec19d43a3d9",
      "original_position" : 4,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424597"
         }
      },
      "body" : "Don't forget to update docs here.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T17:02:19Z",
      "diff_hunk" : "@@ -334,12 +334,18 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ,...\\n\"\n             \"    }\\n\"\n \n+            \"\\n\"\n+            \"    If you want to create OP_RETURN output instead of an address output, entries should be in the following format:\\n\"\n+            \"\\n\"\n+            \"      \\\"OP_RETURN\\\": \\\"hex\\\" (string, required) The key is \\\"OP_RETURN\\\", the value is hex encoded data\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424597",
      "id" : 33424597,
      "original_commit_id" : "8f7a99b59897227b1359fe7fb104113b629237f9",
      "original_position" : 7,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr I commented on non-zero output value above. I prefer to be able to construct the transaction with non-zero output value/burning the value. I do not personally have a use case for it though. I only want to be more generic.\r\n\r\nYes, I still have to rewrite the docs of `createrawtransaction`. As a OP_RETURN is a \"stranger\" in `createrawtransaction`, I have to come up with a good way to describe it. Not found it yet.\r\n",
      "created_at" : "2015-06-28T17:28:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116301270",
      "id" : 116301270,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T17:28:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116301270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424882"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424882"
         }
      },
      "body" : "It is easy to make the \"VALUE:\" piece optional, in the colon search/parsing code.\r\n\r\nThat way the most common use case is outdata=DATA.\r\n\r\nHowever, it is technically possible to put a value in the OP_RETURN output.  This is a raw transaction interface, so setting that as an option seems reasonable, even if the use cases are rare.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T17:31:52Z",
      "diff_hunk" : "@@ -69,6 +69,7 @@ static bool AppInitRawTx(int argc, char* argv[])\n         strUsage += HelpMessageOpt(\"locktime=N\", _(\"Set TX lock time to N\"));\n         strUsage += HelpMessageOpt(\"nversion=N\", _(\"Set TX version to N\"));\n         strUsage += HelpMessageOpt(\"outaddr=VALUE:ADDRESS\", _(\"Add address-based output to TX\"));\n+        strUsage += HelpMessageOpt(\"outdata=VALUE:DATA\", _(\"Add data-based output to TX\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33424882",
      "id" : 33424882,
      "original_commit_id" : "f35154f426ea2cdf2bfc6ca2b02e9ec19d43a3d9",
      "original_position" : 4,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33424882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33425198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33425198"
         }
      },
      "body" : "This is the best solution, yes.",
      "commit_id" : "7ea8bdf5d060306e91a5458237f5835e8cb38c6a",
      "created_at" : "2015-06-28T18:05:31Z",
      "diff_hunk" : "@@ -69,6 +69,7 @@ static bool AppInitRawTx(int argc, char* argv[])\n         strUsage += HelpMessageOpt(\"locktime=N\", _(\"Set TX lock time to N\"));\n         strUsage += HelpMessageOpt(\"nversion=N\", _(\"Set TX version to N\"));\n         strUsage += HelpMessageOpt(\"outaddr=VALUE:ADDRESS\", _(\"Add address-based output to TX\"));\n+        strUsage += HelpMessageOpt(\"outdata=VALUE:DATA\", _(\"Add data-based output to TX\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#discussion_r33425198",
      "id" : 33425198,
      "original_commit_id" : "f35154f426ea2cdf2bfc6ca2b02e9ec19d43a3d9",
      "original_position" : 4,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6346",
      "updated_at" : "2015-06-28T18:55:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33425198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Implemented @jgarzik 's solution - the value is now optional, default is 0.",
      "created_at" : "2015-06-28T18:31:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116312033",
      "id" : 116312033,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T18:31:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116312033",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Help text updated. I do not want to use []/{} notation for optional or required parts of input because it can't be combined with JSON text in an elegant way.\r\nTwo spaces after \"txid\":\"id\" added on purpose to fix the formatting.\r\nI hope it is clear (but getting too long).",
      "created_at" : "2015-06-28T18:58:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116313812",
      "id" : 116313812,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T18:58:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116313812",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2015-06-28T19:45:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116320255",
      "id" : 116320255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T19:45:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116320255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@paveljanik You need to list the .hex files in Makefile.test.in, otherwise they're missing from the source tarball.",
      "created_at" : "2015-06-28T20:22:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116325748",
      "id" : 116325748,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T20:22:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116325748",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Thanks! But what is the reason for the first and the last Travis builds to be OK and only the rest of builds failing?\r\n",
      "created_at" : "2015-06-28T20:27:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116328111",
      "id" : 116328111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T20:27:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116328111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "@paveljanik Those two just compile, they don't run the tests. The others failed to open the files for tests, but those two never tried to open them at all.",
      "created_at" : "2015-06-28T20:30:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6346#issuecomment-116328733",
      "id" : 116328733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6346",
      "updated_at" : "2015-06-28T20:30:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/116328733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
