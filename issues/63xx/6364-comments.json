[
   {
      "body" : "@jonasschnelli asked the following questions on the original commit:\r\n\r\n> What if an attacker uses Tor Bridges?\r\n\r\nIt makes no difference, traffic that enters Tor via a bridge still leaves via a regular exit.\r\n\r\n> Is there no way of detecting a misbehaving node that tries to feed jam to my node?\r\n\r\nThe current notion of misbehaviour is insufficient and we have all known this for a long time. By analogy, is someone who sits at a restaurant table for 5 hours \"misbehaving\" just because they're taking up a table some other guest could use? No, not really. They're just loitering. If the restaurant gets full the owner may ask them to make space for another guest, but that would not imply misbehaviour on their part.\r\n\r\nThe notion of priority this patch introduces fixes this, by allowing peers to be distinguished based on how important they are to the node (or perhaps to Bitcoin as a whole), with a score that only matters when resources start to run low. If resources are sufficient to serve everyone then peer priority does not make any difference.\r\n\r\n> If a node calls getblock of the same block(s) repeatedly, or does other irrational things, this could also reduce it's score.\r\n\r\nYes, good suggestion. I think priority can eventually subsume the existing misbehaviour system almost entirely. The problem with misbehaviour being, it lets jerks or devs writing buggy code ban shared IPs like carrier NATs, universities, VPNs, Tor exits etc. This has been pointed out in an academic paper and is one of the problems that make Tor-by-default hard to enable for bitcoinj clients.\r\n\r\n> What if we would set limits for block relying for the whole full node operation, maybe also per subnet and or also per IP.\r\n\r\nI didn't understand this question,s orry.\r\n\r\n> I just try to find a way for auto banning nodes without a net QoS with a centralized fixed IP list because i think this would open the cat and mouse game.\r\n\r\nYes, a sufficiently motivated attacker will just find other sets of IPs to use. However this might involve not being so anonymous or having to more actively break the law by e.g. renting a botnet. Tor is convenient and easy and using it is legal, even if DoS attacks generally aren't. \r\n\r\nSo it's a start, and it addresses an actual observed DoS that someone clearly has the ability to mount right now, even if more work is required to handle every case. Giant oaks tiny acorns, etc.",
      "created_at" : "2015-07-02T12:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6364#issuecomment-118010633",
      "id" : 118010633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6364",
      "updated_at" : "2015-07-02T12:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/118010633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "I'm not sure why Travis is unhappy. The header is included in the patch and it builds fine here.",
      "created_at" : "2015-07-02T13:12:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6364#issuecomment-118027934",
      "id" : 118027934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6364",
      "updated_at" : "2015-07-02T13:12:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/118027934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn: you need to add `ipgroups.h` to `src/Makefile.am` (around L101).",
      "created_at" : "2015-07-02T13:21:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6364#issuecomment-118030758",
      "id" : 118030758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6364",
      "updated_at" : "2015-07-02T13:22:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/118030758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
