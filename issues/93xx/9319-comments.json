[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91847856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91847856"
         }
      },
      "body" : "Are addnode connections no longer counted under the normal max connection limit?",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T05:06:32Z",
      "diff_hunk" : "@@ -868,11 +868,11 @@ bool AppInitParameterInteraction()\n     nMaxConnections = std::max(nUserMaxConnections, 0);\n \n     // Trim requested connection counts, to fit into system limitations\n-    nMaxConnections = std::max(std::min(nMaxConnections, (int)(FD_SETSIZE - nBind - MIN_CORE_FILEDESCRIPTORS)), 0);\n-    nFD = RaiseFileDescriptorLimit(nMaxConnections + MIN_CORE_FILEDESCRIPTORS);\n+    nMaxConnections = std::max(std::min(nMaxConnections, (int)(FD_SETSIZE - nBind - MIN_CORE_FILEDESCRIPTORS - MAX_ADDNODE_CONNECTIONS)), 0);\n+    nFD = RaiseFileDescriptorLimit(nMaxConnections + MIN_CORE_FILEDESCRIPTORS + MAX_ADDNODE_CONNECTIONS);\n     if (nFD < MIN_CORE_FILEDESCRIPTORS)\n         return InitError(_(\"Not enough file descriptors available.\"));\n-    nMaxConnections = std::min(nFD - MIN_CORE_FILEDESCRIPTORS, nMaxConnections);\n+    nMaxConnections = std::min(nFD - MIN_CORE_FILEDESCRIPTORS - MAX_ADDNODE_CONNECTIONS, nMaxConnections);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91847856",
      "id" : 91847856,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 11,
      "path" : "src/init.cpp",
      "position" : 11,
      "pull_request_review_id" : 12359785,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91847856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91847887"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91847887"
         }
      },
      "body" : "They are not. See also commit message, pr text, and release note. :)",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T05:09:40Z",
      "diff_hunk" : "@@ -868,11 +868,11 @@ bool AppInitParameterInteraction()\n     nMaxConnections = std::max(nUserMaxConnections, 0);\n \n     // Trim requested connection counts, to fit into system limitations\n-    nMaxConnections = std::max(std::min(nMaxConnections, (int)(FD_SETSIZE - nBind - MIN_CORE_FILEDESCRIPTORS)), 0);\n-    nFD = RaiseFileDescriptorLimit(nMaxConnections + MIN_CORE_FILEDESCRIPTORS);\n+    nMaxConnections = std::max(std::min(nMaxConnections, (int)(FD_SETSIZE - nBind - MIN_CORE_FILEDESCRIPTORS - MAX_ADDNODE_CONNECTIONS)), 0);\n+    nFD = RaiseFileDescriptorLimit(nMaxConnections + MIN_CORE_FILEDESCRIPTORS + MAX_ADDNODE_CONNECTIONS);\n     if (nFD < MIN_CORE_FILEDESCRIPTORS)\n         return InitError(_(\"Not enough file descriptors available.\"));\n-    nMaxConnections = std::min(nFD - MIN_CORE_FILEDESCRIPTORS, nMaxConnections);\n+    nMaxConnections = std::min(nFD - MIN_CORE_FILEDESCRIPTORS - MAX_ADDNODE_CONNECTIONS, nMaxConnections);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91847887",
      "id" : 91847887,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 11,
      "path" : "src/init.cpp",
      "position" : 11,
      "pull_request_review_id" : 12359815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91847887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "concept ACK",
      "created_at" : "2016-12-11T08:32:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#issuecomment-266269940",
      "id" : 266269940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9319",
      "updated_at" : "2016-12-11T08:32:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266269940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860490"
         }
      },
      "body" : "What do you mean by \"aggressive\"connection here?",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T17:29:14Z",
      "diff_hunk" : "@@ -62,6 +62,16 @@ Removal of Priority Estimation\n   major version. To prepare for this, the default for the rate limit of priority\n   transactions (`-limitfreerelay`) has been set to `0` kB/minute.\n \n+P2P connection management\n+--------------------------\n+\n+- Peers manually added through the addnode option or addnode RPC now have their own\n+  limit of eight connections which does not compete with other inbound or outbound\n+  connection usage and is not subject to the maxconnections limitation.\n+\n+- New connections to manually added peers are much faster and more aggressive.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860490",
      "id" : 91860490,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 11,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 12370684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860538"
         }
      },
      "body" : "This is new behaviour, addnoded nodes are not punished/banned. Right?\r\n",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T17:32:05Z",
      "diff_hunk" : "@@ -2575,6 +2575,8 @@ bool SendMessages(CNode* pto, CConnman& connman)\n             state.fShouldBan = false;\n             if (pto->fWhitelisted)\n                 LogPrintf(\"Warning: not punishing whitelisted peer %s!\\n\", pto->addr.ToString());\n+            else if (pto->fAddnode)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860538",
      "id" : 91860538,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 4,
      "path" : "src/net_processing.cpp",
      "position" : 4,
      "pull_request_review_id" : 12370726,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860551"
         }
      },
      "body" : "addnode missing in the helptext.",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T17:32:38Z",
      "diff_hunk" : "@@ -152,6 +152,7 @@ UniValue getpeerinfo(const JSONRPCRequest& request)\n         // their ver message.\n         obj.push_back(Pair(\"subver\", stats.cleanSubVer));\n         obj.push_back(Pair(\"inbound\", stats.fInbound));\n+        obj.push_back(Pair(\"addnode\", stats.fAddnode));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91860551",
      "id" : 91860551,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 4,
      "path" : "src/rpc/net.cpp",
      "position" : 12,
      "pull_request_review_id" : 12370738,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91860551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91863883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91863883"
         }
      },
      "body" : "\"Ban-disconnects are also exempted for peers added via addnode since\r\nthe outbound addnode logic ignores bans. Previously it would ban\r\nan addnode then immediately reconnect to it.\"",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T20:07:42Z",
      "diff_hunk" : "@@ -2575,6 +2575,8 @@ bool SendMessages(CNode* pto, CConnman& connman)\n             state.fShouldBan = false;\n             if (pto->fWhitelisted)\n                 LogPrintf(\"Warning: not punishing whitelisted peer %s!\\n\", pto->addr.ToString());\n+            else if (pto->fAddnode)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91863883",
      "id" : 91863883,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 4,
      "path" : "src/net_processing.cpp",
      "position" : 4,
      "pull_request_review_id" : 12373536,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T21:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91863883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91869291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91869291"
         }
      },
      "body" : "fixed.",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-11T23:42:54Z",
      "diff_hunk" : "@@ -152,6 +152,7 @@ UniValue getpeerinfo(const JSONRPCRequest& request)\n         // their ver message.\n         obj.push_back(Pair(\"subver\", stats.cleanSubVer));\n         obj.push_back(Pair(\"inbound\", stats.fInbound));\n+        obj.push_back(Pair(\"addnode\", stats.fAddnode));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r91869291",
      "id" : 91869291,
      "original_commit_id" : "3708f01e623b7c5e591b1d1e486e1c494853f5bf",
      "original_position" : 4,
      "path" : "src/rpc/net.cpp",
      "position" : 12,
      "pull_request_review_id" : 12378543,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-11T23:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/91869291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Adding a specific limit for user-added nodes makes it easier to reason about, and avoids some annoying edge cases. Good idea. Concept ACK.",
      "created_at" : "2016-12-15T16:53:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#issuecomment-267379599",
      "id" : 267379599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9319",
      "updated_at" : "2016-12-15T16:53:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267379599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK b8d170dab441896970d5ab0f15ca672173592065\r\n\r\nWould very much like to see this for 0.14.",
      "created_at" : "2016-12-24T21:04:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#issuecomment-269100401",
      "id" : 269100401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9319",
      "updated_at" : "2016-12-24T21:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/269100401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r93947482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93947482"
         }
      },
      "body" : "If no connection was established, this sleep runs while holding the semaphore. Is that a problem? I think this is the only thread that accesses the semaphore, but if that's the case... why are we using a semaphore?",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-27T16:29:37Z",
      "diff_hunk" : "@@ -1768,26 +1769,32 @@ void CConnman::ThreadOpenAddedConnections()\n         vAddedNodes = mapMultiArgs[\"-addnode\"];\n     }\n \n-    for (unsigned int i = 0; true; i++)\n+    while (true)\n     {\n+        CSemaphoreGrant grant(*semAddnode);\n         std::vector<AddedNodeInfo> vInfo = GetAddedNodeInfo();\n+        bool tried = false;\n         for (const AddedNodeInfo& info : vInfo) {\n             if (!info.fConnected) {\n-                CSemaphoreGrant grant(*semOutbound);\n+                if (!grant.TryAcquire()) {\n+                    // If we've used up our semaphore and need a new one, lets not wait here since while we are waiting\n+                    // the addednodeinfo state might change.\n+                    break;\n+                }\n                 // If strAddedNode is an IP/port, decode it immediately, so\n                 // OpenNetworkConnection can detect existing connections to that IP/port.\n+                tried = true;\n                 CService service(LookupNumeric(info.strAddedNode.c_str(), Params().GetDefaultPort()));\n-                OpenNetworkConnection(CAddress(service, NODE_NONE), false, &grant, info.strAddedNode.c_str(), false);\n+                OpenNetworkConnection(CAddress(service, NODE_NONE), false, &grant, info.strAddedNode.c_str(), false, false, true);\n                 MilliSleep(500);\n             }\n         }\n-\n-        MilliSleep(120000); // Retry every 2 minutes\n+        MilliSleep(tried ? 60000 : 2000); // Retry every 60 seconds if a connection was attempted, otherwise two seconds",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r93947482",
      "id" : 93947482,
      "original_commit_id" : "ad21bf5e313be91a4f8bbc34e867c5b07543e65a",
      "original_position" : 46,
      "path" : "src/net.cpp",
      "position" : 46,
      "pull_request_review_id" : 14478631,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-27T16:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93947482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r93948173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93948173"
         }
      },
      "body" : "This makes addnoded connections no longer prevent random connections to the same netgroups. Is that change implied by \"which is not subject to any of the other connection limitations\"?",
      "commit_id" : "b8d170dab441896970d5ab0f15ca672173592065",
      "created_at" : "2016-12-27T16:36:59Z",
      "diff_hunk" : "@@ -1625,7 +1626,7 @@ void CConnman::ThreadOpenConnections()\n         {\n             LOCK(cs_vNodes);\n             BOOST_FOREACH(CNode* pnode, vNodes) {\n-                if (!pnode->fInbound) {\n+                if (!pnode->fInbound && !pnode->fAddnode) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9319#discussion_r93948173",
      "id" : 93948173,
      "original_commit_id" : "ad21bf5e313be91a4f8bbc34e867c5b07543e65a",
      "original_position" : 13,
      "path" : "src/net.cpp",
      "position" : 13,
      "pull_request_review_id" : 14478631,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9319",
      "updated_at" : "2016-12-27T16:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93948173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
