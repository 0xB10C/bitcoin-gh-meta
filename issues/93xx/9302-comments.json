[
   {
      "body" : "utACK a0728ccebb155b09cc537c88275662e33c1ab675\r\nWould be nice if someone could write a test for this.",
      "created_at" : "2016-12-08T19:54:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-265837943",
      "id" : 265837943,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-08T19:54:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265837943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "utACK b3a7410\r\n\r\nI think this needs release notes documenting the change in behavior.\r\n\r\nFor 0.14.0 (not backport) we should also consider how to pass on the information on whether the tx was accepted to the mempool and if not why not?",
      "created_at" : "2016-12-08T21:01:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-265854226",
      "id" : 265854226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-08T21:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265854226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "utACK. Will test.\r\n\r\n@morcos  the listtransaction output tells you if the transaction is currently in the mempool, and we log the rejection. Is that covering a lot of your thinking?\r\n",
      "created_at" : "2016-12-08T22:50:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-265879696",
      "id" : 265879696,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-08T22:50:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265879696",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK. It may make sense to move broadcasting outside of CommitTransaction entirely, but this is good enough for now (and backport).",
      "created_at" : "2016-12-09T00:42:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-265900122",
      "id" : 265900122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-09T00:42:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/265900122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "ACK b3a74100b86423c553ac327f3ea6fdbc2c50890a, wrote up a quick test to exercise the logic (EDIT: note that this test is no good to merge, as #9262 may require it to be rewritten):\r\n\r\n```\r\ndiff --git a/qa/rpc-tests/wallet.py b/qa/rpc-tests/wallet.py\r\nindex 3c0dc0f..6435f00 100755\r\n--- a/qa/rpc-tests/wallet.py\r\n+++ b/qa/rpc-tests/wallet.py\r\n@@ -346,5 +346,18 @@ class WalletTest (BitcoinTestFramework):\r\n         assert_equal(coinbase_tx_1[\"transactions\"][0][\"blockhash\"], blocks[1])\r\n         assert_equal(len(self.nodes[0].listsinceblock(blocks[1])[\"transactions\"]), 0)\r\n \r\n+        # Test that spending coins doesn't fail as long as balance is high enough.\r\n+        to_send = 0.05\r\n+        txids = []\r\n+        while self.nodes[0].getbalance() > to_send:\r\n+            txids.append(self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), to_send))\r\n+\r\n+        mempool = self.nodes[0].getrawmempool()\r\n+        sent_tx_not_in_mempool = False\r\n+        for txid in txids:\r\n+            if (txid not in mempool):\r\n+                sent_tx_not_in_mempool = True\r\n+        assert(sent_tx_not_in_mempool) # otherwise test needs to be updated to cover this case\r\n+\r\n if __name__ == '__main__':\r\n     WalletTest().main()\r\n```\r\n",
      "created_at" : "2016-12-09T13:46:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-266017276",
      "id" : 266017276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-09T13:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266017276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@gmaxwell No, I mean more than that. I think it would be good to inform the user that for some reason his transaction has not be accepted to the mempool.  Perhaps there is no good way to do this without breaking the RPC API, but at the very least we could do it from the GUI.\r\n\r\nBut to be clear, I do not think that should be a blocker for this.  I'll agree that this is an improvement, I just think we should continue to improve afterwards...\r\n\r\n\r\n",
      "created_at" : "2016-12-09T15:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9302#issuecomment-266042728",
      "id" : 266042728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9302",
      "updated_at" : "2016-12-09T15:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/266042728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   }
]
