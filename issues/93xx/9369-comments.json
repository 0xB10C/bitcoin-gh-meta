[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92869959"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92869959"
         }
      },
      "body" : "You can use `__func__` here.\r\n",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-16T19:20:59Z",
      "diff_hunk" : "@@ -3300,6 +3256,48 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n         mapKeyBirth[it->first] = it->second->GetBlockTime() - 7200; // block times can be 2h off\n }\n \n+unsigned int CWallet::GetTimeSmart(const CWalletTx& wtx) const\n+{\n+    unsigned int nTimeSmart = wtx.nTimeReceived;\n+    if (!wtx.hashUnset()) {\n+        if (mapBlockIndex.count(wtx.hashBlock)) {\n+            int64_t latestNow = wtx.nTimeReceived;\n+            int64_t latestEntry = 0;\n+            {\n+                // Tolerate times up to the last timestamp in the wallet not more than 5 minutes into the future\n+                int64_t latestTolerated = latestNow + 300;\n+                const TxItems& txOrdered = wtxOrdered;\n+                for (auto it = txOrdered.rbegin(); it != txOrdered.rend(); ++it) {\n+                    CWalletTx* const pwtx = it->second.first;\n+                    if (pwtx == &wtx)\n+                        continue;\n+                    CAccountingEntry* const pacentry = it->second.second;\n+                    int64_t nSmartTime;\n+                    if (pwtx) {\n+                        nSmartTime = pwtx->nTimeSmart;\n+                        if (!nSmartTime)\n+                            nSmartTime = pwtx->nTimeReceived;\n+                    } else\n+                        nSmartTime = pacentry->nTime;\n+                    if (nSmartTime <= latestTolerated) {\n+                        latestEntry = nSmartTime;\n+                        if (nSmartTime > latestNow)\n+                            latestNow = nSmartTime;\n+                        break;\n+                    }\n+                }\n+            }\n+\n+            int64_t blocktime = mapBlockIndex[wtx.hashBlock]->GetBlockTime();\n+            nTimeSmart = std::max(latestEntry, std::min(blocktime, latestNow));\n+        } else\n+            LogPrintf(\"GetTimeSmart(): found %s in block %s not in index\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92869959",
      "id" : 92869959,
      "original_commit_id" : "406e9759478e86d37cd4fca255841fd3291417c3",
      "original_position" : 92,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 13394521,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92869959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92875006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92875006"
         }
      },
      "body" : "Thanks, done.",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-16T19:50:59Z",
      "diff_hunk" : "@@ -3300,6 +3256,48 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n         mapKeyBirth[it->first] = it->second->GetBlockTime() - 7200; // block times can be 2h off\n }\n \n+unsigned int CWallet::GetTimeSmart(const CWalletTx& wtx) const\n+{\n+    unsigned int nTimeSmart = wtx.nTimeReceived;\n+    if (!wtx.hashUnset()) {\n+        if (mapBlockIndex.count(wtx.hashBlock)) {\n+            int64_t latestNow = wtx.nTimeReceived;\n+            int64_t latestEntry = 0;\n+            {\n+                // Tolerate times up to the last timestamp in the wallet not more than 5 minutes into the future\n+                int64_t latestTolerated = latestNow + 300;\n+                const TxItems& txOrdered = wtxOrdered;\n+                for (auto it = txOrdered.rbegin(); it != txOrdered.rend(); ++it) {\n+                    CWalletTx* const pwtx = it->second.first;\n+                    if (pwtx == &wtx)\n+                        continue;\n+                    CAccountingEntry* const pacentry = it->second.second;\n+                    int64_t nSmartTime;\n+                    if (pwtx) {\n+                        nSmartTime = pwtx->nTimeSmart;\n+                        if (!nSmartTime)\n+                            nSmartTime = pwtx->nTimeReceived;\n+                    } else\n+                        nSmartTime = pacentry->nTime;\n+                    if (nSmartTime <= latestTolerated) {\n+                        latestEntry = nSmartTime;\n+                        if (nSmartTime > latestNow)\n+                            latestNow = nSmartTime;\n+                        break;\n+                    }\n+                }\n+            }\n+\n+            int64_t blocktime = mapBlockIndex[wtx.hashBlock]->GetBlockTime();\n+            nTimeSmart = std::max(latestEntry, std::min(blocktime, latestNow));\n+        } else\n+            LogPrintf(\"GetTimeSmart(): found %s in block %s not in index\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92875006",
      "id" : 92875006,
      "original_commit_id" : "406e9759478e86d37cd4fca255841fd3291417c3",
      "original_position" : 92,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 13399737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92875006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "utACK 022267ac634b13690414252c4deba7f499f98c63",
      "created_at" : "2016-12-16T20:34:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#issuecomment-267689587",
      "id" : 267689587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9369",
      "updated_at" : "2016-12-16T20:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267689587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92917935"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92917935"
         }
      },
      "body" : "The old code is testing `hashUnset()` of `wtxIn`. But the new code is checking `hashUnset()` of `wtx`. Is it the same?",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-17T08:25:14Z",
      "diff_hunk" : "@@ -844,51 +844,7 @@ bool CWallet::AddToWallet(const CWalletTx& wtxIn, bool fFlushOnClose)\n         wtx.nTimeReceived = GetAdjustedTime();\n         wtx.nOrderPos = IncOrderPosNext(&walletdb);\n         wtxOrdered.insert(make_pair(wtx.nOrderPos, TxPair(&wtx, (CAccountingEntry*)0)));\n-\n-        wtx.nTimeSmart = wtx.nTimeReceived;\n-        if (!wtxIn.hashUnset())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92917935",
      "id" : 92917935,
      "original_commit_id" : "022267ac634b13690414252c4deba7f499f98c63",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 13443282,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92917935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92921052"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92921052"
         }
      },
      "body" : "Yes, the change replaces this and other uses of `wtxIn` with `wtx`. Because this code is running in the case where `fInsertedNew ` is true, `wtx` at this point is just a copy of `wtxIn` with two extra fields set (`nTimeReceived` and `nOrderPos`)",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-17T12:34:54Z",
      "diff_hunk" : "@@ -844,51 +844,7 @@ bool CWallet::AddToWallet(const CWalletTx& wtxIn, bool fFlushOnClose)\n         wtx.nTimeReceived = GetAdjustedTime();\n         wtx.nOrderPos = IncOrderPosNext(&walletdb);\n         wtxOrdered.insert(make_pair(wtx.nOrderPos, TxPair(&wtx, (CAccountingEntry*)0)));\n-\n-        wtx.nTimeSmart = wtx.nTimeReceived;\n-        if (!wtxIn.hashUnset())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r92921052",
      "id" : 92921052,
      "original_commit_id" : "022267ac634b13690414252c4deba7f499f98c63",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : 6,
      "pull_request_review_id" : 13446083,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/92921052",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "ACK https://github.com/bitcoin/bitcoin/commit/022267ac634b13690414252c4deba7f499f98c63",
      "created_at" : "2016-12-17T16:43:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#issuecomment-267772529",
      "id" : 267772529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9369",
      "updated_at" : "2016-12-17T16:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267772529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "utACK 406e975",
      "created_at" : "2016-12-19T01:42:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#issuecomment-267864215",
      "id" : 267864215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9369",
      "updated_at" : "2016-12-19T01:42:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/267864215",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93014619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93014619"
         }
      },
      "body" : "Would it be an idea to put this on CWalletTx instead? A quick scan of the code doesn't reveal any accesses to CWallet fields.",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-19T11:33:22Z",
      "diff_hunk" : "@@ -3300,6 +3256,46 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n         mapKeyBirth[it->first] = it->second->GetBlockTime() - 7200; // block times can be 2h off\n }\n \n+unsigned int CWallet::GetTimeSmart(const CWalletTx& wtx) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93014619",
      "id" : 93014619,
      "original_commit_id" : "022267ac634b13690414252c4deba7f499f98c63",
      "original_position" : 57,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 13534481,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93014619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93016780"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93016780"
         }
      },
      "body" : "I think this makes most sense here next to CWallet::GetKeyBirthTimes. It ~~accesses CWallet::mapBlockIndex and~~ scans the CWallet::wtxOrdered field.",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-19T11:46:06Z",
      "diff_hunk" : "@@ -3300,6 +3256,46 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n         mapKeyBirth[it->first] = it->second->GetBlockTime() - 7200; // block times can be 2h off\n }\n \n+unsigned int CWallet::GetTimeSmart(const CWalletTx& wtx) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93016780",
      "id" : 93016780,
      "original_commit_id" : "022267ac634b13690414252c4deba7f499f98c63",
      "original_position" : 57,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 13536632,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93016780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93017291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93017291"
         }
      },
      "body" : "(Never mind part of comment above about mapBlockIndex, which is a global.)",
      "commit_id" : "212a68601cd9f7c431b4df18c149c11db73c3075",
      "created_at" : "2016-12-19T11:50:05Z",
      "diff_hunk" : "@@ -3300,6 +3256,46 @@ void CWallet::GetKeyBirthTimes(std::map<CKeyID, int64_t> &mapKeyBirth) const {\n         mapKeyBirth[it->first] = it->second->GetBlockTime() - 7200; // block times can be 2h off\n }\n \n+unsigned int CWallet::GetTimeSmart(const CWalletTx& wtx) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#discussion_r93017291",
      "id" : 93017291,
      "original_commit_id" : "022267ac634b13690414252c4deba7f499f98c63",
      "original_position" : 57,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 13537151,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9369",
      "updated_at" : "2017-01-04T21:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/93017291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I think code style wise this would be improved by naming GetTimeSmart to RecomputeTimeSmart or ComputeTimeSmart because it's not a simple accessor. If someone were to decide to call GetTimeSmart in place of accessing the cached value, the name wouldn't imply the overhead otherwise.\r\n\r\nOtherwise, makes sense to me, utACK as is for 212a686.\r\n",
      "created_at" : "2017-01-13T19:42:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9369#issuecomment-272529030",
      "id" : 272529030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9369",
      "updated_at" : "2017-01-13T19:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/272529030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=3",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
