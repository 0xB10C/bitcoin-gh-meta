[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19817 (build: macOS toolchain bump by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-04-26T08:36:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-826631869",
      "id" : 826631869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjYzMTg2OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T08:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826631869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~This definitely seems like a good thing to add support for, but it seems sad to have to drop support for the open source compiler at the same time as adding support for the closed source one. I don't know enough about this to have an informed opinion, though.~~\r\n\r\nEDIT: Just a misunderstanding",
      "created_at" : "2021-04-26T13:54:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-826854315",
      "id" : 826854315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjg1NDMxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T14:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826854315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> but it seems sad to have to drop support for the open source compiler at the same time as adding support for the closed source one. \r\n\r\nI might be misunderstanding your comment, but the opposite is happening here. We're migrating away from using Apples, irregularly open sourced tools (cctools, ld64), to just vanilla LLVM (lld), which is entirely [open source](https://github.com/llvm/llvm-project/).",
      "created_at" : "2021-04-26T13:59:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-826858722",
      "id" : 826858722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjg1ODcyMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T13:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826858722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I might be misunderstanding your comment, but the opposite is happening here. We're migrating away from using Apples, irregularly open sourced tools (cctools, ld64), to just vanilla LLVM (lld), which is entirely [open source](https://github.com/llvm/llvm-project/).\r\n\r\nMy bad! I thought this was switching from an unsupported apple open-source toolchain to an supported apple closed source toolchain, not to a vanilla toolchain. My blinding hate of apple has kept me from seeing reality! Thanks for the clarification. This all seems very good.",
      "created_at" : "2021-04-26T14:11:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-826867805",
      "id" : 826867805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNjg2NzgwNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T14:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826867805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Very nice! Strong concept ACK, but obviously we can't use this until all features we need are supported. But it's great to see that linking finally works!\r\n\r\nFor a little extra context beyond what @fanquake said above, the macOS clang+cctools build has always been a wonky outlier because we have to build our own (very unsupported) toolchain first. LD64 is apple's libre/open-source linker, and there is a community project that maintains a [build environment for cross builds](https://github.com/tpoechtrager/cctools-port).\r\n\r\nFor a few years, there has been slow development on a darwin functionality for llvm's lld, but it's only really picked up speed and become usable in the last year or two. This PR would bring our Apple builds much more inline with others in that it would finally be using a supported libre/open-source compiler/linker combo.\r\n\r\n@fanquake Is cctools still needed at all? LLVM ships bitcode equivalents of most binutils tools (ar, nm, ranlib, etc), I wonder if we can use those instead. Maybe they require lto?",
      "created_at" : "2021-04-26T18:58:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-827071574",
      "id" : 827071574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNzA3MTU3NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T18:59:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/827071574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is cctools still needed at all? LLVM ships bitcode equivalents of most binutils tools (ar, nm, ranlib, etc), I wonder if we can use those instead. Maybe they require lto?\r\n\r\n@theuni no cctools is no longer required. I drop the native_cctools as part of this PR and we just use the LLVM tools.",
      "created_at" : "2021-04-28T03:06:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21778#issuecomment-828107267",
      "id" : 828107267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21778",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyODEwNzI2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-28T03:06:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/828107267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
