[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK: preconditions should be checked where possible\r\n\r\nI take it you have started fuzzing Bitcoin Core again @guidovranken? That's very good news for Bitcoin :)\r\n\r\nDon't forget to any fuzzing trophies to https://github.com/bitcoin-core/bitcoin-devwiki/wiki/Fuzz-Trophies :)",
      "created_at" : "2021-04-26T20:33:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#issuecomment-827128543",
      "id" : 827128543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNzEyODU0Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-26T20:33:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/827128543",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620917589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620917589"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this changed here, but the other 55 instances are left as is? Including the one in this line and another one in this file?\r\n\r\nSee also commit 592404f03\r\n\r\nAnd our developer notes:\r\n\r\n```\r\n- Watch out for out-of-bounds vector access. `&vch[vch.size()]` is illegal,\r\n  including `&vch[0]` for an empty vector. Use `vch.data()` and `vch.data() +\r\n  vch.size()` instead.\r\n\r\n",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-27T06:56:20Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620917589",
      "id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDkxNzU4OQ==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 645498510,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-27T06:56:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620917589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620930073"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620930073"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also, it could make sense to open two pull requests for the changes here, since they seem unrelated? (One of them is also failing the fuzz task, btw)",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-27T07:17:01Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620930073",
      "id" : 620930073,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDkzMDA3Mw==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 645514217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-27T07:17:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620930073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620987297"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620987297"
         }
      },
      "author_association" : "NONE",
      "body" : "> Why is this changed here, but the other 55 instances are left as is? Including the one in this line and another one in this file?\r\n\r\nI didn't change the two instances of `&pubkey[0]` in this file because the [CPubkey subscript operator](https://github.com/bitcoin/bitcoin/blob/19a56d1519fb493c3e1bd5cad55360b6b80fa52b/src/pubkey.h#L114) returns a reference to a [regular array](https://github.com/bitcoin/bitcoin/blob/19a56d1519fb493c3e1bd5cad55360b6b80fa52b/src/pubkey.h#L55) instead of a vector, so no undefined behavior rules are violated.\r\n\r\nI didn't change any other instances of `&vch[0]` because this instance specifically was the only one which came up with fuzzing (so far) with `-D_GLIBCXX_DEBUG`.\r\n\r\n> Also, it could make sense to open two pull requests for the changes here, since they seem unrelated?\r\n\r\n@laanwj suggested I create two commits in 1 PR.\r\n\r\n> (One of them is also failing the fuzz task, btw)\r\n\r\nIt fails because it [instantiates ChaCha20 with a key that is ```17..31``` bytes large](https://github.com/bitcoin/bitcoin/blob/19a56d1519fb493c3e1bd5cad55360b6b80fa52b/src/test/fuzz/crypto_chacha20.cpp#L19-L26) whereas my change requires that it is either 16 or 32 bytes.\r\n\r\nI can either relax the condition in ChaCha20 to allow keys ```16..32``` bytes large, or change the fuzzer to pick one of `(16, 32)`, let me know which you prefer.\r\n\r\n",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-27T08:35:10Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r620987297",
      "id" : 620987297,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDk4NzI5Nw==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 645586361,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-27T08:35:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/620987297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6846644?v=4",
         "events_url" : "https://api.github.com/users/guidovranken/events{/privacy}",
         "followers_url" : "https://api.github.com/users/guidovranken/followers",
         "following_url" : "https://api.github.com/users/guidovranken/following{/other_user}",
         "gists_url" : "https://api.github.com/users/guidovranken/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/guidovranken",
         "id" : 6846644,
         "login" : "guidovranken",
         "node_id" : "MDQ6VXNlcjY4NDY2NDQ=",
         "organizations_url" : "https://api.github.com/users/guidovranken/orgs",
         "received_events_url" : "https://api.github.com/users/guidovranken/received_events",
         "repos_url" : "https://api.github.com/users/guidovranken/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/guidovranken/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/guidovranken/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/guidovranken"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I wonder if this is better done with a scripted-diff\r\n\r\nIf anyone wants to tackle `&vch[0]`-to-`vch.data()` using a scripted-diff then this could be used as a starting point (untested beyond `make check`: careful manual review of the changes will be required obviously):\r\n\r\n```\r\nsed -i 's%&\\([a-zA-Z0-9_]\\+\\)\\[0\\]%\\1.data()%g' $(git grep -lE '&([a-zA-Z0-9_]+)\\[0\\]' -- build_msvc/testconsensus/testconsensus.cpp src/bench/block_assemble.cpp src/random.cpp src/script/sigcache.cpp src/test/compress_tests.cpp src/test/crypto_tests.cpp src/test/fuzz/util.cpp src/test/script_standard_tests.cpp src/test/script_tests.cpp src/wallet/crypter.cpp src/wallet/wallet.cpp)\r\n```",
      "created_at" : "2021-04-27T10:50:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#issuecomment-827510103",
      "id" : 827510103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyNzUxMDEwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-27T10:50:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/827510103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r621100537"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/621100537"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I didn't change any other instances of `&vch[0]` because this instance specifically was the only one which came up with fuzzing (so far) with `-D_GLIBCXX_DEBUG`.\r\n\r\n`-D_GLIBCXX_DEBUG` is great! :)\r\n\r\n@guidovranken, you don't happen to have any notes saved on any tweaks you had to make to get a full `-D_GLIBCXX_DEBUG` compile including dependencies for Bitcoin Core? IIRC our Boost dependencies were a bit cumbersome to get compiled with `-D_GLIBCXX_DEBUG` at least historically.\r\n\r\nIf anyone wants to add a CI job which runs the tests (unit + functional + fuzz) under `-D_GLIBCXX_DEBUG` I'd be more than happy to review such a PR.\r\n\r\n> I can either relax the condition in ChaCha20 to allow keys `16..32` bytes large, or change the fuzzer to pick one of `(16, 32)`, [â¦]\r\n\r\nAsserting the precondition (like you've already done) and modifying the fuzzer to fulfil said precondition is probably the best option.",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-27T11:01:02Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r621100537",
      "id" : 621100537,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTEwMDUzNw==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 645720028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-27T11:01:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/621100537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r621109431"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/621109431"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> tweaks you had to make to get a full -D_GLIBCXX_DEBUG compile including dependencies for Bitcoin Core?\r\n> IIRC our Boost dependencies were a bit cumbersome to get compiled with -D_GLIBCXX_DEBUG at least historically.\r\n\r\nNote that depends builds with `DEBUG=1` have always used [`-D_GLIBCXX_DEBUG` && `D_GLIBCXX_DEBUG_PEDANTIC`](https://github.com/bitcoin/bitcoin/blob/master/depends/hosts/linux.mk#L10). If building depends with `DEBUG=1` don't work for some reason, please open an issue.",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-27T11:14:59Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r621109431",
      "id" : 621109431,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTEwOTQzMQ==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 645730974,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-27T11:14:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/621109431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r622887251"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/622887251"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks @guidovranken and @fanquake for suggesting both `-D_GLIBCXX_DEBUG` and `-D_GLIBCXX_DEBUG_PEDANTIC`\r\n\r\nLooks like there are more issues than this one. I've reported them here:\r\n* https://github.com/boostorg/date_time/issues/190\r\n* https://github.com/bitcoin/bitcoin/pull/21802\r\n",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-29T09:35:09Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r622887251",
      "id" : 622887251,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjg4NzI1MQ==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 647999894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-29T09:35:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/622887251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r622905203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/622905203"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a downside splitting this into two pulls? I'd still prefer that to make it easier to review, because both commits can be reviewed independently. Also, it makes a cleaner history and discussion because two unrelated threads aren't intertwined.",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-29T10:00:55Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r622905203",
      "id" : 622905203,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjkwNTIwMw==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 648022677,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-29T10:00:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/622905203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r624079523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624079523"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I went ahead and split the raw data pointer commit into a separate pull (#21817). I hope this is ok. The commit hash needed to be changed, but the author information is fully preserved.",
      "commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "created_at" : "2021-04-30T18:26:19Z",
      "diff_hunk" : "@@ -53,7 +53,7 @@ class CSignatureCache\n     ComputeEntryECDSA(uint256& entry, const uint256 &hash, const std::vector<unsigned char>& vchSig, const CPubKey& pubkey) const\n     {\n         CSHA256 hasher = m_salted_hasher_ecdsa;\n-        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(&vchSig[0], vchSig.size()).Finalize(entry.begin());\n+        hasher.Write(hash.begin(), 32).Write(&pubkey[0], pubkey.size()).Write(vchSig.data(), vchSig.size()).Finalize(entry.begin());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#discussion_r624079523",
      "id" : 624079523,
      "in_reply_to_id" : 620917589,
      "line" : 56,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDA3OTUyMw==",
      "original_commit_id" : "65a3368a23cdc059fd5e6e9e58121a5b986f8091",
      "original_line" : 56,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/sigcache.cpp",
      "position" : 5,
      "pull_request_review_id" : 649487534,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21781",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-04-30T18:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/624079523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21817 (refactor: Replace &foo[0] with foo.data() by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-05-01T02:18:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21781#issuecomment-830491608",
      "id" : 830491608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21781",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgzMDQ5MTYwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-01T02:18:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/830491608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
