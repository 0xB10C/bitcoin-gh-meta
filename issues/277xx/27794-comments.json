[
   {
      "author_association" : "MEMBER",
      "body" : "A confirmed transaction can not be in the mempool, so can not be replaced in the mempool, whether with bip125 or not.\r\n\r\nI don't see a use case to run the bip125 signal logic on confirmed transactions, and it shouldn't be hard to run it yourself if you just want to do it despite no use case?",
      "created_at" : "2023-05-31T11:16:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1569997837",
      "id" : 1569997837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dlEQN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569997837/reactions"
      },
      "updated_at" : "2023-05-31T11:16:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569997837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I have a use case for this: \r\n\r\nI'm developing a service that receives bitcoin, with a Bitcoin Core wallet as the underlying wallet. When a transaction comes in I check whether or not it is BIP125 replaceable. If it is _not_, I run it through certain actions when first seeing it in the mempool. Upon receiving a confirmed transaction I need to run the transaction through those actions, if that has not already happened when seeing it in the mempool (i.e. for confirmed transactions that _was_ replaceable). \r\n\r\nIt isn't _too_ hard to check the sequence numbers myself. However, it is _way_ harder than looking at a bool field of a RPC response. Especially for developers who might not be familiar with the technicalities of bitcoin transactions or RBF. ",
      "created_at" : "2023-05-31T11:33:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570021896",
      "id" : 1570021896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dlKII",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570021896/reactions"
      },
      "updated_at" : "2023-05-31T11:40:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570021896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16610775?v=4",
         "events_url" : "https://api.github.com/users/torkelrogstad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/torkelrogstad/followers",
         "following_url" : "https://api.github.com/users/torkelrogstad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/torkelrogstad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/torkelrogstad",
         "id" : 16610775,
         "login" : "torkelrogstad",
         "node_id" : "MDQ6VXNlcjE2NjEwNzc1",
         "organizations_url" : "https://api.github.com/users/torkelrogstad/orgs",
         "received_events_url" : "https://api.github.com/users/torkelrogstad/received_events",
         "repos_url" : "https://api.github.com/users/torkelrogstad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/torkelrogstad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/torkelrogstad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/torkelrogstad"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I didn't get the use case. You can simply skip your action that checks the rbf status when the transaction is confirmed.",
      "created_at" : "2023-05-31T12:14:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570106061",
      "id" : 1570106061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dlerN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570106061/reactions"
      },
      "updated_at" : "2023-05-31T12:14:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570106061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I have a set of actions S, that every transaction needs to go through. \r\n\r\nIf a transaction T does _not_ signal BIP125-replaceability, I want to run S when T is in the mempool. If T _does_ signal BIP125-replaceability, I want to run S when T is confirmed. \r\n\r\nCurrently it is not possible to find out (through the RPC interface, at least) whether or not T signals BIP125-replaceability once it is confirmed. ",
      "created_at" : "2023-05-31T12:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570137331",
      "id" : 1570137331,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dlmTz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570137331/reactions"
      },
      "updated_at" : "2023-05-31T12:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570137331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16610775?v=4",
         "events_url" : "https://api.github.com/users/torkelrogstad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/torkelrogstad/followers",
         "following_url" : "https://api.github.com/users/torkelrogstad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/torkelrogstad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/torkelrogstad",
         "id" : 16610775,
         "login" : "torkelrogstad",
         "node_id" : "MDQ6VXNlcjE2NjEwNzc1",
         "organizations_url" : "https://api.github.com/users/torkelrogstad/orgs",
         "received_events_url" : "https://api.github.com/users/torkelrogstad/received_events",
         "repos_url" : "https://api.github.com/users/torkelrogstad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/torkelrogstad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/torkelrogstad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/torkelrogstad"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The `bip125-replaceable` field does not indicate whether the transaction itself signals replaceability, but whether replaceability rules currently apply to it. This is a function of both the transaction itself, and any unconfirmed ancestors it may have. As a result, it's expected to change over time.\r\n\r\nAnd for confirmed transactions, the answer to the question \"do replaceability rules currently apply to it?\" is trivially no.",
      "created_at" : "2023-05-31T12:31:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570148419",
      "id" : 1570148419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dlpBD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570148419/reactions"
      },
      "updated_at" : "2023-05-31T12:31:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570148419",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, thanks for the input. IMO what I've laid out here is something consumers of this API would care about. The Core API in general is very hard to work with, this being one example. ",
      "created_at" : "2023-05-31T14:23:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570339251",
      "id" : 1570339251,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dmXmz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570339251/reactions"
      },
      "updated_at" : "2023-05-31T14:23:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570339251",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/16610775?v=4",
         "events_url" : "https://api.github.com/users/torkelrogstad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/torkelrogstad/followers",
         "following_url" : "https://api.github.com/users/torkelrogstad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/torkelrogstad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/torkelrogstad",
         "id" : 16610775,
         "login" : "torkelrogstad",
         "node_id" : "MDQ6VXNlcjE2NjEwNzc1",
         "organizations_url" : "https://api.github.com/users/torkelrogstad/orgs",
         "received_events_url" : "https://api.github.com/users/torkelrogstad/received_events",
         "repos_url" : "https://api.github.com/users/torkelrogstad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/torkelrogstad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/torkelrogstad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/torkelrogstad"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@torkelrogstad I'm still confused about what you're trying to do. The only sensible answer to the question whether a confirmed transaction is replaceable is *no*. Whatever purpose you have for caring about that, by the time a transaction confirms, it shouldn't matter anymore to anything.",
      "created_at" : "2023-05-31T14:25:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570343467",
      "id" : 1570343467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dmYor",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570343467/reactions"
      },
      "updated_at" : "2023-05-31T14:27:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570343467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@torkelrogstad Oh, I think I understand now, re-reading your earlier comments.\r\n\r\nHaving `bip125-replaceable` return true for confirmed signalling transactions is not a solution to your issue, because it can already change over time.\r\n\r\nImagine a transaction T1 (which does signal) and a descendant transaction T2 (which does not signal), both unconfirmed. `bip125-replaceable` will be true for both, because the BIP125 rules say both are replaceable. Once T1 confirms, however, T2's `bip125-replaceable` will become false. Even if `bip125-replaceable` is changed to return true for transactions that signal post confirmation, it won't be true for T2, because it does not signal.\r\n\r\nIt appears to me that what you want to do is run S whenever a transaction confirms, unless you've run S for that transaction already (regardless of its bip125 status at the time of confirmation).",
      "created_at" : "2023-05-31T14:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27794#issuecomment-1570364914",
      "id" : 1570364914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27794",
      "node_id" : "IC_kwDOABII585dmd3y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570364914/reactions"
      },
      "updated_at" : "2023-05-31T14:40:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570364914",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
