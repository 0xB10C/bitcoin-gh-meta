[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [zkfrio](https://github.com/bitcoin/bitcoin/pull/27792#pullrequestreview-1453686280) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27425](https://github.com/bitcoin/bitcoin/pull/27425) (test: move remaining rand code from util/setup_common to util/random by jonatack)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#26485](https://github.com/bitcoin/bitcoin/pull/26485) (RPC: Accept options as named-only parameters by ryanofsky)\n* [#25907](https://github.com/bitcoin/bitcoin/pull/25907) (wallet: rpc to add automatically generated descriptors by achow101)\n* [#25273](https://github.com/bitcoin/bitcoin/pull/25273) (wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction by achow101)\n* [#24963](https://github.com/bitcoin/bitcoin/pull/24963) (RPC/Wallet: Convert walletprocesspsbt to use options parameter by luke-jr)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-05-31T07:50:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1569673880",
      "id" : 1569673880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dj1KY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569673880/reactions"
      },
      "updated_at" : "2023-06-01T03:41:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569673880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@achow101 - per our discussion, I've created a PR with the core \"deniability\" functionality in the main repo here. The GUI portion is rebased over this branch and is in the GUI repo. I've updated the PRs' descriptions to point to each other.\r\nPlease let me know what you think. Thanks!",
      "created_at" : "2023-05-31T08:00:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1569687477",
      "id" : 1569687477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dj4e1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569687477/reactions"
      },
      "updated_at" : "2023-05-31T08:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569687477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/123340139?v=4",
         "events_url" : "https://api.github.com/users/denavila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/denavila/followers",
         "following_url" : "https://api.github.com/users/denavila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/denavila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/denavila",
         "id" : 123340139,
         "login" : "denavila",
         "node_id" : "U_kgDOB1oFaw",
         "organizations_url" : "https://api.github.com/users/denavila/orgs",
         "received_events_url" : "https://api.github.com/users/denavila/received_events",
         "repos_url" : "https://api.github.com/users/denavila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/denavila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/denavila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/denavila"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure how much this achieves. Bitcoin Core's wallet has a \"unique\" fingerprint on transactions that is shared by way less than 50% of transactions in the network, so creating additional transactions where it is likely (latest when the outputs are spent) that it was a self-transfer seems only to be bloating the utxo set and chain space? I haven't thought about this, but it would be good to have a more in-depth analysis of this, considering using a different \"fingerprint vector\".",
      "created_at" : "2023-05-31T08:09:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1569702764",
      "id" : 1569702764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dj8Ns",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569702764/reactions"
      },
      "updated_at" : "2023-05-31T08:09:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1569702764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Bitcoin Core's wallet has a \"unique\" fingerprint on transactions that is shared by way less than 50% of transactions in the network ...\r\n\r\nBy fingerprint, do you mean Bitcoin Core's transactions can be identified on the block chain? If that's the case that's unfortunate for sure. What's the nature of the difference? Is it on purpose and if not, would it be possible to fix?",
      "created_at" : "2023-05-31T17:17:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1570613994",
      "id" : 1570613994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dnarq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570613994/reactions"
      },
      "updated_at" : "2023-05-31T17:17:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570613994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/123340139?v=4",
         "events_url" : "https://api.github.com/users/denavila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/denavila/followers",
         "following_url" : "https://api.github.com/users/denavila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/denavila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/denavila",
         "id" : 123340139,
         "login" : "denavila",
         "node_id" : "U_kgDOB1oFaw",
         "organizations_url" : "https://api.github.com/users/denavila/orgs",
         "received_events_url" : "https://api.github.com/users/denavila/received_events",
         "repos_url" : "https://api.github.com/users/denavila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/denavila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/denavila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/denavila"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "See for example https://github.com/achow101/wallet-fingerprinting/blob/main/fingerprints.md",
      "created_at" : "2023-06-01T06:49:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1571457996",
      "id" : 1571457996,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dqovM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1571457996/reactions"
      },
      "updated_at" : "2023-06-01T06:49:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1571457996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> See for example https://github.com/achow101/wallet-fingerprinting/blob/main/fingerprints.md\r\n\r\nThanks! \r\nAt a quick glance, it looks like Core's transactions are somewhat close to Electrum's. \r\nI'm not familiar with some of the items, but assuming it's possible, I can look into injecting some variety in the \"deniabilized\" transactions to make them resemble a variety of wallets (eg Electrum as a start). \r\nIs there prior work in this by any chance? That would help me for sure.\r\nAlso, should I pursue it for this PR, or would a follow up PR be acceptable as well?",
      "created_at" : "2023-06-01T22:22:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1572869964",
      "id" : 1572869964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dwBdM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572869964/reactions"
      },
      "updated_at" : "2023-06-01T22:58:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572869964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/123340139?v=4",
         "events_url" : "https://api.github.com/users/denavila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/denavila/followers",
         "following_url" : "https://api.github.com/users/denavila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/denavila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/denavila",
         "id" : 123340139,
         "login" : "denavila",
         "node_id" : "U_kgDOB1oFaw",
         "organizations_url" : "https://api.github.com/users/denavila/orgs",
         "received_events_url" : "https://api.github.com/users/denavila/received_events",
         "repos_url" : "https://api.github.com/users/denavila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/denavila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/denavila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/denavila"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> It doesn't improve privacy. \r\n\r\nCan you please elaborate why you think so?\r\nPaul's blog post had some pretty compelling arguments why this scheme should work and I think it has a lot of merit.\r\n\r\n> False sense of privacy implemented in this pull request only helps miners with fees.\r\n\r\nIt's important to point out that this PR doesn't add functionality that couldn't be achieved manually before.\r\nIf a user wanted to split a coin and send it to themselves, they could do it with the existing Bitcoin Core (either via RPC/Console or the GUI). It's just cumbersome and error prone.\r\n\r\nThe API we're adding in this PR makes this a simple and robust single operation (C++ API call or RPC call).\r\nIt's entirely opt-in and the user can decide to use it or not, up to their own judgement on how effective it is in improving their privacy. I would assume anyone using the C++/RPC interface understands the implications and can be trusted to know what they are doing.\r\n\r\nThe GUI PR (https://github.com/bitcoin-core/gui/pull/733) implements automation on top of this API, which is also entirely opt-in. We provide an explanation of how it works, so the user could make an educated decision on whether to use it or not. \r\nA lot of new Bitcoin users (myself including), weren't aware early on that it's important to use new addresses when receiving BTC. Many exchanges also don't make it easy either (eg by requiring time-locked whitelisting etc).\r\nAs a result I suspect many users may wish to improve their privacy by \"deniabilizing\" their UTXOs after the fact.\r\nThis has been my main motivation to pursue creating this tool. I personally wanted to use it and I suspected others may appreciate it too. ",
      "created_at" : "2023-06-01T22:56:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27792#issuecomment-1572892485",
      "id" : 1572892485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27792",
      "node_id" : "IC_kwDOABII585dwG9F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572892485/reactions"
      },
      "updated_at" : "2023-06-01T23:01:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572892485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/123340139?v=4",
         "events_url" : "https://api.github.com/users/denavila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/denavila/followers",
         "following_url" : "https://api.github.com/users/denavila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/denavila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/denavila",
         "id" : 123340139,
         "login" : "denavila",
         "node_id" : "U_kgDOB1oFaw",
         "organizations_url" : "https://api.github.com/users/denavila/orgs",
         "received_events_url" : "https://api.github.com/users/denavila/received_events",
         "repos_url" : "https://api.github.com/users/denavila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/denavila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/denavila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/denavila"
      }
   }
]
