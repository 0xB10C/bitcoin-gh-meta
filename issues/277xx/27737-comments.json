[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [dergoegge](https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1572044611) |\n| Concept ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1561389825) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27495](https://github.com/bitcoin/bitcoin/pull/27495) ([WIP] ci: Use DEBUG=1 in depends for MSAN jobs by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-05-24T10:21:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1560850189",
      "id" : 1560850189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dCK8N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560850189/reactions"
      },
      "updated_at" : "2023-06-01T13:21:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560850189",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No idea about the `bash` error. Maybe `set -ex` is missing in the file?",
      "created_at" : "2023-05-24T11:02:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1560912072",
      "id" : 1560912072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dCaDI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560912072/reactions"
      },
      "updated_at" : "2023-05-24T11:02:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560912072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> No idea about the bash error. Maybe set -ex is missing in the file?\r\n\r\nHave a change to just remove `cd` usage entirely, that should make the linter happy",
      "created_at" : "2023-05-24T11:04:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1560914159",
      "id" : 1560914159,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dCajv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560914159/reactions"
      },
      "updated_at" : "2023-05-24T11:04:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1560914159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1203908972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1203908972"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\nexport CI_IMAGE_NAME_TAG=\"ubuntu:22.04\"\r\n```\r\n\r\nnit: Can use LTS if you don't need clang-16?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-24T11:06:22Z",
      "diff_hunk" : "@@ -7,17 +7,17 @@\n export LC_ALL=C.UTF-8\n \n export CI_IMAGE_NAME_TAG=\"ubuntu:23.04\" # Version 23.04 will reach EOL in Jan 2024, and can be replaced by \"ubuntu:24.04\" (or anything else that ships the wanted clang version).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1203908972",
      "id" : 1203908972,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HwjFs",
      "original_commit_id" : "8a66500489b02990cc84aec3fb6bb3b9383bc80e",
      "original_line" : 9,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "ci/test/00_setup_env_native_fuzz_with_msan.sh",
      "position" : null,
      "pull_request_review_id" : 1441557570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1203908972/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-24T11:07:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1203908972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204069957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204069957"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Switched back to Jammy in next push.",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-24T12:48:21Z",
      "diff_hunk" : "@@ -7,17 +7,17 @@\n export LC_ALL=C.UTF-8\n \n export CI_IMAGE_NAME_TAG=\"ubuntu:23.04\" # Version 23.04 will reach EOL in Jan 2024, and can be replaced by \"ubuntu:24.04\" (or anything else that ships the wanted clang version).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204069957",
      "id" : 1204069957,
      "in_reply_to_id" : 1203908972,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HxKZF",
      "original_commit_id" : "8a66500489b02990cc84aec3fb6bb3b9383bc80e",
      "original_line" : 9,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "ci/test/00_setup_env_native_fuzz_with_msan.sh",
      "position" : null,
      "pull_request_review_id" : 1441764316,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204069957/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-24T12:48:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204069957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Do you happen to know what the difference to the debian package is? Maybe it can be fixed upstream instead?\r\n\r\nI'm not completely sure, the answer will be in here somewhere: https://salsa.debian.org/pkg-llvm-team/llvm-toolchain/-/blob/snapshot/debian/rules (also taking into account [all of the patches](https://salsa.debian.org/pkg-llvm-team/llvm-toolchain/-/tree/snapshot/debian/patches) they apply). They should be doing a multi stage build, and building everything with the 2nd-built Clang, but clearly something has been broken since LLVM 13. I'll followup upstream.\r\n\r\n> Have a change to just remove cd usage entirely, that should make the linter happy\r\n\r\nMade this change, and switched back to using Jammy. A qa-assets run of the current branch in: https://cirrus-ci.com/task/4632561431871488.",
      "created_at" : "2023-05-24T14:24:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1561260881",
      "id" : 1561260881,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dDvNR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561260881/reactions"
      },
      "updated_at" : "2023-05-24T14:24:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561260881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204288987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204288987"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Some ideas (feel free to ignore):\r\n\r\n* `-DLLVM_USE_LINKER=lld` and/or ` -DLLVM_PARALLEL_LINK_JOBS=1` to reduce change of OOM?\r\n* `-DLLVM_INCLUDE_BENCHMARKS=OFF -DLLVM_INCLUDE_TESTS=OFF` to reduce CPU?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-24T14:41:18Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204288987",
      "id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585Hx_3b",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1442080717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204288987/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-24T14:41:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204288987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I'm not so familiar with the history here, but the changes seem sane to me.\r\n\r\nThe libc++ changes here are especially interesting. I assume they work with no issues because there's no SDK to take into consideration, but (as @fanquake suggested in an offline discussion yesterday) I'm going to see if we can maybe port this over to our depends builds with the SDK included. Unsure if it'll work ð¤· but it would be much cleaner if it did.",
      "created_at" : "2023-05-24T15:36:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1561389825",
      "id" : 1561389825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dEOsB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561389825/reactions"
      },
      "updated_at" : "2023-05-24T15:36:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561389825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204513106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204513106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> -DLLVM_INCLUDE_BENCHMARKS=OFF -DLLVM_INCLUDE_TESTS=OFF to reduce CPU?\r\n\r\nThese two control the generation of build targets, however nothing should be getting compiled, as `LLVM_BUILD_TESTS` and `LLVM_BUILD_BENCHMARKS` [both default to `OFF`](https://llvm.org/docs/CMake.html). However I've also added some additional `-DLLVM_INCLUDE_*` options that should reduce compilation.\r\n\r\n> -DLLVM_USE_LINKER=lld and/or  -DLLVM_PARALLEL_LINK_JOBS=1 to reduce change of OOM?\r\n\r\nI could follow up with a change to try and optimise this further if we start running into resource issues?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-24T16:57:29Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1204513106",
      "id" : 1204513106,
      "in_reply_to_id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585Hy2lS",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1442376557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204513106/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-24T16:57:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1204513106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like the last push bricked everything? Maybe revert to the previous version?",
      "created_at" : "2023-05-25T06:36:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1562358177",
      "id" : 1562358177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dH7Gh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562358177/reactions"
      },
      "updated_at" : "2023-05-25T06:36:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562358177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm going to see if we can maybe port this over to our depends\r\n\r\nI am not sure if compiling a compiler for a CI task is a worthwhile thing to maintain in this repo? Ideally we can use one from the Debian/Ubuntu distros, as they are used the most, so that it will be easy to bootstrap the test config outside the CI env. If the Debian/Ubuntu one isn't working, we could try into using a different distro temporarily? But imo compiling it from scratch should be for the last fallback and not a long term goal.",
      "created_at" : "2023-05-25T08:58:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1562538942",
      "id" : 1562538942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dInO-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562538942/reactions"
      },
      "updated_at" : "2023-05-25T08:58:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562538942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205214490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205214490"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like memory usage isn't reported in https://cirrus-ci.com/task/4543816401682432 ?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-25T09:00:06Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205214490",
      "id" : 1205214490,
      "in_reply_to_id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585H1h0a",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1443417406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205214490/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-25T09:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205214490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > I'm going to see if we can maybe port this over to our depends\r\n\r\n> I am not sure if compiling a compiler for a CI task is a worthwhile thing to maintain in this repo? \r\n\r\nThis point is in regards to the libc++ flag usage. Not compiling a compiler for anything else.",
      "created_at" : "2023-05-25T09:01:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1562543301",
      "id" : 1562543301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dIoTF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562543301/reactions"
      },
      "updated_at" : "2023-05-25T09:02:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1562543301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205220173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205220173"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Looks like memory usage isn't reported in https://cirrus-ci.com/task/4543816401682432 ?\r\n\r\nIs that a CIrrus bug? You should be able to see an example memory usage here: https://cirrus-ci.com/task/4632561431871488.",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-25T09:04:53Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205220173",
      "id" : 1205220173,
      "in_reply_to_id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585H1jNN",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1443426198,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205220173/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-25T09:04:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205220173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205226114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205226114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah ok, so it is using 12 GB?\r\n\r\nLooks like it is only passing CI because Cirrus seems to be ignoring the 2CPU/8GB limit and just uses 4/15 unconditionally for ci image builds?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-25T09:10:00Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1205226114",
      "id" : 1205226114,
      "in_reply_to_id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585H1kqC",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1443435408,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205226114/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-25T09:10:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1205226114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1209434809"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1209434809"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Looks like it is only passing CI because Cirrus seems to be ignoring the 2CPU/8GB limit and just uses 4/15 unconditionally for ci image builds?\r\n\r\n@fkorotkov is this what should be happening, and can we rely on this behaviour into the future?",
      "commit_id" : "6977dc37e94d4d273dfc6b02f46ba86c1dace0db",
      "created_at" : "2023-05-29T15:57:27Z",
      "diff_hunk" : "@@ -40,11 +40,32 @@ if [ -n \"$PIP_PACKAGES\" ]; then\n fi\n \n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\n-  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n-  cmake -B \"${BASE_SCRATCH_DIR}\"/msan/build/ -DLLVM_ENABLE_RUNTIMES='libcxx;libcxxabi' -DCMAKE_BUILD_TYPE=Release -DLLVM_USE_SANITIZER=MemoryWithOrigins -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_TARGETS_TO_BUILD=X86 -DLLVM_ENABLE_PER_TARGET_RUNTIME_DIR=OFF -DLIBCXX_ENABLE_DEBUG_MODE=ON -DLIBCXX_ENABLE_ASSERTIONS=ON -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/runtimes\n-  make -C \"${BASE_SCRATCH_DIR}\"/msan/build/ \"$MAKEJOBS\"\n+  git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.4 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\n+\n+  cmake -G Ninja -B \"${BASE_SCRATCH_DIR}\"/msan/clang_build/ -DLLVM_ENABLE_PROJECTS=\"clang\" \\\n+                                                            -DCMAKE_BUILD_TYPE=Release \\\n+                                                            -DLLVM_TARGETS_TO_BUILD=X86 \\\n+                                                            -DLLVM_ENABLE_RUNTIMES=\"compiler-rt;libcxx;libcxxabi;libunwind\" \\\n+                                                            -S \"${BASE_SCRATCH_DIR}\"/msan/llvm-project/llvm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#discussion_r1209434809",
      "id" : 1209434809,
      "in_reply_to_id" : 1204288987,
      "line" : 49,
      "node_id" : "PRRC_kwDOABII585IFoK5",
      "original_commit_id" : "a3be80e5219562f38cf1eee840c074ce4ec623e7",
      "original_line" : 49,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "ci/test/01_base_install.sh",
      "position" : 15,
      "pull_request_review_id" : 1449679846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1209434809/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-29T15:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1209434809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Side note: I tried centos and it also failed with the same error as debian. Commit:\r\n\r\n<details><summary>diff</summary>\r\n\r\n\r\n\r\n```diff\r\ncommit 57903b154ec1dc5d86f174d311e9875bbf0c4106\r\nAuthor: MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz>\r\nDate:   Thu Jun 1 13:48:41 2023 +0200\r\n\r\n    ci: Use centos to work around fuzz msan debian bug\r\n\r\ndiff --git a/ci/test/00_setup_env_native_fuzz_with_msan.sh b/ci/test/00_setup_env_native_fuzz_with_msan.sh\r\nindex dd694f818c..5aca7a9be9 100755\r\n--- a/ci/test/00_setup_env_native_fuzz_with_msan.sh\r\n+++ b/ci/test/00_setup_env_native_fuzz_with_msan.sh\r\n@@ -8,3 +8,3 @@ export LC_ALL=C.UTF-8\r\n \r\n-export CI_IMAGE_NAME_TAG=\"ubuntu:23.04\" # Version 23.04 will reach EOL in Jan 2024, and can be replaced by \"ubuntu:24.04\" (or anything else that ships the wanted clang version).\r\n+export CI_IMAGE_NAME_TAG=\"quay.io/centos/centos:stream9\"  # Use centos over debian/ubuntu due to bug https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1005341\r\n LIBCXX_DIR=\"${BASE_SCRATCH_DIR}/msan/build/\"\r\n@@ -15,3 +15,3 @@ export MSAN_AND_LIBCXX_FLAGS=\"${MSAN_FLAGS} ${LIBCXX_FLAGS}\"\r\n export CONTAINER_NAME=\"ci_native_fuzz_msan\"\r\n-export PACKAGES=\"clang-16 llvm-16 libclang-rt-16-dev cmake\"\r\n+export CI_BASE_PACKAGES=\"clang-16* ccache cmake libtool make git python3 which patch lbzip2 xz procps-ng rsync bison util-linux dash\"\r\n # BDB generates false-positives and will be removed in future\r\n@@ -19,3 +19,3 @@ export DEP_OPTS=\"NO_BDB=1 NO_QT=1 CC='clang' CXX='clang++' CFLAGS='${MSAN_FLAGS}\r\n export GOAL=\"install\"\r\n-export BITCOIN_CONFIG=\"--enable-fuzz --with-sanitizers=fuzzer,memory --disable-hardening --with-asm=no CC=clang CXX=clang++ CFLAGS='${MSAN_FLAGS}' CPPFLAGS='-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE' CXXFLAGS='${MSAN_AND_LIBCXX_FLAGS}'\"\r\n+export BITCOIN_CONFIG=\"--enable-fuzz --with-sanitizers=fuzzer,memory --disable-hardening --with-asm=no CFLAGS='${MSAN_FLAGS}' CPPFLAGS='-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE' CXXFLAGS='${MSAN_AND_LIBCXX_FLAGS}'\"\r\n export USE_MEMORY_SANITIZER=\"true\"\r\ndiff --git a/ci/test/00_setup_env_native_msan.sh b/ci/test/00_setup_env_native_msan.sh\r\nindex bdb9bd7b5d..a58d511c2f 100755\r\n--- a/ci/test/00_setup_env_native_msan.sh\r\n+++ b/ci/test/00_setup_env_native_msan.sh\r\n@@ -8,3 +8,3 @@ export LC_ALL=C.UTF-8\r\n \r\n-export CI_IMAGE_NAME_TAG=\"ubuntu:23.04\" # Version 23.04 will reach EOL in Jan 2024, and can be replaced by \"ubuntu:24.04\" (or anything else that ships the wanted clang version).\r\n+export CI_IMAGE_NAME_TAG=\"quay.io/centos/centos:stream9\"  # Use centos over debian/ubuntu due to bug https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1005341\r\n LIBCXX_DIR=\"${BASE_SCRATCH_DIR}/msan/build/\"\r\n@@ -15,3 +15,3 @@ export MSAN_AND_LIBCXX_FLAGS=\"${MSAN_FLAGS} ${LIBCXX_FLAGS}\"\r\n export CONTAINER_NAME=\"ci_native_msan\"\r\n-export PACKAGES=\"clang-16 llvm-16 libclang-rt-16-dev cmake\"\r\n+export CI_BASE_PACKAGES=\"clang-16* ccache cmake libtool make git python3 which patch lbzip2 xz procps-ng rsync bison util-linux dash\"\r\n # BDB generates false-positives and will be removed in future\r\n@@ -19,3 +19,3 @@ export DEP_OPTS=\"NO_BDB=1 NO_QT=1 CC='clang' CXX='clang++' CFLAGS='${MSAN_FLAGS}\r\n export GOAL=\"install\"\r\n-export BITCOIN_CONFIG=\"--with-sanitizers=memory --disable-hardening --with-asm=no CC=clang CXX=clang++ CFLAGS='${MSAN_FLAGS}' CXXFLAGS='${MSAN_AND_LIBCXX_FLAGS}'\"\r\n+export BITCOIN_CONFIG=\"--with-sanitizers=memory --disable-hardening --with-asm=no CFLAGS='${MSAN_FLAGS}' CXXFLAGS='${MSAN_AND_LIBCXX_FLAGS}'\"\r\n export USE_MEMORY_SANITIZER=\"true\"\r\ndiff --git a/ci/test/01_base_install.sh b/ci/test/01_base_install.sh\r\nindex 98f96f0ece..bfebb29f6d 100755\r\n--- a/ci/test/01_base_install.sh\r\n+++ b/ci/test/01_base_install.sh\r\n@@ -44,4 +44,2 @@ fi\r\n if [[ ${USE_MEMORY_SANITIZER} == \"true\" ]]; then\r\n-  update-alternatives --install /usr/bin/clang++ clang++ \"$(which clang++-16)\" 100\r\n-  update-alternatives --install /usr/bin/clang clang \"$(which clang-16)\" 100\r\n   git clone --depth=1 https://github.com/llvm/llvm-project -b llvmorg-16.0.1 \"${BASE_SCRATCH_DIR}\"/msan/llvm-project\r\n```\r\n\r\n\r\nResult:\r\n\r\n```\r\n...\r\n/usr/bin/ld: /usr/lib64/clang/16/lib/linux/libclang_rt.fuzzer-x86_64.a(FuzzerUtilPosix.cpp.o): in function `fuzzer::SearchRegexCmd(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)':\r\n(.text+0x793): undefined reference to `std::__throw_length_error(char const*)'\r\n/usr/bin/ld: (.text+0x79f): undefined reference to `std::__throw_length_error(char const*)'\r\nclang-16: error: linker command failed with exit code 1 (use -v to see invocation)\r\nconfigure:20878: $? = 1\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"Bitcoin Core\"\r\n| #define PACKAGE_TARNAME \"bitcoin\"\r\n| #define PACKAGE_VERSION \"25.99.0\"\r\n| #define PACKAGE_STRING \"Bitcoin Core 25.99.0\"\r\n| #define PACKAGE_BUGREPORT \"https://github.com/bitcoin/bitcoin/issues\"\r\n| #define PACKAGE_URL \"https://bitcoincore.org/\"\r\n| #define HAVE_CXX17 1\r\n| #define STDC_HEADERS 1\r\n| #define HAVE_SYS_TYPES_H 1\r\n| #define HAVE_SYS_STAT_H 1\r\n| #define HAVE_STDLIB_H 1\r\n| #define HAVE_STRING_H 1\r\n| #define HAVE_MEMORY_H 1\r\n| #define HAVE_STRINGS_H 1\r\n| #define HAVE_INTTYPES_H 1\r\n| #define HAVE_STDINT_H 1\r\n| #define HAVE_UNISTD_H 1\r\n| #define HAVE_DLFCN_H 1\r\n| #define LT_OBJDIR \".libs/\"\r\n| #define USE_ASM 1\r\n| /* end confdefs.h.  */\r\n|\r\n|     #include <cstdint>\r\n|     #include <cstddef>\r\n|     extern \"C\" int LLVMFuzzerTestOneInput(const uint8_t *data, size_t size) { return 0; }\r\n|     __attribute__((weak)) // allow for libFuzzer linking\r\n|\r\n| int\r\n| main ()\r\n| {\r\n|\r\n|   ;\r\n|   return 0;\r\n| }\r\nconfigure:20888: result: no\r\nconfigure:20893: error: linker did not accept requested flags, you are missing required libraries\r\n\r\n```\r\n\r\n\r\n</details>\r\n",
      "created_at" : "2023-06-01T12:52:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1571998659",
      "id" : 1571998659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585dssvD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1571998659/reactions"
      },
      "updated_at" : "2023-06-01T12:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1571998659",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 5763b232e6e6a0f72d046f8aa322b39328be135b\r\n\r\nLooking forward to green check marks on qa-assets",
      "created_at" : "2023-06-01T13:21:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27737#issuecomment-1572044611",
      "id" : 1572044611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27737",
      "node_id" : "IC_kwDOABII585ds39D",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572044611/reactions"
      },
      "updated_at" : "2023-06-01T13:21:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572044611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   }
]
