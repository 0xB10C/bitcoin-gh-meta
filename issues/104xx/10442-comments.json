[
   {
      "body" : "utACK",
      "created_at" : "2017-05-22T20:11:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#issuecomment-303207030",
      "id" : 303207030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10442",
      "updated_at" : "2017-05-22T20:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303207030",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835429"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835429"
         }
      },
      "body" : "No https://? Do we want link to an external site? What if the contents of the site changes? What if the domain owner changes?",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T20:16:07Z",
      "diff_hunk" : "@@ -451,6 +451,9 @@ Set maximum size of high\\-priority/low\\-fee transactions in bytes\n .IP\n Set lowest fee rate (in BTC/kB) for transactions to be included in block\n creation. (default: 0.00001)\n+\\fB\\-bip148\\fR\n+.IP\n+Enable BIP148 enforcement (see http://www.uasf.co)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835429",
      "id" : 117835429,
      "original_commit_id" : "abbcfcd8b2401ef782f4769deff8288bd00ac858",
      "original_position" : 6,
      "path" : "doc/man/bitcoin-qt.1",
      "position" : null,
      "pull_request_review_id" : 39575184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835429",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835558"
         }
      },
      "body" : "SPC before `DEFAULT_BIP148` please.",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T20:16:51Z",
      "diff_hunk" : "@@ -494,6 +494,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-blockmaxweight=<n>\", strprintf(_(\"Set maximum BIP141 block weight (default: %d)\"), DEFAULT_BLOCK_MAX_WEIGHT));\n     strUsage += HelpMessageOpt(\"-blockmaxsize=<n>\", strprintf(_(\"Set maximum block size in bytes (default: %d)\"), DEFAULT_BLOCK_MAX_SIZE));\n     strUsage += HelpMessageOpt(\"-blockmintxfee=<amt>\", strprintf(_(\"Set lowest fee rate (in %s/kB) for transactions to be included in block creation. (default: %s)\"), CURRENCY_UNIT, FormatMoney(DEFAULT_BLOCK_MIN_TX_FEE)));\n+    strUsage += HelpMessageOpt(\"-bip148\", strprintf(_(\"Enable BIP148/UASF (default: %d)\"),DEFAULT_BIP148));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835558",
      "id" : 117835558,
      "original_commit_id" : "abbcfcd8b2401ef782f4769deff8288bd00ac858",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 39575184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835558",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835687"
         }
      },
      "body" : "SPC before `DEFAULT_BIP148 ` please.",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T20:17:37Z",
      "diff_hunk" : "@@ -1566,6 +1566,22 @@ static bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockInd\n         flags |= SCRIPT_VERIFY_NULLDUMMY;\n     }\n \n+    if (GetBoolArg(\"-bip148\",DEFAULT_BIP148)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117835687",
      "id" : 117835687,
      "original_commit_id" : "abbcfcd8b2401ef782f4769deff8288bd00ac858",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 39575184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117835687",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117837749"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117837749"
         }
      },
      "body" : "yes, since the primary reason for including the flag would be for people who already know about it and were going to install it anyway, and at least think they know what they are doing, an external link is probably not needed.   ",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T20:28:02Z",
      "diff_hunk" : "@@ -451,6 +451,9 @@ Set maximum size of high\\-priority/low\\-fee transactions in bytes\n .IP\n Set lowest fee rate (in BTC/kB) for transactions to be included in block\n creation. (default: 0.00001)\n+\\fB\\-bip148\\fR\n+.IP\n+Enable BIP148 enforcement (see http://www.uasf.co)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117837749",
      "id" : 117837749,
      "original_commit_id" : "abbcfcd8b2401ef782f4769deff8288bd00ac858",
      "original_position" : 6,
      "path" : "doc/man/bitcoin-qt.1",
      "position" : null,
      "pull_request_review_id" : 39577683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117837749",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/50769?v=3",
         "events_url" : "https://api.github.com/users/earonesty/events{/privacy}",
         "followers_url" : "https://api.github.com/users/earonesty/followers",
         "following_url" : "https://api.github.com/users/earonesty/following{/other_user}",
         "gists_url" : "https://api.github.com/users/earonesty/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/earonesty",
         "id" : 50769,
         "login" : "earonesty",
         "organizations_url" : "https://api.github.com/users/earonesty/orgs",
         "received_events_url" : "https://api.github.com/users/earonesty/received_events",
         "repos_url" : "https://api.github.com/users/earonesty/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/earonesty/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/earonesty/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/earonesty"
      }
   },
   {
      "body" : "For the record, previous discussions: https://github.com/bitcoin/bitcoin/pull/10417, https://github.com/bitcoin/bitcoin/pull/10428",
      "created_at" : "2017-05-22T20:42:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#issuecomment-303214425",
      "id" : 303214425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10442",
      "updated_at" : "2017-05-22T20:42:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303214425",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9156103?v=3",
         "events_url" : "https://api.github.com/users/nopara73/events{/privacy}",
         "followers_url" : "https://api.github.com/users/nopara73/followers",
         "following_url" : "https://api.github.com/users/nopara73/following{/other_user}",
         "gists_url" : "https://api.github.com/users/nopara73/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/nopara73",
         "id" : 9156103,
         "login" : "nopara73",
         "organizations_url" : "https://api.github.com/users/nopara73/orgs",
         "received_events_url" : "https://api.github.com/users/nopara73/received_events",
         "repos_url" : "https://api.github.com/users/nopara73/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/nopara73/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/nopara73/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/nopara73"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2017-05-22T21:14:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#issuecomment-303222061",
      "id" : 303222061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10442",
      "updated_at" : "2017-05-22T21:14:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303222061",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/4469280?v=3",
         "events_url" : "https://api.github.com/users/ABISprotocol/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ABISprotocol/followers",
         "following_url" : "https://api.github.com/users/ABISprotocol/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ABISprotocol/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ABISprotocol",
         "id" : 4469280,
         "login" : "ABISprotocol",
         "organizations_url" : "https://api.github.com/users/ABISprotocol/orgs",
         "received_events_url" : "https://api.github.com/users/ABISprotocol/received_events",
         "repos_url" : "https://api.github.com/users/ABISprotocol/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ABISprotocol/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ABISprotocol/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ABISprotocol"
      }
   },
   {
      "body" : "NACK",
      "created_at" : "2017-05-22T21:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#issuecomment-303230307",
      "id" : 303230307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10442",
      "updated_at" : "2017-05-22T21:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303230307",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/12585202?v=3",
         "events_url" : "https://api.github.com/users/AllanDoensen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AllanDoensen/followers",
         "following_url" : "https://api.github.com/users/AllanDoensen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AllanDoensen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AllanDoensen",
         "id" : 12585202,
         "login" : "AllanDoensen",
         "organizations_url" : "https://api.github.com/users/AllanDoensen/orgs",
         "received_events_url" : "https://api.github.com/users/AllanDoensen/received_events",
         "repos_url" : "https://api.github.com/users/AllanDoensen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AllanDoensen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AllanDoensen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AllanDoensen"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2017-05-22T22:07:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#issuecomment-303233193",
      "id" : 303233193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10442",
      "updated_at" : "2017-05-22T22:07:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303233193",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/14859988?v=3",
         "events_url" : "https://api.github.com/users/mkwia/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mkwia/followers",
         "following_url" : "https://api.github.com/users/mkwia/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mkwia/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mkwia",
         "id" : 14859988,
         "login" : "mkwia",
         "organizations_url" : "https://api.github.com/users/mkwia/orgs",
         "received_events_url" : "https://api.github.com/users/mkwia/received_events",
         "repos_url" : "https://api.github.com/users/mkwia/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mkwia/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mkwia/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mkwia"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117857547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117857547"
         }
      },
      "body" : "small details: you could use gArgs::GetBoolArg directly instead of the wrapper. You could also create a global that is set only in init.cpp",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T22:12:45Z",
      "diff_hunk" : "@@ -1566,6 +1566,22 @@ static bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockInd\n         flags |= SCRIPT_VERIFY_NULLDUMMY;\n     }\n \n+    if (GetBoolArg(\"-bip148\", DEFAULT_BIP148)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117857547",
      "id" : 117857547,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : 12,
      "pull_request_review_id" : 39598897,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117857547",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117857924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117857924"
         }
      },
      "body" : "I don't think \"please upgrade\" is a very appropriate comment here. Upgrade to what?",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T22:15:12Z",
      "diff_hunk" : "@@ -1566,6 +1566,22 @@ static bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockInd\n         flags |= SCRIPT_VERIFY_NULLDUMMY;\n     }\n \n+    if (GetBoolArg(\"-bip148\", DEFAULT_BIP148)) {\n+        // BIP148 mandatory segwit signalling.\n+        int64_t nMedianTimePast = pindex->GetMedianTimePast();\n+        if ( (nMedianTimePast >= 1501545600) &&  // Tue 01 Aug 2017 00:00:00 UTC\n+                (nMedianTimePast <= 1510704000) &&  // Wed 15 Nov 2017 00:00:00 UTC\n+                (!IsWitnessLockedIn(pindex->pprev, chainparams.GetConsensus()) &&  // Segwit is not locked in\n+                 !IsWitnessEnabled(pindex->pprev, chainparams.GetConsensus())) )   // and is not active.\n+        {\n+            bool fVersionBits = (pindex->nVersion & VERSIONBITS_TOP_MASK) == VERSIONBITS_TOP_BITS;\n+            bool fSegbit = (pindex->nVersion & VersionBitsMask(chainparams.GetConsensus(), Consensus::DEPLOYMENT_SEGWIT)) != 0;\n+            if (!(fVersionBits && fSegbit)) {\n+                return state.DoS(0, error(\"ConnectBlock(): relayed block must signal for segwit, please upgrade\"), REJECT_INVALID, \"bad-no-segwit\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117857924",
      "id" : 117857924,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 15,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 39599249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117857924",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117858119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117858119"
         }
      },
      "body" : "Can't this be static?\r\n\r\nEDIT: or preferably inlined",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T22:16:31Z",
      "diff_hunk" : "@@ -445,6 +447,9 @@ bool TestBlockValidity(CValidationState& state, const CChainParams& chainparams,\n /** Check whether witness commitments are required for block. */\n bool IsWitnessEnabled(const CBlockIndex* pindexPrev, const Consensus::Params& params);\n \n+/** Check if Segregated Witness is Locked In */\n+bool IsWitnessLockedIn(const CBlockIndex* pindexPrev, const Consensus::Params& params);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117858119",
      "id" : 117858119,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 14,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 39599470,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117858119",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117869889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117869889"
         }
      },
      "body" : "yes, static is more consistent with other uses in the file, so i'll use that",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T23:46:04Z",
      "diff_hunk" : "@@ -445,6 +447,9 @@ bool TestBlockValidity(CValidationState& state, const CChainParams& chainparams,\n /** Check whether witness commitments are required for block. */\n bool IsWitnessEnabled(const CBlockIndex* pindexPrev, const Consensus::Params& params);\n \n+/** Check if Segregated Witness is Locked In */\n+bool IsWitnessLockedIn(const CBlockIndex* pindexPrev, const Consensus::Params& params);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117869889",
      "id" : 117869889,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 14,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 39611736,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117869889",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/50769?v=3",
         "events_url" : "https://api.github.com/users/earonesty/events{/privacy}",
         "followers_url" : "https://api.github.com/users/earonesty/followers",
         "following_url" : "https://api.github.com/users/earonesty/following{/other_user}",
         "gists_url" : "https://api.github.com/users/earonesty/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/earonesty",
         "id" : 50769,
         "login" : "earonesty",
         "organizations_url" : "https://api.github.com/users/earonesty/orgs",
         "received_events_url" : "https://api.github.com/users/earonesty/received_events",
         "repos_url" : "https://api.github.com/users/earonesty/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/earonesty/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/earonesty/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/earonesty"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117870059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117870059"
         }
      },
      "body" : "right?  maybe, please upgrade to Bitcoin version 0.13.2 or greater?",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T23:47:17Z",
      "diff_hunk" : "@@ -1566,6 +1566,22 @@ static bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockInd\n         flags |= SCRIPT_VERIFY_NULLDUMMY;\n     }\n \n+    if (GetBoolArg(\"-bip148\", DEFAULT_BIP148)) {\n+        // BIP148 mandatory segwit signalling.\n+        int64_t nMedianTimePast = pindex->GetMedianTimePast();\n+        if ( (nMedianTimePast >= 1501545600) &&  // Tue 01 Aug 2017 00:00:00 UTC\n+                (nMedianTimePast <= 1510704000) &&  // Wed 15 Nov 2017 00:00:00 UTC\n+                (!IsWitnessLockedIn(pindex->pprev, chainparams.GetConsensus()) &&  // Segwit is not locked in\n+                 !IsWitnessEnabled(pindex->pprev, chainparams.GetConsensus())) )   // and is not active.\n+        {\n+            bool fVersionBits = (pindex->nVersion & VERSIONBITS_TOP_MASK) == VERSIONBITS_TOP_BITS;\n+            bool fSegbit = (pindex->nVersion & VersionBitsMask(chainparams.GetConsensus(), Consensus::DEPLOYMENT_SEGWIT)) != 0;\n+            if (!(fVersionBits && fSegbit)) {\n+                return state.DoS(0, error(\"ConnectBlock(): relayed block must signal for segwit, please upgrade\"), REJECT_INVALID, \"bad-no-segwit\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117870059",
      "id" : 117870059,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 15,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 39611900,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117870059",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/50769?v=3",
         "events_url" : "https://api.github.com/users/earonesty/events{/privacy}",
         "followers_url" : "https://api.github.com/users/earonesty/followers",
         "following_url" : "https://api.github.com/users/earonesty/following{/other_user}",
         "gists_url" : "https://api.github.com/users/earonesty/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/earonesty",
         "id" : 50769,
         "login" : "earonesty",
         "organizations_url" : "https://api.github.com/users/earonesty/orgs",
         "received_events_url" : "https://api.github.com/users/earonesty/received_events",
         "repos_url" : "https://api.github.com/users/earonesty/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/earonesty/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/earonesty/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/earonesty"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117870419"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117870419"
         }
      },
      "body" : "i think the wrapper from util.h is more consistent with other uses in the code",
      "commit_id" : "8fff7c19f5b4192649fb3fad9ee9b80f47856b8c",
      "created_at" : "2017-05-22T23:50:04Z",
      "diff_hunk" : "@@ -1566,6 +1566,22 @@ static bool ConnectBlock(const CBlock& block, CValidationState& state, CBlockInd\n         flags |= SCRIPT_VERIFY_NULLDUMMY;\n     }\n \n+    if (GetBoolArg(\"-bip148\", DEFAULT_BIP148)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10442#discussion_r117870419",
      "id" : 117870419,
      "original_commit_id" : "b360fd09c3638244dd852ccb378540a36b2db8de",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : 12,
      "pull_request_review_id" : 39612264,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10442",
      "updated_at" : "2017-05-22T23:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/117870419",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/50769?v=3",
         "events_url" : "https://api.github.com/users/earonesty/events{/privacy}",
         "followers_url" : "https://api.github.com/users/earonesty/followers",
         "following_url" : "https://api.github.com/users/earonesty/following{/other_user}",
         "gists_url" : "https://api.github.com/users/earonesty/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/earonesty",
         "id" : 50769,
         "login" : "earonesty",
         "organizations_url" : "https://api.github.com/users/earonesty/orgs",
         "received_events_url" : "https://api.github.com/users/earonesty/received_events",
         "repos_url" : "https://api.github.com/users/earonesty/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/earonesty/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/earonesty/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/earonesty"
      }
   }
]
