[
   {
      "body" : "Looks good, but I still don't see why fSkipProofOfWorkCheck is moved into Consensus::Params.\r\n\r\nI've been carrying the 2nd patch in one of my refactor trees (without the change to Consensus::Params though, of course). So ACK that part for sure.",
      "created_at" : "2015-02-21T03:21:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-75353293",
      "id" : 75353293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-02-21T03:21:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75353293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "As discussed on IRC it is used by CUnitTestParams (which switches this param on and off during tests).\r\nIt could become a parameter of ContextualCheckBlockHeader() and CheckBlockHeader(), and all the other calls to CheckProofOfWork() can check this outside that function.\r\nThis is cleaner and it's not clear to me why fSkipProofOfWorkCheck should not be part of it.\r\nMaybe @SergioDemianLerner who created CUnitTestParams has a stronger opinion on this.\r\n",
      "created_at" : "2015-02-21T03:46:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-75354057",
      "id" : 75354057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-02-21T03:47:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75354057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "After an IRC discussion, I drop my objection to fSkipProofOfWorkCheck in Params. It's odd, but reasonable.",
      "created_at" : "2015-02-22T20:37:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-75456352",
      "id" : 75456352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-02-22T20:37:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/75456352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5812#discussion_r25566323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5812"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25566323"
         }
      },
      "body" : "I guess we can get rid of these later, by having callers use Params().GetConsensus().GetX(), rather than Params().GetX(). It's fine for now though, assuming it minimizes diffs.",
      "commit_id" : "11641997721173d342b1a9df1975adf1d97bbf25",
      "created_at" : "2015-03-01T11:16:19Z",
      "diff_hunk" : "@@ -41,16 +42,16 @@ class CChainParams\n         MAX_BASE58_TYPES\n     };\n \n-    const uint256& HashGenesisBlock() const { return hashGenesisBlock; }\n+    const Consensus::Params& GetConsensus() const { return consensus; }\n+    const uint256& HashGenesisBlock() const { return consensus.hashGenesisBlock; }\n     const MessageStartChars& MessageStart() const { return pchMessageStart; }\n     const std::vector<unsigned char>& AlertKey() const { return vAlertPubKey; }\n     int GetDefaultPort() const { return nDefaultPort; }\n-    const arith_uint256& ProofOfWorkLimit() const { return bnProofOfWorkLimit; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#discussion_r25566323",
      "id" : 25566323,
      "original_commit_id" : "11641997721173d342b1a9df1975adf1d97bbf25",
      "original_position" : 24,
      "path" : "src/chainparams.h",
      "position" : 24,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5812",
      "updated_at" : "2015-03-01T11:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25566323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-03-01T11:17:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-76592563",
      "id" : 76592563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-03-01T11:17:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76592563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Well, the plan is actually to have the methods that require consensus params take the struct as a parameter, getting called ```function(..., Params().GetConsensus())``` and then inside access the fields of the struct directly, ```params.consensusParam```.\r\nLike in https://github.com/jtimon/bitcoin/commit/11641997721173d342b1a9df1975adf1d97bbf25\r\n\r\nAfter that is done with enough functions, all these methods can be removed from CChainParams, like in https://github.com/jtimon/bitcoin/commit/bfda15f15f5a310c0388ba364aa530038b43a5e7\r\n",
      "created_at" : "2015-03-02T15:54:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-76736964",
      "id" : 76736964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-03-02T15:54:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76736964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jtimon Even better; but let's do that later.",
      "created_at" : "2015-03-03T12:08:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-76934020",
      "id" : 76934020,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-03-03T12:08:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76934020",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Looks good to me, but should be combined with simple POW unit tests to exercise/demonstrate the code.\n\n\n\n> On Mar 2, 2015, at 10:54 AM, Jorge TimÃÂ³n <notifications@github.com> wrote:\n> \n> Well, the plan is actually to have the methods that require consensus params take the struct as a parameter, getting called function(..., Params().GetConsensus()) and then inside access the fields of the struct directly, params.consensusParam.\n> Like in jtimon@1164199\n> \n> After that is done with enough functions, all these methods can be removed from CChainParams, like in jtimon@bfda15f\n> \n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub.\n> \n",
      "created_at" : "2015-03-03T12:20:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-76935490",
      "id" : 76935490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-03-03T12:20:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76935490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "ut ACK\r\n",
      "created_at" : "2015-03-11T14:00:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5812#issuecomment-78267733",
      "id" : 78267733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5812",
      "updated_at" : "2015-03-11T14:00:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78267733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
