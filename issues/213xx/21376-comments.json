[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21363 (build, qt: Improve Qt static plugins/libs check code by hebasto)\n* #20641 (depends: Use Qt top-level build facilities by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-03-06T08:00:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21376#issuecomment-791892125",
      "id" : 791892125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21376",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MTg5MjEyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-06T08:00:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791892125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21376#discussion_r588862003"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21376"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588862003"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Add `bison` to https://github.com/bitcoin/bitcoin/blob/master/depends/README.md#for-linux-including-i386-arm-cross-compilation?",
      "commit_id" : "6275f150496ea6067407e0b32c23af3eda9ecdb5",
      "created_at" : "2021-03-06T09:59:38Z",
      "diff_hunk" : "@@ -11,6 +11,7 @@ packages:\n - \"autoconf\"\n - \"automake\"\n - \"binutils\"\n+- \"bison\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21376#discussion_r588862003",
      "id" : 588862003,
      "line" : 14,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODg2MjAwMw==",
      "original_commit_id" : "6a70950799e54ce5b85f7d58aca6d19adae961c8",
      "original_line" : 14,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "contrib/gitian-descriptors/gitian-linux.yml",
      "position" : 4,
      "pull_request_review_id" : 605745163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21376",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-06T09:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588862003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21376#discussion_r588867355"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21376"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588867355"
         }
      },
      "author_association" : "MEMBER",
      "body" : "6a70950799e54ce5b85f7d58aca6d19adae961c8\r\n\r\nCould be simplified:\r\n```suggestion\r\n  rm -f lib/*.la\r\n```",
      "commit_id" : "6275f150496ea6067407e0b32c23af3eda9ecdb5",
      "created_at" : "2021-03-06T10:55:56Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+package=libxkbcommon\n+$(package)_version=0.8.4\n+$(package)_download_path=https://xkbcommon.org/download/\n+$(package)_file_name=$(package)-$($(package)_version).tar.xz\n+$(package)_sha256_hash=60ddcff932b7fd352752d51a5c4f04f3d0403230a584df9a2e0d5ed87c486c8b\n+$(package)_dependencies=libxcb\n+\n+define $(package)_set_vars\n+$(package)_config_opts = --enable-option-checking --disable-dependency-tracking\n+$(package)_config_opts += --disable-static --disable-docs \n+endef\n+\n+define $(package)_preprocess_cmds\n+  cp -f $(BASEDIR)/config.guess $(BASEDIR)/config.sub build-aux\n+endef\n+\n+define $(package)_config_cmds\n+  $($(package)_autoconf)\n+endef\n+\n+define $(package)_build_cmds\n+  $(MAKE)\n+endef\n+\n+define $(package)_stage_cmds\n+  $(MAKE) DESTDIR=$($(package)_staging_dir) install\n+endef\n+\n+define $(package)_postprocess_cmds\n+  rm -rf share/man share/doc lib/*.la",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21376#discussion_r588867355",
      "id" : 588867355,
      "line" : 30,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODg2NzM1NQ==",
      "original_commit_id" : "6275f150496ea6067407e0b32c23af3eda9ecdb5",
      "original_line" : 30,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "depends/packages/libxkbcommon.mk",
      "position" : 30,
      "pull_request_review_id" : 605748310,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21376",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-06T10:55:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588867355",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The build fail on CentOS\r\n```\r\n/tmp/cirrus-ci-build/depends/i686-pc-linux-gnu/lib/libQt5XcbQpa.a(qxcbbackingstore.o): In function `QXcbBackingStoreImage::createShmSegment(unsigned int)':\r\nqxcbbackingstore.cpp:(.text._ZN21QXcbBackingStoreImage16createShmSegmentEj+0x4e): undefined reference to `xcb_shm_create_segment'\r\nqxcbbackingstore.cpp:(.text._ZN21QXcbBackingStoreImage16createShmSegmentEj+0x60): undefined reference to `xcb_shm_create_segment_reply'\r\nqxcbbackingstore.cpp:(.text._ZN21QXcbBackingStoreImage16createShmSegmentEj+0x7b): undefined reference to `xcb_shm_create_segment_reply_fds'\r\ncollect2: error: ld returned 1 exit status\r\nmake[2]: *** [Makefile:5668: qt/bitcoin-qt] Error 1\r\n```\r\n\r\ncould be solved with the following patch:\r\n```\r\n--- a/build-aux/m4/bitcoin_qt.m4\r\n+++ b/build-aux/m4/bitcoin_qt.m4\r\n@@ -336,6 +336,7 @@ AC_DEFUN([_BITCOIN_QT_CHECK_STATIC_LIBS], [\r\n   PKG_CHECK_MODULES([QTFB], [Qt5FbSupport${qt_lib_suffix}], [QT_LIBS=\"-lQt5FbSupport${qt_lib_suffix} $QT_LIBS\"])\r\n   if test \"x$TARGET_OS\" = xlinux; then\r\n     PKG_CHECK_MODULES([QTXCBQPA], [Qt5XcbQpa], [QT_LIBS=\"$QTXCBQPA_LIBS $QT_LIBS\"])\r\n+    QT_LIBS=\"-lxcb-shm $QT_LIBS\"\r\n   elif test \"x$TARGET_OS\" = xdarwin; then\r\n     PKG_CHECK_MODULES([QTCLIPBOARD], [Qt5ClipboardSupport${qt_lib_suffix}], [QT_LIBS=\"-lQt5ClipboardSupport${qt_lib_suffix} $QT_LIBS\"])\r\n     PKG_CHECK_MODULES([QTGRAPHICS], [Qt5GraphicsSupport${qt_lib_suffix}], [QT_LIBS=\"-lQt5GraphicsSupport${qt_lib_suffix} $QT_LIBS\"])\r\n\r\n--- a/depends/packages/libxcb.mk\r\n+++ b/depends/packages/libxcb.mk\r\n@@ -15,7 +15,7 @@ $(package)_config_opts += --disable-composite --disable-damage --disable-dpms\r\n $(package)_config_opts += --disable-dri2 --disable-dri3 --disable-glx\r\n $(package)_config_opts += --disable-present --disable-randr --disable-record\r\n $(package)_config_opts += --disable-render --disable-resource --disable-screensaver\r\n-$(package)_config_opts += --disable-shape --disable-shm --disable-sync\r\n+$(package)_config_opts += --disable-shape --disable-sync\r\n $(package)_config_opts += --disable-xevie --disable-xfixes --disable-xfree86-dri\r\n $(package)_config_opts += --disable-xinerama --disable-xinput\r\n $(package)_config_opts += --disable-xprint --disable-selinux --disable-xtest\r\n```\r\n\r\nSee [QTBUG-74874](https://bugreports.qt.io/browse/QTBUG-74874).",
      "created_at" : "2021-03-06T12:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21376#issuecomment-791931330",
      "id" : 791931330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21376",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MTkzMTMzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-06T12:44:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791931330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
