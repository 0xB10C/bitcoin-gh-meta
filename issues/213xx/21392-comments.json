[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589800403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589800403"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: unneeded",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-08T22:39:29Z",
      "diff_hunk" : "@@ -226,7 +226,6 @@ struct MempoolAcceptResult {\n MempoolAcceptResult AcceptToMemoryPool(CChainState& active_chainstate, CTxMemPool& pool, const CTransactionRef& tx,\n                                        bool bypass_limits, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589800403",
      "id" : 589800403,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTgwMDQwMw==",
      "original_commit_id" : "b16a75572684865e4a54b7cb56f05c028ac98026",
      "original_line" : 229,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 606773707,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589800403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589804330"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589804330"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it'd be worth adding the ability to set the `min_activation_height` for testing as well",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-08T22:44:02Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ void SetupChainParamsBaseOptions(ArgsManager& argsman)\n                  \"This is intended for regression testing tools and app development. Equivalent to -chain=regtest.\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n     argsman.AddArg(\"-segwitheight=<n>\", \"Set the activation height of segwit. -1 to disable. (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-testnet\", \"Use the test chain. Equivalent to -chain=test.\", ArgsManager::ALLOW_ANY, OptionsCategory::CHAINPARAMS);\n-    argsman.AddArg(\"-vbparams=deployment:start:end\", \"Use given start/end times for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n+    argsman.AddArg(\"-vbparams=deployment:@startheight:@timeoutheight\", \"Use given start/timeout heights for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589804330",
      "id" : 589804330,
      "line" : 26,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTgwNDMzMA==",
      "original_commit_id" : "b16a75572684865e4a54b7cb56f05c028ac98026",
      "original_line" : 26,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/chainparamsbase.cpp",
      "position" : 5,
      "pull_request_review_id" : 606773707,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589804330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15256660?v=4",
         "events_url" : "https://api.github.com/users/benthecarman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benthecarman/followers",
         "following_url" : "https://api.github.com/users/benthecarman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benthecarman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benthecarman",
         "id" : 15256660,
         "login" : "benthecarman",
         "node_id" : "MDQ6VXNlcjE1MjU2NjYw",
         "organizations_url" : "https://api.github.com/users/benthecarman/orgs",
         "received_events_url" : "https://api.github.com/users/benthecarman/received_events",
         "repos_url" : "https://api.github.com/users/benthecarman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benthecarman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benthecarman"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589808255"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589808255"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "As it stands, `-vbparams` is only used to disable taproot activation to check soft-fork status, so this would only be useful if it came with an actual test.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-08T22:52:02Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ void SetupChainParamsBaseOptions(ArgsManager& argsman)\n                  \"This is intended for regression testing tools and app development. Equivalent to -chain=regtest.\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n     argsman.AddArg(\"-segwitheight=<n>\", \"Set the activation height of segwit. -1 to disable. (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-testnet\", \"Use the test chain. Equivalent to -chain=test.\", ArgsManager::ALLOW_ANY, OptionsCategory::CHAINPARAMS);\n-    argsman.AddArg(\"-vbparams=deployment:start:end\", \"Use given start/end times for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n+    argsman.AddArg(\"-vbparams=deployment:@startheight:@timeoutheight\", \"Use given start/timeout heights for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589808255",
      "id" : 589808255,
      "in_reply_to_id" : 589804330,
      "line" : 26,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTgwODI1NQ==",
      "original_commit_id" : "b16a75572684865e4a54b7cb56f05c028ac98026",
      "original_line" : 26,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/chainparamsbase.cpp",
      "position" : 5,
      "pull_request_review_id" : 606782162,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589808255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe consider rebasing on #21380 ; it adds fuzz testing and removes the need for the `MinActivationHeight()` virtual functions, and should make the \"per-deployment-threshold\" part a bit simpler.",
      "created_at" : "2021-03-08T22:56:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-793147434",
      "id" : 793147434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MzE0NzQzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-08T22:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793147434",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589810331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589810331"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-08T22:56:35Z",
      "diff_hunk" : "@@ -226,7 +226,6 @@ struct MempoolAcceptResult {\n MempoolAcceptResult AcceptToMemoryPool(CChainState& active_chainstate, CTxMemPool& pool, const CTransactionRef& tx,\n                                        bool bypass_limits, bool test_accept=false) EXCLUSIVE_LOCKS_REQUIRED(cs_main);\n \n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589810331",
      "id" : 589810331,
      "in_reply_to_id" : 589800403,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTgxMDMzMQ==",
      "original_commit_id" : "b16a75572684865e4a54b7cb56f05c028ac98026",
      "original_line" : 229,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 606784846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589810331",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe consider rebasing on #21380 ; it adds fuzz testing and removes the need for the `MinActivationHeight()` virtual functions, and should make the \"per-deployment-threshold\" part a bit simpler.\r\n\r\nDone. It did indeed make this simpler. The fuzzer also caught one minor issue.",
      "created_at" : "2021-03-09T01:47:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-793254716",
      "id" : 793254716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MzI1NDcxNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T01:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793254716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589881249"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589881249"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should this be set to NEVER_ACTIVE?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T01:54:18Z",
      "diff_hunk" : "@@ -20,24 +20,37 @@ enum DeploymentPos\n };\n \n /**\n- * Struct for each individual consensus rule change using BIP9.\n+ * Struct for each individual consensus rule change using version bits (BIP 8).\n  */\n-struct BIP9Deployment {\n+struct VBitsDeployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n-    int64_t nStartTime;\n-    /** Timeout/expiry MedianTime for the deployment attempt. */\n-    int64_t nTimeout;\n+    /** Start block height for version bits miner confirmation. Must be a retarget block, can be in the past. */\n+    int64_t startheight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589881249",
      "id" : 589881249,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg4MTI0OQ==",
      "original_commit_id" : "3d6fa014f3f122bbcfcdbe39cc2bd043bf2fe915",
      "original_line" : 29,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 606866335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589881249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886135"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "there's not really a great way to rewrite this, but can we comment why it is +1",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:07:55Z",
      "diff_hunk" : "@@ -30,8 +36,8 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n             cache[pindexPrev] = ThresholdState::DEFINED;\n             break;\n         }\n-        if (pindexPrev->GetMedianTimePast() < nTimeStart) {\n-            // Optimization: don't recompute down further, as we know every earlier block will be before the start time\n+        if (pindexPrev->nHeight + 1 < height_start) {\n+            // Optimization: don't recompute down further, as we know every earlier block will be before the start height",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886135",
      "id" : 589886135,
      "line" : 42,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg4NjEzNQ==",
      "original_commit_id" : "c25fe127af4e91da541e6d8c5c47ea733994d529",
      "original_line" : 42,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : 37,
      "pull_request_review_id" : 606866335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886501"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "how it is doc'd below is great",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:08:53Z",
      "diff_hunk" : "@@ -30,8 +36,8 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n             cache[pindexPrev] = ThresholdState::DEFINED;\n             break;\n         }\n-        if (pindexPrev->GetMedianTimePast() < nTimeStart) {\n-            // Optimization: don't recompute down further, as we know every earlier block will be before the start time\n+        if (pindexPrev->nHeight + 1 < height_start) {\n+            // Optimization: don't recompute down further, as we know every earlier block will be before the start height",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886501",
      "id" : 589886501,
      "in_reply_to_id" : 589886135,
      "line" : 42,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg4NjUwMQ==",
      "original_commit_id" : "c25fe127af4e91da541e6d8c5c47ea733994d529",
      "original_line" : 42,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : 37,
      "pull_request_review_id" : 606866335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886850"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886850"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ibid -- a temporary makes this clearer",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:09:51Z",
      "diff_hunk" : "@@ -94,50 +103,54 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     return state;\n }\n \n-BIP9Stats AbstractThresholdConditionChecker::GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params) const\n+VBitsStats ThresholdConditionChecker::GetStateStatisticsFor(const CBlockIndex* pindexPrev) const\n {\n-    BIP9Stats stats = {};\n+    VBitsStats stats = {};\n \n-    stats.period = Period(params);\n-    stats.threshold = Threshold(params);\n+    stats.period = m_period;\n+    stats.threshold = m_dep.m_threshold;\n \n-    if (pindex == nullptr)\n+    if (pindexPrev == nullptr || (pindexPrev->nHeight + 1) < stats.period) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589886850",
      "id" : 589886850,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg4Njg1MA==",
      "original_commit_id" : "c25fe127af4e91da541e6d8c5c47ea733994d529",
      "original_line" : 113,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : null,
      "pull_request_review_id" : 606866335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589886850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891206"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The potential for uninitialized members here is concerning to me, so I am working on a followup to deal with those. That may be rolled into this PR.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:21:54Z",
      "diff_hunk" : "@@ -20,24 +20,37 @@ enum DeploymentPos\n };\n \n /**\n- * Struct for each individual consensus rule change using BIP9.\n+ * Struct for each individual consensus rule change using version bits (BIP 8).\n  */\n-struct BIP9Deployment {\n+struct VBitsDeployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n-    int64_t nStartTime;\n-    /** Timeout/expiry MedianTime for the deployment attempt. */\n-    int64_t nTimeout;\n+    /** Start block height for version bits miner confirmation. Must be a retarget block, can be in the past. */\n+    int64_t startheight;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891206",
      "id" : 589891206,
      "in_reply_to_id" : 589881249,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg5MTIwNg==",
      "original_commit_id" : "3d6fa014f3f122bbcfcdbe39cc2bd043bf2fe915",
      "original_line" : 29,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 606877525,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891266"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:22:00Z",
      "diff_hunk" : "@@ -30,8 +36,8 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n             cache[pindexPrev] = ThresholdState::DEFINED;\n             break;\n         }\n-        if (pindexPrev->GetMedianTimePast() < nTimeStart) {\n-            // Optimization: don't recompute down further, as we know every earlier block will be before the start time\n+        if (pindexPrev->nHeight + 1 < height_start) {\n+            // Optimization: don't recompute down further, as we know every earlier block will be before the start height",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891266",
      "id" : 589891266,
      "in_reply_to_id" : 589886135,
      "line" : 42,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg5MTI2Ng==",
      "original_commit_id" : "c25fe127af4e91da541e6d8c5c47ea733994d529",
      "original_line" : 42,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : 37,
      "pull_request_review_id" : 606877587,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891296"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T02:22:04Z",
      "diff_hunk" : "@@ -94,50 +103,54 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     return state;\n }\n \n-BIP9Stats AbstractThresholdConditionChecker::GetStateStatisticsFor(const CBlockIndex* pindex, const Consensus::Params& params) const\n+VBitsStats ThresholdConditionChecker::GetStateStatisticsFor(const CBlockIndex* pindexPrev) const\n {\n-    BIP9Stats stats = {};\n+    VBitsStats stats = {};\n \n-    stats.period = Period(params);\n-    stats.threshold = Threshold(params);\n+    stats.period = m_period;\n+    stats.threshold = m_dep.m_threshold;\n \n-    if (pindex == nullptr)\n+    if (pindexPrev == nullptr || (pindexPrev->nHeight + 1) < stats.period) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r589891296",
      "id" : 589891296,
      "in_reply_to_id" : 589886850,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTg5MTI5Ng==",
      "original_commit_id" : "c25fe127af4e91da541e6d8c5c47ea733994d529",
      "original_line" : 113,
      "original_position" : 105,
      "original_start_line" : null,
      "path" : "src/versionbits.cpp",
      "position" : null,
      "pull_request_review_id" : 606877624,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589891296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21391 ([Bundle 5/n] Prune g_chainman usage in RPC modules by dongcarl)\n* #21380 (Add fuzzing harness for versionbits by ajtowns)\n* #21378 (Convert taproot to flag day activation by ajtowns)\n* #21377 (Speedy trial support for versionbits by ajtowns)\n* #21142 (fuzz: Add tx_pool fuzz target by MarcoFalke)\n* #20556 (rpc: Properly document return values (submitblock, gettxout, getblocktemplate, scantxoutset) by MarcoFalke)\n* #20354 (test: Add feature_taproot.py --previous_release by MarcoFalke)\n* #19438 (Introduce deploymentstatus by ajtowns)\n* #19259 (fuzz: Add fuzzing harness for LoadMempool(...) and DumpMempool(...) by practicalswift)\n* #10102 ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-03-09T04:23:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-793365182",
      "id" : 793365182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5MzM2NTE4Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T04:23:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/793365182",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590330775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590330775"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"The with UASF\" -> \"The UASF fallback with forced signalling (LOT=true) has not been implemented. The current implementation is the equivalent of LOT=false\"",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T12:37:42Z",
      "diff_hunk" : "@@ -1,6 +1,7 @@\n BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n \n-* [`BIP 9`](https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki): The changes allowing multiple soft-forks to be deployed in parallel have been implemented since **v0.12.1**  ([PR #7575](https://github.com/bitcoin/bitcoin/pull/7575))\n+* [`BIP 8`](https://github.com/bitcoin/bips/blob/master/bip-0008.mediawiki): The changes for parallel, rapid deployment based on block height miner activation have been implemented since **v0.21.1** ([PR #21392](https://github.com/bitcoin/bitcoin/pull/21392)). The  with UASF failover is not yet implemented.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590330775",
      "id" : 590330775,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDMzMDc3NQ==",
      "original_commit_id" : "3395165dfe6b84e6d04ad134f0135c44e8c8ddc6",
      "original_line" : 3,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : null,
      "pull_request_review_id" : 607356173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590330775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590339596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590339596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is a breaking RPC change, so needs a release note.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T12:49:15Z",
      "diff_hunk" : "@@ -1297,24 +1295,24 @@ RPCHelpMan getblockchaininfo()\n                         {\n                             {RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n                             {\n-                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n-                                {RPCResult::Type::OBJ, \"bip9\", \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip8\\\"\"},\n+                                {RPCResult::Type::OBJ, \"bip8\", \"status of BIP 8 softforks (only for \\\"bip8\\\" type)\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590339596",
      "id" : 590339596,
      "line" : 1298,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDMzOTU5Ng==",
      "original_commit_id" : "3395165dfe6b84e6d04ad134f0135c44e8c8ddc6",
      "original_line" : 1298,
      "original_position" : 71,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 74,
      "pull_request_review_id" : 607356173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590339596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590345168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590345168"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a : I would be in favor of such a test, but I suggest introducing the `@min_activation_height` param in a later commit, rather than in this refactor. ",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T12:56:59Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ void SetupChainParamsBaseOptions(ArgsManager& argsman)\n                  \"This is intended for regression testing tools and app development. Equivalent to -chain=regtest.\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n     argsman.AddArg(\"-segwitheight=<n>\", \"Set the activation height of segwit. -1 to disable. (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-testnet\", \"Use the test chain. Equivalent to -chain=test.\", ArgsManager::ALLOW_ANY, OptionsCategory::CHAINPARAMS);\n-    argsman.AddArg(\"-vbparams=deployment:start:end\", \"Use given start/end times for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);\n+    argsman.AddArg(\"-vbparams=deployment:@startheight:@timeoutheight\", \"Use given start/timeout heights for specified version bits deployment (regtest-only)\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::CHAINPARAMS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590345168",
      "id" : 590345168,
      "in_reply_to_id" : 589804330,
      "line" : 26,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDM0NTE2OA==",
      "original_commit_id" : "b16a75572684865e4a54b7cb56f05c028ac98026",
      "original_line" : 26,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/chainparamsbase.cpp",
      "position" : 5,
      "pull_request_review_id" : 607356173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590345168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590347074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590347074"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment needs update.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T12:59:29Z",
      "diff_hunk" : "@@ -1229,7 +1229,7 @@ static void BIP9SoftForkDescPushBack(UniValue& softforks, const std::string &nam\n     // Deployments (e.g. testdummy) with timeout value before Jan 1, 2009 are hidden.\n     // A timeout value of 0 guarantees a softfork will never be activated.\n     // This is used when merging logic to implement a proposed softfork without a specified deployment schedule.\n-    if (consensusParams.vDeployments[id].nTimeout <= 1230768000) return;\n+    if (consensusParams.vDeployments[id].timeoutheight == Consensus::VBitsDeployment::NEVER_ACTIVE) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590347074",
      "id" : 590347074,
      "line" : 1231,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDM0NzA3NA==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1231,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 14,
      "pull_request_review_id" : 607356173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590347074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590349951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590349951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "While you're at it, the comment about which node is active is the wrong way around.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T13:03:44Z",
      "diff_hunk" : "@@ -1201,7 +1201,7 @@ def set_test_params(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n         # Node 0 has Taproot inactive, Node 1 active.\n-        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:1:1\"], [\"-par=1\"]]\n+        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:@1:@1\"], [\"-par=1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590349951",
      "id" : 590349951,
      "line" : 1204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDM0OTk1MQ==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1204,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 5,
      "pull_request_review_id" : 607356173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590349951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Here you go, a BIP 8 delayed activation functional test for your cherry-picking: https://github.com/Sjors/bitcoin/commits/2021/03/bip8-speedy-trial-test",
      "created_at" : "2021-03-09T15:53:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-794078821",
      "id" : 794078821,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NDA3ODgyMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T15:53:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794078821",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590580067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590580067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No? Node 0 has taproot inactive and setting the vbparams in this way (startheight=1, timeoutheight=1) ensures that it cannot activate on regtest.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T17:37:03Z",
      "diff_hunk" : "@@ -1201,7 +1201,7 @@ def set_test_params(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n         # Node 0 has Taproot inactive, Node 1 active.\n-        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:1:1\"], [\"-par=1\"]]\n+        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:@1:@1\"], [\"-par=1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590580067",
      "id" : 590580067,
      "in_reply_to_id" : 590349951,
      "line" : 1204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDU4MDA2Nw==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1204,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 5,
      "pull_request_review_id" : 607682944,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590580067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590587972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590587972"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T17:47:39Z",
      "diff_hunk" : "@@ -1,6 +1,7 @@\n BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n \n-* [`BIP 9`](https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki): The changes allowing multiple soft-forks to be deployed in parallel have been implemented since **v0.12.1**  ([PR #7575](https://github.com/bitcoin/bitcoin/pull/7575))\n+* [`BIP 8`](https://github.com/bitcoin/bips/blob/master/bip-0008.mediawiki): The changes for parallel, rapid deployment based on block height miner activation have been implemented since **v0.21.1** ([PR #21392](https://github.com/bitcoin/bitcoin/pull/21392)). The  with UASF failover is not yet implemented.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590587972",
      "id" : 590587972,
      "in_reply_to_id" : 590330775,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDU4Nzk3Mg==",
      "original_commit_id" : "3395165dfe6b84e6d04ad134f0135c44e8c8ddc6",
      "original_line" : 3,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : null,
      "pull_request_review_id" : 607693014,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590587972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590588073"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590588073"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T17:47:46Z",
      "diff_hunk" : "@@ -1297,24 +1295,24 @@ RPCHelpMan getblockchaininfo()\n                         {\n                             {RPCResult::Type::OBJ, \"xxxx\", \"name of the softfork\",\n                             {\n-                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip9\\\"\"},\n-                                {RPCResult::Type::OBJ, \"bip9\", \"status of bip9 softforks (only for \\\"bip9\\\" type)\",\n+                                {RPCResult::Type::STR, \"type\", \"one of \\\"buried\\\", \\\"bip8\\\"\"},\n+                                {RPCResult::Type::OBJ, \"bip8\", \"status of BIP 8 softforks (only for \\\"bip8\\\" type)\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590588073",
      "id" : 590588073,
      "in_reply_to_id" : 590339596,
      "line" : 1298,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDU4ODA3Mw==",
      "original_commit_id" : "3395165dfe6b84e6d04ad134f0135c44e8c8ddc6",
      "original_line" : 1298,
      "original_position" : 71,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 74,
      "pull_request_review_id" : 607693134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590588073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590588126"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590588126"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T17:47:51Z",
      "diff_hunk" : "@@ -1229,7 +1229,7 @@ static void BIP9SoftForkDescPushBack(UniValue& softforks, const std::string &nam\n     // Deployments (e.g. testdummy) with timeout value before Jan 1, 2009 are hidden.\n     // A timeout value of 0 guarantees a softfork will never be activated.\n     // This is used when merging logic to implement a proposed softfork without a specified deployment schedule.\n-    if (consensusParams.vDeployments[id].nTimeout <= 1230768000) return;\n+    if (consensusParams.vDeployments[id].timeoutheight == Consensus::VBitsDeployment::NEVER_ACTIVE) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590588126",
      "id" : 590588126,
      "in_reply_to_id" : 590347074,
      "line" : 1231,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDU4ODEyNg==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1231,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 14,
      "pull_request_review_id" : 607693202,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590588126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Here you go, a BIP 8 delayed activation functional test for your cherry-picking: https://github.com/Sjors/bitcoin/commits/2021/03/bip8-speedy-trial-test\r\n\r\nCherry picked.",
      "created_at" : "2021-03-09T17:48:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-794224457",
      "id" : 794224457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NDIyNDQ1Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T17:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794224457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Linter complains `'time' imported but unused`; my bad, I needed that import during an intermediate struggle (when generating coins on node 1, node 2 refused to sync).",
      "created_at" : "2021-03-09T20:09:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-794391494",
      "id" : 794391494,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NDM5MTQ5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T20:09:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794391494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590687298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590687298"
         }
      },
      "author_association" : "MEMBER",
      "body" : "~No~ yes, taproot is always active on regtest: https://github.com/bitcoin/bitcoin/blob/968bc1e07b4a8a359876f5b8035fb4c369d04bad/src/chainparams.cpp#L418\r\n\r\nThis had me massively confused ~too~, but you can tell from `testmempoolaccept` if you manually craft a (broken) taproot transaction: https://github.com/BitMEXResearch/forkmonitor/blob/master/spec/models/chaintip_spec.rb#L377 (`mempool_broken_tap` is created by node A, which has no extra_args: https://github.com/BitMEXResearch/forkmonitor/blob/master/spec/models/chaintip_spec.rb#L22)",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T20:14:55Z",
      "diff_hunk" : "@@ -1201,7 +1201,7 @@ def set_test_params(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n         # Node 0 has Taproot inactive, Node 1 active.\n-        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:1:1\"], [\"-par=1\"]]\n+        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:@1:@1\"], [\"-par=1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590687298",
      "id" : 590687298,
      "in_reply_to_id" : 590349951,
      "line" : 1204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY4NzI5OA==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1204,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 5,
      "pull_request_review_id" : 607911197,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590687298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590689363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590689363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah crap, was reading the brackets wrong. Nvm. This is why I like to indent stuff :-)",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-09T20:18:03Z",
      "diff_hunk" : "@@ -1201,7 +1201,7 @@ def set_test_params(self):\n         self.num_nodes = 2\n         self.setup_clean_chain = True\n         # Node 0 has Taproot inactive, Node 1 active.\n-        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:1:1\"], [\"-par=1\"]]\n+        self.extra_args = [[\"-par=1\", \"-vbparams=taproot:@1:@1\"], [\"-par=1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r590689363",
      "id" : 590689363,
      "in_reply_to_id" : 590349951,
      "line" : 1204,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDY4OTM2Mw==",
      "original_commit_id" : "7e47c280b7b5597e4a259f4d4b50d661fccd061a",
      "original_line" : 1204,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/feature_taproot.py",
      "position" : 5,
      "pull_request_review_id" : 607917745,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-09T21:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/590689363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed the linter",
      "created_at" : "2021-03-09T20:30:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#issuecomment-794414561",
      "id" : 794414561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21392",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc5NDQxNDU2MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-09T20:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/794414561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591524815"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591524815"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you dropping all tests for `DEFINED -> FAILED` and `DEFINED -> STARTED -> FAILED`?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-10T13:47:31Z",
      "diff_hunk" : "@@ -178,65 +178,40 @@ BOOST_FIXTURE_TEST_SUITE(versionbits_tests, TestingSetup)\n BOOST_AUTO_TEST_CASE(versionbits_test)\n {\n     for (int i = 0; i < 64; i++) {\n-        // DEFINED -> FAILED",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591524815",
      "id" : 591524815,
      "line" : 160,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTUyNDgxNQ==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 181,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 182,
      "pull_request_review_id" : 608728480,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-10T14:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591524815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591529768"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591529768"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why the switch from mainnet to regtest here?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-10T13:52:11Z",
      "diff_hunk" : "@@ -284,100 +259,67 @@ BOOST_AUTO_TEST_CASE(versionbits_params)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591529768",
      "id" : 591529768,
      "line" : 302,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTUyOTc2OA==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 264,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 320,
      "pull_request_review_id" : 608728480,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-10T14:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591529768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591731487"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591731487"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This change is from #19573. I believe it is dropped because BIP 8 specifies that the timeoutheight falls on a retarget block greater than the startheight, so this scenario is supposed to be impossible to occur. With BIP 9, it was possible because there was no guarantee of the number of blocks between the start time and timeout time, but with height, the number of blocks is guaranteed.\r\n\r\n`DEFINE -> STARTED -> FAILED` is still there though. I suppose you mean `DEFINED -> STARTED -> Failed while threshold reached`? In that case, it's because the timeout height is supposed to fall on a retarget block so if the threshold is reached, it will always move to the locked in state.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-10T17:38:16Z",
      "diff_hunk" : "@@ -178,65 +178,40 @@ BOOST_FIXTURE_TEST_SUITE(versionbits_tests, TestingSetup)\n BOOST_AUTO_TEST_CASE(versionbits_test)\n {\n     for (int i = 0; i < 64; i++) {\n-        // DEFINED -> FAILED",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591731487",
      "id" : 591731487,
      "in_reply_to_id" : 591524815,
      "line" : 160,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTczMTQ4Nw==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 181,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 182,
      "pull_request_review_id" : 608988516,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-10T17:39:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591731487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591734947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591734947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I believe this change was done so that custom activation parameters could be used. Specifically, since mainnet start and timeout heights are in the hundreds of thousands of blocks, the test would just be wasting time building up a chain to reach that those heights. With regtest, it can use a way lower height so the test runs in a timely fashion.",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-10T17:43:09Z",
      "diff_hunk" : "@@ -284,100 +259,67 @@ BOOST_AUTO_TEST_CASE(versionbits_params)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r591734947",
      "id" : 591734947,
      "in_reply_to_id" : 591529768,
      "line" : 302,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTczNDk0Nw==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 264,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 320,
      "pull_request_review_id" : 608993233,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-10T17:43:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/591734947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592231394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592231394"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess the better question is: why did it use mainnet in the past?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-11T10:13:58Z",
      "diff_hunk" : "@@ -284,100 +259,67 @@ BOOST_AUTO_TEST_CASE(versionbits_params)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592231394",
      "id" : 592231394,
      "in_reply_to_id" : 591529768,
      "line" : 302,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjIzMTM5NA==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 264,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 320,
      "pull_request_review_id" : 609595315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-11T10:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592231394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592588076"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592588076"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess it was convenient and doesn't really matter when the time can be faked?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-11T18:10:05Z",
      "diff_hunk" : "@@ -284,100 +259,67 @@ BOOST_AUTO_TEST_CASE(versionbits_params)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592588076",
      "id" : 592588076,
      "in_reply_to_id" : 591529768,
      "line" : 302,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjU4ODA3Ng==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 264,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 320,
      "pull_request_review_id" : 610075033,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-11T18:10:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592588076",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592872804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592872804"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I figured the theory was \"if you're going to test anything, test what's going to happen on mainnet\". Since there's no proof of work in the versionbits unit test, it might be reasonable to test with real heights -- it's just building a skiplist with half a million entries to get to the start height, and going from there?",
      "commit_id" : "7ff01fb91960b029f67fde68de6a9ea0178c8ab3",
      "created_at" : "2021-03-12T02:46:19Z",
      "diff_hunk" : "@@ -284,100 +259,67 @@ BOOST_AUTO_TEST_CASE(versionbits_params)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21392#discussion_r592872804",
      "id" : 592872804,
      "in_reply_to_id" : 591529768,
      "line" : 302,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mjg3MjgwNA==",
      "original_commit_id" : "d4c40a52cdc0e07647b6543427e621585028fcdd",
      "original_line" : 264,
      "original_position" : 147,
      "original_start_line" : null,
      "path" : "src/test/versionbits_tests.cpp",
      "position" : 320,
      "pull_request_review_id" : 610409091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21392",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-03-12T02:46:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/592872804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
