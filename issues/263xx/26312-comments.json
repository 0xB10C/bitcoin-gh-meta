[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25619](https://github.com/bitcoin/bitcoin/pull/25619) (net: avoid overriding non-virtual ToString() in CService and use better naming by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-10-14T10:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1278839046",
      "id" : 1278839046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MOYkG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278839046/reactions"
      },
      "updated_at" : "2022-10-14T10:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1278839046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Why not add additional testing/mocking/fuzzing in this PR since this seems to be laying the groundwork for that?",
      "created_at" : "2022-10-15T03:06:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1279643329",
      "id" : 1279643329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MRc7B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1279643329/reactions"
      },
      "updated_at" : "2022-10-15T03:06:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1279643329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@yancyribbens, to ease review. Right now, https://github.com/bitcoin/bitcoin/pull/21878 consists of this PR + the tests (it is almost complete :balloon:). If somebody has spare review cycles they can review/ACK #21878 directly.",
      "created_at" : "2022-10-17T07:23:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1280404869",
      "id" : 1280404869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MUW2F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280404869/reactions"
      },
      "updated_at" : "2022-10-17T07:23:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280404869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@vasild If the tests are not yet complete, then that may change this PR, right?  Besides adding more safety, seeing the accompanying tests would make this easier (for me anyway) to review.",
      "created_at" : "2022-10-17T08:43:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1280499728",
      "id" : 1280499728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MUuAQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280499728/reactions"
      },
      "updated_at" : "2022-10-17T08:43:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280499728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If the tests are not yet complete, then that may change this PR, right?\r\n\r\nThe tests are \"complete\" in a sense that they are \"production ready\" and can be merged. \"Not complete\" in a sense that more tests can be added. I do not think that tweaking the tests can change this PR. The point of #21878 is to have high level code not deal with `int` sockets (file descriptor), but to deal with `Sock` instead, which can be mocked together with all the relevant operations (connect, accept, read, write, etc).\r\n\r\n> Besides adding more safety, seeing the accompanying tests would make this easier (for me anyway) to review.\r\n\r\nThe tests are in #21878, feel free to look at them :heart:",
      "created_at" : "2022-10-17T10:31:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1280642899",
      "id" : 1280642899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MVQ9T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280642899/reactions"
      },
      "updated_at" : "2022-10-17T10:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280642899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : ">  .. to have high level code not deal with int sockets (file descriptor), but to deal with Sock instead\r\n\r\nThanks for the additional explanation.  I was wondering if you could explain this a bit more.  It's been a while since i've done anything with int sockets but if I remember, it was in `C` (not C++).  Is `Sock` a C++ construct that makes it easier to Mock?\r\n\r\n> The tests are in https://github.com/bitcoin/bitcoin/pull/21878, feel free to look at them heart\r\n\r\nI looked over 21878 and I see there's some additional fuzz testing however I don't see the `Mocks` that this PR enables.  Am I missing the place where the Mocks are tested or is it yet to be added?  Would this PR be merged before 21878?",
      "created_at" : "2022-10-17T10:54:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26312#issuecomment-1280672188",
      "id" : 1280672188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26312",
      "node_id" : "IC_kwDOABII585MVYG8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280672188/reactions"
      },
      "updated_at" : "2022-10-17T10:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1280672188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   }
]
