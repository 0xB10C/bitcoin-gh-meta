[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If no one else is taking a look at this, I'd like to take this one.",
      "created_at" : "2022-11-03T02:12:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1301567393",
      "id" : 1301567393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585NlFeh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1301567393/reactions"
      },
      "updated_at" : "2022-11-03T02:12:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1301567393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1823216?v=4",
         "events_url" : "https://api.github.com/users/satsie/events{/privacy}",
         "followers_url" : "https://api.github.com/users/satsie/followers",
         "following_url" : "https://api.github.com/users/satsie/following{/other_user}",
         "gists_url" : "https://api.github.com/users/satsie/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/satsie",
         "id" : 1823216,
         "login" : "satsie",
         "node_id" : "MDQ6VXNlcjE4MjMyMTY=",
         "organizations_url" : "https://api.github.com/users/satsie/orgs",
         "received_events_url" : "https://api.github.com/users/satsie/received_events",
         "repos_url" : "https://api.github.com/users/satsie/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/satsie/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/satsie/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/satsie"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@satsie, I am not currently. Would be happy to review.",
      "created_at" : "2022-11-03T07:45:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1301742596",
      "id" : 1301742596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585NlwQE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1301742596/reactions"
      },
      "updated_at" : "2022-11-03T07:45:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1301742596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@vasild I've been working on this and noticed message types missing from the suggested RPC response you provided. Specifically, these message types are not there:\r\n\r\n- addr\r\n- merkleblock\r\n- getblocks\r\n- block\r\n- mempool\r\n- filterload\r\n- filteradd\r\n- filterclear\r\n- cmpctblock\r\n- getblocktxn\r\n- blocktxn\r\n- getcfilters\r\n- cfilter\r\n- getcfheaders\r\n- cfheaders\r\n- getcfcheckpt\r\n- sendtxrncl\r\n\r\nHave they intentionally been left out? I'm very new to the code base so I wasn't able to identify if there is something special or different about these types. \r\n",
      "created_at" : "2022-11-09T20:39:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1309348945",
      "id" : 1309348945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OCxRR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1309348945/reactions"
      },
      "updated_at" : "2022-11-09T20:39:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1309348945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1823216?v=4",
         "events_url" : "https://api.github.com/users/satsie/events{/privacy}",
         "followers_url" : "https://api.github.com/users/satsie/followers",
         "following_url" : "https://api.github.com/users/satsie/following{/other_user}",
         "gists_url" : "https://api.github.com/users/satsie/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/satsie",
         "id" : 1823216,
         "login" : "satsie",
         "node_id" : "MDQ6VXNlcjE4MjMyMTY=",
         "organizations_url" : "https://api.github.com/users/satsie/orgs",
         "received_events_url" : "https://api.github.com/users/satsie/received_events",
         "repos_url" : "https://api.github.com/users/satsie/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/satsie/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/satsie/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/satsie"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@satsie I assume @vasild is just giving an example, and there can always be messages that are never actually used. Presumably he means that messages that were never seen could be omitted from the RPC output, rather than be listed with value 0.\r\n\r\nIn any case, Concept ACK about having such statistics. I'd go even further and also add:\r\n* Broken down per connection type (as well as a total which has them all summed up like suggested above).\r\n* Also have statistics for counts of messages (not just how many bytes they were).",
      "created_at" : "2022-11-09T22:36:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1309479144",
      "id" : 1309479144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585ODRDo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1309479144/reactions"
      },
      "updated_at" : "2022-11-09T22:36:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1309479144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I did not intentionally leave them out, sorry! I just copy pasted an output from my screen. I missed the fact that if some value is 0 it would not be in the output. I guess some global analogue of `CNode::mapSendBytesPerMsgType` and `CNode::mapRecvBytesPerMsgType` should do it. Every time the numbers in those `CNode` maps are incremented, also increment the newly added, global ones. I guess the new maps should be added to the `CConnman` class.\r\n\r\n> Broken down per connection type\r\n\r\nAha! I was thinking about the same and also per network type, but couldn't figure a nice way to visualize that. So we would have something like the following (using only some values for clarity):\r\n\r\n```json\r\n\"bytessent_per_msg\": {\r\n    \"outbound_full_relay\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    },\r\n    \"inbound\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    },\r\n    \"block_relay\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    }\r\n},\r\n\"bytesrecv_per_msg\": {\r\n    \"outbound_full_relay\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    },\r\n    \"inbound\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    },\r\n    \"block_relay\": {\r\n        \"addr\": 555,\r\n        \"inv\": 666,\r\n        \"tx\": 777\r\n    }\r\n}\r\n```\r\n\r\n@sipa, is this what you suggested? If broken down also per network:\r\n\r\n```json\r\n\"bytessent_per_msg\": {\r\n    \"outbound_full_relay\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    },\r\n    \"inbound\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    },\r\n    \"block_relay\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    }\r\n},\r\n\"bytesrecv_per_msg\": {\r\n    \"outbound_full_relay\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    },\r\n    \"inbound\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    },\r\n    \"block_relay\": {\r\n        \"ipv4\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"ipv6\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        },\r\n        \"tor\": {\r\n            \"addr\": 555,\r\n            \"inv\": 666,\r\n            \"tx\": 777\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI think that the information would be useful but is the presentation too ugly/cumbersome?\r\n\r\n> Also have statistics for counts of messages\r\n\r\nYes, please! :) I guess then e.g. `\"addr\": 555` would become `\"addr\": { \"count\": 5, \"bytes\": 555 }` or `\"addr\": [5, 555]`.\r\n",
      "created_at" : "2022-11-10T11:34:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1310148776",
      "id" : 1310148776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OF0io",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310148776/reactions"
      },
      "updated_at" : "2022-11-10T11:34:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310148776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you both for the clarification! And thank you @vasild for the sample JSON for what a response might look like with connection types included. It does look busy, but what you've laid out makes sense to me. \r\n\r\nI'm not quite to the point where I'm ready to add connection type. I'm still working on the regular breakdown by message type (need to update/write a test). The good news is my implementation is right in line with what you said about new maps in `CConnman` that are similar to `CNode::mapSendBytesPerMsgType` and `CNode::mapRecvBytesPerMsgType` :) \r\n\r\nAdding message count also sounds like a great improvement. I like the `\"addr\": { \"count\": 5, \"bytes\": 555 }` proposal a lot.\r\n\r\nI'll be back when I have actual code to show!",
      "created_at" : "2022-11-10T12:34:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1310216661",
      "id" : 1310216661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OGFHV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310216661/reactions"
      },
      "updated_at" : "2022-11-10T12:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310216661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1823216?v=4",
         "events_url" : "https://api.github.com/users/satsie/events{/privacy}",
         "followers_url" : "https://api.github.com/users/satsie/followers",
         "following_url" : "https://api.github.com/users/satsie/following{/other_user}",
         "gists_url" : "https://api.github.com/users/satsie/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/satsie",
         "id" : 1823216,
         "login" : "satsie",
         "node_id" : "MDQ6VXNlcjE4MjMyMTY=",
         "organizations_url" : "https://api.github.com/users/satsie/orgs",
         "received_events_url" : "https://api.github.com/users/satsie/received_events",
         "repos_url" : "https://api.github.com/users/satsie/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/satsie/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/satsie/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/satsie"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild Yeah, I think a breakdown by network is useful too. This does make me wonder whether all combinations should be provided:\r\n* number of messages sent in total\r\n* number of messages sent, per message type\r\n* number of messages sent, per network\r\n* number of messages sent, per connection type\r\n* number of messages sent, per message type and network\r\n* number of messages sent, per message type and connection type\r\n* number of messages sent, per network and connection type\r\n* number of messages sent, per message type, network, and connection type\r\n* ... all the above repeated for bytes instead of messages, and for received instead of sent\r\n\r\nThat's 32 distinct sets of data (each keyed by whatever they're broken down by), which is probably excessive. But only giving the most-broken-down version is far less usable (as I expect most users to be more interested in more-aggregated results than broken-down ones).",
      "created_at" : "2022-11-10T15:06:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1310431611",
      "id" : 1310431611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OG5l7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310431611/reactions"
      },
      "updated_at" : "2022-11-10T15:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310431611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Might be better to provide a new `getnetworkmsgstats` rpc that you invoke with up to three parameters: whether to split up per msgtype/conntype/network; whether to do msgs or bytes (or average bytes/msg?); whether to do received or sent (or combined?). Then just leave `getnettotals` for the actual totals.",
      "created_at" : "2022-11-11T04:23:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1311213890",
      "id" : 1311213890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OJ4lC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1311213890/reactions"
      },
      "updated_at" : "2022-11-11T04:23:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1311213890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ajtowns I like your proposal for a new `getnetworkmsgstats` RPC, and it's seems like a intriguing design challenge that I'd love to dive into more.\r\n\r\nTo your last comment about leaving `getnettotals` for the actual totals, are you proposing to leave `getnettotals` alone entirely? To refrain from making any changes to it in favor of a new `getnetworkmsgstats` RPC?\r\n\r\nI like the symmetry of adding the breakdown by msgtype in `getnettotals` because it aligns with what `getpeerinfo` is returning. It also seems useful to me for node operators to have some kind of breakdown that they can get \"for free\" (i.e. without the need to make a second RPC call), which may spark curiosity and lead them to use a future `getnetworkmsgstats`.",
      "created_at" : "2022-11-15T20:43:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1315840376",
      "id" : 1315840376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585ObiF4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1315840376/reactions"
      },
      "updated_at" : "2022-11-15T20:43:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1315840376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1823216?v=4",
         "events_url" : "https://api.github.com/users/satsie/events{/privacy}",
         "followers_url" : "https://api.github.com/users/satsie/followers",
         "following_url" : "https://api.github.com/users/satsie/following{/other_user}",
         "gists_url" : "https://api.github.com/users/satsie/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/satsie",
         "id" : 1823216,
         "login" : "satsie",
         "node_id" : "MDQ6VXNlcjE4MjMyMTY=",
         "organizations_url" : "https://api.github.com/users/satsie/orgs",
         "received_events_url" : "https://api.github.com/users/satsie/received_events",
         "repos_url" : "https://api.github.com/users/satsie/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/satsie/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/satsie/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/satsie"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@satsie Don't really have an opinion. What I had in mind was not changing what `getnettotals` reported, and just letting you get all the combinations from `getnetmsgstats`, but having the totals match the per-active-peer report from `getpeerinfo` makes sense too.",
      "created_at" : "2022-11-16T13:34:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26337#issuecomment-1317030972",
      "id" : 1317030972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26337",
      "node_id" : "IC_kwDOABII585OgEw8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1317030972/reactions"
      },
      "updated_at" : "2022-11-16T13:34:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1317030972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
