[
   {
      "author_association" : "MEMBER",
      "body" : "In https://cirrus-ci.com/task/5952817063002112 (mempool_accept.py):\r\n```bash\r\n test  2022-07-29T13:45:02.711000Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 135, in try_rpc\r\n                                       fun(*args, **kwds)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in <lambda>\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/coverage.py\", line 49, in __call__\r\n                                       return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n                                       raise JSONRPCException(response['error'], status)\r\n                                   test_framework.authproxy.JSONRPCException: Expected type array, got string (-3)\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in run_test\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 126, in assert_raises_rpc_error\r\n                                       assert try_rpc(code, message, fun, *args, **kwds), \"No exception raised\"\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 143, in try_rpc\r\n                                       message, e.error['message']))\r\n                                   AssertionError: Expected substring not found in error message:\r\n                                   substring: 'JSON value of type string is not of expected type array'\r\n                                   error message: 'Expected type array, got string'.\r\n```",
      "created_at" : "2022-07-29T13:49:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199309413",
      "id" : 1199309413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAJl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413/reactions"
      },
      "updated_at" : "2022-07-29T13:49:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thx @fanquake, pushed ðð¼.",
      "created_at" : "2022-07-29T13:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199311095",
      "id" : 1199311095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAj3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095/reactions"
      },
      "updated_at" : "2022-07-29T13:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would it make sense to first adapt the UniValue error messages so that these remain the same for client software? Otherwise this seems like it would be needlessly changing user space.\r\n\r\ngood point @jonatack. Will move into that direction.\r\n\r\nstill, the new error introduced in #25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n",
      "created_at" : "2022-07-29T17:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199785278",
      "id" : 1199785278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hg0U-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278/reactions"
      },
      "updated_at" : "2022-07-29T21:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> good point @jonatack. Will move into that direction.\r\n> still, the new error introduced in https://github.com/bitcoin/bitcoin/pull/25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n\r\nI really don't think we need to revert these changes (Â£25629), or have any sort of \"deprecation\" for the older messages.",
      "created_at" : "2022-07-29T21:32:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199959364",
      "id" : 1199959364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hhe1E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364/reactions"
      },
      "updated_at" : "2022-07-29T21:32:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25429](https://github.com/bitcoin/bitcoin/pull/25429) (refactor: Avoid UniValue copies by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-29T21:53:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199969179",
      "id" : 1199969179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HhhOb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179/reactions"
      },
      "updated_at" : "2022-07-29T21:53:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ACK, previously this was `\"JSON value is not an {} as expected\"`. Then, changed in fae5ce8795080018875227aee8613677f92e99ce.\r\n\r\nI think I wanted to use your wording, so mind to split this up into a separate pull?",
      "commit_id" : "53ce3b886f9fcb9e44ca9cbcaf8262c28a394cf4",
      "created_at" : "2022-07-30T07:20:17Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705",
      "id" : 933765705,
      "line" : 220,
      "node_id" : "PRRC_kwDOABII5843qCJJ",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : 6,
      "pull_request_review_id" : 1056245362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T07:20:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > good point @jonatack. Will move into that direction.\r\n> > still, the new error introduced in #25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n> \r\n> I really don't think we need to revert these changes (Â£25629), or have any sort of \"deprecation\" for the older messages.\r\n\r\nThinking about this for a second time, and.. agree.  It doesn't make sense to build any client based on a json parsing error.. if the RPC command is expecting an int and receives a string, it will always fail and never execute the command. So the new error description shouldn't affect anyone. Will just drop the first commit.",
      "created_at" : "2022-07-30T15:15:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200218274",
      "id" : 1200218274,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HieCi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200218274/reactions"
      },
      "updated_at" : "2022-07-30T15:15:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200218274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933827499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "will just drop the revert (rationale: https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200218274).",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T15:16:19Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933827499",
      "id" : 933827499,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qROr",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056406409,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T15:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933827499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933850099"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure, no strong opinion. Just to clarify, you haven't \"dropped the revert\": It is not a revert, but a change to the string. Also, the string is still changed in this pull request.",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T15:54:07Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933850099",
      "id" : 933850099,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qWvz",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056424090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T15:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933850099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933856319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Just to clarify, you haven't \"dropped the revert\": It is not a revert, but a change to the string. \r\n\r\nyeah ok. I thought that the string before fae5ce87 was the \"Expected type {expected], got {type}\" thus why mentioned the revert wording but seems that not. We actually have two different errors for the same problematic.\r\nDepends on the RPC command, we either throw a \"JSON value of type {type} is not of expected type {expected}\" or the \"Expected type {expected], got {type}\".\r\n\r\n> Also, the string is still changed in this pull request.\r\n\r\nYeah, that is intended.\r\n\r\nUnless someone has a strong opinion about it, will actually move the sources to only use the \"JSON value of type {type} is not of expected type {expected}\" error description everywhere and drop the other, less informative, one.\r\n\r\nI think that It doesn't make sense to build any client based on a json parsing error (if the command is expecting an int and you provide a string, the command will fail anyway..), so no one should be affected by this change.",
      "commit_id" : "d48f5d1a65d99339d761da17db8ed1cd64457b3e",
      "created_at" : "2022-07-30T16:40:53Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933856319",
      "id" : 933856319,
      "in_reply_to_id" : 933765705,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843qYQ_",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : null,
      "pull_request_review_id" : 1056430593,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T16:43:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933856319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If we really want to change user space, would it make sense to opt for the most frequently used of the error message formats currently, and the shortest and most straightforward one?",
      "created_at" : "2022-07-30T16:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200250409",
      "id" : 1200250409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hil4p",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250409/reactions"
      },
      "updated_at" : "2022-07-30T16:47:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "(See https://github.com/bitcoin/bitcoin/pull/24944#discussion_r857437282 for a list of RPCs.)",
      "created_at" : "2022-07-30T16:51:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200250916",
      "id" : 1200250916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HimAk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250916/reactions"
      },
      "updated_at" : "2022-07-30T16:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200250916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> If we really want to change user space, would it make sense to opt for the most frequently used of the error message formats currently, and the shortest and most straightforward one?\r\n\r\nRight now, we are throwing two different errors for the same problematic.\r\n\r\n1) \"Expected type {expected], got {type}\" \r\n2) \"JSON value of type {type} is not of expected type {expected}\"\r\n\r\nThis PR aims to drop the first one as it is less informative than the second one.\r\n\r\nNote: aside from this changes, we still have the first error in `RPCTypeCheckObj`.",
      "created_at" : "2022-07-31T13:29:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1200425927",
      "id" : 1200425927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HjQvH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200425927/reactions"
      },
      "updated_at" : "2022-07-31T13:38:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200425927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
