[
   {
      "author_association" : "MEMBER",
      "body" : "In https://cirrus-ci.com/task/5952817063002112 (mempool_accept.py):\r\n```bash\r\n test  2022-07-29T13:45:02.711000Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 135, in try_rpc\r\n                                       fun(*args, **kwds)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in <lambda>\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/coverage.py\", line 49, in __call__\r\n                                       return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/authproxy.py\", line 144, in __call__\r\n                                       raise JSONRPCException(response['error'], status)\r\n                                   test_framework.authproxy.JSONRPCException: Expected type array, got string (-3)\r\n                                   During handling of the above exception, another exception occurred:\r\n                                   Traceback (most recent call last):\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 133, in main\r\n                                       self.run_test()\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/mempool_accept.py\", line 68, in run_test\r\n                                       assert_raises_rpc_error(-3, 'JSON value of type string is not of expected type array', lambda: node.testmempoolaccept(rawtxs='ff00baar'))\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 126, in assert_raises_rpc_error\r\n                                       assert try_rpc(code, message, fun, *args, **kwds), \"No exception raised\"\r\n                                     File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 143, in try_rpc\r\n                                       message, e.error['message']))\r\n                                   AssertionError: Expected substring not found in error message:\r\n                                   substring: 'JSON value of type string is not of expected type array'\r\n                                   error message: 'Expected type array, got string'.\r\n```",
      "created_at" : "2022-07-29T13:49:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199309413",
      "id" : 1199309413,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAJl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413/reactions"
      },
      "updated_at" : "2022-07-29T13:49:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199309413",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thx @fanquake, pushed ðð¼.",
      "created_at" : "2022-07-29T13:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199311095",
      "id" : 1199311095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HfAj3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095/reactions"
      },
      "updated_at" : "2022-07-29T13:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199311095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would it make sense to first adapt the UniValue error messages so that these remain the same for client software? Otherwise this seems like it would be needlessly changing user space.\r\n\r\ngood point @jonatack. Will move into that direction.\r\n\r\nstill, the new error introduced in #25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n",
      "created_at" : "2022-07-29T17:30:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199785278",
      "id" : 1199785278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hg0U-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278/reactions"
      },
      "updated_at" : "2022-07-29T21:17:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199785278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> good point @jonatack. Will move into that direction.\r\n> still, the new error introduced in https://github.com/bitcoin/bitcoin/pull/25629 is much more descriptive, and helpful for the user, than the current one. Might be good to deprecate the old one and move to the new format.\r\n\r\nI really don't think we need to revert these changes (Â£25629), or have any sort of \"deprecation\" for the older messages.",
      "created_at" : "2022-07-29T21:32:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199959364",
      "id" : 1199959364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585Hhe1E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364/reactions"
      },
      "updated_at" : "2022-07-29T21:32:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199959364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25429](https://github.com/bitcoin/bitcoin/pull/25429) (refactor: Avoid UniValue copies by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-29T21:53:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#issuecomment-1199969179",
      "id" : 1199969179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25737",
      "node_id" : "IC_kwDOABII585HhhOb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179/reactions"
      },
      "updated_at" : "2022-07-29T21:53:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1199969179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ACK, previously this was `\"JSON value is not an {} as expected\"`. Then, changed in fae5ce8795080018875227aee8613677f92e99ce.\r\n\r\nI think I wanted to use your wording, so mind to split this up into a separate pull?",
      "commit_id" : "53ce3b886f9fcb9e44ca9cbcaf8262c28a394cf4",
      "created_at" : "2022-07-30T07:20:17Z",
      "diff_hunk" : "@@ -217,8 +217,7 @@ const UniValue& UniValue::operator[](size_t index) const\n void UniValue::checkType(const VType& expected) const\n {\n     if (typ != expected) {\n-        throw std::runtime_error{\"JSON value of type \" + std::string{uvTypeName(typ)} + \" is not of expected type \" +\n-                                 std::string{uvTypeName(expected)}};\n+        throw std::runtime_error{\"Expected type \" + std::string{uvTypeName(expected)} +  \", got \" + std::string{uvTypeName(typ)}};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25737#discussion_r933765705",
      "id" : 933765705,
      "line" : 220,
      "node_id" : "PRRC_kwDOABII5843qCJJ",
      "original_commit_id" : "a758ba62e9c70631971749af96337d94bc9cc974",
      "original_line" : 220,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/univalue/lib/univalue.cpp",
      "position" : 6,
      "pull_request_review_id" : 1056245362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25737",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-30T07:20:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/933765705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
