[
   {
      "author_association" : "MEMBER",
      "body" : "nice, Concept ACK",
      "created_at" : "2022-07-26T09:56:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1195271249",
      "id" : 1195271249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585HPmRR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195271249/reactions"
      },
      "updated_at" : "2022-07-26T09:56:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195271249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25951](https://github.com/bitcoin/bitcoin/pull/25951) (log: Move validation option logging to LoadChainstate() by MarcoFalke)\n* [#25908](https://github.com/bitcoin/bitcoin/pull/25908) (p2p: remove adjusted time by fanquake)\n* [#25862](https://github.com/bitcoin/bitcoin/pull/25862) (refactor, kernel: Remove gArgs accesses from dbwrapper and txdb by ryanofsky)\n* [#25193](https://github.com/bitcoin/bitcoin/pull/25193) (indexes: Read the locator's top block during init, allow interaction with reindex-chainstate by mzumsande)\n* [#25073](https://github.com/bitcoin/bitcoin/pull/25073) (test: Cleanup miner_tests by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-26T17:34:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1195778511",
      "id" : 1195778511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585HRiHP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195778511/reactions"
      },
      "updated_at" : "2022-08-30T01:24:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195778511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r936011990"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936011990"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::nMaxTipAge into ChainstateManager\" (1111ff10084e4446c2fbcaff65e6f0aa2a66a83e)\r\n\r\nWas going to suggest it would be better to avoid `using namespace` at global level in a header file, since it means anything that directly or indirectly includes the header has now has std symbols in the global namespace.\r\n\r\nBut I guess `src/qt/guiconstants.h` and `src/util/time.h` already do this so maybe we don't care.",
      "commit_id" : "fa82b44ca5d059c8db604af9d76e2ae1c099554f",
      "created_at" : "2022-08-02T20:45:53Z",
      "diff_hunk" : "@@ -5,11 +5,16 @@\n #ifndef BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n #define BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n \n+#include <chrono>\n #include <cstdint>\n #include <functional>\n \n class CChainParams;\n \n+using namespace std::chrono_literals;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r936011990",
      "id" : 936011990,
      "line" : 17,
      "node_id" : "PRRC_kwDOABII5843ymjW",
      "original_commit_id" : "1111ff10084e4446c2fbcaff65e6f0aa2a66a83e",
      "original_line" : 14,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 10,
      "pull_request_review_id" : 1059408089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936011990/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-02T20:53:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936011990",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r936315354"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936315354"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Jup, that was the goal of `src/util/time.h`. Happy to switch to using that include. Alternatively I can review a pull that changes this if there is need to and someone creates one.",
      "commit_id" : "fa82b44ca5d059c8db604af9d76e2ae1c099554f",
      "created_at" : "2022-08-03T07:14:02Z",
      "diff_hunk" : "@@ -5,11 +5,16 @@\n #ifndef BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n #define BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n \n+#include <chrono>\n #include <cstdint>\n #include <functional>\n \n class CChainParams;\n \n+using namespace std::chrono_literals;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r936315354",
      "id" : 936315354,
      "in_reply_to_id" : 936011990,
      "line" : 17,
      "node_id" : "PRRC_kwDOABII5843zwna",
      "original_commit_id" : "1111ff10084e4446c2fbcaff65e6f0aa2a66a83e",
      "original_line" : 14,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 10,
      "pull_request_review_id" : 1059805635,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936315354/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-03T07:14:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/936315354",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-03T09:23:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1203702915",
      "id" : 1203702915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585HvwyD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203702915/reactions"
      },
      "updated_at" : "2022-08-03T09:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203702915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2022-08-03T12:06:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1203862755",
      "id" : 1203862755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585HwXzj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203862755/reactions"
      },
      "updated_at" : "2022-08-03T12:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1203862755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seeing conflicts with a couple kernel PRs, so pinging @dongcarl to see if this interferes with anything",
      "created_at" : "2022-08-04T09:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1204972016",
      "id" : 1204972016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585H0mnw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204972016/reactions"
      },
      "updated_at" : "2022-08-04T09:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1204972016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r937941516"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937941516"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Jup, that was the goal of `src/util/time.h`. Happy to switch to using that include. Alternatively I can review a pull that changes this if there is need to and someone creates one.\r\n\r\nI'd go the opposite direction. I think it's better to say `using namespace std::chrono_literals;` than include `time.h`, which just makes it harder to understand where the literals are coming from. IMO it would be best to delete `using namespace std::chrono_literals;` from `time.h` and add it explicitly to any file that use literals.\r\n\r\nMy initial reaction was an objection to having `using namespace` in a header file at all since it is common advice \"Namespace using declarations should never appear in header files\" for reasons described https://stackoverflow.com/a/37376171. But these reasons do not really apply to namespaces specifically reserved for literals like chrono_literals.",
      "commit_id" : "fa3cac2b34df5be22cefb6b3983342bab5aad086",
      "created_at" : "2022-08-04T15:34:45Z",
      "diff_hunk" : "@@ -5,11 +5,16 @@\n #ifndef BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n #define BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n \n+#include <chrono>\n #include <cstdint>\n #include <functional>\n \n class CChainParams;\n \n+using namespace std::chrono_literals;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r937941516",
      "id" : 937941516,
      "in_reply_to_id" : 936011990,
      "line" : 17,
      "node_id" : "PRRC_kwDOABII584359oM",
      "original_commit_id" : "1111ff10084e4446c2fbcaff65e6f0aa2a66a83e",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 13,
      "pull_request_review_id" : 1062151476,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937941516/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-04T15:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937941516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r937946687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937946687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Happy to push any diff here or review a pull, if there is a motivation for the change.",
      "commit_id" : "fa3cac2b34df5be22cefb6b3983342bab5aad086",
      "created_at" : "2022-08-04T15:38:36Z",
      "diff_hunk" : "@@ -5,11 +5,16 @@\n #ifndef BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n #define BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n \n+#include <chrono>\n #include <cstdint>\n #include <functional>\n \n class CChainParams;\n \n+using namespace std::chrono_literals;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r937946687",
      "id" : 937946687,
      "in_reply_to_id" : 936011990,
      "line" : 17,
      "node_id" : "PRRC_kwDOABII58435-4_",
      "original_commit_id" : "1111ff10084e4446c2fbcaff65e6f0aa2a66a83e",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 13,
      "pull_request_review_id" : 1062162557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937946687/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-04T15:38:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/937946687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-04T16:54:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1205521746",
      "id" : 1205521746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585H2s1S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205521746/reactions"
      },
      "updated_at" : "2022-08-04T16:54:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1205521746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept and light Code Review ACK, very satisfying PR.",
      "created_at" : "2022-08-11T23:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1212581641",
      "id" : 1212581641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585IRocJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212581641/reactions"
      },
      "updated_at" : "2022-08-11T23:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1212581641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code Review ACK fa738b8a988dd0e0700df9ca11a7819a2784546b\r\n\r\nShuffling between `AppInitParameterInteraction` and `AppInitMain` seem safe because the code being moved only logically depend on static variables and `chainparams`, which is const throughout and set before `AppInitParameterInteraction` and `AppInitMain` are called.\r\n\r\nFollowups:\r\n1. Have `ChainstateManager` own an `std::optional` `scriptcheckqueue` so thereâs a single (local) source of truth for whether or not to enable parallel script checks\r\n2. Add a `ApplyArgsManOptions` for `ChainstateManager::Options` (already done in #25623, but needs to incorporate the new members introduced in this PR)\r\n\r\nMarco: Any reason these commits are \"Unverified\"?\r\n",
      "created_at" : "2022-08-16T17:58:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1216968702",
      "id" : 1216968702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585IiXf-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1216968702/reactions"
      },
      "updated_at" : "2022-08-16T17:58:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1216968702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2022-08-19T13:58:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1220714257",
      "id" : 1220714257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585Iwp8R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1220714257/reactions"
      },
      "updated_at" : "2022-08-19T13:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1220714257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Followups:\r\n\r\nGood idea.\r\n\r\n> Marco: Any reason these commits are \"Unverified\"?\r\n\r\nYes, this is a stick I threw in the mud so that you can't trust Microsoft/GitHub to mark my commits as verified. If you care about this, you can verify it locally, but it seems no one does that anyway.",
      "created_at" : "2022-08-19T14:02:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1220718195",
      "id" : 1220718195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585Iwq5z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1220718195/reactions"
      },
      "updated_at" : "2022-08-19T14:02:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1220718195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951230133"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951230133"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed the namespace (though, conceptually I did the opposite of what you asked for)",
      "commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "created_at" : "2022-08-22T09:43:26Z",
      "diff_hunk" : "@@ -5,11 +5,16 @@\n #ifndef BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n #define BITCOIN_KERNEL_CHAINSTATEMANAGER_OPTS_H\n \n+#include <chrono>\n #include <cstdint>\n #include <functional>\n \n class CChainParams;\n \n+using namespace std::chrono_literals;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951230133",
      "id" : 951230133,
      "in_reply_to_id" : 936011990,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844sp61",
      "original_commit_id" : "1111ff10084e4446c2fbcaff65e6f0aa2a66a83e",
      "original_line" : 17,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : null,
      "pull_request_review_id" : 1080173092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951230133/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T09:43:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951230133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2022-08-22T11:14:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1222207762",
      "id" : 1222207762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585I2WkS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1222207762/reactions"
      },
      "updated_at" : "2022-08-22T11:14:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1222207762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951741753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951741753"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::nMaxTipAge into ChainstateManager\" (fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0)\r\n\r\nInstead converting DEFAULT_MAX_TIP_AGE from a duration to an int64 then back to a duration, might be more type-safe to write this as:\r\n\r\n```diff\r\n-            .max_tip_age = std::chrono::seconds{args.GetIntArg(\"-maxtipage\", Ticks<std::chrono::seconds>(DEFAULT_MAX_TIP_AGE))},\r\n+            .max_tip_age = std::optional<std::chrono::seconds>{args.GetIntArg(\"-maxtipage\")}.value_or(DEFAULT_MAX_TIP_AGE),\r\n```",
      "commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "created_at" : "2022-08-22T17:59:08Z",
      "diff_hunk" : "@@ -1403,6 +1404,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         const ChainstateManager::Options chainman_opts{\n             .chainparams = chainparams,\n             .adjusted_time_callback = GetAdjustedTime,\n+            .max_tip_age = std::chrono::seconds{args.GetIntArg(\"-maxtipage\", Ticks<std::chrono::seconds>(DEFAULT_MAX_TIP_AGE))},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951741753",
      "id" : 951741753,
      "line" : 1409,
      "node_id" : "PRRC_kwDOABII5844um05",
      "original_commit_id" : "fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0",
      "original_line" : 1407,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 25,
      "pull_request_review_id" : 1080935292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951741753/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T18:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951741753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951746852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951746852"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::nMaxTipAge into ChainstateManager\" (fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0)\r\n\r\nIf rebasing on #25905, would be nice to move this comment to the options struct to preserve it",
      "commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "created_at" : "2022-08-22T18:04:09Z",
      "diff_hunk" : "@@ -881,6 +879,9 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    //! If the tip is older than this, the node is considered to be in initial block download.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951746852",
      "id" : 951746852,
      "line" : 889,
      "node_id" : "PRRC_kwDOABII5844uoEk",
      "original_commit_id" : "fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0",
      "original_line" : 882,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 31,
      "pull_request_review_id" : 1080935292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951746852/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T18:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951746852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951768277"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951768277"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::nMinimumChainWork into ChainstateManager\" (fa50c08f34ba5ae9f5d9c5df76542f87cb859f54)\r\n\r\nThroughout the PR, instead of moving `-checkblockindex/` / `-checkpoints/` / `-assumevalid/` / `-minimumchainwork/` / `-maxtipage` options parsing code from `AppInitParameterInteraction` function to `AppInitMain`, I think it would be better to move it to a function that only parses arguments (`node::ReadValidationArgs(const ArgsManager& args, ChainstateManagerOpts& options)` or similar). As long as the code needs to move anyway, better to move it to a place where it can be indepedently called and tested and doesn't complicate `AppInitMain`.",
      "commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "created_at" : "2022-08-22T18:25:47Z",
      "diff_hunk" : "@@ -1365,6 +1351,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     } else {\n         LogPrintf(\"Validating signatures for all blocks.\\n\");\n     }\n+    arith_uint256 nMinimumChainWork;\n+    if (args.IsArgSet(\"-minimumchainwork\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951768277",
      "id" : 951768277,
      "line" : 1352,
      "node_id" : "PRRC_kwDOABII5844utTV",
      "original_commit_id" : "fa50c08f34ba5ae9f5d9c5df76542f87cb859f54",
      "original_line" : 1355,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 26,
      "pull_request_review_id" : 1080935292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951768277/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T18:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951768277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951782729"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951782729"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::g_parallel_script_checks into ChainstateManager\" (fa39cf85d411e763d77f85d1e860e624e4a8e18b)\r\n\r\nNot directly relevant to this PR (unless you want to add a todo comment), but since ChainstateManagerOpts is a kernel struct exposed to `bitcoin-chainstate.cpp`, probably it doesn't make sense to expose a boolean `parallel_script_checks` kernel option which is separate option than the number of script verification threads. Better to have one option and avoid inconsistencies.",
      "commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "created_at" : "2022-08-22T18:40:14Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    const bool parallel_script_checks{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r951782729",
      "id" : 951782729,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII5844uw1J",
      "original_commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "original_line" : 30,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 4,
      "pull_request_review_id" : 1080935292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951782729/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T18:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951782729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-25T08:14:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1226931360",
      "id" : 1226931360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585JIXyg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226931360/reactions"
      },
      "updated_at" : "2022-08-25T08:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226931360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r955889347"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955889347"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thx, rebased",
      "commit_id" : "fa310b9a8777bc2c92ccb41a5e51fc85000c13dc",
      "created_at" : "2022-08-26T10:09:54Z",
      "diff_hunk" : "@@ -881,6 +879,9 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    //! If the tip is older than this, the node is considered to be in initial block download.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r955889347",
      "id" : 955889347,
      "in_reply_to_id" : 951746852,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844-bbD",
      "original_commit_id" : "fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0",
      "original_line" : 882,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1086733259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955889347/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T10:09:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955889347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r955891951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955891951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, leaving as independent change, that can be done before or after the changes in this pull request",
      "commit_id" : "fa310b9a8777bc2c92ccb41a5e51fc85000c13dc",
      "created_at" : "2022-08-26T10:12:57Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    const bool parallel_script_checks{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r955891951",
      "id" : 955891951,
      "in_reply_to_id" : 951782729,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII5844-cDv",
      "original_commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "original_line" : 33,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 26,
      "pull_request_review_id" : 1086736762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955891951/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T10:12:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/955891951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020328"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020328"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, reworked",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T13:02:52Z",
      "diff_hunk" : "@@ -1403,6 +1404,7 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n         const ChainstateManager::Options chainman_opts{\n             .chainparams = chainparams,\n             .adjusted_time_callback = GetAdjustedTime,\n+            .max_tip_age = std::chrono::seconds{args.GetIntArg(\"-maxtipage\", Ticks<std::chrono::seconds>(DEFAULT_MAX_TIP_AGE))},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020328",
      "id" : 956020328,
      "in_reply_to_id" : 951741753,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844-7Zo",
      "original_commit_id" : "fa6744c42e8bafd2769dd90e4b00af92e5dd4fe0",
      "original_line" : 1409,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1086924604,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020328/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T13:02:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020541"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thx, reworked",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T13:03:07Z",
      "diff_hunk" : "@@ -1365,6 +1351,20 @@ bool AppInitMain(NodeContext& node, interfaces::BlockAndHeaderTipInfo* tip_info)\n     } else {\n         LogPrintf(\"Validating signatures for all blocks.\\n\");\n     }\n+    arith_uint256 nMinimumChainWork;\n+    if (args.IsArgSet(\"-minimumchainwork\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020541",
      "id" : 956020541,
      "in_reply_to_id" : 951768277,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844-7c9",
      "original_commit_id" : "fa50c08f34ba5ae9f5d9c5df76542f87cb859f54",
      "original_line" : 1352,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1086924917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020541/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T13:03:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nvm, reworked here",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T13:03:16Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    const bool parallel_script_checks{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956020688",
      "id" : 956020688,
      "in_reply_to_id" : 951782729,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5844-7fQ",
      "original_commit_id" : "fa39cf85d411e763d77f85d1e860e624e4a8e18b",
      "original_line" : 33,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : null,
      "pull_request_review_id" : 1086925126,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020688/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T13:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956020688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956149559"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956149559"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::hashAssumeValid into ChainstateManager\" (fa08f7aec6418abe78490b3d3350330e8959b336)\r\n\r\nThis is probably something that should be addressed in followup, rather than this PR, but I think as a general rule, libbitcoinkernel should try to have the same defaults as bitcoind, but in this case there's a difference. By default bitcoind will set this to `chainparams.GetConsensus().defaultAssumeValid` and use that block, but libbitcoinkernel will leave this null and validate all blocks.\r\n\r\nI think a good way to address this would be to change the type from `uint256` to `optional<uint256>`, let `IsNull()` and block hash values keep their current meanings, and if the option is not set, let `nullopt` make validation code use the chainparams `defaultAssumeValid` value.\r\n\r\nIf you don't want a change like that in this PR, I think it would be good to at least clarify the comment, by adding a note that caller can manually set this to `CChainParams.GetConsensus().defaultAssumeValid()` if they want default validation behavior. It might also be good to do set this in the `bitcoin-chainstate` example, though that would be a change in behavior there.",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T15:13:38Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956149559",
      "id" : 956149559,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII5844_a83",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 29,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 13,
      "pull_request_review_id" : 1087117456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956149559/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T16:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956149559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956166460"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956166460"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::hashAssumeValid into ChainstateManager\" (fa08f7aec6418abe78490b3d3350330e8959b336)\r\n\r\nThis is fine for now, but I wonder if ultimately we want to have log prints about important options in the command line parsing code, rather than places options are actually applied. These prints seem like they would be helpful to have in libitcoinkernel applications, not just in bitcoind, but now they are only in bitcoind. Could be better to move them someplace like `LoadChainstate` or `InitializeChainstate` later so they show up consistently when they are used.",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T15:31:37Z",
      "diff_hunk" : "@@ -12,6 +12,13 @@\n namespace node {\n void ApplyArgsManOptions(const ArgsManager& args, ChainstateManager::Options& opts)\n {\n+    opts.assumed_valid_block = uint256S(args.GetArg(\"-assumevalid\", opts.chainparams.GetConsensus().defaultAssumeValid.GetHex()));\n+    if (!opts.assumed_valid_block.IsNull()) {\n+        LogPrintf(\"Assuming ancestors of block %s have valid signatures.\\n\", opts.assumed_valid_block.GetHex());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956166460",
      "id" : 956166460,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII5844_fE8",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 17,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/node/chainstatemanager_args.cpp",
      "position" : 6,
      "pull_request_review_id" : 1087117456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956166460/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T16:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956166460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956177875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956177875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::fCheckBlockIndex into ChainstateManager\" (fa4d9f22291bbf23683b7daab20da63c6974af42)\r\n\r\nThe earlier comment about `assumed_valid_block` also applies to `check_block_index`. Instead of `bitcoind` and `libbitcoinkernel` using the same defaults, `bitcoind` defaults to `chainparams.DefaultConsistencyChecks()` while `libbitcoinkernel` defaults to false. Would be good to add a comment here mentioning that this could be set to the `CChainParams.DefaultConsistencyChecks()` value. Or to make this a tristate `std::optional<bool>` where `true` and `false` have current behavior and `nullopt` falls back to the chainparams.",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T15:45:09Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    bool check_block_index{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956177875",
      "id" : 956177875,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5844_h3T",
      "original_commit_id" : "fa4d9f22291bbf23683b7daab20da63c6974af42",
      "original_line" : 30,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 4,
      "pull_request_review_id" : 1087117456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956177875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T16:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956177875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956179506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956179506"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::fCheckBlockIndex into ChainstateManager\" (fa4d9f22291bbf23683b7daab20da63c6974af42)\r\n\r\nStale comment, could say check_block_index option or m_options.check_block_index",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T15:47:00Z",
      "diff_hunk" : "@@ -688,7 +687,7 @@ class CChainState\n     /**\n      * Make various assertions about the state of the block index.\n      *\n-     * By default this only executes fully when using the Regtest chain; see: fCheckBlockIndex.\n+     * By default this only executes fully when using the Regtest chain; see: m_check_block_index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956179506",
      "id" : 956179506,
      "line" : 686,
      "node_id" : "PRRC_kwDOABII5844_iQy",
      "original_commit_id" : "fa4d9f22291bbf23683b7daab20da63c6974af42",
      "original_line" : 690,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 13,
      "pull_request_review_id" : 1087117456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956179506/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T16:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956179506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956188531"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956188531"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::g_parallel_script_checks into ChainstateManager\" (facf86b84be761ae7c9885397c52d47d5574c32c)\r\n\r\nSimilar to earlier comments, I think this option exposes differences between `bitcoind` and `libbitcoinkernel` behavior that are possible footguns, and could be documented better.\r\n\r\nI'd expand the comment to say that applications changing this value need to first call `StartScriptCheckWorkerThreads` with some number of threads, and then set this option to the same value.\r\n\r\nIn the future it would be good to change the kernel to read this option and call `StartScriptCheckWorkerThreads` directly. Also to change the option type from `int` to `optional<int>` so `libbitcoinkernel` applications and `bitcoind` can have the same default behavior.",
      "commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "created_at" : "2022-08-26T15:57:56Z",
      "diff_hunk" : "@@ -27,6 +27,11 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /**\n+     * How many dedicated script-checking threads are running.\n+     * 0 indicates all script checking is done on the main threadMessageHandler thread.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r956188531",
      "id" : 956188531,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5844_kdz",
      "original_commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 6,
      "pull_request_review_id" : 1087117456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956188531/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-26T16:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/956188531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957080634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957080634"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would be best if the libbitcoinkernel context initialization took care of initializing the value instead of turning all validation globals into tristates and all places where they are used, rely on ternary operators.\r\n\r\nThus, I think it is best to keep this as `uint256`.",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-29T09:18:47Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957080634",
      "id" : 957080634,
      "in_reply_to_id" : 956149559,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII5845C-Q6",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 29,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 33,
      "pull_request_review_id" : 1088328354,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957080634/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-30T19:23:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957080634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957176342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957176342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, done in https://github.com/bitcoin/bitcoin/pull/25951",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-29T10:56:14Z",
      "diff_hunk" : "@@ -12,6 +12,13 @@\n namespace node {\n void ApplyArgsManOptions(const ArgsManager& args, ChainstateManager::Options& opts)\n {\n+    opts.assumed_valid_block = uint256S(args.GetArg(\"-assumevalid\", opts.chainparams.GetConsensus().defaultAssumeValid.GetHex()));\n+    if (!opts.assumed_valid_block.IsNull()) {\n+        LogPrintf(\"Assuming ancestors of block %s have valid signatures.\\n\", opts.assumed_valid_block.GetHex());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957176342",
      "id" : 957176342,
      "in_reply_to_id" : 956166460,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII5845DVoW",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 17,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/node/chainstatemanager_args.cpp",
      "position" : 46,
      "pull_request_review_id" : 1088462880,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957176342/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-29T10:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957176342",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957177842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957177842"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same as above. I think it would be best to add a convenience function for libbitcoinkernel users to init the values here instead of using tristates everywhere.",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-29T10:58:10Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    bool check_block_index{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957177842",
      "id" : 957177842,
      "in_reply_to_id" : 956177875,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845DV_y",
      "original_commit_id" : "fa4d9f22291bbf23683b7daab20da63c6974af42",
      "original_line" : 35,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1088464889,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957177842/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-29T10:58:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957177842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957183985"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957183985"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> In the future it would be good to change the kernel to read this option and call StartScriptCheckWorkerThreads directly.\r\n\r\nI wonder where this should be done, ideally. Doing it in the `for` loop that constructs the chainstatemanager and calls `LoadChainstate`, ... may cause it being called several times, as it is a loop. Though, we only want to start the threads once.\r\n\r\n",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-29T11:05:41Z",
      "diff_hunk" : "@@ -27,6 +27,11 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /**\n+     * How many dedicated script-checking threads are running.\n+     * 0 indicates all script checking is done on the main threadMessageHandler thread.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957183985",
      "id" : 957183985,
      "in_reply_to_id" : 956188531,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5845DXfx",
      "original_commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 25,
      "pull_request_review_id" : 1088473473,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957183985/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-29T11:05:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957183985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957188137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957188137"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, fixed in the last force push",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-29T11:11:16Z",
      "diff_hunk" : "@@ -688,7 +687,7 @@ class CChainState\n     /**\n      * Make various assertions about the state of the block index.\n      *\n-     * By default this only executes fully when using the Regtest chain; see: fCheckBlockIndex.\n+     * By default this only executes fully when using the Regtest chain; see: m_check_block_index.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957188137",
      "id" : 957188137,
      "in_reply_to_id" : 956179506,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845DYgp",
      "original_commit_id" : "fa4d9f22291bbf23683b7daab20da63c6974af42",
      "original_line" : 690,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1088479564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957188137/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-29T11:11:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/957188137",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958850399"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958850399"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957080634\r\n\r\n> I think it would be best if the libbitcoinkernel context initialization took care of initializing the value instead of turning all validation globals into tristates and all places where they are used, rely on ternary operators.\r\n> \r\n> Thus, I think it is best to keep this as `uint256`.\r\n\r\nI'd also try avoid using ternary operators in places where options are used and instead define accessor methods on chain or block classes to combine validation options & chain params as needed.\r\n\r\nAnd I'm not suggesting turning all validation options into tristates. But if a validation option is supposed to override a chainparam value (or more generally, if a validation option is supposed to have a nonconstant default value), I think representing that option with `std::optional` is a better choice than hardcoding it with some incorrect default value different from the real default bitcoind would use. Using `std::optional` would avoid defining struct fields that have misleading default values, make validation code more self-contained by computing option values in kernel code instead of node or init code, and make kernel API simpler and harder to misuse.\r\n\r\nIn any case, this suggestion could considered for a followup, since this PR is just moving global variables into a struct, and doesn't need to change variable types or libbitcoinkernel default behavior at the same time. The struct fields could be better documented to suggest better defaults, but it's not like the old global variables had good documentation either :shrug: ",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-30T19:24:17Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958850399",
      "id" : 958850399,
      "in_reply_to_id" : 956149559,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII5845JuVf",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 29,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 33,
      "pull_request_review_id" : 1090852860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958850399/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-30T19:46:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958850399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958851795"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958851795"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Same as above\r\n\r\n(thread is https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957080634)",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-30T19:26:12Z",
      "diff_hunk" : "@@ -27,6 +27,7 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    bool check_block_index{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958851795",
      "id" : 958851795,
      "in_reply_to_id" : 956177875,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845JurT",
      "original_commit_id" : "fa4d9f22291bbf23683b7daab20da63c6974af42",
      "original_line" : 35,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1090852860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958851795/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-30T19:46:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958851795",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958862923"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958862923"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25704#discussion_r957183985\r\n\r\n> I wonder where this should be done, ideally. Doing it in the `for` loop that constructs the chainstatemanager and calls `LoadChainstate`, ... may cause it being called several times, as it is a loop. Though, we only want to start the threads once.\r\n\r\nMaybe a simpler approach is to drop the `script_check_threads` variable and use `scriptcheckqueue.m_worker_threads.size()` in validation code instead.",
      "commit_id" : "faf47bf54b8f73ebb523a81a7f5f782f7b82b1fb",
      "created_at" : "2022-08-30T19:41:01Z",
      "diff_hunk" : "@@ -27,6 +27,11 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /**\n+     * How many dedicated script-checking threads are running.\n+     * 0 indicates all script checking is done on the main threadMessageHandler thread.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r958862923",
      "id" : 958862923,
      "in_reply_to_id" : 956188531,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII5845JxZL",
      "original_commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 25,
      "pull_request_review_id" : 1090852860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958862923/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-30T19:46:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/958862923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-01T19:09:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#issuecomment-1234677209",
      "id" : 1234677209,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25704",
      "node_id" : "IC_kwDOABII585Jl63Z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1234677209/reactions"
      },
      "updated_at" : "2022-09-01T19:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1234677209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964147239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964147239"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Move ::nMinimumChainWork into ChainstateManager\" (fa844d25eb1cfb081b81a322ef9ba656ffba3de9)\r\n\r\nOne not great thing about this change is it delays validation of this option until after `bitcoind` daemonizes. So `bitcoind` service could appear to start successfully returning exit code 0, and then immediately fail. I think more ideally `AppInitParameterInteraction` would continue to validate options and report errors early.\r\n\r\nIt may be a good idea to add a `util::Result<ChainstateManager::Options> MakeChainManOpts(ArgsManager&)` helper function that could be called from both `AppInitParameterInteraction` and `AppInitMain` to validate options earlier and use them later.",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-06T20:40:46Z",
      "diff_hunk" : "@@ -924,16 +924,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     fCheckBlockIndex = args.GetBoolArg(\"-checkblockindex\", chainparams.DefaultConsistencyChecks());\n     fCheckpointsEnabled = args.GetBoolArg(\"-checkpoints\", DEFAULT_CHECKPOINTS_ENABLED);\n \n-    if (args.IsArgSet(\"-minimumchainwork\")) {\n-        const std::string minChainWorkStr = args.GetArg(\"-minimumchainwork\", \"\");\n-        if (!IsHexNumber(minChainWorkStr)) {\n-            return InitError(strprintf(Untranslated(\"Invalid non-hex (%s) minimum chain work value specified\"), minChainWorkStr));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964147239",
      "id" : 964147239,
      "line" : 928,
      "node_id" : "PRRC_kwDOABII5845d7gn",
      "original_commit_id" : "fa844d25eb1cfb081b81a322ef9ba656ffba3de9",
      "original_line" : 930,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 7,
      "pull_request_review_id" : 1098218404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964147239/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-06T20:50:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964147239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964398655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964398655"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(this was done, so closing thread for now)",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T05:34:46Z",
      "diff_hunk" : "@@ -27,6 +27,11 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /**\n+     * How many dedicated script-checking threads are running.\n+     * 0 indicates all script checking is done on the main threadMessageHandler thread.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964398655",
      "id" : 964398655,
      "in_reply_to_id" : 956188531,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845e44_",
      "original_commit_id" : "facf86b84be761ae7c9885397c52d47d5574c32c",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : null,
      "pull_request_review_id" : 1098544675,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964398655/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T05:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964398655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964473238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964473238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is also true for all other settings, for example `-maxmempool`, `-maxuploadtarget`, ... . `AppInitParameterInteraction` was only meant for setting *interaction*, not really for parsing. If there should be an effort to parse all settings before daemonization, I think this should be done separate from the changes here?",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T07:19:03Z",
      "diff_hunk" : "@@ -924,16 +924,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     fCheckBlockIndex = args.GetBoolArg(\"-checkblockindex\", chainparams.DefaultConsistencyChecks());\n     fCheckpointsEnabled = args.GetBoolArg(\"-checkpoints\", DEFAULT_CHECKPOINTS_ENABLED);\n \n-    if (args.IsArgSet(\"-minimumchainwork\")) {\n-        const std::string minChainWorkStr = args.GetArg(\"-minimumchainwork\", \"\");\n-        if (!IsHexNumber(minChainWorkStr)) {\n-            return InitError(strprintf(Untranslated(\"Invalid non-hex (%s) minimum chain work value specified\"), minChainWorkStr));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964473238",
      "id" : 964473238,
      "in_reply_to_id" : 964147239,
      "line" : 928,
      "node_id" : "PRRC_kwDOABII5845fLGW",
      "original_commit_id" : "fa844d25eb1cfb081b81a322ef9ba656ffba3de9",
      "original_line" : 930,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 7,
      "pull_request_review_id" : 1098647801,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964473238/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T07:19:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964473238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964487753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964487753"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, I can see how `std::optional` is helpful. Though, I'd prefer to at least wrap the ternary operators into a member function. Maybe I should add a `const uint256&  ChainstateManager::AssumedValidBlock() const { return m_settings.assumed_valid_block ? *m_settings.assumed_valid_block : GetConsensus().defaultAssumeValid; }`?",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T07:34:01Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964487753",
      "id" : 964487753,
      "in_reply_to_id" : 956149559,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845fOpJ",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 35,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1098668504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964487753/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T07:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964487753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964494545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964494545"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> MakeChainManOpts\r\n\r\nAn alternative would be to do the parsing only once and put the result into some kind of context (the existing kernel context or a new init context)?",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T07:41:07Z",
      "diff_hunk" : "@@ -924,16 +924,6 @@ bool AppInitParameterInteraction(const ArgsManager& args, bool use_syscall_sandb\n     fCheckBlockIndex = args.GetBoolArg(\"-checkblockindex\", chainparams.DefaultConsistencyChecks());\n     fCheckpointsEnabled = args.GetBoolArg(\"-checkpoints\", DEFAULT_CHECKPOINTS_ENABLED);\n \n-    if (args.IsArgSet(\"-minimumchainwork\")) {\n-        const std::string minChainWorkStr = args.GetArg(\"-minimumchainwork\", \"\");\n-        if (!IsHexNumber(minChainWorkStr)) {\n-            return InitError(strprintf(Untranslated(\"Invalid non-hex (%s) minimum chain work value specified\"), minChainWorkStr));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r964494545",
      "id" : 964494545,
      "in_reply_to_id" : 964147239,
      "line" : 928,
      "node_id" : "PRRC_kwDOABII5845fQTR",
      "original_commit_id" : "fa844d25eb1cfb081b81a322ef9ba656ffba3de9",
      "original_line" : 930,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 7,
      "pull_request_review_id" : 1098677838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964494545/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T07:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/964494545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r965237339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965237339"
         }
      },
      "author_association" : "MEMBER",
      "body" : "FYI when @dongcarl and I discussed the generic pattern to use for overrides a few months back, I played around with (and liked) communicating via `std::optional` as well, like here: https://github.com/theuni/bitcoin/commit/7fad1352fb1aea12c41dfb8fccd8b220a58b694d\r\n\r\n\r\n> Though, I'd prefer to at least wrap the ternary operators into a member function. Maybe I should add a `const uint256& ChainstateManager::AssumedValidBlock() const { return m_settings.assumed_valid_block ? *m_settings.assumed_valid_block : GetConsensus().defaultAssumeValid; }`?\r\n\r\n\r\n+1 for the convenient short-hand.",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T20:21:53Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r965237339",
      "id" : 965237339,
      "in_reply_to_id" : 956149559,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845iFpb",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 35,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1099748169,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965237339/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T20:21:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965237339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r965241309"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965241309"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'd prefer to at least wrap the ternary operators into a member function. Maybe I should add a `const uint256& ChainstateManager::AssumedValidBlock() const { return m_settings.assumed_valid_block ? *m_settings.assumed_valid_block : GetConsensus().defaultAssumeValid; }`?\r\n\r\nYes that's what I meant by \"define accessor methods on chain or block classes to combine validation options & chain params as needed\"",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-07T20:27:08Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r965241309",
      "id" : 965241309,
      "in_reply_to_id" : 956149559,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845iGnd",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 35,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1099753625,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965241309/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-07T20:27:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/965241309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r966359022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966359022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hmm, on a second though I am wondering if this is a good idea. `std::optional` has cmp functions that accept `std::nullopt` (https://en.cppreference.com/w/cpp/utility/optional/operator_cmp). Thus, it wouldn't be a compile failure to not use the accessor method.\r\n\r\nIt might be better to \"flatten\" the options while storing them in m_options in the chainstatemanager constructor.",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-08T19:45:10Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r966359022",
      "id" : 966359022,
      "in_reply_to_id" : 956149559,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845mXfu",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 35,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1101326458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966359022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-08T19:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966359022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r966405236"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966405236"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure what issue you're referring to with the comparison functions. I don't think you ever need to call them.\r\n\r\nIn the `AssumedValidBlock` example above, you're returning a `uint256` not an `optional<uint256>`",
      "commit_id" : "fa158ab083c6f6d1e58a6aca10db5677695d803b",
      "created_at" : "2022-09-08T20:46:27Z",
      "diff_hunk" : "@@ -24,6 +25,8 @@ namespace kernel {\n struct ChainstateManagerOpts {\n     const CChainParams& chainparams;\n     const std::function<NodeClock::time_point()> adjusted_time_callback{nullptr};\n+    /** Block hash whose ancestors we will assume to have valid scripts without checking them. */\n+    uint256 assumed_valid_block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25704#discussion_r966405236",
      "id" : 966405236,
      "in_reply_to_id" : 956149559,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845mix0",
      "original_commit_id" : "fa08f7aec6418abe78490b3d3350330e8959b336",
      "original_line" : 35,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/kernel/chainstatemanager_opts.h",
      "position" : 28,
      "pull_request_review_id" : 1101394515,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25704",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966405236/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-08T20:47:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/966405236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
