[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My impression from looking at the REST interface the last time was also that it's not standard in several ways. But it also seemed unclear who is actually using the REST interface if I remember correctly. That made it hard to decide both if anyone is facing issues from the changes and even if it's actually worth making improvements at all.\r\n\r\nIs there a list of projects that are using the REST interface? I think that would be very helpful anyway, in order to collect targeted feedback from the actual users that these changes will affect.",
      "created_at" : "2022-08-07T16:45:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25752#issuecomment-1207444515",
      "id" : 1207444515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25752",
      "node_id" : "IC_kwDOABII585H-CQj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207444515/reactions"
      },
      "updated_at" : "2022-08-07T16:45:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207444515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> and even if it's actually worth making improvements at all.\r\n\r\nI think there's also a bit of a chicken-and-egg problem here: since the REST API is limited in functionality and not very easy-to-use, it will have little adoption, and because it has little adoption, it's not worked on much. \r\n\r\n> Is there a list of projects that are using the REST interface? I think that would be very helpful anyway, in order to collect targeted feedback from the actual users that these changes will affect.\r\n\r\nI agree, that would be useful to have. I have not seen such a list, and don't know about any big projects that currently use it. If I find anything, I'll keep track of it.",
      "created_at" : "2022-08-08T15:45:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25752#issuecomment-1208296520",
      "id" : 1208296520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25752",
      "node_id" : "IC_kwDOABII585IBSRI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208296520/reactions"
      },
      "updated_at" : "2022-08-08T15:45:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208296520",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is there a list of projects that are using the REST interface? I think that would be very helpful anyway, in order to collect targeted feedback from the actual users that these changes will affect.\r\n\r\nI use the REST interface in two of my projects:\r\n- My mempool-observer queries `/rest/mempool/contents.json` as I've found it to be faster than the`getrawmempool` RPC, especially significant when my mempool is full. Also, using the REST interface instead of the RPC interface, I don't have to bake in any user/pass configuration. Also, no dependency on JSON RPC library. Using e.g. a Python/other RPC->REST proxy as discussed in #23259 would work, but also means an additional service that can break. \r\n- A WIP project of mine similar to https://forkmonitor.info uses the `getchaintips` RPC (I think this information could also be exposed via REST) and queries headers both via `getblockheader` and the old `/rest/headers/<COUNT>/<BLOCK-HASH>.bin` REST interface. I need to query many headers, so I prefer getting 2000 headers via REST than headers one-by-one via the `getblockheader` RPC (maybe getting a range of headers should be added to the RPC interface). I currently use the old, deprecated REST interface as I want to support older Bitcoin Core versions (similar to forkmonitor.info I want to query e.g. Bitcoin Core version v0.10 and v23 to compare their chain tips). Going forward, I think I will have to keep functionality for the deprecated interface and add the new interface.\r\n\r\nHappy to provide more usage feedback - feel free to ask.\r\n\r\nI think, if we keep the REST interface it's worth modernizing it. The proposed changes in your first three PRs seem reasonable.  Having a `-deprecatedrest` option for a while (one or two major releases) makes sense, but the old endpoints should be dropped eventually. \r\n",
      "created_at" : "2022-08-09T12:38:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25752#issuecomment-1209327967",
      "id" : 1209327967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25752",
      "node_id" : "IC_kwDOABII585IFOFf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209327967/reactions"
      },
      "updated_at" : "2022-08-09T12:38:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1209327967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "why not just /rest/1/ or something to denote request versions? and then we can eventually drop the \"implicit v0\" query version / only turn it on if -deprecatedrest=0 is set? (parsed as comma separated list of deprecated rest versions)?\r\n\r\nThis way a node can serve both upgraded and unupgraded applications (e.g., suppose you run @0xB10C's services that upgrade AND some lightning thing @TheBlueMatt uses rest for, then both can work)",
      "created_at" : "2022-08-10T01:18:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/25752#issuecomment-1210045142",
      "id" : 1210045142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25752",
      "node_id" : "IC_kwDOABII585IH9LW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210045142/reactions"
      },
      "updated_at" : "2022-08-10T01:18:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210045142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
