[
   {
      "body" : "Neither getwork nor getmemorypool should be even trying to call CreateNewBlock in parallel... they cache its results.\n\n(Not that there's anything wrong with this  optimization.)",
      "created_at" : "2012-06-21T21:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6494845",
      "id" : 6494845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-21T21:23:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6494845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "The former does not follow from the latter.",
      "created_at" : "2012-06-21T22:18:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6496026",
      "id" : 6496026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-21T22:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6496026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik There should be a mutex on the cache, so I'm not sure how you'd get into CreateNewBlock concurrently. Unless you're thinking of getwork and getmemorypool at the same time, but I can't think of any reason to support that...",
      "created_at" : "2012-06-21T22:49:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6496621",
      "id" : 6496621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-21T22:49:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6496621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "This also conflicts with #1240 as-is: can copyFinal return map<uint256, CTransaction> instead?",
      "created_at" : "2012-06-21T23:50:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6497558",
      "id" : 6497558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-21T23:50:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6497558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "The cache is only accessed when you think it would be accessed: quickly upon read, or after building a block.  The cache's lock need not be held while building a new block.",
      "created_at" : "2012-06-21T23:51:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6497564",
      "id" : 6497564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-21T23:51:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6497564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "IMO, it's better to hold it while building a new block: instead of having 20 parallel CreateNewBlock running at potentially 1/20th the speed each for no benefit, you get a single one that finishes in 1/20th the time and the rest use the cached value from...",
      "created_at" : "2012-06-22T00:00:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6497691",
      "id" : 6497691,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-22T00:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6497691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Closing, not enough interest.  It remains a valid technique if we want to explore this avenue in the future.",
      "created_at" : "2012-06-27T15:51:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1489#issuecomment-6607226",
      "id" : 6607226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1489",
      "updated_at" : "2012-06-27T15:51:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/6607226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   }
]
