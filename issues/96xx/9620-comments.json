[
   {
      "body" : "Just to clarify: that address is yours (ie no money was lost, only isnt being displayed by a normal \"getbalance\" rpc call (ie getunconfirmedbalance is correct)?",
      "created_at" : "2017-01-24T02:39:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274684906",
      "id" : 274684906,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T02:39:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274684906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "The money isn't showing in either `getunconfirmedbalance` or `getbalance`. I'll let you know what happens after it confirms, but I strongly suspect it'll arrive back in my (visible) wallet. I have the private key for the address it's in (I double checked that :P), so there's absolutely no risk in that sense.\r\n\r\nI've never had a problem with the wallet and unconfirmed change, but it seems to have been triggered by the spending of spending unconfirmed change, if I had to guess.\r\n\r\n\r\nBut my big concern is, what would happen if the transaction chain never confirmed? Seems like it's possible someone could \"lose\" money this way",
      "created_at" : "2017-01-24T04:04:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274704309",
      "id" : 274704309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T04:12:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274704309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Also not sure if it's relevant, but sometimes I send money to myself.  (because sometimes my users make on-chain payments to each other). So in that case, both the change output and the other output are owned by my wallet.\r\n\r\nThe (sole) input that f600e0... is sourcing is one of those cases. It sources  702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b:0  which is owned by my wallet (non change ouput). And 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b:1 was the change in that case.\r\n\r\nNot sure if it's relevant, I suspect not, but just throwing that out there. I strongly suspect the issue was triggered by 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b when it sourced a bunch of unconfirmed change outputs, (who also might have sourced unconfirmed change outputs?)",
      "created_at" : "2017-01-24T04:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274707290",
      "id" : 274707290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T04:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274707290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "I assume you are running 0.13.2, right?\n",
      "created_at" : "2017-01-24T14:15:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274813456",
      "id" : 274813456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T14:15:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274813456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Yeah.\r\nAlso the problem is much worse than I thought, that transaction has confirmed and the funds are no where to be seen.\r\n\r\n$ bitcoin-cli listunspent 0 | grep f600e0a64f2166deb03804499c09e1b3c07636a2d5725f4a10852774da02dd8a\r\n\r\nreturn nothing as well. However, that change address is actually in my wallet.",
      "created_at" : "2017-01-24T14:23:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274815741",
      "id" : 274815741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T14:24:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274815741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Well the good news is that I ran `bitcoind -rescan` and it found my money =)",
      "created_at" : "2017-01-24T15:36:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274838662",
      "id" : 274838662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T15:36:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274838662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Can you elaborate on what kinds of action you've done with this wallet? (RPCs, GUI operations, copying files around...). Balances disappearing is very serious, and we should figure out what caused this.",
      "created_at" : "2017-01-24T15:39:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274839625",
      "id" : 274839625,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T15:39:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274839625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I don't have the gui installed, so I don't do anything weird with that. I only interact with it over rpc, 99% of the time itor do anything weird. But I use it as a backend for my service and it gets hit by a lot of rpc calls to `sendtoaddress`.\r\n\r\nAs far as I know, this is the first time it's ever really been forced to spend from a chain of unconfirmed transactions -- so I believe this is what must have triggered it.\r\n\r\nNot sure if it matters, but the wallet itself is a few years old (so it's non-hd) and I have `txindex=1` set",
      "created_at" : "2017-01-24T15:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274840035",
      "id" : 274840035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T15:43:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274840035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "I'm also using totally default settings regarding spending unconfirmed funds.\r\n\r\n\r\nI suspect it's related to this transaction: 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b\r\n\r\nWhich was generated via rpc `sendtoaddress 1JyZ2dJq2tz6RDTuNQfwg498Qu2CoCp7TG 66.6` where the interesting thing is that `1JyZ2dJq2tz6RDTuNQfwg498Qu2CoCp7TG` is actually part of my wallet. It's also worth noting that in order to create that transaction, it needed to source a bunch of unconfirmed transactions itself.\r\n\r\nThe next transaction was generated via rpc `sendtoaddress 1GUJWXTG9bCL72G2nPjEaWpSLC9FG5vfF2 0.0997`  actually sourced that unconfirmed money from the \"main\" output of 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b  (I guess because it trusts it, because it comes from me, even though it's not a change output?).\r\n\r\nAnd it was the change from _that_ send (that arrived in 19pozzqPQ6tmubTPGY5KXy3GR5agAaAedA) which appeared to have been permanently lost until I rescanned the wallet.\r\n\r\n---\r\n\r\nIt also seems like a pretty rare case. My wallet has made 126,591 sends and this appears to be the only case of it. I was kind of hoping it happened more often, and found all these lost riches after I did the rescan :(",
      "created_at" : "2017-01-24T15:55:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274844632",
      "id" : 274844632,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T16:09:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274844632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "I know you've already said this, but to just be 100% explicit, which getbalance call were you using?\r\n\r\n`getbalance` ?\r\n\r\nnot `getbalance '*'` or `getbalance ''`?\r\n\r\n",
      "created_at" : "2017-01-24T15:59:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274845980",
      "id" : 274845980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T15:59:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274845980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Yeah, I was using just normal `bitcoin-cli getbalance`. The actual reason I noticed was that my site couldn't process any more withdrawals, even though the wallet should've had lots of funds in it. (I don't programmatically query the balance, I just blindly fire off `sendtoaddress` rpc requests)\r\n\r\nWhen doing `bitcoin-cli listunspent 0` it also didn't show the output, both before and after the transaction had confirmed. (Although after the -rescan, it did)",
      "created_at" : "2017-01-24T16:00:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274846412",
      "id" : 274846412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T16:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274846412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "Could you check your debug.log for \r\n`AddToWallet f600e0a64f2166deb03804499c09e1b3c07636a2d5725f4a10852774da02dd8a`?\r\n\r\nIt should have appeared when you placed the transaction, again when that transaction was confirmed in a block, and again when you did the rescan and it got to that block.\r\n\r\n\r\n\r\n",
      "created_at" : "2017-01-24T16:26:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274854915",
      "id" : 274854915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T16:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274854915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "```\r\n$ cat ~/.bitcoin/debug.log | grep f600e0a64f2166deb03804499c09e1b3c07636a2d5725f4a10852774da02dd8a\r\n```\r\nOnly returns one entry:\r\n```\r\n2017-01-24 15:21:24 AddToWallet f600e0a64f2166deb03804499c09e1b3c07636a2d5725f4a10852774da02dd8a\r\n```\r\nfrom the time of rescanning.\r\n\r\n\r\nAlthough the first entry I see in my ~/.bitcoin/debug.log is very recent:\r\n2017-01-24 13:38:51 receive version message: /Bither1.6.0/: version 70001, blocks=449795, us=127.0.0.1:8333, peer=625536\r\n\r\n\r\nSeems like it's automatically truncated?",
      "created_at" : "2017-01-24T16:31:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274856464",
      "id" : 274856464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T16:36:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274856464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "This however is quite interesting:\r\n\r\n```\r\n$ cat ~/.bitcoin/debug.log | grep 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b\r\n2017-01-24 15:21:23 AddToWallet 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b  \r\n2017-01-24 15:21:23 Transaction e1a732892538809478e344bf47c513e41c5dc0eb33fd38d8d54695c79b3d9796 (in block 00000000000000000165a1a4b244278015d3d538d503609f2301199a7a3cea72) conflicts with wallet transaction 117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c (both spend 702a1bfe235405069e50340c10e0b8236e25124ab5bab89a87ab3859a4f97f3b:1)\r\n```\r\n\r\n\r\nSo transaction `e1a732892538809478e344bf47c513e41c5dc0eb33fd38d8d54695c79b3d9796` on the blockchain is a quick-and-dirty transaction I created (manually) and broadcasted myself to do some CPFP action.  While doing that, it seems to have conflicted with a transaction my wallet generated: `117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c` whose contents are:\r\n\r\n```\r\n010000000488083f430529034ff9418ff04b612bef176d327de22f3bb7e6625d2235587e5e000000006b483045022100f149050241f1fb1f54550471adf1affcd57e4cbb36e4148574a29a457f78687402200be84b23455077c9b9dac326c6017ea12d471ff63b4e6e8d07bdd63e3304d4b7012103b0af308aa07c4dbdb5ac7997588ba65335a103914aa2e390100d3bfa8d3da2aafeffffff887326bd759dee8a863767a03851c3edfc099dc9909c602d159a32de77e563fd000000006946304302206383b94705c164ffab60b7e24b27934d05cef017d8a607c553cb5e963ac1379b021f21d405918a8b7655f6ff3da6f37a34cdcf128678cd886c2b353352e10c6d3e012102cd3a1be957907775d65ef28cf57dd4cede822a50ac2dca03941f3565e22ef848feffffffb23889605c2ba89b378374e0e3a59326829e43448bfe75d68e91640c74b9d8ce010000006b483045022100955b7904ba49c12a32b832fd8a56bb92697c621d02003ccb0a8b46ff5455527f02200450eebfe6ff50e10e29cdf7d4a95da2e0547001233b70d97f1be3efa0d82d5c0121031ba7139f7c39f37f4c352c8b5cc25348e55cb7239e9a9b1fc1b4218e4970345dfeffffff3b7ff9a45938ab879ab8bab54a12256e23b8e0100c34509e06055423fe1b2a70010000006a473044022038d0d9d6bbe27a752130021efe6dfe72ab8da8818668f98a1d6086210cdc1f5f02207f9658ad2bb99d3bbf7e5854a1fdb986b55b9cdbd9fe35a959ff9e1f88fd811401210210b958b5f9c4c0ce64e0e03afb96d7eae2d53d4a534daf174ed8de766afc26e0feffffff02eb2e0000000000001976a9144a1e7cf8cee728aa3cacca6a4e02f5bafc9d3f6d88acd05e3000000000001976a9149925601955f59f337a20b752c2e93225683e878a88aca8dc0600\r\n```\r\n\r\nIt seems quite possible this was somehow involved in me losing funds\r\n\r\n",
      "created_at" : "2017-01-24T16:36:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274858497",
      "id" : 274858497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T16:48:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274858497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "It's a shame I don't have better logs for it, when I excecuted the RPC command\r\n`sendtoaddress 1ExmAEmkdQcMxHQW7a37TojVR7hxhaaxSK 0.0317` my application logged it as failing (although unfortunately I didn't log the exact error lol).\r\n\r\nHowever, there's a wallet transaction above that was generated (117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c) for it. However, none of the block explorers seem to have ever seen that transaction, so it was likely never pushed onto the network. (probably cause of the conflicting manual CPFP transaction i made: e1a732892538809478e344bf47c513e41c5dc0eb33fd38d8d54695c79b3d9796 ) ",
      "created_at" : "2017-01-24T17:02:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274867746",
      "id" : 274867746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T17:02:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274867746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "your debug log doesn't include the times when you actually placed the transactions right?\r\nI saw them relayed around `2017-01-23 23:27:43`, does your log have anything from that time period?",
      "created_at" : "2017-01-24T17:10:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274869989",
      "id" : 274869989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T17:10:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274869989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Nope :(\r\n\r\nThe earliest entry in my ~/.bitcoin/debug.log is from `2017-01-24 13:38:51`. I'm not sure why that is, I certainly didn't manually clear it or anything",
      "created_at" : "2017-01-24T17:12:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274870690",
      "id" : 274870690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T17:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274870690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "The debug.log file gets shrunk on restart.  See #9625.\r\n\r\nI'm having trouble knowing where to look next for what might have caused this problem.\r\n\r\n- Were there any other manual double spends or other manual transactions that you created?\r\n- I assume you had `-spendzeroconfchange` set to true (the default)?\r\n- Did you abandon any transactions?\r\n- Were any of these transactions \"mixed-debit\", that is spent some of your inputs and some of somebody elses?\r\n- Do you know if the transaction was in your node's mempool?\r\n\r\nWith the information you've given, I can't see why your wallet wouldn't have recognized the output of f600e0a64f2166deb03804499c09e1b3c07636a2d5725f4a10852774da02dd8a as your money.\r\n\r\nIf this happens again (hopefully not), then please make a copy of the debug.log before restarting your node.\r\n\r\n",
      "created_at" : "2017-01-24T17:55:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274882828",
      "id" : 274882828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T17:55:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274882828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "> Were there any other manual double spends or other manual transactions that you created?\r\n\r\nNo, e1a732892538809478e344bf47c513e41c5dc0eb33fd38d8d54695c79b3d9796 was the only transaction I have manually created in a while. It wasn't intended to be a double-spend, but to child-pays for parent. Guess I had bad luck with the timing of that.\r\n\r\n> I assume you had -spendzeroconfchange set to true (the default)?\r\n\r\nYeah, I'm running with default settings\r\n\r\n> Did you abandon any transactions?\r\n\r\nNo, I've never used abandon\r\n\r\n> Were any of these transactions \"mixed-debit\", that is spent some of your inputs and some of somebody elses?\r\n\r\nNo, all transactions (with the exception of the single CPFP) are simply created with `sendtoaddress $addr $amount` and all inputs are owned by me\r\n\r\n> Do you know if the transaction was in your node's mempool?\r\n\r\nI forgot to check, but even after it confirmed it never showed up\r\n\r\n> If this happens again (hopefully not), then please make a copy of the debug.log before restarting your node.\r\n\r\nSure, dumb of me to not do so",
      "created_at" : "2017-01-24T18:01:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274884586",
      "id" : 274884586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T18:03:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274884586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "@RHavar Ok I think I have an idea\r\nCan you run `gettransaction 117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c`\r\n\r\nI'm guessing that the `117` transaction might have spent the `f60` output, causing it to appear spent, but since `117` wasn't in your mempool, you didn't see the output of that as yours.\r\n\r\nThat situation should have rectified itself when `117` was marked conflicted though, which would have happened when `e1a` was confirmed in block 449727?  But that seems not to have happened?   \r\n\r\n",
      "created_at" : "2017-01-24T18:18:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274889188",
      "id" : 274889188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T18:18:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274889188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "`bitcoin-cli gettransaction 117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c`\r\n\r\n```\r\n{\r\n  \"amount\": -0.03170000,\r\n  \"fee\": -0.00046706,\r\n  \"confirmations\": -98,\r\n  \"trusted\": false,\r\n  \"txid\": \"117f591dc7e0ea1779e415d3f0d9dffe14004827fe869279d7a92723551fe53c\",\r\n  \"walletconflicts\": [\r\n    \"044fc10bc12fe9d195590e76242c4b9474d7ade638e69238b0fb4c3734c0e173\", \r\n    \"e1a732892538809478e344bf47c513e41c5dc0eb33fd38d8d54695c79b3d9796\", \r\n    \"5cda8994d62263c536649948d333197ff8e3e6d043b983388ac0fe5ee49b3dc2\"\r\n  ],\r\n  \"time\": 1485214577,\r\n  \"timereceived\": 1485214577,\r\n  \"bip125-replaceable\": \"unknown\",\r\n  \"details\": [\r\n    {\r\n      \"account\": \"\",\r\n      \"address\": \"1ExmAEmkdQcMxHQW7a37TojVR7hxhaaxSK\",\r\n      \"category\": \"send\",\r\n      \"amount\": -0.03170000,\r\n      \"vout\": 1,\r\n      \"fee\": -0.00046706,\r\n      \"abandoned\": false\r\n    }\r\n  ],\r\n  \"hex\": \"010000000488083f430529034ff9418ff04b612bef176d327de22f3bb7e6625d2235587e5e000000006b483045022100f149050241f1fb1f54550471adf1affcd57e4cbb36e4148574a29a457f78687402200be84b23455077c9b9dac326c6017ea12d471ff63b4e6e8d07bdd63e3304d4b7012103b0af308aa07c4dbdb5ac7997588ba65335a103914aa2e390100d3bfa8d3da2aafeffffff887326bd759dee8a863767a03851c3edfc099dc9909c602d159a32de77e563fd000000006946304302206383b94705c164ffab60b7e24b27934d05cef017d8a607c553cb5e963ac1379b021f21d405918a8b7655f6ff3da6f37a34cdcf128678cd886c2b353352e10c6d3e012102cd3a1be957907775d65ef28cf57dd4cede822a50ac2dca03941f3565e22ef848feffffffb23889605c2ba89b378374e0e3a59326829e43448bfe75d68e91640c74b9d8ce010000006b483045022100955b7904ba49c12a32b832fd8a56bb92697c621d02003ccb0a8b46ff5455527f02200450eebfe6ff50e10e29cdf7d4a95da2e0547001233b70d97f1be3efa0d82d5c0121031ba7139f7c39f37f4c352c8b5cc25348e55cb7239e9a9b1fc1b4218e4970345dfeffffff3b7ff9a45938ab879ab8bab54a12256e23b8e0100c34509e06055423fe1b2a70010000006a473044022038d0d9d6bbe27a752130021efe6dfe72ab8da8818668f98a1d6086210cdc1f5f02207f9658ad2bb99d3bbf7e5854a1fdb986b55b9cdbd9fe35a959ff9e1f88fd811401210210b958b5f9c4c0ce64e0e03afb96d7eae2d53d4a534daf174ed8de766afc26e0feffffff02eb2e0000000000001976a9144a1e7cf8cee728aa3cacca6a4e02f5bafc9d3f6d88acd05e3000000000001976a9149925601955f59f337a20b752c2e93225683e878a88aca8dc0600\"\r\n}\r\n```",
      "created_at" : "2017-01-24T18:21:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9620#issuecomment-274890020",
      "id" : 274890020,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9620",
      "updated_at" : "2017-01-24T18:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/274890020",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   }
]
