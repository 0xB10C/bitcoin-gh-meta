[
   {
      "body" : "There is no unused variable here.\r\n\r\nTrue, resetting the nonce hardly matters for regtest, but that won't stop others from looking at that code when writing their own mining software.\r\n\r\nI also don't understand why the assert is being added, all it is checking is that the block template header is filled out correctly. Sure. It is, though nothing in that function depends on it being so.\r\n\r\nIf someone believed that it wasn't possible to call Increment twice with the same prior block,  that is not true: the caller can hit the nInnerLoopCount comparison, continue the loop without solving a block and call IncrementExtraNonce to do its job while staying on the same block.\r\n\r\nActually, I think that assert would introduce an infrequently triggered crash in the regtest miner code. CS_MAIN is not held during the entire duration of the mining. If you have two regtest nodes mining at once, you might accept a block between the CreateNewBlock and the IncrementExtraNonce, resulting in the template and the pindexPrev disagreeing on the identity of the prior block.",
      "created_at" : "2017-01-25T07:38:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9627#issuecomment-275039456",
      "id" : 275039456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9627",
      "updated_at" : "2017-01-25T07:38:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/275039456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
