[
   {
      "body" : "It seems somewhat strange that this is set per-run and not per-wallet. Indeed, if it were set per-wallet, an easy way to get the intended behavior here is to simply encrypt your wallet with a garbage passphrase such that it can no longer be opened (not to say we shouldn't do this, better UX around that is good, but it might be easier to review/write if it re-used that infrastructure).",
      "created_at" : "2017-02-01T21:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276786662",
      "id" : 276786662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-02-01T21:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276786662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Concept ACK. I agree that this would be better as a mode on the wallet instead of yet another startup option.",
      "created_at" : "2017-02-02T08:03:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276891978",
      "id" : 276891978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-02-02T08:03:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276891978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I would like to rebase on top of that for https://github.com/bitcoin/bitcoin/pull/9728, can you rebase?\r\nI would switch that on if hdwatchonly is used.",
      "created_at" : "2017-02-16T01:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280205031",
      "id" : 280205031,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-02-16T01:54:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280205031",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Added two commit.\r\n* First commit adds a facility to store and check wallet flags (64bit). Made DISABLE_PRIVATE_KEYS the first flag.\r\n* Second commit makes the disablehot function per wallet (no longer a global state)\r\n\r\nDisabling private keys on a wallet that already contains private keys is not possible (also the other way around).",
      "created_at" : "2017-02-17T09:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280596351",
      "id" : 280596351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-02-17T09:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280596351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386"
         }
      },
      "body" : "@MarcoFalke: any idea how I can make this pass? Right now, staring bitcoind in this case with this setup will cause bitcoind to write to stderr (and halt) which then result in pass=false in `rpc-tests.py`. But it's actually the correct behaviour.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-17T09:37:35Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386",
      "id" : 101719386,
      "original_commit_id" : "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
      "original_position" : 64,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22456345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736"
         }
      },
      "body" : "We might create a `assert_start_raises_init_error()` method. I will take a look at this tomorrow.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-18T02:10:13Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736",
      "id" : 101880736,
      "original_commit_id" : "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
      "original_position" : 64,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22626838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618"
         }
      },
      "body" : "Kind of confusing....\r\nI thought this would be equivalent to `CWallet::SetWalletFlags(uint64_t flags, false)`.\r\n\r\n However  while `CWallet::SetWalletFlags(uint64_t flags, bool memonly)` set the flags to the indicated value, `CWallet::SetWalletFlag(uint64_t flag)` **appends** to it.\r\n\r\nMaybe you should rename to `AddWalletFlags`.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-20T05:11:45Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618",
      "id" : 101948618,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22689249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523"
         }
      },
      "body" : "does the `[]` arguments is on purpose? because I think it makes `-disablehot` ignored",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-20T06:33:22Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523",
      "id" : 101954523,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 17,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22695062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939"
         }
      },
      "body" : "`CWallet::AddWalletFlags(uint64_t flags, book memonly)` seems most consistent.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-20T07:03:48Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939",
      "id" : 101956939,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22697552,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/22301423?v=3",
         "events_url" : "https://api.github.com/users/saleemrashid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saleemrashid/followers",
         "following_url" : "https://api.github.com/users/saleemrashid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saleemrashid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saleemrashid",
         "id" : 22301423,
         "login" : "saleemrashid",
         "organizations_url" : "https://api.github.com/users/saleemrashid/orgs",
         "received_events_url" : "https://api.github.com/users/saleemrashid/received_events",
         "repos_url" : "https://api.github.com/users/saleemrashid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saleemrashid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saleemrashid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332"
         }
      },
      "body" : "IMO set flags seems most appropriate here. Flags are not getting *appended*. Either you set or unset IMO. For consistency, we should have a `UnsetWalletFlag()`.\r\nBut I agree its kind of confusing that we have a `SetWalletFlags` (plural) method that is capable or re-setting all 64 flags.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-21T13:51:29Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332",
      "id" : 102210332,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22958806,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491"
         }
      },
      "body" : "We start two nodes here, the first node without startup parameters (thats why there is the `[]`). Only second node has `-disablehot`.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-21T13:52:15Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491",
      "id" : 102210491,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 17,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22958952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457"
         }
      },
      "body" : "I think this method should be plural, since there is no distinction between a single flag and multiple flags in its operation and it might be useful to be able to do the latter.\r\n\r\nThen, of course, you have confusion. So, a verb change in the method name might be useful.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-21T17:04:04Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457",
      "id" : 102261457,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23013199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/22301423?v=3",
         "events_url" : "https://api.github.com/users/saleemrashid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saleemrashid/followers",
         "following_url" : "https://api.github.com/users/saleemrashid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saleemrashid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saleemrashid",
         "id" : 22301423,
         "login" : "saleemrashid",
         "organizations_url" : "https://api.github.com/users/saleemrashid/orgs",
         "received_events_url" : "https://api.github.com/users/saleemrashid/received_events",
         "repos_url" : "https://api.github.com/users/saleemrashid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saleemrashid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saleemrashid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289"
         }
      },
      "body" : "@jonasschnelli the strange thing is that [SetWalletFlag](https://github.com/bitcoin/bitcoin/pull/9662#discussion-diff-101948618R1410) switch a bit, when [SetWalletFlags](https://github.com/jonasschnelli/bitcoin/blob/e581d843f06d5fe71a4662b122f94577e5dccd55/src/wallet/wallet.cpp#L1417) set the walletFlags to a specific value. I was expecting SetWalletFlags to switch several bits.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-22T02:30:57Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289",
      "id" : 102371289,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23124493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291"
         }
      },
      "body" : "Maybe renaming `SetWalletFlags` (plural) to `OverwriteWalletFlags`?",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-02-22T08:12:01Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291",
      "id" : 102403291,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23156144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Needed rebase (#8775).\r\nTravis will fail because of the missing `assert_start_raises_init_error` (see #9832).",
      "created_at" : "2017-03-03T15:36:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-283985910",
      "id" : 283985910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-03-03T15:36:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283985910",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> ideal for a use-case where one likes to use Bitcoin-Core in conjunction with a hardware-wallet or another solutions for cold-stogare\r\n\r\nNice, so this guarantees that bitcoind process will contain no private key data at all?\r\nSeems like s a good step towards supporting hardware wallets too.\r\nConcept ACK.\r\n\r\nTravis should pass now that #9832 is merged.",
      "created_at" : "2017-03-06T09:13:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284341246",
      "id" : 284341246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-03-06T09:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284341246",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The `disablehot.py` now makes use of the new (#9832) `assert_start_raises_init_error` call.\r\n\r\n> Nice, so this guarantees that bitcoind process will contain no private key data at all?\r\n\r\nYes. Event the default key is disabled (while still detecting the first start correctly).",
      "created_at" : "2017-03-06T09:31:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284345511",
      "id" : 284345511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-03-06T09:31:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284345511",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719"
         }
      },
      "body" : "I think you should use `fFirstRun` here instead of `walletInstance->vchDefaultKey.IsValid()`",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-03-13T07:59:14Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719",
      "id" : 105604719,
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : 119,
      "pull_request_review_id" : 26490968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594"
         }
      },
      "body" : "At this point `fFirstRun` is always `false`. And I think this also works in conjunction with `salvagewallet`.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-03-13T08:07:10Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594",
      "id" : 105605594,
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : 119,
      "pull_request_review_id" : 26491840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706"
         }
      },
      "body" : "Indeed. Might be out of this PR matter, in the case of hdwatchonly, `walletInstance->vchDefaultKey.IsValid()` will be true. So this would mean `disabledHot` is incompatible with hdwatchonly mode ?",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-03-13T08:22:16Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706",
      "id" : 105607706,
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : 119,
      "pull_request_review_id" : 26493935,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044"
         }
      },
      "body" : "OK forget what I said, there is no reason to have disabledHot with hdwatchonly at same time.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-03-13T08:24:45Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044",
      "id" : 105608044,
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : 119,
      "pull_request_review_id" : 26494259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2017-03-29T14:44:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-290112718",
      "id" : 290112718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-03-29T14:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290112718",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Needs rebase again (sorry)\r\nutACK otherwise.",
      "created_at" : "2017-05-02T13:32:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-298636396",
      "id" : 298636396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-02T13:32:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298636396",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2017-05-04T13:11:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299180562",
      "id" : 299180562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-04T13:11:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299180562",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212"
         }
      },
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nI don't understand why we want to call these \"hot keys\" and not \"private keys,\" but I guess I'm out of the loop on terminology not knowing precisely what a \"hot key\" is.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T16:00:10Z",
      "diff_hunk" : "@@ -3915,6 +3948,7 @@ bool CWallet::ParameterInteraction()\n     nTxConfirmTarget = GetArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n     bSpendZeroConfChange = GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    fDisableHotKeys = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212",
      "id" : 114820212,
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 107,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067"
         }
      },
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nConsider using assert_raises_jsonrpc. (It's less verbose)",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T16:29:33Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067",
      "id" : 114827067,
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 45,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472"
         }
      },
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nDo you think it might be better to fail earlier in CreateTransaction, regardless of the nChange > 0 condition? I'm thinking it might be, just so calls would fail consistently instead of sometimes randomly succeeding. But I don't have much understanding of the real-world use-cases for this, so this is just a thought.\r\n\r\nConsidering adding a code comment here explaining more.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T16:54:41Z",
      "diff_hunk" : "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472",
      "id" : 114832472,
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621"
         }
      },
      "body" : "In commit \"Make -disablehot per wallet (remove global state)\"\r\n\r\nExtra newline here",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T17:03:59Z",
      "diff_hunk" : "@@ -705,7 +705,8 @@ bool WalletModel::hdEnabled() const\n \n bool WalletModel::hotKeysDisabled() const\n {\n-    return fDisableHotKeys;\n+    return (pwalletMain->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621",
      "id" : 114834621,
      "original_commit_id" : "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
      "original_position" : 6,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167"
         }
      },
      "body" : "> Maybe renaming SetWalletFlags (plural) to OverwriteWalletFlags?\r\n\r\nSince this is doing an `|` I'd call it `AddFlags` (which conceivably could be paired with a `RemoveFlags` doing `& ~`).",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T18:53:59Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167",
      "id" : 114860167,
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421"
         }
      },
      "body" : "> Add `-disablehot` mode: a sane mode for watchonly-wallets\r\n\r\nMaybe the error message could suggest passing `-disablehot` to avoid the problem. I think it would make the context of the error easier to understand for someone not expecting it.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-04T19:03:45Z",
      "diff_hunk" : "@@ -3737,7 +3754,20 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n-    else if (fDisableHotKeys) {\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421",
      "id" : 114862421,
      "original_commit_id" : "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079"
         }
      },
      "body" : "Falling earlier would disallow creating watch-only transactions (over fundrawtransaction).",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-05-05T07:19:43Z",
      "diff_hunk" : "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079",
      "id" : 114942079,
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36445578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-05-24T09:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "- Completely rewrote the commit history (as reported by @ryanofsky it was messy).\r\n- Fixed @ryanofsky points\r\n\r\nNo strong opinion if this should be called `-disableprivatekeys` (which somehow nails it but may confuse people who just want cold key storage). Other opinions?\b",
      "created_at" : "2017-05-05T07:27:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299400065",
      "id" : 299400065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-05T07:27:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299400065",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee\r\n\r\nChanges from previous review: pwalletMain removal, SetWalletFlag rename, error message tweaks, assert_raises_jsonrpc usage, and history cleanup.",
      "created_at" : "2017-05-05T14:40:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299483081",
      "id" : 299483081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-05T14:40:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299483081",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee",
      "created_at" : "2017-05-06T08:46:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299625564",
      "id" : 299625564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-06T08:46:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299625564",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3020646?v=3",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "body" : "This has 3 utACKs so I'm building it now to provide a little testing. Maybe this PR should also update `doc/release-notes.md` since it's adding a new option.\r\n\r\nOn \"private keys\" vs \"hot keys\" naming, \"private keys\" still sounds more comprehensible to me, but I wouldn't weigh my opinion very heavily if \"hot key\" is a term users will know.",
      "created_at" : "2017-05-23T17:01:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303466826",
      "id" : 303466826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-23T17:01:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303466826",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Tested ACK fcea55a6ec6be57ee96458bde6fb24656269d3ee. Confirmed disablehot option prevents generating keys, persists across reload even when disablehot option not specified in later runs, and that it prevents loading pre-existing or non-disablehot wallets. I don't think I encountered any bugs, and it seems to me this PR works well and is safe to merge.\r\n\r\nI was surprised by two things, and maybe these behaviors could be changed in the future if they aren't intentional:\r\n\r\n- I was surprised that -disablehot could only be used on a new wallet and would refuse to load a preexisting wallet that did not have any private keys.\r\n- I was surprised that -disablehot did seem to allow importing private keys via importprivkey and importwallet rpcs.\r\n",
      "created_at" : "2017-05-23T18:30:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303490818",
      "id" : 303490818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-23T18:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303490818",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "Added two commits.\r\nThe first addresses the \"importprivkey\" / \"Importwallet\" issues reported by @ryanofsky (disable both commands in -disablehot mode).\r\nThe second fixes a rebase `pwallet`/`pwalletmain` issue.",
      "created_at" : "2017-05-24T09:20:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303667459",
      "id" : 303667459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-05-24T09:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303667459",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "needs rebase, will review",
      "created_at" : "2017-06-19T13:34:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309440853",
      "id" : 309440853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-06-19T13:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309440853",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827"
         }
      },
      "body" : "Maybe leave a comment here to make it clear there are two modes of detecting an initialized wallet here.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-06-19T13:35:08Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827",
      "id" : 122707827,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : 57,
      "pull_request_review_id" : 44846468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-06-19T14:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992"
         }
      },
      "body" : "Return condition for this function is never checked. Only used here: https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L639\r\n\r\nFor this mode do we even need the encrypt functionality? ",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-06-19T13:39:55Z",
      "diff_hunk" : "@@ -2957,6 +2966,9 @@ bool CWallet::SetDefaultKey(const CPubKey &vchPubKey)\n  */\n bool CWallet::NewKeyPool()\n {\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992",
      "id" : 122708992,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 41,
      "path" : "src/wallet/wallet.cpp",
      "position" : 67,
      "pull_request_review_id" : 44846468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-06-19T14:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "body" : "General comment while I wait for rebase: This is fundamentally in conflict with the hdwatchonly mode proposed in https://github.com/bitcoin/bitcoin/pull/9728 which was surprising to me. Perhaps the descriptions of the mode should stress that no (pub)key generation of any sort is allowed, or explicitly state that only imported watchonly keys are supported?\r\n\r\nAlso, I think to make this mode less brittle if an assert in `AddKeyPubKey` is added, since this should never be reachable.",
      "created_at" : "2017-06-19T14:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309454311",
      "id" : 309454311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2017-06-19T14:20:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309454311",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5767891?v=3",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651"
         }
      },
      "body" : "Agree, and combine the two conditionals to make it clearer that that's what is happening.\r\n\r\n```\r\nfFirstRunRet = !vchDefaultKey.IsValid() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\r\n```",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:44:28Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651",
      "id" : 126531651,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : 57,
      "pull_request_review_id" : 49025491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T20:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024"
         }
      },
      "body" : "nit: place alphabetically (above `-disablewallet`)",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:46:00Z",
      "diff_hunk" : "@@ -3579,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024",
      "id" : 126532024,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 98,
      "path" : "src/wallet/wallet.cpp",
      "position" : 98,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744"
         }
      },
      "body" : "This seems like the wrong error message: `You can't disable hot keys...` when the user has not specified the `-disablehot` parameter. Rather, this branch indicates some kind of wallet corruption: the DISABLE_HOT_KEYS flag is set, but the wallet contains private keys.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:49:11Z",
      "diff_hunk" : "@@ -3709,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        /* make sure we don't have hot keys */\n+        if (walletInstance->GetKeyPoolSize()) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744",
      "id" : 126532744,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 133,
      "path" : "src/wallet/wallet.cpp",
      "position" : 133,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278"
         }
      },
      "body" : "You can avoid having to override this method by setting:\r\n\r\n```python\r\nself.extra_args = [[], ['-disablehot']]\r\n```\r\nin the `__init__()` method",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:58:53Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278",
      "id" : 126535278,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 16,
      "path" : "test/functional/disablehot.py",
      "position" : 16,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353"
         }
      },
      "body" : "please replace `print()` calls with `self.log.info()`",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:59:09Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353",
      "id" : 126535353,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 27,
      "path" : "test/functional/disablehot.py",
      "position" : 27,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546"
         }
      },
      "body" : "no `;` please :slightly_smiling_face: ",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T20:59:59Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546",
      "id" : 126535546,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 37,
      "path" : "test/functional/disablehot.py",
      "position" : 37,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722"
         }
      },
      "body" : "Can you add a short docstring explaining what the test is testing and how it is testing?",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T21:00:51Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722",
      "id" : 126535722,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 5,
      "path" : "test/functional/disablehot.py",
      "position" : 5,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260"
         }
      },
      "body" : "Consider running a linter like flake8 over python modules to check for common nits.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-07-10T21:03:20Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260",
      "id" : 126536260,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 1,
      "path" : "test/functional/disablehot.py",
      "position" : 1,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-07-10T21:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would think we should fail somehow, if an unrecognised flag is set?\r\n",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:18:26Z",
      "diff_hunk" : "@@ -537,6 +537,12 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"flags\")\n+        {\n+            uint64_t flags;\n+            ssValue >> flags;\n+            pwallet->SetWalletFlags(flags, true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977",
      "id" : 147714977,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 8,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 8,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are we touching this logic at all? Seems we should just set a default key for watchonly-only wallets, until default keys are removed normally...\r\n",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:24:01Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670",
      "id" : 147716670,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : 57,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer:\r\n\r\n```C++\r\nstrprintf(_(\"Disable the possibility of hot keys (only watchonlys are possible in this mode; default: %u)\"), DEFAULT_DISABLE_HOT_WALLET)\r\n```",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:24:16Z",
      "diff_hunk" : "@@ -3598,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738",
      "id" : 147716738,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 72,
      "path" : "src/wallet/wallet.cpp",
      "position" : 98,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should at least be abstracted somehow. vchDefaultKey's existence is not exactly identical to \"does this wallet have keys?\"",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:27:56Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783",
      "id" : 147717783,
      "in_reply_to_id" : 105604719,
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : 119,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Drop the \"`(use -disablehot instead)`\", since that will also fail in a multiwallet scenario.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:28:52Z",
      "diff_hunk" : "@@ -3728,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072",
      "id" : 147718072,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : 125,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should also probably fake an encrypted wallet, so it can be read by older versions sanely.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:30:56Z",
      "diff_hunk" : "@@ -3717,6 +3737,9 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n             if (!walletInstance->SetHDMasterKey(masterPubKey))\n                 throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n         }\n+        if (GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_HOT_KEYS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724",
      "id" : 147718724,
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 81,
      "path" : "src/wallet/wallet.cpp",
      "position" : 107,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:33:05Z",
      "diff_hunk" : "@@ -102,6 +102,10 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         );\n \n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458",
      "id" : 147719458,
      "original_commit_id" : "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
      "original_position" : 5,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 5,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...\r\n",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-10-30T14:33:17Z",
      "diff_hunk" : "@@ -470,6 +474,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n     if (fPruneMode)\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");\n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524",
      "id" : 147719524,
      "original_commit_id" : "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
      "original_position" : 16,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 16,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-10-30T14:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```cpp\r\nui->receiveButton->setEnabled(!_model->hotKeysDisabled());\r\n```",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-11-03T15:16:30Z",
      "diff_hunk" : "@@ -93,6 +93,10 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n             SLOT(recentRequestsView_selectionChanged(QItemSelection, QItemSelection)));\n         // Last 2 columns are set by the columnResizingFixer, when the table geometry is ready.\n         columnResizingFixer = new GUIUtil::TableViewLastColumnResizingFixer(tableView, AMOUNT_MINIMUM_COLUMN_WIDTH, DATE_COLUMN_WIDTH, this);\n+\n+        if (_model->hotKeysDisabled()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301",
      "id" : 148811301,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : 5,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-11-03T15:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Drop outer `()`?",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-11-03T15:16:59Z",
      "diff_hunk" : "@@ -703,6 +703,11 @@ bool WalletModel::hdEnabled() const\n     return wallet->IsHDEnabled();\n }\n \n+bool WalletModel::hotKeysDisabled() const\n+{\n+    return (wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434",
      "id" : 148811434,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 6,
      "path" : "src/qt/walletmodel.cpp",
      "position" : 6,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-11-03T15:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove const.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-11-03T15:26:27Z",
      "diff_hunk" : "@@ -871,6 +877,12 @@ bool CWalletDB::WriteHDChain(const CHDChain& chain)\n     return batch.Write(std::string(\"hdchain\"), chain);\n }\n \n+bool CWalletDB::WriteWalletFlags(const uint64_t flags)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506",
      "id" : 148814506,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 17,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 17,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-11-03T15:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove const.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-11-03T15:26:42Z",
      "diff_hunk" : "@@ -212,6 +212,7 @@ class CWalletDB\n     //! write the hdchain model (external chain child index counter)\n     bool WriteHDChain(const CHDChain& chain);\n \n+    bool WriteWalletFlags(const uint64_t flags);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578",
      "id" : 148814578,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.h",
      "position" : 4,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-11-03T15:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`set_test_params` instead.",
      "commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "created_at" : "2017-11-03T15:27:26Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805",
      "id" : 148814805,
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 11,
      "path" : "test/functional/disablehot.py",
      "position" : 11,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2017-11-03T15:36:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Needs rebase.\r\n\r\nTend to agree that this should be a per wallet thing and that this should be set upon wallet creation, rather than application launch.\r\n\r\nIf I understand correctly this is purely a safety feature. But I wonder if it doesn't make too many assumptions.\r\n\r\nThe term watch-only wallet is ambiguous. It could mean that the user doesn't have access to private keys at all, or that they do, but managed by an external device. They could also be part of a multisig arrangement, in which case it does have some keys and needs to generate (multisig) change addresses, but shouldn't generate \"solo\" keys.\r\n\r\nIf I understand correctly, the scope of this PR is wallets where keys are managed externally, e.g. a hardware wallet. Would such a wallet have it's own UI that uses the RPC, or would the user interact directly with the RPC somehow? In the first case, it would seem that the hardware wallet developer should just be careful about which RPC commands to call. Or am I missing something? Not that I'm against making it safer.",
      "created_at" : "2018-02-08T17:41:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-364190676",
      "id" : 364190676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "updated_at" : "2018-02-08T17:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364190676",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
