[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140410333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140410333"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hmm.. not sure if we should hardcode `.dat` at this point.",
      "commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "created_at" : "2017-09-22T04:32:27Z",
      "diff_hunk" : "@@ -484,16 +486,25 @@ void BitcoinApplication::initializeResult(bool success)\n         window->setClientModel(clientModel);\n \n #ifdef ENABLE_WALLET\n-        // TODO: Expose secondary wallets\n-        if (!vpwallets.empty())\n-        {\n-            walletModel = new WalletModel(platformStyle, vpwallets[0], optionsModel);\n+        bool fFirstWallet = true;\n+        for (CWalletRef pwallet : vpwallets) {\n+            WalletModel * const walletModel = new WalletModel(platformStyle, pwallet, optionsModel);\n \n-            window->addWallet(BitcoinGUI::DEFAULT_WALLET, walletModel);\n-            window->setCurrentWallet(BitcoinGUI::DEFAULT_WALLET);\n+            QString WalletName = QString::fromStdString(pwallet->GetName());\n+            if (WalletName.endsWith(\".dat\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140410333",
      "id" : 140410333,
      "original_commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "original_position" : 46,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 46,
      "pull_request_review_id" : 64480365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383",
      "updated_at" : "2017-09-22T04:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140410333",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140410836"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140410836"
         }
      },
      "author_association" : "MEMBER",
      "body" : "this `#ifdef` could be avoided/removed, right?",
      "commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "created_at" : "2017-09-22T04:39:43Z",
      "diff_hunk" : "@@ -462,6 +462,15 @@ void BitcoinGUI::createToolBars()\n         toolbar->addAction(receiveCoinsAction);\n         toolbar->addAction(historyAction);\n         overviewAction->setChecked(true);\n+\n+#ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140410836",
      "id" : 140410836,
      "original_commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "original_position" : 48,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 48,
      "pull_request_review_id" : 64480954,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383",
      "updated_at" : "2017-09-22T04:39:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140410836",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140411507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140411507"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's strictly for stripping.",
      "commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "created_at" : "2017-09-22T04:48:51Z",
      "diff_hunk" : "@@ -484,16 +486,25 @@ void BitcoinApplication::initializeResult(bool success)\n         window->setClientModel(clientModel);\n \n #ifdef ENABLE_WALLET\n-        // TODO: Expose secondary wallets\n-        if (!vpwallets.empty())\n-        {\n-            walletModel = new WalletModel(platformStyle, vpwallets[0], optionsModel);\n+        bool fFirstWallet = true;\n+        for (CWalletRef pwallet : vpwallets) {\n+            WalletModel * const walletModel = new WalletModel(platformStyle, pwallet, optionsModel);\n \n-            window->addWallet(BitcoinGUI::DEFAULT_WALLET, walletModel);\n-            window->setCurrentWallet(BitcoinGUI::DEFAULT_WALLET);\n+            QString WalletName = QString::fromStdString(pwallet->GetName());\n+            if (WalletName.endsWith(\".dat\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140411507",
      "id" : 140411507,
      "in_reply_to_id" : 140410333,
      "original_commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "original_position" : 46,
      "path" : "src/qt/bitcoin.cpp",
      "position" : 46,
      "pull_request_review_id" : 64481691,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383",
      "updated_at" : "2017-09-22T04:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140411507",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140411594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140411594"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe.",
      "commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "created_at" : "2017-09-22T04:49:59Z",
      "diff_hunk" : "@@ -462,6 +462,15 @@ void BitcoinGUI::createToolBars()\n         toolbar->addAction(receiveCoinsAction);\n         toolbar->addAction(historyAction);\n         overviewAction->setChecked(true);\n+\n+#ifdef ENABLE_WALLET",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#discussion_r140411594",
      "id" : 140411594,
      "in_reply_to_id" : 140410836,
      "original_commit_id" : "4a1ef7065d72194d94b581dab678f84f9a202dfa",
      "original_position" : 48,
      "path" : "src/qt/bitcoingui.cpp",
      "position" : 48,
      "pull_request_review_id" : 64481789,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11383",
      "updated_at" : "2017-09-22T04:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140411594",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice!\r\nWorks pretty good (played around with it a bit).\r\nI think this may be a first step.\r\n\r\nConceptual issues:\r\n* The Combox box without a direct user feedback may lead to selecting the wrong wallet. Android dual/multi-sim works against this by always displaying an icon for the SIM card the action will be executed with. Not 1:1 applicable here... but users should get A) a feedback after switching wallets (are you sure, etc.), B) better visual distinction.\r\n* Having the HD / encryption status in the status-bar seems not to be the right place when running multiwallet. It is basically on the same level then the QComboBox.\r\n* Wallet name tied to the filename may be not the best choice. Would something speak against having a dedicated `walletname` per wallet, .. or would this confuse?\r\n\r\nIdeas:\r\n* Ideally we would have a wallet-navigation-drawer at the left side that consume a more prominent space and make it move obvious which wallet is used.\r\n* Critical actions like send-coins should maybe remind the user in the confirmation dialog which wallet it will use.\r\n* Users eventually should choose an (coloured) icon per wallet (give a pre-selection of 12 icons) which then will be always visible on a top window level and or displayed when executing critical actions (showing addresses, sending coins, etc.)\r\n\r\nCode:\r\n* I don't see why the RPC auth argument would be necessary at this point (but I respect your comment that we should discuss that in #10615)\r\n* I dislike the `#Ifdef ENABLE_WALLET` clustering. I would reduce it to a minimum and runtime bypass where possible. Especially the #Ifdefs in RPC / http low level code is ugly.",
      "created_at" : "2017-09-22T04:55:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#issuecomment-331349991",
      "id" : 331349991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11383",
      "updated_at" : "2017-09-22T04:55:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331349991",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think we can fairly easily pull out the contentious rpcauth parts of this to make it more palatable for review. I have a branch here: https://github.com/jnewbery/bitcoin/tree/pr11383.1 which removes the first three commits and makes the one change to `rpcconsole.cpp` to make this work without rpcauth. It's also rebased on master since there was a merge conflict.",
      "created_at" : "2017-10-05T22:01:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11383#issuecomment-334604408",
      "id" : 334604408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11383",
      "updated_at" : "2017-10-05T22:01:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334604408",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
