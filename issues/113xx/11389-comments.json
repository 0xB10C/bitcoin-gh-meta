[
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK",
      "created_at" : "2017-09-25T11:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-331850383",
      "id" : 331850383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-09-25T11:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331850383",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r140805585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140805585"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please fix the comment",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-09-25T15:11:22Z",
      "diff_hunk" : "@@ -215,7 +215,7 @@ def run_test(self):\n         connections.append(NodeConn('127.0.0.1', p2p_port(0), self.nodes[0], inv_node))\n         # Set nServices to 0 for test_node, so no block download will occur outside of",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r140805585",
      "id" : 140805585,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 2,
      "path" : "test/functional/sendheaders.py",
      "position" : 2,
      "pull_request_review_id" : 64930368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140805585",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK @sdaftuar may be interested.",
      "created_at" : "2017-09-26T21:22:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-332340068",
      "id" : 332340068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-09-26T21:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332340068",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. Please.\r\n\r\nutACK 2902cec68031d61b5707f24edaebb4c26ee1712b",
      "created_at" : "2017-09-28T02:47:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-332712188",
      "id" : 332712188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-09-28T02:47:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332712188",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I'm adding this as \"high priority for review\" because it's a dependency for #11403.",
      "created_at" : "2017-10-05T10:35:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334426995",
      "id" : 334426995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-05T10:35:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334426995",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 2902cec, but please fix comment in `sendheaders.py` to \"Set nServices to NODE_WITNESS for test_node\" or something that matches the code",
      "created_at" : "2017-10-05T12:57:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334456519",
      "id" : 334456519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-05T12:57:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334456519",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143002742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143002742"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: add comment saying \"never activate segwit for these tests\"",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-05T17:24:20Z",
      "diff_hunk" : "@@ -105,6 +105,7 @@ TestingSetup::~TestingSetup()\n \n TestChain100Setup::TestChain100Setup() : TestingSetup(CBaseChainParams::REGTEST)\n {\n+    UpdateVersionBitsParameters(Consensus::DEPLOYMENT_SEGWIT, 0, 999999999999ULL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143002742",
      "id" : 143002742,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 4,
      "path" : "src/test/test_bitcoin.cpp",
      "position" : 4,
      "pull_request_review_id" : 67450833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143002742",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143006573"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143006573"
         }
      },
      "author_association" : "MEMBER",
      "body" : "request: add a comment to say that this script tests nulldummy activation, which is implemented to activate at the same height as SegWit, so we set SegWit to be inactive initially.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-05T17:38:49Z",
      "diff_hunk" : "@@ -40,7 +40,7 @@ class NULLDUMMYTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n         self.setup_clean_chain = True\n-        self.extra_args = [['-whitelist=127.0.0.1', '-walletprematurewitness']]\n+        self.extra_args = [['-whitelist=127.0.0.1', '-walletprematurewitness', '-vbparams=segwit:0:999999999999']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143006573",
      "id" : 143006573,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 5,
      "path" : "test/functional/nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 67450833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143006573",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143007305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143007305"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think this change is needed. In fact, `-whitelist` isn't needed either so we could remove this line entirely.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-05T17:41:44Z",
      "diff_hunk" : "@@ -53,6 +53,7 @@ class FullBlockTest(ComparisonTestFramework):\n     # Change the \"outcome\" variable from each TestInstance object to only do the comparison.\n     def set_test_params(self):\n         self.num_nodes = 1\n+        self.extra_args = [[\"-vbparams=segwit:0:999999999999\", \"-whitelist=127.0.0.1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r143007305",
      "id" : 143007305,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 4,
      "path" : "test/functional/p2p-fullblocktest.py",
      "position" : null,
      "pull_request_review_id" : 67450833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143007305",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@jl2012 Done.",
      "created_at" : "2017-10-05T17:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334543414",
      "id" : 334543414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-05T17:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334543414",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can we do the same for CSV?",
      "created_at" : "2017-10-06T04:07:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334652878",
      "id" : 334652878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-06T04:07:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334652878",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "zmq_test.py failed. I think you need to fix it like you did in #11403",
      "created_at" : "2017-10-06T08:02:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334686835",
      "id" : 334686835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-06T08:02:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334686835",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@NicolasDorier : why CSV? This one is needed because we need to make segwit addresses as default",
      "created_at" : "2017-10-06T08:04:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334687165",
      "id" : 334687165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-06T08:04:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334687165",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it might be good to make it such that bit must also be set to -1 (or similarly like 65 or something) if the starttime = -1.\r\n\r\nThis ensures that there aren't further changes needed if the bit is reused by another soft fork.",
      "created_at" : "2017-10-06T17:21:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-334817610",
      "id" : 334817610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-06T17:21:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334817610",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2017-10-08T21:16:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-335039150",
      "id" : 335039150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-08T21:16:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335039150",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I have a fix for the failing zmq_test.py in my branch: https://github.com/jnewbery/bitcoin/tree/pr11389",
      "created_at" : "2017-10-09T19:55:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-335268701",
      "id" : 335268701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-09T19:55:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335268701",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jl2012 well there is no good reason to have a regtest without CSV activated.",
      "created_at" : "2017-10-10T04:44:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-335359477",
      "id" : 335359477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-10T04:44:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335359477",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery's observation about p2sh should be addressed: if we are setting segwit to always active in regtest, we should also set p2sh to always be active as well. \r\n\r\nHowever if we think it's likely we'd merge something like what @jl2012 has proposed in #11398, then I think this implementation would immediately go unused, as we'd be replacing the need for the versionbits state machine to have a special hard coded value in favor of putting a hardcoded height in the validation layer above that.  I think something like #11398 makes sense, and it supports setting segwit to always being on in regtest as well, so I'd prefer that we do that instead.\r\n",
      "created_at" : "2017-10-10T19:41:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-335585198",
      "id" : 335585198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-10T19:41:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335585198",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK modulo @jnewbery's comments.",
      "created_at" : "2017-10-10T20:03:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-335590961",
      "id" : 335590961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-10T20:03:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335590961",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144210416"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144210416"
         }
      },
      "author_association" : "OWNER",
      "body" : "Done.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-12T07:17:28Z",
      "diff_hunk" : "@@ -40,7 +40,7 @@ class NULLDUMMYTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n         self.setup_clean_chain = True\n-        self.extra_args = [['-whitelist=127.0.0.1', '-walletprematurewitness']]\n+        self.extra_args = [['-whitelist=127.0.0.1', '-walletprematurewitness', '-vbparams=segwit:0:999999999999']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144210416",
      "id" : 144210416,
      "in_reply_to_id" : 143006573,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 5,
      "path" : "test/functional/nulldummy.py",
      "position" : null,
      "pull_request_review_id" : 68834220,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144210416",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144210445"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144210445"
         }
      },
      "author_association" : "OWNER",
      "body" : "Done.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-12T07:17:37Z",
      "diff_hunk" : "@@ -53,6 +53,7 @@ class FullBlockTest(ComparisonTestFramework):\n     # Change the \"outcome\" variable from each TestInstance object to only do the comparison.\n     def set_test_params(self):\n         self.num_nodes = 1\n+        self.extra_args = [[\"-vbparams=segwit:0:999999999999\", \"-whitelist=127.0.0.1\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144210445",
      "id" : 144210445,
      "in_reply_to_id" : 143007305,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 4,
      "path" : "test/functional/p2p-fullblocktest.py",
      "position" : null,
      "pull_request_review_id" : 68834251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-13T23:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144210445",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I've pushed a rebase with some extra changes:\r\n* When a versionbits deployment has a negative start time, it is active from height (the absolute value of) that start time (rather than just -1 meaning always).\r\n* BIP16 deployment is changed into a versionbits deployment with accurate negative start times. This is certainly an improvement over the existing hardcoded chain-independent timestamp, though perhaps people prefer a BIP16Height approach or an approach like #11426/#11398. I've not done that to reduce code churn here, and still easily override start times.\r\n\r\nIn general, I think we should make deployments buried when they're completely over, but there is still value in being able to have a mix, where the versionbits deployment applies to some chains, but regtest can have an overridden always-on or scheduled-at-some-height deployment for easy of testing before the feature is actually buried.",
      "created_at" : "2017-10-12T07:29:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336044804",
      "id" : 336044804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-12T07:29:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336044804",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I much prefer the approach in #11398 . Once a deployment is sufficiently buried, I think we should remove all logic around how that deployment was activated. At that point it doesn't matter how the deployment was activated. We just want to know that if we're on a certain chain at a certain height we should start enforcing a rule.\r\n\r\nI think inventing a fiction that old softforks were activated using BIP9 is a complication rather than a simplification.\r\n\r\nTo respond to your points in #11398:\r\n\r\n> Advantages:\r\n> \r\n> - Easier to review the change that buries a deployment.\r\n\r\nYou're right that this makes the code delta to bury a BIP9 deployment smaller, but for someone looking at the code for the first time, `if (pindex->nHeight >= consensusparams.BIPxxHeight)` is *much* easier to understand than `if (VersionBitsState(pindex->pprev, consensusparams, Consensus::DEPLOYMENT_xx, versionbitscache) == THRESHOLD_ACTIVE)` where I need to look at and understand the `AbstractThresholdConditionChecker` class and understand that -ve numbers mean pinned deployments.\r\n\r\n> - Support making a deployment buried in regtest while it isn't yet in mainnet/testnet (which can simplify functional testing)\r\n\r\nWe already have control to make a BIP9 deployment active at a certain height in regtest using `-vbparams`. What advantages do you see for making a deployment buried instead of just activated at a height?\r\n\r\nI'm ambivalent on #11426. To me that's just a syntax change and I don't think it's materially better or worse than what we have already.",
      "created_at" : "2017-10-12T18:46:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336230108",
      "id" : 336230108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-12T18:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336230108",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@jnewbery Good points, but perhaps I'm not making my intent clear.\r\n\r\nI'll start with describing my ideal end goal:\r\n* There is an option to configure the height at which (any) consensus rule activated, both for old deployments, and (originally) BIP9 deployments.\r\n* When no special activate-at-height is given, the normal activation rules (BIP9 or otherwise) apply.\r\n* After a deployment is buried, the height-activation can be made default for that deployment, and its old deployment logic removed. Depending on whether tests need it or historical exceptions, it could be removed entirely and hardcoded.\r\n\r\nHaving this means that for a new softfork it's possible to write a test that has the new rule always active, or only active at some particular height (and not needing to go through hoops to activate it by mining blocks manually) - while it's not even defined on mainnet.\r\n\r\nThis functionality partially overlaps with the requirements for #11403 (not needing to go through activation for tests that are unrelated to SegWit activation), which indirectly also needs a way to have P2SH always active.\r\n\r\nThis PR implements effectively what was described above, but with the caveats (1) only for BIP9 deployments and BIP16 and (2) through a pretty hacky way of classifying BIP16 as a VB deployment. All of that can be cleaned up by having explicit *buried* deployments, though. This is regtest-only functionality that doesn't need much compatibility between releases IMHO.\r\n\r\nI think it's also orthogonal to the question of actually completely removing the segwit or P2SH deployments - both of those are useful too, but as discussed in the meeting today, that may not be super trivial.\r\n\r\nFinally,\r\n\r\n> We already have control to make a BIP9 deployment active at a certain height in regtest using -vbparams. What advantages do you see for making a deployment buried instead of just activated at a height?\r\n\r\nThat just doesn't accomplish the goal, as BIP9 can at the earliest activate a deployment at 3*interval, which is at height 432 for regtest. For SegWit wallet support I really want a way to have its rules always active. It's certainly possible to go modify all the heights in all the tests, but that's busywork, and it really shouldn't be the test's responsibility to deal with that.",
      "created_at" : "2017-10-12T20:20:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336254254",
      "id" : 336254254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-12T20:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336254254",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'll start with describing my ideal end goal:\r\n\r\nGood! We have the same ideal end goal.\r\n\r\n> This PR implements effectively what was described above, but with the caveats (1) only for BIP9 deployments and BIP16 and (2) through a pretty hacky way of classifying BIP16 as a VB deployment\r\n\r\nYes - that's what I see as a complication rather than a simplification. I prefer #11398 and also pinning SegWit to block 481824. Obviously I won't NACK this if it's a blocker for #11403. In [Apache voting terms](https://www.apache.org/foundation/voting.html#expressing-votes-1-0-1-and-fractions), I'm a -0.\r\n\r\n> I think it's also orthogonal to the question of actually completely removing the segwit or P2SH deployments - both of those are useful too, but as discussed in the meeting today, that may not be super trivial.\r\n\r\nBy that, do you mean pinning the activation to genesis? Yes, agree that it's orthogonal and can be considered later.\r\n\r\n> That just doesn't accomplish the goal, as BIP9 can at the earliest activate a deployment at 3*interval.\r\n\r\nYes - I understand now.",
      "created_at" : "2017-10-12T21:53:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336284793",
      "id" : 336284793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-12T21:53:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336284793",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> Yes - that's what I see as a complication rather than a simplification. I prefer #11398 and also pinning SegWit to block 481824.\r\n\r\nSure, that's a bigger step towards the intended goal, but I don't see that happening for 0.15.1. #11398 seems pretty invasive.",
      "created_at" : "2017-10-12T21:57:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336285796",
      "id" : 336285796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-12T21:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336285796",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Updated to use @jnewbery's height-pinned-P2SH instead of the P2SH-was-really-a-BIP9-deployment-I-promise approach.",
      "created_at" : "2017-10-13T23:18:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-336588804",
      "id" : 336588804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-13T23:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/336588804",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144847649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144847649"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Could expand comment to suggest why a bip9 deployment would have a hardcoded activation height.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T13:35:27Z",
      "diff_hunk" : "@@ -27,7 +27,7 @@ enum DeploymentPos\n struct BIP9Deployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n+    /** Start MedianTime for version bits miner confirmation. Can be a date in the past. Negative numbers mean hardcoded height. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144847649",
      "id" : 144847649,
      "original_commit_id" : "b934a2c4524db4bfc2d2d9e8f0d71782ca301994",
      "original_position" : 5,
      "path" : "src/consensus/params.h",
      "position" : 5,
      "pull_request_review_id" : 69561400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T14:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144847649",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144854107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144854107"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "~~~I'm not sure, but could it make sense to comment or assert that nStartTime != -1. Saying that if start time is negative, then it should be \\<= -2, because deployments are never active in genesis block. Right now it seems weird that the code basically ignores -1 value and treats it as if it were -2.~~~\r\n\r\nEDIT: Never mind. I was thinking genesis block had height 1 not height 0 (misremembered it was depths not heights that were counted from 1).\r\n",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T13:58:43Z",
      "diff_hunk" : "@@ -27,7 +27,7 @@ enum DeploymentPos\n struct BIP9Deployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n+    /** Start MedianTime for version bits miner confirmation. Can be a date in the past. Negative numbers mean hardcoded height. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144854107",
      "id" : 144854107,
      "original_commit_id" : "b934a2c4524db4bfc2d2d9e8f0d71782ca301994",
      "original_position" : 5,
      "path" : "src/consensus/params.h",
      "position" : 5,
      "pull_request_review_id" : 69561400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T15:49:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144854107",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144854567"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144854567"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Possible to test this logic in versionbits_tests.cpp?",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T14:00:20Z",
      "diff_hunk" : "@@ -27,6 +27,12 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     int64_t nTimeStart = BeginTime(params);\n     int64_t nTimeTimeout = EndTime(params);\n \n+    // Check if this deployment has a fixed activation height.\n+    if (nTimeStart < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144854567",
      "id" : 144854567,
      "original_commit_id" : "b934a2c4524db4bfc2d2d9e8f0d71782ca301994",
      "original_position" : 5,
      "path" : "src/versionbits.cpp",
      "position" : 5,
      "pull_request_review_id" : 69561400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T14:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144854567",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144881558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144881558"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not addressed in 6998584728e45f77f7f67e65e17fb459558739f2. I think a comment would make it clearer why you're updating the vb parameter here.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T15:30:35Z",
      "diff_hunk" : "@@ -105,6 +105,7 @@ TestingSetup::~TestingSetup()\n \n TestChain100Setup::TestChain100Setup() : TestingSetup(CBaseChainParams::REGTEST)\n {\n+    UpdateVersionBitsParameters(Consensus::DEPLOYMENT_SEGWIT, 0, 999999999999ULL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144881558",
      "id" : 144881558,
      "in_reply_to_id" : 143002742,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 4,
      "path" : "src/test/test_bitcoin.cpp",
      "position" : 4,
      "pull_request_review_id" : 69600608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:56:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144881558",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901414"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901414"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps add a comment here to say something like:\r\n\r\nThis test was written assuming segwit is activated using BIP9 at height 432 (3 x `nMinerConfirmationWindow`s of 144).\r\nTODO: rewrite this test to have segwit always active.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T16:42:08Z",
      "diff_hunk" : "@@ -93,7 +93,7 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         # Node0 = pre-segwit, node1 = segwit-aware\n         self.num_nodes = 2\n-        self.extra_args = [[\"-vbparams=segwit:0:0\"], [\"-txindex\"]]\n+        self.extra_args = [[\"-vbparams=segwit:0:0\"], [\"-vbparams=segwit:0:999999999999\", \"-txindex\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901414",
      "id" : 144901414,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 5,
      "path" : "test/functional/p2p-compactblocks.py",
      "position" : 5,
      "pull_request_review_id" : 69600608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901414",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestion: add comment saying that this test tests segwit pre- and post- activation, so segwit is activated using BIP9.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T16:43:00Z",
      "diff_hunk" : "@@ -111,7 +111,7 @@ class SegWitTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n-        self.extra_args = [[\"-whitelist=127.0.0.1\"], [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\"], [\"-whitelist=127.0.0.1\", \"-vbparams=segwit:0:0\"]]\n+        self.extra_args = [[\"-whitelist=127.0.0.1\", \"-vbparams=segwit:0:999999999999\"], [\"-whitelist=127.0.0.1\", \"-acceptnonstdtxn=0\", \"-vbparams=segwit:0:999999999999\"], [\"-whitelist=127.0.0.1\", \"-vbparams=segwit:0:0\"]]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901605",
      "id" : 144901605,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 5,
      "path" : "test/functional/p2p-segwit.py",
      "position" : 5,
      "pull_request_review_id" : 69600608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901605",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "suggestion: add comment saying that this test tests segwit pre- and post- activation, so segwit is activated using BIP9.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T16:43:05Z",
      "diff_hunk" : "@@ -77,9 +77,9 @@ class SegWitTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n-        self.extra_args = [[\"-walletprematurewitness\", \"-rpcserialversion=0\"],\n-                           [\"-blockversion=4\", \"-promiscuousmempoolflags=517\", \"-prematurewitness\", \"-walletprematurewitness\", \"-rpcserialversion=1\"],\n-                           [\"-blockversion=536870915\", \"-promiscuousmempoolflags=517\", \"-prematurewitness\", \"-walletprematurewitness\"]]\n+        self.extra_args = [[\"-walletprematurewitness\", \"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144901619",
      "id" : 144901619,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 7,
      "path" : "test/functional/segwit.py",
      "position" : 7,
      "pull_request_review_id" : 69600608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144901619",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144902502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144902502"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Update comment to say that the txid of the rawtx is the hashtx (it's not strictly true to say that the rawtx hashes to the hashtx since the rawtx now also includes the witness)",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T16:46:24Z",
      "diff_hunk" : "@@ -71,12 +72,14 @@ def _zmq_test(self):\n         msg = self.zmqSubSocket.recv_multipart()\n         topic = msg[0]\n         assert_equal(topic, b\"rawtx\")\n-        body = msg[1]\n+        body = CTransaction()\n+        body.deserialize(BytesIO(msg[1]))\n+        body.calc_sha256()\n         msgSequence = struct.unpack('<I', msg[-1])[-1]\n         assert_equal(msgSequence, 0) # must be sequence 0 on rawtx\n \n         # Check that the rawtx hashes to the hashtx",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144902502",
      "id" : 144902502,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 19,
      "path" : "test/functional/zmq_test.py",
      "position" : 19,
      "pull_request_review_id" : 69600608,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144902502",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144940211"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144940211"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unrelated nit, 999999999999ULL is a terribly confusing value for these nTimeouts!",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T19:11:10Z",
      "diff_hunk" : "@@ -289,7 +292,7 @@ class CRegTestParams : public CChainParams {\n         consensus.vDeployments[Consensus::DEPLOYMENT_CSV].nStartTime = 0;\n         consensus.vDeployments[Consensus::DEPLOYMENT_CSV].nTimeout = 999999999999ULL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144940211",
      "id" : 144940211,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 26,
      "path" : "src/chainparams.cpp",
      "position" : 26,
      "pull_request_review_id" : 69667293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144940211",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144943504"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144943504"
         }
      },
      "author_association" : "MEMBER",
      "body" : "paranoid nit: check for ```nTimeStart != std::numeric_limits<int64_t>::min()```",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T19:25:09Z",
      "diff_hunk" : "@@ -27,6 +27,12 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     int64_t nTimeStart = BeginTime(params);\n     int64_t nTimeTimeout = EndTime(params);\n \n+    // Check if this deployment has a fixed activation height.\n+    if (nTimeStart < 0) {\n+        if (pindexPrev && pindexPrev->nHeight + 1 >= -nTimeStart) return THRESHOLD_ACTIVE;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144943504",
      "id" : 144943504,
      "original_commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "original_position" : 6,
      "path" : "src/versionbits.cpp",
      "position" : 6,
      "pull_request_review_id" : 69671076,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144943504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144946148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144946148"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree, this really needs a test :(\r\n\r\nMight be better to do it in the python framework though, to make sure that negative values are parsed correctly all the way down from the cmdline.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T19:36:25Z",
      "diff_hunk" : "@@ -27,6 +27,12 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     int64_t nTimeStart = BeginTime(params);\n     int64_t nTimeTimeout = EndTime(params);\n \n+    // Check if this deployment has a fixed activation height.\n+    if (nTimeStart < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144946148",
      "id" : 144946148,
      "in_reply_to_id" : 144854567,
      "original_commit_id" : "b934a2c4524db4bfc2d2d9e8f0d71782ca301994",
      "original_position" : 5,
      "path" : "src/versionbits.cpp",
      "position" : 5,
      "pull_request_review_id" : 69674055,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T19:36:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144946148",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery Good points. Add to that list: This could invalidate a block on _current_ chains if timestamps went backwards at all after April 1, 2012. I checked a dozen or so blocks on mainnet/testnet for that, but I'd be more comfortable if others checked as well.",
      "created_at" : "2017-10-16T20:40:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-337034150",
      "id" : 337034150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-16T20:40:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337034150",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theuni - yes, that's another good reason not to use blocktime to deploy a softfork! I'm fairly certain that block times didn't go backwards over the P2SH activation, but it was a possibility that P2SH would have been activated and then deactivated.",
      "created_at" : "2017-10-16T22:08:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#issuecomment-337058190",
      "id" : 337058190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11389",
      "updated_at" : "2017-10-16T22:08:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337058190",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144991010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144991010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For anyone curious, the problem with these tests is that they create a block via ```CreateAndProcessBlock()```, which uses ```BlockAssembler::CreateNewBlock()```, then it adds transactions to the new block. The ```IncrementExtraNonce``` corrects for the new merkle root, but not the new witness root. ```GenerateCoinbaseCommitment``` wouldn't work as it only adds a commitment if there's not one there already.\r\n\r\nUpdating the params here is fine imo, but if anyone would prefer to avoid it, we'd just need a ```ForceUpdateWitnessCommitment()``` function.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-16T22:58:44Z",
      "diff_hunk" : "@@ -105,6 +105,7 @@ TestingSetup::~TestingSetup()\n \n TestChain100Setup::TestChain100Setup() : TestingSetup(CBaseChainParams::REGTEST)\n {\n+    UpdateVersionBitsParameters(Consensus::DEPLOYMENT_SEGWIT, 0, 999999999999ULL);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r144991010",
      "id" : 144991010,
      "in_reply_to_id" : 143002742,
      "original_commit_id" : "2902cec68031d61b5707f24edaebb4c26ee1712b",
      "original_position" : 4,
      "path" : "src/test/test_bitcoin.cpp",
      "position" : 4,
      "pull_request_review_id" : 69725273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-16T22:58:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/144991010",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r145069476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145069476"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've added some tests to versionbits_tests in https://github.com/sipa/bitcoin/pull/106 fwiw.",
      "commit_id" : "6998584728e45f77f7f67e65e17fb459558739f2",
      "created_at" : "2017-10-17T09:06:33Z",
      "diff_hunk" : "@@ -27,6 +27,12 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n     int64_t nTimeStart = BeginTime(params);\n     int64_t nTimeTimeout = EndTime(params);\n \n+    // Check if this deployment has a fixed activation height.\n+    if (nTimeStart < 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11389#discussion_r145069476",
      "id" : 145069476,
      "in_reply_to_id" : 144854567,
      "original_commit_id" : "b934a2c4524db4bfc2d2d9e8f0d71782ca301994",
      "original_position" : 5,
      "path" : "src/versionbits.cpp",
      "position" : 5,
      "pull_request_review_id" : 69812529,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11389",
      "updated_at" : "2017-10-17T09:06:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145069476",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
