[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11817#discussion_r158133589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11817"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158133589"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Remove nested loops from bip68-112-113-p2p.py\"\r\n\r\nShould be able to avoid a lookup with [tx['tx'] for tx in txs.values()]\r\n\r\n",
      "commit_id" : "117f261bfcff1249be96d66f48350338e16580e3",
      "created_at" : "2017-12-20T20:56:29Z",
      "diff_hunk" : "@@ -61,44 +62,28 @@\n     hex_str_to_bytes,\n )\n \n-base_relative_locktime = 10\n-seq_disable_flag = 1 << 31\n-seq_random_high_bit = 1 << 25\n-seq_type_flag = 1 << 22\n-seq_random_low_bit = 1 << 18\n-\n-# b31,b25,b22,b18 represent the 31st, 25th, 22nd and 18th bits respectively in the nSequence field\n-# relative_locktimes[b31][b25][b22][b18] is a base_relative_locktime with the indicated bits set if their indices are 1\n-relative_locktimes = []\n-for b31 in range(2):\n-    b25times = []\n-    for b25 in range(2):\n-        b22times = []\n-        for b22 in range(2):\n-            b18times = []\n-            for b18 in range(2):\n-                rlt = base_relative_locktime\n-                if (b31):\n-                    rlt = rlt | seq_disable_flag\n-                if (b25):\n-                    rlt = rlt | seq_random_high_bit\n-                if (b22):\n-                    rlt = rlt | seq_type_flag\n-                if (b18):\n-                    rlt = rlt | seq_random_low_bit\n-                b18times.append(rlt)\n-            b22times.append(b18times)\n-        b25times.append(b22times)\n-    relative_locktimes.append(b25times)\n-\n-def all_rlt_txs(txarray):\n-    txs = []\n-    for b31 in range(2):\n-        for b25 in range(2):\n-            for b22 in range(2):\n-                for b18 in range(2):\n-                    txs.append(txarray[b31][b25][b22][b18])\n-    return txs\n+BASE_RELATIVE_LOCKTIME = 10\n+SEQ_DISABLE_FLAG = 1 << 31\n+SEQ_RANDOM_HIGH_BIT = 1 << 25\n+SEQ_TYPE_FLAG = 1 << 22\n+SEQ_RANDOM_LOW_BIT = 1 << 18\n+\n+def relative_locktime(sdf, srhb, stf, srlb):\n+    \"\"\"Returns a locktime with certain bits set.\"\"\"\n+\n+    locktime = BASE_RELATIVE_LOCKTIME\n+    if sdf:\n+        locktime |= SEQ_DISABLE_FLAG\n+    if srhb:\n+        locktime |= SEQ_RANDOM_HIGH_BIT\n+    if stf:\n+        locktime |= SEQ_TYPE_FLAG\n+    if srlb:\n+        locktime |= SEQ_RANDOM_LOW_BIT\n+    return locktime\n+\n+def all_rlt_txs(txs):\n+    return [txs[tx]['tx'] for tx in txs]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11817#discussion_r158133589",
      "id" : 158133589,
      "original_commit_id" : "e78b600be47bf34c4271b217b616a77f8957e531",
      "original_position" : 71,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : 89,
      "pull_request_review_id" : 84894748,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11817",
      "updated_at" : "2017-12-20T21:06:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158133589",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11817#discussion_r158134976"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11817"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158134976"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Remove nested loops from bip68-112-113-p2p.py\"\r\n\r\nIt seems better to continue returning a list than a dictionary. A dictionary is just slower and introduces nondeterminism in the test for no reason.",
      "commit_id" : "117f261bfcff1249be96d66f48350338e16580e3",
      "created_at" : "2017-12-20T21:03:43Z",
      "diff_hunk" : "@@ -152,24 +137,18 @@ def create_test_block(self, txs, version=536870912):\n         return block\n \n     def create_bip68txs(self, bip68inputs, txversion, locktime_delta=0):\n-        txs = []\n+        \"\"\"Returns a dictionary of bip68 transactions with different bits set.\"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11817#discussion_r158134976",
      "id" : 158134976,
      "original_commit_id" : "e78b600be47bf34c4271b217b616a77f8957e531",
      "original_position" : 80,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : null,
      "pull_request_review_id" : 84894748,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11817",
      "updated_at" : "2017-12-20T21:06:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/158134976",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
