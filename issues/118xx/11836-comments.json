[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The test that failed on Travis produced the following stacktrace:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/segwit.py\", line 673, in <module>\r\n    SegWitTest().main()\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 142, in main\r\n    self.stop_nodes()\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 263, in stop_nodes\r\n    node.wait_until_stopped()\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 150, in wait_until_stopped\r\n    wait_until(self.is_node_stopped, timeout=timeout)\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/util.py\", line 215, in wait_until\r\n    if predicate():\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 141, in is_node_stopped\r\n    assert_equal(return_code, 0)\r\n  File \"/home/travis/build/bitcoin/bitcoin/build/bitcoin-i686-pc-linux-gnu/test/functional/test_framework/util.py\", line 38, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(1 == 0)\r\n```\r\n\r\nI could be missing something, but it doesn't seem to indicate the line number of the failed assertion; just that the failure was in `segwit.py`'s `SegWitTest.main()`, making it hard to dig into the cause of the failure..\r\n\r\n(The failure message that `1` is not equal to `0` is also not very illuminating..)\r\n\r\nRunning what via Travis logs looks like the relevant test command locally produces no failures for `segwit.py`:\r\n```\r\n$ test/functional/test_runner.py --combinedlogslen=4000 --coverage --quiet --extended --exclude pruning,dbcrash\r\n[ ... ]\r\nTEST                           | STATUS    | DURATION\r\n\r\nabandonconflict.py             | P Passed  | 19 s\r\nassumevalid.py                 | P Passed  | 132 s\r\nbip65-cltv-p2p.py              | P Passed  | 46 s\r\nbip68-112-113-p2p.py           | P Passed  | 95 s\r\nbip68-sequence.py              | P Passed  | 228 s\r\nbip9-softforks.py              | P Passed  | 1621 s\r\nbipdersig-p2p.py               | P Passed  | 38 s\r\nbitcoin_cli.py                 | P Passed  | 5 s\r\nblockchain.py                  | P Passed  | 17 s\r\nbumpfee.py                     | P Passed  | 34 s\r\ndecodescript.py                | P Passed  | 5 s\r\ndeprecated_rpc.py              | P Passed  | 5 s\r\ndisablewallet.py               | P Passed  | 4 s\r\ndisconnect_ban.py              | P Passed  | 11 s\r\nexample_test.py                | P Passed  | 7 s\r\nfeature_logging.py             | x Failed  | 7 s\r\nfundrawtransaction.py          | P Passed  | 68 s\r\ngetblocktemplate_longpoll.py   | P Passed  | 73 s\r\ngetchaintips.py                | P Passed  | 13 s\r\nhttpbasics.py                  | P Passed  | 8 s\r\nimport-rescan.py               | x Failed  | 13 s\r\nimportmulti.py                 | P Passed  | 22 s\r\nimportprunedfunds.py           | P Passed  | 10 s\r\ninvalidateblock.py             | P Passed  | 12 s\r\ninvalidblockrequest.py         | P Passed  | 12 s\r\ninvalidtxrequest.py            | P Passed  | 12 s\r\nkeypool-topup.py               | P Passed  | 45 s\r\nkeypool.py                     | P Passed  | 23 s\r\nlistsinceblock.py              | x Failed  | 6 s\r\nlisttransactions.py            | P Passed  | 33 s\r\nmaxuploadtarget.py             | P Passed  | 947 s\r\nmempool_limit.py               | P Passed  | 30 s\r\nmempool_packages.py            | P Passed  | 68 s\r\nmempool_persist.py             | x Failed  | 20 s\r\nmempool_reorg.py               | P Passed  | 11 s\r\nmempool_resurrect_test.py      | P Passed  | 6 s\r\nmempool_spendcoinbase.py       | P Passed  | 5 s\r\nmerkle_blocks.py               | P Passed  | 15 s\r\nminchainwork.py                | x Failed  | 5 s\r\nmining.py                      | x Failed  | 8 s\r\nmulti_rpc.py                   | P Passed  | 9 s\r\nmultiwallet.py                 | P Passed  | 17 s \r\nnet.py                         | P Passed  | 6 s\r\nnotifications.py               | P Passed  | 10 s  \r\nnulldummy.py                   | P Passed  | 18 s  \r\np2p-acceptblock.py             | P Passed  | 28 s\r\np2p-compactblocks.py           | P Passed  | 129 s \r\np2p-feefilter.py               | P Passed  | 66 s  \r\np2p-fingerprint.py             | P Passed  | 13 s\r\np2p-fullblocktest.py           | x Failed  | 1962 s\r\np2p-leaktests.py               | P Passed  | 12 s \r\np2p-mempool.py                 | P Passed  | 4 s\r\np2p-segwit.py                  | P Passed  | 984 s \r\np2p-timeouts.py                | P Passed  | 66 s  \r\np2p-versionbits-warning.py     | P Passed  | 20 s  \r\npreciousblock.py               | P Passed  | 11 s  \r\nprioritise_transaction.py      | P Passed  | 40 s  \r\nproxy_test.py                  | P Passed  | 11 s  \r\nrawtransactions.py             | P Passed  | 30 s  \r\nreceivedby.py                  | P Passed  | 13 s  \r\nreindex.py                     | P Passed  | 19 s  \r\nreplace-by-fee.py              | P Passed  | 41 s \r\nresendwallettransactions.py    | P Passed  | 7 s\r\nrest.py                        | P Passed  | 14 s  \r\nrpcbind_test.py                | P Passed  | 15 s \r\nrpcnamedargs.py                | P Passed  | 5 s\r\nsegwit.py                      | P Passed  | 99 s  \r\nsendheaders.py                 | P Passed  | 30 s \r\nsignmessages.py                | P Passed  | 4 s  \r\nsignrawtransactions.py         | P Passed  | 4 s\r\nsmartfees.py                   | P Passed  | 487 s \r\ntxn_clone.py                   | P Passed  | 13 s  \r\ntxn_clone.py --mineblock       | P Passed  | 14 s  \r\ntxn_doublespend.py             | P Passed  | 13 s  \r\ntxn_doublespend.py --mineblock | P Passed  | 13 s \r\nuacomment.py                   | x Failed  | 9 s  \r\nuptime.py                      | P Passed  | 4 s\r\nwallet-accounts.py             | P Passed  | 32 s  \r\nwallet-dump.py                 | P Passed  | 30 s  \r\nwallet-encryption.py           | P Passed  | 26 s\r\nwallet-hd.py                   | P Passed  | 267 s \r\nwallet.py                      | P Passed  | 87 s\r\nwalletbackup.py                | P Passed  | 184 s \r\nzapwallettxes.py               | P Passed  | 12 s \r\nzmq_test.py                    | o Skipped | 5 s\r\n\r\nALL                            | x Failed  | 8622 s (accumulated) \r\n```\r\n\r\nHowever several other tests *do* fail locally.. this leads me to believe that issues seen in Travis as well as locally are issues with the test or test framework rather than the proposed change in this PR. I'd be happy to try to track down those test issues, but I'm still getting acquinted with the test framework, so it might take some time.",
      "created_at" : "2017-12-06T18:21:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11836#issuecomment-349729500",
      "id" : 349729500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11836",
      "updated_at" : "2017-12-06T18:21:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349729500",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/287215?v=4",
         "events_url" : "https://api.github.com/users/hkjn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hkjn/followers",
         "following_url" : "https://api.github.com/users/hkjn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hkjn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hkjn",
         "id" : 287215,
         "login" : "hkjn",
         "organizations_url" : "https://api.github.com/users/hkjn/orgs",
         "received_events_url" : "https://api.github.com/users/hkjn/received_events",
         "repos_url" : "https://api.github.com/users/hkjn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hkjn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hkjn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hkjn"
      }
   }
]
