[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. The current naming is very confusing. There's even a comment in walletdb.h to say so:\r\n\r\n```\r\n/**\r\n * Overview of wallet database classes:\r\n *\r\n * - CDBEnv is an environment in which the database exists (has no analog in dbwrapper.h)\r\n * - CWalletDBWrapper represents a wallet database (similar to CDBWrapper in dbwrapper.h)\r\n * - CDB is a low-level database transaction (similar to CDBBatch in dbwrapper.h)\r\n * - CWalletDB is a modifier object for the wallet, and encapsulates a database\r\n *   transaction as well as methods to act on the database (no analog in\r\n *   dbwrapper.h)\r\n *\r\n * The latter two are named confusingly, in contrast to what the names CDB\r\n * and CWalletDB suggest they are transient transaction objects and don't\r\n * represent the database itself.\r\n */\r\n```\r\n\r\nThis should probably go in just before branching v0.16, since rebasing on top of this will be a pain.\r\n\r\nOther changes you could consider:\r\n\r\n- manually update that overview comment (and perhaps move to `wallet.h`?)\r\n- rename the `wallet/db` and `wallet/walletdb` files to be more descriptive. Perhaps `wallet/berkeley_db` and `wallet/db_checkpoint`, but I'm sure we could do better than that.\r\n\r\nI think your suggested class names are good ('checkpoint' is certainly better than 'transaction'!). I can't currently think of anything better.",
      "created_at" : "2017-12-08T13:23:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11851#issuecomment-350261935",
      "id" : 350261935,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11851",
      "updated_at" : "2017-12-08T13:23:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350261935",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
