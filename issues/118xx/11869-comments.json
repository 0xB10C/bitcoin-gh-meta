[
   {
      "author_association" : "OWNER",
      "body" : "I don't think it's obvious that a function with that name would only return spendable UTXOs. If there is a use case for it, perhaps make it a boolean argument require_spendable?",
      "created_at" : "2017-12-12T05:14:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#issuecomment-350947622",
      "id" : 350947622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11869",
      "updated_at" : "2017-12-12T05:14:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350947622",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is there any use case where the function is used to return unspendable outputs? By defintion, if they're unspendable they're not part of the utxo, right?\r\nI don't quite get why, but changing the genesis block of regtest (ie using the custom regtest proposed in #8994 ) makes this function return unspendable utxos and thus make segwit.py fail.\r\nOr in other words, I don't quite get why the function never randomly returns an unspendable utxo and fails without #8994. \r\n\r\nPerhaps this doesn't make sense without #8994, but I don't see the point in adding new parameters to the function that aren't used for any test.\r\n\r\n> Also, callers assume this call always work, it should throw after the loop?\r\n\r\nYeah, that makes sense to me.\r\n",
      "created_at" : "2017-12-12T14:31:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#issuecomment-351067792",
      "id" : 351067792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11869",
      "updated_at" : "2017-12-12T14:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351067792",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@jtimon Ah, I see the confusion. Spendable here means you have the private keys and scripts necessary to spend them. Watch-only addresses can result in non-spendable UTXOs being listed.",
      "created_at" : "2017-12-12T18:10:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#issuecomment-351136546",
      "id" : 351136546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11869",
      "updated_at" : "2017-12-12T18:10:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351136546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I see. So would it be fine to add the require_spendable argument and default to True?\r\nI still don't see the point until some test actually needs to call it with False, but I don't mind adding it.\r\n",
      "created_at" : "2017-12-14T23:29:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#issuecomment-351867738",
      "id" : 351867738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11869",
      "updated_at" : "2017-12-14T23:29:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351867738",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Can use `query_options={\"minimumAmount\": min_value}`",
      "commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "created_at" : "2017-12-15T20:42:12Z",
      "diff_hunk" : "@@ -70,7 +70,7 @@ def getutxo(txid):\n \n def find_unspent(node, min_value):\n     for utxo in node.listunspent():",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294619",
      "id" : 157294619,
      "original_commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "original_position" : 3,
      "path" : "test/functional/segwit.py",
      "position" : 3,
      "pull_request_review_id" : 83920290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869",
      "updated_at" : "2017-12-15T20:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294619",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294685"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294685"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should `throw` for clarity.",
      "commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "created_at" : "2017-12-15T20:42:40Z",
      "diff_hunk" : "@@ -70,7 +70,7 @@ def getutxo(txid):\n \n def find_unspent(node, min_value):\n     for utxo in node.listunspent():\n-        if utxo['amount'] >= min_value:\n+        if utxo['amount'] >= min_value and utxo['spendable']:\n             return utxo\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294685",
      "id" : 157294685,
      "original_commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "original_position" : 7,
      "path" : "test/functional/segwit.py",
      "position" : 7,
      "pull_request_review_id" : 83920290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869",
      "updated_at" : "2017-12-15T20:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294685",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294811"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294811"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Rename to `find_spendable_output` or something.",
      "commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "created_at" : "2017-12-15T20:43:30Z",
      "diff_hunk" : "@@ -70,7 +70,7 @@ def getutxo(txid):\n \n def find_unspent(node, min_value):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#discussion_r157294811",
      "id" : 157294811,
      "original_commit_id" : "d01b06991a4e10b2cb95b25bfcddcddc58ed0738",
      "original_position" : 2,
      "path" : "test/functional/segwit.py",
      "position" : 2,
      "pull_request_review_id" : 83920290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11869",
      "updated_at" : "2017-12-15T20:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157294811",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jtimon Are you still working on this? Otherwise I will close",
      "created_at" : "2017-12-30T05:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11869#issuecomment-354528799",
      "id" : 354528799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11869",
      "updated_at" : "2017-12-30T05:33:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/354528799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
