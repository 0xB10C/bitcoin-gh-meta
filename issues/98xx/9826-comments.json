[
   {
      "body" : "Was able to reproduce this locally (after ~150 times running in a loop). Will debug.",
      "created_at" : "2017-02-22T16:54:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9826#issuecomment-281729857",
      "id" : 281729857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9826",
      "updated_at" : "2017-02-22T16:54:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281729857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "I think I see the cause of the error. \"involvesWatchonly\" can be true either if source or destination address of the transaction is watch only, but the test doesn't know anything about the source address of the transaction. The test is trying to assert that the destination is not watchonly when money is being sent to an address with an imported private key. But once in a while due to coin selection the source address will be watchonly and cause the check to fail. I can modify the test to only send from non-watchonly sources by adding a new node to the test and sending money from that node. Using sendfrom(\"\") RPC would be another alternative since all the watchonly addresses all have non-empty labels. However the sendfrom RPC is deprecated and also appears to be broken (https://botbot.me/freenode/bitcoin-core-dev/msg/81405475/)",
      "created_at" : "2017-02-22T23:52:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9826#issuecomment-281844262",
      "id" : 281844262,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9826",
      "updated_at" : "2017-02-22T23:52:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281844262",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=3",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "body" : "@ryanofsky Thanks for investigating. That makes a lot of sense.\r\n\r\n>Using sendfrom(\"\") RPC would be another alternative since all the watchonly addresses all have non-empty labels.\r\n\r\nThat's a common misunderstanding: sendfrom doesn't, and never had any influence on coin selection. It just changes what internal account the send is charged to.\r\n\r\nSo yes I guess the solution would be to send from another node. Or change the sequence of the test.\r\n",
      "created_at" : "2017-02-23T09:03:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9826#issuecomment-281934722",
      "id" : 281934722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9826",
      "updated_at" : "2017-02-23T09:03:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/281934722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
