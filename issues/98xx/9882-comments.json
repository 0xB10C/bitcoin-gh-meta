[
   {
      "body" : "I don't understand how this is intended to be remotely safe?  RPC invisibly changing its units out from under callers sounds like a receipt for disaster.",
      "created_at" : "2017-02-28T01:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282907866",
      "id" : 282907866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T01:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282907866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "It was @laanwj 's suggestion in https://github.com/bitcoin/bitcoin/pull/9855#issuecomment-282467878 Well, #3759 is different, but the same as this in that sense.\r\nDo you have other suggestions or do you think we should stick to BTC as unit for the RPC forever?\r\n\r\nHonestly my preference would be to break the API and only allow satoshis, but as said in #9855 that would also require many changes on the python tests.\r\n ",
      "created_at" : "2017-02-28T01:08:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282909272",
      "id" : 282909272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T01:08:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282909272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I also prefer to just break API and use satoshis everywhere. We've wanted to use satoshis for several years now and keep getting hung up on compatibility. If we'd just changed it to begin with, we'd be long over it by now...",
      "created_at" : "2017-02-28T01:32:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282913601",
      "id" : 282913601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T01:32:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282913601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Deprecation of non-satoshi methods would be the only safe option IMHO,  with new methods under different names.\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/3759#issuecomment-37192191",
      "created_at" : "2017-02-28T02:04:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282919067",
      "id" : 282919067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:06:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282919067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "I don't think that amounts-in-satoshis-only is necessarily the solution we'd want, even if we could start from scratch.\r\n\r\nJSON does not have a concept of integers or doubles, only of numbers. At least for some JSON libraries, using integral number wouldn't be any better than the BTC numbers now.\r\n\r\nIf anything, my preference would be using strings (in BTC) for amounts, which is already possible (though only for input).",
      "created_at" : "2017-02-28T02:16:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282921080",
      "id" : 282921080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:17:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282921080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Assuming that we were starting from scratch, why do you prefer using strings in BTC over strings in satoshis?",
      "created_at" : "2017-02-28T02:20:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282921564",
      "id" : 282921564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282921564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "The currency is BTC, not satoshi. The fact that internally numbers are represented as multiples of 0.00000001 BTC is not necessarily something we should expose (unless there is another good reason - like avoiding rounding - but that isn't an issue when you're using strings already).",
      "created_at" : "2017-02-28T02:24:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282922278",
      "id" : 282922278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282922278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "To be clear: that's a very minor and unimportant preference. Using satoshis is perfectly reasonable, but I don't think it's so obviously a better choice that it's worth switching to solely that.",
      "created_at" : "2017-02-28T02:27:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282922687",
      "id" : 282922687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:27:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282922687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I think the \"better choice\" reasoning is that most libraries interacting with Bitcoin typically operate on satoshis,  externally and internally,  and thus it has been assumed as the typical inter-op unit. [in my experience]\r\n\r\nThat at least,  is why it is my preferred unit.\r\n\r\nHow it is encoded in JSON, `String` or `Number`, is simply a matter of what expectations are are made of the JSON parser.",
      "created_at" : "2017-02-28T02:36:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282924148",
      "id" : 282924148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:40:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282924148",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "As a disclaimer, I'm doing this because I want to do it in elements. With multiple assets, using always 8 decimals seems more arbitrary. See https://github.com/ElementsProject/elements/pull/132\r\nOf course, the fact that I want it for elements doesn't mean we want it for Bitcoin, but I remembered the satoshi vs BTC discussion and ideally I would prefer to do on elements whatever is more upstreamable to Bitcoin or at least less different from it (for maintainability reasons).\r\n\r\nEDIT: Even if this can't be merged I greatly appreciate everyone's feedback, thanks. ",
      "created_at" : "2017-02-28T02:38:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9882#issuecomment-282924521",
      "id" : 282924521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9882",
      "updated_at" : "2017-02-28T02:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/282924521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
