[
   {
      "body" : "The blocks directory is now created here:\r\n\r\nhttps://github.com/benma/bitcoin/blob/de85040fc552178815a71cacb00d16faff994c9a/src/dbwrapper.cpp#L52\r\nvia\r\nhttps://github.com/benma/bitcoin/blob/11049f4fe62606d1b0380a9ef800ac130f0fbadf/src/txdb.cpp#L70\r\n\r\nand is created the first time it is needed with the initialization of CBlockTreeDB in init.cpp.",
      "created_at" : "2017-03-01T02:08:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9895#issuecomment-283223067",
      "id" : 283223067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9895",
      "updated_at" : "2017-03-01T02:08:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283223067",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1225267?v=3",
         "events_url" : "https://api.github.com/users/benma/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benma/followers",
         "following_url" : "https://api.github.com/users/benma/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benma/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benma",
         "id" : 1225267,
         "login" : "benma",
         "organizations_url" : "https://api.github.com/users/benma/orgs",
         "received_events_url" : "https://api.github.com/users/benma/received_events",
         "repos_url" : "https://api.github.com/users/benma/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benma/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benma/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benma"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104160358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104160358"
         }
      },
      "body" : "Is this utility function needed at all? I think the definition of `fs::create_directories` is already exactly what we want here:  http://www.boost.org/doc/libs/1_61_0/libs/filesystem/doc/reference.html#create_directories\r\n\r\n```\r\nReturns: true if a new directory was created, otherwise false.\r\n\r\nThrows: As specified in Error reporting.\r\n```",
      "commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "created_at" : "2017-03-03T14:17:41Z",
      "diff_hunk" : "@@ -610,15 +610,15 @@ bool RenameOver(boost::filesystem::path src, boost::filesystem::path dest)\n }\n \n /**\n- * Ignores exceptions thrown by Boost's create_directory if the requested directory exists.\n+ * Ignores exceptions thrown by Boost's create_directories if the requested directory exists.\n  * Specifically handles case where path p exists, but it wasn't possible for the user to\n  * write to the parent directory.\n  */\n-bool TryCreateDirectory(const boost::filesystem::path& p)\n+bool TryCreateDirectories(const boost::filesystem::path& p)\n {\n     try\n     {\n-        return boost::filesystem::create_directory(p);\n+        return boost::filesystem::create_directories(p);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104160358",
      "id" : 104160358,
      "original_commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "original_position" : 15,
      "path" : "src/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 24981037,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895",
      "updated_at" : "2017-03-03T14:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104160358",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104555034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104555034"
         }
      },
      "body" : "The function is apparently needed, the comment explains why:\r\n```c++\r\n/**\r\n * Ignores exceptions thrown by Boost's create_directory if the requested directory exists.\r\n * Specifically handles case where path p exists, but it wasn't possible for the user to\r\n * write to the parent directory.\r\n */\r\n```\r\n \r\nWhile I can't recreate this condition, digging up the issue that introduced this talks about some edge cases where it does happen (Truecrypt, ...?): https://github.com/bitcoin/bitcoin/issues/432\r\n\r\nSo we should probably leave it.",
      "commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "created_at" : "2017-03-06T23:47:46Z",
      "diff_hunk" : "@@ -610,15 +610,15 @@ bool RenameOver(boost::filesystem::path src, boost::filesystem::path dest)\n }\n \n /**\n- * Ignores exceptions thrown by Boost's create_directory if the requested directory exists.\n+ * Ignores exceptions thrown by Boost's create_directories if the requested directory exists.\n  * Specifically handles case where path p exists, but it wasn't possible for the user to\n  * write to the parent directory.\n  */\n-bool TryCreateDirectory(const boost::filesystem::path& p)\n+bool TryCreateDirectories(const boost::filesystem::path& p)\n {\n     try\n     {\n-        return boost::filesystem::create_directory(p);\n+        return boost::filesystem::create_directories(p);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104555034",
      "id" : 104555034,
      "original_commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "original_position" : 15,
      "path" : "src/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 25397440,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895",
      "updated_at" : "2017-03-06T23:47:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104555034",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1225267?v=3",
         "events_url" : "https://api.github.com/users/benma/events{/privacy}",
         "followers_url" : "https://api.github.com/users/benma/followers",
         "following_url" : "https://api.github.com/users/benma/following{/other_user}",
         "gists_url" : "https://api.github.com/users/benma/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/benma",
         "id" : 1225267,
         "login" : "benma",
         "organizations_url" : "https://api.github.com/users/benma/orgs",
         "received_events_url" : "https://api.github.com/users/benma/received_events",
         "repos_url" : "https://api.github.com/users/benma/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/benma/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/benma/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/benma"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104609441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104609441"
         }
      },
      "body" : "Ugh. I think not being able to rely on the postcondition is incredibly ugly, and should simply be patched in boost upstream. But okay...",
      "commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "created_at" : "2017-03-07T08:21:52Z",
      "diff_hunk" : "@@ -610,15 +610,15 @@ bool RenameOver(boost::filesystem::path src, boost::filesystem::path dest)\n }\n \n /**\n- * Ignores exceptions thrown by Boost's create_directory if the requested directory exists.\n+ * Ignores exceptions thrown by Boost's create_directories if the requested directory exists.\n  * Specifically handles case where path p exists, but it wasn't possible for the user to\n  * write to the parent directory.\n  */\n-bool TryCreateDirectory(const boost::filesystem::path& p)\n+bool TryCreateDirectories(const boost::filesystem::path& p)\n {\n     try\n     {\n-        return boost::filesystem::create_directory(p);\n+        return boost::filesystem::create_directories(p);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9895#discussion_r104609441",
      "id" : 104609441,
      "original_commit_id" : "de85040fc552178815a71cacb00d16faff994c9a",
      "original_position" : 15,
      "path" : "src/util.cpp",
      "position" : 15,
      "pull_request_review_id" : 25452383,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9895",
      "updated_at" : "2017-03-07T08:21:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/104609441",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This needs a rebase.",
      "created_at" : "2017-05-18T13:01:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9895#issuecomment-302396717",
      "id" : 302396717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9895",
      "updated_at" : "2017-05-18T13:01:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/302396717",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
