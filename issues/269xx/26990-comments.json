[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [hernanmarino](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1320240993) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-01-30T05:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1408013154",
      "id" : 1408013154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585T7JNi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408013154/reactions"
      },
      "updated_at" : "2023-03-02T14:23:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408013154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks @kouloumos for taking the time to review this PR, I agree with your comments and I appreciate you added more context into it so people could bring other thoughts.\r\n\r\nI just wanted to make a small change first and specifically to the `-generate` code block but since, as you said, the confusion applies to any other \"client-side command\" or `[options]` I could move the validation a bit up in the code around the line [where the args variable is set](https://github.com/bitcoin/bitcoin/blob/b5868f4b1f884e8d6612f34ca4005fe3a992053d/src/bitcoin-cli.cpp#L1122), which contains  the [params] of the command (or the args for -generate).\r\n\r\nI got another commit that I could publish that changes ArgsManager in order to accept, for example, `-rpcwallet` as an independent command or `[option]` after `-generate` so `bitcoin-cli -generate 3 4 -rpcwallet=X` works (so order won't matter anymore) and I got something similar to the validation you mentioned in your last sentence, but this approach would change the behaviour of the current parsing and even if we can affirm that's invalid or, as today, it \"ignores\" any [params] with \"-\" (slash) at the front when it's specified after a non-optional argument, I'm not sure (yet) about all the implications this could bring to all the components where the ArgsManager is being used.",
      "created_at" : "2023-01-31T20:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1411046166",
      "id" : 1411046166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585UGtsW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411046166/reactions"
      },
      "updated_at" : "2023-01-31T20:57:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411046166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonatack thanks for reviewing; as you and @kouloumos recommended and as I commented [here](https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1411046166), I've made the validation more generic for any cli-command moving it up in the code.\r\nAs part of this validation, I've added 3 more checks that were not verified before:\r\n- duplication of cli-command (at the moment you can specify -rpcwallet many times, only the last one will be taken into account,\r\n- only 1 cli-command can run at a time (as @kouloumos mentioned [here](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1274911604)),\r\n- no params starting with slash \"-\" will be accepted after a cli-command (this is the case for `bitcoin-cli -generate 3 -rpcwallet=xyz`)\r\n\r\nI've also incorporated @jonatack's recommendation on the error description for `WALLET_NOT_SPECIFIED`.\r\n",
      "created_at" : "2023-02-27T19:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1446919139",
      "id" : 1446919139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585WPjvj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446919139/reactions"
      },
      "updated_at" : "2023-02-27T19:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446919139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The only thing i suggest changing is giving a more descriptive error on the following situation :\r\n> ```\r\n> $ bitcoin-cli -regtest -generate 1 -rpcwallet=tst2\r\n> error: Error: this is not a valid cli-command argument \"-rpcwallet=tst2\", if that is a valid option you might try passing it before -generate\r\n> ```\r\n\r\nThanks, I agree with it, updated it.",
      "created_at" : "2023-03-02T14:23:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1451948439",
      "id" : 1451948439,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585WivmX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1451948439/reactions"
      },
      "updated_at" : "2023-03-02T14:23:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1451948439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127232884"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure if this new message makes it more clear. Specifically, \"For the CLI\" seems like it might confuse users because there's nothing opposed to that in the message.",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:09:21Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127232884",
      "id" : 1127232884,
      "line" : 890,
      "node_id" : "PRRC_kwDOABII585DMDV0",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Where does `bitcoin-cli -h` show how to solve this problem specifically? Telling users to run that here might not be very helpful. The second part could be useful information though.",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:10:06Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";\n+            strPrint += \" (run \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233443",
      "id" : 1127233443,
      "line" : 891,
      "node_id" : "PRRC_kwDOABII585DMDej",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `Initialize set`",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:10:18Z",
      "diff_hunk" : "@@ -1078,6 +1079,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize array with cli-commands that run exclusively",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233611",
      "id" : 1127233611,
      "line" : 1089,
      "node_id" : "PRRC_kwDOABII585DMDhL",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 1089,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 21,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127234775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        \"Multiple wallets are loaded. Specify the wallet by requesting the RPC through /wallet/<filename> URI path.\");\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:11:50Z",
      "diff_hunk" : "@@ -89,7 +89,7 @@ std::shared_ptr<CWallet> GetWalletForJSONRPCRequest(const JSONRPCRequest& reques\n             RPC_WALLET_NOT_FOUND, \"No wallet is loaded. Load a wallet using loadwallet or create a new one with createwallet. (Note: A default wallet is no longer automatically created)\");\n     }\n     throw JSONRPCError(RPC_WALLET_NOT_SPECIFIED,\n-        \"Wallet file not specified (must request wallet RPC through /wallet/<filename> uri-path).\");\n+        \"Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127234775",
      "id" : 1127234775,
      "line" : 92,
      "node_id" : "PRRC_kwDOABII585DMDzX",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 92,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/util.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127235671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Again, I don't think \"For the CLI\" message is useful if it doesn't have a \"as opposed to the \".",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:13:02Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127235671",
      "id" : 1127235671,
      "line" : 31,
      "node_id" : "PRRC_kwDOABII585DMEBX",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 31,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127236411"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nINVALID_CLI_COMMAND_ARGUMENT = 'Error: \\\"{}\\\" is not a valid cli-command argument. If \\\"{}\\\" is a valid option try passing it before the \\\"{}\\\" command.'\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:14:01Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127236411",
      "id" : 1127236411,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII585DMEM7",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 6,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127237286"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nMULTIPLE_CLI_COMMAND_ERROR = \"Error: you can only run one cli-command at a time, either {} or {}\"\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:15:06Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'\n+DUPLICATE_COMMAND_ERROR = 'Error: duplicate command line argument {}'\n+MULTIPLE_CLI_COMMAND_ERROR = \"Error: you can run only one cli-command at a time, please choose one: {} or {}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127237286",
      "id" : 1127237286,
      "line" : 34,
      "node_id" : "PRRC_kwDOABII585DMEam",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 34,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 8,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127275368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Where does `bitcoin-cli -h` show how to solve this problem specifically?\r\n\r\n`./src/bitcoin-cli -h | grep -A4 rpcwallet`\r\n",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T02:27:23Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";\n+            strPrint += \" (run \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127275368",
      "id" : 1127275368,
      "in_reply_to_id" : 1127233443,
      "line" : 891,
      "node_id" : "PRRC_kwDOABII585DMNto",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1327538842,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T02:27:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127282385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The alternative is provided in the preceding sentence:\r\n\r\n`Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path. Or for the CLI, specify the \"-rpcwallet=<filename>\" option before the command (run \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded).`\r\n\r\nThe functional test could make that more clear if the full message is used.\r\n\r\n```diff\r\nindex 0f2e076fe8b..58f6c593175 100755\r\n--- a/test/functional/interface_bitcoin_cli.py\r\n+++ b/test/functional/interface_bitcoin_cli.py\r\n@@ -28,7 +28,7 @@ JSON_PARSING_ERROR = 'error: Error parsing JSON: foo'\r\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\r\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\r\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\r\n-WALLET_NOT_SPECIFIED = 'for the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\r\n+WALLET_NOT_SPECIFIED = 'Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path. Or for the CLI, specify the \"-rpcwallet=<filename>\" option before the command (run \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded).'\r\n```\r\n",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T02:42:03Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127282385",
      "id" : 1127282385,
      "in_reply_to_id" : 1127232884,
      "line" : 890,
      "node_id" : "PRRC_kwDOABII585DMPbR",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327548531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T02:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
