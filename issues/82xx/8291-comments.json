[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69093493"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69093493"
         }
      },
      "body" : "or just:\r\n```if (std::string(\"Bitcoin Core\") != COPYRIGHT_HOLDERS_SUBSTITUTION)```\r\nNo need to use compare() if you don't need to know the relative sorting.\r\n",
      "commit_id" : "fa97c3d40cfbfb297445adddb74cfec01ef75416",
      "created_at" : "2016-06-30T08:38:13Z",
      "diff_hunk" : "@@ -801,11 +801,9 @@ int GetNumCores()\n \n std::string CopyrightHolders(const std::string& strPrefix)\n {\n-    std::string strCopyrightHolders = strPrefix + _(COPYRIGHT_HOLDERS);\n-    if (strCopyrightHolders.find(\"%s\") != strCopyrightHolders.npos) {\n-        strCopyrightHolders = strprintf(strCopyrightHolders, _(COPYRIGHT_HOLDERS_SUBSTITUTION));\n-    }\n-    if (strCopyrightHolders.find(\"Bitcoin Core developers\") == strCopyrightHolders.npos) {\n+    std::string strCopyrightHolders = strPrefix + strprintf(_(COPYRIGHT_HOLDERS), _(COPYRIGHT_HOLDERS_SUBSTITUTION));\n+    if (std::string(\"Bitcoin Core\").compare(COPYRIGHT_HOLDERS_SUBSTITUTION) != 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69093493",
      "id" : 69093493,
      "original_commit_id" : "fa9eaa9a29dccfccfa4668c885efdda93d2eda8e",
      "original_position" : 10,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291",
      "updated_at" : "2016-06-30T09:50:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69093493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69276141"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69276141"
         }
      },
      "body" : "Why not `if (\"Bitcoin Core\" != COPYRIGHT_HOLDERS_SUBSTITUTION) {`?  At least `g++(1)` is able to evaluate that during compilation. When using `std::string` it generates code to create a `std::string` object and then calls the comparison function on that. The right hand side of the comparison is a `\"Ã¢ÂÂ¦\"` and not a `std::string` anyway.\r\nOr is there a style-reason for using `std::string`? This code is definitely neither size- nor speed-critical.",
      "commit_id" : "fa97c3d40cfbfb297445adddb74cfec01ef75416",
      "created_at" : "2016-07-01T09:56:12Z",
      "diff_hunk" : "@@ -802,10 +802,11 @@ int GetNumCores()\n std::string CopyrightHolders(const std::string& strPrefix)\n {\n     std::string strCopyrightHolders = strPrefix + _(COPYRIGHT_HOLDERS);\n-    if (strCopyrightHolders.find(\"%s\") != strCopyrightHolders.npos) {\n+    if (strCopyrightHolders.find(\"%s\") != std::string::npos) {\n         strCopyrightHolders = strprintf(strCopyrightHolders, _(COPYRIGHT_HOLDERS_SUBSTITUTION));\n     }\n-    if (strCopyrightHolders.find(\"Bitcoin Core developers\") == strCopyrightHolders.npos) {\n+    if (std::string(\"Bitcoin Core\") != COPYRIGHT_HOLDERS_SUBSTITUTION) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69276141",
      "id" : 69276141,
      "original_commit_id" : "fa7a206990bf31fba3fb5f00be5c810f7c54225f",
      "original_position" : 9,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291",
      "updated_at" : "2016-07-01T10:00:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69276141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/523218?v=3",
         "events_url" : "https://api.github.com/users/roques/events{/privacy}",
         "followers_url" : "https://api.github.com/users/roques/followers",
         "following_url" : "https://api.github.com/users/roques/following{/other_user}",
         "gists_url" : "https://api.github.com/users/roques/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/roques",
         "id" : 523218,
         "login" : "roques",
         "organizations_url" : "https://api.github.com/users/roques/orgs",
         "received_events_url" : "https://api.github.com/users/roques/received_events",
         "repos_url" : "https://api.github.com/users/roques/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/roques/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/roques/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/roques"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69285135"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69285135"
         }
      },
      "body" : "@sipa, definitely.\r\nPlease, don't do what I suggested.\r\n`if (strcmp(\"Bitcoin Core\", COPYRIGHT_HOLDERS_SUBSTITUTION) != 0)` can also be evaluated at compile time, but that's C, not C++ and is harder to read than what the patch currently does. Thus, just forget my suggestion.",
      "commit_id" : "fa97c3d40cfbfb297445adddb74cfec01ef75416",
      "created_at" : "2016-07-01T11:18:27Z",
      "diff_hunk" : "@@ -802,10 +802,11 @@ int GetNumCores()\n std::string CopyrightHolders(const std::string& strPrefix)\n {\n     std::string strCopyrightHolders = strPrefix + _(COPYRIGHT_HOLDERS);\n-    if (strCopyrightHolders.find(\"%s\") != strCopyrightHolders.npos) {\n+    if (strCopyrightHolders.find(\"%s\") != std::string::npos) {\n         strCopyrightHolders = strprintf(strCopyrightHolders, _(COPYRIGHT_HOLDERS_SUBSTITUTION));\n     }\n-    if (strCopyrightHolders.find(\"Bitcoin Core developers\") == strCopyrightHolders.npos) {\n+    if (std::string(\"Bitcoin Core\") != COPYRIGHT_HOLDERS_SUBSTITUTION) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69285135",
      "id" : 69285135,
      "original_commit_id" : "fa7a206990bf31fba3fb5f00be5c810f7c54225f",
      "original_position" : 9,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291",
      "updated_at" : "2016-07-01T11:18:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69285135",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/523218?v=3",
         "events_url" : "https://api.github.com/users/roques/events{/privacy}",
         "followers_url" : "https://api.github.com/users/roques/followers",
         "following_url" : "https://api.github.com/users/roques/following{/other_user}",
         "gists_url" : "https://api.github.com/users/roques/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/roques",
         "id" : 523218,
         "login" : "roques",
         "organizations_url" : "https://api.github.com/users/roques/orgs",
         "received_events_url" : "https://api.github.com/users/roques/received_events",
         "repos_url" : "https://api.github.com/users/roques/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/roques/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/roques/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/roques"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69286398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69286398"
         }
      },
      "body" : "> Comparing two string literals will likely do what you want due to the compiler merging the constants to the same memory location. This is not behaviour to rely on though.\r\n\r\nLOL yes 'it will mostly work' is the worst kind of working.\r\n\r\n> if (strcmp(\"Bitcoin Core\", COPYRIGHT_HOLDERS_SUBSTITUTION) != 0) can also be evaluated at compile time\r\n\r\nI don't think we care here, it's not like this is a performance critical inner loop.\r\n",
      "commit_id" : "fa97c3d40cfbfb297445adddb74cfec01ef75416",
      "created_at" : "2016-07-01T11:33:00Z",
      "diff_hunk" : "@@ -802,10 +802,11 @@ int GetNumCores()\n std::string CopyrightHolders(const std::string& strPrefix)\n {\n     std::string strCopyrightHolders = strPrefix + _(COPYRIGHT_HOLDERS);\n-    if (strCopyrightHolders.find(\"%s\") != strCopyrightHolders.npos) {\n+    if (strCopyrightHolders.find(\"%s\") != std::string::npos) {\n         strCopyrightHolders = strprintf(strCopyrightHolders, _(COPYRIGHT_HOLDERS_SUBSTITUTION));\n     }\n-    if (strCopyrightHolders.find(\"Bitcoin Core developers\") == strCopyrightHolders.npos) {\n+    if (std::string(\"Bitcoin Core\") != COPYRIGHT_HOLDERS_SUBSTITUTION) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8291#discussion_r69286398",
      "id" : 69286398,
      "original_commit_id" : "fa7a206990bf31fba3fb5f00be5c810f7c54225f",
      "original_position" : 9,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8291",
      "updated_at" : "2016-07-01T11:33:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/69286398",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
