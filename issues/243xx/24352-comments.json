[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-02-16T11:44:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1041403667",
      "id" : 1041403667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII584-Eo8T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041403667/reactions"
      },
      "updated_at" : "2022-02-16T11:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1041403667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808832329"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add a `doc/design/README.md` (although the above description doesn't add much to just a directory view)",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T09:21:03Z",
      "diff_hunk" : "@@ -64,14 +64,14 @@ The Bitcoin repo's [root README](/README.md) contains relevant information on th\n - [BIPS](bips.md)\n - [Dnsseed Policy](dnsseed-policy.md)\n - [Benchmarking](benchmarking.md)\n+- [Internal Design Docs](design/)\n \n ### Resources\n * Discuss on the [BitcoinTalk](https://bitcointalk.org/) forums, in the [Development & Technical Discussion board](https://bitcointalk.org/index.php?board=6.0).\n * Discuss project-specific development on #bitcoin-core-dev on Libera Chat. If you don't have an IRC client, you can use [web.libera.chat](https://web.libera.chat/#bitcoin-core-dev).\n \n ### Miscellaneous\n - [Assets Attribution](assets-attribution.md)\n-- [Assumeutxo design](assumeutxo.md)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808832329",
      "id" : 808832329,
      "line" : 74,
      "node_id" : "PRRC_kwDOABII584wNc1J",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 74,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "doc/README.md",
      "position" : 12,
      "pull_request_review_id" : 885654109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T09:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808832329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808884620"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This looks a bit scary with all these curved lines. It's probably better to use (a reasonably chosen set of) fixed positions and straight lines.",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T10:14:43Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808884620",
      "id" : 808884620,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584wNpmM",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 35,
      "pull_request_review_id" : 885730351,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T10:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808884620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808915875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah this graph is atrocious. I thought mermaid might do a better job with it. I think the markdown source code is more undertandable than the graphic, but I will look for mermaid options (straight lines!) which might make this more readable.",
      "commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "created_at" : "2022-02-17T10:48:08Z",
      "diff_hunk" : "@@ -0,0 +1,90 @@\n+# Libraries\n+\n+| Name                   | Description |\n+|------------------------|-------------|\n+| libbitcoin_cli         | RPC client functionality used by `bitcoin-cli` executable |\n+| libbitcoin_common      | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_util`, but higher-level (see [Dependencies](#dependencies). |\n+| libbitcoin_consensus   | Stable, backwards-compatible consensus functionality used by `libbitcoin_node` and `libbitcoin_wallet` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinconsensus    | Shared library build of static `libbitcoin_consensus` library |\n+| libbitcoin_kernel      | Consensus \"engine\" and support library used for validation by `libbitcoin_node` and also exposed as a [shared library](../doc/shared-libraries.md). |\n+| libbitcoinqt           | GUI functionality used by `bitcoin-qt` and `bitcoin-gui` executables |\n+| libbitcoin_ipc         | IPC functionality used by `bitcoin-node`, `bitcoin-wallet`, `bitcoin-gui` executables to communicate when [`--enable-multiprocess`](multiprocess.md) is used. |\n+| libbitcoin_node        | P2P and RPC server functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+| libbitcoin_util        | Home for common functionality shared by different executables and libraries. Similar to `libbitcoin_common`, but lower-level (see [Dependencies](#dependencies). |\n+| libbitcoin_wallet      | Wallet functionality used by `bitcoind` and `bitcoin-wallet` executables. |\n+| libbitcoin_wallet_tool | Lower-level wallet functionality used by `bitcoin-wallet` executable. |\n+| libbitcoin_zmq         | [ZeroMQ](../zmq.md) functionality used by `bitcoind` and `bitcoin-qt` executables. |\n+\n+## Conventions\n+\n+- Most libraries are internal libraries and have APIs which are completely unstable! There are few or no restrictions on backwards compatibility or rules about external dependencies. Exceptions are `libbitcoin_consensus` and `libbitcoin_kernel` which have external interfaces documented at [../shared-libraries.md](../shared-libraries.md).\n+\n+- Generally speaking each library should correspond to a source directory and a namespace. Source code organization is a work in progress, so it is true that some namespaces are applied inconsistently, and if you look at [`libbitcoin_*_SOURCES`](../../src/Makefile.am) lists you can see that many libraries pull in files from outside their source directory. But generally when working with libraries, it is good to follow an establishing pattern like:\n+\n+  - `libbitcoin_node` code lives in `src/node/` in the `node::` namespace\n+  - `libbitcoin_wallet` code lives in `src/wallet/` in the `wallet::` namespace\n+  - `libbitcoin_ipc` code lives in `src/ipc/` in the `ipc::` namespace\n+  - `libbitcoin_util` code lives in `src/util/` in the `util::` namespace\n+  - `libbitcoin_consensus` code lives in `src/consensus/` in the `Consensus::` namespace\n+\n+## Dependencies\n+\n+- Libraries should generally be careful about what other libraries they depend on, and only reference symbols following the arrows shown in the dependency graph below:\n+\n+```mermaid\n+graph TD;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#discussion_r808915875",
      "id" : 808915875,
      "in_reply_to_id" : 808884620,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584wNxOj",
      "original_commit_id" : "4131c5ff8e8905cdc23410d52c23979aa881e3b7",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/design/libraries.md",
      "position" : 35,
      "pull_request_review_id" : 885772784,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24352",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-17T10:48:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/808915875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had a conversation with Ryan about this and agree to the broad strokes of things. We decided that it would be good to move:\r\n- Everything in `common` that `kernel` depends on to `util`\r\n- Everything in `util` that `kernel` doesn't depend on to `common`\r\n\r\nI need to make that move and see where things fall to make an educated assessment of the hierarchy described here (mostly the part about `libbitcoinkernel` not depending on `common` and only depending on `util`).",
      "created_at" : "2022-02-22T21:32:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24352#issuecomment-1048231861",
      "id" : 1048231861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24352",
      "node_id" : "IC_kwDOABII584-er-1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048231861/reactions"
      },
      "updated_at" : "2022-02-22T21:32:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1048231861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   }
]
