[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nMind applying this diff: https://github.com/bitcoin/bitcoin/pull/24266#issuecomment-1032693422 ?\r\n\r\nOtherwise the blocks dir handling differs from the wallet dir handling (and root dir handling).",
      "created_at" : "2022-02-14T13:03:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039060392",
      "id" : 1039060392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58497s2o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039060392/reactions"
      },
      "updated_at" : "2022-02-14T13:03:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039060392",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Mind applying this diff: https://github.com/bitcoin/bitcoin/pull/24266#issuecomment-1032693422 ?\r\n\r\n~~Done!~~\r\nReverted for now (https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039171253).",
      "created_at" : "2022-02-14T13:07:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039064963",
      "id" : 1039064963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58497t-D",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039064963/reactions"
      },
      "updated_at" : "2022-02-14T14:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039064963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805845509"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805845509"
         }
      },
      "author_association" : "MEMBER",
      "body" : "<strike>I could be confused but it reads as though the comment says \"or\" and the logic says \"and\"</strike>\r\n\r\nEdit: `std::filesystem::create_directories` returns false for an existing directory per https://en.cppreference.com/w/cpp/filesystem/create_directory, so this seems good.\r\n\r\n```\r\n3) Executes (1) for every element of p that does not already exist.\r\n   If p already exists, the function does nothing (this condition is not treated as an error).\r\n\r\nReturn value\r\ntrue if a directory was created for the directory p resolves to, false otherwise. \r\n```",
      "commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "created_at" : "2022-02-14T13:34:27Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)\n+{\n+    if (fs::is_symlink(p) && fs::is_directory(p)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805845509",
      "id" : 805845509,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII584wCDoF",
      "original_commit_id" : "e6fafbdfd0ac90ef22cbb75269f830099730ba5d",
      "original_line" : 152,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 13,
      "pull_request_review_id" : 881635344,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805845509/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T13:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805845509",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805869637"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805869637"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Right, `or` would work, but it's not necessary. This `if` statement is to catch the specific situation that is buggy, it doesn't aim to implement anything further.",
      "commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "created_at" : "2022-02-14T14:00:00Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)\n+{\n+    if (fs::is_symlink(p) && fs::is_directory(p)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805869637",
      "id" : 805869637,
      "in_reply_to_id" : 805845509,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII584wCJhF",
      "original_commit_id" : "e6fafbdfd0ac90ef22cbb75269f830099730ba5d",
      "original_line" : 152,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 13,
      "pull_request_review_id" : 881668615,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805869637/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T14:00:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805869637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm really confused by the CI output:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/combine_logs.py\", line 201, in <module>\r\n    main()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/combine_logs.py\", line 67, in main\r\n    log_events = read_logs(testdir)\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-i686-pc-linux-gnu/test/functional/combine_logs.py\", line 86, in read_logs\r\n    assert next(glob, None) is None #  more than one debug.log, should never happen\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 1100, in glob\r\n    for p in selector.select_from(self):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 508, in _select_from\r\n    for p in self.successor._select_from(path, is_dir, exists, scandir):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 559, in _select_from\r\n    for starting_point in self._iterate_directories(parent_path, is_dir, scandir):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 549, in _iterate_directories\r\n    for p in self._iterate_directories(path, is_dir, scandir):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 549, in _iterate_directories\r\n    for p in self._iterate_directories(path, is_dir, scandir):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 549, in _iterate_directories\r\n    for p in self._iterate_directories(path, is_dir, scandir):\r\n  File \"/usr/lib64/python3.6/pathlib.py\", line 547, in _iterate_directories\r\n    if entry.is_dir() and not entry.is_symlink():\r\nOSError: [Errno 40] Too many levels of symbolic links: '/tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_\\u20bf_ð_20220214_135218/wallet_multiwallet_169/node0/regtest/walletdir/self_walletdat_symlink/wallet.dat'\r\n```\r\nThis change doesn't actually create any symbolic links, it just tolerates them, neither does it change any Python code, so I don't understand.",
      "created_at" : "2022-02-14T14:03:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039123082",
      "id" : 1039123082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII584978KK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039123082/reactions"
      },
      "updated_at" : "2022-02-14T14:04:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039123082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've haven't been following the issue, but the code makes sense, util and dbwrapper unit tests are green for me on Debian with clang 13.0.1, but `wallet_multiwallet.py` isn't happy.\r\n\r\n<details><summary><code>wallet_multiwallet.py</code> output</summary><p>\r\n\r\n```\r\n2022-02-14T14:25:38.701000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_5_zm4jhi\r\n2022-02-14T14:25:44.906000Z TestFramework (INFO): Do not allow -upgradewallet with multiwallet\r\n2022-02-14T14:25:45.837000Z TestFramework (ERROR): Unexpected exception caught during testing\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 132, in main\r\n    self.run_test()\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/wallet_multiwallet.py\", line 192, in run_test\r\n    os.rename(wallet_dir2, wallet_dir())\r\nOSError: [Errno 39] Directory not empty: '/tmp/bitcoin_func_test_5_zm4jhi/node0/regtest/walletdir' -> '/tmp/bitcoin_func_test_5_zm4jhi/node0/regtest/wallets'\r\n</p></details>\r\n",
      "created_at" : "2022-02-14T14:28:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039151357",
      "id" : 1039151357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498DD9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039151357/reactions"
      },
      "updated_at" : "2022-02-14T15:22:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039151357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've reverted @MarcoFalke 's proposed change for now. Let's see if this passes CI.",
      "created_at" : "2022-02-14T14:45:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039171253",
      "id" : 1039171253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498H61",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039171253/reactions"
      },
      "updated_at" : "2022-02-14T14:45:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039171253",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805916296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805916296"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Or just `std::filesystem::exists()` would also work, I guess but will have a wider scope.\r\n\r\n> catch the specific situation that is buggy\r\n\r\n+1",
      "commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "created_at" : "2022-02-14T14:46:17Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)\n+{\n+    if (fs::is_symlink(p) && fs::is_directory(p)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805916296",
      "id" : 805916296,
      "in_reply_to_id" : 805845509,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII584wCU6I",
      "original_commit_id" : "e6fafbdfd0ac90ef22cbb75269f830099730ba5d",
      "original_line" : 152,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 13,
      "pull_request_review_id" : 881736179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805916296/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T14:50:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805916296",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805919979"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805919979"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There is also another function:\r\n\r\n```cpp\r\nbool create_directories(const std::filesystem::path& p, std::error_code& ec);\r\n```\r\n\r\nIs it worth hijacking that too? In case somebody in the future decides to use that one instead?",
      "commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "created_at" : "2022-02-14T14:49:58Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805919979",
      "id" : 805919979,
      "line" : 150,
      "node_id" : "PRRC_kwDOABII584wCVzr",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 150,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 11,
      "pull_request_review_id" : 881736179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805919979/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T14:50:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805919979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805922649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805922649"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I thought about it, but defining a function that's not used felt wrong, somehow. Is there a way to un-define it? (I'm not exactly sure how the overloading rules work here)\r\n\r\nEdit: this seems to work?\r\n```c++\r\nstatic inline bool create_directories(const std::filesystem::path& p, std::error_code& ec) = delete;\r\n```",
      "commit_id" : "b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9",
      "created_at" : "2022-02-14T14:52:40Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805922649",
      "id" : 805922649,
      "in_reply_to_id" : 805919979,
      "line" : 150,
      "node_id" : "PRRC_kwDOABII584wCWdZ",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 150,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 11,
      "pull_request_review_id" : 881745397,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805922649/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T15:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805922649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805925064"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805925064"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What if it is a symlink to a file, a device, etc, instead of a directory? I think it should still fail in that case. That's why I didn't use the more general `exists`.",
      "commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "created_at" : "2022-02-14T14:54:56Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)\n+{\n+    if (fs::is_symlink(p) && fs::is_directory(p)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805925064",
      "id" : 805925064,
      "in_reply_to_id" : 805845509,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII584wCXDI",
      "original_commit_id" : "e6fafbdfd0ac90ef22cbb75269f830099730ba5d",
      "original_line" : 152,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 13,
      "pull_request_review_id" : 881748786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805925064/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T14:54:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805925064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805938827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805938827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Cool, I did not know `= delete` could be used on non-member functions. It seems it can - https://en.cppreference.com/w/cpp/language/function#Deleted_functions. `static inline` can be skipped.",
      "commit_id" : "b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9",
      "created_at" : "2022-02-14T15:08:19Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805938827",
      "id" : 805938827,
      "in_reply_to_id" : 805919979,
      "line" : 150,
      "node_id" : "PRRC_kwDOABII584wCaaL",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 150,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 11,
      "pull_request_review_id" : 881768471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805938827/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T15:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805938827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I've reverted @MarcoFalke 's proposed change for now. Let's see if this passes CI.\r\n\r\nInteresting. For reference, the failed CI is here: https://cirrus-ci.com/build/6366611337641984\r\n\r\nIt would be good to know why it failed. Otherwise it seems that the same failure that happened on the wallet dir is going to happen on the blocks dir as well, with this patch.",
      "created_at" : "2022-02-14T15:14:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039203940",
      "id" : 1039203940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498P5k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039203940/reactions"
      },
      "updated_at" : "2022-02-14T15:14:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039203940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Otherwise it seems that the same failure that happened on the wallet dir is going to happen on the blocks dir as well, with this patch.\r\n\r\nThis was the first thing I checked (as it's the problem I'd been suffering from), and it worked fine.\r\n\r\nEdit: could it be a problem with making multiple directories at once? I mean, this looks if a path exists before making a subdirectory of it:\r\n```\r\n    if (!fs::exists(path)) {\r\n        fs::create_directories(path / \"wallets\");\r\n    }\r\n```\r\nIt's not the same as `fs::create_directories(path / \"wallets\");`, which will *always* create  a wallets subdirectory, even if the parent path already exists.",
      "created_at" : "2022-02-14T15:17:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039207790",
      "id" : 1039207790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498Q1u",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039207790/reactions"
      },
      "updated_at" : "2022-02-14T15:22:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039207790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b solves the `wallet_multiwallet.py` error in https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039151357 for me locally.",
      "created_at" : "2022-02-14T15:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039207889",
      "id" : 1039207889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498Q3R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039207889/reactions"
      },
      "updated_at" : "2022-02-14T15:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039207889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805959631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805959631"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, will remove the `static inline`.",
      "commit_id" : "b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9",
      "created_at" : "2022-02-14T15:28:26Z",
      "diff_hunk" : "@@ -140,6 +140,21 @@ static inline path PathFromString(const std::string& string)\n     return std::filesystem::path(string);\n #endif\n }\n+\n+/**\n+ * Create directory (and if necessary its parents), unless the leaf directory\n+ * already exists or is a symlink to an existing directory.\n+ * This is a temporary workaround for an issue in libstdc++ that has been fixed\n+ * upstream [PR101510].\n+ */\n+static inline bool create_directories(const std::filesystem::path& p)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805959631",
      "id" : 805959631,
      "in_reply_to_id" : 805919979,
      "line" : 150,
      "node_id" : "PRRC_kwDOABII584wCffP",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 150,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/fs.h",
      "position" : 11,
      "pull_request_review_id" : 881798578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805959631/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T15:28:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805959631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ugh, my bad. :man_facepalming: ",
      "created_at" : "2022-02-14T15:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039242877",
      "id" : 1039242877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498ZZ9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039242877/reactions"
      },
      "updated_at" : "2022-02-14T15:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039242877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805989994"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805989994"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any idea why this even compiles?",
      "commit_id" : "b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9",
      "created_at" : "2022-02-14T15:57:22Z",
      "diff_hunk" : "@@ -203,7 +203,7 @@ BOOST_AUTO_TEST_CASE(existing_data_no_obfuscate)\n {\n     // We're going to share this fs::path between two wrappers\n     fs::path ph = m_args.GetDataDirBase() / \"existing_data_no_obfuscate\";\n-    create_directories(ph);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r805989994",
      "id" : 805989994,
      "line" : 206,
      "node_id" : "PRRC_kwDOABII584wCm5q",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 206,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/dbwrapper_tests.cpp",
      "position" : 4,
      "pull_request_review_id" : 881840898,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805989994/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T15:57:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/805989994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r806008534"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/806008534"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, no idea, I was surprised too. It started giving an error about an ambiguous overload with this patch.",
      "commit_id" : "b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9",
      "created_at" : "2022-02-14T16:15:52Z",
      "diff_hunk" : "@@ -203,7 +203,7 @@ BOOST_AUTO_TEST_CASE(existing_data_no_obfuscate)\n {\n     // We're going to share this fs::path between two wrappers\n     fs::path ph = m_args.GetDataDirBase() / \"existing_data_no_obfuscate\";\n-    create_directories(ph);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#discussion_r806008534",
      "id" : 806008534,
      "in_reply_to_id" : 805989994,
      "line" : 206,
      "node_id" : "PRRC_kwDOABII584wCrbW",
      "original_commit_id" : "01c5aefa032f1f7d28c132481624e2d74aa1d14b",
      "original_line" : 206,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/test/dbwrapper_tests.cpp",
      "position" : 4,
      "pull_request_review_id" : 881867506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24338",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/806008534/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-14T16:16:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/806008534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK  b9dff100ff2e7dfb9f216e98964fe28ef5bac3a9\r\n\r\nThe disabled function corresponds to the second `create_directories` of `3` in https://en.cppreference.com/w/cpp/filesystem/create_directory",
      "created_at" : "2022-02-14T17:03:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24338#issuecomment-1039328400",
      "id" : 1039328400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24338",
      "node_id" : "IC_kwDOABII58498uSQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039328400/reactions"
      },
      "updated_at" : "2022-02-14T17:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1039328400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
