[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-02-20T20:17:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-589288255",
      "id" : 589288255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4OTI4ODI1NQ==",
      "updated_at" : "2020-02-20T20:17:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589288255",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382333759"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382333759"
         }
      },
      "author_association" : "MEMBER",
      "body" : "After reading through the [docs](https://developer.apple.com/documentation/xcode/notarizing_macos_software_before_distribution) it seems that passing `--timestamp` here would also be required for notarization; given that we are signing manually?\r\n\r\n> Include a secure timestamp with your code-signing signature. (The Xcode distribution workflow includes a secure timestamp by default. For custom workflows, include the --timestamp option when running the codesign tool.) ",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-21T00:22:24Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ fi\n rm -rf ${TEMPDIR} ${TEMPLIST}\n mkdir -p ${TEMPDIR}\n \n-${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+${CODESIGN} --options runtime -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382333759",
      "id" : 382333759,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjMzMzc1OQ==",
      "original_commit_id" : "a89e4b4e867b55312e067614e9e79604e01a06d1",
      "original_position" : 5,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : null,
      "pull_request_review_id" : 362328374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382333759",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382337371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382337371"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there any reason why we can't pass `--strict` to `codesign` here as well?\r\n```bash\r\n     --strict options\r\n             When validating code, apply additional restrictions beyond the defaults.\r\n\r\n             symlinks  Check that symbolic links inside the code bundle point to sealed files inside its bundle.\r\n                       This means that broken symbolic links are rejected, as are links to places outside the bundle\r\n                       and to places that are not, for whatever reason, sealed by the signature.\r\n\r\n             sideband  Check that no resource forks, Finder attributes, or similar sideband data is present in the\r\n                       signed code.  This is now automatically enforced by signing operations.\r\n             Options can be specified as a comma-separated list. Use plain --strict or --strict=all to be as strict\r\n             as possible. Note that --strict=all may include more checking types over time.\r\n             Not all strictness check make sense in all circumstances, which is why these behaviors are not the\r\n             defualt.\r\n```",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-21T00:35:13Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ fi\n rm -rf ${TEMPDIR} ${TEMPLIST}\n mkdir -p ${TEMPDIR}\n \n-${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+${CODESIGN} --options runtime -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382337371",
      "id" : 382337371,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjMzNzM3MQ==",
      "original_commit_id" : "a89e4b4e867b55312e067614e9e79604e01a06d1",
      "original_position" : 5,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : null,
      "pull_request_review_id" : 362328374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382337371",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382592506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382592506"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Isn't that for validation only?",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-21T13:55:03Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ fi\n rm -rf ${TEMPDIR} ${TEMPLIST}\n mkdir -p ${TEMPDIR}\n \n-${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+${CODESIGN} --options runtime -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382592506",
      "id" : 382592506,
      "in_reply_to_id" : 382337371,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU5MjUwNg==",
      "original_commit_id" : "a89e4b4e867b55312e067614e9e79604e01a06d1",
      "original_position" : 5,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : null,
      "pull_request_review_id" : 362643346,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382592506",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382603069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382603069"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point. Added.",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-21T14:15:43Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ fi\n rm -rf ${TEMPDIR} ${TEMPLIST}\n mkdir -p ${TEMPDIR}\n \n-${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+${CODESIGN} --options runtime -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382603069",
      "id" : 382603069,
      "in_reply_to_id" : 382333759,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYwMzA2OQ==",
      "original_commit_id" : "a89e4b4e867b55312e067614e9e79604e01a06d1",
      "original_position" : 5,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : null,
      "pull_request_review_id" : 362657012,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382603069",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added the `--timestamp` option.\r\nMade a manual test run. Could successfully notarize the dmg (see log below).\r\n\r\nI manually signed the newest nighly build https://bitcoin.jonasschnelli.ch/gitian/builds/22 by modifying the gitian-osx-signer.yml. All modified files are in the folder [manual_notarization_test](https://bitcoin.jonasschnelli.ch/gitian/builds/22/manual_notarization_test/).\r\n\r\n@fanquake: Adding the `-entitlements` now makes little sense IMO since it would be unused (it would just contain the default values). We can always add it later.\r\n\r\n```\r\n          Date: 2020-02-21 14:11:11 +0000\r\n          Hash: 2462d19115966e6fc6e4c7afd264e9ec389dfbcde6cb34d0b9b5ba6524d75cd4\r\n    LogFileURL: https://osxapps-ssl.itunes.apple.com/itunes-assets/Enigma123/v4/84/d5/ee/84d5ee0f-e41e-29bf-4437-a3472e64a696/developer_log.json?accessKey=1582488795_6966001537870455962_Wr%2FztxOgDaSMx2v8B38P0D5i0tZW72CPjeDQ6dBVcqHi0V%2F%2BH%2FJSPK%2BC%2FHbaR7bRDf4GL4TDt1tIPMmhG6PgL4F5ehG6j80nF3HnzuHL%2FKGNALfbpotahmDjtLXsq1JVG4pSYbYgx1MO0TNnyu5dVEumhjSvwM2XyTVI%2B5qz6rU%3D\r\n   RequestUUID: b4e6478d-7656-404e-9de2-411b153fe184\r\n        Status: success\r\n   Status Code: 0\r\nStatus Message: Package Approved\r\n```",
      "created_at" : "2020-02-21T14:22:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-589673534",
      "id" : 589673534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4OTY3MzUzNA==",
      "updated_at" : "2020-02-21T14:22:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589673534",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "<img width=\"750\" alt=\"Bildschirmfoto 2020-02-21 um 15 22 55\" src=\"https://user-images.githubusercontent.com/178464/75042025-0dc8bc00-54be-11ea-81f0-7854dfeeda9d.png\">\r\n",
      "created_at" : "2020-02-21T14:23:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-589674103",
      "id" : 589674103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4OTY3NDEwMw==",
      "updated_at" : "2020-02-21T14:23:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/589674103",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382877857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382877857"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes that looks correct.",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-22T02:22:49Z",
      "diff_hunk" : "@@ -23,7 +23,7 @@ fi\n rm -rf ${TEMPDIR} ${TEMPLIST}\n mkdir -p ${TEMPDIR}\n \n-${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+${CODESIGN} --options runtime -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r382877857",
      "id" : 382877857,
      "in_reply_to_id" : 382337371,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg3Nzg1Nw==",
      "original_commit_id" : "a89e4b4e867b55312e067614e9e79604e01a06d1",
      "original_position" : 5,
      "path" : "contrib/macdeploy/detached-sig-create.sh",
      "position" : null,
      "pull_request_review_id" : 363002980,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/382877857",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r383056909"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383056909"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `notarization`",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-24T00:47:20Z",
      "diff_hunk" : "@@ -258,6 +258,19 @@ Commit your signature for the signed macOS/Windows binaries:\n \n ### After 3 or more people have gitian-built and their results match:\n \n+- macOS codesigner only: Notarize disk image:\n+Only one person handles notarization (macOS code sign key holder). Everyone else should skip to the next step. Requires an Apple Mac computer.\n+\n+```bash\n+xcrun altool --notarize-app --primary-bundle-id \"org.bitcoinfoundation.Bitcoin-Qt\" -u \"<code-signer-apple-developer-account-username>\" -p \"<password>\" --file bitcoin-${VERSION}-osx.dmg\n+```\n+\n+The notarizaion takes a few minutes. Check the status:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r383056909",
      "id" : 383056909,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA1NjkwOQ==",
      "original_commit_id" : "c9954b44329dc7aab8569d3f4dea7f1f7e31387f",
      "original_position" : 11,
      "path" : "doc/release-process.md",
      "position" : null,
      "pull_request_review_id" : 363138634,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383056909",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r383112705"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383112705"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks. Fixed.",
      "commit_id" : "852f43f0ff437967b37a1a590ec45e8d87cd159d",
      "created_at" : "2020-02-24T07:30:20Z",
      "diff_hunk" : "@@ -258,6 +258,19 @@ Commit your signature for the signed macOS/Windows binaries:\n \n ### After 3 or more people have gitian-built and their results match:\n \n+- macOS codesigner only: Notarize disk image:\n+Only one person handles notarization (macOS code sign key holder). Everyone else should skip to the next step. Requires an Apple Mac computer.\n+\n+```bash\n+xcrun altool --notarize-app --primary-bundle-id \"org.bitcoinfoundation.Bitcoin-Qt\" -u \"<code-signer-apple-developer-account-username>\" -p \"<password>\" --file bitcoin-${VERSION}-osx.dmg\n+```\n+\n+The notarizaion takes a few minutes. Check the status:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#discussion_r383112705",
      "id" : 383112705,
      "in_reply_to_id" : 383056909,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzExMjcwNQ==",
      "original_commit_id" : "c9954b44329dc7aab8569d3f4dea7f1f7e31387f",
      "original_position" : 11,
      "path" : "doc/release-process.md",
      "position" : null,
      "pull_request_review_id" : 363201137,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18187",
      "updated_at" : "2020-02-24T07:30:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/383112705",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake: you can't notarize .app folders. From the docs: `You can notarize an existing disk image, installer package, or ZIP archive containing your app`. I think that has to do with the fact that an .app bundle is actually a folder (probably not ideal for hashing).",
      "created_at" : "2020-02-24T07:32:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-590196605",
      "id" : 590196605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MDE5NjYwNQ==",
      "updated_at" : "2020-02-24T07:32:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/590196605",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I extended this patch to also include the required stapling actions.",
      "created_at" : "2020-02-26T10:21:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-591351145",
      "id" : 591351145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MTM1MTE0NQ==",
      "updated_at" : "2020-02-26T10:21:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591351145",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I tested the process described in the PRs release-notes documentation: https://bitcoin.jonasschnelli.ch/gitian/build/27\r\nhttps://bitcoin.jonasschnelli.ch/gitian/builds/27/manual_notarization_plus_stapling/\r\n\r\nOne can verify the code signature by `codesign -v --strict Bitcoin-Qt.app` and the notarization stapling `xcrun stapler validate Bitcoin-Qt.app`.",
      "created_at" : "2020-02-26T11:56:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-591389315",
      "id" : 591389315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MTM4OTMxNQ==",
      "updated_at" : "2020-02-26T11:56:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591389315",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK b513774304cc9d8f77d578cc62607f7733d76424. I'm able to verify the code signature and the notarisation of the example build @jonasschnelli uploaded.\r\n\r\nI'll keep an eye on it during upcoming gitian releases.\r\n\r\nThe stapled signature alleviates my privacy concerns, for now.\r\n\r\nIn the release process, I guess this needs to be appended:\r\n\r\n> Only once the Windows/macOS builds each have 3 matching signatures may they be signed _(and notarised)_ with their respective release keys. _If a notarized macOS build is never released, it will still be accepted by GateKeeper. If this is particularly dangerous Apple could be contacted to revoke it._\r\n\r\n---\r\n\r\nSome useful background on what happens if a _certificate_ is revoked. TL&DR previously stapled builds won't be affected, thanks to the `--timestamp`: https://lapcatsoftware.com/articles/notarization.html\r\n\r\nRegarding revocation of individual _tickets_, Apple docs are vague:\r\n\r\n> If you discover unauthorized versions of your software, you can work with Apple to revoke the tickets associated with those versions.\r\n\r\nI wonder what happens if Apple spontaneously decides, or is ordered to, revoke a notarisation ticket.\r\n\r\nWould users just see the same screen as they would if we don't staple at all? Or is there a special very scary screen? I can't find any reports of this happening in the wild. It also begs the question how macOS goes about checking if an attached staple has been revoked. It's not clear if this gives them any more power to prevent apps from being installed, compared to when they're not notarised.\r\n\r\nThis stuff is surprisingly (?) poorly documented given the privacy and user autonomy implications. We should keep an eye on what happens in the wild with other apps, so we can reconsider our notarisation policy for future releases if needed.",
      "created_at" : "2020-02-26T12:44:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-591407347",
      "id" : 591407347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MTQwNzM0Nw==",
      "updated_at" : "2020-02-26T12:46:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591407347",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "light code review ACK b513774304cc9d8f77d578cc62607f7733d76424, thanks a lot for working on this.\r\nWould be nice if @dongcarl or @theuni could take a look at the gitian build changes too.",
      "created_at" : "2020-02-26T17:48:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18187#issuecomment-591555218",
      "id" : 591555218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18187",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5MTU1NTIxOA==",
      "updated_at" : "2020-02-26T17:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/591555218",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
