[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17737 (Add ChainstateManager, remove BlockManager global by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-02-15T18:37:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-586629097",
      "id" : 586629097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18152",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU4NjYyOTA5Nw==",
      "updated_at" : "2020-04-03T00:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/586629097",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384670633"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384670633"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure what motivation is exposing the import state, but it seems like you'd want the state to be `INIT_REINDEX` not `INIT_IMPORT` during reindexing (see [`ThreadImport`](https://github.com/bitcoin/bitcoin/blob/e5d47ed8fd3724cc5295fca70573f1edf552ff62/src/init.cpp#L676-L693)) so I don't understand the way these are prioritized",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-02-26T18:09:59Z",
      "diff_hunk" : "@@ -226,31 +226,39 @@ static void BannedListChanged(ClientModel *clientmodel)\n     assert(invoked);\n }\n \n-static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+static ClientModel::NotificationStatus GetNotificationStatus (interfaces::Node& node, bool initial_sync)\n {\n-    // lock free async UI updates in case we have a new block tip\n-    // during initial sync, only update the UI if the last update\n-    // was > 250ms (MODEL_UPDATE_DELAY) ago\n-    int64_t now = 0;\n-    if (initialSync)\n-        now = GetTimeMillis();\n-\n-    int64_t& nLastUpdateNotification = fHeader ? nLastHeaderTipUpdateNotification : nLastBlockTipUpdateNotification;\n+    if (node.getImporting()) return ClientModel::NotificationStatus::INIT_IMPORT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384670633",
      "id" : 384670633,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3MDYzMw==",
      "original_commit_id" : "5bdd2831ee8092643fadc66e486aa3d839d05f6c",
      "original_line" : 231,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 365125185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-19T00:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384670633",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384672745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384672745"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't see how this could be right. It appears to be never calling numBlockChanged at all during POST_INIT state\r\n\r\nUsage of throttle here is also potentially confusing. \"throttle\" bool should indicate when to slow down notifications, not when to send them",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-02-26T18:13:46Z",
      "diff_hunk" : "@@ -226,31 +226,39 @@ static void BannedListChanged(ClientModel *clientmodel)\n     assert(invoked);\n }\n \n-static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+static ClientModel::NotificationStatus GetNotificationStatus (interfaces::Node& node, bool initial_sync)\n {\n-    // lock free async UI updates in case we have a new block tip\n-    // during initial sync, only update the UI if the last update\n-    // was > 250ms (MODEL_UPDATE_DELAY) ago\n-    int64_t now = 0;\n-    if (initialSync)\n-        now = GetTimeMillis();\n-\n-    int64_t& nLastUpdateNotification = fHeader ? nLastHeaderTipUpdateNotification : nLastBlockTipUpdateNotification;\n+    if (node.getImporting()) return ClientModel::NotificationStatus::INIT_IMPORT;\n+    if (node.getReindex()) return ClientModel::NotificationStatus::INIT_REINDEX;\n+    if (initial_sync) return ClientModel::NotificationStatus::INIT_DOWNLOAD;\n+    return ClientModel::NotificationStatus::POST_INIT;\n+}\n \n+static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+{\n     if (fHeader) {\n         // cache best headers time and height to reduce future cs_main locks\n         clientmodel->cachedBestHeaderHeight = height;\n         clientmodel->cachedBestHeaderTime = blockTime;\n     }\n \n-    // During initial sync, block notifications, and header notifications from reindexing are both throttled.\n-    if (!initialSync || (fHeader && !clientmodel->node().getReindex()) || now - nLastUpdateNotification > MODEL_UPDATE_DELAY) {\n-        //pass an async signal to the UI thread\n+    const ClientModel::NotificationStatus status = GetNotificationStatus(clientmodel->node(), initialSync);\n+    const bool throttle = (status == ClientModel::NotificationStatus::INIT_DOWNLOAD && !fHeader) ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r384672745",
      "id" : 384672745,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY3Mjc0NQ==",
      "original_commit_id" : "5bdd2831ee8092643fadc66e486aa3d839d05f6c",
      "original_line" : 246,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 365125185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-19T00:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/384672745",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky \r\nThank you for your review. Your comments have been addressed.\r\n\r\nAlso rebased due to #17399.",
      "created_at" : "2020-03-04T21:36:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-594862645",
      "id" : 594862645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18152",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU5NDg2MjY0NQ==",
      "updated_at" : "2020-03-04T21:36:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/594862645",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/387949044"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Reworked.",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-03-04T21:37:25Z",
      "diff_hunk" : "@@ -226,31 +226,39 @@ static void BannedListChanged(ClientModel *clientmodel)\n     assert(invoked);\n }\n \n-static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+static ClientModel::NotificationStatus GetNotificationStatus (interfaces::Node& node, bool initial_sync)\n {\n-    // lock free async UI updates in case we have a new block tip\n-    // during initial sync, only update the UI if the last update\n-    // was > 250ms (MODEL_UPDATE_DELAY) ago\n-    int64_t now = 0;\n-    if (initialSync)\n-        now = GetTimeMillis();\n-\n-    int64_t& nLastUpdateNotification = fHeader ? nLastHeaderTipUpdateNotification : nLastBlockTipUpdateNotification;\n+    if (node.getImporting()) return ClientModel::NotificationStatus::INIT_IMPORT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949044",
      "id" : 387949044,
      "in_reply_to_id" : 384670633,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk0OTA0NA==",
      "original_commit_id" : "5bdd2831ee8092643fadc66e486aa3d839d05f6c",
      "original_line" : 231,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 369141398,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-19T00:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/387949044",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949158"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/387949158"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-03-04T21:37:39Z",
      "diff_hunk" : "@@ -226,31 +226,39 @@ static void BannedListChanged(ClientModel *clientmodel)\n     assert(invoked);\n }\n \n-static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+static ClientModel::NotificationStatus GetNotificationStatus (interfaces::Node& node, bool initial_sync)\n {\n-    // lock free async UI updates in case we have a new block tip\n-    // during initial sync, only update the UI if the last update\n-    // was > 250ms (MODEL_UPDATE_DELAY) ago\n-    int64_t now = 0;\n-    if (initialSync)\n-        now = GetTimeMillis();\n-\n-    int64_t& nLastUpdateNotification = fHeader ? nLastHeaderTipUpdateNotification : nLastBlockTipUpdateNotification;\n+    if (node.getImporting()) return ClientModel::NotificationStatus::INIT_IMPORT;\n+    if (node.getReindex()) return ClientModel::NotificationStatus::INIT_REINDEX;\n+    if (initial_sync) return ClientModel::NotificationStatus::INIT_DOWNLOAD;\n+    return ClientModel::NotificationStatus::POST_INIT;\n+}\n \n+static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, int height, int64_t blockTime, double verificationProgress, bool fHeader)\n+{\n     if (fHeader) {\n         // cache best headers time and height to reduce future cs_main locks\n         clientmodel->cachedBestHeaderHeight = height;\n         clientmodel->cachedBestHeaderTime = blockTime;\n     }\n \n-    // During initial sync, block notifications, and header notifications from reindexing are both throttled.\n-    if (!initialSync || (fHeader && !clientmodel->node().getReindex()) || now - nLastUpdateNotification > MODEL_UPDATE_DELAY) {\n-        //pass an async signal to the UI thread\n+    const ClientModel::NotificationStatus status = GetNotificationStatus(clientmodel->node(), initialSync);\n+    const bool throttle = (status == ClientModel::NotificationStatus::INIT_DOWNLOAD && !fHeader) ||",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r387949158",
      "id" : 387949158,
      "in_reply_to_id" : 384672745,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk0OTE1OA==",
      "original_commit_id" : "5bdd2831ee8092643fadc66e486aa3d839d05f6c",
      "original_line" : 246,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/qt/clientmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 369141541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-05-19T00:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/387949158",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-10T18:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-612164352",
      "id" : 612164352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18152",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjE2NDM1Mg==",
      "updated_at" : "2020-04-10T18:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612164352",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426879020"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426879020"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: Pass SynchronizationState enum to GUI\" (ebc93a0d80b2fa899753e97be480ff3f290e9789)\r\n\r\nI think it probably doesn't make sense to have this in system.h, which mostly contains lower level operating system stuff. I'd probably move it to validation.h here https://github.com/bitcoin/bitcoin/blob/dc5333d31f280e09bb1e8cdacfbe842f4ab9e69b/src/validation.h#L105 near the related reindex/reimporting variables. It could also go in a `src/util/validation.h` header (which existed previously but was recently deleted)\r\n\r\nCould also add a descriptive comment for the enum like /** Current sync state passed to tip changed callbacks. */.\r\n\r\nCould also reorder enum to reflect order the states occur: Reindex -> Download -> Post-Init",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-05-18T20:35:32Z",
      "diff_hunk" : "@@ -107,6 +107,12 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+enum class SynchronizationState {\n+    INIT_DOWNLOAD,\n+    INIT_REINDEX,\n+    POST_INIT\n+};\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426879020",
      "id" : 426879020,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjg3OTAyMA==",
      "original_commit_id" : "ebc93a0d80b2fa899753e97be480ff3f290e9789",
      "original_line" : 115,
      "original_position" : 9,
      "original_start_line" : 110,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 413920612,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-05-19T00:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426879020",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 7a2a5edc09986bcbcfd370ece644e7c31fa71b25 -> a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc ([pr18152.03](https://github.com/hebasto/bitcoin/commits/pr18152.03) -> [pr18152.04](https://github.com/hebasto/bitcoin/commits/pr18152.04), [diff](https://github.com/hebasto/bitcoin/compare/pr18152.03..pr18152.04)):\r\n\r\n- rebased due to the conflict with #16224 and #17737\r\n- addressed @ryanofsky's [comment](https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426879020)",
      "created_at" : "2020-05-19T00:10:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630499465",
      "id" : 630499465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18152",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYzMDQ5OTQ2NQ==",
      "updated_at" : "2020-05-19T00:10:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/630499465",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426958346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426958346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Updated](https://github.com/bitcoin/bitcoin/pull/18152#issuecomment-630499465).",
      "commit_id" : "a0d0f1c6c3d736bc0ee076b7f27a0ef59fd260bc",
      "created_at" : "2020-05-19T00:11:21Z",
      "diff_hunk" : "@@ -107,6 +107,12 @@ inline bool IsSwitchChar(char c)\n #endif\n }\n \n+enum class SynchronizationState {\n+    INIT_DOWNLOAD,\n+    INIT_REINDEX,\n+    POST_INIT\n+};\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18152#discussion_r426958346",
      "id" : 426958346,
      "in_reply_to_id" : 426879020,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1ODM0Ng==",
      "original_commit_id" : "ebc93a0d80b2fa899753e97be480ff3f290e9789",
      "original_line" : 115,
      "original_position" : 9,
      "original_start_line" : 110,
      "path" : "src/util/system.h",
      "position" : null,
      "pull_request_review_id" : 414017280,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18152",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2020-05-19T00:11:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/426958346",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
