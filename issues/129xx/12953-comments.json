[
   {
      "author_association" : "MEMBER",
      "body" : "This is @achow101's #11497 rebased and reworked. Notable differences:\r\n\r\n- I've moved the RPC method deprecation up into the `CRPCTable::execute()` function. That's perhaps a little bit messy (rpc/server.cpp ideally wouldn't have knowledge of individual Bitcoin RPCs), but it saves a lot of code duplication and will be removed in V0.18, so I decided it was acceptable to have it there.\r\n- Some methods (`sendmany` and `listtransactions`) have alternative help text depending on whether the `-deprecatedrpcs=accounts` switch is used. That means some duplicate text, but it makes the help text a lot clearer in all cases (since it's not filed with \"if using accounts this else that\").\r\n- I've avoided the argument repositioning that achow101 used, since that breaks the way rpc server fills in positional arguments from named arguments. That means that `sendmany` and `listtransactions` now have a dummy argument in the same way that `move` did. We can do another API change in a future version if that's offensive to people.\r\n\r\nThis PR also renames `rpc_listtransactions.py` to `wallet_listtransactions.py` (since it's a wallet test). This makes it clear that only wallet tests are affected by this change.",
      "created_at" : "2018-04-11T19:08:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380563113",
      "id" : 380563113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-11T19:08:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380563113",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, will review.",
      "created_at" : "2018-04-11T20:20:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380583089",
      "id" : 380583089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-11T20:20:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380583089",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Review hint: recommend append [?w=1](https://github.com/bitcoin/bitcoin/pull/12953/files?w=1) to end, to avoid having to review whitespace changes. Edit: I noticed you can't actually put review comments when you do, so limited use. :/",
      "created_at" : "2018-04-12T01:01:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380641537",
      "id" : 380641537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T01:13:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380641537",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940313"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940313"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why ` {}`?",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T01:05:19Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940313",
      "id" : 180940313,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 108,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111451562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940313",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940393"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940393"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove the added `.` at end?",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T01:05:56Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +\n+            \"\\nAs a json rpc call\\n\"\n+            + HelpExampleRpc(\"sendmany\", \"{\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\":0.01,\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\":0.02}, 6, \\\"testing\\\"\");\n+    } else {\n+        help_text = \"sendmany \\\"\\\" \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n             \"\\nSend multiple times. Amounts are double-precision floating point numbers.\"\n             + HelpRequiringPassphrase(pwallet) + \"\\n\"\n             \"\\nArguments:\\n\"\n-            \"1. \\\"fromaccount\\\"         (string, required) DEPRECATED. The account to send the funds from. Should be \\\"\\\" for the default account\\n\"\n+            \"1. \\\"fromaccount\\\"         (string, required) DEPRECATED. The account to send the funds from. Should be \\\"\\\" for the default account.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940393",
      "id" : 180940393,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 156,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111451562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940393",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940693"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940693"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since we're splitting the function anyway, why have the dummy at all?\r\n\r\nI also wonder if we should have some form of upgrade plan for when we do this. I know e.g. @luke-jr prefers option objects.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T01:08:33Z",
      "diff_hunk" : "@@ -1769,19 +1820,64 @@ UniValue listtransactions(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 4)\n-        throw std::runtime_error(\n-            \"listtransactions ( \\\"account\\\" count skip include_watchonly)\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"listtransactions (dummy count skip include_watchonly)\\n\"\n+            \"\\nReturns up to 'count' most recent transactions skipping the first 'from' transactions for account 'account'.\\n\"\n+            \"Note that the \\\"account\\\" argument and \\\"otheraccount\\\" return value have been removed in V0.17. To use this RPC with an \\\"account\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"    (string, optional) If set, should be \\\"*\\\" for backwards compatibility.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180940693",
      "id" : 180940693,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 224,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 219,
      "pull_request_review_id" : 111451562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180940693",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180941014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180941014"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If `params[0]` is unset, this will throw an error at `get_str()` won't it?\r\nLooks like you want\r\n```C++\r\nif (!request.params[0].isNull()) {\r\n  strAccount = request.params[0].get_str();\r\n  if (!IsDeprecatedRPCEnabled(\"accounts\") && strAccount != \"*\") {\r\n    throw ...\r\n  }\r\n}\r\n```\r\n",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T01:12:00Z",
      "diff_hunk" : "@@ -1836,8 +1933,15 @@ UniValue listtransactions(const JSONRPCRequest& request)\n     pwallet->BlockUntilSyncedToCurrentChain();\n \n     std::string strAccount = \"*\";\n-    if (!request.params[0].isNull())\n-        strAccount = request.params[0].get_str();\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        if (request.params[0].get_str() != \"*\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r180941014",
      "id" : 180941014,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 308,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111451562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180941014",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "(Obvious) concept ACK",
      "created_at" : "2018-04-12T03:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380668867",
      "id" : 380668867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T03:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380668867",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181080203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181080203"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Missing dummy `\"\"`?",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:27:51Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181080203",
      "id" : 181080203,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 147,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181080203",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181080242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181080242"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Alternative:\r\n```cpp\r\nstatic const std::set<std::string> accounts_methods { \"getaccountaddress\", \"getaccount\", ... };\r\n...\r\n\r\nif (!IsDeprecatedRPCEnabled(\"accounts\") && account_methods.count(request.strMethod)) {\r\n```",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:27:56Z",
      "diff_hunk" : "@@ -474,13 +474,23 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n \n UniValue CRPCTable::execute(const JSONRPCRequest &request) const\n {\n+    static const std::vector<std::string> account_methods = {\"getaccountaddress\", \"getaccount\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181080242",
      "id" : 181080242,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 4,
      "path" : "src/rpc/server.cpp",
      "position" : null,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181080242",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181081914"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181081914"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Same as above.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:32:17Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +\n+            \"\\nAs a json rpc call\\n\"\n+            + HelpExampleRpc(\"sendmany\", \"{\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\":0.01,\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\":0.02}, 6, \\\"testing\\\"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181081914",
      "id" : 181081914,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 149,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181081914",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181082499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181082499"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Remove `LabelFromValue` because it raises `JSONRPCError(RPC_WALLET_INVALID_LABEL_NAME, \"Invalid label name\")`. I suggest to just `... && !request.params[0].get_str().empty()`.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:34:06Z",
      "diff_hunk" : "@@ -1093,6 +1141,9 @@ UniValue sendmany(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n     }\n \n+    if (!IsDeprecatedRPCEnabled(\"accounts\") && LabelFromValue(request.params[0]) != \"\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181082499",
      "id" : 181082499,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 177,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181082499",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083343"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083343"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not required. I've now removed.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:36:43Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083343",
      "id" : 181083343,
      "in_reply_to_id" : 180940313,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 108,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111623274,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083343",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083633"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083633"
         }
      },
      "author_association" : "MEMBER",
      "body" : "removed",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:37:31Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +\n+            \"\\nAs a json rpc call\\n\"\n+            + HelpExampleRpc(\"sendmany\", \"{\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\":0.01,\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\":0.02}, 6, \\\"testing\\\"\");\n+    } else {\n+        help_text = \"sendmany \\\"\\\" \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n             \"\\nSend multiple times. Amounts are double-precision floating point numbers.\"\n             + HelpRequiringPassphrase(pwallet) + \"\\n\"\n             \"\\nArguments:\\n\"\n-            \"1. \\\"fromaccount\\\"         (string, required) DEPRECATED. The account to send the funds from. Should be \\\"\\\" for the default account\\n\"\n+            \"1. \\\"fromaccount\\\"         (string, required) DEPRECATED. The account to send the funds from. Should be \\\"\\\" for the default account.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083633",
      "id" : 181083633,
      "in_reply_to_id" : 180940393,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 156,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111623637,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083633",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083906"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree, I don't see a reason to support the case \"I want the new behavior without accounts but keep the RPC argument\". People that wants to avoid breaking change launch with `-deprecatedrpc=accounts`.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:38:18Z",
      "diff_hunk" : "@@ -1769,19 +1820,64 @@ UniValue listtransactions(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 4)\n-        throw std::runtime_error(\n-            \"listtransactions ( \\\"account\\\" count skip include_watchonly)\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"listtransactions (dummy count skip include_watchonly)\\n\"\n+            \"\\nReturns up to 'count' most recent transactions skipping the first 'from' transactions for account 'account'.\\n\"\n+            \"Note that the \\\"account\\\" argument and \\\"otheraccount\\\" return value have been removed in V0.17. To use this RPC with an \\\"account\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"    (string, optional) If set, should be \\\"*\\\" for backwards compatibility.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181083906",
      "id" : 181083906,
      "in_reply_to_id" : 180940693,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 224,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 219,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181083906",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181084583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181084583"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Correct, `accounts` is optional.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:40:31Z",
      "diff_hunk" : "@@ -1836,8 +1933,15 @@ UniValue listtransactions(const JSONRPCRequest& request)\n     pwallet->BlockUntilSyncedToCurrentChain();\n \n     std::string strAccount = \"*\";\n-    if (!request.params[0].isNull())\n-        strAccount = request.params[0].get_str();\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        if (request.params[0].get_str() != \"*\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181084583",
      "id" : 181084583,
      "in_reply_to_id" : 180941014,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 308,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111619453,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181084583",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Since we're splitting the function anyway, why have the dummy at all?\r\n\r\nI mentioned this briefly in the PR text:\r\n\r\n> I've avoided the argument repositioning that achow101 used, since that breaks the way rpc server fills in positional arguments from named arguments.\r\n\r\n(@achow101's argument repositioning code is here: https://github.com/bitcoin/bitcoin/pull/11497/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR1086 for example)\r\n\r\nIn more detail:\r\n\r\n- the rpc/server.cpp function `transformNamedArguments()` uses the list of arguments from `CRPCTable ` to convert a keyed map of arguments into a univalue array.\r\n- That `CRPCTable` is constructed from the various `CRPCCommand` arrays in the rpc .cpp files. For `sendmany`, the entry is:\r\n```\r\n    { \"wallet\",             \"sendmany\",                         &sendmany,                      {\"fromaccount|dummy\",\"amounts\",\"minconf\",\"comment\",\"subtractfeefrom\",\"replaceable\",\"conf_target\",\"estimate_mode\"} },\r\n```\r\n- that means that when called with named arguments, the rpc server will eg place the `fromaccount` named argument into index 0 in the array, `amount` into index 1, and so on.\r\n- there's no way to change `CRPCTable` at runtime based on whether or not `-deprecatedrpc` was used. Changing that in rpc/server.cpp would be a very large change, and would involve placing more bitcoin-specific knowledge into the rpc server code.\r\n\r\nFunctionally, I think this is good behaviour anyway - users who were calling `sendmany` with an empty string as the `account` argument will not see any difference when they upgrade. Users who were using `sendmany` with accounts will see an immediate obvious break, and can either change to stop using accounts or use `-deprecatedrpc=accounts` for one more release.",
      "created_at" : "2018-04-12T13:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380813038",
      "id" : 380813038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T13:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380813038",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181089586"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181089586"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, much better. Thanks",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:54:42Z",
      "diff_hunk" : "@@ -1836,8 +1933,15 @@ UniValue listtransactions(const JSONRPCRequest& request)\n     pwallet->BlockUntilSyncedToCurrentChain();\n \n     std::string strAccount = \"*\";\n-    if (!request.params[0].isNull())\n-        strAccount = request.params[0].get_str();\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        if (request.params[0].get_str() != \"*\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181089586",
      "id" : 181089586,
      "in_reply_to_id" : 180941014,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 308,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111630928,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181089586",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181090602"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181090602"
         }
      },
      "author_association" : "MEMBER",
      "body" : "thanks. Fixed",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T13:57:28Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181090602",
      "id" : 181090602,
      "in_reply_to_id" : 181080203,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 147,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111632190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181090602",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "yes, that's nicer. Thanks",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T14:03:57Z",
      "diff_hunk" : "@@ -474,13 +474,23 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n \n UniValue CRPCTable::execute(const JSONRPCRequest &request) const\n {\n+    static const std::vector<std::string> account_methods = {\"getaccountaddress\", \"getaccount\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093010",
      "id" : 181093010,
      "in_reply_to_id" : 181080242,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 4,
      "path" : "src/rpc/server.cpp",
      "position" : null,
      "pull_request_review_id" : 111635165,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093010",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093099"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093099"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T14:04:13Z",
      "diff_hunk" : "@@ -1039,13 +1044,54 @@ UniValue sendmany(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() < 2 || request.params.size() > 8)\n-        throw std::runtime_error(\n-            \"sendmany \\\"fromaccount\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"sendmany \\\"\\\" {\\\"address\\\":amount,...} ( minconf \\\"comment\\\" [\\\"address\\\",...] replaceable conf_target \\\"estimate_mode\\\")\\n\"\n+            \"\\nSend multiple times. Amounts are double-precision floating point numbers.\\n\"\n+            \"Note that the \\\"fromaccount\\\" argument has been removed in V0.17. To use this RPC with a \\\"fromaccount\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            + HelpRequiringPassphrase(pwallet) + \"\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"               (string, required) Must be set to \\\"\\\" for backwards compatibility.\\n\"\n+            \"2. \\\"amounts\\\"             (string, required) A json object with addresses and amounts\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\":amount   (numeric or string) The bitcoin address is the key, the numeric amount (can be string) in \" + CURRENCY_UNIT + \" is the value\\n\"\n+            \"      ,...\\n\"\n+            \"    }\\n\"\n+            \"3. minconf                 (numeric, optional, default=1) Only use the balance confirmed at least this many times.\\n\"\n+            \"4. \\\"comment\\\"             (string, optional) A comment\\n\"\n+            \"5. subtractfeefrom         (array, optional) A json array with addresses.\\n\"\n+            \"                           The fee will be equally deducted from the amount of each selected address.\\n\"\n+            \"                           Those recipients will receive less bitcoins than you enter in their corresponding amount field.\\n\"\n+            \"                           If no addresses are specified here, the sender pays the fee.\\n\"\n+            \"    [\\n\"\n+            \"      \\\"address\\\"          (string) Subtract fee from this address\\n\"\n+            \"      ,...\\n\"\n+            \"    ]\\n\"\n+            \"6. replaceable            (boolean, optional) Allow this transaction to be replaced by a transaction with higher fees via BIP 125\\n\"\n+            \"7. conf_target            (numeric, optional) Confirmation target (in blocks)\\n\"\n+            \"8. \\\"estimate_mode\\\"      (string, optional, default=UNSET) The fee estimate mode, must be one of:\\n\"\n+            \"       \\\"UNSET\\\"\\n\"\n+            \"       \\\"ECONOMICAL\\\"\\n\"\n+            \"       \\\"CONSERVATIVE\\\"\\n\"\n+             \"\\nResult:\\n\"\n+            \"\\\"txid\\\"                   (string) The transaction id for the send. Only 1 transaction is created regardless of \\n\"\n+            \"                                    the number of addresses.\\n\"\n+            \"\\nExamples:\\n\"\n+            \"\\nSend two amounts to two different addresses:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\"\") +\n+            \"\\nSend two amounts to two different addresses setting the confirmation and comment:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 6 \\\"testing\\\"\") +\n+            \"\\nSend two amounts to two different addresses, subtract fee from amount:\\n\"\n+            + HelpExampleCli(\"sendmany\", \"\\\"{\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\":0.01,\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\":0.02}\\\" 1 \\\"\\\" \\\"[\\\\\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\\\\\",\\\\\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\\\\\"]\\\"\") +\n+            \"\\nAs a json rpc call\\n\"\n+            + HelpExampleRpc(\"sendmany\", \"{\\\"1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XX\\\":0.01,\\\"1353tsE8YMTA4EuV7dgUXGjNFf9KpVvKHz\\\":0.02}, 6, \\\"testing\\\"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093099",
      "id" : 181093099,
      "in_reply_to_id" : 181081914,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 149,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111635269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093099",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093332"
         }
      },
      "author_association" : "MEMBER",
      "body" : "agree. Thanks",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T14:04:58Z",
      "diff_hunk" : "@@ -1093,6 +1141,9 @@ UniValue sendmany(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n     }\n \n+    if (!IsDeprecatedRPCEnabled(\"accounts\") && LabelFromValue(request.params[0]) != \"\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093332",
      "id" : 181093332,
      "in_reply_to_id" : 181082499,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 177,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111635565,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093332",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093605"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@promag - please see https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380813038 for rationale.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-12T14:05:50Z",
      "diff_hunk" : "@@ -1769,19 +1820,64 @@ UniValue listtransactions(const JSONRPCRequest& request)\n         return NullUniValue;\n     }\n \n-    if (request.fHelp || request.params.size() > 4)\n-        throw std::runtime_error(\n-            \"listtransactions ( \\\"account\\\" count skip include_watchonly)\\n\"\n+    std::string help_text {};\n+    if (!IsDeprecatedRPCEnabled(\"accounts\")) {\n+        help_text = \"listtransactions (dummy count skip include_watchonly)\\n\"\n+            \"\\nReturns up to 'count' most recent transactions skipping the first 'from' transactions for account 'account'.\\n\"\n+            \"Note that the \\\"account\\\" argument and \\\"otheraccount\\\" return value have been removed in V0.17. To use this RPC with an \\\"account\\\" argument, restart\\n\"\n+            \"bitcoind with -deprecatedrpc=accounts\\n\"\n+            \"\\nArguments:\\n\"\n+            \"1. \\\"dummy\\\"    (string, optional) If set, should be \\\"*\\\" for backwards compatibility.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181093605",
      "id" : 181093605,
      "in_reply_to_id" : 180940693,
      "original_commit_id" : "14d2c093ccf7dc3853631111c01dce8fa1b5f5b1",
      "original_position" : 224,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 219,
      "pull_request_review_id" : 111635917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-12T14:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181093605",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review @kallewoof and @promag! Your comments are addressed in the latest push.\r\n\r\nThis requires an update to the release notes. I'll do that once the new code/functionality is stable.",
      "created_at" : "2018-04-12T14:10:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380818723",
      "id" : 380818723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T14:10:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380818723",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @jnewbery for the details.\r\n\r\nIIUC:\r\n - accounts are deprecated but API wise the arguments are still there;\r\n - in 0.18 accounts will be gone even dummy arguments.\r\n\r\nIf that's the case then I'm sorry to NACK - it's not possible to refactor existing software to face 0.18. In 0.17 we should provide both scenarios API wise!\r\n\r\nI haven't thought about the positional and named arguments thing with `CRPCTable` but I believe we should find a solution.",
      "created_at" : "2018-04-12T14:28:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380825247",
      "id" : 380825247,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T14:28:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380825247",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> in 0.18 accounts will be gone even dummy arguments.\r\n\r\nNo - there's no firm plan to remove the dummy arguments. At some point, we *could* remove them, but that would be a breaking API change.\r\n\r\nThe API change in this PR should be minimally invasive. For users calling `sendmany` and `listtransactions` without accounts, there's no change in the way they need to call the RPC. Changing the argument ordering as you've suggested would require *all* users of those PRC methods to change their client code, regardless of whether they're currently using accounts.\r\n\r\nDoes that address your concern? If not, could you elaborate a bit more?",
      "created_at" : "2018-04-12T14:39:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380828971",
      "id" : 380828971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T14:39:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380828971",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> No - there's no firm plan to remove the dummy arguments\r\n\r\nIf we do then:\r\n - it will be breaking change - and there is nothing wrong with that IMO\r\n - we must provide a new deprecation flag in 0.18 and only remove in 0.19.\r\n\r\n> Does that address your concern? \r\n\r\nYes, all clear.\r\n\r\nRestarted travis job. Will review again.",
      "created_at" : "2018-04-12T14:47:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380832080",
      "id" : 380832080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T14:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380832080",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> we must provide a new deprecation flag in 0.18 and only remove in 0.19.\r\n\r\nYes - any breaking API change should be protected by a deprecation switch (or API versions if we ever implement something like that)",
      "created_at" : "2018-04-12T14:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#issuecomment-380834795",
      "id" : 380834795,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12953",
      "updated_at" : "2018-04-12T14:55:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380834795",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181759541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181759541"
         }
      },
      "author_association" : "OWNER",
      "body" : "This is a smaller change, however because `rpc/server.cpp` is supposed to not be specific to bitcoin, I'd prefer to put the deprecation check in the individual methods.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-16T14:45:52Z",
      "diff_hunk" : "@@ -474,13 +474,22 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n \n UniValue CRPCTable::execute(const JSONRPCRequest &request) const\n {\n+    static const std::set<std::string> account_methods = {\"getaccountaddress\", \"getaccount\",\n+        \"getaddressesbyaccount\", \"getreceivedbyaccount\", \"listaccounts\", \"listreceivedbyaccount\",\n+        \"setaccount\", \"move\"};\n+\n     // Return immediately if in warmup\n     {\n         LOCK(cs_rpcWarmup);\n         if (fRPCInWarmup)\n             throw JSONRPCError(RPC_IN_WARMUP, rpcWarmupStatus);\n     }\n \n+    // Accounts RPC methods are deprecated",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181759541",
      "id" : 181759541,
      "original_commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "original_position" : 15,
      "path" : "src/rpc/server.cpp",
      "position" : 15,
      "pull_request_review_id" : 112445457,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-16T14:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181759541",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181765483"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181765483"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree that it's more correct to have these in the individual methods, but see my rationale above:\r\n\r\n> That's perhaps a little bit messy (rpc/server.cpp ideally wouldn't have knowledge of individual Bitcoin RPCs), but it saves a lot of code duplication and will be removed in V0.18, so I decided it was acceptable to have it there.\r\n\r\nAre you strongly opposed to have this code in rpc/server.cpp, even if just temporarily? If so, I can change the PR to move this code to individual methods.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-16T14:54:00Z",
      "diff_hunk" : "@@ -474,13 +474,22 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n \n UniValue CRPCTable::execute(const JSONRPCRequest &request) const\n {\n+    static const std::set<std::string> account_methods = {\"getaccountaddress\", \"getaccount\",\n+        \"getaddressesbyaccount\", \"getreceivedbyaccount\", \"listaccounts\", \"listreceivedbyaccount\",\n+        \"setaccount\", \"move\"};\n+\n     // Return immediately if in warmup\n     {\n         LOCK(cs_rpcWarmup);\n         if (fRPCInWarmup)\n             throw JSONRPCError(RPC_IN_WARMUP, rpcWarmupStatus);\n     }\n \n+    // Accounts RPC methods are deprecated",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181765483",
      "id" : 181765483,
      "in_reply_to_id" : 181759541,
      "original_commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "original_position" : 15,
      "path" : "src/rpc/server.cpp",
      "position" : 15,
      "pull_request_review_id" : 112452732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-16T14:54:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181765483",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181773237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181773237"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> but it saves a lot of code duplication\r\n\r\nWell it's just 8 deprecated methods. I'm fine either way.",
      "commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "created_at" : "2018-04-16T15:01:14Z",
      "diff_hunk" : "@@ -474,13 +474,22 @@ static inline JSONRPCRequest transformNamedArguments(const JSONRPCRequest& in, c\n \n UniValue CRPCTable::execute(const JSONRPCRequest &request) const\n {\n+    static const std::set<std::string> account_methods = {\"getaccountaddress\", \"getaccount\",\n+        \"getaddressesbyaccount\", \"getreceivedbyaccount\", \"listaccounts\", \"listreceivedbyaccount\",\n+        \"setaccount\", \"move\"};\n+\n     // Return immediately if in warmup\n     {\n         LOCK(cs_rpcWarmup);\n         if (fRPCInWarmup)\n             throw JSONRPCError(RPC_IN_WARMUP, rpcWarmupStatus);\n     }\n \n+    // Accounts RPC methods are deprecated",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12953#discussion_r181773237",
      "id" : 181773237,
      "in_reply_to_id" : 181759541,
      "original_commit_id" : "ba5bba9a18a63ba19603ac6e29fcb60113751ca9",
      "original_position" : 15,
      "path" : "src/rpc/server.cpp",
      "position" : 15,
      "pull_request_review_id" : 112456116,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12953",
      "updated_at" : "2018-04-16T15:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181773237",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
