[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Also @sipa since this is changing the guideline added in #10575.",
      "created_at" : "2018-04-10T19:10:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380214612",
      "id" : 380214612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T19:10:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380214612",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I agree. I think we went overboard with this.",
      "created_at" : "2018-04-10T19:11:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380214806",
      "id" : 380214806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T19:11:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380214806",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the checks the script does within source files are useful and not a burden\r\n\r\nI don't think having a duplicate include will ever happen. Even if it does happen, there is no harm and it can be easily fixed once every couple of years.",
      "created_at" : "2018-04-10T19:16:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380216321",
      "id" : 380216321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T19:16:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380216321",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke The PR title feels a bit misleading since the main part of this PR is the policy change (the policy introduced by @sipa in #10575). The linting is just a \"regression test\" for that policy.\r\n\r\nWhat about changing the title to \"Change #include policy\" or similar?",
      "created_at" : "2018-04-10T20:07:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380230011",
      "id" : 380230011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T20:08:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380230011",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "NACK\r\n\r\nI think the header include policy introduced by @sipa in #10575 is reasonable.\r\n\r\nAssuming that we keep @sipa:s policy then having a regression test for it in Travis to guard against newly introduced violations seems reasonable as well.\r\n\r\nHaving a Travis check for developer note violations will avoid having human reviewers point out nits/violations that could have be addressed pre-human-review.\r\n\r\nRemember: 1.) reviewer time is more scarce than developer time, 2.) computing time is cheap :-)",
      "created_at" : "2018-04-10T20:12:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380231525",
      "id" : 380231525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T20:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380231525",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What about changing the title to \"Change #include policy\" or similar?\r\n\r\nThanks, done.",
      "created_at" : "2018-04-10T20:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380231917",
      "id" : 380231917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T20:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380231917",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12933#discussion_r180558425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12933"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180558425"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please don't extend the scope beyond what is needed for your suggested policy change. No need to touch anything beyond `DUPLICATE_INCLUDES_IN_HEADER_AND_CPP_FILES` if we're switching to a new policy.",
      "commit_id" : "fa783dc74e7a8d8dd9ed8be1b621db7af7cebd33",
      "created_at" : "2018-04-10T20:33:12Z",
      "diff_hunk" : "@@ -1,43 +0,0 @@\n-#!/bin/bash\n-#\n-# Copyright (c) 2018 The Bitcoin Core developers\n-# Distributed under the MIT software license, see the accompanying\n-# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-#\n-# Check for duplicate includes.\n-\n-filter_suffix() {\n-    git ls-files | grep -E \"^src/.*\\.${1}\"'$' | grep -Ev \"/(leveldb|secp256k1|univalue)/\"\n-}\n-\n-EXIT_CODE=0\n-for HEADER_FILE in $(filter_suffix h); do\n-    DUPLICATE_INCLUDES_IN_HEADER_FILE=$(grep -E \"^#include \" < \"${HEADER_FILE}\" | sort | uniq -d)\n-    if [[ ${DUPLICATE_INCLUDES_IN_HEADER_FILE} != \"\" ]]; then\n-        echo \"Duplicate include(s) in ${HEADER_FILE}:\"\n-        echo \"${DUPLICATE_INCLUDES_IN_HEADER_FILE}\"\n-        echo\n-        EXIT_CODE=1\n-    fi\n-    CPP_FILE=${HEADER_FILE/%\\.h/.cpp}\n-    if [[ ! -e $CPP_FILE ]]; then\n-        continue\n-    fi\n-    DUPLICATE_INCLUDES_IN_HEADER_AND_CPP_FILES=$(grep -hE \"^#include \" <(sort -u < \"${HEADER_FILE}\") <(sort -u < \"${CPP_FILE}\") | grep -E \"^#include \" | sort | uniq -d)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#discussion_r180558425",
      "id" : 180558425,
      "original_commit_id" : "fa783dc74e7a8d8dd9ed8be1b621db7af7cebd33",
      "original_position" : 26,
      "path" : "contrib/devtools/lint-includes.sh",
      "position" : 26,
      "pull_request_review_id" : 110999993,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12933",
      "updated_at" : "2018-04-10T20:34:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180558425",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@practicalswift I am only aware of three cases of actual duplicate includes in the last three years ( #10840, #10561 and #6187) and I don't think it is worth to keep the lint check, since there is no harm in having those.",
      "created_at" : "2018-04-10T21:56:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380260634",
      "id" : 380260634,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T21:56:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380260634",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, whatever. Kept the duplicate include check.",
      "created_at" : "2018-04-10T21:59:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12933#issuecomment-380261177",
      "id" : 380261177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12933",
      "updated_at" : "2018-04-10T21:59:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380261177",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
