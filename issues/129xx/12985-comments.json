[
   {
      "author_association" : "MEMBER",
      "body" : "@ken2812221 Could you provide the basic steps you used to test this, so anyone else can recreate on a Windows VM?",
      "created_at" : "2018-04-16T02:00:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-381459196",
      "id" : 381459196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-16T02:00:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381459196",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fanquake I just add `wallet=C:\\Windows\\xxxx` to my config file.\r\n\r\nif bitcoin core has higher privilege, it can successfully create the directory, otherwise it crash",
      "created_at" : "2018-04-16T06:09:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-381489820",
      "id" : 381489820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-16T06:09:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381489820",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK - would like to see some more tested ACKs.",
      "created_at" : "2018-04-16T06:12:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-381490291",
      "id" : 381490291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-16T06:12:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381490291",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Gitian build is here: https://bitcoin.jonasschnelli.ch/build/573",
      "created_at" : "2018-04-17T10:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-381946905",
      "id" : 381946905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-17T10:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381946905",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've tested this using the method @ken2812221 suggested. Basically create a bitcoin.conf with\r\n```\r\nwallet=C:\\Windows\\xxxx\r\n```\r\n\r\nIf you then install ```0.16.0```, and choose to run at the end of the installation, Core will error on startup, because we can't specify a path as a wallet name.\r\n<img width=\"514\" alt=\"error\" src=\"https://user-images.githubusercontent.com/863730/38912299-152ba5a4-4307-11e8-8ff8-610349de4b1f.png\">\r\n\r\n```\r\n2018-04-18 04:48:31 Using 4 threads for script verification\r\n2018-04-18 04:48:31 scheduler thread start\r\n2018-04-18 04:48:31 Using wallet directory C:\\Users\\User\\AppData\\Roaming\\Bitcoin\\wallets\r\n2018-04-18 04:48:31 init message: Verifying wallet(s)...\r\n2018-04-18 04:48:41 Shutdown: In progress...\r\n2018-04-18 04:48:41 scheduler thread interrupt\r\n2018-04-18 04:48:41 Shutdown: done\r\n```\r\n\r\nHowever if you then install the [gitian build](https://bitcoin.jonasschnelli.ch/build/573) provided by @jonasschnelli, and launch Core at the end of the installation, we get an exception. Looking at the debug.log, we no longer have access to ```C:\\Windows\\```.\r\n<img width=\"522\" alt=\"fatal exception\" src=\"https://user-images.githubusercontent.com/863730/38912335-4245e45a-4307-11e8-8ebe-4728584231cb.png\">\r\n\r\n\r\n```\r\n2018-04-18T04:40:39Z init message: Verifying wallet(s)...\r\n2018-04-18T04:40:39Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2018-04-18T04:40:39Z Using wallet wallet.dat\r\n2018-04-18T04:40:39Z \r\n\r\n************************\r\nEXCEPTION: N5boost10filesystem16filesystem_errorE       \r\nboost::filesystem::create_directory: Access is denied: \"C:\\Windows\\xxxx\"       \r\nC:\\Program Files\\Bitcoin\\bitcoin-qt.exe in Runaway exception   \r\n```",
      "created_at" : "2018-04-18T04:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-382261369",
      "id" : 382261369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-18T04:57:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382261369",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@fanquake Thanks for testing. To be clear: All in all that seems a positive result? I suppose you used `C:\\windows` as a path that bitcoin core is supposed to not have access to?",
      "created_at" : "2018-04-18T06:37:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-382278735",
      "id" : 382278735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-18T06:37:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382278735",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj Yes, I think it's a positive result. Core should not have access to write files into ```C:\\Windows\\```. ",
      "created_at" : "2018-04-18T06:54:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-382282253",
      "id" : 382282253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-18T06:54:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382282253",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Right - it's similar to `/usr/`. I've kind of forgot about windows things somewhat.\r\nLooks good to me, then. Also added \"to backport\" as sane installer behavior is very important.",
      "created_at" : "2018-04-18T09:51:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-382331427",
      "id" : 382331427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-18T09:51:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382331427",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This may not be a good idea: https://mdb-blog.blogspot.com/2013/01/nsis-lunch-program-as-user-from-uac.html?showComment=1388694317801#c939517856791332836",
      "created_at" : "2018-04-18T10:26:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12985#issuecomment-382340852",
      "id" : 382340852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12985",
      "updated_at" : "2018-04-18T10:26:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382340852",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/2559390?v=4",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   }
]
