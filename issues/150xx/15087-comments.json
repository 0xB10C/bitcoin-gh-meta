[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15087#discussion_r244979978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15087"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/244979978"
         }
      },
      "author_association" : "MEMBER",
      "body" : "maybe keep one outside the section too (to ensure that case is tested)",
      "commit_id" : "8cff83124bcac936ecc6add6dca72b125a79a08f",
      "created_at" : "2019-01-03T12:04:45Z",
      "diff_hunk" : "@@ -30,8 +30,8 @@ def test_config_file_parser(self):\n         self.nodes[0].assert_start_raises_init_error(expected_msg='Error reading configuration file: parse error on line 1: nono, if you intended to specify a negated option, use nono=1 instead')\n \n         with open(inc_conf_file_path, 'w', encoding='utf-8') as conf:\n-            conf.write('server=1\\nrpcuser=someuser\\nrpcpassword=some#pass')\n-        self.nodes[0].assert_start_raises_init_error(expected_msg='Error reading configuration file: parse error on line 3, using # in rpcpassword can be ambiguous and should be avoided')\n+            conf.write('server=1\\nrpcuser=someuser\\n[main]\\nrpcpassword=some#pass')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#discussion_r244979978",
      "id" : 244979978,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NDk3OTk3OA==",
      "original_commit_id" : "170523fdc5048bdaaca6158c21decf817cf46c38",
      "original_position" : 6,
      "path" : "test/functional/feature_config_args.py",
      "position" : 9,
      "pull_request_review_id" : 188985934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15087",
      "updated_at" : "2019-01-09T04:32:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/244979978",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK",
      "created_at" : "2019-01-03T12:05:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#issuecomment-451125316",
      "id" : 451125316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15087",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTEyNTMxNg==",
      "updated_at" : "2019-01-03T12:05:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451125316",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested ACK 170523f.\r\n\r\n~~I prefer this version though:~~\r\n```diff\r\ndiff --git a/src/util/system.cpp b/src/util/system.cpp\r\nindex ffe4d21ee..8da476289 100644\r\n--- a/src/util/system.cpp\r\n+++ b/src/util/system.cpp\r\n@@ -863,12 +863,13 @@ static bool GetConfigOptions(std::istream& stream, std::string& error, std::vect\r\n                 error = strprintf(\"parse error on line %i: %s, options in configuration file must be specified without leading -\", linenr, str);\r\n                 return false;\r\n             } else if ((pos = str.find('=')) != std::string::npos) {\r\n-                std::string name = prefix + TrimString(str.substr(0, pos), pattern);\r\n-                std::string value = TrimString(str.substr(pos + 1), pattern);\r\n-                if (used_hash && name.find(\"rpcpassword\") != std::string::npos) {\r\n+                std::string name = TrimString(str.substr(0, pos), pattern);\r\n+                if (used_hash && name == \"rpcpassword\") {\r\n                     error = strprintf(\"parse error on line %i, using # in rpcpassword can be ambiguous and should be avoided\", linenr);\r\n                     return false;\r\n                 }\r\n+                name = prefix + name;\r\n+                std::string value = TrimString(str.substr(pos + 1), pattern);\r\n                 options.emplace_back(name, value);\r\n                 if ((pos = name.rfind('.')) != std::string::npos) {\r\n                     sections.insert(name.substr(0, pos));\r\n```\r\n~~Since Unless `regtest.rpcpassword=foo` is a valid line?~~\r\n\r\nThe above suggestion wouldn't catch lines like `regtest.rpcpassword=foo`.",
      "created_at" : "2019-01-03T14:53:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#issuecomment-451166108",
      "id" : 451166108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15087",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTE2NjEwOA==",
      "updated_at" : "2019-01-04T10:22:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451166108",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14866](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14866.html) (Improve property evaluation way in bitcoin.conf by AkioNak)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-01-03T16:41:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#issuecomment-451200926",
      "id" : 451200926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15087",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTIwMDkyNg==",
      "updated_at" : "2019-01-03T16:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451200926",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "~~@promag huh, yes, I hadn't noticed that the prefix was added there, I tend to agree that's better than a fuzzy query like `.find()`, I didn't consider it important enough to remark as I thought it involved increasing the amount/complexity of string parsing, but that doesn't seem too bad.~~\r\n\r\nEdit after IRC discussion: wrong, this would mean `regtest.rpcpassword=foo` is no longer detected, better stick to the current code.",
      "created_at" : "2019-01-04T09:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#issuecomment-451401367",
      "id" : 451401367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15087",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MTQwMTM2Nw==",
      "updated_at" : "2019-01-04T10:18:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451401367",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15087#discussion_r245259482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15087"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245259482"
         }
      },
      "author_association" : "MEMBER",
      "body" : "okay, it's clear we need to test all three, after the recent discussion it is very clear it's easy to miss one:\r\n```\r\nrpcpassword=   # bare\r\nregtest.rpcpassword=   # explicit section\r\n\r\n[regtest]\r\nrpcpassword=   # implicit section\r\n```",
      "commit_id" : "8cff83124bcac936ecc6add6dca72b125a79a08f",
      "created_at" : "2019-01-04T10:19:54Z",
      "diff_hunk" : "@@ -30,8 +30,8 @@ def test_config_file_parser(self):\n         self.nodes[0].assert_start_raises_init_error(expected_msg='Error reading configuration file: parse error on line 1: nono, if you intended to specify a negated option, use nono=1 instead')\n \n         with open(inc_conf_file_path, 'w', encoding='utf-8') as conf:\n-            conf.write('server=1\\nrpcuser=someuser\\nrpcpassword=some#pass')\n-        self.nodes[0].assert_start_raises_init_error(expected_msg='Error reading configuration file: parse error on line 3, using # in rpcpassword can be ambiguous and should be avoided')\n+            conf.write('server=1\\nrpcuser=someuser\\n[main]\\nrpcpassword=some#pass')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#discussion_r245259482",
      "id" : 245259482,
      "in_reply_to_id" : 244979978,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTI1OTQ4Mg==",
      "original_commit_id" : "170523fdc5048bdaaca6158c21decf817cf46c38",
      "original_position" : 6,
      "path" : "test/functional/feature_config_args.py",
      "position" : 9,
      "pull_request_review_id" : 189317875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15087",
      "updated_at" : "2019-01-09T04:32:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245259482",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 8cff83124bcac936ecc6add6dca72b125a79a08f",
      "created_at" : "2019-01-09T14:08:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15087#issuecomment-452708394",
      "id" : 452708394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15087",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MjcwODM5NA==",
      "updated_at" : "2019-01-09T14:08:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/452708394",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
