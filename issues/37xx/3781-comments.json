[
   {
      "body" : "To reduce the size of the binary, you can strip the debug symbols by running\r\n```\r\nstrip src/bitcoind src/bitcoin-cli\r\n```\r\nafter ```make```",
      "created_at" : "2014-03-02T20:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36466454",
      "id" : 36466454,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-02T20:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36466454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/551068?v=3",
         "events_url" : "https://api.github.com/users/FelixWeis/events{/privacy}",
         "followers_url" : "https://api.github.com/users/FelixWeis/followers",
         "following_url" : "https://api.github.com/users/FelixWeis/following{/other_user}",
         "gists_url" : "https://api.github.com/users/FelixWeis/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/FelixWeis",
         "id" : 551068,
         "login" : "FelixWeis",
         "organizations_url" : "https://api.github.com/users/FelixWeis/orgs",
         "received_events_url" : "https://api.github.com/users/FelixWeis/received_events",
         "repos_url" : "https://api.github.com/users/FelixWeis/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/FelixWeis/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/FelixWeis/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/FelixWeis"
      }
   },
   {
      "body" : "Use the gitian linux build, it will produce a static executable such as the one packaged and released.",
      "created_at" : "2014-03-03T06:18:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36484245",
      "id" : 36484245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T06:18:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36484245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Just checking... is that verified with \"ldd $executable\"?  Looking at the 0.9.0rc2 builds, they are not static.\r\n\r\nCrowd:  I did the same.  I built a completely static executable.  Usually there is a configure argument such as \"--enable-static\" to assist this.\r\n\r\nMy steps on Ubuntu:\r\n1) Add -static to CXXFLAGS\r\n2) Add -static to LDFLAGS\r\n3) Add -L/usr/lib/x86_64-linux-gnu to LDFLAGS.\r\n3) Compile proceeds just fine until the link step, which fails.\r\n4) Manually execute the link step for each executable (shown with \"make V=1\"), removing \"-L/usr/lib\" from the link command line.\r\n\r\nWe force /usr/lib into LDFLAGS somewhere, and this is incorrect.\r\n",
      "created_at" : "2014-03-03T13:00:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36507746",
      "id" : 36507746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:00:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36507746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Yes, that has been extensively verified. Some libraries are statically linked but not all. That's a conscious choice. For example the libc(++) is not statically linked as this is generally discouraged. Also (in the case of bitcoin-qt) Qt is not statically linked because that would foil integration into the desktop. On the other hand OpenSSL is statically linked to avoid problems with distributions that don't package ECDSA support, same for boost because those shared libraries are not usually available.\r\n\r\nSo that leaves only 'base OS'  direct dependencies. For bitcoind these are:\r\n\r\n    0x00000001 (NEEDED)                     Shared library: [librt.so.1]\r\n    0x00000001 (NEEDED)                     Shared library: [libstdc++.so.6]\r\n    0x00000001 (NEEDED)                     Shared library: [libm.so.6]\r\n    0x00000001 (NEEDED)                     Shared library: [libgcc_s.so.1]\r\n    0x00000001 (NEEDED)                     Shared library: [libpthread.so.0]\r\n    0x00000001 (NEEDED)                     Shared library: [libc.so.6]\r\n\r\nFor bitcoin-qt these are:\r\n\r\n    0x00000001 (NEEDED)                     Shared library: [librt.so.1]\r\n    0x00000001 (NEEDED)                     Shared library: [libQtGui.so.4]\r\n    0x00000001 (NEEDED)                     Shared library: [libQtNetwork.so.4]\r\n    0x00000001 (NEEDED)                     Shared library: [libQtCore.so.4]\r\n    0x00000001 (NEEDED)                     Shared library: [libQtDBus.so.4]\r\n    0x00000001 (NEEDED)                     Shared library: [libpthread.so.0]\r\n    0x00000001 (NEEDED)                     Shared library: [libstdc++.so.6]\r\n    0x00000001 (NEEDED)                     Shared library: [libm.so.6]\r\n    0x00000001 (NEEDED)                     Shared library: [libgcc_s.so.1]\r\n    0x00000001 (NEEDED)                     Shared library: [libc.so.6]\r\n\r\n(`readelf -d` output here as `ldd` also shows indirect dependencies)",
      "created_at" : "2014-03-03T13:10:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36508401",
      "id" : 36508401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:16:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36508401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Ok, then it is incorrect to say \"Use the gitian linux build, it will produce a static executable\"\r\n\r\nIt produces a dynamic executable, with some libs linked statically.\r\n",
      "created_at" : "2014-03-03T13:23:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36509261",
      "id" : 36509261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:23:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36509261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Yes I think I was confused with the windows build which is fully static.\r\n",
      "created_at" : "2014-03-03T13:26:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36509418",
      "id" : 36509418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:26:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36509418",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj \r\n[Use the gitian linux build, it will produce a static executable such as the one packaged and released.]\r\n\r\nthanks, could you tell me what is gitian linux build and how to do it? i want a static executable like the released sorry i am noob",
      "created_at" : "2014-03-03T13:49:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36511078",
      "id" : 36511078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:51:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36511078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6832717?v=3",
         "events_url" : "https://api.github.com/users/bitcoinder/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinder/followers",
         "following_url" : "https://api.github.com/users/bitcoinder/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinder/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinder",
         "id" : 6832717,
         "login" : "bitcoinder",
         "organizations_url" : "https://api.github.com/users/bitcoinder/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinder/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinder/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinder/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinder/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinder"
      }
   },
   {
      "body" : "@FelixWeis \r\nthanks, i will try it later",
      "created_at" : "2014-03-03T13:53:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36511382",
      "id" : 36511382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T13:53:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36511382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6832717?v=3",
         "events_url" : "https://api.github.com/users/bitcoinder/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinder/followers",
         "following_url" : "https://api.github.com/users/bitcoinder/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinder/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinder",
         "id" : 6832717,
         "login" : "bitcoinder",
         "organizations_url" : "https://api.github.com/users/bitcoinder/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinder/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinder/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinder/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinder/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinder"
      }
   },
   {
      "body" : "i also noticed that there are two ways to build bitcoind, one is mentioned in the post, another one is \r\ncd bitcoin-0.8.6-linux/src/src\r\nmake STATIC=1 -f makefile.unix bitcoind USE_UPNP=\r\n\r\nwhat is the difference? the second way requires a bitcoin-0.8.6-linux.tar.gz, the first way requires a source code zip file https://github.com/bitcoin/bitcoin/archive/master.zip",
      "created_at" : "2014-03-03T13:59:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36511853",
      "id" : 36511853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T14:00:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36511853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6832717?v=3",
         "events_url" : "https://api.github.com/users/bitcoinder/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinder/followers",
         "following_url" : "https://api.github.com/users/bitcoinder/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinder/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinder",
         "id" : 6832717,
         "login" : "bitcoinder",
         "organizations_url" : "https://api.github.com/users/bitcoinder/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinder/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinder/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinder/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinder/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinder"
      }
   },
   {
      "body" : "Building a fully static executable may also get in the way of some hardening options such as address space randomization (ie -fPIE/-pie).\r\n\r\nNo clue how the -L/usr/lib ends up in the linker options, I get it here too, my guess would be that it comes from one of the pkgconfig files and/or the boost detection.\r\n\r\n@bitcoinder As for using gitian to build, see for example Gavin's guide: http://gavintech.blogspot.nl/2014/02/gitian-building-bitcoin-releases.html",
      "created_at" : "2014-03-03T14:37:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36515163",
      "id" : 36515163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T14:38:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36515163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "is https://bitcoin.org/bin/0.8.6/bitcoin-0.8.6-linux.tar.gz a fully static executable bin?\r\ndoes this way work?\r\ncd bitcoin-0.8.6-linux/src/src\r\nmake STATIC=1 -f makefile.unix bitcoind USE_UPNP=\r\n\r\nbecause i found some code looks like a static switch in makefile.unix:\r\nLMODE = dynamic\r\nLMODE2 = dynamic\r\nifdef STATIC\r\n\tLMODE = static\r\n\tifeq (${STATIC}, all)\r\n\t\tLMODE2 = static\r\n\tendif\r\nelse\r\n\tTESTDEFS += -DBOOST_TEST_DYN_LINK\r\nendif\r\n\r\netc..",
      "created_at" : "2014-03-03T15:00:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36517573",
      "id" : 36517573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-03-03T15:00:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36517573",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6832717?v=3",
         "events_url" : "https://api.github.com/users/bitcoinder/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitcoinder/followers",
         "following_url" : "https://api.github.com/users/bitcoinder/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitcoinder/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitcoinder",
         "id" : 6832717,
         "login" : "bitcoinder",
         "organizations_url" : "https://api.github.com/users/bitcoinder/orgs",
         "received_events_url" : "https://api.github.com/users/bitcoinder/received_events",
         "repos_url" : "https://api.github.com/users/bitcoinder/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitcoinder/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitcoinder/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitcoinder"
      }
   },
   {
      "body" : "I've written down steps to do a gitian build from scratch in a VM here:\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/gitian-building.md\r\n\r\nApart from that I think the question has been answered in all possible ways, so I'm closing this.",
      "created_at" : "2014-05-02T17:49:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-42058776",
      "id" : 42058776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3781",
      "updated_at" : "2014-05-02T17:49:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42058776",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
