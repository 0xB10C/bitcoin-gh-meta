[
   {
      "body" : "inputs already spent has nothing to do with the wallet.\r\n\r\nHow many transactions are in this wallet roughly? ",
      "created_at" : "2014-03-19T19:02:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38093011",
      "id" : 38093011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-19T19:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38093011",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "6700 unique txs. but i have several thousand addresses and many of the txs involve multiple addresses. if i count the total non-unique txs from the output of listreceivedbyaddress, the number is 400K.\r\n\r\nand for comparison, listreceivedbyaddress only took 110 seconds to complete.",
      "created_at" : "2014-03-19T22:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38114347",
      "id" : 38114347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-19T22:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38114347",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4025756?v=3",
         "events_url" : "https://api.github.com/users/dfortner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dfortner/followers",
         "following_url" : "https://api.github.com/users/dfortner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dfortner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dfortner",
         "id" : 4025756,
         "login" : "dfortner",
         "organizations_url" : "https://api.github.com/users/dfortner/orgs",
         "received_events_url" : "https://api.github.com/users/dfortner/received_events",
         "repos_url" : "https://api.github.com/users/dfortner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dfortner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dfortner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dfortner"
      }
   },
   {
      "body" : "I tried to workaround this problem by scripting a solution summing the amounts from listreceivedbyaddress, but the amounts are completely wrong- it's only 10% of the expected amount (which was verified with blockchain.info). listaccounts and listreceivedbyaccount are also reporting the same wrong amounts as well.\r\n\r\nSo if the address amounts are wrong, the number of transactions I listed above are probably off as well.",
      "created_at" : "2014-03-27T22:24:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38868678",
      "id" : 38868678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-27T22:24:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38868678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4025756?v=3",
         "events_url" : "https://api.github.com/users/dfortner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dfortner/followers",
         "following_url" : "https://api.github.com/users/dfortner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dfortner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dfortner",
         "id" : 4025756,
         "login" : "dfortner",
         "organizations_url" : "https://api.github.com/users/dfortner/orgs",
         "received_events_url" : "https://api.github.com/users/dfortner/received_events",
         "repos_url" : "https://api.github.com/users/dfortner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dfortner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dfortner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dfortner"
      }
   },
   {
      "body" : "I had a similar problem when updating from 0.8.6 to 0.9.0. In my case, getinfo showed the same behaviour as getbalance (100% cpu usage, never completes). Running with `-salvagewallet` solved that but left me with a fraction of my funds (10% is about right). I worked around it by creating a new wallet, opening the old wallet in 0.6.8 and moving all funds over.",
      "created_at" : "2014-03-28T07:00:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38893371",
      "id" : 38893371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-28T07:02:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38893371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4348296?v=3",
         "events_url" : "https://api.github.com/users/leofidus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/leofidus/followers",
         "following_url" : "https://api.github.com/users/leofidus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/leofidus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/leofidus",
         "id" : 4348296,
         "login" : "leofidus",
         "organizations_url" : "https://api.github.com/users/leofidus/orgs",
         "received_events_url" : "https://api.github.com/users/leofidus/received_events",
         "repos_url" : "https://api.github.com/users/leofidus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/leofidus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/leofidus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/leofidus"
      }
   },
   {
      "body" : "The problem (also noted by @gavinandresen when he made the anti-malleability wallet changes for 0.9.0) is that we don't have any really busy wallets to test with.\r\n\r\nWe would need such a wallet in the dev team to be able to profile / debug / optimize this.\r\n\r\n",
      "created_at" : "2014-03-28T08:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38897195",
      "id" : 38897195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-28T08:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38897195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "If someone experiencing an extreme case of this problem (e.g. taking a minute or more) is able to build Bitcoin core for themselves and test the simple patch in pull https://github.com/bitcoin/bitcoin/pull/3973 it would be helpful. I'm not sure if it is the same problem here or not, but I think it may be.",
      "created_at" : "2014-03-28T17:08:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38943566",
      "id" : 38943566,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-28T17:09:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38943566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Tested the patch and it works for me.",
      "created_at" : "2014-03-29T04:16:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38986446",
      "id" : 38986446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-29T04:16:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38986446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4025756?v=3",
         "events_url" : "https://api.github.com/users/dfortner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dfortner/followers",
         "following_url" : "https://api.github.com/users/dfortner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dfortner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dfortner",
         "id" : 4025756,
         "login" : "dfortner",
         "organizations_url" : "https://api.github.com/users/dfortner/orgs",
         "received_events_url" : "https://api.github.com/users/dfortner/received_events",
         "repos_url" : "https://api.github.com/users/dfortner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dfortner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dfortner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dfortner"
      }
   },
   {
      "body" : "BugAndNewsReporter: Can I understand that to mean that it made it much faster?",
      "created_at" : "2014-03-29T04:52:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38986993",
      "id" : 38986993,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-29T04:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38986993",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Yes, getbalance now returns with the same speed as 0.8.6. So I'd consider this issue solved.",
      "created_at" : "2014-03-29T08:23:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3903#issuecomment-38989927",
      "id" : 38989927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3903",
      "updated_at" : "2014-03-29T08:23:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38989927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4025756?v=3",
         "events_url" : "https://api.github.com/users/dfortner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dfortner/followers",
         "following_url" : "https://api.github.com/users/dfortner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dfortner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dfortner",
         "id" : 4025756,
         "login" : "dfortner",
         "organizations_url" : "https://api.github.com/users/dfortner/orgs",
         "received_events_url" : "https://api.github.com/users/dfortner/received_events",
         "repos_url" : "https://api.github.com/users/dfortner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dfortner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dfortner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dfortner"
      }
   }
]
