[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/4b0eb790681673e169c8a421150ddac4b0a949a9 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-04-03T13:51:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#issuecomment-39452997",
      "id" : 39452997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3999",
      "updated_at" : "2014-04-03T13:51:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39452997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3999#discussion_r11261330"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3999"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11261330"
         }
      },
      "body" : "Nit: n/t ;)...",
      "commit_id" : "4b0eb790681673e169c8a421150ddac4b0a949a9",
      "created_at" : "2014-04-03T17:04:49Z",
      "diff_hunk" : "@@ -27,6 +27,10 @@\n     double GuessVerificationProgress(CBlockIndex *pindex, bool fSigchecks = true);\n \n     extern bool fEnabled;\n+\n+    /** Check whether we are doing an initial block download (synchronizing from disk or network) */\n+    bool IsInitialBlockDownload();\n }\n \n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#discussion_r11261330",
      "id" : 11261330,
      "original_commit_id" : "4b0eb790681673e169c8a421150ddac4b0a949a9",
      "original_position" : 9,
      "path" : "src/checkpoints.h",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3999",
      "updated_at" : "2014-04-03T17:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11261330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I don't see why it is either useful or wanted to have that method there. It doesn't belong there.",
      "created_at" : "2014-04-03T17:42:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#issuecomment-39481554",
      "id" : 39481554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3999",
      "updated_at" : "2014-04-03T17:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39481554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Reducing the size of main is a good idea, but not by moving logic to arbitrary places.\r\n\r\nAll variables accessed by this method are internal state to main that shouldn't be exposed in the first place, and only is because of legacy reasons.",
      "created_at" : "2014-04-03T17:44:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#issuecomment-39481811",
      "id" : 39481811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3999",
      "updated_at" : "2014-04-03T17:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39481811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gmaxwell Just told me he originally did this to be able to access IsInitialBlockDownload() from net.\r\n\r\nI still think this is a bad idea. It accesses fImporting, fReindex, chainActive, local time, ... none of which have anything to do with checkpoints. Also, it requires locking cs_main before calling because of that, making it illegal to just call from network code anyway.\r\n\r\nThe right way is adding a wrapper method in main that acquires cs_main and then calls the current implementation, and add that method to CNodeSignals. That way, net can safely call it.\r\n\r\nThe long term solution is merging net and main, and then separating the \"validation logic\" and the \"peer state logic\" to different modules. IsInitialBlockDownload would become part of the second.\r\n\r\nAlso, and independent from this: I think checkpoints should move into chainparams, and become data-only (or just disappear).",
      "created_at" : "2014-04-03T17:59:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#issuecomment-39483745",
      "id" : 39483745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3999",
      "updated_at" : "2014-04-03T19:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39483745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Okay, never mind, didn't know this was so controversial. No one commented this on #3461.\r\n\r\n",
      "created_at" : "2014-04-04T06:27:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3999#issuecomment-39535306",
      "id" : 39535306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3999",
      "updated_at" : "2014-04-04T06:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39535306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
