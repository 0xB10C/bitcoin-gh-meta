[
   {
      "author_association" : "MEMBER",
      "body" : "cc @achow101",
      "created_at" : "2023-03-20T12:03:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476101437",
      "id" : 1476101437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X-4U9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476101437/reactions"
      },
      "updated_at" : "2023-03-20T12:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476101437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Doesn't look like you've provided anything more actionable or useful than the last comment in #19034?",
      "created_at" : "2023-03-20T12:08:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476110273",
      "id" : 1476110273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X-6fB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476110273/reactions"
      },
      "updated_at" : "2023-03-20T12:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476110273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also if you are going to open issues like this, can you provide more information. i.e you don't even tell us what version of the code this happens with. I guess we are meant to assume it's the latest commit in master? What compiler versions did you use? What system are you running on?",
      "created_at" : "2023-03-20T12:12:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476116230",
      "id" : 1476116230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X-78G",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476116230/reactions"
      },
      "updated_at" : "2023-03-20T12:12:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476116230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">There's currently no suppression file for the address sanitizer \r\n\r\nSee https://github.com/bitcoin/bitcoin/blob/master/test/sanitizer_suppressions/lsan",
      "created_at" : "2023-03-20T12:15:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476120851",
      "id" : 1476120851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X-9ET",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476120851/reactions"
      },
      "updated_at" : "2023-03-20T12:15:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476120851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@fanquake that was 65840 bytes, this one is 320 bytes, so I assume it's a different issue?\r\n\r\nI was going to add more details if anyone couldn't reproduce it, but here we go:\r\n\r\nFound it while testing a PR, but reproduced on master @ 40e1c4d4024b8ad35f2511b2e10bf80c5531dfde.\r\n\r\n```\r\nUbuntu clang version 15.0.6\r\nTarget: x86_64-pc-linux-gnu\r\n\r\nUbuntu 22.10 (GNU/Linux 6.0.6-060006-generic x86_64)\r\n```\r\n\r\n@MarcoFalke I'll see if I can get that too work.",
      "created_at" : "2023-03-20T12:34:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476147317",
      "id" : 1476147317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_Dh1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476147317/reactions"
      },
      "updated_at" : "2023-03-20T12:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476147317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This leak may be fixed in bdb5.3, but I haven't re-checked this.",
      "created_at" : "2023-03-20T12:36:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476150784",
      "id" : 1476150784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_EYA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476150784/reactions"
      },
      "updated_at" : "2023-03-20T12:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476150784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Narrowed it down to `BOOST_FIXTURE_TEST_CASE(CreateWallet, TestChain100Setup)`.",
      "created_at" : "2023-03-20T12:58:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476189108",
      "id" : 1476189108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_Nu0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476189108/reactions"
      },
      "updated_at" : "2023-03-20T12:58:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476189108",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I was going to add more details if anyone couldn't reproduce it, but here we go\n\nIn future, save us all wasting our time, and provide the (trivial to do so) details initially.",
      "created_at" : "2023-03-20T13:03:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476197268",
      "id" : 1476197268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_PuU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476197268/reactions"
      },
      "updated_at" : "2023-03-20T13:03:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476197268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That test can be further narrowed down:\r\n\r\n```cpp\r\nBOOST_FIXTURE_TEST_CASE(CreateWallet, TestChain100Setup)\r\n{\r\n    WalletContext context;\r\n    context.args = &m_args;\r\n    context.chain = m_node.chain.get();\r\n    auto wallet = TestLoadWallet(context);\r\n    // TestUnloadWallet(std::move(wallet));\r\n    // wallet = TestLoadWallet(context);\r\n    TestUnloadWallet(std::move(wallet));\r\n}\r\n```\r\n\r\nUncommenting the extra unload & load will trigger the sanitizer.\r\n\r\n\r\nThis also implies it's different from #19034 because that specifically refers to \"This happens when trying to load a wallet with corrupt logs.\". I might do a bisect...",
      "created_at" : "2023-03-20T13:09:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476207042",
      "id" : 1476207042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_SHC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476207042/reactions"
      },
      "updated_at" : "2023-03-20T13:20:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476207042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I went back to the #18727 merge commit 0f204dd3f21b997334a0e99954c939db154b64ca where this test was introduced. In order to test that old commit, I used `contrib/install_db4.sh` as it existed at the time, but otherwise didn't use depends (can't get that old version of boost to build). I then recreated a narrowed down test:\r\n\r\n```cpp\r\n    auto chain = interfaces::MakeChain(m_node);\r\n    auto wallet = TestLoadWallet(*chain);\r\n    TestUnloadWallet(std::move(wallet));\r\n    wallet = TestLoadWallet(*chain);\r\n    TestUnloadWallet(std::move(wallet));\r\n```\r\n\r\nThis did not produce a memory leak (the full test file does).\r\n\r\nSo I guess we have a `good` and `bad` for `bisect` now, but with all the build system changes it's a bit non-trivial. It may be more efficient to just figure out what causes the memory leak.",
      "created_at" : "2023-03-20T14:44:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27283#issuecomment-1476364655",
      "id" : 1476364655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27283",
      "node_id" : "IC_kwDOABII585X_4lv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476364655/reactions"
      },
      "updated_at" : "2023-03-20T14:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476364655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
