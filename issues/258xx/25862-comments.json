[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-17T15:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#issuecomment-1218160775",
      "id" : 1218160775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
      "node_id" : "IC_kwDOABII585Im6iH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218160775/reactions"
      },
      "updated_at" : "2022-08-17T15:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218160775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased ba91ffa1ce09f8732cb9dbb0c7eddc3199c81b9d -> 841c3a1205befa4882cc2d2014229df9b27c38a1 ([`pr/dbargs.1`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.1) -> [`pr/dbargs.2`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/dbargs.1-rebase..pr/dbargs.2)) due to conflicts with #25815 and #25077\r\nUpdated 841c3a1205befa4882cc2d2014229df9b27c38a1 -> b86aabc5207af8347307ee66b9a783a1e94e13ba ([`pr/dbargs.2`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.2) -> [`pr/dbargs.3`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.3), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/dbargs.2..pr/dbargs.3)) to fix some CI compile errors on some platforms\r\nUpdated b86aabc5207af8347307ee66b9a783a1e94e13ba -> 13d466e247e77ea9f603d0205e484726508d7b99 ([`pr/dbargs.3`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.3) -> [`pr/dbargs.4`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.4), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/dbargs.3..pr/dbargs.4)) to fix more CI compiler problems https://cirrus-ci.com/task/5035326870650880\r\nUpdated 13d466e247e77ea9f603d0205e484726508d7b99 -> 370189fe960924bf254591316ab03971cef98335 ([`pr/dbargs.4`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.4) -> [`pr/dbargs.5`](https://github.com/ryanofsky/bitcoin/commits/pr/dbargs.5), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/dbargs.4..pr/dbargs.5)) updating bitcoin-chainstate example\r\n",
      "created_at" : "2022-08-17T15:42:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#issuecomment-1218189643",
      "id" : 1218189643,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
      "node_id" : "IC_kwDOABII585InBlL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218189643/reactions"
      },
      "updated_at" : "2022-08-18T14:10:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218189643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25908](https://github.com/bitcoin/bitcoin/pull/25908) (p2p: remove adjusted time by fanquake)\n* [#25905](https://github.com/bitcoin/bitcoin/pull/25905) (refactor: Move ChainstateManager options into m_options struct by ryanofsky)\n* [#25781](https://github.com/bitcoin/bitcoin/pull/25781) (Remove almost all blockstorage globals by MarcoFalke)\n* [#25704](https://github.com/bitcoin/bitcoin/pull/25704) (refactor: Remove almost all validation option globals by MarcoFalke)\n* [#24230](https://github.com/bitcoin/bitcoin/pull/24230) (indexes: Stop using node internal types and locking cs_main, improve sync logic by ryanofsky)\n* [#24199](https://github.com/bitcoin/bitcoin/pull/24199) (Add cs_main annotation to WriteBatchSync(), drop lock in CDiskBlockIndex by jonatack)\n* [#22663](https://github.com/bitcoin/bitcoin/pull/22663) (dbwrapper: properly destroy objects in case CDBWrapper ctor throws by Crypt-iQ)\n* [#17487](https://github.com/bitcoin/bitcoin/pull/17487) (coins: allow write to disk without cache drop by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-08-17T17:38:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#issuecomment-1218312472",
      "id" : 1218312472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
      "node_id" : "IC_kwDOABII585InfkY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218312472/reactions"
      },
      "updated_at" : "2022-08-24T15:52:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1218312472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-22T10:37:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#issuecomment-1222170603",
      "id" : 1222170603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
      "node_id" : "IC_kwDOABII585I2Nfr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1222170603/reactions"
      },
      "updated_at" : "2022-08-22T10:37:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1222170603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951289957"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951289957"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This will make internal code really verbose, forcing stuff like `m_options.m_max_tip_age` in every place an option is used (there are many places)",
      "commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "created_at" : "2022-08-22T10:49:21Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951289957",
      "id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844s4hl",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1080256142,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951289957/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T10:49:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951289957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951447702"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951447702"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> This will make internal code really verbose, forcing stuff like `m_options.m_max_tip_age` in every place an option is used (there are many places)\r\n\r\nIs this comment made in context of your remove globals PR #25704? Was going to review that today!\r\n\r\nIMO, `m_options.max_tip_age` instead of `m_max_tip_age` is clarity not verbosity. I think in cases where an option is accessed 1-3 times, this also should be less verbose than the alternative, because the ChainstateManager class doesn't need to repeat all the individual option definitions and constructor initializations. Even cases where the same option is accessed >3 times, you could add a 1-line accessor method like `auto GetMaxTipAge() { return options.m_max_tip_age; }` to abbreviate.\r\n\r\nBut unless it's obvious people reading code \"max tip age\" is an external setting, I do think \"m_options.max_tip_age\" is a clearer way of writing it than `m_max_tip_age` or `GetMaxTipAge()`. (Also the options member name should probably be `max_tip_age` not `m_max_tip_age` because Options is a open struct not an OOP class with private state.)",
      "commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "created_at" : "2022-08-22T13:33:58Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951447702",
      "id" : 951447702,
      "in_reply_to_id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844tfCW",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1080503462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951447702/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T13:35:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951447702",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951459817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951459817"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh, I meant `m_chainman.m_options.max_tip_age` (when accessed through the chainstate). Though, happy to change.\r\n\r\nMaybe split up this change into another pull so that both pulls can work on the same base (maybe even avoiding a conflict) without risking to refactor the same lines of code twice in a short period of time?",
      "commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "created_at" : "2022-08-22T13:44:51Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951459817",
      "id" : 951459817,
      "in_reply_to_id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844th_p",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1080521539,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951459817/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T13:44:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951459817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951719921"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951719921"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951459817\r\n\r\n> Maybe split up this change into another pull so that both pulls can work on the same base (maybe even avoiding a conflict) without risking to refactor the same lines of code twice in a short period of time?\r\n\r\nThanks, makes sense. I posted #25905 with just this change.",
      "commit_id" : "1c77e2e0dbf18043175fbb9b8632a64b74672678",
      "created_at" : "2022-08-22T17:38:03Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r951719921",
      "id" : 951719921,
      "in_reply_to_id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844uhfx",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1080911180,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951719921/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-22T17:40:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/951719921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r952210272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952210272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if the same should be done to blockman (#25781), but there the symbols are `chainstate.m_chainman.m_blockman.m_prune_mode`, which would turn into `chainstate.m_chainman.m_blockman.m_options.prune_mode`. Idk, both seem equally verbose.",
      "commit_id" : "1c77e2e0dbf18043175fbb9b8632a64b74672678",
      "created_at" : "2022-08-23T06:43:49Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r952210272",
      "id" : 952210272,
      "in_reply_to_id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844wZNg",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1081551840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952210272/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-23T06:43:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952210272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r952423585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952423585"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd probably opt to group the blockman options into a struct, but I don't think there is as much benefit because there are only 2 options instead of 6+.\r\n\r\nI do see difference between the verbosity of `chainstate.m_chainman.m_blockman` (which is probably bad) and the verbosity of `m_blockman.m_options.prune_mode` (which is probably good). The verbosity in the first case is a \"message chain\" code smell (https://oowisdom.csse.canterbury.ac.nz/index.php/Message_chain_smell, https://en.wikipedia.org/wiki/Law_of_Demeter) indicating chainstate & chainman classes are might be doing too many things are and could be too closely coupled to block manager. The verbosity in the second case is caused by organizing related variables into a struct so they can be distinguished and treated as a logical unit.\r\n\r\nI wouldn't want to hide an indication of poor code quality in one part of code by avoiding a potential improvement to a different part of the code. But I don't think stakes are very high, so any choice is probably reasonable here.",
      "commit_id" : "1c77e2e0dbf18043175fbb9b8632a64b74672678",
      "created_at" : "2022-08-23T10:14:23Z",
      "diff_hunk" : "@@ -881,6 +878,7 @@ class ChainstateManager\n      */\n     RecursiveMutex& GetMutex() const LOCK_RETURNED(::cs_main) { return ::cs_main; }\n \n+    Options m_options;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#discussion_r952423585",
      "id" : 952423585,
      "in_reply_to_id" : 951289957,
      "line" : 881,
      "node_id" : "PRRC_kwDOABII5844xNSh",
      "original_commit_id" : "370189fe960924bf254591316ab03971cef98335",
      "original_line" : 881,
      "original_position" : 43,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 43,
      "pull_request_review_id" : 1081859283,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25862",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952423585/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-23T10:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952423585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-25T08:14:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25862#issuecomment-1226930909",
      "id" : 1226930909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25862",
      "node_id" : "IC_kwDOABII585JIXrd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226930909/reactions"
      },
      "updated_at" : "2022-08-25T08:14:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1226930909",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
