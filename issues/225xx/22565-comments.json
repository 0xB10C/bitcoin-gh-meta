[
   {
      "author_association" : "NONE",
      "body" : "In addition to the above, since the faucet limit is once per 24 hrs for each IP address, getcoins.py can only be used once for each IP. However, using it twice gives a vague output like this:\r\n\r\n```\r\n[nikhilb@nikhil-PC bitcoin]$ contrib/signet/getcoins.py \r\nCaptcha required (reload page)\r\n\r\n```\r\nIt would be better if the output provided is something on the lines of:\r\n```\r\nDaily limit exhausted for signet faucet. Please try again after 24hrs\r\n```\r\nWill be pushing a commit soon for the doc update as well as a cleaner error :)",
      "created_at" : "2021-07-27T20:41:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#issuecomment-887820382",
      "id" : 887820382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22565",
      "node_id" : "IC_kwDOABII58406xBe",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-28T20:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887820382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42388668?v=4",
         "events_url" : "https://api.github.com/users/NikhilBartwal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NikhilBartwal/followers",
         "following_url" : "https://api.github.com/users/NikhilBartwal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NikhilBartwal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NikhilBartwal",
         "id" : 42388668,
         "login" : "NikhilBartwal",
         "node_id" : "MDQ6VXNlcjQyMzg4NjY4",
         "organizations_url" : "https://api.github.com/users/NikhilBartwal/orgs",
         "received_events_url" : "https://api.github.com/users/NikhilBartwal/received_events",
         "repos_url" : "https://api.github.com/users/NikhilBartwal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NikhilBartwal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NikhilBartwal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NikhilBartwal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Currently, there are some scenarios where the faucet transaction can fail, some of which are:\r\n\r\n* If the script is run with the same IP within 24hrs (Status code 400)\r\n* If the specified faucet URL is invalid (Status code 404)\r\n* If the provided signet address is invalid (Status code 504)\r\n\r\nOriginally, the script outputs a vague `Captcha required (reload page)` error for the first scenario and some weird raw HTML for the other two, which seems confusing. It is, therefore, better to have explicit errors for them.",
      "created_at" : "2021-07-28T20:18:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#issuecomment-888593639",
      "id" : 888593639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22565",
      "node_id" : "IC_kwDOABII58409tzn",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-28T20:18:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888593639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/42388668?v=4",
         "events_url" : "https://api.github.com/users/NikhilBartwal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NikhilBartwal/followers",
         "following_url" : "https://api.github.com/users/NikhilBartwal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NikhilBartwal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NikhilBartwal",
         "id" : 42388668,
         "login" : "NikhilBartwal",
         "node_id" : "MDQ6VXNlcjQyMzg4NjY4",
         "organizations_url" : "https://api.github.com/users/NikhilBartwal/orgs",
         "received_events_url" : "https://api.github.com/users/NikhilBartwal/received_events",
         "repos_url" : "https://api.github.com/users/NikhilBartwal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NikhilBartwal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NikhilBartwal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NikhilBartwal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679033508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679033508"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I find the following comment clearer: \r\n```python\r\n# Get the hash of the block at height 1 of the currently active signet chain\r\n```",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T10:35:57Z",
      "diff_hunk" : "@@ -5,18 +5,34 @@\n \n import argparse\n import subprocess\n-import requests\n import sys\n+import requests\n+\n+DEFAULT_GLOBAL_FAUCET = 'https://signetfaucet.com/claim'\n+GLOBAL_FIRST_BLOCK_HASH = '00000086d6b2636cb2a392d45edc4ec544a10024d30141c9adf4bfd9de533b53'\n \n parser = argparse.ArgumentParser(description='Script to get coins from a faucet.', epilog='You may need to start with double-dash (--) when providing bitcoin-cli arguments.')\n parser.add_argument('-c', '--cmd', dest='cmd', default='bitcoin-cli', help='bitcoin-cli command to use')\n-parser.add_argument('-f', '--faucet', dest='faucet', default='https://signetfaucet.com/claim', help='URL of the faucet')\n+parser.add_argument('-f', '--faucet', dest='faucet', default=DEFAULT_GLOBAL_FAUCET, help='URL of the faucet')\n parser.add_argument('-a', '--addr', dest='addr', default='', help='Bitcoin address to which the faucet should send')\n parser.add_argument('-p', '--password', dest='password', default='', help='Faucet password, if any')\n parser.add_argument('bitcoin_cli_args', nargs='*', help='Arguments to pass on to bitcoin-cli (default: -signet)')\n \n args = parser.parse_args()\n \n+if args.faucet.lower() == DEFAULT_GLOBAL_FAUCET:\n+    # Get the first block hash for the current signet network",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679033508",
      "id" : 679033508,
      "line" : 24,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzMzUwOA==",
      "original_commit_id" : "dda15ee260eb4437c4392c5b0512ca1817a90092",
      "original_line" : 24,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 22,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679033508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679034751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679034751"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: comment not needed",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T10:37:59Z",
      "diff_hunk" : "@@ -5,18 +5,34 @@\n \n import argparse\n import subprocess\n-import requests\n import sys\n+import requests\n+\n+DEFAULT_GLOBAL_FAUCET = 'https://signetfaucet.com/claim'\n+GLOBAL_FIRST_BLOCK_HASH = '00000086d6b2636cb2a392d45edc4ec544a10024d30141c9adf4bfd9de533b53'\n \n parser = argparse.ArgumentParser(description='Script to get coins from a faucet.', epilog='You may need to start with double-dash (--) when providing bitcoin-cli arguments.')\n parser.add_argument('-c', '--cmd', dest='cmd', default='bitcoin-cli', help='bitcoin-cli command to use')\n-parser.add_argument('-f', '--faucet', dest='faucet', default='https://signetfaucet.com/claim', help='URL of the faucet')\n+parser.add_argument('-f', '--faucet', dest='faucet', default=DEFAULT_GLOBAL_FAUCET, help='URL of the faucet')\n parser.add_argument('-a', '--addr', dest='addr', default='', help='Bitcoin address to which the faucet should send')\n parser.add_argument('-p', '--password', dest='password', default='', help='Faucet password, if any')\n parser.add_argument('bitcoin_cli_args', nargs='*', help='Arguments to pass on to bitcoin-cli (default: -signet)')\n \n args = parser.parse_args()\n \n+if args.faucet.lower() == DEFAULT_GLOBAL_FAUCET:\n+    # Get the first block hash for the current signet network\n+    try:\n+        curr_signet_hash = subprocess.check_output([args.cmd] + args.bitcoin_cli_args + ['getblockhash', '1']).strip().decode()\n+    except FileNotFoundError:\n+        print('The binary', args.cmd, 'could not be found.')\n+        exit()\n+    if curr_signet_hash != GLOBAL_FIRST_BLOCK_HASH:\n+        # Becomes true for custom signet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679034751",
      "id" : 679034751,
      "line" : 31,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzNDc1MQ==",
      "original_commit_id" : "dda15ee260eb4437c4392c5b0512ca1817a90092",
      "original_line" : 31,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 29,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679034751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679037279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679037279"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "[en.bitcoin.it/wiki/Signet](https://en.bitcoin.it/wiki/Signet) only lists two faucet repositories, but does not provide setup instructions. Might be better to drop this message.",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T10:42:01Z",
      "diff_hunk" : "@@ -5,18 +5,34 @@\n \n import argparse\n import subprocess\n-import requests\n import sys\n+import requests\n+\n+DEFAULT_GLOBAL_FAUCET = 'https://signetfaucet.com/claim'\n+GLOBAL_FIRST_BLOCK_HASH = '00000086d6b2636cb2a392d45edc4ec544a10024d30141c9adf4bfd9de533b53'\n \n parser = argparse.ArgumentParser(description='Script to get coins from a faucet.', epilog='You may need to start with double-dash (--) when providing bitcoin-cli arguments.')\n parser.add_argument('-c', '--cmd', dest='cmd', default='bitcoin-cli', help='bitcoin-cli command to use')\n-parser.add_argument('-f', '--faucet', dest='faucet', default='https://signetfaucet.com/claim', help='URL of the faucet')\n+parser.add_argument('-f', '--faucet', dest='faucet', default=DEFAULT_GLOBAL_FAUCET, help='URL of the faucet')\n parser.add_argument('-a', '--addr', dest='addr', default='', help='Bitcoin address to which the faucet should send')\n parser.add_argument('-p', '--password', dest='password', default='', help='Faucet password, if any')\n parser.add_argument('bitcoin_cli_args', nargs='*', help='Arguments to pass on to bitcoin-cli (default: -signet)')\n \n args = parser.parse_args()\n \n+if args.faucet.lower() == DEFAULT_GLOBAL_FAUCET:\n+    # Get the first block hash for the current signet network\n+    try:\n+        curr_signet_hash = subprocess.check_output([args.cmd] + args.bitcoin_cli_args + ['getblockhash', '1']).strip().decode()\n+    except FileNotFoundError:\n+        print('The binary', args.cmd, 'could not be found.')\n+        exit()\n+    if curr_signet_hash != GLOBAL_FIRST_BLOCK_HASH:\n+        # Becomes true for custom signet\n+        print('The global faucet cannot be used with a custom Signet network. Please use the global signet or setup your custom faucet for the same.\\n')\n+        print('You can have a look here for setting up your own faucet: https://en.bitcoin.it/wiki/Signet')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679037279",
      "id" : 679037279,
      "line" : 33,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzNzI3OQ==",
      "original_commit_id" : "dda15ee260eb4437c4392c5b0512ca1817a90092",
      "original_line" : 33,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 31,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679037279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679037579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679037579"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "should be in the first commit",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T10:42:31Z",
      "diff_hunk" : "@@ -29,7 +29,7 @@\n         exit()\n     if curr_signet_hash != GLOBAL_FIRST_BLOCK_HASH:\n         # Becomes true for custom signet\n-        print('The global faucet cannot be used with a custom Signet network. Please use the global signet or setup your custom faucet for the same.\\n')\n+        print('The global faucet cannot be used with a custom Signet network. Please use the global signet or setup your custom faucet to use this functionality.\\n')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679037579",
      "id" : 679037579,
      "line" : 32,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTAzNzU3OQ==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 32,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 30,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679037579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679041545"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679041545"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This catch-all could have a broader error message. It's not always the transaction that can't be processed.\r\n\r\nMaybe `The request could not be processed.` and then print the server response.",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T10:48:59Z",
      "diff_hunk" : "@@ -49,4 +49,16 @@\n except:\n     print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n     exit()\n-print(res.text)\n+\n+# Display the output as per the returned status code\n+if res:\n+    # When the return code in between 200 and 400 i.e. successful\n+    print(res.text)\n+elif res.status_code == 400:\n+    print('You can use the global faucet only once per 24hrs. Please try again later.')\n+elif res.status_code == 404:\n+    print('The specified faucet URL does not exist. Please check for any server issues/typo.')\n+elif res.status_code == 504:\n+    print('The specified signet address is not valid. Please check it and try again.')\n+else:\n+    print('Unfortunately, the transaction could not be processed. Please check all arguments and try again.')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679041545",
      "id" : 679041545,
      "line" : 64,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0MTU0NQ==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 64,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 54,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679041545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679049280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679049280"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The faucet should return [\"429 Too Many Requests\"](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429) which indicates rate-limiting. Returning \"400 Bad Request\" is wrong. [Could be changed here](https://github.com/kallewoof/bitcoin-faucet/blob/8575d3dc38341561551635793e892be913e3a27d/src/index.ts#L188).\r\n",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T11:01:15Z",
      "diff_hunk" : "@@ -49,4 +49,16 @@\n except:\n     print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n     exit()\n-print(res.text)\n+\n+# Display the output as per the returned status code\n+if res:\n+    # When the return code in between 200 and 400 i.e. successful\n+    print(res.text)\n+elif res.status_code == 400:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679049280",
      "id" : 679049280,
      "line" : 57,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA0OTI4MA==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 57,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 47,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679049280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679052084"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679052084"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The faucet returns \"400 Bad Request\" in [multiple places](https://github.com/kallewoof/bitcoin-faucet/blob/8575d3dc38341561551635793e892be913e3a27d/src/index.ts). So status 400 doesn't have to be rate limiting. Better not match on it.",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T11:06:01Z",
      "diff_hunk" : "@@ -49,4 +49,16 @@\n except:\n     print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n     exit()\n-print(res.text)\n+\n+# Display the output as per the returned status code\n+if res:\n+    # When the return code in between 200 and 400 i.e. successful\n+    print(res.text)\n+elif res.status_code == 400:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679052084",
      "id" : 679052084,
      "in_reply_to_id" : 679049280,
      "line" : 57,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA1MjA4NA==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 57,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 47,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:25:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679052084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679052302"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679052302"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure about printing `address not valid` for a status code that should be `504 Gateway Timeout`. There might be different reasons for a 504.",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T11:06:24Z",
      "diff_hunk" : "@@ -49,4 +49,16 @@\n except:\n     print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n     exit()\n-print(res.text)\n+\n+# Display the output as per the returned status code\n+if res:\n+    # When the return code in between 200 and 400 i.e. successful\n+    print(res.text)\n+elif res.status_code == 400:\n+    print('You can use the global faucet only once per 24hrs. Please try again later.')\n+elif res.status_code == 404:\n+    print('The specified faucet URL does not exist. Please check for any server issues/typo.')\n+elif res.status_code == 504:\n+    print('The specified signet address is not valid. Please check it and try again.')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679052302",
      "id" : 679052302,
      "line" : 62,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTA1MjMwMg==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 62,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 52,
      "pull_request_review_id" : 717937382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T11:17:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679052302",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree with most of the comments by 0xb10c. Adding few more things which may help in improving this script:\r\n\r\n>In addition to the above, since the faucet limit is once per 24 hrs for each IP address, getcoins.py can only be used once for each IP. However, using it twice gives a vague output like this:\r\nCaptcha required (reload page)\r\n\r\n> It would be better if the output provided is something on the lines of:\r\nDaily limit exhausted for signet faucet. Please try again after 24hrs\r\n\r\nI think there is no limit and users don't need to wait for 24 hours. They just need to enter captcha or use new IP. As a user or dev I would solve this problem with one of the below solutions:\r\n\r\n1. Use new IP for each request. Maybe new tor circuit while using `torsocks`.\r\n2. Show captcha image with python code.\r\n3. Not use script. Open website in browser, enter captcha and get some coins.",
      "created_at" : "2021-07-29T11:57:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#issuecomment-889056047",
      "id" : 889056047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22565",
      "node_id" : "IC_kwDOABII5840_esv",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T12:59:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889056047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think there is no limit and users don't need to wait for 24 hours. They just need to enter captcha or use new IP. As a user or dev I would solve this problem with one of the below solutions:\r\n> * Use new IP for each request. Maybe new tor circuit while using `torsocks`.\r\n> * Show captcha image with python code.\r\n> * Not use script. Open website in browser with new IP and get some coins.\r\n\r\nKalle Alm has implemented the rate-limiting for a reason. There is no need to game these limits or to make the script more complex than it has to be (with e.g. tor or rendering the captcha SVGs via python)...   ",
      "created_at" : "2021-07-29T12:35:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#issuecomment-889083726",
      "id" : 889083726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22565",
      "node_id" : "IC_kwDOABII5840_ldO",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T12:35:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889083726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> There is no need to game these limits or to make the script more complex than it has to be (with e.g. tor or rendering the captcha SVGs via python)\r\n\r\nThen maybe 3 can be used. And no need to mislead users that they should wait for 24 hours.",
      "created_at" : "2021-07-29T12:48:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#issuecomment-889113739",
      "id" : 889113739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22565",
      "node_id" : "IC_kwDOABII5840_syL",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T12:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889113739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679149658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679149658"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nwebbrowser.open('https://signetfaucet.com/', new = 1)\r\n```",
      "commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "created_at" : "2021-07-29T13:27:36Z",
      "diff_hunk" : "@@ -49,4 +49,16 @@\n except:\n     print('Unexpected error when contacting faucet:', sys.exc_info()[0])\n     exit()\n-print(res.text)\n+\n+# Display the output as per the returned status code\n+if res:\n+    # When the return code in between 200 and 400 i.e. successful\n+    print(res.text)\n+elif res.status_code == 400:\n+    print('You can use the global faucet only once per 24hrs. Please try again later.')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22565#discussion_r679149658",
      "id" : 679149658,
      "line" : 58,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTE0OTY1OA==",
      "original_commit_id" : "57c9ccc40ecb34b772a5d41265ad1aae0adf83c0",
      "original_line" : 58,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "contrib/signet/getcoins.py",
      "position" : 48,
      "pull_request_review_id" : 718091931,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22565",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T13:27:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679149658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   }
]
