[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r678864272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678864272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a problem with just always signing in the `need_to_sign_target` case,  i.e non-depends builds, rather than making this specific to arm64?",
      "commit_id" : "4d489dd34330478315b128f14e3e57e5cd284655",
      "created_at" : "2021-07-29T06:33:19Z",
      "diff_hunk" : "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r678864272",
      "id" : 678864272,
      "line" : 549,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODg2NDI3Mg==",
      "original_commit_id" : "4d489dd34330478315b128f14e3e57e5cd284655",
      "original_line" : 549,
      "original_position" : 123,
      "original_start_line" : null,
      "path" : "contrib/macdeploy/macdeployqtplus",
      "position" : 123,
      "pull_request_review_id" : 717717809,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T06:33:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678864272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679131008"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679131008"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not a problem at all, just not required.",
      "commit_id" : "4d489dd34330478315b128f14e3e57e5cd284655",
      "created_at" : "2021-07-29T13:04:45Z",
      "diff_hunk" : "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679131008",
      "id" : 679131008,
      "in_reply_to_id" : 678864272,
      "line" : 549,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTEzMTAwOA==",
      "original_commit_id" : "4d489dd34330478315b128f14e3e57e5cd284655",
      "original_line" : 549,
      "original_position" : 123,
      "original_start_line" : null,
      "path" : "contrib/macdeploy/macdeployqtplus",
      "position" : 123,
      "pull_request_review_id" : 718066304,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-29T13:04:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679131008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> [ee722d3](https://github.com/bitcoin/bitcoin/commit/ee722d3fdb16b374197fd80ad564146e7eff524e): It's not clear what this commit is doing, or what `Align frameworks with macOS codesign tool requirements` is meant to mean.\r\n\r\nYeah, it was a hard time for me to choose a right wording. Without the first commit the signing tool returns an error:\r\n```\r\n% make deploy\r\n...\r\ndist/Bitcoin-Qt.app: replacing existing signature\r\ndist/Bitcoin-Qt.app: bundle format unrecognized, invalid, or unsuitable\r\nIn subcomponent: /Users/hebasto/bitcoin/dist/Bitcoin-Qt.app/Contents/Frameworks/QtPrintSupport.framework\r\nTraceback (most recent call last):\r\n  File \"/Users/hebasto/bitcoin/./contrib/macdeploy/macdeployqtplus\", line 552, in <module>\r\n    subprocess.check_call(f\"codesign --deep --force --sign - {target}\", shell=True)\r\n  File \"/opt/homebrew/Cellar/python@3.9/3.9.6/Frameworks/Python.framework/Versions/3.9/lib/python3.9/subprocess.py\", line 373, in check_call\r\n    raise CalledProcessError(retcode, cmd)\r\nsubprocess.CalledProcessError: Command 'codesign --deep --force --sign - dist/Bitcoin-Qt.app' returned non-zero exit status 1.\r\nmake: *** [Bitcoin-Core.dmg] Error 1\r\n```",
      "created_at" : "2021-07-29T13:46:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889158212",
      "id" : 889158212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
      "node_id" : "IC_kwDOABII5840_3pE",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T13:46:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889158212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated 4d489dd34330478315b128f14e3e57e5cd284655 -> bbdd5889da71955e8004b43217b740ddaf799d4e ([pr22546.02](https://github.com/hebasto/bitcoin/commits/pr22546.02) -> [pr22546.03](https://github.com/hebasto/bitcoin/commits/pr22546.03), [diff](https://github.com/hebasto/bitcoin/compare/pr22546.02..pr22546.03)):\r\n- addressed @fanquake's [comment](https://github.com/bitcoin/bitcoin/pull/22546#pullrequestreview-717717809):\r\n\r\n> You've also imported `subprocess` and not used it.",
      "created_at" : "2021-07-29T15:15:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889231790",
      "id" : 889231790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
      "node_id" : "IC_kwDOABII5841AJmu",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-29T15:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889231790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679617499"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679617499"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably easier to just always sign then. Otherwise this should have an explainer.",
      "commit_id" : "bbdd5889da71955e8004b43217b740ddaf799d4e",
      "created_at" : "2021-07-30T03:12:38Z",
      "diff_hunk" : "@@ -543,6 +546,9 @@ ds.close()\n \n # ------------------------------------------------\n \n+if need_to_sign_target and platform.system() == \"Darwin\" and platform.machine() == \"arm64\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#discussion_r679617499",
      "id" : 679617499,
      "in_reply_to_id" : 678864272,
      "line" : 549,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTYxNzQ5OQ==",
      "original_commit_id" : "4d489dd34330478315b128f14e3e57e5cd284655",
      "original_line" : 549,
      "original_position" : 123,
      "original_start_line" : null,
      "path" : "contrib/macdeploy/macdeployqtplus",
      "position" : 123,
      "pull_request_review_id" : 718686303,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22546",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-07-30T03:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679617499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Yeah, it was a hard time for me to choose a right wording. Without the first commit the signing tool returns an error:\r\n\r\nOk. I'll have a look. This needs a better commit message (with explanation), otherwise by itself, it's not clear what problem it's fixing or why it's the correct solution.",
      "created_at" : "2021-07-30T03:13:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22546#issuecomment-889596718",
      "id" : 889596718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22546",
      "node_id" : "IC_kwDOABII5841Bisu",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-30T03:13:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889596718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
