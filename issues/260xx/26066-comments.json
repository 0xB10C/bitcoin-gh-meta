[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "These changes improve the code quality and implement the recommended practices described in the [developer notes - source code organization](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md?plain=1#L1051).\r\n\r\nConcept ACK",
      "created_at" : "2022-09-12T13:32:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#issuecomment-1243750713",
      "id" : 1243750713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26066",
      "node_id" : "IC_kwDOABII585KIiE5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243750713/reactions"
      },
      "updated_at" : "2022-09-12T13:32:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243750713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/817736?v=4",
         "events_url" : "https://api.github.com/users/yancyribbens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/yancyribbens/followers",
         "following_url" : "https://api.github.com/users/yancyribbens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/yancyribbens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/yancyribbens",
         "id" : 817736,
         "login" : "yancyribbens",
         "node_id" : "MDQ6VXNlcjgxNzczNg==",
         "organizations_url" : "https://api.github.com/users/yancyribbens/orgs",
         "received_events_url" : "https://api.github.com/users/yancyribbens/received_events",
         "repos_url" : "https://api.github.com/users/yancyribbens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/yancyribbens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/yancyribbens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/yancyribbens"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25273](https://github.com/bitcoin/bitcoin/pull/25273) (wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-09-12T16:44:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#issuecomment-1244009851",
      "id" : 1244009851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26066",
      "node_id" : "IC_kwDOABII585KJhV7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244009851/reactions"
      },
      "updated_at" : "2022-09-14T22:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1244009851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@furszy I've slightly improved the docstring of `Select` and `SelectExternal` and rolled back to `IsSelected` and `HasSelected`.\r\nI kept the old `setSelected` as `m_preset_inputs` though.\r\n\r\nIs it better?",
      "created_at" : "2022-09-13T17:08:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#issuecomment-1245700695",
      "id" : 1245700695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26066",
      "node_id" : "IC_kwDOABII585KP-JX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245700695/reactions"
      },
      "updated_at" : "2022-09-13T17:08:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245700695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r972435852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972435852"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In 8aecc02e:\r\nnit: could inline the return statement as well.\r\n```c++\r\nif (!txout) return TxSize{-1, -1};\r\n```\r\n\r\n(same for the other one).",
      "commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "created_at" : "2022-09-15T21:30:58Z",
      "diff_hunk" : "@@ -67,11 +67,11 @@ TxSize CalculateMaximumSignedTxSize(const CTransaction &tx, const CWallet *walle\n             assert(input.prevout.n < mi->second.tx->vout.size());\n             txouts.emplace_back(mi->second.tx->vout.at(input.prevout.n));\n         } else if (coin_control) {\n-            CTxOut txout;\n-            if (!coin_control->GetExternalOutput(input.prevout, txout)) {\n+            const auto& txout{coin_control->GetExternalOutput(input.prevout)};\n+            if (!txout) {\n                 return TxSize{-1, -1};\n             }\n-            txouts.emplace_back(txout);\n+            txouts.emplace_back(*txout);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r972435852",
      "id" : 972435852,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58459jGM",
      "original_commit_id" : "8aecc02eca4fd0cb166155ce575ad62d5d062758",
      "original_line" : 70,
      "original_position" : 11,
      "original_start_line" : 70,
      "path" : "src/wallet/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1109857291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972435852/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-15T22:00:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972435852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r972436813"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972436813"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: now that we are here, could remove the extra ()\r\n\r\n(same for the other methods)",
      "commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "created_at" : "2022-09-15T21:32:34Z",
      "diff_hunk" : "@@ -11,4 +11,72 @@ CCoinControl::CCoinControl()\n {\n     m_avoid_partial_spends = gArgs.GetBoolArg(\"-avoidpartialspends\", DEFAULT_AVOIDPARTIALSPENDS);\n }\n+\n+bool CCoinControl::HasSelected() const\n+{\n+    return !m_preset_inputs.empty();\n+}\n+\n+bool CCoinControl::IsSelected(const COutPoint& output) const\n+{\n+    return (m_preset_inputs.count(output) > 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r972436813",
      "id" : 972436813,
      "line" : null,
      "node_id" : "PRRC_kwDOABII58459jVN",
      "original_commit_id" : "69b67d5f3f402118e650a7c95e7b82ecd8e812ef",
      "original_line" : 22,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/coincontrol.cpp",
      "position" : null,
      "pull_request_review_id" : 1109857291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972436813/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-15T22:00:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972436813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "All cleaned-up @furszy!",
      "created_at" : "2022-09-15T22:22:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#issuecomment-1248695144",
      "id" : 1248695144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26066",
      "node_id" : "IC_kwDOABII585KbZNo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248695144/reactions"
      },
      "updated_at" : "2022-09-15T22:22:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1248695144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r973106664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106664"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: would remove the \"pre-selects\" term and go directly with something like \"store the given outpoint.\"\r\n\r\nI don't think that the \"pre\" term here provides information to readers. (the second paragraph is great to express what the process will do with the selected outpoint)\r\n\r\n(same for the others methods as well).",
      "commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "created_at" : "2022-09-16T14:48:27Z",
      "diff_hunk" : "@@ -63,73 +63,56 @@ class CCoinControl\n \n     CCoinControl();\n \n-    bool HasSelected() const\n-    {\n-        return !m_preset_inputs.empty();\n-    }\n-\n-    bool IsSelected(const COutPoint& output) const\n-    {\n-        return m_preset_inputs.count(output) > 0;\n-    }\n-\n-    bool IsExternalSelected(const COutPoint& output) const\n-    {\n-        return m_external_txouts.count(output) > 0;\n-    }\n-\n-    std::optional<CTxOut> GetExternalOutput(const COutPoint& outpoint) const\n-    {\n-        const auto ext_it = m_external_txouts.find(outpoint);\n-        if (ext_it == m_external_txouts.end()) {\n-            return std::nullopt;\n-        }\n-\n-        return std::make_optional(ext_it->second);\n-    }\n-\n-    void Select(const COutPoint& output)\n-    {\n-        m_preset_inputs.insert(output);\n-    }\n-\n-    void SelectExternal(const COutPoint& outpoint, const CTxOut& txout)\n-    {\n-        m_preset_inputs.insert(outpoint);\n-        m_external_txouts.emplace(outpoint, txout);\n-    }\n-\n-    void UnSelect(const COutPoint& output)\n-    {\n-        m_preset_inputs.erase(output);\n-    }\n-\n-    void UnSelectAll()\n-    {\n-        m_preset_inputs.clear();\n-    }\n-\n-    void ListSelected(std::vector<COutPoint>& vOutpoints) const\n-    {\n-        vOutpoints.assign(m_preset_inputs.begin(), m_preset_inputs.end());\n-    }\n-\n-    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n-    {\n-        m_input_weights[outpoint] = weight;\n-    }\n-\n-    bool HasInputWeight(const COutPoint& outpoint) const\n-    {\n-        return m_input_weights.count(outpoint) > 0;\n-    }\n-\n-    int64_t GetInputWeight(const COutPoint& outpoint) const\n-    {\n-        auto it = m_input_weights.find(outpoint);\n-        assert(it != m_input_weights.end());\n-        return it->second;\n-    }\n+    /**\n+     * Returns true if there are pre-selected inputs.\n+     */\n+    bool HasSelected() const;\n+    /**\n+     * Returns true if the given output is pre-selected.\n+     */\n+    bool IsSelected(const COutPoint& output) const;\n+    /**\n+     * Returns true if the given output is selected as an external input.\n+     */\n+    bool IsExternalSelected(const COutPoint& output) const;\n+    /**\n+     * Returns the external output for the given outpoint if it exists.\n+     */\n+    std::optional<CTxOut> GetExternalOutput(const COutPoint& outpoint) const;\n+    /**\n+     * Pre-selects the given output.\n+     * The output will be included in the transaction even if it's not the most optimal choice.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r973106664",
      "id" : 973106664,
      "line" : 84,
      "node_id" : "PRRC_kwDOABII5846AG3o",
      "original_commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "original_line" : 84,
      "original_position" : 89,
      "original_start_line" : 83,
      "path" : "src/wallet/coincontrol.h",
      "position" : 89,
      "pull_request_review_id" : 1110809138,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106664/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 83,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-16T14:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973106664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r973133808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973133808"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How about this?\r\n```suggestion\r\n     * Lock-in the selected output for spending.\r\n     * The output will be included in the transaction even if it's not the most optimal choice.\r\n```",
      "commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "created_at" : "2022-09-16T15:12:48Z",
      "diff_hunk" : "@@ -63,73 +63,56 @@ class CCoinControl\n \n     CCoinControl();\n \n-    bool HasSelected() const\n-    {\n-        return !m_preset_inputs.empty();\n-    }\n-\n-    bool IsSelected(const COutPoint& output) const\n-    {\n-        return m_preset_inputs.count(output) > 0;\n-    }\n-\n-    bool IsExternalSelected(const COutPoint& output) const\n-    {\n-        return m_external_txouts.count(output) > 0;\n-    }\n-\n-    std::optional<CTxOut> GetExternalOutput(const COutPoint& outpoint) const\n-    {\n-        const auto ext_it = m_external_txouts.find(outpoint);\n-        if (ext_it == m_external_txouts.end()) {\n-            return std::nullopt;\n-        }\n-\n-        return std::make_optional(ext_it->second);\n-    }\n-\n-    void Select(const COutPoint& output)\n-    {\n-        m_preset_inputs.insert(output);\n-    }\n-\n-    void SelectExternal(const COutPoint& outpoint, const CTxOut& txout)\n-    {\n-        m_preset_inputs.insert(outpoint);\n-        m_external_txouts.emplace(outpoint, txout);\n-    }\n-\n-    void UnSelect(const COutPoint& output)\n-    {\n-        m_preset_inputs.erase(output);\n-    }\n-\n-    void UnSelectAll()\n-    {\n-        m_preset_inputs.clear();\n-    }\n-\n-    void ListSelected(std::vector<COutPoint>& vOutpoints) const\n-    {\n-        vOutpoints.assign(m_preset_inputs.begin(), m_preset_inputs.end());\n-    }\n-\n-    void SetInputWeight(const COutPoint& outpoint, int64_t weight)\n-    {\n-        m_input_weights[outpoint] = weight;\n-    }\n-\n-    bool HasInputWeight(const COutPoint& outpoint) const\n-    {\n-        return m_input_weights.count(outpoint) > 0;\n-    }\n-\n-    int64_t GetInputWeight(const COutPoint& outpoint) const\n-    {\n-        auto it = m_input_weights.find(outpoint);\n-        assert(it != m_input_weights.end());\n-        return it->second;\n-    }\n+    /**\n+     * Returns true if there are pre-selected inputs.\n+     */\n+    bool HasSelected() const;\n+    /**\n+     * Returns true if the given output is pre-selected.\n+     */\n+    bool IsSelected(const COutPoint& output) const;\n+    /**\n+     * Returns true if the given output is selected as an external input.\n+     */\n+    bool IsExternalSelected(const COutPoint& output) const;\n+    /**\n+     * Returns the external output for the given outpoint if it exists.\n+     */\n+    std::optional<CTxOut> GetExternalOutput(const COutPoint& outpoint) const;\n+    /**\n+     * Pre-selects the given output.\n+     * The output will be included in the transaction even if it's not the most optimal choice.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26066#discussion_r973133808",
      "id" : 973133808,
      "in_reply_to_id" : 973106664,
      "line" : 84,
      "node_id" : "PRRC_kwDOABII5846ANfw",
      "original_commit_id" : "9d4cfd6c5a40cafaeed31d0102b45a7e44dc0076",
      "original_line" : 84,
      "original_position" : 89,
      "original_start_line" : 83,
      "path" : "src/wallet/coincontrol.h",
      "position" : 89,
      "pull_request_review_id" : 1110849058,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26066",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973133808/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 83,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-16T15:12:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973133808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   }
]
