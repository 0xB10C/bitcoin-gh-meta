[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26469](https://github.com/bitcoin/bitcoin/pull/26469) (rpc: getblock: implement with block height as input parameter. by russeree)\n* [#25943](https://github.com/bitcoin/bitcoin/pull/25943) (rpc: Add a parameter to sendrawtransaction which sets a maximum burned output for OP_RETURN transactions. by davidgumberg)\n* [#25939](https://github.com/bitcoin/bitcoin/pull/25939) (rpc: In `utxoupdatepsbt` also look for the tx in the txindex by ishaanam)\n* [#25796](https://github.com/bitcoin/bitcoin/pull/25796) (rpc: add `descriptorprocesspsbt` rpc by ishaanam)\n* [#25344](https://github.com/bitcoin/bitcoin/pull/25344) (New `outputs` argument for `bumpfee`/`psbtbumpfee` by rodentrabies)\n* [#23507](https://github.com/bitcoin/bitcoin/pull/23507) (Refactor: Improve API design of `ScriptToUniv`, `TxToUniv` etc to return the `UniValue` instead of mutating a parameter/reference by mjdietzx)\n* [#23319](https://github.com/bitcoin/bitcoin/pull/23319) (rpc: Return fee and prevout (utxos) to getrawtransaction by dougEfresh)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-09-08T17:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1241017562",
      "id" : 1241017562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585J-Gza",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241017562/reactions"
      },
      "updated_at" : "2022-11-10T03:37:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241017562",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Is this something that I can help out on? I'm looking for another task. I don't know of the etiquette of hoping on a drafted pull request.",
      "created_at" : "2022-09-09T01:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1241398792",
      "id" : 1241398792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585J_j4I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241398792/reactions"
      },
      "updated_at" : "2022-09-09T01:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1241398792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45839100?v=4",
         "events_url" : "https://api.github.com/users/amovfx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amovfx/followers",
         "following_url" : "https://api.github.com/users/amovfx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amovfx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amovfx",
         "id" : 45839100,
         "login" : "amovfx",
         "node_id" : "MDQ6VXNlcjQ1ODM5MTAw",
         "organizations_url" : "https://api.github.com/users/amovfx/orgs",
         "received_events_url" : "https://api.github.com/users/amovfx/received_events",
         "repos_url" : "https://api.github.com/users/amovfx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amovfx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amovfx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amovfx"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-09-10T09:33:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1242682959",
      "id" : 1242682959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KEdZP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1242682959/reactions"
      },
      "updated_at" : "2022-09-10T09:33:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1242682959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but this feels like it's doing too much additional. It might be nice to have something minimal we can backport?",
      "created_at" : "2022-09-10T23:34:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1242819995",
      "id" : 1242819995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KE-2b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1242819995/reactions"
      },
      "updated_at" : "2022-09-10T23:34:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1242819995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure if we want to backport this, but this should already be minimal. A fragile alternative would be to add `RPCTypeCheck` to every RPC that is missing it, with no compile-time guarantee that all have been covered.",
      "created_at" : "2022-09-12T06:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1243289129",
      "id" : 1243289129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KGxYp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243289129/reactions"
      },
      "updated_at" : "2022-09-12T06:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1243289129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.",
      "created_at" : "2022-09-13T08:33:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1245078410",
      "id" : 1245078410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KNmOK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245078410/reactions"
      },
      "updated_at" : "2022-09-13T08:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245078410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-13T10:03:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1245184774",
      "id" : 1245184774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KOAMG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245184774/reactions"
      },
      "updated_at" : "2022-09-13T10:03:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1245184774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971027963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971027963"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What about doing something like this:\r\n```c++\r\nvoid RPCArg::MatchesType(const UniValue& request) const\r\n{\r\n    if(m_skip_type_check) return;\r\n    if (IsOptional() && request.isNull()) return;\r\n    // Special cases\r\n    if (m_type == Type::AMOUNT || m_type == Type::RANGE) {\r\n        // Type::AMOUNT: VNUM or VSTR, checked inside AmountFromValue()\r\n        // Type::RANGE: VNUM or VARR, checked inside ParseRange()\r\n        return;\r\n    }\r\n    // Check and throw exception if type is invalid\r\n    UniValue::VType type = ToUnivalueType(m_type);\r\n    request.checkType(type);\r\n}\r\n```\r\n\r\nSo we define the univalue type error string only once (inside `Univalue::checkType`) and not twice (`Univalue ::checkType` and `RPCTypeCheckArgument`).\r\nWhich will let us not have to worry anymore about stuff like #26069 and remove `RPCTypeCheckArgument`.",
      "commit_id" : "f03877ff32c6b0f4372bf4df0d40f348d2df4d02",
      "created_at" : "2022-09-14T16:09:19Z",
      "diff_hunk" : "@@ -680,6 +670,44 @@ UniValue RPCHelpMan::GetArgMap() const\n     return arr;\n }\n \n+void RPCArg::MatchesType(const UniValue& request) const\n+{\n+    if(m_skip_type_check)return;\n+    if (IsOptional() && request.isNull()) return;\n+    switch (m_type) {\n+    case Type::STR_HEX:\n+    case Type::STR: {\n+        RPCTypeCheckArgument(request, UniValue::VSTR);\n+        return;\n+    }\n+    case Type::NUM: {\n+        RPCTypeCheckArgument(request, UniValue::VNUM);\n+        return;\n+    }\n+    case Type::AMOUNT: {\n+        // VNUM or VSTR, checked inside AmountFromValue()\n+        return;\n+    }\n+    case Type::RANGE: {\n+        // VNUM or VARR, checked inside ParseRange()\n+        return;\n+    }\n+    case Type::BOOL: {\n+        RPCTypeCheckArgument(request, UniValue::VBOOL);\n+        return;\n+    }\n+    case Type::OBJ:\n+    case Type::OBJ_USER_KEYS: {\n+        RPCTypeCheckArgument(request, UniValue::VOBJ);\n+        return;\n+    }\n+    case Type::ARR: {\n+        RPCTypeCheckArgument(request, UniValue::VARR);\n+        return;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971027963",
      "id" : 971027963,
      "line" : 707,
      "node_id" : "PRRC_kwDOABII58454LX7",
      "original_commit_id" : "f03877ff32c6b0f4372bf4df0d40f348d2df4d02",
      "original_line" : 707,
      "original_position" : 86,
      "original_start_line" : 673,
      "path" : "src/rpc/util.cpp",
      "position" : 86,
      "pull_request_review_id" : 1107817693,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971027963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 673,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-14T16:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971027963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971058812"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971058812"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If we decide in the future to also check for hex strings, that wouldn't work, because json (and univalue) only knowns strings, not hex string.",
      "commit_id" : "f03877ff32c6b0f4372bf4df0d40f348d2df4d02",
      "created_at" : "2022-09-14T16:38:59Z",
      "diff_hunk" : "@@ -680,6 +670,44 @@ UniValue RPCHelpMan::GetArgMap() const\n     return arr;\n }\n \n+void RPCArg::MatchesType(const UniValue& request) const\n+{\n+    if(m_skip_type_check)return;\n+    if (IsOptional() && request.isNull()) return;\n+    switch (m_type) {\n+    case Type::STR_HEX:\n+    case Type::STR: {\n+        RPCTypeCheckArgument(request, UniValue::VSTR);\n+        return;\n+    }\n+    case Type::NUM: {\n+        RPCTypeCheckArgument(request, UniValue::VNUM);\n+        return;\n+    }\n+    case Type::AMOUNT: {\n+        // VNUM or VSTR, checked inside AmountFromValue()\n+        return;\n+    }\n+    case Type::RANGE: {\n+        // VNUM or VARR, checked inside ParseRange()\n+        return;\n+    }\n+    case Type::BOOL: {\n+        RPCTypeCheckArgument(request, UniValue::VBOOL);\n+        return;\n+    }\n+    case Type::OBJ:\n+    case Type::OBJ_USER_KEYS: {\n+        RPCTypeCheckArgument(request, UniValue::VOBJ);\n+        return;\n+    }\n+    case Type::ARR: {\n+        RPCTypeCheckArgument(request, UniValue::VARR);\n+        return;\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971058812",
      "id" : 971058812,
      "in_reply_to_id" : 971027963,
      "line" : 707,
      "node_id" : "PRRC_kwDOABII58454S58",
      "original_commit_id" : "f03877ff32c6b0f4372bf4df0d40f348d2df4d02",
      "original_line" : 707,
      "original_position" : 86,
      "original_start_line" : 673,
      "path" : "src/rpc/util.cpp",
      "position" : 86,
      "pull_request_review_id" : 1107863820,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971058812/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 673,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-14T16:38:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/971058812",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Not sure if we want to backport this, but this should already be minimal. A fragile alternative would be to add RPCTypeCheck to every RPC that is missing it, with no compile-time guarantee that all have been covered.\r\n\r\nShouldn't we be able to just adjust the return code?",
      "created_at" : "2022-09-21T03:21:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1253156246",
      "id" : 1253156246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585KsaWW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253156246/reactions"
      },
      "updated_at" : "2022-09-21T03:21:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253156246",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, see https://github.com/bitcoin/bitcoin/pull/25737 (rpc: treat univalue type check error as RPC_TYPE_ERROR, not RPC_MISC_ERROR by furszy)",
      "created_at" : "2022-09-21T06:43:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1253274401",
      "id" : 1253274401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585Ks3Mh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253274401/reactions"
      },
      "updated_at" : "2022-09-21T06:43:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253274401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-21T11:13:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1253555275",
      "id" : 1253555275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585Kt7xL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253555275/reactions"
      },
      "updated_at" : "2022-09-21T11:13:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1253555275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, changed title, rewritten description",
      "created_at" : "2022-09-30T11:02:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1263431901",
      "id" : 1263431901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585LTnDd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263431901/reactions"
      },
      "updated_at" : "2022-09-30T11:02:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263431901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The changes should be reviewed as refactoring changes. However, if they change behavior, it will be a bugfix. For example the changes here happen to also detect/fix bugs like https://github.com/bitcoin/bitcoin/pull/26213#issuecomment-1263530762",
      "created_at" : "2022-09-30T12:48:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1263532317",
      "id" : 1263532317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585LT_kd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263532317/reactions"
      },
      "updated_at" : "2022-09-30T12:48:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1263532317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1014011841"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014011841"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not for this PR, but since the verbosity field was changed from a bool to an int in #8704 (2017) and the bool behavior is not mentioned anywhere in the command help description. What if we cleanup the bool stuff and enable the arg type check?",
      "commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "created_at" : "2022-11-04T13:19:01Z",
      "diff_hunk" : "@@ -637,7 +632,8 @@ static RPCHelpMan getblock()\n                 \"If verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for unpruned blocks in the current best chain).\\n\",\n                 {\n                     {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash\"},\n-                    {\"verbosity|verbose\", RPCArg::Type::NUM, RPCArg::Default{1}, \"0 for hex-encoded data, 1 for a JSON object, 2 for JSON object with transaction data, and 3 for JSON object with transaction data including prevout information for inputs\"},\n+                    {\"verbosity|verbose\", RPCArg::Type::NUM, RPCArg::Default{1}, \"0 for hex-encoded data, 1 for a JSON object, 2 for JSON object with transaction data, and 3 for JSON object with transaction data including prevout information for inputs\",\n+                     RPCArgOptions{.skip_type_check = true}},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1014011841",
      "id" : 1014011841,
      "line" : 636,
      "node_id" : "PRRC_kwDOABII5848cJfB",
      "original_commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "original_line" : 636,
      "original_position" : 18,
      "original_start_line" : 635,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 18,
      "pull_request_review_id" : 1168512191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014011841/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 635,
      "start_side" : "RIGHT",
      "updated_at" : "2022-11-04T13:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014011841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1014039989"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014039989"
         }
      },
      "author_association" : "MEMBER",
      "body" : "we could make the `Type` field in `RPCArg` a bitfield, then be able to verify if the type is either a string or a num.",
      "commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "created_at" : "2022-11-04T13:45:24Z",
      "diff_hunk" : "@@ -856,7 +852,11 @@ static RPCHelpMan gettxoutsetinfo()\n                 \"Note this call may take some time if you are not using coinstatsindex.\\n\",\n                 {\n                     {\"hash_type\", RPCArg::Type::STR, RPCArg::Default{\"hash_serialized_2\"}, \"Which UTXO set hash should be calculated. Options: 'hash_serialized_2' (the legacy algorithm), 'muhash', 'none'.\"},\n-                    {\"hash_or_height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current best block\"}, \"The block hash or height of the target height (only available with coinstatsindex).\", RPCArgOptions{.type_str={\"\", \"string or numeric\"}}},\n+                    {\"hash_or_height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current best block\"}, \"The block hash or height of the target height (only available with coinstatsindex).\",\n+                     RPCArgOptions{\n+                         .skip_type_check = true,\n+                         .type_str = {\"\", \"string or numeric\"},\n+                     }},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1014039989",
      "id" : 1014039989,
      "line" : 859,
      "node_id" : "PRRC_kwDOABII5848cQW1",
      "original_commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "original_line" : 859,
      "original_position" : 31,
      "original_start_line" : 855,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 31,
      "pull_request_review_id" : 1168512191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014039989/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 855,
      "start_side" : "RIGHT",
      "updated_at" : "2022-11-04T13:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1014039989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021375044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021375044"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No opinion, but as you mention, seems best to not touch here.",
      "commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "created_at" : "2022-11-14T11:18:37Z",
      "diff_hunk" : "@@ -637,7 +632,8 @@ static RPCHelpMan getblock()\n                 \"If verbosity is 3, returns an Object with information about block <hash> and information about each transaction, including prevout information for inputs (only for unpruned blocks in the current best chain).\\n\",\n                 {\n                     {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash\"},\n-                    {\"verbosity|verbose\", RPCArg::Type::NUM, RPCArg::Default{1}, \"0 for hex-encoded data, 1 for a JSON object, 2 for JSON object with transaction data, and 3 for JSON object with transaction data including prevout information for inputs\"},\n+                    {\"verbosity|verbose\", RPCArg::Type::NUM, RPCArg::Default{1}, \"0 for hex-encoded data, 1 for a JSON object, 2 for JSON object with transaction data, and 3 for JSON object with transaction data including prevout information for inputs\",\n+                     RPCArgOptions{.skip_type_check = true}},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021375044",
      "id" : 1021375044,
      "in_reply_to_id" : 1014011841,
      "line" : 642,
      "node_id" : "PRRC_kwDOABII58484PJE",
      "original_commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "original_line" : 642,
      "original_position" : 18,
      "original_start_line" : 635,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 18,
      "pull_request_review_id" : 1178885172,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021375044/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 641,
      "start_side" : "RIGHT",
      "updated_at" : "2022-11-14T11:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021375044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021392572"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021392572"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems unrelated to the changes here, but my preferences would be:\r\n* Introduce a specific type for block heights\r\n* Make the type a full class to be able to build any type on demand",
      "commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "created_at" : "2022-11-14T11:37:40Z",
      "diff_hunk" : "@@ -856,7 +852,11 @@ static RPCHelpMan gettxoutsetinfo()\n                 \"Note this call may take some time if you are not using coinstatsindex.\\n\",\n                 {\n                     {\"hash_type\", RPCArg::Type::STR, RPCArg::Default{\"hash_serialized_2\"}, \"Which UTXO set hash should be calculated. Options: 'hash_serialized_2' (the legacy algorithm), 'muhash', 'none'.\"},\n-                    {\"hash_or_height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current best block\"}, \"The block hash or height of the target height (only available with coinstatsindex).\", RPCArgOptions{.type_str={\"\", \"string or numeric\"}}},\n+                    {\"hash_or_height\", RPCArg::Type::NUM, RPCArg::DefaultHint{\"the current best block\"}, \"The block hash or height of the target height (only available with coinstatsindex).\",\n+                     RPCArgOptions{\n+                         .skip_type_check = true,\n+                         .type_str = {\"\", \"string or numeric\"},\n+                     }},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021392572",
      "id" : 1021392572,
      "in_reply_to_id" : 1014039989,
      "line" : 865,
      "node_id" : "PRRC_kwDOABII58484Ta8",
      "original_commit_id" : "fa3a7b6fff67c136d69671c0499e0f2603a5b130",
      "original_line" : 865,
      "original_position" : 31,
      "original_start_line" : 855,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 31,
      "pull_request_review_id" : 1178920514,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021392572/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 861,
      "start_side" : "RIGHT",
      "updated_at" : "2022-11-14T11:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021392572",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Even when this PR removes the RPCTypeCheck calls from each of the RPC commands and scopes the check inside the the -rpcdoccheck flag\r\n\r\nOh, this is actually a bug, as the check should run unconditionally. Fixed and thanks for the prompt.",
      "created_at" : "2022-11-14T11:45:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#issuecomment-1313553923",
      "id" : 1313553923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26039",
      "node_id" : "IC_kwDOABII585OSz4D",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1313553923/reactions"
      },
      "updated_at" : "2022-11-14T11:45:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1313553923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021546596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021546596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Small cleanup idea:\r\nwhat if we remove `RPCTypeCheckArgument` and just call `request.checkType(UniValue::VSTR)`?\r\n(would just need to make `checkType` public)",
      "commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "created_at" : "2022-11-14T13:30:44Z",
      "diff_hunk" : "@@ -677,6 +666,44 @@ UniValue RPCHelpMan::GetArgMap() const\n     return arr;\n }\n \n+void RPCArg::MatchesType(const UniValue& request) const\n+{\n+    if (m_opts.skip_type_check) return;\n+    if (IsOptional() && request.isNull()) return;\n+    switch (m_type) {\n+    case Type::STR_HEX:\n+    case Type::STR: {\n+        RPCTypeCheckArgument(request, UniValue::VSTR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021546596",
      "id" : 1021546596,
      "line" : 676,
      "node_id" : "PRRC_kwDOABII584845Bk",
      "original_commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "original_line" : 676,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 48,
      "pull_request_review_id" : 1179116933,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021546596/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-14T13:31:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021546596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021552672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021552672"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`checkType` is used for json type checks. As mentioned previously you wouldn't be able to check for other types, such as hex strings (https://github.com/bitcoin/bitcoin/pull/26039#discussion_r971058812) in the future. So I'd like to leave them copied for now. If you feel strongly, it might be better to do the replacement in `RPCTypeCheckArgument`, which can be done separate form this pull request?",
      "commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "created_at" : "2022-11-14T13:36:21Z",
      "diff_hunk" : "@@ -677,6 +666,44 @@ UniValue RPCHelpMan::GetArgMap() const\n     return arr;\n }\n \n+void RPCArg::MatchesType(const UniValue& request) const\n+{\n+    if (m_opts.skip_type_check) return;\n+    if (IsOptional() && request.isNull()) return;\n+    switch (m_type) {\n+    case Type::STR_HEX:\n+    case Type::STR: {\n+        RPCTypeCheckArgument(request, UniValue::VSTR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021552672",
      "id" : 1021552672,
      "in_reply_to_id" : 1021546596,
      "line" : 676,
      "node_id" : "PRRC_kwDOABII584846gg",
      "original_commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "original_line" : 676,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 48,
      "pull_request_review_id" : 1179126043,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021552672/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-14T13:36:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021552672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021577363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021577363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ha, I completely forgot that I mentioned it before. Sorry for that. nvm then.",
      "commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "created_at" : "2022-11-14T13:59:33Z",
      "diff_hunk" : "@@ -677,6 +666,44 @@ UniValue RPCHelpMan::GetArgMap() const\n     return arr;\n }\n \n+void RPCArg::MatchesType(const UniValue& request) const\n+{\n+    if (m_opts.skip_type_check) return;\n+    if (IsOptional() && request.isNull()) return;\n+    switch (m_type) {\n+    case Type::STR_HEX:\n+    case Type::STR: {\n+        RPCTypeCheckArgument(request, UniValue::VSTR);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26039#discussion_r1021577363",
      "id" : 1021577363,
      "in_reply_to_id" : 1021546596,
      "line" : 676,
      "node_id" : "PRRC_kwDOABII58485AiT",
      "original_commit_id" : "faa8b760b8210518069da9fcb21c8b35c23f6d17",
      "original_line" : 676,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 48,
      "pull_request_review_id" : 1179163320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021577363/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-14T13:59:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021577363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
