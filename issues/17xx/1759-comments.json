[
   {
      "body" : "@bondbeau 0.6.3 doesn't like it, when the process just get's killed, 0.7 should be more sane as we did some shutdown-code-tweaking there. Could be, that your database was damaged and if you never used the client and have no funds in your wallet it would be easiest to just empty your whole Bitcoin data directory.\n\nONLY delete it, if there are NO coins or needed addresses in your wallet!",
      "created_at" : "2012-08-30T21:37:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8175512",
      "id" : 8175512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-30T21:37:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8175512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo Thanks for your reply, but I have to say I'm quite shocked that Bitcoin is being proffered as a refined money replacement for world-wide use if something as simple as an unplanned shutdown brings it to its knees.\n\nSince I really don't want to be a tester and therefore only want to run 'released' versions...please explain step-by-step exactly how one can repair this situation. I do actually have a tiny amount of coin in the wallet which I would be just as happy to keep as to lose (as I suspect would be the case for most users regardless of circumstance), so exactly which files in which directories need to be deleted or fixed or whatever...it that is the correct solution? For example, I don't see a \"data\" directory for Bitcoin. I see \"daemon\" and \"src\"...\n\nPlease understand that I am simply an end-user...just like most any other person in-the-wild who might like to see what this is about...and thanks for your help.",
      "created_at" : "2012-08-30T23:36:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8178272",
      "id" : 8178272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-30T23:36:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8178272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1366032?v=3",
         "events_url" : "https://api.github.com/users/bondbeau/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bondbeau/followers",
         "following_url" : "https://api.github.com/users/bondbeau/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bondbeau/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bondbeau",
         "id" : 1366032,
         "login" : "bondbeau",
         "organizations_url" : "https://api.github.com/users/bondbeau/orgs",
         "received_events_url" : "https://api.github.com/users/bondbeau/received_events",
         "repos_url" : "https://api.github.com/users/bondbeau/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bondbeau/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bondbeau/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bondbeau"
      }
   },
   {
      "body" : "If you want, [you could try 0.6.4rc1](http://luke.dashjr.org/programs/bitcoin/files/bitcoin-qt/0.6.4/test/rc1/), which only has bugfixes. I don't know if that will help with this particular issue, however.\n\nMost unplanned shutdowns don't cause problems for me...",
      "created_at" : "2012-08-30T23:40:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8178344",
      "id" : 8178344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-30T23:40:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8178344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr I doubt that'd make any difference\n\n@bondbeau  I assume the shutdown caused Bitcoin to be terminated prematurely, and the database got corrupted. Little we can do about that while using BDB (the database engine) I'm afraid, but it is embarrassing to be frank. BDB should deal with such events, but since it didn't, I fear there's little you can do but delete blkindex.dat, blk0001.dat, and if it exists blk0002.dat. They can be found in the data directory (see https://en.bitcoin.it/wiki/Data_directory). After that, start Bitcoin again, and it should redownload the blockchain.",
      "created_at" : "2012-08-30T23:47:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8178497",
      "id" : 8178497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-30T23:47:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8178497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@luke-jr Thanks, but the the file for the .exe didn't want to download after I reloaded the page...(I hesitated and cancelled it the first time because Avast said something like \"hey...do you really want to download this file that almost nobody around the world has ever downloaded\"). Hope you understand...\n\n@sipa Bitcoin is running again and downloading the block chain according to your suggestion...so thank you very kindly. I'll play around with it a bit, but given this first-time experience I can't imagine trying to rely on Bitcoin as a way to actually live and make routine transactions. It's desperately...D-E-S-P-E-R-A-T-E-L-Y...needed...but it simply can't fly like this in my opinion...it just can't gain widespread use.\n\nReally...thinking about it just now, wouldn't it have to be essentially foolproof for children as young as four or five...or whatever age it is that kids commonly start to handle small amounts of paper and coin money?\n\nMuch appreciation for the concept though...cheers and well wishes!",
      "created_at" : "2012-08-31T00:07:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8178853",
      "id" : 8178853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-31T00:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8178853",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1366032?v=3",
         "events_url" : "https://api.github.com/users/bondbeau/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bondbeau/followers",
         "following_url" : "https://api.github.com/users/bondbeau/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bondbeau/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bondbeau",
         "id" : 1366032,
         "login" : "bondbeau",
         "organizations_url" : "https://api.github.com/users/bondbeau/orgs",
         "received_events_url" : "https://api.github.com/users/bondbeau/received_events",
         "repos_url" : "https://api.github.com/users/bondbeau/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bondbeau/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bondbeau/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bondbeau"
      }
   },
   {
      "body" : "@bondbeau np, like @sipa said, it probably isn't fixed anyway. On a side note, you might consider another antivirus suite: Avast seems fairly hostile to Bitcoin so far.\n\nKeep in mind that neither this client, nor any other today, is considered production-ready. For better or worse, the market is ahead of the software in this area.",
      "created_at" : "2012-08-31T00:18:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8179061",
      "id" : 8179061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-31T00:18:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8179061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@bondbeau These problems are why we still call our Bitcoin client experimental software. The people who are participating here do this mostyl in their freetime and they do a pretty good job. A switch to a \"better\" or more stable database system is in the works and every day brings fixes to the client. We simply need users, like you, who will report problems here, so thanks for that :).",
      "created_at" : "2012-08-31T05:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8183046",
      "id" : 8183046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-08-31T05:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8183046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "We need to do a much better job of recovering from bdb errors.\n\nI created a little tool that randomly changes bytes in files, and am working on auto-recovery (as much as possible) for corrupt wallet.dats.  When I'm happy with that, I plan on moving on to peers.dat and maybe blkindex.dat (although we're likely to switch to LevelDB before I get there).",
      "created_at" : "2012-09-18T23:31:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8674455",
      "id" : 8674455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-09-18T23:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8674455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen  that just means you get to do it to leveldb too. :P",
      "created_at" : "2012-09-19T03:32:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8678299",
      "id" : 8678299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-09-19T03:32:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8678299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "To be fair, if we set up good exception handling for broken databases that will come in just as handy with leveldb. \n\nAt least in bitcoin-qt there should really be a pop-up \"The block chain database is corrupted. Exit, or try to recover/redownload?\". Instead of some vague \"runaway exception\" error and having the user come here or even mail us with \"what to do now?\"...\n\nWallets are a completely different issue of course, as the data is usually not so readily available, and trying to recover automatically can be disastrous. ",
      "created_at" : "2012-09-19T07:04:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8681064",
      "id" : 8681064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-09-19T07:04:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8681064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The next chapter in this story after @sipa's suggestion helped me get Bitcoin running again: \n\n1. After running it for a number of days (with only ordinary laptop sleep along the way) and letting it finish downloading the blockchain, I did a PLANNED shutdown. As in, I selected File > Exit and quit the program before restarting my machine. \n\n2. Bitcoin not having been high priority, I didn't try to start it again until yesterday...but guess what..it doesn't. In fact, the only option given in the Bitcoin directory of the start menu is to \"Uninstall Bitcoin\".\n",
      "created_at" : "2012-09-19T13:23:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1759#issuecomment-8690778",
      "id" : 8690778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1759",
      "updated_at" : "2012-09-19T13:23:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8690778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1366032?v=3",
         "events_url" : "https://api.github.com/users/bondbeau/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bondbeau/followers",
         "following_url" : "https://api.github.com/users/bondbeau/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bondbeau/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bondbeau",
         "id" : 1366032,
         "login" : "bondbeau",
         "organizations_url" : "https://api.github.com/users/bondbeau/orgs",
         "received_events_url" : "https://api.github.com/users/bondbeau/received_events",
         "repos_url" : "https://api.github.com/users/bondbeau/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bondbeau/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bondbeau/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bondbeau"
      }
   }
]
