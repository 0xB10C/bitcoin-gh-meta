[
   {
      "author_association" : "OWNER",
      "body" : "- The convention on the RPC interface is to use ValueFromAmount and AmountFromValue for monetary values unless there is a really good reason (e.g. a BIP) that says otherwise.\r\n- This is an interface-breaking change. Current software assumes the values are in a certain unit and can blow up dangerously when it suddenly changes from one version to the other. How long has it been like this?",
      "created_at" : "2018-01-22T10:52:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#issuecomment-359388771",
      "id" : 359388771,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12240",
      "updated_at" : "2018-01-22T10:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359388771",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "NACK as it is. Call it bug, or lack of consistency, but the truth is changing may/will break existing software. Instead it should follow the deprecation mechanism.\r\n\r\nSomething like adding a flag to control the resulting unit or adding a new field.",
      "created_at" : "2018-01-22T11:00:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#issuecomment-359390522",
      "id" : 359390522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12240",
      "updated_at" : "2018-01-22T11:00:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359390522",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "After IRC discussion, the suggestion is to add a new field:\r\n```js\r\n{\r\n  ...,\r\n  \"fees\": {\r\n    \"base\": ...,\r\n    \"modified\": ...,\r\n    \"ancestor\": ...,\r\n    \"descendant\": ...\r\n  },\r\n  ...\r\n}\r\n```\r\n\r\nIMO this should be done here too:\r\n - all values must have the same unit and the documentation must mention it;\r\n - a test should be added to compare old fields with new fields;\r\n - bonus, existing tests could be updated to use new fields.",
      "created_at" : "2018-01-22T11:17:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#issuecomment-359394393",
      "id" : 359394393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12240",
      "updated_at" : "2018-01-22T11:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/359394393",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916923"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916923"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Revert.",
      "commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "created_at" : "2018-01-22T11:59:01Z",
      "diff_hunk" : "@@ -379,18 +379,24 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n {\n     AssertLockHeld(mempool.cs);\n \n+    UniValue fees(UniValue::VOBJ);\n+    fees.push_back(Pair(\"current\", ValueFromAmount(e.GetFee())));\n+    fees.push_back(Pair(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors())));\n+    fees.push_back(Pair(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants())));\n+\n     info.push_back(Pair(\"size\", (int)e.GetTxSize()));\n-    info.push_back(Pair(\"fee\", e.GetFee()));\n-    info.push_back(Pair(\"modifiedfee\", e.GetModifiedFee()));\n+    info.push_back(Pair(\"fee\", ValueFromAmount(e.GetFee())));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916923",
      "id" : 162916923,
      "original_commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "original_position" : 12,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 90447293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240",
      "updated_at" : "2018-01-22T12:01:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916923",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916938"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916938"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Revert.",
      "commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "created_at" : "2018-01-22T11:59:06Z",
      "diff_hunk" : "@@ -379,18 +379,24 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n {\n     AssertLockHeld(mempool.cs);\n \n+    UniValue fees(UniValue::VOBJ);\n+    fees.push_back(Pair(\"current\", ValueFromAmount(e.GetFee())));\n+    fees.push_back(Pair(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors())));\n+    fees.push_back(Pair(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants())));\n+\n     info.push_back(Pair(\"size\", (int)e.GetTxSize()));\n-    info.push_back(Pair(\"fee\", e.GetFee()));\n-    info.push_back(Pair(\"modifiedfee\", e.GetModifiedFee()));\n+    info.push_back(Pair(\"fee\", ValueFromAmount(e.GetFee())));\n+    info.push_back(Pair(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee())));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916938",
      "id" : 162916938,
      "original_commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "original_position" : 13,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 90447293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240",
      "updated_at" : "2018-01-22T12:01:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916938",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916955"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Revert.",
      "commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "created_at" : "2018-01-22T11:59:11Z",
      "diff_hunk" : "@@ -379,18 +379,24 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n {\n     AssertLockHeld(mempool.cs);\n \n+    UniValue fees(UniValue::VOBJ);\n+    fees.push_back(Pair(\"current\", ValueFromAmount(e.GetFee())));\n+    fees.push_back(Pair(\"ancestor\", ValueFromAmount(e.GetModFeesWithAncestors())));\n+    fees.push_back(Pair(\"descendant\", ValueFromAmount(e.GetModFeesWithDescendants())));\n+\n     info.push_back(Pair(\"size\", (int)e.GetTxSize()));\n-    info.push_back(Pair(\"fee\", e.GetFee()));\n-    info.push_back(Pair(\"modifiedfee\", e.GetModifiedFee()));\n+    info.push_back(Pair(\"fee\", ValueFromAmount(e.GetFee())));\n+    info.push_back(Pair(\"modifiedfee\", ValueFromAmount(e.GetModifiedFee())));\n     info.push_back(Pair(\"time\", e.GetTime()));\n     info.push_back(Pair(\"height\", (int)e.GetHeight()));\n     info.push_back(Pair(\"descendantcount\", e.GetCountWithDescendants()));\n     info.push_back(Pair(\"descendantsize\", e.GetSizeWithDescendants()));\n-    info.push_back(Pair(\"descendantfees\", e.GetModFeesWithDescendants()));\n+    info.push_back(Pair(\"descendantfees\", ValueFromAmount(e.GetModFeesWithDescendants())));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162916955",
      "id" : 162916955,
      "original_commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "original_position" : 19,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 17,
      "pull_request_review_id" : 90447293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240",
      "updated_at" : "2018-01-22T12:01:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162916955",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162917154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162917154"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not sure about `current`. Other options are `base`, `raw`, `original`, `self`... ",
      "commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "created_at" : "2018-01-22T12:00:16Z",
      "diff_hunk" : "@@ -379,18 +379,24 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n {\n     AssertLockHeld(mempool.cs);\n \n+    UniValue fees(UniValue::VOBJ);\n+    fees.push_back(Pair(\"current\", ValueFromAmount(e.GetFee())));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12240#discussion_r162917154",
      "id" : 162917154,
      "original_commit_id" : "ce16e79e27c9b4319a14cc002e4a798a19d6eb68",
      "original_position" : 5,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 5,
      "pull_request_review_id" : 90447293,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12240",
      "updated_at" : "2018-01-22T12:01:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/162917154",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
