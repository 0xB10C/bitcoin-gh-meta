[
   {
      "author_association" : "OWNER",
      "body" : "Last update was in PR #10529 - please try to coordinate the changes with the people replying there.",
      "created_at" : "2018-01-24T14:35:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360154426",
      "id" : 360154426,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-01-24T14:35:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360154426",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj Sorry I'm not sure I entirely know what you mean. Am I to bring up this PR on that thread or shall I tag them in a comment here?",
      "created_at" : "2018-01-24T19:26:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360245640",
      "id" : 360245640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-01-24T19:26:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360245640",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the link was supposed to be  #12102",
      "created_at" : "2018-01-24T19:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360250576",
      "id" : 360250576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-01-24T19:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360250576",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> Sorry I'm not sure I entirely know what you mean. Am I to bring up this PR on that thread or shall I tag them in a comment here?\r\n\r\nEither, or both, is fine!",
      "created_at" : "2018-01-29T10:18:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-361200481",
      "id" : 361200481,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-01-29T10:18:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361200481",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj @MarcoFalke should I be waiting for the other PR to get merged? Seems like the OP has been unresponsive.",
      "created_at" : "2018-02-06T21:28:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363570562",
      "id" : 363570562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-02-06T21:28:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363570562",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the only thing left is give people time to review and then merge both whenever they are reviewed.",
      "created_at" : "2018-02-06T22:02:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363579905",
      "id" : 363579905,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-02-06T22:02:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363579905",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Cool beans.",
      "created_at" : "2018-02-06T22:04:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363580474",
      "id" : 363580474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-02-06T22:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363580474",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for your ping in https://github.com/bitcoin/bitcoin/pull/12102#issuecomment-362968939, here are my thoughts on this PR:\r\n\r\nThis PR contains the following changes to the systemd bitcoind.service file\r\n1. Provide `-datadir` argument to bitcoind via ExecStart\r\n2. Create various runtime directories and set their access mode\r\n3. Set the Group to bitcoin\r\n\r\nI deliberately did not put (1) in the systemd file as it can also be set via bitcoind's conf. I believe that it is good practice to put as much as possible in generic service config file (here: bitcoin.conf) as opposed to the system's service management facilities (here: systemd).\r\n\r\n(2) is typically done by the distribution's package manager and would hence override settings of distributions that don't use those standard directories (therefore those distributions would need to patch the upstream systemd file or use their own, which is not both not desirable). Nit: I don't think it is necessary to protect the runtime directory with 700 as there a no secrets in it. Also the used settings are only available with systemd >= 235.\r\n\r\n(3) is changes the behavior as it explicitly mentions the existence of a group named 'bitcoin', which may or may not exist. I believe that the behavior if 'Group' is not set, using the default group of the user, is more portable and should be used.\r\n\r\nFurther nits of this PR include that the order of `-pid` and `-conf` is changed for no reason, and the (correct)  comment telling us that the `/run/bitcoind` is owned by 'bitcoin' is removed.\r\n\r\nIn conclusion I am not provided with and don't see any compelling reasons to apply this.",
      "created_at" : "2018-02-07T07:48:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363684576",
      "id" : 363684576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-02-07T08:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363684576",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Flowdalic The spirit of my PR is to follow in the footsteps of `doc/init.md`. Which states that these changes are to be made.\r\n\r\n(1) `doc/init.md` states that the data directory should be at `/var/lib/bitcoind`, but if it's not indicated in the service file, the data directory is not at `/var/lib/bitcoind`, but rather at `~/.bitcoin`\r\n(2, 3) `doc/init.md` states that \"The configuration file, PID directory (if applicable) and data directory should all be owned by the bitcoin user and group. It is advised for security reasons to make the configuration file and data directory only readable by the bitcoin user and group. Access to bitcoin-cli and other bitcoind rpc clients can then be controlled by group membership.\". Perhaps according to the last sentence it'd be better to set the permissions to 750?\r\n\r\nIf someone was installing from source, and reading from `doc/init.md`, they would experience all kinds of confusion, as the data directory won't be where `doc/init.md` indicated it is. With 2 and 3 I think it's reasonable to think that this is optional, but my personal opinion is that what's in the repository should reflect the latest best practices and be consistent.\r\n\r\nI'm actually torn for what we should do for (2), while I believe it's better to have consistency on our end and have the distributions figure it out, I don't wanna break things for distributions with alternative `hier`s.\r\n\r\nHappy to discuss more :smile: ",
      "created_at" : "2018-02-25T02:21:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-368277297",
      "id" : 368277297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-02-25T02:21:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/368277297",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK.",
      "created_at" : "2018-03-04T20:15:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-370260043",
      "id" : 370260043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "updated_at" : "2018-03-04T20:15:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370260043",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/33541170?v=4",
         "events_url" : "https://api.github.com/users/randolf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/randolf/followers",
         "following_url" : "https://api.github.com/users/randolf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/randolf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/randolf",
         "id" : 33541170,
         "login" : "randolf",
         "organizations_url" : "https://api.github.com/users/randolf/orgs",
         "received_events_url" : "https://api.github.com/users/randolf/received_events",
         "repos_url" : "https://api.github.com/users/randolf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/randolf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/randolf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/randolf"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'd like to throw in a vote for (1). I recently stood up an Ubuntu 18.04 server, using the instructions in `doc/init.md` to install the service. Like @dongcarl is saying, I was a bit confused when it came to configuring the data directory. It worked when I added the `-datadir` option to the service file.\r\n\r\nI tried adding `datadir=/var/lib/bitcoind` to `bitcoin.conf` like @Flowdalic suggested, but Bitcoin failed to start. Running `journalctl -xe`, I see the the error `boost::filesystem::create_directories: Permission denied: \"/home/bitcoin\"`. It seems this option in the config file has no effect.",
      "created_at" : "2018-07-10T01:03:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-403666092",
      "id" : 403666092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzY2NjA5Mg==",
      "updated_at" : "2018-07-10T01:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403666092",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/639693?v=4",
         "events_url" : "https://api.github.com/users/sugarjig/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sugarjig/followers",
         "following_url" : "https://api.github.com/users/sugarjig/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sugarjig/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sugarjig",
         "id" : 639693,
         "login" : "sugarjig",
         "node_id" : "MDQ6VXNlcjYzOTY5Mw==",
         "organizations_url" : "https://api.github.com/users/sugarjig/orgs",
         "received_events_url" : "https://api.github.com/users/sugarjig/received_events",
         "repos_url" : "https://api.github.com/users/sugarjig/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sugarjig/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sugarjig/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sugarjig"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had a look at the code and it appears that bitcoind init first checks the datadir and then reads the config file, which would explain why `datadir` in the config file has no effect if the default datadir (or the datadir specified by command line argument) is for some reason inaccessible. I have created https://github.com/bitcoin/bitcoin/pull/13621 in an attempt to fix this. ",
      "created_at" : "2018-07-10T06:36:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-403716449",
      "id" : 403716449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12255",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzcxNjQ0OQ==",
      "updated_at" : "2018-07-10T06:36:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403716449",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   }
]
