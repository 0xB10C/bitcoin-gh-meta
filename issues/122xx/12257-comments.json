[
   {
      "author_association" : "MEMBER",
      "body" : "It doesn't avoid reuse (you still need to sign for each input), and has security issues in the event of QC (but that's already a hypothetical big issue for us anyway), but seems useful anyway.\r\n\r\nIs this affected by the current coin control grouping defect, where it includes change in the same group as unrelated outputs? That would be a serious privacy risk, I think, since it would basically tell the world which output was change.",
      "created_at" : "2018-01-24T07:52:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-360048702",
      "id" : 360048702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-24T07:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360048702",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr:\r\n> It doesn't avoid reuse (you still need to sign for each input), and has security issues in the event of QC (but that's already a hypothetical big issue for us anyway), but seems useful anyway.\r\n\r\nTogether with `-avoidreuse` in #10386 it avoids reuse, I think. Are there any cases I'm missing?\r\n\r\n> Is this affected by the current coin control grouping defect, where it includes change in the same group as unrelated outputs? That would be a serious privacy risk, I think, since it would basically tell the world which output was change.\r\n\r\nI'm not sure what this defect is. Is it described somewhere?",
      "created_at" : "2018-01-24T08:07:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-360051914",
      "id" : 360051914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-24T08:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360051914",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Does this also keep track of the change outputs in case more coins arrive later to `A`?\r\n\r\nImagine your example, where the coins from `A` go to `C`, with a change output to what we now call `D`.\r\n\r\nIf more coins arrive at `A` later, will they be spent together with `D`?\r\n",
      "created_at" : "2018-01-24T10:49:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-360092824",
      "id" : 360092824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-24T10:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360092824",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/92292?v=4",
         "events_url" : "https://api.github.com/users/ziggamon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ziggamon/followers",
         "following_url" : "https://api.github.com/users/ziggamon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ziggamon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ziggamon",
         "id" : 92292,
         "login" : "ziggamon",
         "organizations_url" : "https://api.github.com/users/ziggamon/orgs",
         "received_events_url" : "https://api.github.com/users/ziggamon/received_events",
         "repos_url" : "https://api.github.com/users/ziggamon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ziggamon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ziggamon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ziggamon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ziggamon Change outputs will go to a different destination so they will be considered separate from their inputs. In other words, `D` in your case will not be considered related to `A` in this case, and will not be associated with any coins arriving at `A` afterwards.",
      "created_at" : "2018-01-24T12:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-360113119",
      "id" : 360113119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-24T12:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360113119",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164743943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164743943"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this is avoidable complexity, because `avoidpartial` will be always higher fees.\r\nI think it is OK, you pay fee for privacy, while giving incentive to privacy over fee by default.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-30T13:42:21Z",
      "diff_hunk" : "@@ -3063,6 +3048,30 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n     return true;\n }\n \n+bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletTx& wtxNew, CReserveKey& reservekey, CAmount& nFeeRet,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164743943",
      "id" : 164743943,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 257,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 92561230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164743943",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some notes I am leaving here but to think about:\r\n\r\n* Making it default is the right way, but we should keep in mind that people relying on address reuse will pay way higher fee, so they need to be notified appropriately.\r\nVirtually all japanese exchanges are using address reuse (1 address per customer), this change would impact them a lot. I am unsure if they depend on Bitcoin Core Wallet though.\r\n* I am unsure if Bitcoin Core filter uneconomical outputs (filtering outputs which are more costly than their value to spend), but if bitcoin core implements this, we need to make sure this rule is always enforced at the Output level and not at the OutputGroup level. (Need to be enforced before you create the group)",
      "created_at" : "2018-01-30T13:47:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-361597920",
      "id" : 361597920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-30T13:48:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361597920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164746945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164746945"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think `coinControl->m_avoid_partial_spends` should be a boolean, and `coinControl` should set its value based on the arg `avoidpartialspends` just after being created. (At worse, just before this call for now)\r\n\r\nThis will make the code easier to reason about.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-30T13:53:06Z",
      "diff_hunk" : "@@ -2575,17 +2556,21 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n+    // form groups from remaining coins; note that preset coins will not\n+    // automatically have their associated (same address) coins included\n+    std::vector<OutputGroup> groups = group_outputs(vCoins, !(coinControl && coinControl->m_avoid_partial_spends > -1 ? coinControl->m_avoid_partial_spends : gArgs.GetBoolArg(\"-avoidpartialspends\", DEFAULT_AVOIDPARTIALSPENDS)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164746945",
      "id" : 164746945,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 219,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 92564712,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164746945",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164747804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164747804"
         }
      },
      "author_association" : "MEMBER",
      "body" : "what about `std::optional<bool>` ?",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-30T13:56:10Z",
      "diff_hunk" : "@@ -30,6 +30,8 @@ class CCoinControl\n     boost::optional<CFeeRate> m_feerate;\n     //! Override the default confirmation target if set\n     boost::optional<unsigned int> m_confirm_target;\n+    //! Avoid partial use of funds sent to a given address: -1 means default\n+    short m_avoid_partial_spends;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164747804",
      "id" : 164747804,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 5,
      "path" : "src/wallet/coincontrol.h",
      "position" : null,
      "pull_request_review_id" : 92565726,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164747804",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164754352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164754352"
         }
      },
      "author_association" : "MEMBER",
      "body" : " (since C++17) Ã°ÂÂÂ ",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-30T14:19:01Z",
      "diff_hunk" : "@@ -30,6 +30,8 @@ class CCoinControl\n     boost::optional<CFeeRate> m_feerate;\n     //! Override the default confirmation target if set\n     boost::optional<unsigned int> m_confirm_target;\n+    //! Avoid partial use of funds sent to a given address: -1 means default\n+    short m_avoid_partial_spends;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164754352",
      "id" : 164754352,
      "in_reply_to_id" : 164747804,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 5,
      "path" : "src/wallet/coincontrol.h",
      "position" : null,
      "pull_request_review_id" : 92573541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164754352",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164757918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164757918"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah I forgot we were using boost for that... I would still prefer boost than a short though.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-30T14:31:12Z",
      "diff_hunk" : "@@ -30,6 +30,8 @@ class CCoinControl\n     boost::optional<CFeeRate> m_feerate;\n     //! Override the default confirmation target if set\n     boost::optional<unsigned int> m_confirm_target;\n+    //! Avoid partial use of funds sent to a given address: -1 means default\n+    short m_avoid_partial_spends;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164757918",
      "id" : 164757918,
      "in_reply_to_id" : 164747804,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 5,
      "path" : "src/wallet/coincontrol.h",
      "position" : null,
      "pull_request_review_id" : 92577835,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164757918",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164934280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164934280"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually `avoidpartial` gives the same fee a lot of the times, from what I've seen so far. It depends on your utxo set, of course.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-31T01:47:45Z",
      "diff_hunk" : "@@ -3063,6 +3048,30 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n     return true;\n }\n \n+bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletTx& wtxNew, CReserveKey& reservekey, CAmount& nFeeRet,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164934280",
      "id" : 164934280,
      "in_reply_to_id" : 164743943,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 257,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 92785010,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164934280",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164934469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164934469"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unfortunately that means either adding a coincontrol.cpp file and moving the constructor there, or adding a dependency on the `gArg` thing in `coincontrol.h`, which seems a bit overkill just for this. I'm very open to suggestions though; the short thing is an undesired hack.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-31T01:49:08Z",
      "diff_hunk" : "@@ -2575,17 +2556,21 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n+    // form groups from remaining coins; note that preset coins will not\n+    // automatically have their associated (same address) coins included\n+    std::vector<OutputGroup> groups = group_outputs(vCoins, !(coinControl && coinControl->m_avoid_partial_spends > -1 ? coinControl->m_avoid_partial_spends : gArgs.GetBoolArg(\"-avoidpartialspends\", DEFAULT_AVOIDPARTIALSPENDS)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r164934469",
      "id" : 164934469,
      "in_reply_to_id" : 164746945,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 219,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 92785217,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/164934469",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@NicolasDorier \r\n> Making it default is the right way, but we should keep in mind that people relying on address reuse will pay way higher fee, so they need to be notified appropriately.\r\n\r\nI think keeping it off by default for now is reasonable, until we get enough of an idea of the general consensus among people. I suspect, though, that most people won't care, as long as it doesn't give overly huge fee increases.\r\n\r\n> Virtually all japanese exchanges are using address reuse (1 address per customer), this change would impact them a lot. I am unsure if they depend on Bitcoin Core Wallet though.\r\n\r\nAlso some people have a \"permanent\" address that they receive payments to over a long period of time (e.g. charities). They also care little about privacy, usually, as their address is publicly tied to them anyway.\r\n\r\n> I am unsure if Bitcoin Core filter uneconomical outputs (filtering outputs which are more costly than their value to spend), but if bitcoin core implements this, we need to make sure this rule is always enforced at the Output level and not at the OutputGroup level. (Need to be enforced before you create the group)\r\n\r\nGood point. I think the dust limit check can be added to the grouping method fairly easily.\r\n",
      "created_at" : "2018-01-31T01:52:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-361797462",
      "id" : 361797462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-01-31T01:52:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361797462",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165086889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165086889"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am unsure yet, but I think you can make the diff way smaller by keeping the old signature of this method and building the `OutputGroup` at the scope (local variable) of this function only.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-01-31T15:26:34Z",
      "diff_hunk" : "@@ -2421,103 +2421,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165086889",
      "id" : 165086889,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 67,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 92963376,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165086889",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165258739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165258739"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This method doesn't know whether you want single or grouped as it doesn't have coincontrol. Would have to add a bool for that at least. Not sure it'll become smaller though. It'll just move code around.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-01T04:42:16Z",
      "diff_hunk" : "@@ -2421,103 +2421,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165258739",
      "id" : 165258739,
      "in_reply_to_id" : 165086889,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 67,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 93165944,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165258739",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165284475"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165284475"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So the way I did it with NBitcoin is to keep the concept of group internal to only the method which does coin packing.\r\n\r\nIf grouping is deactivated, I group by random, that way there is a single code path for everything.\r\n\r\nI think it is a way smaller code change because all consumer of `SelectCoinsMinConf` do not have to change (you can make the `bool` default to `false` to keep original behavior)\r\nThe concept of group does not make lot's of sense anywhere outside of this method.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-01T08:24:12Z",
      "diff_hunk" : "@@ -2421,103 +2421,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165284475",
      "id" : 165284475,
      "in_reply_to_id" : 165086889,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 67,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 93195617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165284475",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165901799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165901799"
         }
      },
      "author_association" : "MEMBER",
      "body" : "would say `Privacy is improved as an address...`",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-05T08:05:49Z",
      "diff_hunk" : "@@ -389,6 +389,14 @@ Include IP addresses in debug output (default: 0)\n .IP\n Prepend debug output with timestamp (default: 1)\n .HP\n+\\fB\\-avoidpartialspends\\fR\n+.IP\n+Group outputs by address, selecting all or none, instead of selecting on\n+a per\\-output basis. Improved privacy as an address is only used",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165901799",
      "id" : 165901799,
      "original_commit_id" : "740daf7b2c38f1902e29dc4daa3429727e90d924",
      "original_position" : 7,
      "path" : "doc/man/bitcoind.1",
      "position" : null,
      "pull_request_review_id" : 93906903,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165901799",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165902270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165902270"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-05T08:09:14Z",
      "diff_hunk" : "@@ -389,6 +389,14 @@ Include IP addresses in debug output (default: 0)\n .IP\n Prepend debug output with timestamp (default: 1)\n .HP\n+\\fB\\-avoidpartialspends\\fR\n+.IP\n+Group outputs by address, selecting all or none, instead of selecting on\n+a per\\-output basis. Improved privacy as an address is only used",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r165902270",
      "id" : 165902270,
      "in_reply_to_id" : 165901799,
      "original_commit_id" : "740daf7b2c38f1902e29dc4daa3429727e90d924",
      "original_position" : 7,
      "path" : "doc/man/bitcoind.1",
      "position" : null,
      "pull_request_review_id" : 93907503,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/165902270",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r167753546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167753546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I discussed with @NicolasDorier and we concluded that the current way this is done is okay (NBitcoin does it differently so it made sense there).",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-13T03:35:41Z",
      "diff_hunk" : "@@ -2421,103 +2421,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r167753546",
      "id" : 167753546,
      "in_reply_to_id" : 165086889,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 67,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 96017610,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167753546",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170182753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170182753"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed to using a `boost::optional`.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-23T07:34:47Z",
      "diff_hunk" : "@@ -30,6 +30,8 @@ class CCoinControl\n     boost::optional<CFeeRate> m_feerate;\n     //! Override the default confirmation target if set\n     boost::optional<unsigned int> m_confirm_target;\n+    //! Avoid partial use of funds sent to a given address: -1 means default\n+    short m_avoid_partial_spends;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170182753",
      "id" : 170182753,
      "in_reply_to_id" : 164747804,
      "original_commit_id" : "58e4bb1d3943518cebc9ab620e105615d5e3acfe",
      "original_position" : 5,
      "path" : "src/wallet/coincontrol.h",
      "position" : null,
      "pull_request_review_id" : 98830043,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170182753",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170800643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170800643"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"by key\". Outputs don't have addresses.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-27T02:38:10Z",
      "diff_hunk" : "@@ -462,6 +462,8 @@ std::string HelpMessage(HelpMessageMode mode)\n         strUsage += HelpMessageOpt(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_SIZE));\n         strUsage += HelpMessageOpt(\"-maxtipage=<n>\", strprintf(\"Maximum tip age in seconds to consider node in initial block download (default: %u)\", DEFAULT_MAX_TIP_AGE));\n     }\n+    strUsage += HelpMessageOpt(\"-avoidpartialspends\", strprintf(_(\"Group outputs by address, selecting all or none, instead of selecting on a per-output basis. Privacy is improved as an address is only used once (unless someone sends to it \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170800643",
      "id" : 170800643,
      "original_commit_id" : "2f4376122e148b2a16f07ca2772c8c4fa5fb141f",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 99541864,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170800643",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170801487"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170801487"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems this would be better as a method on CCoinControl...",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-27T02:45:21Z",
      "diff_hunk" : "@@ -47,6 +47,8 @@ OutputType g_change_type = OUTPUT_TYPE_NONE;\n const char * DEFAULT_WALLET_DAT = \"wallet.dat\";\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n+#define COINCONTROL_AVOID_PARTIAL_SPENDS(cc) ((cc) && (cc)->m_avoid_partial_spends ? (cc)->m_avoid_partial_spends.get() : gArgs.GetBoolArg(\"-avoidpartialspends\", DEFAULT_AVOIDPARTIALSPENDS))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170801487",
      "id" : 170801487,
      "original_commit_id" : "2f4376122e148b2a16f07ca2772c8c4fa5fb141f",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99542885,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170801487",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170814766"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170814766"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Coin control needs `gArgs` in that case, and currently there is no `.cpp` file so it'd have to be included in the header.\r\n\r\nI'm actually starting to think maybe coin control could use a `.cpp` file...",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-27T04:50:33Z",
      "diff_hunk" : "@@ -47,6 +47,8 @@ OutputType g_change_type = OUTPUT_TYPE_NONE;\n const char * DEFAULT_WALLET_DAT = \"wallet.dat\";\n const uint32_t BIP32_HARDENED_KEY_LIMIT = 0x80000000;\n \n+#define COINCONTROL_AVOID_PARTIAL_SPENDS(cc) ((cc) && (cc)->m_avoid_partial_spends ? (cc)->m_avoid_partial_spends.get() : gArgs.GetBoolArg(\"-avoidpartialspends\", DEFAULT_AVOIDPARTIALSPENDS))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170814766",
      "id" : 170814766,
      "in_reply_to_id" : 170801487,
      "original_commit_id" : "2f4376122e148b2a16f07ca2772c8c4fa5fb141f",
      "original_position" : 4,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99557786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170814766",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170815179"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170815179"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I see what you're saying, but in this case I think 'address' is fine; we speak of address reuse, after all. While outputs themselves don't have addresses, the funding to each output was done to a specific address; if that address was the same, then this PR will group them together.\r\n\r\nMaybe `Group outputs by key (address), selecting all or...` would be fine, though?",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-27T04:54:36Z",
      "diff_hunk" : "@@ -462,6 +462,8 @@ std::string HelpMessage(HelpMessageMode mode)\n         strUsage += HelpMessageOpt(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_SIZE));\n         strUsage += HelpMessageOpt(\"-maxtipage=<n>\", strprintf(\"Maximum tip age in seconds to consider node in initial block download (default: %u)\", DEFAULT_MAX_TIP_AGE));\n     }\n+    strUsage += HelpMessageOpt(\"-avoidpartialspends\", strprintf(_(\"Group outputs by address, selecting all or none, instead of selecting on a per-output basis. Privacy is improved as an address is only used once (unless someone sends to it \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r170815179",
      "id" : 170815179,
      "in_reply_to_id" : 170800643,
      "original_commit_id" : "2f4376122e148b2a16f07ca2772c8c4fa5fb141f",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 99558236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/170815179",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I added `coincontrol.cpp` and moved `SetNull` into it, setting it to the default given in `DEFAULT_AVOIDPARTIALSPENDS`. This cleans up use as it is always a bool with an up-to-date value even when default is used.",
      "created_at" : "2018-02-27T06:16:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-368759789",
      "id" : 368759789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-02-27T06:16:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/368759789",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171127972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171127972"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also, this should be in `wallet/init`",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T02:22:33Z",
      "diff_hunk" : "@@ -462,6 +462,8 @@ std::string HelpMessage(HelpMessageMode mode)\n         strUsage += HelpMessageOpt(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_SIZE));\n         strUsage += HelpMessageOpt(\"-maxtipage=<n>\", strprintf(\"Maximum tip age in seconds to consider node in initial block download (default: %u)\", DEFAULT_MAX_TIP_AGE));\n     }\n+    strUsage += HelpMessageOpt(\"-avoidpartialspends\", strprintf(_(\"Group outputs by address, selecting all or none, instead of selecting on a per-output basis. Privacy is improved as an address is only used once (unless someone sends to it \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171127972",
      "id" : 171127972,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 99926462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171127972",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171128124"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171128124"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Similarly, in `wallet/wallet.h`",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T02:24:07Z",
      "diff_hunk" : "@@ -53,6 +53,8 @@ static const bool DEFAULT_WHITELISTFORCERELAY = true;\n static const unsigned int DEFAULT_MIN_RELAY_TX_FEE = 1000;\n //! -maxtxfee default\n static const CAmount DEFAULT_TRANSACTION_MAXFEE = 0.1 * COIN;\n+//! -avoidpartialspends default\n+static const bool DEFAULT_AVOIDPARTIALSPENDS = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171128124",
      "id" : 171128124,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 5,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 99926655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171128124",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171141289"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171141289"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Change from uint64_t max to int64_t max should be documented somewhere, probably done alone in a separate bugfix commit.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T04:33:19Z",
      "diff_hunk" : "@@ -2564,17 +2545,21 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n+    // form groups from remaining coins; note that preset coins will not\n+    // automatically have their associated (same address) coins included\n+    std::vector<OutputGroup> groups = group_outputs(vCoins, !(coinControl && coinControl->m_avoid_partial_spends));\n+\n     size_t nMaxChainLength = std::min(gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT), gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT));\n     bool fRejectLongChains = gArgs.GetBoolArg(\"-walletrejectlongchains\", DEFAULT_WALLET_REJECT_LONG_CHAINS);\n \n     bool res = nTargetValue <= nValueFromPresetInputs ||\n-        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 6, 0, vCoins, setCoinsRet, nValueRet) ||\n-        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 1, 0, vCoins, setCoinsRet, nValueRet) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, 2, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::min((size_t)4, nMaxChainLength/3), vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength/2, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && !fRejectLongChains && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::numeric_limits<uint64_t>::max(), vCoins, setCoinsRet, nValueRet));\n+        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 6, 0, groups, setCoinsRet, nValueRet) ||\n+        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 1, 0, groups, setCoinsRet, nValueRet) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, 2, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::min((size_t)4, nMaxChainLength/3), groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength/2, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && !fRejectLongChains && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::numeric_limits<int64_t>::max(), groups, setCoinsRet, nValueRet));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171141289",
      "id" : 171141289,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 238,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99941367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171141289",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171141879"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171141879"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This policy change should be documented in the commit message.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T04:39:25Z",
      "diff_hunk" : "@@ -2410,103 +2410,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,\n-                                 std::set<CInputCoin>& setCoinsRet, CAmount& nValueRet) const\n+bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const int64_t nMaxAncestors,\n+                                 std::vector<OutputGroup> groups, std::set<CInputCoin>& setCoinsRet, CAmount& nValueRet) const\n {\n     setCoinsRet.clear();\n     nValueRet = 0;\n \n     // List of values less than target\n-    boost::optional<CInputCoin> coinLowestLarger;\n-    std::vector<CInputCoin> vValue;\n+    boost::optional<OutputGroup> lowest_larger;\n+    std::vector<OutputGroup> applicable_groups;\n     CAmount nTotalLower = 0;\n \n-    random_shuffle(vCoins.begin(), vCoins.end(), GetRandInt);\n+    random_shuffle(groups.begin(), groups.end(), GetRandInt);\n \n-    for (const COutput &output : vCoins)\n-    {\n-        if (!output.fSpendable)\n-            continue;\n-\n-        const CWalletTx *pcoin = output.tx;\n-\n-        if (output.nDepth < (pcoin->IsFromMe(ISMINE_ALL) ? nConfMine : nConfTheirs))\n-            continue;\n-\n-        if (!mempool.TransactionWithinChainLimit(pcoin->GetHash(), nMaxAncestors))\n-            continue;\n-\n-        int i = output.i;\n+    for (const OutputGroup& group : groups) {\n+        if (group.m_depth < (group.m_from_me ? nConfMine : nConfTheirs)) continue;\n \n-        CInputCoin coin = CInputCoin(pcoin, i);\n+        if (group.m_chain_limit_value >= nMaxAncestors) continue;\n \n-        if (coin.txout.nValue == nTargetValue)\n-        {\n-            setCoinsRet.insert(coin);\n-            nValueRet += coin.txout.nValue;\n+        if (group.m_value == nTargetValue) {\n+            insert(setCoinsRet, group.input_coins());\n+            nValueRet += group.m_value;\n             return true;\n-        }\n-        else if (coin.txout.nValue < nTargetValue + MIN_CHANGE)\n-        {\n-            vValue.push_back(coin);\n-            nTotalLower += coin.txout.nValue;\n-        }\n-        else if (!coinLowestLarger || coin.txout.nValue < coinLowestLarger->txout.nValue)\n-        {\n-            coinLowestLarger = coin;\n+        } else if (group.m_value < nTargetValue + MIN_CHANGE) {\n+            applicable_groups.push_back(group);\n+            nTotalLower += group.m_value;\n+        } else if (!lowest_larger || group.m_value < lowest_larger->m_value) {\n+            lowest_larger = group;\n         }\n     }\n \n-    if (nTotalLower == nTargetValue)\n-    {\n-        for (const auto& input : vValue)\n-        {\n-            setCoinsRet.insert(input);\n-            nValueRet += input.txout.nValue;\n+    if (nTotalLower == nTargetValue) {\n+        for (const auto& group : applicable_groups) {\n+            insert(setCoinsRet, group.input_coins());\n+            nValueRet += group.m_value;\n         }\n         return true;\n     }\n \n-    if (nTotalLower < nTargetValue)\n-    {\n-        if (!coinLowestLarger)\n-            return false;\n-        setCoinsRet.insert(coinLowestLarger.get());\n-        nValueRet += coinLowestLarger->txout.nValue;\n+    // we prioritize the lowest larger if\n+    // 1. it has multiple outputs (i.e. it is the result of address reuse)\n+    // 2. it is not substantially (>2x) larger than the target value\n+    if (nTotalLower < nTargetValue || (lowest_larger && lowest_larger->m_outputs.size() > 1 && lowest_larger->m_value < 2 * nTargetValue)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171141879",
      "id" : 171141879,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 153,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99941990,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171141879",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148885"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Moved",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T05:52:04Z",
      "diff_hunk" : "@@ -462,6 +462,8 @@ std::string HelpMessage(HelpMessageMode mode)\n         strUsage += HelpMessageOpt(\"-maxsigcachesize=<n>\", strprintf(\"Limit sum of signature cache and script execution cache sizes to <n> MiB (default: %u)\", DEFAULT_MAX_SIG_CACHE_SIZE));\n         strUsage += HelpMessageOpt(\"-maxtipage=<n>\", strprintf(\"Maximum tip age in seconds to consider node in initial block download (default: %u)\", DEFAULT_MAX_TIP_AGE));\n     }\n+    strUsage += HelpMessageOpt(\"-avoidpartialspends\", strprintf(_(\"Group outputs by address, selecting all or none, instead of selecting on a per-output basis. Privacy is improved as an address is only used once (unless someone sends to it \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148885",
      "id" : 171148885,
      "in_reply_to_id" : 171127972,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 99950057,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148885",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148934"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148934"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Split into its own commit, and documented change in commit message.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T05:52:23Z",
      "diff_hunk" : "@@ -2564,17 +2545,21 @@ bool CWallet::SelectCoins(const std::vector<COutput>& vAvailableCoins, const CAm\n             ++it;\n     }\n \n+    // form groups from remaining coins; note that preset coins will not\n+    // automatically have their associated (same address) coins included\n+    std::vector<OutputGroup> groups = group_outputs(vCoins, !(coinControl && coinControl->m_avoid_partial_spends));\n+\n     size_t nMaxChainLength = std::min(gArgs.GetArg(\"-limitancestorcount\", DEFAULT_ANCESTOR_LIMIT), gArgs.GetArg(\"-limitdescendantcount\", DEFAULT_DESCENDANT_LIMIT));\n     bool fRejectLongChains = gArgs.GetBoolArg(\"-walletrejectlongchains\", DEFAULT_WALLET_REJECT_LONG_CHAINS);\n \n     bool res = nTargetValue <= nValueFromPresetInputs ||\n-        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 6, 0, vCoins, setCoinsRet, nValueRet) ||\n-        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 1, 0, vCoins, setCoinsRet, nValueRet) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, 2, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::min((size_t)4, nMaxChainLength/3), vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength/2, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength, vCoins, setCoinsRet, nValueRet)) ||\n-        (bSpendZeroConfChange && !fRejectLongChains && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::numeric_limits<uint64_t>::max(), vCoins, setCoinsRet, nValueRet));\n+        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 6, 0, groups, setCoinsRet, nValueRet) ||\n+        SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 1, 1, 0, groups, setCoinsRet, nValueRet) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, 2, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::min((size_t)4, nMaxChainLength/3), groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength/2, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, nMaxChainLength, groups, setCoinsRet, nValueRet)) ||\n+        (bSpendZeroConfChange && !fRejectLongChains && SelectCoinsMinConf(nTargetValue - nValueFromPresetInputs, 0, 1, std::numeric_limits<int64_t>::max(), groups, setCoinsRet, nValueRet));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148934",
      "id" : 171148934,
      "in_reply_to_id" : 171141289,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 238,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99950098,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148934",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148962"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148962"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Split into its own commit, and documented policy change.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-02-28T05:52:36Z",
      "diff_hunk" : "@@ -2410,103 +2410,84 @@ static void ApproximateBestSubset(const std::vector<CInputCoin>& vValue, const C\n     }\n }\n \n-bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const uint64_t nMaxAncestors, std::vector<COutput> vCoins,\n-                                 std::set<CInputCoin>& setCoinsRet, CAmount& nValueRet) const\n+bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, const int nConfMine, const int nConfTheirs, const int64_t nMaxAncestors,\n+                                 std::vector<OutputGroup> groups, std::set<CInputCoin>& setCoinsRet, CAmount& nValueRet) const\n {\n     setCoinsRet.clear();\n     nValueRet = 0;\n \n     // List of values less than target\n-    boost::optional<CInputCoin> coinLowestLarger;\n-    std::vector<CInputCoin> vValue;\n+    boost::optional<OutputGroup> lowest_larger;\n+    std::vector<OutputGroup> applicable_groups;\n     CAmount nTotalLower = 0;\n \n-    random_shuffle(vCoins.begin(), vCoins.end(), GetRandInt);\n+    random_shuffle(groups.begin(), groups.end(), GetRandInt);\n \n-    for (const COutput &output : vCoins)\n-    {\n-        if (!output.fSpendable)\n-            continue;\n-\n-        const CWalletTx *pcoin = output.tx;\n-\n-        if (output.nDepth < (pcoin->IsFromMe(ISMINE_ALL) ? nConfMine : nConfTheirs))\n-            continue;\n-\n-        if (!mempool.TransactionWithinChainLimit(pcoin->GetHash(), nMaxAncestors))\n-            continue;\n-\n-        int i = output.i;\n+    for (const OutputGroup& group : groups) {\n+        if (group.m_depth < (group.m_from_me ? nConfMine : nConfTheirs)) continue;\n \n-        CInputCoin coin = CInputCoin(pcoin, i);\n+        if (group.m_chain_limit_value >= nMaxAncestors) continue;\n \n-        if (coin.txout.nValue == nTargetValue)\n-        {\n-            setCoinsRet.insert(coin);\n-            nValueRet += coin.txout.nValue;\n+        if (group.m_value == nTargetValue) {\n+            insert(setCoinsRet, group.input_coins());\n+            nValueRet += group.m_value;\n             return true;\n-        }\n-        else if (coin.txout.nValue < nTargetValue + MIN_CHANGE)\n-        {\n-            vValue.push_back(coin);\n-            nTotalLower += coin.txout.nValue;\n-        }\n-        else if (!coinLowestLarger || coin.txout.nValue < coinLowestLarger->txout.nValue)\n-        {\n-            coinLowestLarger = coin;\n+        } else if (group.m_value < nTargetValue + MIN_CHANGE) {\n+            applicable_groups.push_back(group);\n+            nTotalLower += group.m_value;\n+        } else if (!lowest_larger || group.m_value < lowest_larger->m_value) {\n+            lowest_larger = group;\n         }\n     }\n \n-    if (nTotalLower == nTargetValue)\n-    {\n-        for (const auto& input : vValue)\n-        {\n-            setCoinsRet.insert(input);\n-            nValueRet += input.txout.nValue;\n+    if (nTotalLower == nTargetValue) {\n+        for (const auto& group : applicable_groups) {\n+            insert(setCoinsRet, group.input_coins());\n+            nValueRet += group.m_value;\n         }\n         return true;\n     }\n \n-    if (nTotalLower < nTargetValue)\n-    {\n-        if (!coinLowestLarger)\n-            return false;\n-        setCoinsRet.insert(coinLowestLarger.get());\n-        nValueRet += coinLowestLarger->txout.nValue;\n+    // we prioritize the lowest larger if\n+    // 1. it has multiple outputs (i.e. it is the result of address reuse)\n+    // 2. it is not substantially (>2x) larger than the target value\n+    if (nTotalLower < nTargetValue || (lowest_larger && lowest_larger->m_outputs.size() > 1 && lowest_larger->m_value < 2 * nTargetValue)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r171148962",
      "id" : 171148962,
      "in_reply_to_id" : 171141879,
      "original_commit_id" : "cf9df64071b697afdf0397438db8dd0a00513664",
      "original_position" : 153,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 99950122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171148962",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK",
      "created_at" : "2018-03-05T20:08:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-370547626",
      "id" : 370547626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-03-05T20:08:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370547626",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r172851205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172851205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As we discussed you might not need `&&` because you can pass temporary object to the function with `const Tsrc&`",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-03-07T14:06:35Z",
      "diff_hunk" : "@@ -357,4 +358,14 @@ std::unique_ptr<T> MakeUnique(Args&&... args)\n     return std::unique_ptr<T>(new T(std::forward<Args>(args)...));\n }\n \n+//! Simplification of std insertion\n+template <typename Tdst, typename Tsrc>\n+void insert(Tdst& dst, const Tsrc&& src) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r172851205",
      "id" : 172851205,
      "original_commit_id" : "44dfa2f86ecbf95a7a45a933f700a68d690f8f68",
      "original_position" : 14,
      "path" : "src/util.h",
      "position" : null,
      "pull_request_review_id" : 101938276,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172851205",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r172852831"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172852831"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: You don't have to do this, but I think it would be better if this commit was self contained, as now the clients of `TransactionWithinChainLimit` are not compiling anymore. To verify your change is valid we need to check other commits later. This make it harder to review.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-03-07T14:11:48Z",
      "diff_hunk" : "@@ -1055,11 +1055,10 @@ void CTxMemPool::TrimToSize(size_t sizelimit, std::vector<COutPoint>* pvNoSpends\n     }\n }\n ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r172852831",
      "id" : 172852831,
      "original_commit_id" : "be37c0c21dc29d2075dd15d4c3a117787eb344d8",
      "original_position" : 3,
      "path" : "src/txmempool.cpp",
      "position" : 3,
      "pull_request_review_id" : 101940236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/172852831",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code Review ACK, though it would be nice to have the remaining TODO in the test done.\r\n\r\nI am also wondering potential performance problem for wallet with lots of UTXOs. I already heard complaints that core was getting quite slow at doing transactions when for big wallets. (though this could be worked around by asking people to turn on `avoidpartialspends`)",
      "created_at" : "2018-03-07T14:40:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-371159249",
      "id" : 371159249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-03-07T14:42:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371159249",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I am also wondering potential performance problem for wallet with lots of UTXOs. I already heard complaints that core was getting quite slow at doing transactions when for big wallets. (though this could be worked around by asking people to turn on avoidpartialspends)\r\n\r\nI think wallets with a ton of outputs would want to use avoidpartialspends as it would affect them minimally fee-wise, and it would improve privacy for odd-ball reuse.",
      "created_at" : "2018-03-07T15:39:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-371179101",
      "id" : 371179101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-03-07T15:39:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371179101",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I rebased this on top of the new coin selection algorithm.",
      "created_at" : "2018-03-15T10:17:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-373327079",
      "id" : 373327079,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-03-15T10:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373327079",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r180825503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180825503"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't this change be part of 27872fa1cf4f7ca5e0c136554078448dc7f92d1d?",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-04-11T16:53:45Z",
      "diff_hunk" : "@@ -4387,7 +4387,7 @@ std::vector<COutput>::iterator OutputGroup::discard(const COutput& output) {\n std::vector<CInputCoin> OutputGroup::input_coins() const {\n     std::vector<CInputCoin> coins;\n     for (const auto& output : m_outputs) {\n-        coins.emplace_back(output.tx, output.i);\n+        coins.emplace_back(output.tx->tx, output.i);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r180825503",
      "id" : 180825503,
      "original_commit_id" : "f9d1a771b151a721e869d6f5321d3c8dd9a81a75",
      "original_position" : 5,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111316021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180825503",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r180939016"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180939016"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes! Thanks for noticing.",
      "commit_id" : "fdbdbe68ef69163ecd0e334b03cfabd907ce3c18",
      "created_at" : "2018-04-12T00:53:46Z",
      "diff_hunk" : "@@ -4387,7 +4387,7 @@ std::vector<COutput>::iterator OutputGroup::discard(const COutput& output) {\n std::vector<CInputCoin> OutputGroup::input_coins() const {\n     std::vector<CInputCoin> coins;\n     for (const auto& output : m_outputs) {\n-        coins.emplace_back(output.tx, output.i);\n+        coins.emplace_back(output.tx->tx, output.i);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#discussion_r180939016",
      "id" : 180939016,
      "in_reply_to_id" : 180825503,
      "original_commit_id" : "f9d1a771b151a721e869d6f5321d3c8dd9a81a75",
      "original_position" : 5,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111450151,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12257",
      "updated_at" : "2018-04-12T01:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180939016",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase if still relevant",
      "created_at" : "2018-05-09T18:40:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-387836031",
      "id" : 387836031,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-05-09T18:40:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387836031",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-05-10T02:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-387928694",
      "id" : 387928694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "updated_at" : "2018-05-10T02:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387928694",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-06-11T15:03:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-396276000",
      "id" : 396276000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjI3NjAwMA==",
      "updated_at" : "2018-06-11T15:03:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396276000",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-06-12T06:27:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-396479607",
      "id" : 396479607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjQ3OTYwNw==",
      "updated_at" : "2018-06-12T06:27:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396479607",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-06-30T12:36:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-401538582",
      "id" : 401538582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTUzODU4Mg==",
      "updated_at" : "2018-06-30T12:36:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401538582",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2018-07-02T05:38:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-401677390",
      "id" : 401677390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY3NzM5MA==",
      "updated_at" : "2018-07-02T05:38:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401677390",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK",
      "created_at" : "2018-07-13T03:38:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12257#issuecomment-404716443",
      "id" : 404716443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12257",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDcxNjQ0Mw==",
      "updated_at" : "2018-07-13T03:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404716443",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
