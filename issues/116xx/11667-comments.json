[
   {
      "author_association" : "MEMBER",
      "body" : "@TheBlueMatt @laanwj you might want to take a look after the discussion in the other PR",
      "created_at" : "2017-11-12T06:16:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-343716168",
      "id" : 343716168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-12T06:16:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343716168",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Concept ACK, thanks for having a shot at this,will review in detail later.",
      "created_at" : "2017-11-13T13:35:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-343920456",
      "id" : 343920456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-13T13:35:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343920456",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\nMaybe `importwallet` should get an overhauled description (currently ` \"\\nImports keys from a wallet dump file (see dumpwallet)....`?\r\nShould we returns warning when `importwallet` was importing scripts?",
      "created_at" : "2017-11-13T20:34:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-344049237",
      "id" : 344049237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-13T20:34:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344049237",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli\r\n> Should we returns warning when importwallet was importing scripts?\r\n\r\nyou mean like a warning about manually rescanning or something? Just to let the user know it contained scripts too?",
      "created_at" : "2017-11-13T21:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-344059589",
      "id" : 344059589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-13T21:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344059589",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151087235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151087235"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We don't test the comment?",
      "commit_id" : "468771372c96378268272971212943e7b46596cb",
      "created_at" : "2017-11-15T10:27:20Z",
      "diff_hunk" : "@@ -694,6 +708,15 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n         }\n     }\n     file << \"\\n\";\n+    for (const CScriptID &scriptid : scripts) {\n+        CScript script;\n+        std::string address = EncodeDestination(scriptid);\n+        if(pwallet->GetCScript(scriptid, script)) {\n+            file << strprintf(\"%s 0 script=1\", HexStr(script.begin(), script.end()));\n+            file << strprintf(\" # addr=%s\\n\", address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151087235",
      "id" : 151087235,
      "original_commit_id" : "1e066dbdf731265a443329bf883f6c21f5aca243",
      "original_position" : 121,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 121,
      "pull_request_review_id" : 76736257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667",
      "updated_at" : "2017-11-15T10:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151087235",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151087753"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151087753"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`to find relevant transactions` or something along that.",
      "commit_id" : "468771372c96378268272971212943e7b46596cb",
      "created_at" : "2017-11-15T10:29:31Z",
      "diff_hunk" : "@@ -89,6 +89,10 @@ Low-level RPC changes\n - `dumpwallet` no longer allows overwriting files. This is a security measure\n   as well as prevents dangerous user mistakes.\n \n+- `dumpwallet` now includes hex-encoded scripts from the wallet in the dumpfile, and\n+  `importwallet` now imports these scripts, but corresponding addresses may not be added\n+  correctly or a manual rescan may be required to find transactions.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151087753",
      "id" : 151087753,
      "original_commit_id" : "1e066dbdf731265a443329bf883f6c21f5aca243",
      "original_position" : 6,
      "path" : "doc/release-notes.md",
      "position" : null,
      "pull_request_review_id" : 76736257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667",
      "updated_at" : "2017-11-15T10:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151087753",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151089123"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151089123"
         }
      },
      "author_association" : "MEMBER",
      "body" : "~Sorry, unsure what you mean?~ Discussed on IRC",
      "commit_id" : "468771372c96378268272971212943e7b46596cb",
      "created_at" : "2017-11-15T10:35:41Z",
      "diff_hunk" : "@@ -694,6 +708,15 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n         }\n     }\n     file << \"\\n\";\n+    for (const CScriptID &scriptid : scripts) {\n+        CScript script;\n+        std::string address = EncodeDestination(scriptid);\n+        if(pwallet->GetCScript(scriptid, script)) {\n+            file << strprintf(\"%s 0 script=1\", HexStr(script.begin(), script.end()));\n+            file << strprintf(\" # addr=%s\\n\", address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151089123",
      "id" : 151089123,
      "in_reply_to_id" : 151087235,
      "original_commit_id" : "1e066dbdf731265a443329bf883f6c21f5aca243",
      "original_position" : 121,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 121,
      "pull_request_review_id" : 76738576,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667",
      "updated_at" : "2017-11-15T10:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151089123",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag \r\n> `cs_wallet` should be locked in `dumpwallet`?\r\n\r\nIt is locked on line 630 right? `LOCK2(cs_main, pwallet->cs_wallet);`",
      "created_at" : "2017-11-15T10:39:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-344553578",
      "id" : 344553578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-15T10:39:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344553578",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151092085"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151092085"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nevermind, `address` is parsed in\r\nhttps://github.com/bitcoin/bitcoin/blob/4db82b7aab4ad64717f742a7318e3dc6811b41be/test/functional/wallet-dump.py#L27-L33",
      "commit_id" : "468771372c96378268272971212943e7b46596cb",
      "created_at" : "2017-11-15T10:48:08Z",
      "diff_hunk" : "@@ -694,6 +708,15 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n         }\n     }\n     file << \"\\n\";\n+    for (const CScriptID &scriptid : scripts) {\n+        CScript script;\n+        std::string address = EncodeDestination(scriptid);\n+        if(pwallet->GetCScript(scriptid, script)) {\n+            file << strprintf(\"%s 0 script=1\", HexStr(script.begin(), script.end()));\n+            file << strprintf(\" # addr=%s\\n\", address);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#discussion_r151092085",
      "id" : 151092085,
      "in_reply_to_id" : 151087235,
      "original_commit_id" : "1e066dbdf731265a443329bf883f6c21f5aca243",
      "original_position" : 121,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : 121,
      "pull_request_review_id" : 76741942,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11667",
      "updated_at" : "2017-11-15T10:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151092085",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @promag's comment nit, thanks :)\r\n\r\nThe release notes and comment change may still need modification based on what needs to be said about BIP173, etc.",
      "created_at" : "2017-11-15T10:50:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-344556347",
      "id" : 344556347,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-15T10:50:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344556347",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "How about `const map<>& GetScripts() const`, which returns `mapScripts`, to avoid the set creation and copy and lookups added further? Not sure about `cs_KeyStore`.",
      "created_at" : "2017-11-15T11:45:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11667#issuecomment-344568779",
      "id" : 344568779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11667",
      "updated_at" : "2017-11-15T11:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344568779",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
