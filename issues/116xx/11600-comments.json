[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This happens when bitcoind isnt allowed to shut down cleanly after connecting many blocks with a large dbcache. Ideally we'd have a mechanism for background flushing the cache to disk so that we dont end up in this state, but if you do a full, normal, clean shutdown, this shouldn't happen.",
      "created_at" : "2017-11-03T15:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-341733023",
      "id" : 341733023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2017-11-03T15:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341733023",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "it looks like bitcoind does not respond to a kill request during these hours - so it's not possible to shut down cleanly...",
      "created_at" : "2017-11-03T15:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-341736197",
      "id" : 341736197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2017-11-03T15:27:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341736197",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1530283?v=4",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, well I meant shutdown cleanly prior to the \"roll forward\", but, indeed, it looks like there is an issue here in that the \"roll forward\" doesn't allow shutdown in the middle of it.",
      "created_at" : "2017-11-03T15:53:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-341744809",
      "id" : 341744809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2017-11-03T15:53:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/341744809",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "This is a very long-running issue, I'm surprised there isn't another open for it but couldn't find it.\r\n(though #8117 #10005 are similar, the GUI problem has been solved, but the underlying potentially long wait at startup hasn't)",
      "created_at" : "2017-11-08T03:09:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-342696963",
      "id" : 342696963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2017-11-08T03:09:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342696963",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Outside of making sure the system always allows `bitcoind` to cleanly exit, is there maybe a workaround for those times the infrastructure _just slips_ from underneath you?",
      "created_at" : "2017-11-27T21:31:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-347334773",
      "id" : 347334773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2017-11-27T21:31:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347334773",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6472374?v=4",
         "events_url" : "https://api.github.com/users/snobu/events{/privacy}",
         "followers_url" : "https://api.github.com/users/snobu/followers",
         "following_url" : "https://api.github.com/users/snobu/following{/other_user}",
         "gists_url" : "https://api.github.com/users/snobu/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/snobu",
         "id" : 6472374,
         "login" : "snobu",
         "organizations_url" : "https://api.github.com/users/snobu/orgs",
         "received_events_url" : "https://api.github.com/users/snobu/received_events",
         "repos_url" : "https://api.github.com/users/snobu/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/snobu/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/snobu/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/snobu"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm having the same issue. What would happen if I kill the process while it's rolling forward?",
      "created_at" : "2018-04-11T20:09:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-380580008",
      "id" : 380580008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2018-04-11T20:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380580008",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5121169?v=4",
         "events_url" : "https://api.github.com/users/rbndg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rbndg/followers",
         "following_url" : "https://api.github.com/users/rbndg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rbndg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rbndg",
         "id" : 5121169,
         "login" : "rbndg",
         "organizations_url" : "https://api.github.com/users/rbndg/orgs",
         "received_events_url" : "https://api.github.com/users/rbndg/received_events",
         "repos_url" : "https://api.github.com/users/rbndg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rbndg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rbndg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rbndg"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "In my case, I had a very large `dbcache=6144` and left my machine unattended at which point it ran out of battery and had a very un-clean exit Ã°ÂÂÂ \r\n\r\nSo for the past day or so `bitcoind` has been 'rolling forward' all the blocks it was processing, most of which resided in the potentially-tainted DB cache:\r\n![image](https://user-images.githubusercontent.com/2043821/39652461-a145e9da-4fbb-11e8-8b6b-66fe34fa9a4e.png)\r\n\r\nSince I can't `bitcoin-cli stop` until this resync completes, is it safe to kill `bitcoind`, i.e. will I lose all the work that's been done so far to roll these blocks forward? Or is each block being processed and written to disk (is that the definition of 'rolling forward')? Any links to source code would be appreciated! Ã°ÂÂÂ \r\n",
      "created_at" : "2018-05-04T20:54:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-386731904",
      "id" : 386731904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2018-05-04T20:54:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386731904",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2043821?v=4",
         "events_url" : "https://api.github.com/users/mecampbellsoup/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mecampbellsoup/followers",
         "following_url" : "https://api.github.com/users/mecampbellsoup/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mecampbellsoup/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mecampbellsoup",
         "id" : 2043821,
         "login" : "mecampbellsoup",
         "organizations_url" : "https://api.github.com/users/mecampbellsoup/orgs",
         "received_events_url" : "https://api.github.com/users/mecampbellsoup/received_events",
         "repos_url" : "https://api.github.com/users/mecampbellsoup/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mecampbellsoup/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mecampbellsoup/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mecampbellsoup"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I had the same issue and I did exit and it was fine after I reopened the bitcoind. However bitcoind will continue to roll forward after reopening",
      "created_at" : "2018-05-06T01:46:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/11600#issuecomment-386847349",
      "id" : 386847349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11600",
      "updated_at" : "2018-05-06T01:46:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/386847349",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5121169?v=4",
         "events_url" : "https://api.github.com/users/rbndg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rbndg/followers",
         "following_url" : "https://api.github.com/users/rbndg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rbndg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rbndg",
         "id" : 5121169,
         "login" : "rbndg",
         "organizations_url" : "https://api.github.com/users/rbndg/orgs",
         "received_events_url" : "https://api.github.com/users/rbndg/received_events",
         "repos_url" : "https://api.github.com/users/rbndg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rbndg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rbndg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rbndg"
      }
   }
]
