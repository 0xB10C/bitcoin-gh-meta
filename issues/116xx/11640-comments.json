[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150035812"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150035812"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe we would sometimes incorrectly catch this - we still have some generic catch blocks lying around in places :(. I wouldn't mind having a policy of only catching in tests, but until then, I think this should, sadly, remain an assert (unless you want to go to the hassle of adding some #define that is only set in test_bitcoin and compiling this unit differently for it :/).",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-11-09T17:45:26Z",
      "diff_hunk" : "@@ -95,7 +95,7 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    throw std::logic_error(\"potential deadlock detected\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150035812",
      "id" : 150035812,
      "original_commit_id" : "f4ea65a606755473df15b5a57d1807e7eae0fb3b",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 75526218,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150035812",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fails travis due to new lock checking in clang.",
      "created_at" : "2017-11-09T17:52:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#issuecomment-343236538",
      "id" : 343236538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11640",
      "updated_at" : "2017-11-09T17:52:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343236538",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150040828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150040828"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What exactly is the problem? DEBUG_LOCKORDER isn't enabled unless you are doing a special build anyway.",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-11-09T18:04:55Z",
      "diff_hunk" : "@@ -95,7 +95,7 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    throw std::logic_error(\"potential deadlock detected\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150040828",
      "id" : 150040828,
      "in_reply_to_id" : 150035812,
      "original_commit_id" : "f4ea65a606755473df15b5a57d1807e7eae0fb3b",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 75532113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150040828",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150041842"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150041842"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I presume it wouldn't actually fail in some cases where a lockorder inversion is hit as the exception here would be caught. Precisely because its (essentially) only enabled in travis we should just keep an assert.",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-11-09T18:09:15Z",
      "diff_hunk" : "@@ -95,7 +95,7 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    throw std::logic_error(\"potential deadlock detected\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r150041842",
      "id" : 150041842,
      "in_reply_to_id" : 150035812,
      "original_commit_id" : "f4ea65a606755473df15b5a57d1807e7eae0fb3b",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 75533330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150041842",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r154455316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154455316"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I presume it wouldn't actually fail in some cases where a lockorder inversion is hit as the exception here would be caught. Precisely because its (essentially) only enabled in travis we should just keep an assert.\r\n\r\nMakes sense, added back an optional abort (on by default), so it will still be guaranteed to fail travis, even in the presence of code that would catch std::logic_error exceptions.\r\n",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-01T21:42:20Z",
      "diff_hunk" : "@@ -95,7 +95,7 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    throw std::logic_error(\"potential deadlock detected\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r154455316",
      "id" : 154455316,
      "in_reply_to_id" : 150035812,
      "original_commit_id" : "f4ea65a606755473df15b5a57d1807e7eae0fb3b",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 80629185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/154455316",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Dont you need a similar DeleteLock() call as CCriticalSection?\r\n\r\nGood catch, added this.",
      "created_at" : "2017-12-01T21:42:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#issuecomment-348622050",
      "id" : 348622050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11640",
      "updated_at" : "2017-12-01T21:42:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348622050",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155006871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155006871"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe abort() doesnt give the same useful stderr print as assert(false) does (specifically giving you a line number so you know at least where the crash was).",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-05T16:47:33Z",
      "diff_hunk" : "@@ -95,7 +95,8 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    if (g_debug_lockorder_abort) abort();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155006871",
      "id" : 155006871,
      "original_commit_id" : "e8cbbb348f9c007d17f6bc0e8297953caf3a23df",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 81254743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155006871",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155007275"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155007275"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "something something \"Only used for unit testing DEBUG_LOCKORDER.\"",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-05T16:48:48Z",
      "diff_hunk" : "@@ -78,6 +78,13 @@ void LeaveCritical();\n std::string LocksHeld();\n void AssertLockHeldInternal(const char* pszName, const char* pszFile, int nLine, void* cs);\n void DeleteLock(void* cs);\n+\n+/**\n+ * Call abort() if a potential lock order deadlock bug is detected, instead of\n+ * just logging information and throwing a logic_error. Defaults to true.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155007275",
      "id" : 155007275,
      "original_commit_id" : "e8cbbb348f9c007d17f6bc0e8297953caf3a23df",
      "original_position" : 7,
      "path" : "src/sync.h",
      "position" : null,
      "pull_request_review_id" : 81254743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155007275",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155020670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155020670"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe just move this into AnnotatedMixin instead of making everything two classes on top of each other?",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-05T17:34:42Z",
      "diff_hunk" : "@@ -93,73 +95,72 @@ void static inline DeleteLock(void* cs) {}\n #endif\n #define AssertLockHeld(cs) AssertLockHeldInternal(#cs, __FILE__, __LINE__, &cs)\n \n-/**\n- * Wrapped mutex: supports recursive locking, but no waiting\n- * TODO: We should move away from using the recursive lock by default.\n- */\n-class CCriticalSection : public AnnotatedMixin<std::recursive_mutex>\n+template <typename Mutex>\n+class LockOrderMixin : public Mutex\n {\n public:\n-    ~CCriticalSection() {\n+    ~LockOrderMixin() {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155020670",
      "id" : 155020670,
      "original_commit_id" : "0e218b400f6428cafd312696ac1ab913388eac29",
      "original_position" : 23,
      "path" : "src/sync.h",
      "position" : null,
      "pull_request_review_id" : 81254743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155020670",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155022256"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155022256"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Isnt it considered bad practice to turn a #define into two statements (asking, I dont know, I've just always seen people bend over to avoid it).",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-05T17:40:28Z",
      "diff_hunk" : "@@ -168,22 +169,27 @@ class SCOPED_LOCKABLE CCriticalBlock\n \n     ~CCriticalBlock() UNLOCK_FUNCTION()\n     {\n-        if (lock.owns_lock())\n+        if (Base::owns_lock())\n             LeaveCritical();\n     }\n \n     operator bool()\n     {\n-        return lock.owns_lock();\n+        return Base::owns_lock();\n     }\n };\n \n+template<typename MutexArg>\n+using DebugLock = CCriticalBlock<typename std::remove_reference<typename std::remove_pointer<MutexArg>::type>::type>;\n+\n #define PASTE(x, y) x ## y\n #define PASTE2(x, y) PASTE(x, y)\n \n-#define LOCK(cs) CCriticalBlock PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n-#define LOCK2(cs1, cs2) CCriticalBlock criticalblock1(cs1, #cs1, __FILE__, __LINE__), criticalblock2(cs2, #cs2, __FILE__, __LINE__)\n-#define TRY_LOCK(cs, name) CCriticalBlock name(cs, #cs, __FILE__, __LINE__, true)\n+#define LOCK(cs) DebugLock<decltype(cs)> PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n+#define LOCK2(cs1, cs2)                                               \\\n+    DebugLock<decltype(cs1)> criticalblock1(cs1, #cs1, __FILE__, __LINE__); \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155022256",
      "id" : 155022256,
      "original_commit_id" : "0e218b400f6428cafd312696ac1ab913388eac29",
      "original_position" : 133,
      "path" : "src/sync.h",
      "position" : 181,
      "pull_request_review_id" : 81254743,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155022256",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155562503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155562503"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed in 9050eff728bd1bbd23aeccfd8cf70b0c999a8e4a. (I added fprintf() before the abort following the pattern from AssertLockHeldInternal/AssertLockNotHeldInternal. I can switch to assert though if you prefer that.)",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-07T15:58:51Z",
      "diff_hunk" : "@@ -95,7 +95,8 @@ static void potential_deadlock_detected(const std::pair<void*, void*>& mismatch,\n         }\n         LogPrintf(\" %s\\n\", i.second.ToString());\n     }\n-    assert(false);\n+    if (g_debug_lockorder_abort) abort();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155562503",
      "id" : 155562503,
      "in_reply_to_id" : 155006871,
      "original_commit_id" : "e8cbbb348f9c007d17f6bc0e8297953caf3a23df",
      "original_position" : 5,
      "path" : "src/sync.cpp",
      "position" : null,
      "pull_request_review_id" : 81902145,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155562503",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155563335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155563335"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Noted in 9050eff728bd1bbd23aeccfd8cf70b0c999a8e4a",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-07T16:01:42Z",
      "diff_hunk" : "@@ -78,6 +78,13 @@ void LeaveCritical();\n std::string LocksHeld();\n void AssertLockHeldInternal(const char* pszName, const char* pszFile, int nLine, void* cs);\n void DeleteLock(void* cs);\n+\n+/**\n+ * Call abort() if a potential lock order deadlock bug is detected, instead of\n+ * just logging information and throwing a logic_error. Defaults to true.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155563335",
      "id" : 155563335,
      "in_reply_to_id" : 155007275,
      "original_commit_id" : "e8cbbb348f9c007d17f6bc0e8297953caf3a23df",
      "original_position" : 7,
      "path" : "src/sync.h",
      "position" : null,
      "pull_request_review_id" : 81902145,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155563335",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155563403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155563403"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in 396911e0e15129c218634c868acb747e423e88d9.",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-07T16:01:56Z",
      "diff_hunk" : "@@ -93,73 +95,72 @@ void static inline DeleteLock(void* cs) {}\n #endif\n #define AssertLockHeld(cs) AssertLockHeldInternal(#cs, __FILE__, __LINE__, &cs)\n \n-/**\n- * Wrapped mutex: supports recursive locking, but no waiting\n- * TODO: We should move away from using the recursive lock by default.\n- */\n-class CCriticalSection : public AnnotatedMixin<std::recursive_mutex>\n+template <typename Mutex>\n+class LockOrderMixin : public Mutex\n {\n public:\n-    ~CCriticalSection() {\n+    ~LockOrderMixin() {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155563403",
      "id" : 155563403,
      "in_reply_to_id" : 155020670,
      "original_commit_id" : "0e218b400f6428cafd312696ac1ab913388eac29",
      "original_position" : 23,
      "path" : "src/sync.h",
      "position" : null,
      "pull_request_review_id" : 81902145,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155563403",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155568284"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155568284"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's bad practice generally because it can break usages like `if (cond) MY_MACRO();`, and the normal workaround is to wrap the statements in a `do {...} while(0)`. But the concern doesn't apply to variable declarations like this.",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-07T16:18:15Z",
      "diff_hunk" : "@@ -168,22 +169,27 @@ class SCOPED_LOCKABLE CCriticalBlock\n \n     ~CCriticalBlock() UNLOCK_FUNCTION()\n     {\n-        if (lock.owns_lock())\n+        if (Base::owns_lock())\n             LeaveCritical();\n     }\n \n     operator bool()\n     {\n-        return lock.owns_lock();\n+        return Base::owns_lock();\n     }\n };\n \n+template<typename MutexArg>\n+using DebugLock = CCriticalBlock<typename std::remove_reference<typename std::remove_pointer<MutexArg>::type>::type>;\n+\n #define PASTE(x, y) x ## y\n #define PASTE2(x, y) PASTE(x, y)\n \n-#define LOCK(cs) CCriticalBlock PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n-#define LOCK2(cs1, cs2) CCriticalBlock criticalblock1(cs1, #cs1, __FILE__, __LINE__), criticalblock2(cs2, #cs2, __FILE__, __LINE__)\n-#define TRY_LOCK(cs, name) CCriticalBlock name(cs, #cs, __FILE__, __LINE__, true)\n+#define LOCK(cs) DebugLock<decltype(cs)> PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n+#define LOCK2(cs1, cs2)                                               \\\n+    DebugLock<decltype(cs1)> criticalblock1(cs1, #cs1, __FILE__, __LINE__); \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155568284",
      "id" : 155568284,
      "in_reply_to_id" : 155022256,
      "original_commit_id" : "0e218b400f6428cafd312696ac1ab913388eac29",
      "original_position" : 133,
      "path" : "src/sync.h",
      "position" : 181,
      "pull_request_review_id" : 81902145,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-07T19:07:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155568284",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased f190dd6e5ebf07a75559855d04659502f6e63123 -> 674dcfea1d0a5314e39fc9731cb863995ff34ea1 ([pr/dead.7](https://github.com/ryanofsky/bitcoin/commits/pr/dead.7) -> [pr/dead.8](https://github.com/ryanofsky/bitcoin/commits/pr/dead.8)) due to new changes conflicting with AssertLockNotHeld declaration from #10286",
      "created_at" : "2017-12-07T19:07:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#issuecomment-350063999",
      "id" : 350063999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11640",
      "updated_at" : "2017-12-07T19:07:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350063999",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155805322"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155805322"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fair enough, I just missed why you changed it, but see it now.",
      "commit_id" : "674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-08T15:38:32Z",
      "diff_hunk" : "@@ -168,22 +169,27 @@ class SCOPED_LOCKABLE CCriticalBlock\n \n     ~CCriticalBlock() UNLOCK_FUNCTION()\n     {\n-        if (lock.owns_lock())\n+        if (Base::owns_lock())\n             LeaveCritical();\n     }\n \n     operator bool()\n     {\n-        return lock.owns_lock();\n+        return Base::owns_lock();\n     }\n };\n \n+template<typename MutexArg>\n+using DebugLock = CCriticalBlock<typename std::remove_reference<typename std::remove_pointer<MutexArg>::type>::type>;\n+\n #define PASTE(x, y) x ## y\n #define PASTE2(x, y) PASTE(x, y)\n \n-#define LOCK(cs) CCriticalBlock PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n-#define LOCK2(cs1, cs2) CCriticalBlock criticalblock1(cs1, #cs1, __FILE__, __LINE__), criticalblock2(cs2, #cs2, __FILE__, __LINE__)\n-#define TRY_LOCK(cs, name) CCriticalBlock name(cs, #cs, __FILE__, __LINE__, true)\n+#define LOCK(cs) DebugLock<decltype(cs)> PASTE2(criticalblock, __COUNTER__)(cs, #cs, __FILE__, __LINE__)\n+#define LOCK2(cs1, cs2)                                               \\\n+    DebugLock<decltype(cs1)> criticalblock1(cs1, #cs1, __FILE__, __LINE__); \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#discussion_r155805322",
      "id" : 155805322,
      "in_reply_to_id" : 155022256,
      "original_commit_id" : "0e218b400f6428cafd312696ac1ab913388eac29",
      "original_position" : 133,
      "path" : "src/sync.h",
      "position" : 181,
      "pull_request_review_id" : 82189474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11640",
      "updated_at" : "2017-12-08T15:38:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/155805322",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 674dcfea1d0a5314e39fc9731cb863995ff34ea1",
      "created_at" : "2017-12-08T15:41:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#issuecomment-350294361",
      "id" : 350294361,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11640",
      "updated_at" : "2017-12-08T15:41:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350294361",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 674dcfea1d0a5314e39fc9731cb863995ff34ea1 -> b6c88a148db170367abec036b6c4f2e13104f9aa ([pr/dead.8](https://github.com/ryanofsky/bitcoin/commits/pr/dead.8) -> [pr/dead.9](https://github.com/ryanofsky/bitcoin/commits/pr/dead.9)) due to with trivial conflicts with #12366 and #12367.",
      "created_at" : "2018-02-08T13:04:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11640#issuecomment-364105602",
      "id" : 364105602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11640",
      "updated_at" : "2018-02-08T13:04:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364105602",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
