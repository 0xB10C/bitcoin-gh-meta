[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Additional information that may be relevant for reviewers:\r\n\r\n- I've documented my progress on including `sys/sdt.h` in https://github.com/bitcoin/bitcoin/issues/23297\r\n- Build support for the USDT was initially added in https://github.com/bitcoin/bitcoin/pull/19866. Some initial discussion on tracepoints in release builds took place in this thread https://github.com/bitcoin/bitcoin/pull/19866#discussion_r483774808. Some more discussion in a [bitcoin-core-dev meeting January 2021](https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2021/bitcoin-core-dev.2021-01-21-19.00.moin.txt).\r\n- There was a [PR review club](https://bitcoincore.reviews/22006) on #22006 \r\n- We have documentation listing tracepoints in a binary in [`doc/tracing.md`](https://github.com/bitcoin/bitcoin/blob/master/doc/tracing.md#listing-available-tracepoints).\r\n- The tracepoints are currently not automatically/CI tested (#23296). Merging this _now_ could leave us with broken tracepoints in a release build.\r\n\r\nI've tested the GUIX binaries on `aarch64-linux-gnu`, `arm-linux-gnueabihf`, `x86_64-linux-gnu` and on `x86_64-w64-mingw32`. I don't have hardware to test on `x86_64-apple-darwin19`, `powerpc64le-linux-gnu`, `powerpc64-linux-gnu`, or `powerpc64-linux-gnu` (though I might try running the binaries in qemu). Any help testing on these platforms would be appreciated. Of course, testing and review on the already tested platforms is welcome too!\r\n\r\n|        platform       \t| binary contains tracepoints \t|    synced signet   \t|   tracepoints tested  \t|\r\n|:---------------------:\t|:---------------------------:\t|:------------------:\t|:---------------------:\t|\r\n|   aarch64-linux-gnu   \t|      :heavy_check_mark:     \t| :heavy_check_mark: \t|   :heavy_check_mark:  \t|\r\n|  arm-linux-gnueabihf  \t|      :heavy_check_mark:     \t| :heavy_check_mark: \t| :grey_exclamation: ** \t|\r\n|  powerpc64-linux-gnu  \t|      :heavy_check_mark:     \t|                    \t|                       \t|\r\n| powerpc64le-linux-gnu \t|      :heavy_check_mark:     \t|                    \t|                       \t|\r\n|   riscv64-linux-gnu   \t|      :heavy_check_mark:     \t|                    \t|                       \t|\r\n|    x86_64-linux-gnu   \t|      :heavy_check_mark:     \t| :heavy_check_mark: \t|         on it         \t|\r\n| x86_64-apple-darwin19 \t|      :grey_question:***     \t|                    \t|                       \t|\r\n|   x86_64-w64-mingw32  \t|       :grey_question:       \t| :heavy_check_mark: \t|           -           \t|\r\n\r\n\r\n** bpftrace isn't available on Ubuntu 21.10 for `armhf`. BCC is available, but compiling the C code didn't work. Presumably it only worrks on 64-bit? Needs further testing.\r\n*** Maybe the `x86_64-apple-darwin19` binaries contain tracepoints that can be listed with e.g. dtrace on macOS?\r\n\r\n---\r\n\r\n@DrahtBot !request_GUIX_build ",
      "created_at" : "2021-12-09T15:17:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23724#issuecomment-989947889",
      "id" : 989947889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23724",
      "node_id" : "IC_kwDOABII5847AWfx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989947889/reactions"
      },
      "updated_at" : "2021-12-09T16:55:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989947889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> There has been light conceptual agreement on including the Userspace, Statically Defined Tracing tracepoints in Bitcoin Core release builds. This, for example, enables user to hook into production deployments, if they need to\r\n\r\nBig concept ACK",
      "created_at" : "2021-12-09T15:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23724#issuecomment-989950707",
      "id" : 989950707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23724",
      "node_id" : "IC_kwDOABII5847AXLz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989950707/reactions"
      },
      "updated_at" : "2021-12-09T15:20:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989950707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
