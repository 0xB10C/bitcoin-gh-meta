[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2021-12-08T16:35:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-988975457",
      "id" : 988975457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII58468pFh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988975457/reactions"
      },
      "updated_at" : "2021-12-08T16:35:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988975457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice! Concept ACK",
      "created_at" : "2021-12-09T01:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989360836",
      "id" : 989360836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846-HLE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989360836/reactions"
      },
      "updated_at" : "2021-12-09T01:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989360836",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765391757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure it's a good idea to call them \"rules\". Maybe \"conditions\"?",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T02:40:20Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765391757",
      "id" : 765391757,
      "line" : 3,
      "node_id" : "PRRC_kwDOABII584tnvON",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 3,
      "pull_request_review_id" : 827148955,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T02:40:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23121](https://github.com/bitcoin/bitcoin/pull/23121) ([policy] check ancestor feerate in RBF, remove BIP125 Rule2 by glozow)\n* [#22822](https://github.com/bitcoin/bitcoin/pull/22822) (doc: Add multisig tutorial by lsilva01)\n* [#22674](https://github.com/bitcoin/bitcoin/pull/22674) (validation: mempool validation and submission for packages of 1 child + parents by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-12-09T03:54:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989485603",
      "id" : 989485603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846-loj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989485603/reactions"
      },
      "updated_at" : "2021-12-10T00:21:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989485603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765643983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\nGiven any two transactions Tx0 and Tx1 where Tx1 spends an output of Tx0,\r\nTx0 is the *parent* of Tx1 and Tx1 is a *child* of Tx0.\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:16:16Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765643983",
      "id" : 765643983,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII584toszP",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 6,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 5,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765646268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: is the following clearer?\r\n```suggestion\r\n2. The candidate transaction has an ancestor count of 2 (it has only one ancestor).\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:19:11Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has no other ancestors).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765646268",
      "id" : 765646268,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584totW8",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 35,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765647552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\nAn exemption is given for a candidate transaction that would replace mempool transactions and meets each\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:20:42Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has no other ancestors).\n+\n+3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n+   exceed the limit by 1.\n+\n+*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n+limits in two-party contract protocols such as LN.  Also see the [mailing list\n+post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n+\n+This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n+\n+### Single-Conflict RBF\n+\n+When a candidate transaction for submission to the mempool would replace mempool entries, it may\n+also decrease the descendant count of other mempool entries. Since ancestor/descendant limits are\n+calculated prior to removing the would-be-replaced transactions, they may be overestimated.\n+\n+An exemption is given for a candidate transaction would replace mempool transactions and meets each",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765647552",
      "id" : 765647552,
      "line" : 52,
      "node_id" : "PRRC_kwDOABII584totrA",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 52,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 52,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765656443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This rule confused me a bit when I first encountered it, I think it can be worth clarifying that the attacker would replace multiple transactions at once that each have many descendants, what do you think?\r\n\r\n```suggestion\r\n   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\r\n   significant portions of the node's mempool by replacing multiple independent chains of\r\n   transactions at once.\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:31:38Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting\n+transactions and their in-mempool descendants (together, \"original transactions\") if, in addition to\n+passing all other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the original transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\n+   significant portions of the node's mempool using replacements.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765656443",
      "id" : 765656443,
      "line" : 47,
      "node_id" : "PRRC_kwDOABII584tov17",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : 46,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 47,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 46,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Strong concept ACK. Thank you for adding documentation!",
      "created_at" : "2021-12-09T10:57:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989741778",
      "id" : 989741778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846_kLS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989741778/reactions"
      },
      "updated_at" : "2021-12-09T10:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989741778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765687629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765687629"
         }
      },
      "author_association" : "MEMBER",
      "body" : ":100: ",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T11:11:06Z",
      "diff_hunk" : "@@ -32,7 +32,7 @@ BIPs that are implemented by Bitcoin Core (up-to-date up to **v22.0**):\n * [`BIP 111`](https://github.com/bitcoin/bips/blob/master/bip-0111.mediawiki): `NODE_BLOOM` service bit added, and enforced for all peer versions as of **v0.13.0** ([PR #6579](https://github.com/bitcoin/bitcoin/pull/6579) and [PR #6641](https://github.com/bitcoin/bitcoin/pull/6641)).\n * [`BIP 112`](https://github.com/bitcoin/bips/blob/master/bip-0112.mediawiki): The CHECKSEQUENCEVERIFY opcode has been implemented since **v0.12.1** ([PR #7524](https://github.com/bitcoin/bitcoin/pull/7524)), and has been *buried* since **v0.19.0** ([PR #16060](https://github.com/bitcoin/bitcoin/pull/16060)).\n * [`BIP 113`](https://github.com/bitcoin/bips/blob/master/bip-0113.mediawiki): Median time past lock-time calculations have been implemented since **v0.12.1** ([PR #6566](https://github.com/bitcoin/bitcoin/pull/6566)), and has been *buried* since **v0.19.0** ([PR #16060](https://github.com/bitcoin/bitcoin/pull/16060)).\n-* [`BIP 125`](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki): Opt-in full replace-by-fee signaling honoured in mempool and mining as of **v0.12.0** ([PR 6871](https://github.com/bitcoin/bitcoin/pull/6871)). Enabled by default in the wallet GUI as of **v0.18.1** ([PR #11605](https://github.com/bitcoin/bitcoin/pull/11605))\n+* [`BIP 125`](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki): Opt-in full replace-by-fee signaling partially implemented. See doc/policy/mempool-replacements.md.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765687629",
      "id" : 765687629,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584to3dN",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 35,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "doc/bips.md",
      "position" : 5,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765687629/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765687629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765688810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765688810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: i wouldn't say Mempool Validation policy and Transaction Relay policy are equivalent",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T11:12:53Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765688810",
      "id" : 765688810,
      "in_reply_to_id" : 765391757,
      "line" : 3,
      "node_id" : "PRRC_kwDOABII584to3vq",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 3,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765688810/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:17:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765688810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it because \"rules\" sounds too strict? I think \"conditions\" is too weak otoh, and I've used it to mean something else in the docs.\r\n\r\nI've added a clarification that these are _local_ rules, only for mempool transactions, *not* used for block transactions. Hopefully that makes it clear to the reader",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:30:47Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744022",
      "id" : 765744022,
      "in_reply_to_id" : 765391757,
      "line" : 3,
      "node_id" : "PRRC_kwDOABII584tpFOW",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 3,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744416"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added!",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:31:21Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting\n+transactions and their in-mempool descendants (together, \"original transactions\") if, in addition to\n+passing all other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the original transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\n+   significant portions of the node's mempool using replacements.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744416",
      "id" : 765744416,
      "in_reply_to_id" : 765656443,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpFUg",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : 46,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : null,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744593"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch, changed both s/the/a",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:31:37Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744593",
      "id" : 765744593,
      "in_reply_to_id" : 765643983,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpFXR",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : null,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765760403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is still a weird `:,` at the end of the first line, apart from that it looks good!",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:53:00Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765760403",
      "id" : 765760403,
      "in_reply_to_id" : 765643983,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpJOT",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : null,
      "pull_request_review_id" : 827640285,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765763991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765763991"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: it's in effect `10,000 vb` according to our local definition of vbytes",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:57:40Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765763991",
      "id" : 765763991,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII584tpKGX",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 33,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 33,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765763991/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765763991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765766768"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765766768"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: maybe name it something like \"RBF Carve Out\" or explicit it's to be able to RBF a transaction added using the above carveout?",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T13:01:29Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has exactly 1 ancestor).\n+\n+3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n+   exceed the limit by 1.\n+\n+*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n+limits in two-party contract protocols such as LN.  Also see the [mailing list\n+post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n+\n+This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n+\n+### Single-Conflict RBF",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765766768",
      "id" : 765766768,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII584tpKxw",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 46,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 46,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765766768/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T13:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765766768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765767748"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765767748"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Defining \"directly conflicting txs\", \"replacement tx\" and \"original txs\" is neat :+1: ",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T13:02:51Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting transactions and\n+their in-mempool descendants (together, \"original transactions\") if, in addition to passing all\n+other consensus and policy rules, each of the following conditions are met:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765767748",
      "id" : 765767748,
      "line" : 11,
      "node_id" : "PRRC_kwDOABII584tpLBE",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 11,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765767748/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 5,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T13:17:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765767748",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765770346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765770346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also to reduce the expected mining income if the mempool is less than 1vb.",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T13:06:26Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting transactions and\n+their in-mempool descendants (together, \"original transactions\") if, in addition to passing all\n+other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the directly conflicting transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765770346",
      "id" : 765770346,
      "line" : 31,
      "node_id" : "PRRC_kwDOABII584tpLpq",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 31,
      "original_position" : 31,
      "original_start_line" : 29,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 31,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765770346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 29,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T13:17:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765770346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765775067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765775067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: maybe mention that it may be overstimated?",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T13:12:46Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting transactions and\n+their in-mempool descendants (together, \"original transactions\") if, in addition to passing all\n+other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the directly conflicting transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Try to attempt DoS attacks where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765775067",
      "id" : 765775067,
      "line" : 44,
      "node_id" : "PRRC_kwDOABII584tpMzb",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 44,
      "original_position" : 44,
      "original_start_line" : 42,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 44,
      "pull_request_review_id" : 827538698,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765775067/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 42,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T13:17:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765775067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would also say \"and chain tip\" as your chain tip is changing the outcome of some RBF rules, such as rule 2 on unconfirmed inputs.",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-12T23:08:30Z",
      "diff_hunk" : "@@ -0,0 +1,12 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition\n+to consensus, enforced for unconfirmed transactions before submitting them to the mempool.  These\n+local rules include restrictions on the transaction itself and the transaction in relation to the\n+node's mempool contents. They are *not* applied to transactions in blocks.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342106",
      "id" : 767342106,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII584tvLYa",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 6,
      "pull_request_review_id" : 829682240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342106/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-12T23:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342636"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe it should precise that a subset of those rules are fine-tunable by the node operator (`-mintxfee`, `-limitdescendantsize`, `-limitancestorsize`, ...) ?\r\n\r\nI think it's interesting to notice that, to underscore that those rules might not even be uniform across the Bitcoin Core node of the same version.",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-12T23:11:58Z",
      "diff_hunk" : "@@ -0,0 +1,12 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition\n+to consensus, enforced for unconfirmed transactions before submitting them to the mempool.  These\n+local rules include restrictions on the transaction itself and the transaction in relation to the\n+node's mempool contents. They are *not* applied to transactions in blocks.\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342636",
      "id" : 767342636,
      "line" : 7,
      "node_id" : "PRRC_kwDOABII584tvLgs",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 7,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 7,
      "pull_request_review_id" : 829682240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-12T23:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342745"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342745"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/count/size/g ?",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-12T23:13:15Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767342745",
      "id" : 767342745,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII584tvLiZ",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 18,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 18,
      "pull_request_review_id" : 829682240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342745/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-12T23:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767342745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767344652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767344652"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In fact this is checked by the rule 2 requirement in `ReplacementChecks` not in the exemption single-conflict RBF in `PreChecks`, maybe confusing to mention it here ?",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-12T23:29:05Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is a *parent* of Tx1 and Tx1 is a *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has exactly 1 ancestor).\n+\n+3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n+   exceed the limit by 1.\n+\n+*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n+limits in two-party contract protocols such as LN.  Also see the [mailing list\n+post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n+\n+This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n+\n+### Single-Conflict RBF\n+\n+When a candidate transaction for submission to the mempool would replace mempool entries, it may\n+also decrease the descendant count of other mempool entries. Since ancestor/descendant limits are\n+calculated prior to removing the would-be-replaced transactions, they may be overestimated.\n+\n+An exemption is given for a candidate transaction that would replace mempool transactions and meets\n+each of the following conditions:\n+\n+1. The candidate transaction has exactly 1 directly conflicting transaction.\n+\n+2. The candidate transaction does not spend any unconfirmed inputs that are not also spent by the",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767344652",
      "id" : 767344652,
      "line" : 57,
      "node_id" : "PRRC_kwDOABII584tvMAM",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 57,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 57,
      "pull_request_review_id" : 829682240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767344652/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-12T23:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767344652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767345870"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767345870"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure I understand what you mean here by \"similar but distinct\" ? Maybe say we're partial implementation of BIP125 as we have at least one known divergence (though maybe fixed by #22698)",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-12T23:39:02Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting transactions and\n+their in-mempool descendants (together, \"original transactions\") if, in addition to passing all\n+other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the directly conflicting transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Try to attempt DoS attacks where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.\n+\n+   *Rationale*: Try to prevent DoS attacks where an attacker is able to easily occupy and flush out\n+   significant portions of the node's mempool using replacements with multiple directly conflicting\n+   transactions, each with large descendant sets.\n+\n+This set of rules is similar but distinct from BIP125.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r767345870",
      "id" : 767345870,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII584tvMTO",
      "original_commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "original_line" : 50,
      "original_position" : 50,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 50,
      "pull_request_review_id" : 829682240,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767345870/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-12T23:54:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/767345870",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Given mempool policy is directly consumed by downstream projects for a number of safety-critical operations\r\n\r\nIt shouldn't be. It makes no guarantees, and nodes *should* vary their mempool policy. Relying on it for anything safety-critical is a security vulnerability. Just don't do it.",
      "created_at" : "2021-12-12T23:56:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-991996580",
      "id" : 991996580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5847IKqk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991996580/reactions"
      },
      "updated_at" : "2021-12-12T23:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991996580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "concept ACK!\r\n\r\nwill review more closely. It may make sense to try to write these up with 2 levels and one level refining the other. The higher level might be nice as to describing what we want the policy to accomplish and then the concrete policy can be described separately.\r\n\r\nnot to make more work for you, but this would be helpful in the future when we're discussing what the policy should be so we can separate from the higher-order-goals and the things that happen to be true as an artifact of our specific engineering choices.\r\n\r\nedit: a lot of this already in the rationale, but if you collected the main points from the rationales, you could then link the rationales to the higher order doc",
      "created_at" : "2021-12-13T00:07:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-991999102",
      "id" : 991999102,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5847ILR-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991999102/reactions"
      },
      "updated_at" : "2021-12-13T00:09:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/991999102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/886523?v=4",
         "events_url" : "https://api.github.com/users/JeremyRubin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JeremyRubin/followers",
         "following_url" : "https://api.github.com/users/JeremyRubin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JeremyRubin",
         "id" : 886523,
         "login" : "JeremyRubin",
         "node_id" : "MDQ6VXNlcjg4NjUyMw==",
         "organizations_url" : "https://api.github.com/users/JeremyRubin/orgs",
         "received_events_url" : "https://api.github.com/users/JeremyRubin/received_events",
         "repos_url" : "https://api.github.com/users/JeremyRubin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JeremyRubin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JeremyRubin"
      }
   }
]
