[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2021-12-08T16:35:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-988975457",
      "id" : 988975457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII58468pFh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988975457/reactions"
      },
      "updated_at" : "2021-12-08T16:35:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988975457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nice! Concept ACK",
      "created_at" : "2021-12-09T01:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989360836",
      "id" : 989360836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846-HLE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989360836/reactions"
      },
      "updated_at" : "2021-12-09T01:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989360836",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765391757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure it's a good idea to call them \"rules\". Maybe \"conditions\"?",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T02:40:20Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765391757",
      "id" : 765391757,
      "line" : 3,
      "node_id" : "PRRC_kwDOABII584tnvON",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 3,
      "pull_request_review_id" : 827148955,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T02:40:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765391757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23121](https://github.com/bitcoin/bitcoin/pull/23121) ([policy] check ancestor feerate in RBF, remove BIP125 Rule2 by glozow)\n* [#22674](https://github.com/bitcoin/bitcoin/pull/22674) (validation: mempool validation and submission for packages of 1 child + parents by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-12-09T03:54:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989485603",
      "id" : 989485603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846-loj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989485603/reactions"
      },
      "updated_at" : "2021-12-09T03:54:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989485603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765643983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\nGiven any two transactions Tx0 and Tx1 where Tx1 spends an output of Tx0,\r\nTx0 is the *parent* of Tx1 and Tx1 is a *child* of Tx0.\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:16:16Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765643983",
      "id" : 765643983,
      "line" : 6,
      "node_id" : "PRRC_kwDOABII584toszP",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 6,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 5,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765643983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765646268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: is the following clearer?\r\n```suggestion\r\n2. The candidate transaction has an ancestor count of 2 (it has only one ancestor).\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:19:11Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has no other ancestors).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765646268",
      "id" : 765646268,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584totW8",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 35,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765646268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765647552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\nAn exemption is given for a candidate transaction that would replace mempool transactions and meets each\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:20:42Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.\n+\n+A transaction's *ancestors* include, recursively, its parents, the parents of its parents, etc.\n+A transaction's *descendants* include, recursively, its children, the children of its children, etc.\n+\n+A mempool entry's *ancestor count* is the total number of in-mempool (unconfirmed) transactions in\n+its ancestor set, including itself.\n+A mempool entry's *descendant count* is the total number of in-mempool (unconfirmed) transactions in\n+its descendant set, including itself.\n+\n+A mempool entry's *ancestor size* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its ancestor set, including itself.\n+A mempool entry's *descendant count* is the aggregated virtual size of in-mempool (unconfirmed)\n+transactions in its descendant set, including itself.\n+\n+Transactions submitted to the mempool must not exceed the ancestor and descendant limits (aka\n+mempool *package limits*) set by the node (see `-limitancestorcount`, `-limitancestorsize`,\n+`-limitdescendantcount`, `-limitdescendantsize`).\n+\n+## Exemptions\n+\n+### CPFP Carve Out\n+\n+**CPFP Carve Out** if a transaction candidate for submission to the\n+mempool would cause some mempool entry to exceed its descendant limits, an exemption is made if each\n+of the following conditions are met:\n+\n+1. The candidate transaction is no more than 40,000 WU.\n+\n+2. The candidate transaction has an ancestor count of 2 (it has no other ancestors).\n+\n+3. The in-mempool transaction's descendant count, including the candidate transaction, would only\n+   exceed the limit by 1.\n+\n+*Rationale*: this rule was introduced to prevent pinning by domination of a transaction's descendant\n+limits in two-party contract protocols such as LN.  Also see the [mailing list\n+post](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html).\n+\n+This rule was introduced in [PR #15681](https://github.com/bitcoin/bitcoin/pull/15681).\n+\n+### Single-Conflict RBF\n+\n+When a candidate transaction for submission to the mempool would replace mempool entries, it may\n+also decrease the descendant count of other mempool entries. Since ancestor/descendant limits are\n+calculated prior to removing the would-be-replaced transactions, they may be overestimated.\n+\n+An exemption is given for a candidate transaction would replace mempool transactions and meets each",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765647552",
      "id" : 765647552,
      "line" : 52,
      "node_id" : "PRRC_kwDOABII584totrA",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 52,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "doc/policy/mempool-limits.md",
      "position" : 52,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765647552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765656443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This rule confused me a bit when I first encountered it, I think it can be worth clarifying that the attacker would replace multiple transactions at once that each have many descendants, what do you think?\r\n\r\n```suggestion\r\n   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\r\n   significant portions of the node's mempool by replacing multiple independent chains of\r\n   transactions at once.\r\n```",
      "commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "created_at" : "2021-12-09T10:31:38Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting\n+transactions and their in-mempool descendants (together, \"original transactions\") if, in addition to\n+passing all other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the original transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\n+   significant portions of the node's mempool using replacements.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765656443",
      "id" : 765656443,
      "line" : 47,
      "node_id" : "PRRC_kwDOABII584tov17",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : 46,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : 47,
      "pull_request_review_id" : 827479250,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 46,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T10:32:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765656443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Strong concept ACK. Thank you for adding documentation!",
      "created_at" : "2021-12-09T10:57:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#issuecomment-989741778",
      "id" : 989741778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/23711",
      "node_id" : "IC_kwDOABII5846_kLS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989741778/reactions"
      },
      "updated_at" : "2021-12-09T10:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989741778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is it because \"rules\" sounds too strict? I think \"conditions\" is too weak otoh, and I've used it to mean something else in the docs.\r\n\r\nI've added a clarification that these are _local_ rules, only for mempool transactions, *not* used for block transactions. Hopefully that makes it clear to the reader",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:30:47Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+# Mempool Policy\n+\n+**Mempool Policy** (aka Transaction Relay Policy) is the node's set of validation rules, in addition",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744022",
      "id" : 765744022,
      "in_reply_to_id" : 765391757,
      "line" : 3,
      "node_id" : "PRRC_kwDOABII584tpFOW",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 3,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "doc/policy/README.md",
      "position" : 3,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744416"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added!",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:31:21Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+# Mempool Replacements\n+\n+## Current Replace-by-Fee Policy\n+\n+A transaction conflicts with an in-mempool transaction (\"directly conflicting transaction\") if they\n+spend one or more of the same inputs. A transaction may conflict with multiple in-mempool\n+transactions.\n+\n+A transaction (\"replacement transaction\") may replace its directly conflicting\n+transactions and their in-mempool descendants (together, \"original transactions\") if, in addition to\n+passing all other consensus and policy rules, each of the following conditions are met:\n+\n+1. The directly conflicting transactions must all signal replaceability explicitly. A transaction is\n+   signaling replaceability if any of its inputs have an nSequence number less than (0xffffffff - 1).\n+\n+   *Rationale*: See [BIP125\n+   explanation](https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki#motivation).\n+\n+2. The replacement transaction may only include an unconfirmed input if that input was included in\n+   one of the original transactions. An unconfirmed input spends an output from a\n+   currently-unconfirmed transaction.\n+\n+   *Rationale*: When RBF was originally implemented, the mempool did not keep track of\n+   ancestor scores yet. This rule was suggested as a temporary restriction.\n+\n+3. The replacement transaction must pay an absolute fee of at least the sum paid by the original\n+   transactions.\n+\n+   *Rationale*: Only requiring the replacement transaction to have a higher feerate could allow an\n+   attacker to bypass node minimum relay feerate requirements and cause the network to repeatedly\n+   relay slightly smaller replacement transactions without adding any more fees.\n+\n+4. The additional fees (difference between absolute fee paid by the replacement transaction and the\n+   sum paid by the original transactions) must pay for the replacement transaction's bandwidth at or\n+   above the rate set by the node's incremental relay feerate. For example, if the incremental relay\n+   feerate is 1 satoshi/vB and the replacement transaction is 500 virtual bytes total, then the\n+   replacement must pay a fee at least 500 satoshis higher than the sum of the original transactions.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker causes the network to repeatedly relay\n+   transactions each paying a tiny additional amount in fees, e.g. just 1 satoshi.\n+\n+5. The number of original transactions must not exceed 100. More precisely, the sum of all\n+   directly conflicting transactions' descendant counts (number of transactions inclusive of itself\n+   and its descendants) must not exceed 100.\n+\n+   *Rationale*: Prevent a DoS attack where an attacker is able to easily occupy and flush out\n+   significant portions of the node's mempool using replacements.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744416",
      "id" : 765744416,
      "in_reply_to_id" : 765656443,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpFUg",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 47,
      "original_position" : 47,
      "original_start_line" : 46,
      "path" : "doc/policy/mempool-replacements.md",
      "position" : null,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744593"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch, changed both s/the/a",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:31:37Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765744593",
      "id" : 765744593,
      "in_reply_to_id" : 765643983,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpFXR",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : null,
      "pull_request_review_id" : 827617335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:31:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765744593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765760403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is still a weird `:,` at the end of the first line, apart from that it looks good!",
      "commit_id" : "abd4c7c8acccbc32a66ff3fe5cb22135c348a4bc",
      "created_at" : "2021-12-09T12:53:00Z",
      "diff_hunk" : "@@ -0,0 +1,65 @@\n+# Mempool Limits\n+\n+## Definitions\n+\n+Given any two transactions Tx0 and Tx1 where Tx1 spends the output of Tx0:,\n+Tx0 is the *parent* of Tx1 and Tx1 is the *child* of Tx0.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/23711#discussion_r765760403",
      "id" : 765760403,
      "in_reply_to_id" : 765643983,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584tpJOT",
      "original_commit_id" : "b27af5c5221b62defcc4ac4d8c93620e79196715",
      "original_line" : 6,
      "original_position" : 6,
      "original_start_line" : 5,
      "path" : "doc/policy/mempool-limits.md",
      "position" : null,
      "pull_request_review_id" : 827640285,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/23711",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-12-09T12:53:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/765760403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   }
]
