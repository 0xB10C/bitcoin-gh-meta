[
   {
      "body" : "Hmm, we should also handle the case where they have orphans in their locator similarly (ie parse their locator further back to find the first locator entry that is on our main chain).",
      "created_at" : "2017-08-22T21:44:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#issuecomment-324160641",
      "id" : 324160641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11113",
      "updated_at" : "2017-08-22T21:47:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324160641",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt This is the case where the locator is empty and only the stopHash is set. It's a special case request for a particular header by hash.",
      "created_at" : "2017-08-22T22:03:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#issuecomment-324164657",
      "id" : 324164657,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11113",
      "updated_at" : "2017-08-22T22:03:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324164657",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "body" : "@jimpo yes, sorry, I had since edited my comment to note that we should do something similar for locator-present requests.",
      "created_at" : "2017-08-22T22:13:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#issuecomment-324166578",
      "id" : 324166578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11113",
      "updated_at" : "2017-08-22T22:13:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324166578",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11113#discussion_r134616874"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11113"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134616874"
         }
      },
      "body" : "Generally referred to as \"Orphans\" not \"SideBlocks\".",
      "commit_id" : "6ea61ed5587c43cfa2245224b51092b4bc04827a",
      "created_at" : "2017-08-22T22:24:03Z",
      "diff_hunk" : "@@ -725,6 +725,17 @@ void Misbehaving(NodeId pnode, int howmuch)\n // blockchain -> download logic notification\n //\n \n+// To prevent fingerprinting attacks, only send blocks/headers outside of the\n+// active chain if they are no more than a month older (both in time, and in\n+// best equivalent proof of work) than the best header chain we know about.\n+static bool SideBlockRequestAllowed(const CBlockIndex* pindex, const Consensus::Params& consensusParams)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#discussion_r134616874",
      "id" : 134616874,
      "original_commit_id" : "4f559f1d884e6999cf2c7b31741664238695752f",
      "original_position" : 7,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 57929673,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11113",
      "updated_at" : "2017-08-22T22:36:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/134616874",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Concept ACK, good catch.  Would be great to have a p2p test case for this too.",
      "created_at" : "2017-08-24T20:49:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#issuecomment-324753419",
      "id" : 324753419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11113",
      "updated_at" : "2017-08-24T20:49:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/324753419",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@sdaftuar Added a test with 58bc23d.",
      "created_at" : "2017-08-26T00:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11113#issuecomment-325063036",
      "id" : 325063036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11113",
      "updated_at" : "2017-08-26T00:26:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/325063036",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   }
]
