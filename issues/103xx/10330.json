{
   "assignee" : null,
   "assignees" : [],
   "body" : "zapwallettxes previously did not interact well with persistent mempool.\r\nzapwallettxes would cause wallet transactions to be zapped, but they\r\nwould then be reloaded from the mempool on startup. This commit softsets\r\npersistmempool to false if zapwallettxes is enabled so transactions are\r\nactually zapped.\r\n\r\nThis PR also fixes the zapwallettxes.py functional test, which did not properly test this feature. The test line:\r\n\r\n```py\r\n     assert_raises(JSONRPCException, self.nodes[0].gettransaction, [txid3])\r\n     #there must be a expection because the unconfirmed wallettx0 must be gone by now\r\n```\r\nis not actually testing the presence of the transaction since the RPC is being called incorrectly (with an array instead of a string). The `assert_raises()` passes since an assert is raised, but it's not the one the test writer had in mind!\r\n\r\nFixes #9710 .",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10330/comments",
   "created_at" : "2017-05-03T17:45:14Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10330/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/10330",
   "id" : 226063084,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10330/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 10330,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/10330.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10330",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/10330.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10330"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "fix zapwallettxes interaction with persistent mempool",
   "updated_at" : "2017-05-03T17:45:14Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10330",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
