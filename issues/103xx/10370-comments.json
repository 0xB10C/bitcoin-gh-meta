[
   {
      "body" : "The tests seem to be failing on some rebased code. \r\n\r\nBut as I said, I added this PR as a general discussion request. If there is an interest, I will clean this up.",
      "created_at" : "2017-05-09T12:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300147587",
      "id" : 300147587,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T12:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300147587",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "Having an independent address-index available somewhere may be handy and in general a great thing. Though, I'm not sure if we want to add this to the Bitcoin-Core repository. It already contains (too) much. Wallet, utilities, txindex, UI, p2p, consensus.\r\n\r\nI would prefer to keep the address-index (and all other sorts of indexes) in other repositories.\r\nSince Core offers ZMQ, creating an address-index via a python script/application (with it's independent leveldb dababase/layer) should not be very complex.\r\nThe python application could then handle the additional RPC commands.\r\n\r\nIf there are missing ZMQ features (I guess there is still an open PR for mempool ZMQ notifications), we should rather add those instead of the indexes.\r\n\r\nBut I'm open for other opinions.",
      "created_at" : "2017-05-09T13:35:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300165607",
      "id" : 300165607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T13:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300165607",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I am not sure about the exact reasoning (cc @braydonf again), but older versions of Bitcore (< 3) had something similar - unpatched bitcoin core with additional indexes in node.js (see https://github.com/bitpay/bitcore-node/tree/v2.1.1/lib/services ) - but in Bitcore 3, they instead moved to including the address index in the bitcoin core itself. \r\n\r\nPerhaps it is easier to maintain one database over 2 separate databases? (I am guessing here)",
      "created_at" : "2017-05-09T13:58:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300172971",
      "id" : 300172971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T13:58:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300172971",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "@runn1ng have you looked at https://github.com/bitcoinjs/indexd?\r\nIt has all the indexes listed above, and it works seamlessly with an unpatched bitcoin-core RPC.",
      "created_at" : "2017-05-09T14:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300174955",
      "id" : 300174955,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T14:05:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300174955",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@dcousens thanks for noticing me! I will definitely look at that.",
      "created_at" : "2017-05-09T14:10:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300176542",
      "id" : 300176542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T14:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300176542",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "There was a significant performance gain by building the indexes at the same time as the txindex, since each block only needed to be read and deserialized once.",
      "created_at" : "2017-05-09T14:13:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300177682",
      "id" : 300177682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T14:13:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300177682",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/544777?v=3",
         "events_url" : "https://api.github.com/users/braydonf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/braydonf/followers",
         "following_url" : "https://api.github.com/users/braydonf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/braydonf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/braydonf",
         "id" : 544777,
         "login" : "braydonf",
         "organizations_url" : "https://api.github.com/users/braydonf/orgs",
         "received_events_url" : "https://api.github.com/users/braydonf/received_events",
         "repos_url" : "https://api.github.com/users/braydonf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/braydonf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/braydonf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/braydonf"
      }
   },
   {
      "body" : "See-also #9806 (and #8660 and #5048). I think the jury might still be out on whether we want more indexes supported in Bitcoin Core.",
      "created_at" : "2017-05-09T14:19:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300179649",
      "id" : 300179649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T14:19:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300179649",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@braydonf at ~400ms per 1MB block... that really shouldn't be an issue - and the above is _Javascript_.\r\nIf you're concern is related to the initial import,  tools like https://github.com/dcousens/fast-dat-parser can dump the leveldb as fast as it can push IO.\r\n\r\nIMHO I don't think `bitcoind` should support any further indexes...",
      "created_at" : "2017-05-09T14:20:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10370#issuecomment-300179992",
      "id" : 300179992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10370",
      "updated_at" : "2017-05-09T14:25:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300179992",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   }
]
