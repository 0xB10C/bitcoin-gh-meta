[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16889](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16889.html) (Add some general std::vector utility functions by sipa)\n* [#16839](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16839.html) (Replace Connman and BanMan globals with Node local by ryanofsky)\n* [#16545](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16545.html) (Implement missing error checking for ArgsManager flags by ryanofsky)\n* [#15934](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15934.html) (Merge settings one place instead of five places by ryanofsky)\n* [#14866](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14866.html) (Improve property evaluation way in bitcoin.conf by AkioNak)\n* [#13339](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13339.html) (wallet: Replace %w by wallet name in -walletnotify script by promag)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-02-20T23:33:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-465798613",
      "id" : 465798613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTc5ODYxMw==",
      "updated_at" : "2019-10-17T04:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465798613",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r258728897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258728897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unless I'm missing something, this is breaking change. Why not change the behavior from \"load or create each -wallet\" to \"just load each -wallet\"? Then to create a wallet there is the option in the GUI and `createwallet` in RPC.",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-02-20T23:58:16Z",
      "diff_hunk" : "@@ -184,8 +184,16 @@ void WalletInit::Construct(InitInterfaces& interfaces) const\n         LogPrintf(\"Wallet disabled!\\n\");\n         return;\n     }\n-    gArgs.SoftSetArg(\"-wallet\", \"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r258728897",
      "id" : 258728897,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI1ODcyODg5Nw==",
      "original_commit_id" : "5a9ccf29101665deb1fa1d1b97ec5ca3b7e46d65",
      "original_position" : 4,
      "path" : "src/wallet/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 206063564,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/258728897",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-02-21T08:39:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-465910520",
      "id" : 465910520,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTkxMDUyMA==",
      "updated_at" : "2019-02-21T08:39:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465910520",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Partial Concept ACK on:\r\n* not creating a default wallet with `bitcoind`\r\n* storing opened wallets in `bitcoin_rw.conf` (QT only)\r\n\r\nConcept On The Fence about making this a breaking change for `bitcoind`. I.e. maybe we should still load an existing `<datadir>/wallet.dat` and `<datadir>/wallet.dat`, but not create one.\r\n\r\nConcept NACK on:\r\n* having QT start with a blank wallet, where the user is instructed to go the file menu and choose Create or Open Wallet\r\n* not loading the default wallet in QT after upgrading: that's a guarantee for user heart attacks\r\n\r\nI think the best solution is here is to pull the create wallet UI into the startup wizard, as an additional section. The user can then just click next and it creates the default wallet.\r\n\r\nSince it takes at least a few seconds, this gives the RNG a bit more bit time too (I assume the IBD network traffic should generate some extra entropy). (Although that requires starting IBD while the wizard is open.)\r\n\r\nAn easier but still acceptable solution is a big Create Wallet button in the Overview tab (when no wallet is loaded), as well as point out that they can load an existing wallet (less likely for first time users).\r\n\r\nSome issues:\r\n* opening and closing wallets in QT updates `bitcoin_rw.conf`, which is good but:\r\n   * why use a new field `loadedwallet`? adding and removing `wallet=` entries seems cleaner.  It won't work for wallets already in bitcoin.conf, but that's fine (we can warn the user in that case).\r\n   * I suggest doing this as soon as the open / close succeeds, rather than at exit",
      "created_at" : "2019-02-21T09:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-465923557",
      "id" : 465923557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NTkyMzU1Nw==",
      "updated_at" : "2019-02-21T09:22:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465923557",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> An easier but still acceptable solution is a big Create Wallet button in the Overview tab (when no wallet is loaded), as well as point out that they can load an existing wallet (less likely for first time users).\r\n\r\nI've done this.\r\n\r\n> not loading the default wallet in QT after upgrading: that's a guarantee for user heart attacks\r\n\r\nI've changed that back to the original behavior except that it only loads the default wallet if it is available. It will not create it.\r\n\r\n>  * why use a new field `loadedwallet`? adding and removing `wallet=` entries seems cleaner.  It won't work for wallets already in bitcoin.conf, but that's fine (we can warn the user in that case).\r\n\r\n#11082 doesn't let me set the multiple of the same argument.",
      "created_at" : "2019-02-21T18:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-466117889",
      "id" : 466117889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjExNzg4OQ==",
      "updated_at" : "2019-02-21T18:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466117889",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Much better, thanks. Both bitcoind and QT now load the default wallet if it exists, and the QT create button is more clear.\r\n\r\nCan you add screenshots of the UX to the PR description?\r\n\r\nThe initial download overlay actually hides the wallet functionality, which has the nice side-effect of collecting some entropy. Although I'd rather work on making the initial experience such that users can get started more quickly, that's a whole different story. \r\n\r\n<img width=\"766\" alt=\"schermafbeelding 2019-02-22 om 09 38 29\" src=\"https://user-images.githubusercontent.com/10217/53229854-a2b79000-3685-11e9-8bc6-281dc639f270.png\">\r\n\r\nWhen the user hides the sync they see this:\r\n<img width=\"766\" alt=\"schermafbeelding 2019-02-22 om 09 38 55\" src=\"https://user-images.githubusercontent.com/10217/53229898-bb27aa80-3685-11e9-9cac-ebd496244101.png\">\r\n\r\nA bit ugly, but I think the button makes it super clear what to do. Nit: reverse the order, i.e. suggest creating a wallet and then point out that the user can also load an existing wallet.\r\n\r\nRegarding the wallet creation dialog, that can be discussed in #15450, but it's important that we don't overwhelm a first time user with advanced options. One thing though: what to do with the default name, at the risk of bike shedding...\r\n<img width=\"479\" alt=\"schermafbeelding 2019-02-22 om 09 40 37\" src=\"https://user-images.githubusercontent.com/10217/53229990-ed390c80-3685-11e9-95ab-ee1d6c9496da.png\">\r\n\r\nI suggest we hide the wallet name field for the first wallet, or make it really clear that it's totally optional and that you can't (easily) change it (yet).\r\n\r\n\r\nAs for rw_config, which has been in limbo for quite a long time, let's start with reviewing #14866 by @AkioNak which makes the evaluation of `bitcoin.conf` (includes) a bit more sane. We should expand the functional test suite to more thoroughly cover the expected behavior. That in turn should make it easier to merge rw_config.\r\n\r\nFound a small bug:\r\n```\r\nsrc/bitcoin-cli -testnet listwallets\r\n[\r\n]\r\n\r\nsrc/bitcoin-cli -testnet createwallet \"\"\r\nerror code: -4\r\nerror message:\r\nWallet  already exists\r\n```",
      "created_at" : "2019-02-22T09:04:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-466325581",
      "id" : 466325581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjMyNTU4MQ==",
      "updated_at" : "2019-02-22T09:04:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466325581",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2019-02-22T13:38:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-466398813",
      "id" : 466398813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ2NjM5ODgxMw==",
      "updated_at" : "2019-02-22T13:38:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/466398813",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r260065755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/260065755"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Redundant initialisation :-)",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-02-25T23:32:57Z",
      "diff_hunk" : "@@ -228,10 +240,19 @@ void StopWallets()\n void UnloadWallets()\n {\n     auto wallets = GetWallets();\n+    std::string loaded_wallets = \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r260065755",
      "id" : 260065755,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2MDA2NTc1NQ==",
      "original_commit_id" : "0c61dd9e71c133b13ee211bf4f07d042ba1f6a39",
      "original_position" : 27,
      "path" : "src/wallet/init.cpp",
      "position" : null,
      "pull_request_review_id" : 207691373,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/260065755",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-18T15:49:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#issuecomment-543805930",
      "id" : 543805930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15454",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MzgwNTkzMA==",
      "updated_at" : "2019-10-18T15:49:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/543805930",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337222306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337222306"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What if the wallet name has a comma? Would prefer to see rwconf extended to multiple `wallet=` fields...",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-10-21T20:26:26Z",
      "diff_hunk" : "@@ -109,10 +109,21 @@ void StopWallets()\n void UnloadWallets()\n {\n     auto wallets = GetWallets();\n+    std::string loaded_wallets;\n     while (!wallets.empty()) {\n         auto wallet = wallets.back();\n+\n+        // Write the wallet name to rw conf\n+        if (!loaded_wallets.empty()) {\n+            loaded_wallets += \",\";\n+        }\n+        loaded_wallets += wallet->GetName();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337222306",
      "id" : 337222306,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzIyMjMwNg==",
      "original_commit_id" : "4f404be069dd082c65e31ffefea569926fca3a25",
      "original_position" : 12,
      "path" : "src/wallet/load.cpp",
      "position" : 12,
      "pull_request_review_id" : 304828442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337222306",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337222376"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337222376"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should just use `wallet=`?",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-10-21T20:26:35Z",
      "diff_hunk" : "@@ -109,10 +109,21 @@ void StopWallets()\n void UnloadWallets()\n {\n     auto wallets = GetWallets();\n+    std::string loaded_wallets;\n     while (!wallets.empty()) {\n         auto wallet = wallets.back();\n+\n+        // Write the wallet name to rw conf\n+        if (!loaded_wallets.empty()) {\n+            loaded_wallets += \",\";\n+        }\n+        loaded_wallets += wallet->GetName();\n+\n         wallets.pop_back();\n         RemoveWallet(wallet);\n         UnloadWallet(std::move(wallet));\n     }\n+    if (gArgs.HaveRWConfigFile()) {\n+        gArgs.ModifyRWConfigFile(\"loadedwallet\", loaded_wallets);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337222376",
      "id" : 337222376,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzIyMjM3Ng==",
      "original_commit_id" : "4f404be069dd082c65e31ffefea569926fca3a25",
      "original_position" : 19,
      "path" : "src/wallet/load.cpp",
      "position" : 19,
      "pull_request_review_id" : 304828442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337222376",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337241398"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337241398"
         }
      },
      "author_association" : "MEMBER",
      "body" : "So would I. I would prefer that #11082 implements it that way instead of requiring me to change it as I am not familiar with that code.",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-10-21T21:10:34Z",
      "diff_hunk" : "@@ -109,10 +109,21 @@ void StopWallets()\n void UnloadWallets()\n {\n     auto wallets = GetWallets();\n+    std::string loaded_wallets;\n     while (!wallets.empty()) {\n         auto wallet = wallets.back();\n+\n+        // Write the wallet name to rw conf\n+        if (!loaded_wallets.empty()) {\n+            loaded_wallets += \",\";\n+        }\n+        loaded_wallets += wallet->GetName();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337241398",
      "id" : 337241398,
      "in_reply_to_id" : 337222306,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzI0MTM5OA==",
      "original_commit_id" : "4f404be069dd082c65e31ffefea569926fca3a25",
      "original_position" : 12,
      "path" : "src/wallet/load.cpp",
      "position" : 12,
      "pull_request_review_id" : 304853173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337241398",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337241833"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337241833"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That will cause some problems as is since it would be one string that represents multiple wallets. If/when rwconf allows repeated fields, then it can be `wallet=`.",
      "commit_id" : "74ca27674d52e3c95d01a7afd64b161de3421350",
      "created_at" : "2019-10-21T21:11:38Z",
      "diff_hunk" : "@@ -109,10 +109,21 @@ void StopWallets()\n void UnloadWallets()\n {\n     auto wallets = GetWallets();\n+    std::string loaded_wallets;\n     while (!wallets.empty()) {\n         auto wallet = wallets.back();\n+\n+        // Write the wallet name to rw conf\n+        if (!loaded_wallets.empty()) {\n+            loaded_wallets += \",\";\n+        }\n+        loaded_wallets += wallet->GetName();\n+\n         wallets.pop_back();\n         RemoveWallet(wallet);\n         UnloadWallet(std::move(wallet));\n     }\n+    if (gArgs.HaveRWConfigFile()) {\n+        gArgs.ModifyRWConfigFile(\"loadedwallet\", loaded_wallets);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15454#discussion_r337241833",
      "id" : 337241833,
      "in_reply_to_id" : 337222376,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzI0MTgzMw==",
      "original_commit_id" : "4f404be069dd082c65e31ffefea569926fca3a25",
      "original_position" : 19,
      "path" : "src/wallet/load.cpp",
      "position" : 19,
      "pull_request_review_id" : 304853786,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15454",
      "updated_at" : "2019-10-21T21:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337241833",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
