[
   {
      "body" : "ACK. Reduces FD usage in my torture test from 500 to 112.\r\n\r\nHowever,  112 + 125 is awful close to 256, so I'm still concerned about OSX.",
      "created_at" : "2013-04-23T22:19:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-16890393",
      "id" : 16890393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-23T22:19:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/16890393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "This seems to cause massive issues for me on Win7 x64, I often get the message that I need to reindex because of a broken database or sometimes only ``Database I/O error``. I now removed that patch and start over to see if that is helping me.",
      "created_at" : "2013-04-25T15:47:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17015367",
      "id" : 17015367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-25T15:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17015367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo That would be bad and unexpected news. I don't see how that could cause/worsen that, but we never know of course. Can you confirm it's related to this?",
      "created_at" : "2013-04-25T22:04:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17043425",
      "id" : 17043425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-25T22:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17043425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I sent @gmaxwell a copy of my coinstate folder, with which I had the problem. Currently I'm 73 weeks behind with a client that doesn't have this patch active. After it synced without error I'll restart with this patch applied and a bootstrap (which contains 50% of the current blocks on the net) + re-sync.",
      "created_at" : "2013-04-26T08:06:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17060345",
      "id" : 17060345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-26T08:07:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17060345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "No crashes without the patch... testing with it again now.",
      "created_at" : "2013-04-26T15:07:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17079981",
      "id" : 17079981,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-26T15:07:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17079981",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Again, ``Database I/O error`` with the patch applied...\r\n``2013-04-26 16:02:19 LevelDB read failure: IO error: C:\\Users\\Diapolo\\AppData\\Roaming\\Bitcoin\\chainstate\\000223.sst: Could not create random access file.``",
      "created_at" : "2013-04-26T16:05:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17083613",
      "id" : 17083613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-26T16:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17083613",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Perhaps we should just remove that patch for Windows, as per http://msdn.microsoft.com/en-us/library/6e3b887c.aspx\r\n\r\n\"Up to 2,048 files can be open simultaneously at the lowio level (that is, opened and accessed by means of the _open, _read, _write, and so forth family of I/O functions). Up to 512 files can be open simultaneously at the stdio level (that is, opened and accessed by means of the fopen, fgetc, fputc, and so forth family of functions). The limit of 512 open files at the stdio level can be increased to a maximum of 2,048 by means of the _setmaxstdio function.\"",
      "created_at" : "2013-04-26T17:46:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17089040",
      "id" : 17089040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-26T17:47:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17089040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo I'd rather find the reason for this crash, as this patch should not have any difference at all during IBD.",
      "created_at" : "2013-04-26T18:05:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17090146",
      "id" : 17090146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-26T18:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17090146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@Diapolo Can you retry with #2580 compiled in?",
      "created_at" : "2013-04-27T00:54:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17107487",
      "id" : 17107487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-27T00:54:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17107487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Sure, I'll take a look later...",
      "created_at" : "2013-04-27T10:06:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17113710",
      "id" : 17113710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-27T10:06:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17113710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@sipa \r\n\r\nSeems the error was the same as I posted in the chat yesterday:\r\n2013-04-27 10:15:34 LevelDB read failure: IO error: C:\\Users\\Diapolo\\AppData\\Roaming\\Bitcoin\\chainstate\\000446.sst: Could not create random access file.\r\n2013-04-27 10:15:34 LevelDB error encountered: IO error: C:\\Users\\Diapolo\\AppData\\Roaming\\Bitcoin\\chainstate\\000446.sst: Could not create random access file.\r\n2013-04-27 10:15:34 *** Systemfehler: Database I/O error",
      "created_at" : "2013-04-27T10:40:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17114093",
      "id" : 17114093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-27T10:40:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17114093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo Feel like retrying with the commits in https://github.com/sipa/bitcoin/commits/win32ldberr ?",
      "created_at" : "2013-04-27T18:08:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2557#issuecomment-17120541",
      "id" : 17120541,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2557",
      "updated_at" : "2013-04-27T18:08:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17120541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
