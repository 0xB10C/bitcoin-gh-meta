[
   {
      "author_association" : "MEMBER",
      "body" : "ACK 463a1d5244337915de36db36de573eb8782bc430 - Tested building zeromq in depends inside an [Alpine container](https://github.com/fanquake/core-review/blob/master/docker/alpine.dockerfile) as well as on macOS. The changes in the `zeromq` source come from [this commit](https://github.com/zeromq/libzmq/commit/e3c73d9881180a454b654cd89b2e5b7b07e31581) . Also worth noting this wasn't an issue if you'd had the GNU `patch` installed on Alpine.\r\n\r\n```sh\r\n/bitcoin # make zeromq -C depends/\r\nmake: Entering directory '/bitcoin/depends'\r\nExtracting zeromq...\r\n/bitcoin/depends/sources/zeromq-4.3.1.tar.gz: OK\r\nPreprocessing zeromq...\r\npatching file src/windows.hpp\r\npatching file src/thread.cpp\r\nHunk 2 FAILED 323/323.\r\n #elif defined(ZMQ_HAVE_PTHREAD_SET_NAME)\r\n     pthread_set_name_np (descriptor, name_);\r\n #endif\r\n+#endif\r\n+    return;\r\n }\r\n \r\n #endif\r\nmake: *** [funcs.mk:254: /bitcoin/depends/work/build/x86_64-pc-linux-gnu/zeromq/4.3.1-41472d87c95/.stamp_preprocessed] Error 1\r\nmake: Leaving directory '/bitcoin/depends'\r\n/bitcoin # git fetch origin pull/16927/head:16927\r\nremote: Enumerating objects: 5, done.\r\nremote: Counting objects: 100% (5/5), done.\r\nremote: Total 6 (delta 5), reused 5 (delta 5), pack-reused 1\r\nUnpacking objects: 100% (6/6), done.\r\nFrom https://github.com/bitcoin/bitcoin\r\n * [new ref]             refs/pull/16927/head -> 16927\r\n/bitcoin # git checkout 16927\r\nSwitched to branch '16927'\r\n/bitcoin # make zeromq -C depends/\r\nmake: Entering directory '/bitcoin/depends'\r\nExtracting zeromq...\r\n/bitcoin/depends/sources/zeromq-4.3.1.tar.gz: OK\r\nPreprocessing zeromq...\r\npatching file src/windows.hpp\r\npatching file src/thread.cpp\r\nConfiguring zeromq...\r\nchecking for a BSD-compatible install... /usr/bin/install -c\r\n....\r\nPostprocessing zeromq...\r\nCaching zeromq...\r\nmake: Leaving directory '/bitcoin/depends'\r\n```",
      "created_at" : "2019-09-21T06:23:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16927#issuecomment-533772368",
      "id" : 533772368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16927",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMzc3MjM2OA==",
      "updated_at" : "2019-09-21T06:23:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/533772368",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
