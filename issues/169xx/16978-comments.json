[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-09-28T08:09:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#issuecomment-536164662",
      "id" : 536164662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjE2NDY2Mg==",
      "updated_at" : "2019-09-28T08:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536164662",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331235746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331235746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is this intentionally abbreviated as `SEEDR`, or should it be `SEED`/`SEEDER`?",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-03T20:24:56Z",
      "diff_hunk" : "@@ -38,9 +38,21 @@ extern FastRandomContext g_insecure_rand_ctx;\n  */\n extern bool g_mock_deterministic_tests;\n \n-static inline void SeedInsecureRand(bool deterministic = false)\n+enum class SeedRand {\n+    ZEROS, //!< Seed with a compile time constant of zeros\n+    SEEDR, //!< Call the Seed() helper",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331235746",
      "id" : 331235746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTIzNTc0Ng==",
      "original_commit_id" : "fa74667c474442c4bc03f503056b033f9d8669da",
      "original_position" : 7,
      "path" : "src/test/setup_common.h",
      "position" : null,
      "pull_request_review_id" : 297128972,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331235746",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331238415"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331238415"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Happy to change it to something else if you can find a better name",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-03T20:30:43Z",
      "diff_hunk" : "@@ -38,9 +38,21 @@ extern FastRandomContext g_insecure_rand_ctx;\n  */\n extern bool g_mock_deterministic_tests;\n \n-static inline void SeedInsecureRand(bool deterministic = false)\n+enum class SeedRand {\n+    ZEROS, //!< Seed with a compile time constant of zeros\n+    SEEDR, //!< Call the Seed() helper",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331238415",
      "id" : 331238415,
      "in_reply_to_id" : 331235746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTIzODQxNQ==",
      "original_commit_id" : "fa74667c474442c4bc03f503056b033f9d8669da",
      "original_position" : 7,
      "path" : "src/test/setup_common.h",
      "position" : null,
      "pull_request_review_id" : 297132433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331238415",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331241164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331241164"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I was thinking simply `SEED`? :)",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-03T20:37:28Z",
      "diff_hunk" : "@@ -38,9 +38,21 @@ extern FastRandomContext g_insecure_rand_ctx;\n  */\n extern bool g_mock_deterministic_tests;\n \n-static inline void SeedInsecureRand(bool deterministic = false)\n+enum class SeedRand {\n+    ZEROS, //!< Seed with a compile time constant of zeros\n+    SEEDR, //!< Call the Seed() helper",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331241164",
      "id" : 331241164,
      "in_reply_to_id" : 331235746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTI0MTE2NA==",
      "original_commit_id" : "fa74667c474442c4bc03f503056b033f9d8669da",
      "original_position" : 7,
      "path" : "src/test/setup_common.h",
      "position" : null,
      "pull_request_review_id" : 297136155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331241164",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331245146"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331245146"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed. Let's hope this doesn't conflict with any windows symbols",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-03T20:46:57Z",
      "diff_hunk" : "@@ -38,9 +38,21 @@ extern FastRandomContext g_insecure_rand_ctx;\n  */\n extern bool g_mock_deterministic_tests;\n \n-static inline void SeedInsecureRand(bool deterministic = false)\n+enum class SeedRand {\n+    ZEROS, //!< Seed with a compile time constant of zeros\n+    SEEDR, //!< Call the Seed() helper",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331245146",
      "id" : 331245146,
      "in_reply_to_id" : 331235746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTI0NTE0Ng==",
      "original_commit_id" : "fa74667c474442c4bc03f503056b033f9d8669da",
      "original_position" : 7,
      "path" : "src/test/setup_common.h",
      "position" : null,
      "pull_request_review_id" : 297141362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331245146",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331457548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331457548"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is `if (seed.IsNull())` necessary in this line? Isn't `seed` always null here?",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-04T11:32:57Z",
      "diff_hunk" : "@@ -33,6 +33,27 @@\n const std::function<std::string(const char*)> G_TRANSLATION_FUN = nullptr;\n \n FastRandomContext g_insecure_rand_ctx;\n+/** Random context to get unique temp data dirs. Separate from g_insecure_rand_ctx, which can be seeded from a const env var */\n+static FastRandomContext g_insecure_rand_ctx_temp_path;\n+\n+/** Return the unsigned from the environment var if available, otherwise 0 */\n+static uint256 GetUintFromEnv(const std::string& env_name)\n+{\n+    const char* num = std::getenv(env_name.c_str());\n+    if (!num) return {};\n+    return uint256S(num);\n+}\n+\n+void Seed(FastRandomContext& ctx)\n+{\n+    // Should be enough to get the seed once for the process\n+    static uint256 seed{};\n+    static const std::string RANDOM_CTX_SEED{\"RANDOM_CTX_SEED\"};\n+    if (seed.IsNull()) seed = GetUintFromEnv(RANDOM_CTX_SEED);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331457548",
      "id" : 331457548,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTQ1NzU0OA==",
      "original_commit_id" : "fab503d6df36ce84355c670bfa8a7e15aeab759f",
      "original_position" : 20,
      "path" : "src/test/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 297415802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331457548",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5347350?v=4",
         "events_url" : "https://api.github.com/users/davereikher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davereikher/followers",
         "following_url" : "https://api.github.com/users/davereikher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davereikher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davereikher",
         "id" : 5347350,
         "login" : "davereikher",
         "node_id" : "MDQ6VXNlcjUzNDczNTA=",
         "organizations_url" : "https://api.github.com/users/davereikher/orgs",
         "received_events_url" : "https://api.github.com/users/davereikher/received_events",
         "repos_url" : "https://api.github.com/users/davereikher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davereikher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davereikher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davereikher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331469068"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331469068"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think the `contrib/devtools/test_deterministic_coverage.sh` script will fail to detect non-deterministic coverage if the seed is fixed between runs. Isn't it the whole point of that script?\r\nTo make sure I ran a single test, `wallet_tests/coin_mark_dirty_immature_credit` 30 times using the script and I always got the same coverage.\r\nIf I'm not mistaken, the main purpose here is to log the seed, so maybe this should be changed to a random number read from /dev/random, something like\r\n`export RANDOM_CTX_SEED=$(xxd -l 32 -p /dev/urandom | tr -d \" \\n\")`\r\nAlso, for this purpose, I believe this should be moved to within the `while [[ ${TEST_RUN_ID} -lt ${N_TEST_RUNS} ]]; do` loop so that the seed will be different for each iteration.",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-04T12:09:50Z",
      "diff_hunk" : "@@ -12,6 +12,9 @@ export LC_ALL=C\n # Use GCOV_EXECUTABLE=\"llvm-cov gcov\" if compiling with clang.\n GCOV_EXECUTABLE=\"gcov\"\n \n+# Keep random seed constant over multiple runs.\n+export RANDOM_CTX_SEED=${RANDOM_CTX_SEED:-8c9678d7cde616175258686f6aaf7c2446657f40a9bc5196ba97ca21b5e3c5c4}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331469068",
      "id" : 331469068,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTQ2OTA2OA==",
      "original_commit_id" : "fab503d6df36ce84355c670bfa8a7e15aeab759f",
      "original_position" : 5,
      "path" : "contrib/devtools/test_deterministic_coverage.sh",
      "position" : null,
      "pull_request_review_id" : 297415802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331469068",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5347350?v=4",
         "events_url" : "https://api.github.com/users/davereikher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davereikher/followers",
         "following_url" : "https://api.github.com/users/davereikher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davereikher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davereikher",
         "id" : 5347350,
         "login" : "davereikher",
         "node_id" : "MDQ6VXNlcjUzNDczNTA=",
         "organizations_url" : "https://api.github.com/users/davereikher/orgs",
         "received_events_url" : "https://api.github.com/users/davereikher/received_events",
         "repos_url" : "https://api.github.com/users/davereikher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davereikher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davereikher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davereikher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331489893"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331489893"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It will be set once for the process, so (ideally) should only be null once",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-04T13:05:33Z",
      "diff_hunk" : "@@ -33,6 +33,27 @@\n const std::function<std::string(const char*)> G_TRANSLATION_FUN = nullptr;\n \n FastRandomContext g_insecure_rand_ctx;\n+/** Random context to get unique temp data dirs. Separate from g_insecure_rand_ctx, which can be seeded from a const env var */\n+static FastRandomContext g_insecure_rand_ctx_temp_path;\n+\n+/** Return the unsigned from the environment var if available, otherwise 0 */\n+static uint256 GetUintFromEnv(const std::string& env_name)\n+{\n+    const char* num = std::getenv(env_name.c_str());\n+    if (!num) return {};\n+    return uint256S(num);\n+}\n+\n+void Seed(FastRandomContext& ctx)\n+{\n+    // Should be enough to get the seed once for the process\n+    static uint256 seed{};\n+    static const std::string RANDOM_CTX_SEED{\"RANDOM_CTX_SEED\"};\n+    if (seed.IsNull()) seed = GetUintFromEnv(RANDOM_CTX_SEED);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331489893",
      "id" : 331489893,
      "in_reply_to_id" : 331457548,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTQ4OTg5Mw==",
      "original_commit_id" : "fab503d6df36ce84355c670bfa8a7e15aeab759f",
      "original_position" : 20,
      "path" : "src/test/setup_common.cpp",
      "position" : 20,
      "pull_request_review_id" : 297458860,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:15:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331489893",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331494657"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331494657"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, switched to `xxd -l 32 -p /dev/urandom | tr -d \" \\n\"`",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-04T13:16:16Z",
      "diff_hunk" : "@@ -12,6 +12,9 @@ export LC_ALL=C\n # Use GCOV_EXECUTABLE=\"llvm-cov gcov\" if compiling with clang.\n GCOV_EXECUTABLE=\"gcov\"\n \n+# Keep random seed constant over multiple runs.\n+export RANDOM_CTX_SEED=${RANDOM_CTX_SEED:-8c9678d7cde616175258686f6aaf7c2446657f40a9bc5196ba97ca21b5e3c5c4}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331494657",
      "id" : 331494657,
      "in_reply_to_id" : 331469068,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTQ5NDY1Nw==",
      "original_commit_id" : "fab503d6df36ce84355c670bfa8a7e15aeab759f",
      "original_position" : 5,
      "path" : "contrib/devtools/test_deterministic_coverage.sh",
      "position" : null,
      "pull_request_review_id" : 297465249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-04T13:16:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331494657",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressed feedback by @davereikher ",
      "created_at" : "2019-10-04T13:16:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#issuecomment-538392446",
      "id" : 538392446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16978",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzODM5MjQ0Ng==",
      "updated_at" : "2019-10-04T13:16:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/538392446",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331532273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331532273"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This makes the seed different between subsequent runs of the script, but the script will still show deterministic coverage each time it runs, since the seed doesn't change between iterations within the script, so this line should be moved down into this loop:\r\nhttps://github.com/bitcoin/bitcoin/blob/faad0e8e4d61dfb115331c18e68adffb2b3ee471/contrib/devtools/test_deterministic_coverage.sh#L106\r\n",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-04T14:30:55Z",
      "diff_hunk" : "@@ -12,6 +12,9 @@ export LC_ALL=C\n # Use GCOV_EXECUTABLE=\"llvm-cov gcov\" if compiling with clang.\n GCOV_EXECUTABLE=\"gcov\"\n \n+# Keep random seed constant over multiple runs.\n+export RANDOM_CTX_SEED=${RANDOM_CTX_SEED:-$(xxd -l 32 -p /dev/urandom | tr -d \" \\n\")}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r331532273",
      "id" : 331532273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMTUzMjI3Mw==",
      "original_commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "original_position" : 5,
      "path" : "contrib/devtools/test_deterministic_coverage.sh",
      "position" : 5,
      "pull_request_review_id" : 297514783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-05T09:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/331532273",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/5347350?v=4",
         "events_url" : "https://api.github.com/users/davereikher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davereikher/followers",
         "following_url" : "https://api.github.com/users/davereikher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davereikher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davereikher",
         "id" : 5347350,
         "login" : "davereikher",
         "node_id" : "MDQ6VXNlcjUzNDczNTA=",
         "organizations_url" : "https://api.github.com/users/davereikher/orgs",
         "received_events_url" : "https://api.github.com/users/davereikher/received_events",
         "repos_url" : "https://api.github.com/users/davereikher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davereikher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davereikher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davereikher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r332151131"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332151131"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Huh? If you change the seed between runs and then compare the results of those runs, you are pretty much guaranteed to get non-deterministic coverage. I think this test should check for non-determinism across runs, assuming everything kept constant. That is, it should act as a proxy to be able to answer the question \"How reliable can test failures be reproduced\".",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-07T17:45:57Z",
      "diff_hunk" : "@@ -12,6 +12,9 @@ export LC_ALL=C\n # Use GCOV_EXECUTABLE=\"llvm-cov gcov\" if compiling with clang.\n GCOV_EXECUTABLE=\"gcov\"\n \n+# Keep random seed constant over multiple runs.\n+export RANDOM_CTX_SEED=${RANDOM_CTX_SEED:-$(xxd -l 32 -p /dev/urandom | tr -d \" \\n\")}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r332151131",
      "id" : 332151131,
      "in_reply_to_id" : 331532273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE1MTEzMQ==",
      "original_commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "original_position" : 5,
      "path" : "contrib/devtools/test_deterministic_coverage.sh",
      "position" : 5,
      "pull_request_review_id" : 298299866,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-07T17:45:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332151131",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r332152736"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332152736"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you are looking for the test to answer the question \"How deterministic is coverage across runs\", which is also a useful question to ask. Not sure how to accommodate both. ",
      "commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "created_at" : "2019-10-07T17:49:31Z",
      "diff_hunk" : "@@ -12,6 +12,9 @@ export LC_ALL=C\n # Use GCOV_EXECUTABLE=\"llvm-cov gcov\" if compiling with clang.\n GCOV_EXECUTABLE=\"gcov\"\n \n+# Keep random seed constant over multiple runs.\n+export RANDOM_CTX_SEED=${RANDOM_CTX_SEED:-$(xxd -l 32 -p /dev/urandom | tr -d \" \\n\")}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16978#discussion_r332152736",
      "id" : 332152736,
      "in_reply_to_id" : 331532273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzMjE1MjczNg==",
      "original_commit_id" : "faad0e8e4d61dfb115331c18e68adffb2b3ee471",
      "original_position" : 5,
      "path" : "contrib/devtools/test_deterministic_coverage.sh",
      "position" : 5,
      "pull_request_review_id" : 298301954,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16978",
      "updated_at" : "2019-10-07T17:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/332152736",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
