[
   {
      "author_association" : "MEMBER",
      "body" : "Only 48 IPv6 seeds might be slightly concerning, dunno. It looks like they're nearly all eliminated in the ASN filer step (introduced in #15840).",
      "created_at" : "2019-09-30T17:32:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536666493",
      "id" : 536666493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjY2NjQ5Mw==",
      "updated_at" : "2019-09-30T17:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536666493",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The script output table might be easier to read if you put the numbers first (ideally padded). The suspicious hosts check removes suspiciously few entries :-)\r\n\r\nCan you print a breakdown of the IPv6 ASNs and node count?",
      "created_at" : "2019-09-30T19:36:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536718096",
      "id" : 536718096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjcxODA5Ng==",
      "updated_at" : "2019-09-30T19:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536718096",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The suspicious hosts check removes suspiciously few entries :-)\r\n\r\nYea, only 16 \"suspicious hosts\" are defined in the script, which were added a long time ago. TBH I don't really think it makes much sense to maintain such a list in the repository (would make sense to pass it in as an external file, I think).\r\n\r\n(But, this is not the time for a large discussion about this script, that can be done at any time between releases, the point now is to get a list of nodes that is acceptable for merge and is at least more recent than the current one that was last updated for 0.17)\r\n\r\n> Can you print a breakdown of the IPv6 ASNs and node count?\r\n\r\nWill have a look at that later.",
      "created_at" : "2019-10-01T05:19:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536869449",
      "id" : 536869449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjg2OTQ0OQ==",
      "updated_at" : "2019-10-01T09:41:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536869449",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It looks like the problem is not the ASN sifting itself, but the way the limiting works. There used to be a limit of 512 IPv4 peers, and no limit on IPv6 or Tor peers (because there are only so few of the latter). However the PR to include the IPv6 addresses in the ASN sifting also included them in the 512 limit. It's split more or less according to how many IPv4/IPv6 there are.\r\n\r\nWill make limits per-network instead.",
      "created_at" : "2019-10-01T09:00:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536940782",
      "id" : 536940782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjk0MDc4Mg==",
      "updated_at" : "2019-10-01T09:29:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536940782",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks better now:\r\n```\r\n  IPv4   IPv6  Onion Pass                                               \r\n418690  55861   2747 Initial\r\n418690  55861   2747 Skip entries with invalid address\r\n410342  54085   2718 After removing duplicates\r\n410341  54085   2718 Skip entries from suspicious hosts\r\n107151  46381   2622 Enforce minimal number of blocks\r\n106814  46278   2543 Require service bit 1\r\n  5381   1166    202 Require minimum uptime\r\n  4690   1068    141 Require a known and recent user agent\r\n  4655   1062    141 Filter out hosts with multiple bitcoin ports\r\n   512    110    141 Look up ASNs and limit results per ASN and per net\r\n```",
      "created_at" : "2019-10-01T09:40:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536956626",
      "id" : 536956626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjk1NjYyNg==",
      "updated_at" : "2019-10-01T09:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536956626",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A max of 2 seeds per ASN seems a bit strict. E.g. AS33915 contains all Dutch Vodafone mobile (not reachable) and Ziggo cable users (long living IP). It's fine for IPv4 because we still get the max of 512 for that net.\r\n\r\nMaybe make it 10 for IPv6? The odds of randomly connecting to two nodes on the same ASN still seems negligible.\r\n\r\nShould we bump `MIN_BLOCKS` as well?",
      "created_at" : "2019-10-01T11:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536999544",
      "id" : 536999544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjk5OTU0NA==",
      "updated_at" : "2019-10-01T11:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536999544",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe make it 10 for IPv6? The odds of randomly connecting to two nodes on the same ASN still seems negligible\r\n> Should we bump MIN_BLOCKS as well?\r\n\r\nAll good suggestions, but I'd say, post-0.19. I've already had to do much more maintenance of this script than intended just before a release.",
      "created_at" : "2019-10-01T12:18:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537009418",
      "id" : 537009418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16999",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzAwOTQxOA==",
      "updated_at" : "2019-10-01T12:19:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537009418",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
